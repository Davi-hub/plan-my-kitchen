(self.webpackChunkplan_my_kitchen=self.webpackChunkplan_my_kitchen||[]).push([[179],{579:(yr,Xr,Gt)=>{"use strict";function It(n){return"function"==typeof n}function Jn(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Gi=Jn(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function _i(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ee{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const a of e)a.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(It(i))try{i()}catch(a){t=a instanceof Gi?a.errors:[a]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const a of s)try{te(a)}catch(h){t=t??[],h instanceof Gi?t=[...t,...h.errors]:t.push(h)}}if(t)throw new Gi(t)}}add(t){var e;if(t&&t!==this)if(this.closed)te(t);else{if(t instanceof Ee){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_i(e,t)}remove(t){const{_finalizers:e}=this;e&&_i(e,t),t instanceof Ee&&t._removeParent(this)}}Ee.EMPTY=(()=>{const n=new Ee;return n.closed=!0,n})();const Me=Ee.EMPTY;function Dt(n){return n instanceof Ee||n&&"closed"in n&&It(n.remove)&&It(n.add)&&It(n.unsubscribe)}function te(n){It(n)?n():n.unsubscribe()}const re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},li={setTimeout(n,t,...e){const{delegate:i}=li;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=li;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kn(n){li.setTimeout(()=>{const{onUnhandledError:t}=re;if(!t)throw n;t(n)})}function En(){}const yn=ae("C",void 0,void 0);function ae(n,t,e){return{kind:n,value:t,error:e}}let se=null;function Ze(n){if(re.useDeprecatedSynchronousErrorHandling){const t=!se;if(t&&(se={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=se;if(se=null,e)throw i}}else n()}class Z extends Ee{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Dt(t)&&t.add(this)):this.destination=Ln}static create(t,e,i){return new hn(t,e,i)}next(t){this.isStopped?Un(function gt(n){return ae("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Un(function Ue(n){return ae("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Un(yn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Zt(n,t){return nt.call(n,t)}class ft{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){lt(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){lt(i)}else lt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){lt(e)}}}class hn extends Z{constructor(t,e,i){let s;if(super(),It(t)||!t)s={next:t??void 0,error:e??void 0,complete:i??void 0};else{let a;this&&re.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&Zt(t.next,a),error:t.error&&Zt(t.error,a),complete:t.complete&&Zt(t.complete,a)}):s=t}this.destination=new ft(s)}}function lt(n){re.useDeprecatedSynchronousErrorHandling?function Ae(n){re.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=n)}(n):kn(n)}function Un(n,t){const{onStoppedNotification:e}=re;e&&li.setTimeout(()=>e(n,t))}const Ln={closed:!0,next:En,error:function tt(n){throw n},complete:En},Dn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rn(n){return n}function mn(n){return 0===n.length?Rn:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}let Oe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const a=function Pe(n){return n&&n instanceof Z||function Fe(n){return n&&It(n.next)&&It(n.error)&&It(n.complete)}(n)&&Dt(n)}(e)?e:new hn(e,i,s);return Ze(()=>{const{operator:h,source:p}=this;a.add(h?h.call(a,p):p?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=at(i))((s,a)=>{const h=new hn({next:p=>{try{e(p)}catch(y){a(y),h.unsubscribe()}},error:a,complete:s});this.subscribe(h)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Dn](){return this}pipe(...e){return mn(e)(this)}toPromise(e){return new(e=at(e))((i,s)=>{let a;this.subscribe(h=>a=h,h=>s(h),()=>i(a))})}}return n.create=t=>new n(t),n})();function at(n){var t;return null!==(t=n??re.Promise)&&void 0!==t?t:Promise}const Bn=Jn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $e=(()=>{class n extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new yt(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Bn}next(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:s,observers:a}=this;return i||s?Me:(this.currentObservers=null,a.push(e),new Ee(()=>{this.currentObservers=null,_i(a,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:s,isStopped:a}=this;i?e.error(s):a&&e.complete()}asObservable(){const e=new Oe;return e.source=this,e}}return n.create=(t,e)=>new yt(t,e),n})();class yt extends $e{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Me}}function vi(n){return It(n?.lift)}function dn(n){return t=>{if(vi(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ut(n,t,e,i,s){return new Li(n,t,e,i,s)}class Li extends Z{constructor(t,e,i,s,a,h){super(t),this.onFinalize=a,this.shouldUnsubscribe=h,this._next=e?function(p){try{e(p)}catch(y){t.error(y)}}:super._next,this._error=s?function(p){try{s(p)}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ye(n,t){return dn((e,i)=>{let s=0;e.subscribe(Ut(i,a=>{i.next(n.call(t,a,s++))}))})}function l(n){return this instanceof l?(this.v=n,this):new l(n)}function u(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Kt(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(a){e[a]=n[a]&&function(h){return new Promise(function(p,y){!function s(a,h,p,y){Promise.resolve(y).then(function(T){a({value:T,done:p})},h)}(p,y,(h=n[a](h)).done,h.value)})}}}const x=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function w(n){return It(n?.then)}function C(n){return It(n[Dn])}function D(n){return Symbol.asyncIterator&&It(n?.[Symbol.asyncIterator])}function R(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const P=function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I(n){return It(n?.[P])}function E(n){return function r(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=e.apply(n,t||[]),a=[];return s={},h("next"),h("throw"),h("return"),s[Symbol.asyncIterator]=function(){return this},s;function h(Y){i[Y]&&(s[Y]=function(Q){return new Promise(function(ie,le){a.push([Y,Q,ie,le])>1||p(Y,Q)})})}function p(Y,Q){try{!function y(Y){Y.value instanceof l?Promise.resolve(Y.value.v).then(T,F):z(a[0][2],Y)}(i[Y](Q))}catch(ie){z(a[0][3],ie)}}function T(Y){p("next",Y)}function F(Y){p("throw",Y)}function z(Y,Q){Y(Q),a.shift(),a.length&&p(a[0][0],a[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:s}=yield l(e.read());if(s)return yield l(void 0);yield yield l(i)}}finally{e.releaseLock()}})}function S(n){return It(n?.getReader)}function A(n){if(n instanceof Oe)return n;if(null!=n){if(C(n))return function O(n){return new Oe(t=>{const e=n[Dn]();if(It(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(x(n))return function L(n){return new Oe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(w(n))return function N(n){return new Oe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,kn)})}(n);if(D(n))return V(n);if(I(n))return function B(n){return new Oe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(S(n))return function H(n){return V(E(n))}(n)}throw R(n)}function V(n){return new Oe(t=>{(function G(n,t){var e,i,s,a;return function qs(n,t,e,i){return new(e||(e=Promise))(function(a,h){function p(F){try{T(i.next(F))}catch(z){h(z)}}function y(F){try{T(i.throw(F))}catch(z){h(z)}}function T(F){F.done?a(F.value):function s(a){return a instanceof e?a:new e(function(h){h(a)})}(F.value).then(p,y)}T((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=u(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(h){s={error:h}}finally{try{i&&!i.done&&(a=e.return)&&(yield a.call(e))}finally{if(s)throw s.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function U(n,t,e,i=0,s=!1){const a=t.schedule(function(){e(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(a),!s)return a}function q(n,t,e=1/0){return It(t)?q((i,s)=>Ye((a,h)=>t(i,a,s,h))(A(n(i,s))),e):("number"==typeof t&&(e=t),dn((i,s)=>function $(n,t,e,i,s,a,h,p){const y=[];let T=0,F=0,z=!1;const Y=()=>{z&&!y.length&&!T&&t.complete()},Q=le=>T<i?ie(le):y.push(le),ie=le=>{a&&t.next(le),T++;let me=!1;A(e(le,F++)).subscribe(Ut(t,Ce=>{s?.(Ce),a?Q(Ce):t.next(Ce)},()=>{me=!0},void 0,()=>{if(me)try{for(T--;y.length&&T<i;){const Ce=y.shift();h?U(t,h,()=>ie(Ce)):ie(Ce)}Y()}catch(Ce){t.error(Ce)}}))};return n.subscribe(Ut(t,Q,()=>{z=!0,Y()})),()=>{p?.()}}(i,s,n,e)))}function K(n=1/0){return q(Rn,n)}const X=new Oe(n=>n.complete());function fe(n){return n&&It(n.schedule)}function ve(n){return n[n.length-1]}function _e(n){return It(ve(n))?n.pop():void 0}function he(n){return fe(ve(n))?n.pop():void 0}function ce(n,t=0){return dn((e,i)=>{e.subscribe(Ut(i,s=>U(i,n,()=>i.next(s),t),()=>U(i,n,()=>i.complete(),t),s=>U(i,n,()=>i.error(s),t)))})}function be(n,t=0){return dn((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function He(n,t){if(!n)throw new Error("Iterable cannot be null");return new Oe(e=>{U(e,t,()=>{const i=n[Symbol.asyncIterator]();U(e,t,()=>{i.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function ct(n,t){return t?function Vt(n,t){if(null!=n){if(C(n))return function De(n,t){return A(n).pipe(be(t),ce(t))}(n,t);if(x(n))return function Ne(n,t){return new Oe(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(w(n))return function ke(n,t){return A(n).pipe(be(t),ce(t))}(n,t);if(D(n))return He(n,t);if(I(n))return function ze(n,t){return new Oe(e=>{let i;return U(e,t,()=>{i=n[P](),U(e,t,()=>{let s,a;try{({value:s,done:a}=i.next())}catch(h){return void e.error(h)}a?e.complete():e.next(s)},0,!0)}),()=>It(i?.return)&&i.return()})}(n,t);if(S(n))return function Je(n,t){return He(E(n),t)}(n,t)}throw R(n)}(n,t):A(n)}function xt(...n){const t=he(n),e=function de(n,t){return"number"==typeof ve(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?A(i[0]):K(e)(ct(i,t)):X}function pt(n={}){const{connector:t=(()=>new $e),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return a=>{let h,p,y,T=0,F=!1,z=!1;const Y=()=>{p?.unsubscribe(),p=void 0},Q=()=>{Y(),h=y=void 0,F=z=!1},ie=()=>{const le=h;Q(),le?.unsubscribe()};return dn((le,me)=>{T++,!z&&!F&&Y();const Ce=y=y??t();me.add(()=>{T--,0===T&&!z&&!F&&(p=ht(ie,s))}),Ce.subscribe(me),!h&&T>0&&(h=new hn({next:Be=>Ce.next(Be),error:Be=>{z=!0,Y(),p=ht(Q,e,Be),Ce.error(Be)},complete:()=>{F=!0,Y(),p=ht(Q,i),Ce.complete()}}),A(le).subscribe(h))})(a)}}function ht(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new hn({next:()=>{i.unsubscribe(),n()}});return A(t(...e)).subscribe(i)}function it(n){for(let t in n)if(n[t]===it)return t;throw Error("Could not find renamed property on target object.")}function Ht(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function On(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const $n=it({__forward_ref__:it});function Cn(n){return n.__forward_ref__=Cn,n.toString=function(){return Le(this())},n}function qe(n){return ln(n)?n():n}function ln(n){return"function"==typeof n&&n.hasOwnProperty($n)&&n.__forward_ref__===Cn}function Nn(n){return n&&!!n.\u0275providers}const _="https://g.co/ng/security#xss";class M extends Error{constructor(t,e){super(j(t,e)),this.code=t}}function j(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}function W(n){return"string"==typeof n?n:null==n?"":String(n)}function je(n,t){throw new M(-201,!1)}function ei(n,t){null==n&&function on(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Ge(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ea(n){return Zl(n,Qr)||Zl(n,Kl)}function Zl(n,t){return n.hasOwnProperty(t)?n[t]:null}function fu(n){return n&&(n.hasOwnProperty(pu)||n.hasOwnProperty(Yl))?n[pu]:null}const Qr=it({\u0275prov:it}),pu=it({\u0275inj:it}),Kl=it({ngInjectableDef:it}),Yl=it({ngInjectorDef:it});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let gu;function zi(n){const t=gu;return gu=n,t}function Xl(n,t,e){const i=ea(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&dt.Optional?null:void 0!==t?t:void je(Le(n))}const wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ws={},Lr="__NG_DI_FLAG__",Co="ngTempTokenPath",ti="ngTokenPath",Pd=/\n/gm,vu="\u0275",ws="__source";let xo;function Gs(n){const t=xo;return xo=n,t}function kd(n,t=dt.Default){if(void 0===xo)throw new M(-203,!1);return null===xo?Xl(n,void 0,t):xo.get(n,t&dt.Optional?null:void 0,t)}function xe(n,t=dt.Default){return(function Td(){return gu}()||kd)(qe(n),t)}function Rt(n,t=dt.Default){return xe(n,ta(t))}function ta(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yu(n){const t=[];for(let e=0;e<n.length;e++){const i=qe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new M(900,!1);let s,a=dt.Default;for(let h=0;h<i.length;h++){const p=i[h],y=Cs(p);"number"==typeof y?-1===y?s=p.token:a|=y:s=p}t.push(xe(s,a))}else t.push(xe(i))}return t}function So(n,t){return n[Lr]=t,n.prototype[Lr]=t,n}function Cs(n){return n[Lr]}function Hi(n){return{toString:n}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),Ki=(()=>{return(n=Ki||(Ki={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ki;var n})();const Br={},Yt=[],Vr=it({\u0275cmp:it}),na=it({\u0275dir:it}),ia=it({\u0275pipe:it}),Xt=it({\u0275mod:it}),nr=it({\u0275fac:it}),Zs=it({__NG_ELEMENT_ID__:it});let ec=0;function gn(n){return Hi(()=>{const t=Ys(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ki.Emulated,id:"c"+ec++,styles:n.styles||Yt,_:null,schemas:n.schemas||null,tView:null};Xs(e);const i=n.dependencies;return e.directiveDefs=Qs(i,!1),e.pipeDefs=Qs(i,!0),e})}function Nt(n){return Jt(n)||bi(n)}function bu(n){return null!==n}function Ft(n){return Hi(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function es(n,t){if(null==n)return Br;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],a=s;Array.isArray(s)&&(a=s[1],s=s[0]),e[s]=i,t&&(t[s]=a)}return e}function Tt(n){return Hi(()=>{const t=Ys(n);return Xs(t),t})}function Fn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Jt(n){return n[Vr]||null}function bi(n){return n[na]||null}function wi(n){return n[ia]||null}function Tn(n,t){const e=n[Xt]||null;if(!e&&!0===t)throw new Error(`Type ${Le(n)} does not have '\u0275mod' property.`);return e}function Ys(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:es(n.inputs,t),outputs:es(n.outputs)}}function Xs(n){n.features?.forEach(t=>t(n))}function Qs(n,t){if(!n)return null;const e=t?wi:Nt;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(bu)}const xr=0,Qe=1,ut=2,xn=3,ir=4,xs=5,ii=6,ts=7,Vn=8,ns=9,Js=10,Lt=11,wu=12,eo=13,sa=14,is=15,An=16,ne=17,oe=18,ge=19,Se=20,mt=21,Ke=22,en=1,Yi=2,Sr=7,to=8,zr=9,Ei=10;function rr(n){return Array.isArray(n)&&"object"==typeof n[en]}function Hr(n){return Array.isArray(n)&&!0===n[en]}function Rd(n){return 0!=(4&n.flags)}function Cu(n){return n.componentOffset>-1}function tc(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function US(n){return 0!=(256&n[ut])}function Eo(n,t){return n.hasOwnProperty(nr)?n[nr]:null}class WS{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Do(){return e_}function e_(n){return n.type.prototype.ngOnChanges&&(n.setInput=ZS),GS}function GS(){const n=n_(this),t=n?.current;if(t){const e=n.previous;if(e===Br)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function ZS(n,t,e,i){const s=this.declaredInputs[e],a=n_(n)||function KS(n,t){return n[t_]=t}(n,{previous:Br,current:null}),h=a.current||(a.current={}),p=a.previous,y=p[s];h[s]=new WS(y&&y.currentValue,t,p===Br),n[i]=t}Do.ngInherit=!0;const t_="__ngSimpleChanges__";function n_(n){return n[t_]||null}const Er=function(n,t,e){},i_="svg";function Di(n){for(;Array.isArray(n);)n=n[xr];return n}function nc(n,t){return Di(t[n])}function sr(n,t){return Di(t[n.index])}function s_(n,t){return n.data[t]}function oa(n,t){return n[t]}function or(n,t){const e=t[n];return rr(e)?e:e[xr]}function ic(n){return 64==(64&n[ut])}function no(n,t){return null==t?null:n[t]}function o_(n){n[oe]=0}function Nd(n,t){n[xs]+=t;let e=n,i=n[xn];for(;null!==i&&(1===t&&1===e[xs]||-1===t&&0===e[xs]);)i[xs]+=t,e=i,i=i[xn]}const At={lFrame:m_(null),bindingsEnabled:!0};function u_(){return At.bindingsEnabled}function Te(){return At.lFrame.lView}function tn(){return At.lFrame.tView}function Kn(n){return At.lFrame.contextLView=n,n[Vn]}function Yn(n){return At.lFrame.contextLView=null,n}function Ii(){let n=l_();for(;null!==n&&64===n.type;)n=n.parent;return n}function l_(){return At.lFrame.currentTNode}function rs(n,t){const e=At.lFrame;e.currentTNode=n,e.isParent=t}function Fd(){return At.lFrame.isParent}function Ld(){At.lFrame.isParent=!1}function ji(){const n=At.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function aa(){return At.lFrame.bindingIndex++}function Es(n){const t=At.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function uE(n,t){const e=At.lFrame;e.bindingIndex=e.bindingRootIndex=n,Bd(t)}function Bd(n){At.lFrame.currentDirectiveIndex=n}function f_(){return At.lFrame.currentQueryIndex}function zd(n){At.lFrame.currentQueryIndex=n}function cE(n){const t=n[Qe];return 2===t.type?t.declTNode:1===t.type?n[ii]:null}function p_(n,t,e){if(e&dt.SkipSelf){let s=t,a=n;for(;!(s=s.parent,null!==s||e&dt.Host||(s=cE(a),null===s||(a=a[is],10&s.type))););if(null===s)return!1;t=s,n=a}const i=At.lFrame=g_();return i.currentTNode=t,i.lView=n,!0}function Hd(n){const t=g_(),e=n[Qe];At.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function g_(){const n=At.lFrame,t=null===n?null:n.child;return null===t?m_(n):t}function m_(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function __(){const n=At.lFrame;return At.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const v_=__;function jd(){const n=__();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ui(){return At.lFrame.selectedIndex}function Io(n){At.lFrame.selectedIndex=n}function zn(){const n=At.lFrame;return s_(n.tView,n.selectedIndex)}function $i(){At.lFrame.currentNamespace=i_}function Su(){!function pE(){At.lFrame.currentNamespace=null}()}function rc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const a=n.data[e].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:p,ngAfterViewInit:y,ngAfterViewChecked:T,ngOnDestroy:F}=a;h&&(n.contentHooks||(n.contentHooks=[])).push(-e,h),p&&((n.contentHooks||(n.contentHooks=[])).push(e,p),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,p)),y&&(n.viewHooks||(n.viewHooks=[])).push(-e,y),T&&((n.viewHooks||(n.viewHooks=[])).push(e,T),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,T)),null!=F&&(n.destroyHooks||(n.destroyHooks=[])).push(e,F)}}function sc(n,t,e){y_(n,t,3,e)}function oc(n,t,e,i){(3&n[ut])===e&&y_(n,t,e,i)}function Ud(n,t){let e=n[ut];(3&e)===t&&(e&=2047,e+=1,n[ut]=e)}function y_(n,t,e,i){const a=i??-1,h=t.length-1;let p=0;for(let y=void 0!==i?65535&n[oe]:0;y<h;y++)if("number"==typeof t[y+1]){if(p=t[y],null!=i&&p>=i)break}else t[y]<0&&(n[oe]+=65536),(p<a||-1==a)&&(_E(n,e,t,y),n[oe]=(4294901760&n[oe])+y+2),y++}function _E(n,t,e,i){const s=e[i]<0,a=e[i+1],p=n[s?-e[i]:e[i]];if(s){if(n[ut]>>11<n[oe]>>16&&(3&n[ut])===t){n[ut]+=2048,Er(4,p,a);try{a.call(p)}finally{Er(5,p,a)}}}else{Er(4,p,a);try{a.call(p)}finally{Er(5,p,a)}}}const ua=-1;class Eu{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function qd(n,t,e){let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const a=e[i++],h=e[i++],p=e[i++];n.setAttribute(t,h,p,a)}else{const a=s,h=e[++i];w_(a)?n.setProperty(t,a,h):n.setAttribute(t,a,h),i++}}return i}function b_(n){return 3===n||4===n||6===n}function w_(n){return 64===n.charCodeAt(0)}function Du(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||C_(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function C_(n,t,e,i,s){let a=0,h=n.length;if(-1===t)h=-1;else for(;a<n.length;){const p=n[a++];if("number"==typeof p){if(p===t){h=-1;break}if(p>t){h=a-1;break}}}for(;a<n.length;){const p=n[a];if("number"==typeof p)break;if(p===e){if(null===i)return void(null!==s&&(n[a+1]=s));if(i===n[a+1])return void(n[a+2]=s)}a++,null!==i&&a++,null!==s&&a++}-1!==h&&(n.splice(h,0,t),a=h+1),n.splice(a++,0,e),null!==i&&n.splice(a++,0,i),null!==s&&n.splice(a++,0,s)}function x_(n){return n!==ua}function ac(n){return 32767&n}function uc(n,t){let e=function wE(n){return n>>16}(n),i=t;for(;e>0;)i=i[is],e--;return i}let Wd=!0;function lc(n){const t=Wd;return Wd=n,t}const S_=255,E_=5;let CE=0;const ss={};function cc(n,t){const e=D_(n,t);if(-1!==e)return e;const i=t[Qe];i.firstCreatePass&&(n.injectorIndex=t.length,Gd(i.data,n),Gd(t,null),Gd(i.blueprint,null));const s=Zd(n,t),a=n.injectorIndex;if(x_(s)){const h=ac(s),p=uc(s,t),y=p[Qe].data;for(let T=0;T<8;T++)t[a+T]=p[h+T]|y[h+T]}return t[a+8]=s,a}function Gd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function D_(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Zd(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){if(i=R_(s),null===i)return ua;if(e++,s=s[is],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return ua}function Kd(n,t,e){!function xE(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Zs)&&(i=e[Zs]),null==i&&(i=e[Zs]=CE++);const s=i&S_;t.data[n+(s>>E_)]|=1<<s}(n,t,e)}function I_(n,t,e){if(e&dt.Optional||void 0!==n)return n;je()}function M_(n,t,e,i){if(e&dt.Optional&&void 0===i&&(i=null),!(e&(dt.Self|dt.Host))){const s=n[ns],a=zi(void 0);try{return s?s.get(t,i,e&dt.Optional):Xl(t,i,e&dt.Optional)}finally{zi(a)}}return I_(i,0,e)}function T_(n,t,e,i=dt.Default,s){if(null!==n){if(1024&t[ut]){const h=function ME(n,t,e,i,s){let a=n,h=t;for(;null!==a&&null!==h&&1024&h[ut]&&!(256&h[ut]);){const p=A_(a,h,e,i|dt.Self,ss);if(p!==ss)return p;let y=a.parent;if(!y){const T=h[mt];if(T){const F=T.get(e,ss,i);if(F!==ss)return F}y=R_(h),h=h[is]}a=y}return s}(n,t,e,i,ss);if(h!==ss)return h}const a=A_(n,t,e,i,ss);if(a!==ss)return a}return M_(t,e,i,s)}function A_(n,t,e,i,s){const a=function DE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Zs)?n[Zs]:void 0;return"number"==typeof t?t>=0?t&S_:IE:t}(e);if("function"==typeof a){if(!p_(t,n,i))return i&dt.Host?I_(s,0,i):M_(t,e,i,s);try{const h=a(i);if(null!=h||i&dt.Optional)return h;je()}finally{v_()}}else if("number"==typeof a){let h=null,p=D_(n,t),y=ua,T=i&dt.Host?t[An][ii]:null;for((-1===p||i&dt.SkipSelf)&&(y=-1===p?Zd(n,t):t[p+8],y!==ua&&k_(i,!1)?(h=t[Qe],p=ac(y),t=uc(y,t)):p=-1);-1!==p;){const F=t[Qe];if(P_(a,p,F.data)){const z=EE(p,t,e,h,i,T);if(z!==ss)return z}y=t[p+8],y!==ua&&k_(i,t[Qe].data[p+8]===T)&&P_(a,p,t)?(h=F,p=ac(y),t=uc(y,t)):p=-1}}return s}function EE(n,t,e,i,s,a){const h=t[Qe],p=h.data[n+8],F=hc(p,h,e,null==i?Cu(p)&&Wd:i!=h&&0!=(3&p.type),s&dt.Host&&a===p);return null!==F?Mo(t,h,F,p):ss}function hc(n,t,e,i,s){const a=n.providerIndexes,h=t.data,p=1048575&a,y=n.directiveStart,F=a>>20,Y=s?p+F:n.directiveEnd;for(let Q=i?p:p+F;Q<Y;Q++){const ie=h[Q];if(Q<y&&e===ie||Q>=y&&ie.type===e)return Q}if(s){const Q=h[y];if(Q&&jr(Q)&&Q.type===e)return y}return null}function Mo(n,t,e,i){let s=n[e];const a=t.data;if(function vE(n){return n instanceof Eu}(s)){const h=s;h.resolving&&function pe(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new M(-200,`Circular dependency in DI detected for ${n}${e}`)}(function J(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():W(n)}(a[e]));const p=lc(h.canSeeViewProviders);h.resolving=!0;const y=h.injectImpl?zi(h.injectImpl):null;p_(n,i,dt.Default);try{s=n[e]=h.factory(void 0,a,n,i),t.firstCreatePass&&e>=i.directiveStart&&function mE(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:a}=t.type.prototype;if(i){const h=e_(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,h),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,h)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),a&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a))}(e,a[e],t)}finally{null!==y&&zi(y),lc(p),h.resolving=!1,v_()}}return s}function P_(n,t,e){return!!(e[t+(n>>E_)]&1<<n)}function k_(n,t){return!(n&dt.Self||n&dt.Host&&t)}class la{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return T_(this._tNode,this._lView,t,ta(i),e)}}function IE(){return new la(Ii(),Te())}function dc(n){return Hi(()=>{const t=n.prototype.constructor,e=t[nr]||Yd(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const a=s[nr]||Yd(s);if(a&&a!==e)return a;s=Object.getPrototypeOf(s)}return a=>new a})}function Yd(n){return ln(n)?()=>{const t=Yd(qe(n));return t&&t()}:Eo(n)}function R_(n){const t=n[Qe],e=t.type;return 2===e?t.declTNode:1===e?n[ii]:null}const ha="__parameters__";function fa(n,t,e){return Hi(()=>{const i=function Xd(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...a){if(this instanceof s)return i.apply(this,a),this;const h=new s(...a);return p.annotation=h,p;function p(y,T,F){const z=y.hasOwnProperty(ha)?y[ha]:Object.defineProperty(y,ha,{value:[]})[ha];for(;z.length<=F;)z.push(null);return(z[F]=z[F]||[]).push(h),y}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class We{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ge({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function To(n,t){n.forEach(e=>Array.isArray(e)?To(e,t):t(e))}function N_(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function fc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Au(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ar(n,t,e){let i=pa(n,t);return i>=0?n[1|i]=e:(i=~i,function kE(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Jd(n,t){const e=pa(n,t);if(e>=0)return n[1|e]}function pa(n,t){return function F_(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const a=i+(s-i>>1),h=n[a<<e];if(t===h)return a<<e;h>t?s=a:i=a+1}return~(s<<e)}(n,t,1)}const gc=So(fa("Inject",n=>({token:n})),-1),Ds=So(fa("Optional"),8),ga=So(fa("SkipSelf"),4);var Xi=(()=>((Xi=Xi||{})[Xi.Important=1]="Important",Xi[Xi.DashCase=2]="DashCase",Xi))();const sf=new Map;let eD=0;const uf="__ngContext__";function ki(n,t){rr(t)?(n[uf]=t[Se],function nD(n){sf.set(n[Se],n)}(t)):n[uf]=t}let lf;function cf(n,t){return lf(n,t)}function Ou(n){const t=n[xn];return Hr(t)?t[xn]:t}function hf(n){return nv(n[eo])}function df(n){return nv(n[ir])}function nv(n){for(;null!==n&&!Hr(n);)n=n[ir];return n}function _a(n,t,e,i,s){if(null!=i){let a,h=!1;Hr(i)?a=i:rr(i)&&(h=!0,i=i[xr]);const p=Di(i);0===n&&null!==e?null==s?uv(t,e,p):Ao(t,e,p,s||null,!0):1===n&&null!==e?Ao(t,e,p,s||null,!0):2===n?function yf(n,t,e){const i=vc(n,t);i&&function CD(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,p,h):3===n&&t.destroyNode(p),null!=a&&function ED(n,t,e,i,s){const a=e[Sr];a!==Di(e)&&_a(t,n,i,a,s);for(let p=Ei;p<e.length;p++){const y=e[p];Nu(y[Qe],y,n,t,i,a)}}(t,n,a,e,s)}}function pf(n,t,e){return n.createElement(t,e)}function rv(n,t){const e=n[zr],i=e.indexOf(t),s=t[xn];512&t[ut]&&(t[ut]&=-513,Nd(s,-1)),e.splice(i,1)}function gf(n,t){if(n.length<=Ei)return;const e=Ei+t,i=n[e];if(i){const s=i[ne];null!==s&&s!==n&&rv(s,i),t>0&&(n[e-1][ir]=i[ir]);const a=fc(n,Ei+t);!function pD(n,t){Nu(n,t,t[Lt],2,null,null),t[xr]=null,t[ii]=null}(i[Qe],i);const h=a[ge];null!==h&&h.detachView(a[Qe]),i[xn]=null,i[ir]=null,i[ut]&=-65}return i}function sv(n,t){if(!(128&t[ut])){const e=t[Lt];e.destroyNode&&Nu(n,t,e,3,null,null),function _D(n){let t=n[eo];if(!t)return mf(n[Qe],n);for(;t;){let e=null;if(rr(t))e=t[eo];else{const i=t[Ei];i&&(e=i)}if(!e){for(;t&&!t[ir]&&t!==n;)rr(t)&&mf(t[Qe],t),t=t[xn];null===t&&(t=n),rr(t)&&mf(t[Qe],t),e=t&&t[ir]}t=e}}(t)}}function mf(n,t){if(!(128&t[ut])){t[ut]&=-65,t[ut]|=128,function wD(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Eu)){const a=e[i+1];if(Array.isArray(a))for(let h=0;h<a.length;h+=2){const p=s[a[h]],y=a[h+1];Er(4,p,y);try{y.call(p)}finally{Er(5,p,y)}}else{Er(4,s,a);try{a.call(s)}finally{Er(5,s,a)}}}}}(n,t),function bD(n,t){const e=n.cleanup,i=t[ts];let s=-1;if(null!==e)for(let a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){const h=e[a+3];h>=0?i[s=h]():i[s=-h].unsubscribe(),a+=2}else{const h=i[s=e[a+1]];e[a].call(h)}if(null!==i){for(let a=s+1;a<i.length;a++)(0,i[a])();t[ts]=null}}(n,t),1===t[Qe].type&&t[Lt].destroy();const e=t[ne];if(null!==e&&Hr(t[xn])){e!==t[xn]&&rv(e,t);const i=t[ge];null!==i&&i.detachView(n)}!function iD(n){sf.delete(n[Se])}(t)}}function ov(n,t,e){return function av(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[xr];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:a}=n.data[i.directiveStart+s];if(a===Ki.None||a===Ki.Emulated)return null}return sr(i,e)}}(n,t.parent,e)}function Ao(n,t,e,i,s){n.insertBefore(t,e,i,s)}function uv(n,t,e){n.appendChild(t,e)}function lv(n,t,e,i,s){null!==i?Ao(n,t,e,i,s):uv(n,t,e)}function vc(n,t){return n.parentNode(t)}function cv(n,t,e){return dv(n,t,e)}let _f,wc,Cf,dv=function hv(n,t,e){return 40&n.type?sr(n,e):null};function yc(n,t,e,i){const s=ov(n,i,t),a=t[Lt],p=cv(i.parent||t[ii],i,t);if(null!=s)if(Array.isArray(e))for(let y=0;y<e.length;y++)lv(a,s,e[y],p,!1);else lv(a,s,e,p,!1);void 0!==_f&&_f(a,i,t,e,s)}function bc(n,t){if(null!==t){const e=t.type;if(3&e)return sr(t,n);if(4&e)return vf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return bc(n,i);{const s=n[t.index];return Hr(s)?vf(-1,s):Di(s)}}if(32&e)return cf(t,n)()||Di(n[t.index]);{const i=pv(n,t);return null!==i?Array.isArray(i)?i[0]:bc(Ou(n[An]),i):bc(n,t.next)}}return null}function pv(n,t){return null!==t?n[An][ii].projection[t.projection]:null}function vf(n,t){const e=Ei+n+1;if(e<t.length){const i=t[e],s=i[Qe].firstChild;if(null!==s)return bc(i,s)}return t[Sr]}function bf(n,t,e,i,s,a,h){for(;null!=e;){const p=i[e.index],y=e.type;if(h&&0===t&&(p&&ki(Di(p),i),e.flags|=2),32!=(32&e.flags))if(8&y)bf(n,t,e.child,i,s,a,!1),_a(t,n,s,p,a);else if(32&y){const T=cf(e,i);let F;for(;F=T();)_a(t,n,s,F,a);_a(t,n,s,p,a)}else 16&y?gv(n,t,i,e,s,a):_a(t,n,s,p,a);e=h?e.projectionNext:e.next}}function Nu(n,t,e,i,s,a){bf(e,i,n.firstChild,t,s,a,!1)}function gv(n,t,e,i,s,a){const h=e[An],y=h[ii].projection[i.projection];if(Array.isArray(y))for(let T=0;T<y.length;T++)_a(t,n,s,y[T],a);else bf(n,t,y,h[xn],s,a,!0)}function mv(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function _v(n,t,e){const{mergedAttrs:i,classes:s,styles:a}=e;null!==i&&qd(n,t,i),null!==s&&mv(n,t,s),null!==a&&function ID(n,t,e){n.setAttribute(t,"style",e)}(n,t,a)}function va(n){return function wf(){if(void 0===wc&&(wc=null,wn.trustedTypes))try{wc=wn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wc}()?.createHTML(n)||n}class Po{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_})`}}class kD extends Po{getTypeName(){return"HTML"}}class RD extends Po{getTypeName(){return"Style"}}class OD extends Po{getTypeName(){return"Script"}}class ND extends Po{getTypeName(){return"URL"}}class FD extends Po{getTypeName(){return"ResourceURL"}}function ur(n){return n instanceof Po?n.changingThisBreaksApplicationSecurity:n}function os(n,t){const e=function LD(n){return n instanceof Po&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${_})`)}return e===t}class UD{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(va(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class $D{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=va(t),e}}const WD=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function xc(n){return(n=String(n)).match(WD)?n:"unsafe:"+n}function Is(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Fu(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const xv=Is("area,br,col,hr,img,wbr"),Sv=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ev=Is("rp,rt"),Sf=Fu(xv,Fu(Sv,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fu(Ev,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fu(Ev,Sv)),Ef=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dv=Fu(Ef,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GD=Is("script,style,template");class ZD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Sf.hasOwnProperty(e))return this.sanitizedSomething=!0,!GD.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let s=0;s<i.length;s++){const a=i.item(s),h=a.name,p=h.toLowerCase();if(!Dv.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let y=a.value;Ef[p]&&(y=xc(y)),this.buf.push(" ",h,'="',Iv(y),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Sf.hasOwnProperty(e)&&!xv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Iv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const KD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YD=/([^\#-~ |!])/g;function Iv(n){return n.replace(/&/g,"&amp;").replace(KD,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(YD,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sc;function Mv(n,t){let e=null;try{Sc=Sc||function Cv(n){const t=new $D(n);return function qD(){try{return!!(new window.DOMParser).parseFromString(va(""),"text/html")}catch{return!1}}()?new UD(t):t}(n);let i=t?String(t):"";e=Sc.getInertBodyElement(i);let s=5,a=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=a,a=e.innerHTML,e=Sc.getInertBodyElement(i)}while(i!==a);return va((new ZD).sanitizeChildren(Df(e)||e))}finally{if(e){const i=Df(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Df(n){return"content"in n&&function XD(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var cn=(()=>((cn=cn||{})[cn.NONE=0]="NONE",cn[cn.HTML=1]="HTML",cn[cn.STYLE=2]="STYLE",cn[cn.SCRIPT=3]="SCRIPT",cn[cn.URL=4]="URL",cn[cn.RESOURCE_URL=5]="RESOURCE_URL",cn))();const Ec=new We("ENVIRONMENT_INITIALIZER"),kv=new We("INJECTOR",-1),Rv=new We("INJECTOR_DEF_TYPES");class Ov{get(t,e=Ws){if(e===Ws){const i=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw i.name="NullInjectorError",i}return e}}function rI(...n){return{\u0275providers:Nv(0,n),\u0275fromNgModule:!0}}function Nv(n,...t){const e=[],i=new Set;let s;return To(t,a=>{const h=a;If(h,e,[],i)&&(s||(s=[]),s.push(h))}),void 0!==s&&Fv(s,e),e}function Fv(n,t){for(let e=0;e<n.length;e++){const{providers:s}=n[e];Mf(s,a=>{t.push(a)})}}function If(n,t,e,i){if(!(n=qe(n)))return!1;let s=null,a=fu(n);const h=!a&&Jt(n);if(a||h){if(h&&!h.standalone)return!1;s=n}else{const y=n.ngModule;if(a=fu(y),!a)return!1;s=y}const p=i.has(s);if(h){if(p)return!1;if(i.add(s),h.dependencies){const y="function"==typeof h.dependencies?h.dependencies():h.dependencies;for(const T of y)If(T,t,e,i)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let T;i.add(s);try{To(a.imports,F=>{If(F,t,e,i)&&(T||(T=[]),T.push(F))})}finally{}void 0!==T&&Fv(T,t)}if(!p){const T=Eo(s)||(()=>new s);t.push({provide:s,useFactory:T,deps:Yt},{provide:Rv,useValue:s,multi:!0},{provide:Ec,useValue:()=>xe(s),multi:!0})}const y=a.providers;null==y||p||Mf(y,F=>{t.push(F)})}}return s!==n&&void 0!==n.providers}function Mf(n,t){for(let e of n)Nn(e)&&(e=e.\u0275providers),Array.isArray(e)?Mf(e,t):t(e)}const sI=it({provide:String,useValue:it});function Tf(n){return null!==n&&"object"==typeof n&&sI in n}function ko(n){return"function"==typeof n}const Af=new We("Set Injector scope."),Dc={},aI={};let Pf;function Ic(){return void 0===Pf&&(Pf=new Ov),Pf}class Ms{}class Vv extends Ms{get destroyed(){return this._destroyed}constructor(t,e,i,s){super(),this.parent=e,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rf(t,h=>this.processProvider(h)),this.records.set(kv,ya(void 0,this)),s.has("environment")&&this.records.set(Ms,ya(void 0,this));const a=this.records.get(Af);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Rv.multi,Yt,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Gs(this),i=zi(void 0);try{return t()}finally{Gs(e),zi(i)}}get(t,e=Ws,i=dt.Default){this.assertNotDestroyed(),i=ta(i);const s=Gs(this),a=zi(void 0);try{if(!(i&dt.SkipSelf)){let p=this.records.get(t);if(void 0===p){const y=function dI(n){return"function"==typeof n||"object"==typeof n&&n instanceof We}(t)&&ea(t);p=y&&this.injectableDefInScope(y)?ya(kf(t),Dc):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(i&dt.Self?Ic():this.parent).get(t,e=i&dt.Optional&&e===Ws?null:e)}catch(h){if("NullInjectorError"===h.name){if((h[Co]=h[Co]||[]).unshift(Le(t)),s)throw h;return function ni(n,t,e,i){const s=n[Co];throw t[ws]&&s.unshift(t[ws]),n.message=function Jl(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==vu?n.slice(2):n;let s=Le(t);if(Array.isArray(t))s=t.map(Le).join(" -> ");else if("object"==typeof t){let a=[];for(let h in t)if(t.hasOwnProperty(h)){let p=t[h];a.push(h+":"+("string"==typeof p?JSON.stringify(p):Le(p)))}s=`{${a.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Pd,"\n  ")}`}("\n"+n.message,s,e,i),n[ti]=s,n[Co]=null,n}(h,t,"R3InjectorError",this.source)}throw h}finally{zi(a),Gs(s)}}resolveInjectorInitializers(){const t=Gs(this),e=zi(void 0);try{const i=this.get(Ec.multi,Yt,dt.Self);for(const s of i)s()}finally{Gs(t),zi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Le(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(t){let e=ko(t=qe(t))?t:qe(t&&t.provide);const i=function lI(n){return Tf(n)?ya(void 0,n.useValue):ya(zv(n),Dc)}(t);if(ko(t)||!0!==t.multi)this.records.get(e);else{let s=this.records.get(e);s||(s=ya(void 0,Dc,!0),s.factory=()=>yu(s.multi),this.records.set(e,s)),e=t,s.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Dc&&(e.value=aI,e.value=e.factory()),"object"==typeof e.value&&e.value&&function hI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=qe(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function kf(n){const t=ea(n),e=null!==t?t.factory:Eo(n);if(null!==e)return e;if(n instanceof We)throw new M(204,!1);if(n instanceof Function)return function uI(n){const t=n.length;if(t>0)throw Au(t,"?"),new M(204,!1);const e=function Id(n){const t=n&&(n[Qr]||n[Kl]);return t?(function Md(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),t):null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new M(204,!1)}function zv(n,t,e){let i;if(ko(n)){const s=qe(n);return Eo(s)||kf(s)}if(Tf(n))i=()=>qe(n.useValue);else if(function Bv(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...yu(n.deps||[]));else if(function Lv(n){return!(!n||!n.useExisting)}(n))i=()=>xe(qe(n.useExisting));else{const s=qe(n&&(n.useClass||n.provide));if(!function cI(n){return!!n.deps}(n))return Eo(s)||kf(s);i=()=>new s(...yu(n.deps))}return i}function ya(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Rf(n,t){for(const e of n)Array.isArray(e)?Rf(e,t):e&&Nn(e)?Rf(e.\u0275providers,t):t(e)}class fI{}class Hv{}class gI{resolveComponentFactory(t){throw function pI(n){const t=Error(`No component factory found for ${Le(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ro=(()=>{class n{}return n.NULL=new gI,n})();function mI(){return ba(Ii(),Te())}function ba(n,t){return new ri(sr(n,t))}let ri=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=mI,n})();function _I(n){return n instanceof ri?n.nativeElement:n}class Bu{}let wa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function vI(){const n=Te(),e=or(Ii().index,n);return(rr(e)?e:n)[Lt]}(),n})(),yI=(()=>{class n{}return n.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>null}),n})();class Ca{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bI=new Ca("15.2.4"),Of={},Nf="ngOriginalError";function Ff(n){return n[Nf]}class Ts{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Ff(t);for(;e&&Ff(e);)e=Ff(e);return e||null}}function As(n){return n instanceof Function?n():n}function $v(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const a=t.length;if(s+a===i||n.charCodeAt(s+a)<=32)return s}e=s+1}}const qv="ng-template";function PI(n,t,e){let i=0,s=!0;for(;i<n.length;){let a=n[i++];if("string"==typeof a&&s){const h=n[i++];if(e&&"class"===a&&-1!==$v(h.toLowerCase(),t,0))return!0}else{if(1===a){for(;i<n.length&&"string"==typeof(a=n[i++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(s=!1)}}return!1}function Wv(n){return 4===n.type&&n.value!==qv}function kI(n,t,e){return t===(4!==n.type||e?n.value:qv)}function RI(n,t,e){let i=4;const s=n.attrs||[],a=function FI(n){for(let t=0;t<n.length;t++)if(b_(n[t]))return t;return n.length}(s);let h=!1;for(let p=0;p<t.length;p++){const y=t[p];if("number"!=typeof y){if(!h)if(4&i){if(i=2|1&i,""!==y&&!kI(n,y,e)||""===y&&1===t.length){if(Ur(i))return!1;h=!0}}else{const T=8&i?y:t[++p];if(8&i&&null!==n.attrs){if(!PI(n.attrs,T,e)){if(Ur(i))return!1;h=!0}continue}const z=OI(8&i?"class":y,s,Wv(n),e);if(-1===z){if(Ur(i))return!1;h=!0;continue}if(""!==T){let Y;Y=z>a?"":s[z+1].toLowerCase();const Q=8&i?Y:null;if(Q&&-1!==$v(Q,T,0)||2&i&&T!==Y){if(Ur(i))return!1;h=!0}}}}else{if(!h&&!Ur(i)&&!Ur(y))return!1;if(h&&Ur(y))continue;h=!1,i=y|1&i}}return Ur(i)||h}function Ur(n){return 0==(1&n)}function OI(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let a=!1;for(;s<t.length;){const h=t[s];if(h===n)return s;if(3===h||6===h)a=!0;else{if(1===h||2===h){let p=t[++s];for(;"string"==typeof p;)p=t[++s];continue}if(4===h)break;if(0===h){s+=4;continue}}s+=a?1:2}return-1}return function LI(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Gv(n,t,e=!1){for(let i=0;i<t.length;i++)if(RI(n,t[i],e))return!0;return!1}function BI(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function Zv(n,t){return n?":not("+t.trim()+")":t}function VI(n){let t=n[0],e=1,i=2,s="",a=!1;for(;e<n.length;){let h=n[e];if("string"==typeof h)if(2&i){const p=n[++e];s+="["+h+(p.length>0?'="'+p+'"':"")+"]"}else 8&i?s+="."+h:4&i&&(s+=" "+h);else""!==s&&!Ur(h)&&(t+=Zv(a,s),s=""),i=h,a=a||!Ur(i);e++}return""!==s&&(t+=Zv(a,s)),t}const Pt={};function Pn(n){Kv(tn(),Te(),Ui()+n,!1)}function Kv(n,t,e,i){if(!i)if(3==(3&t[ut])){const a=n.preOrderCheckHooks;null!==a&&sc(t,a,e)}else{const a=n.preOrderHooks;null!==a&&oc(t,a,0,e)}Io(e)}function Jv(n,t=null,e=null,i){const s=e0(n,t,e,i);return s.resolveInjectorInitializers(),s}function e0(n,t=null,e=null,i,s=new Set){const a=[e||Yt,rI(n)];return i=i||("object"==typeof n?void 0:Le(n)),new Vv(a,t||Ic(),i||null,s)}let lr=(()=>{class n{static create(e,i){if(Array.isArray(e))return Jv({name:""},i,e,"");{const s=e.name??"";return Jv({name:s},e.parent,e.providers,s)}}}return n.THROW_IF_NOT_FOUND=Ws,n.NULL=new Ov,n.\u0275prov=Ge({token:n,providedIn:"any",factory:()=>xe(kv)}),n.__NG_ELEMENT_ID__=-1,n})();function Ie(n,t=dt.Default){const e=Te();return null===e?xe(n,t):T_(Ii(),e,qe(n),t)}function l0(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const a=e[i+1];if(-1!==a){const h=n.data[a];zd(e[i]),h.contentQueries(2,t[a],a)}}}function Tc(n,t,e,i,s,a,h,p,y,T,F){const z=t.blueprint.slice();return z[xr]=s,z[ut]=76|i,(null!==F||n&&1024&n[ut])&&(z[ut]|=1024),o_(z),z[xn]=z[is]=n,z[Vn]=e,z[Js]=h||n&&n[Js],z[Lt]=p||n&&n[Lt],z[wu]=y||n&&n[wu]||null,z[ns]=T||n&&n[ns]||null,z[ii]=a,z[Se]=function tD(){return eD++}(),z[mt]=F,z[An]=2==t.type?n[An]:z,z}function Ea(n,t,e,i,s){let a=n.data[t];if(null===a)a=function Hf(n,t,e,i,s){const a=l_(),h=Fd(),y=n.data[t]=function hM(n,t,e,i,s,a){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?a:a&&a.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=y),null!==a&&(h?null==a.child&&null!==y.parent&&(a.child=y):null===a.next&&(a.next=y,y.prev=a)),y}(n,t,e,i,s),function aE(){return At.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=e,a.value=i,a.attrs=s;const h=function xu(){const n=At.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();a.injectorIndex=null===h?-1:h.injectorIndex}return rs(a,!0),a}function Vu(n,t,e,i){if(0===e)return-1;const s=t.length;for(let a=0;a<e;a++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function jf(n,t,e){Hd(t);try{const i=n.viewQuery;null!==i&&Qf(1,i,e);const s=n.template;null!==s&&c0(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&l0(n,t),n.staticViewQueries&&Qf(2,n.viewQuery,e);const a=n.components;null!==a&&function uM(n,t){for(let e=0;e<t.length;e++)AM(n,t[e])}(t,a)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[ut]&=-5,jd()}}function Ac(n,t,e,i){const s=t[ut];if(128!=(128&s)){Hd(t);try{o_(t),function h_(n){return At.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&c0(n,t,e,2,i);const h=3==(3&s);if(h){const T=n.preOrderCheckHooks;null!==T&&sc(t,T,null)}else{const T=n.preOrderHooks;null!==T&&oc(t,T,0,null),Ud(t,0)}if(function MM(n){for(let t=hf(n);null!==t;t=df(t)){if(!t[Yi])continue;const e=t[zr];for(let i=0;i<e.length;i++){const s=e[i];512&s[ut]||Nd(s[xn],1),s[ut]|=512}}}(t),function IM(n){for(let t=hf(n);null!==t;t=df(t))for(let e=Ei;e<t.length;e++){const i=t[e],s=i[Qe];ic(i)&&Ac(s,i,s.template,i[Vn])}}(t),null!==n.contentQueries&&l0(n,t),h){const T=n.contentCheckHooks;null!==T&&sc(t,T)}else{const T=n.contentHooks;null!==T&&oc(t,T,1),Ud(t,1)}!function oM(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Io(~s);else{const a=s,h=e[++i],p=e[++i];uE(h,a),p(2,t[a])}}}finally{Io(-1)}}(n,t);const p=n.components;null!==p&&function aM(n,t){for(let e=0;e<t.length;e++)TM(n,t[e])}(t,p);const y=n.viewQuery;if(null!==y&&Qf(2,y,i),h){const T=n.viewCheckHooks;null!==T&&sc(t,T)}else{const T=n.viewHooks;null!==T&&oc(t,T,2),Ud(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[ut]&=-41,512&t[ut]&&(t[ut]&=-513,Nd(t[xn],-1))}finally{jd()}}}function c0(n,t,e,i,s){const a=Ui(),h=2&i;try{Io(-1),h&&t.length>Ke&&Kv(n,t,Ke,!1),Er(h?2:0,s),e(i,s)}finally{Io(a),Er(h?3:1,s)}}function Uf(n,t,e){if(Rd(t)){const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const h=n.data[a];h.contentQueries&&h.contentQueries(1,e[a],a)}}}function $f(n,t,e){u_()&&(function _M(n,t,e,i){const s=e.directiveStart,a=e.directiveEnd;Cu(e)&&function SM(n,t,e){const i=sr(t,n),s=h0(e),a=n[Js],h=Pc(n,Tc(n,s,null,e.onPush?32:16,i,t,a,a.createRenderer(i,e),null,null,null));n[t.index]=h}(t,e,n.data[s+e.componentOffset]),n.firstCreatePass||cc(e,t),ki(i,t);const h=e.initialInputs;for(let p=s;p<a;p++){const y=n.data[p],T=Mo(t,n,p,e);ki(T,t),null!==h&&EM(0,p-s,T,y,0,h),jr(y)&&(or(e.index,t)[Vn]=Mo(t,n,p,e))}}(n,t,e,sr(e,t)),64==(64&e.flags)&&_0(n,t,e))}function qf(n,t,e=sr){const i=t.localNames;if(null!==i){let s=t.index+1;for(let a=0;a<i.length;a+=2){const h=i[a+1],p=-1===h?e(t,n):n[h];n[s++]=p}}}function h0(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Wf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Wf(n,t,e,i,s,a,h,p,y,T){const F=Ke+i,z=F+s,Y=function lM(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Pt);return e}(F,z),Q="function"==typeof T?T():T;return Y[Qe]={type:n,blueprint:Y,template:e,queries:null,viewQuery:p,declTNode:t,data:Y.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:y,consts:Q,incompleteFirstPass:!1}}function d0(n,t,e,i){const s=y0(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&b0(n).push(i,s.length-1))}function f0(n,t,e,i){for(let s in n)if(n.hasOwnProperty(s)){e=null===e?{}:e;const a=n[s];null===i?p0(e,t,s,a):i.hasOwnProperty(s)&&p0(e,t,i[s],a)}return e}function p0(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function g0(n,t){const e=or(t,n);16&e[ut]||(e[ut]|=32)}function Gf(n,t,e,i){if(u_()){const s=null===i?null:{"":-1},a=function yM(n,t){const e=n.directiveRegistry;let i=null,s=null;if(e)for(let a=0;a<e.length;a++){const h=e[a];if(Gv(t,h.selectors,!1))if(i||(i=[]),jr(h))if(null!==h.findHostDirectiveDefs){const p=[];s=s||new Map,h.findHostDirectiveDefs(h,p,s),i.unshift(...p,h),Zf(n,t,p.length)}else i.unshift(h),Zf(n,t,0);else s=s||new Map,h.findHostDirectiveDefs?.(h,i,s),i.push(h)}return null===i?null:[i,s]}(n,e);let h,p;null===a?h=p=null:[h,p]=a,null!==h&&m0(n,t,e,h,s,p),s&&function bM(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const a=e[t[s+1]];if(null==a)throw new M(-301,!1);i.push(t[s],a)}}}(e,i,s)}e.mergedAttrs=Du(e.mergedAttrs,e.attrs)}function m0(n,t,e,i,s,a){for(let T=0;T<i.length;T++)Kd(cc(e,t),n,i[T].type);!function CM(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let T=0;T<i.length;T++){const F=i[T];F.providersResolver&&F.providersResolver(F)}let h=!1,p=!1,y=Vu(n,t,i.length,null);for(let T=0;T<i.length;T++){const F=i[T];e.mergedAttrs=Du(e.mergedAttrs,F.hostAttrs),xM(n,e,t,y,F),wM(y,F,s),null!==F.contentQueries&&(e.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(e.flags|=64);const z=F.type.prototype;!h&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),h=!0),!p&&(z.ngOnChanges||z.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),p=!0),y++}!function dM(n,t,e){const s=t.directiveEnd,a=n.data,h=t.attrs,p=[];let y=null,T=null;for(let F=t.directiveStart;F<s;F++){const z=a[F],Y=e?e.get(z):null,ie=Y?Y.outputs:null;y=f0(z.inputs,F,y,Y?Y.inputs:null),T=f0(z.outputs,F,T,ie);const le=null===y||null===h||Wv(t)?null:DM(y,F,h);p.push(le)}null!==y&&(y.hasOwnProperty("class")&&(t.flags|=8),y.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=y,t.outputs=T}(n,e,a)}function _0(n,t,e){const i=e.directiveStart,s=e.directiveEnd,a=e.index,h=function lE(){return At.lFrame.currentDirectiveIndex}();try{Io(a);for(let p=i;p<s;p++){const y=n.data[p],T=t[p];Bd(p),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&vM(y,T)}}finally{Io(-1),Bd(h)}}function vM(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Zf(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function wM(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;jr(t)&&(e[""]=n)}}function xM(n,t,e,i,s){n.data[i]=s;const a=s.factory||(s.factory=Eo(s.type)),h=new Eu(a,jr(s),Ie);n.blueprint[i]=h,e[i]=h,function gM(n,t,e,i,s){const a=s.hostBindings;if(a){let h=n.hostBindingOpCodes;null===h&&(h=n.hostBindingOpCodes=[]);const p=~t.index;(function mM(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(h)!=p&&h.push(p),h.push(e,i,a)}}(n,t,i,Vu(n,e,s.hostVars,Pt),s)}function as(n,t,e,i,s,a){const h=sr(n,t);!function Kf(n,t,e,i,s,a,h){if(null==a)n.removeAttribute(t,s,e);else{const p=null==h?W(a):h(a,i||"",s);n.setAttribute(t,s,p,e)}}(t[Lt],h,a,n.value,e,i,s)}function EM(n,t,e,i,s,a){const h=a[t];if(null!==h){const p=i.setInput;for(let y=0;y<h.length;){const T=h[y++],F=h[y++],z=h[y++];null!==p?i.setInput(e,z,T,F):e[F]=z}}}function DM(n,t,e){let i=null,s=0;for(;s<e.length;){const a=e[s];if(0!==a)if(5!==a){if("number"==typeof a)break;if(n.hasOwnProperty(a)){null===i&&(i=[]);const h=n[a];for(let p=0;p<h.length;p+=2)if(h[p]===t){i.push(a,h[p+1],e[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function v0(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null]}function TM(n,t){const e=or(t,n);if(ic(e)){const i=e[Qe];48&e[ut]?Ac(i,e,i.template,e[Vn]):e[xs]>0&&Yf(e)}}function Yf(n){for(let i=hf(n);null!==i;i=df(i))for(let s=Ei;s<i.length;s++){const a=i[s];if(ic(a))if(512&a[ut]){const h=a[Qe];Ac(h,a,h.template,a[Vn])}else a[xs]>0&&Yf(a)}const e=n[Qe].components;if(null!==e)for(let i=0;i<e.length;i++){const s=or(e[i],n);ic(s)&&s[xs]>0&&Yf(s)}}function AM(n,t){const e=or(t,n),i=e[Qe];(function PM(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),jf(i,e,e[Vn])}function Pc(n,t){return n[eo]?n[sa][ir]=t:n[eo]=t,n[sa]=t,t}function Xf(n){for(;n;){n[ut]|=32;const t=Ou(n);if(US(n)&&!t)return n;n=t}return null}function kc(n,t,e,i=!0){const s=t[Js];s.begin&&s.begin();try{Ac(n,t,n.template,e)}catch(h){throw i&&C0(t,h),h}finally{s.end&&s.end()}}function Qf(n,t,e){zd(0),t(n,e)}function y0(n){return n[ts]||(n[ts]=[])}function b0(n){return n.cleanup||(n.cleanup=[])}function C0(n,t){const e=n[ns],i=e?e.get(Ts,null):null;i&&i.handleError(t)}function Jf(n,t,e,i,s){for(let a=0;a<e.length;){const h=e[a++],p=e[a++],y=t[h],T=n.data[h];null!==T.setInput?T.setInput(y,s,i,p):y[p]=s}}function Rc(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,a=0;if(null!==t)for(let h=0;h<t.length;h++){const p=t[h];"number"==typeof p?a=p:1==a?s=On(s,p):2==a&&(i=On(i,p+": "+t[++h]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}function Oc(n,t,e,i,s=!1){for(;null!==e;){const a=t[e.index];if(null!==a&&i.push(Di(a)),Hr(a))for(let p=Ei;p<a.length;p++){const y=a[p],T=y[Qe].firstChild;null!==T&&Oc(y[Qe],y,T,i)}const h=e.type;if(8&h)Oc(n,t,e.child,i);else if(32&h){const p=cf(e,t);let y;for(;y=p();)i.push(y)}else if(16&h){const p=pv(t,e);if(Array.isArray(p))i.push(...p);else{const y=Ou(t[An]);Oc(y[Qe],y,p,i,!0)}}e=s?e.projectionNext:e.next}return i}class zu{get rootNodes(){const t=this._lView,e=t[Qe];return Oc(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(t){this._lView[Vn]=t}get destroyed(){return 128==(128&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[xn];if(Hr(t)){const e=t[to],i=e?e.indexOf(this):-1;i>-1&&(gf(t,i),fc(e,i))}this._attachedToViewContainer=!1}sv(this._lView[Qe],this._lView)}onDestroy(t){d0(this._lView[Qe],this._lView,null,t)}markForCheck(){Xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-65}reattach(){this._lView[ut]|=64}detectChanges(){kc(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mD(n,t){Nu(n,t,t[Lt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=t}}class kM extends zu{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;kc(t[Qe],t,t[Vn],!1)}checkNoChanges(){}get context(){return null}}class x0 extends Ro{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new Hu(e,this.ngModule)}}function S0(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class OM{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=ta(i);const s=this.injector.get(t,Of,i);return s!==Of||e===Of?s:this.parentInjector.get(t,e,i)}}class Hu extends Hv{get inputs(){return S0(this.componentDef.inputs)}get outputs(){return S0(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function zI(n){return n.map(VI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,s){let a=(s=s||this.ngModule)instanceof Ms?s:s?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const h=a?new OM(t,a):t,p=h.get(Bu,null);if(null===p)throw new M(407,!1);const y=h.get(yI,null),T=p.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",z=i?function cM(n,t,e){return n.selectRootElement(t,e===Ki.ShadowDom)}(T,i,this.componentDef.encapsulation):pf(T,F,function RM(n){const t=n.toLowerCase();return"svg"===t?i_:"math"===t?"math":null}(F)),Y=this.componentDef.onPush?288:272,Q=Wf(0,null,null,1,0,null,null,null,null,null),ie=Tc(null,Q,null,Y,null,null,p,T,y,h,null);let le,me;Hd(ie);try{const Ce=this.componentDef;let Be,we=null;Ce.findHostDirectiveDefs?(Be=[],we=new Map,Ce.findHostDirectiveDefs(Ce,Be,we),Be.push(Ce)):Be=[Ce];const et=function FM(n,t){const e=n[Qe],i=Ke;return n[i]=t,Ea(e,i,2,"#host",null)}(ie,z),nn=function LM(n,t,e,i,s,a,h,p){const y=s[Qe];!function BM(n,t,e,i){for(const s of n)t.mergedAttrs=Du(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(Rc(t,t.mergedAttrs,!0),null!==e&&_v(i,e,t))}(i,n,t,h);const T=a.createRenderer(t,e),F=Tc(s,h0(e),null,e.onPush?32:16,s[n.index],n,a,T,p||null,null,null);return y.firstCreatePass&&Zf(y,n,i.length-1),Pc(s,F),s[n.index]=F}(et,z,Ce,Be,ie,p,T);me=s_(Q,Ke),z&&function zM(n,t,e,i){if(i)qd(n,e,["ng-version",bI.full]);else{const{attrs:s,classes:a}=function HI(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let a=n[i];if("string"==typeof a)2===s?""!==a&&t.push(a,n[++i]):8===s&&e.push(a);else{if(!Ur(s))break;s=a}i++}return{attrs:t,classes:e}}(t.selectors[0]);s&&qd(n,e,s),a&&a.length>0&&mv(n,e,a.join(" "))}}(T,Ce,z,i),void 0!==e&&function HM(n,t,e){const i=n.projection=[];for(let s=0;s<t.length;s++){const a=e[s];i.push(null!=a?Array.from(a):null)}}(me,this.ngContentSelectors,e),le=function VM(n,t,e,i,s,a){const h=Ii(),p=s[Qe],y=sr(h,s);m0(p,s,h,e,null,i);for(let F=0;F<e.length;F++)ki(Mo(s,p,h.directiveStart+F,h),s);_0(p,s,h),y&&ki(y,s);const T=Mo(s,p,h.directiveStart+h.componentOffset,h);if(n[Vn]=s[Vn]=T,null!==a)for(const F of a)F(T,t);return Uf(p,h,n),T}(nn,Ce,Be,we,ie,[jM]),jf(Q,ie,null)}finally{jd()}return new NM(this.componentType,le,ba(me,ie),ie,me)}}class NM extends fI{constructor(t,e,i,s,a){super(),this.location=i,this._rootLView=s,this._tNode=a,this.instance=e,this.hostView=this.changeDetectorRef=new kM(s),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[t])){const a=this._rootLView;Jf(a[Qe],a,s,t,e),g0(a,this._tNode.index)}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function jM(){const n=Ii();rc(Te()[Qe],n)}function ks(n){let t=function E0(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(jr(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new M(903,!1);s=t.\u0275dir}if(s){if(e){i.push(s);const h=n;h.inputs=ep(n.inputs),h.declaredInputs=ep(n.declaredInputs),h.outputs=ep(n.outputs);const p=s.hostBindings;p&&WM(n,p);const y=s.viewQuery,T=s.contentQueries;if(y&&$M(n,y),T&&qM(n,T),Ht(n.inputs,s.inputs),Ht(n.declaredInputs,s.declaredInputs),Ht(n.outputs,s.outputs),jr(s)&&s.data.animation){const F=n.data;F.animation=(F.animation||[]).concat(s.data.animation)}}const a=s.features;if(a)for(let h=0;h<a.length;h++){const p=a[h];p&&p.ngInherit&&p(n),p===ks&&(e=!1)}}t=Object.getPrototypeOf(t)}!function UM(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Du(s.hostAttrs,e=Du(e,s.hostAttrs))}}(i)}function ep(n){return n===Br?{}:n===Yt?[]:n}function $M(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function qM(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,a)=>{t(i,s,a),e(i,s,a)}:t}function WM(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}function Nc(n){return!!tp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function tp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function us(n,t,e){return n[t]=e}function Ri(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Oo(n,t,e,i){const s=Ri(n,t,e);return Ri(n,t+1,i)||s}function Ci(n,t,e,i){const s=Te();return Ri(s,aa(),t)&&(tn(),as(zn(),s,n,t,e,i)),Ci}function Ta(n,t,e,i,s,a,h,p){const T=function Fc(n,t,e,i,s){const a=Oo(n,t,e,i);return Ri(n,t+2,s)||a}(n,function Ss(){return At.lFrame.bindingIndex}(),e,s,h);return Es(3),T?t+W(e)+i+W(s)+a+W(h)+p:Pt}function Lc(n,t,e,i,s,a,h,p,y,T){const F=Te(),z=Ta(F,t,e,i,s,a,h,p);return z!==Pt&&as(zn(),F,n,z,y,T),Lc}function Ji(n,t,e,i,s,a,h,p){const y=Te(),T=tn(),F=n+Ke,z=T.firstCreatePass?function nT(n,t,e,i,s,a,h,p,y){const T=t.consts,F=Ea(t,n,4,h||null,no(T,p));Gf(t,e,F,no(T,y)),rc(t,F);const z=F.tView=Wf(2,F,i,s,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,T);return null!==t.queries&&(t.queries.template(t,F),z.queries=t.queries.embeddedTView(F)),F}(F,T,y,t,e,i,s,a,h):T.data[F];rs(z,!1);const Y=y[Lt].createComment("");yc(T,y,Y,z),ki(Y,y),Pc(y,y[F]=v0(Y,y,Y,z)),tc(z)&&$f(T,y,z),null!=h&&qf(y,z,p)}function Uu(n){return oa(function oE(){return At.lFrame.contextLView}(),Ke+n)}function qn(n,t,e){const i=Te();return Ri(i,aa(),t)&&function cr(n,t,e,i,s,a,h,p){const y=sr(t,e);let F,T=t.inputs;!p&&null!=T&&(F=T[i])?(Jf(n,e,F,i,s),Cu(t)&&g0(e,t.index)):3&t.type&&(i=function fM(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=h?h(s,t.value||"",i):s,a.setProperty(y,i,s))}(tn(),zn(),i,n,t,i[Lt],e,!1),qn}function np(n,t,e,i,s){const h=s?"class":"style";Jf(n,e,t.inputs[h],h,i)}function Et(n,t,e,i){const s=Te(),a=tn(),h=Ke+n,p=s[Lt],y=a.firstCreatePass?function rT(n,t,e,i,s,a){const h=t.consts,y=Ea(t,n,2,i,no(h,s));return Gf(t,e,y,no(h,a)),null!==y.attrs&&Rc(y,y.attrs,!1),null!==y.mergedAttrs&&Rc(y,y.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,y),y}(h,a,s,t,e,i):a.data[h],T=s[h]=pf(p,t,function gE(){return At.lFrame.currentNamespace}()),F=tc(y);return rs(y,!0),_v(p,T,y),32!=(32&y.flags)&&yc(a,s,T,y),0===function tE(){return At.lFrame.elementDepthCount}()&&ki(T,s),function nE(){At.lFrame.elementDepthCount++}(),F&&($f(a,s,y),Uf(a,y,s)),null!==i&&qf(s,y),Et}function Qt(){let n=Ii();Fd()?Ld():(n=n.parent,rs(n,!1));const t=n;!function iE(){At.lFrame.elementDepthCount--}();const e=tn();return e.firstCreatePass&&(rc(e,n),Rd(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function yE(n){return 0!=(8&n.flags)}(t)&&np(e,t,Te(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function bE(n){return 0!=(16&n.flags)}(t)&&np(e,t,Te(),t.stylesWithoutHost,!1),Qt}function hr(n,t,e,i){return Et(n,t,e,i),Qt(),hr}function Rs(){return Te()}function Bc(n){return!!n&&"function"==typeof n.then}const V0=function B0(n){return!!n&&"function"==typeof n.subscribe};function Wn(n,t,e,i){const s=Te(),a=tn(),h=Ii();return function H0(n,t,e,i,s,a,h){const p=tc(i),T=n.firstCreatePass&&b0(n),F=t[Vn],z=y0(t);let Y=!0;if(3&i.type||h){const le=sr(i,t),me=h?h(le):le,Ce=z.length,Be=h?et=>h(Di(et[i.index])):i.index;let we=null;if(!h&&p&&(we=function oT(n,t,e,i){const s=n.cleanup;if(null!=s)for(let a=0;a<s.length-1;a+=2){const h=s[a];if(h===e&&s[a+1]===i){const p=t[ts],y=s[a+2];return p.length>y?p[y]:null}"string"==typeof h&&(a+=2)}return null}(n,t,s,i.index)),null!==we)(we.__ngLastListenerFn__||we).__ngNextListenerFn__=a,we.__ngLastListenerFn__=a,Y=!1;else{a=U0(i,t,F,a,!1);const et=e.listen(me,s,a);z.push(a,et),T&&T.push(s,Be,Ce,Ce+1)}}else a=U0(i,t,F,a,!1);const Q=i.outputs;let ie;if(Y&&null!==Q&&(ie=Q[s])){const le=ie.length;if(le)for(let me=0;me<le;me+=2){const nn=t[ie[me]][ie[me+1]].subscribe(a),an=z.length;z.push(a,nn),T&&T.push(s,i.index,an,-(an+1))}}}(a,s,s[Lt],h,n,t,i),Wn}function j0(n,t,e,i){try{return Er(6,t,e),!1!==e(i)}catch(s){return C0(n,s),!1}finally{Er(7,t,e)}}function U0(n,t,e,i,s){return function a(h){if(h===Function)return i;Xf(n.componentOffset>-1?or(n.index,t):t);let y=j0(t,e,i,h),T=a.__ngNextListenerFn__;for(;T;)y=j0(t,e,T,h)&&y,T=T.__ngNextListenerFn__;return s&&!1===y&&(h.preventDefault(),h.returnValue=!1),y}}function rn(n=1){return function hE(n){return(At.lFrame.contextLView=function dE(n,t){for(;n>0;)t=t[is],n--;return t}(n,At.lFrame.contextLView))[Vn]}(n)}function aT(n,t){let e=null;const i=function NI(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const a=t[s];if("*"!==a){if(null===i?Gv(n,a,!0):BI(i,a))return s}else e=s}return e}function $u(n){const t=Te()[An][ii];if(!t.projection){const i=t.projection=Au(n?n.length:1,null),s=i.slice();let a=t.child;for(;null!==a;){const h=n?aT(a,n):0;null!==h&&(s[h]?s[h].projectionNext=a:i[h]=a,s[h]=a),a=a.next}}}function Na(n,t=0,e){const i=Te(),s=tn(),a=Ea(s,Ke+n,16,null,e||null);null===a.projection&&(a.projection=t),Ld(),32!=(32&a.flags)&&function SD(n,t,e){gv(t[Lt],0,t,e,ov(n,e,t),cv(e.parent||t[ii],e,t))}(s,i,a)}function Vc(n,t){return n<<17|t<<2}function io(n){return n>>17&32767}function op(n){return 2|n}function No(n){return(131068&n)>>2}function ap(n,t){return-131069&n|t<<2}function up(n){return 1|n}function J0(n,t,e,i,s){const a=n[e+1],h=null===t;let p=i?io(a):No(a),y=!1;for(;0!==p&&(!1===y||h);){const F=n[p+1];fT(n[p],t)&&(y=!0,n[p+1]=i?up(F):op(F)),p=i?io(F):No(F)}y&&(n[e+1]=i?op(a):up(a))}function fT(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&pa(n,t)>=0}function lp(n,t,e){return $r(n,t,e,!1),lp}function La(n,t){return $r(n,t,null,!0),La}function $r(n,t,e,i){const s=Te(),a=tn(),h=Es(2);a.firstUpdatePass&&function ay(n,t,e,i){const s=n.data;if(null===s[e+1]){const a=s[Ui()],h=function oy(n,t){return t>=n.expandoStartIndex}(n,e);(function hy(n,t){return 0!=(n.flags&(t?8:16))})(a,i)&&null===t&&!h&&(t=!1),t=function CT(n,t,e,i){const s=function Vd(n){const t=At.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let a=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=qu(e=cp(null,n,t,e,i),t.attrs,i),a=null);else{const h=t.directiveStylingLast;if(-1===h||n[h]!==s)if(e=cp(s,n,t,e,i),null===a){let y=function xT(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==No(i))return n[io(i)]}(n,t,i);void 0!==y&&Array.isArray(y)&&(y=cp(null,n,t,y[1],i),y=qu(y,t.attrs,i),function ST(n,t,e,i){n[io(e?t.classBindings:t.styleBindings)]=i}(n,t,i,y))}else a=function ET(n,t,e){let i;const s=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<s;a++)i=qu(i,n[a].hostAttrs,e);return qu(i,t.attrs,e)}(n,t,i)}return void 0!==a&&(i?t.residualClasses=a:t.residualStyles=a),e}(s,a,t,i),function hT(n,t,e,i,s,a){let h=a?t.classBindings:t.styleBindings,p=io(h),y=No(h);n[i]=e;let F,T=!1;if(Array.isArray(e)?(F=e[1],(null===F||pa(e,F)>0)&&(T=!0)):F=e,s)if(0!==y){const Y=io(n[p+1]);n[i+1]=Vc(Y,p),0!==Y&&(n[Y+1]=ap(n[Y+1],i)),n[p+1]=function lT(n,t){return 131071&n|t<<17}(n[p+1],i)}else n[i+1]=Vc(p,0),0!==p&&(n[p+1]=ap(n[p+1],i)),p=i;else n[i+1]=Vc(y,0),0===p?p=i:n[y+1]=ap(n[y+1],i),y=i;T&&(n[i+1]=op(n[i+1])),J0(n,F,i,!0),J0(n,F,i,!1),function dT(n,t,e,i,s){const a=s?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof t&&pa(a,t)>=0&&(e[i+1]=up(e[i+1]))}(t,F,n,i,a),h=Vc(p,y),a?t.classBindings=h:t.styleBindings=h}(s,a,t,e,h,i)}}(a,n,h,i),t!==Pt&&Ri(s,h,t)&&function ly(n,t,e,i,s,a,h,p){if(!(3&t.type))return;const y=n.data,T=y[p+1],F=function cT(n){return 1==(1&n)}(T)?cy(y,t,e,s,No(T),h):void 0;zc(F)||(zc(a)||function uT(n){return 2==(2&n)}(T)&&(a=cy(y,null,e,s,p,h)),function DD(n,t,e,i,s){if(t)s?n.addClass(e,i):n.removeClass(e,i);else{let a=-1===i.indexOf("-")?void 0:Xi.DashCase;null==s?n.removeStyle(e,i,a):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),a|=Xi.Important),n.setStyle(e,i,s,a))}}(i,h,nc(Ui(),e),s,a))}(a,a.data[Ui()],s,s[Lt],n,s[h+1]=function MT(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Le(ur(n)))),n}(t,e),i,h)}function cp(n,t,e,i,s){let a=null;const h=e.directiveEnd;let p=e.directiveStylingLast;for(-1===p?p=e.directiveStart:p++;p<h&&(a=t[p],i=qu(i,a.hostAttrs,s),a!==n);)p++;return null!==n&&(e.directiveStylingLast=p),i}function qu(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let a=0;a<t.length;a++){const h=t[a];"number"==typeof h?s=h:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ar(n,h,!!e||t[++a]))}return void 0===n?null:n}function cy(n,t,e,i,s,a){const h=null===t;let p;for(;s>0;){const y=n[s],T=Array.isArray(y),F=T?y[1]:y,z=null===F;let Y=e[s+1];Y===Pt&&(Y=z?Yt:void 0);let Q=z?Jd(Y,i):F===i?Y:void 0;if(T&&!zc(Q)&&(Q=Jd(y,i)),zc(Q)&&(p=Q,h))return p;const ie=n[s+1];s=h?io(ie):No(ie)}if(null!==t){let y=a?t.residualClasses:t.residualStyles;null!=y&&(p=Jd(y,i))}return p}function zc(n){return void 0!==n}function pi(n,t=""){const e=Te(),i=tn(),s=n+Ke,a=i.firstCreatePass?Ea(i,s,1,t,null):i.data[s],h=e[s]=function ff(n,t){return n.createText(t)}(e[Lt],t);yc(i,e,h,a),rs(a,!1)}function Wu(n,t,e){const i=Te(),s=function Ia(n,t,e,i){return Ri(n,aa(),e)?t+W(e)+i:Pt}(i,n,t,e);return s!==Pt&&function Ps(n,t,e){const i=nc(t,n);!function iv(n,t,e){n.setValue(t,e)}(n[Lt],i,e)}(i,Ui(),s),Wu}const Fo=void 0;var ZT=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GT(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Ba={};function qi(n){const t=function KT(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Ry(t);if(e)return e;const i=t.split("-")[0];if(e=Ry(i),e)return e;if("en"===i)return ZT;throw new M(701,!1)}function Ry(n){return n in Ba||(Ba[n]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[n]),Ba[n]}var Xe=(()=>((Xe=Xe||{})[Xe.LocaleId=0]="LocaleId",Xe[Xe.DayPeriodsFormat=1]="DayPeriodsFormat",Xe[Xe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xe[Xe.DaysFormat=3]="DaysFormat",Xe[Xe.DaysStandalone=4]="DaysStandalone",Xe[Xe.MonthsFormat=5]="MonthsFormat",Xe[Xe.MonthsStandalone=6]="MonthsStandalone",Xe[Xe.Eras=7]="Eras",Xe[Xe.FirstDayOfWeek=8]="FirstDayOfWeek",Xe[Xe.WeekendRange=9]="WeekendRange",Xe[Xe.DateFormat=10]="DateFormat",Xe[Xe.TimeFormat=11]="TimeFormat",Xe[Xe.DateTimeFormat=12]="DateTimeFormat",Xe[Xe.NumberSymbols=13]="NumberSymbols",Xe[Xe.NumberFormats=14]="NumberFormats",Xe[Xe.CurrencyCode=15]="CurrencyCode",Xe[Xe.CurrencySymbol=16]="CurrencySymbol",Xe[Xe.CurrencyName=17]="CurrencyName",Xe[Xe.Currencies=18]="Currencies",Xe[Xe.Directionality=19]="Directionality",Xe[Xe.PluralCase=20]="PluralCase",Xe[Xe.ExtraData=21]="ExtraData",Xe))();const Va="en-US";let Oy=Va;function fp(n,t,e,i,s){if(n=qe(n),Array.isArray(n))for(let a=0;a<n.length;a++)fp(n[a],t,e,i,s);else{const a=tn(),h=Te();let p=ko(n)?n:qe(n.provide),y=zv(n);const T=Ii(),F=1048575&T.providerIndexes,z=T.directiveStart,Y=T.providerIndexes>>20;if(ko(n)||!n.multi){const Q=new Eu(y,s,Ie),ie=gp(p,t,s?F:F+Y,z);-1===ie?(Kd(cc(T,h),a,p),pp(a,n,t.length),t.push(p),T.directiveStart++,T.directiveEnd++,s&&(T.providerIndexes+=1048576),e.push(Q),h.push(Q)):(e[ie]=Q,h[ie]=Q)}else{const Q=gp(p,t,F+Y,z),ie=gp(p,t,F,F+Y),me=ie>=0&&e[ie];if(s&&!me||!s&&!(Q>=0&&e[Q])){Kd(cc(T,h),a,p);const Ce=function WA(n,t,e,i,s){const a=new Eu(n,e,Ie);return a.multi=[],a.index=t,a.componentProviders=0,sb(a,s,i&&!e),a}(s?qA:$A,e.length,s,i,y);!s&&me&&(e[ie].providerFactory=Ce),pp(a,n,t.length,0),t.push(p),T.directiveStart++,T.directiveEnd++,s&&(T.providerIndexes+=1048576),e.push(Ce),h.push(Ce)}else pp(a,n,Q>-1?Q:ie,sb(e[s?ie:Q],y,!s&&i));!s&&i&&me&&e[ie].componentProviders++}}}function pp(n,t,e,i){const s=ko(t),a=function oI(n){return!!n.useClass}(t);if(s||a){const y=(a?qe(t.useClass):t).prototype.ngOnDestroy;if(y){const T=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const F=T.indexOf(e);-1===F?T.push(e,[i,y]):T[F+1].push(i,y)}else T.push(e,y)}}}function sb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function gp(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function $A(n,t,e,i){return mp(this.multi,[])}function qA(n,t,e,i){const s=this.multi;let a;if(this.providerFactory){const h=this.providerFactory.componentProviders,p=Mo(e,e[Qe],this.providerFactory.index,i);a=p.slice(0,h),mp(s,a);for(let y=h;y<p.length;y++)a.push(p[y])}else a=[],mp(s,a);return a}function mp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function qc(n,t=[]){return e=>{e.providersResolver=(i,s)=>function UA(n,t,e){const i=tn();if(i.firstCreatePass){const s=jr(n);fp(e,i.data,i.blueprint,s,!0),fp(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class za{}class ob{}class ab extends za{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new x0(this);const i=Tn(t);this._bootstrapComponents=As(i.bootstrap),this._r3Injector=e0(t,e,[{provide:za,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],Le(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _p extends ob{constructor(t){super(),this.moduleType=t}create(t){return new ab(this.moduleType,t)}}class ZA extends za{constructor(t,e,i){super(),this.componentFactoryResolver=new x0(this),this.instance=null;const s=new Vv([...t,{provide:za,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],e||Ic(),i,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Wc(n,t,e=null){return new ZA(n,t,e).injector}let KA=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Nv(0,e.type),s=i.length>0?Wc([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,s)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ge({token:n,providedIn:"environment",factory:()=>new n(xe(Ms))}),n})();function vp(n){n.getStandaloneInjector=t=>t.get(KA).getOrCreateStandaloneInjector(n)}function pb(n,t,e,i){return function mb(n,t,e,i,s,a){const h=t+e;return Ri(n,h,s)?us(n,h+1,a?i.call(a,s):i(s)):Qu(n,h+1)}(Te(),ji(),n,t,e,i)}function gb(n,t,e,i,s,a,h){return function yb(n,t,e,i,s,a,h,p,y){const T=t+e;return function Ir(n,t,e,i,s,a){const h=Oo(n,t,e,i);return Oo(n,t+2,s,a)||h}(n,T,s,a,h,p)?us(n,T+4,y?i.call(y,s,a,h,p):i(s,a,h,p)):Qu(n,T+4)}(Te(),ji(),n,t,e,i,s,a,h)}function Qu(n,t){const e=n[t];return e===Pt?void 0:e}function Cb(n,t,e,i){const s=n+Ke,a=Te(),h=oa(a,s);return function Ju(n,t){return n[Qe].data[t].pure}(a,s)?function _b(n,t,e,i,s,a,h){const p=t+e;return Oo(n,p,s,a)?us(n,p+2,h?i.call(h,s,a):i(s,a)):Qu(n,p+2)}(a,ji(),t,h.transform,e,i,h):h.transform(e,i)}function bp(n){return t=>{setTimeout(n,void 0,t)}}const gi=class _P extends $e{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let s=t,a=e||(()=>null),h=i;if(t&&"object"==typeof t){const y=t;s=y.next?.bind(y),a=y.error?.bind(y),h=y.complete?.bind(y)}this.__isAsync&&(a=bp(a),s&&(s=bp(s)),h&&(h=bp(h)));const p=super.subscribe({next:s,error:a,complete:h});return t instanceof Ee&&t.add(p),p}};function vP(){return this._results[Symbol.iterator]()}class Ha{get changes(){return this._changes||(this._changes=new gi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ha.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=vP)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=function Dr(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function AE(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],a=t[i];if(e&&(s=e(s),a=e(a)),a!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wr=(()=>{class n{}return n.__NG_ELEMENT_ID__=wP,n})();const yP=Wr,bP=class extends yP{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tView,s=Tc(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);s[ne]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[ge];return null!==h&&(s[ge]=h.createEmbeddedView(i)),jf(i,s,t),new zu(s)}};function wP(){return Gc(Ii(),Te())}function Gc(n,t){return 4&n.type?new bP(t,n,ba(n,t)):null}let dr=(()=>{class n{}return n.__NG_ELEMENT_ID__=CP,n})();function CP(){return Eb(Ii(),Te())}const xP=dr,xb=class extends xP{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const t=Zd(this._hostTNode,this._hostLView);if(x_(t)){const e=uc(t,this._hostLView),i=ac(t);return new la(e[Qe].data[i+8],e)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Sb(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Ei}createEmbeddedView(t,e,i){let s,a;"number"==typeof i?s=i:null!=i&&(s=i.index,a=i.injector);const h=t.createEmbeddedView(e||{},a);return this.insert(h,s),h}createComponent(t,e,i,s,a){const h=t&&!function Tu(n){return"function"==typeof n}(t);let p;if(h)p=e;else{const z=e||{};p=z.index,i=z.injector,s=z.projectableNodes,a=z.environmentInjector||z.ngModuleRef}const y=h?t:new Hu(Jt(t)),T=i||this.parentInjector;if(!a&&null==y.ngModule){const Y=(h?T:this.parentInjector).get(Ms,null);Y&&(a=Y)}const F=y.create(T,s,void 0,a);return this.insert(F.hostView,p),F}insert(t,e){const i=t._lView,s=i[Qe];if(function eE(n){return Hr(n[xn])}(i)){const F=this.indexOf(t);if(-1!==F)this.detach(F);else{const z=i[xn],Y=new xb(z,z[ii],z[xn]);Y.detach(Y.indexOf(t))}}const a=this._adjustIndex(e),h=this._lContainer;!function vD(n,t,e,i){const s=Ei+i,a=e.length;i>0&&(e[s-1][ir]=t),i<a-Ei?(t[ir]=e[s],N_(e,Ei+i,t)):(e.push(t),t[ir]=null),t[xn]=e;const h=t[ne];null!==h&&e!==h&&function yD(n,t){const e=n[zr];t[An]!==t[xn][xn][An]&&(n[Yi]=!0),null===e?n[zr]=[t]:e.push(t)}(h,t);const p=t[ge];null!==p&&p.insertView(n),t[ut]|=64}(s,i,h,a);const p=vf(a,h),y=i[Lt],T=vc(y,h[Sr]);return null!==T&&function gD(n,t,e,i,s,a){i[xr]=s,i[ii]=t,Nu(n,i,e,1,s,a)}(s,h[ii],y,i,T,p),t.attachToViewContainerRef(),N_(wp(h),a,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Sb(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=gf(this._lContainer,e);i&&(fc(wp(this._lContainer),e),sv(i[Qe],i))}detach(t){const e=this._adjustIndex(t,-1),i=gf(this._lContainer,e);return i&&null!=fc(wp(this._lContainer),e)?new zu(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Sb(n){return n[to]}function wp(n){return n[to]||(n[to]=[])}function Eb(n,t){let e;const i=t[n.index];if(Hr(i))e=i;else{let s;if(8&n.type)s=Di(i);else{const a=t[Lt];s=a.createComment("");const h=sr(n,t);Ao(a,vc(a,h),s,function xD(n,t){return n.nextSibling(t)}(a,h),!1)}t[n.index]=e=v0(i,t,s,n),Pc(t,e)}return new xb(e,n,t)}class Cp{constructor(t){this.queryList=t,this.matches=null}clone(){return new Cp(this.queryList)}setDirty(){this.queryList.setDirty()}}class xp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let a=0;a<i;a++){const h=e.getByIndex(a);s.push(this.queries[h.indexInDeclarationView].clone())}return new xp(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ab(t,e).matches&&this.queries[e].setDirty()}}class Db{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Sp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,a=this.getByIndex(i).embeddedTView(t,s);a&&(a.indexInDeclarationView=i,null!==e?e.push(a):e=[a])}return null!==e?new Sp(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ep{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ep(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const a=i[s];this.matchTNodeWithReadOption(t,e,SP(e,a)),this.matchTNodeWithReadOption(t,e,hc(e,t,a,!1,!1))}else i===Wr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===ri||s===dr||s===Wr&&4&e.type)this.addMatch(e.index,-2);else{const a=hc(e,t,s,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function SP(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function DP(n,t,e,i){return-1===e?function EP(n,t){return 11&n.type?ba(n,t):4&n.type?Gc(n,t):null}(t,n):-2===e?function IP(n,t,e){return e===ri?ba(t,n):e===Wr?Gc(t,n):e===dr?Eb(t,n):void 0}(n,t,i):Mo(n,n[Qe],e,t)}function Ib(n,t,e,i){const s=t[ge].queries[i];if(null===s.matches){const a=n.data,h=e.matches,p=[];for(let y=0;y<h.length;y+=2){const T=h[y];p.push(T<0?null:DP(t,a[T],h[y+1],e.metadata.read))}s.matches=p}return s.matches}function Dp(n,t,e,i){const s=n.queries.getByIndex(e),a=s.matches;if(null!==a){const h=Ib(n,t,s,e);for(let p=0;p<a.length;p+=2){const y=a[p];if(y>0)i.push(h[p/2]);else{const T=a[p+1],F=t[-y];for(let z=Ei;z<F.length;z++){const Y=F[z];Y[ne]===Y[xn]&&Dp(Y[Qe],Y,T,i)}if(null!==F[zr]){const z=F[zr];for(let Y=0;Y<z.length;Y++){const Q=z[Y];Dp(Q[Qe],Q,T,i)}}}}}return i}function hs(n){const t=Te(),e=tn(),i=f_();zd(i+1);const s=Ab(e,i);if(n.dirty&&function JS(n){return 4==(4&n[ut])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const a=s.crossesNgTemplate?Dp(e,t,i,[]):Ib(e,t,s,i);n.reset(a,_I),n.notifyOnChanges()}return!0}return!1}function ja(n,t,e){const i=tn();i.firstCreatePass&&(Tb(i,new Db(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Mb(i,Te(),t)}function el(n,t,e,i){const s=tn();if(s.firstCreatePass){const a=Ii();Tb(s,new Db(t,e,i),a.index),function TP(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}Mb(s,Te(),e)}function ds(){return function MP(n,t){return n[ge].queries[t].queryList}(Te(),f_())}function Mb(n,t,e){const i=new Ha(4==(4&e));d0(n,t,i,i.destroy),null===t[ge]&&(t[ge]=new xp),t[ge].queries.push(new Cp(i))}function Tb(n,t,e){null===n.queries&&(n.queries=new Sp),n.queries.track(new Ep(t,e))}function Ab(n,t){return n.queries.getByIndex(t)}function Kc(...n){}const Yc=new We("Application Initializer");let Xc=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Kc,this.reject=Kc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const a=this.appInits[s]();if(Bc(a))e.push(a);else if(V0(a)){const h=new Promise((p,y)=>{a.subscribe({complete:p,error:y})});e.push(h)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(xe(Yc,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nl=new We("AppId",{providedIn:"root",factory:function Zb(){return`${kp()}${kp()}${kp()}`}});function kp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Kb=new We("Platform Initializer"),Rp=new We("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qc=new We("AnimationModuleType");let YP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const fs=new We("LocaleId",{providedIn:"root",factory:()=>Rt(fs,dt.Optional|dt.SkipSelf)||function XP(){return typeof $localize<"u"&&$localize.locale||Va}()});class JP{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Yb=(()=>{class n{compileModuleSync(e){return new _p(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),a=As(Tn(e).declarations).reduce((h,p)=>{const y=Jt(p);return y&&h.push(new Hu(y)),h},[]);return new JP(i,a)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n2=(()=>Promise.resolve(0))();function Op(n){typeof Zone>"u"?n2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class jt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gi(!1),this.onMicrotaskEmpty=new gi(!1),this.onStable=new gi(!1),this.onError=new gi(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function r2(){let n=wn.requestAnimationFrame,t=wn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function a2(n){const t=()=>{!function o2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Fp(n),n.isCheckStableRunning=!0,Np(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Fp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,a,h,p)=>{try{return Jb(n),e.invokeTask(s,a,h,p)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&t(),ew(n)}},onInvoke:(e,i,s,a,h,p,y)=>{try{return Jb(n),e.invoke(s,a,h,p,y)}finally{n.shouldCoalesceRunChangeDetection&&t(),ew(n)}},onHasTask:(e,i,s,a)=>{e.hasTask(s,a),i===s&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,Fp(n),Np(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(e,i,s,a)=>(e.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jt.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(jt.isInAngularZone())throw new M(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const a=this._inner,h=a.scheduleEventTask("NgZoneEvent: "+s,t,s2,Kc,Kc);try{return a.runTask(h,e,i)}finally{a.cancelTask(h)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const s2={};function Np(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Fp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Jb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ew(n){n._nesting--,Np(n)}class u2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gi,this.onMicrotaskEmpty=new gi,this.onStable=new gi,this.onError=new gi}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}const tw=new We(""),Jc=new We("");let Vp,Lp=(()=>{class n{constructor(e,i,s){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vp||(function l2(n){Vp=n}(s),s.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jt.assertNotInAngularZone(),Op(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Op(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==a),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(xe(jt),xe(Bp),xe(Jc))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),Bp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Vp?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Os=!1;let ro=null;const nw=new We("AllowMultipleToken"),zp=new We("PlatformDestroyListeners"),iw=new We("appBootstrapListener");class rw{constructor(t,e){this.name=t,this.token=e}}function ow(n,t,e=[]){const i=`Platform: ${t}`,s=new We(i);return(a=[])=>{let h=Hp();if(!h||h.injector.get(nw,!1)){const p=[...e,...a,{provide:s,useValue:!0}];n?n(p):function d2(n){if(ro&&!ro.get(nw,!1))throw new M(400,!1);ro=n;const t=n.get(uw);(function sw(n){const t=n.get(Kb,null);t&&t.forEach(e=>e())})(n)}(function aw(n=[],t){return lr.create({name:t,providers:[{provide:Af,useValue:"platform"},{provide:zp,useValue:new Set([()=>ro=null])},...n]})}(p,i))}return function p2(n){const t=Hp();if(!t)throw new M(401,!1);return t}()}}function Hp(){return ro?.get(uw)??null}let uw=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const s=function cw(n,t){let e;return e="noop"===n?new u2:("zone.js"===n?void 0:n)||new jt(t),e}(i?.ngZone,function lw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),a=[{provide:jt,useValue:s}];return s.run(()=>{const h=lr.create({providers:a,parent:this.injector,name:e.moduleType.name}),p=e.create(h),y=p.injector.get(Ts,null);if(!y)throw new M(402,!1);return s.runOutsideAngular(()=>{const T=s.onError.subscribe({next:F=>{y.handleError(F)}});p.onDestroy(()=>{eh(this._modules,p),T.unsubscribe()})}),function hw(n,t,e){try{const i=e();return Bc(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(y,s,()=>{const T=p.injector.get(Xc);return T.runInitializers(),T.donePromise.then(()=>(function Ny(n){ei(n,"Expected localeId to be defined"),"string"==typeof n&&(Oy=n.toLowerCase().replace(/_/g,"-"))}(p.injector.get(fs,Va)||Va),this._moduleDoBootstrap(p),p))})})}bootstrapModule(e,i=[]){const s=dw({},i);return function c2(n,t,e){const i=new _p(e);return Promise.resolve(i)}(0,0,e).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(e){const i=e.injector.get(Lo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new M(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(zp,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(xe(lr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function dw(n,t){return Array.isArray(t)?t.reduce(dw,n):{...n,...t}}let Lo=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,i,s){this._zone=e,this._injector=i,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Oe(p=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{p.next(this._stable),p.complete()})}),h=new Oe(p=>{let y;this._zone.runOutsideAngular(()=>{y=this._zone.onStable.subscribe(()=>{jt.assertNotInAngularZone(),Op(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,p.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{jt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{p.next(!1)}))});return()=>{y.unsubscribe(),T.unsubscribe()}});this.isStable=xt(a,h.pipe(pt()))}bootstrap(e,i){const s=e instanceof Hv;if(!this._injector.get(Xc).done){!s&&function Ks(n){const t=Jt(n)||bi(n)||wi(n);return null!==t&&t.standalone}(e);throw new M(405,Os)}let h;h=s?e:this._injector.get(Ro).resolveComponentFactory(e),this.componentTypes.push(h.componentType);const p=function h2(n){return n.isBoundToModule}(h)?void 0:this._injector.get(za),T=h.create(lr.NULL,[],i||h.selector,p),F=T.location.nativeElement,z=T.injector.get(tw,null);return z?.registerApplication(F),T.onDestroy(()=>{this.detachView(T.hostView),eh(this.components,T),z?.unregisterApplication(F)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;eh(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(iw,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>eh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new M(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(xe(jt),xe(Ms),xe(Ts))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=m2,n})();function m2(n){return function _2(n,t,e){if(Cu(n)&&!e){const i=or(n.index,t);return new zu(i,i)}return 47&n.type?new zu(t[An],t):null}(Ii(),Te(),16==(16&n))}class _w{constructor(){}supports(t){return Nc(t)}create(t){return new x2(t)}}const C2=(n,t)=>t;class x2{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||C2}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,a=null;for(;e||i;){const h=!i||e&&e.currentIndex<yw(i,s,a)?e:i,p=yw(h,s,a),y=h.currentIndex;if(h===i)s--,i=i._nextRemoved;else if(e=e._next,null==h.previousIndex)s++;else{a||(a=[]);const T=p-s,F=y-s;if(T!=F){for(let Y=0;Y<T;Y++){const Q=Y<a.length?a[Y]:a[Y]=0,ie=Q+Y;F<=ie&&ie<T&&(a[Y]=Q+1)}a[h.previousIndex]=F-T}}p!==y&&t(h,p,y)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Nc(t))throw new M(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,a,h,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)a=t[p],h=this._trackByFn(p,a),null!==e&&Object.is(e.trackById,h)?(i&&(e=this._verifyReinsertion(e,a,h,p)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,h,p),i=!0),e=e._next}else s=0,function JM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,p=>{h=this._trackByFn(s,p),null!==e&&Object.is(e.trackById,h)?(i&&(e=this._verifyReinsertion(e,p,h,s)),Object.is(e.item,p)||this._addIdentityChange(e,p)):(e=this._mismatch(e,p,h,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,a,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,a,s)):t=this._addAfter(new S2(e,i),a,s),t}_verifyReinsertion(t,e,i,s){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==a?t=this._reinsertAfter(a,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,a=t._nextRemoved;return null===s?this._removalsHead=a:s._nextRemoved=a,null===a?this._removalsTail=s:a._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new vw),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class S2{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E2{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class vw{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new E2,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yw(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class bw{constructor(){}supports(t){return t instanceof Map||tp(t)}create(){return new D2}}class D2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||tp(t)))throw new M(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const a=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,a)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const a=s._prev,h=s._next;return a&&(a._next=h),h&&(h._prev=a),s._next=null,s._prev=null,s}const i=new I2(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class I2{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ww(){return new ih([new _w])}let ih=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ww()),deps:[[n,new ga,new Ds]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new M(901,!1)}}return n.\u0275prov=Ge({token:n,providedIn:"root",factory:ww}),n})();function Cw(){return new il([new bw])}let il=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Cw()),deps:[[n,new ga,new Ds]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new M(901,!1)}}return n.\u0275prov=Ge({token:n,providedIn:"root",factory:Cw}),n})();const A2=ow(null,"core",[]);let P2=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(xe(Lo))},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({}),n})(),Gp=null;function Vo(){return Gp}class O2{}const qt=new We("DocumentToken");let Zp=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(){return function N2(){return xe(xw)}()},providedIn:"platform"}),n})();const F2=new We("Location Initialized");let xw=(()=>{class n extends Zp{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vo().getBaseHref(this._doc)}onPopState(e){const i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,s){Sw()?this._history.pushState(e,i,s):this._location.hash=s}replaceState(e,i,s){Sw()?this._history.replaceState(e,i,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(xe(qt))},n.\u0275prov=Ge({token:n,factory:function(){return function L2(){return new xw(xe(qt))}()},providedIn:"platform"}),n})();function Sw(){return!!window.history.pushState}function Kp(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ew(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ns(n){return n&&"?"!==n[0]?"?"+n:n}let zo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(){return Rt(Iw)},providedIn:"root"}),n})();const Dw=new We("appBaseHref");let Iw=(()=>{class n extends zo{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Rt(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Kp(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ns(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,a){const h=this.prepareExternalUrl(s+Ns(a));this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,a){const h=this.prepareExternalUrl(s+Ns(a));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(xe(Zp),xe(Dw,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B2=(()=>{class n extends zo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Kp(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,a){let h=this.prepareExternalUrl(s+Ns(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,s,a){let h=this.prepareExternalUrl(s+Ns(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(xe(Zp),xe(Dw,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),rh=(()=>{class n{constructor(e){this._subject=new gi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function H2(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ew(Mw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ns(i))}normalize(e){return n.stripTrailingSlash(function z2(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Mw(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._locationStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ns(i)),s)}replaceState(e,i="",s=null){this._locationStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ns(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=Ns,n.joinWithSlash=Kp,n.stripTrailingSlash=Ew,n.\u0275fac=function(e){return new(e||n)(xe(zo))},n.\u0275prov=Ge({token:n,factory:function(){return function V2(){return new rh(xe(zo))}()},providedIn:"root"}),n})();function Mw(n){return n.replace(/\/index.html$/,"")}var er=(()=>((er=er||{})[er.Decimal=0]="Decimal",er[er.Percent=1]="Percent",er[er.Currency=2]="Currency",er[er.Scientific=3]="Scientific",er))(),vt=(()=>((vt=vt||{})[vt.Decimal=0]="Decimal",vt[vt.Group=1]="Group",vt[vt.List=2]="List",vt[vt.PercentSign=3]="PercentSign",vt[vt.PlusSign=4]="PlusSign",vt[vt.MinusSign=5]="MinusSign",vt[vt.Exponential=6]="Exponential",vt[vt.SuperscriptingExponent=7]="SuperscriptingExponent",vt[vt.PerMille=8]="PerMille",vt[vt.Infinity=9]="Infinity",vt[vt.NaN=10]="NaN",vt[vt.TimeSeparator=11]="TimeSeparator",vt[vt.CurrencyDecimal=12]="CurrencyDecimal",vt[vt.CurrencyGroup=13]="CurrencyGroup",vt))();function Mr(n,t){const e=qi(n),i=e[Xe.NumberSymbols][t];if(typeof i>"u"){if(t===vt.CurrencyDecimal)return e[Xe.NumberSymbols][vt.Decimal];if(t===vt.CurrencyGroup)return e[Xe.NumberSymbols][vt.Group]}return i}const fk=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ow=22,fh=".",sl="0",pk=";",gk=",",eg="#";function ig(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}const sg=/\s+/,Lw=[];let Bw=(()=>{class n{constructor(e,i,s,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this.initialClasses=Lw,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(sg):Lw}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(sg):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const s=this.stateMap.get(e);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],s=e[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(sg).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(Ie(ih),Ie(il),Ie(ri),Ie(wa))},n.\u0275dir=Tt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Dk{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ol=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,a,h)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Dk(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===a?void 0:a);else if(null!==a){const p=i.get(a);i.move(p,h),Hw(p,s)}});for(let s=0,a=i.length;s<a;s++){const p=i.get(s).context;p.index=s,p.count=a,p.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{Hw(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(Ie(dr),Ie(Wr),Ie(ih))},n.\u0275dir=Tt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Hw(n,t){n.context.$implicit=t.item}let al=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Mk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){jw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){jw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(Ie(dr),Ie(Wr))},n.\u0275dir=Tt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Mk{constructor(){this.$implicit=null,this.ngIf=null}}function jw(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Le(t)}'.`)}let $w=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,a]=e.split("."),h=-1===s.indexOf("-")?void 0:Xi.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,a?`${i}${a}`:i,h):this._renderer.removeStyle(this._ngEl.nativeElement,s,h)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(il),Ie(wa))},n.\u0275dir=Tt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();let Ww=(()=>{class n{constructor(e){this._locale=e}transform(e,i,s){if(!function ug(n){return!(null==n||""===n||n!=n)}(e))return null;s=s||this._locale;try{return function yk(n,t,e){return function tg(n,t,e,i,s,a,h=!1){let p="",y=!1;if(isFinite(n)){let T=function wk(n){let i,s,a,h,p,t=Math.abs(n)+"",e=0;for((s=t.indexOf(fh))>-1&&(t=t.replace(fh,"")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),a=0;t.charAt(a)===sl;a++);if(a===(p=t.length))i=[0],s=1;else{for(p--;t.charAt(p)===sl;)p--;for(s-=a,i=[],h=0;a<=p;a++,h++)i[h]=Number(t.charAt(a))}return s>Ow&&(i=i.splice(0,Ow-1),e=s-1,s=1),{digits:i,exponent:e,integerLen:s}}(n);h&&(T=function bk(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(T));let F=t.minInt,z=t.minFrac,Y=t.maxFrac;if(a){const Be=a.match(fk);if(null===Be)throw new Error(`${a} is not a valid digit info`);const we=Be[1],et=Be[3],nn=Be[5];null!=we&&(F=ig(we)),null!=et&&(z=ig(et)),null!=nn?Y=ig(nn):null!=et&&z>Y&&(Y=z)}!function Ck(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,s=i.length-n.integerLen;const a=Math.min(Math.max(t,s),e);let h=a+n.integerLen,p=i[h];if(h>0){i.splice(Math.max(n.integerLen,h));for(let z=h;z<i.length;z++)i[z]=0}else{s=Math.max(0,s),n.integerLen=1,i.length=Math.max(1,h=a+1),i[0]=0;for(let z=1;z<h;z++)i[z]=0}if(p>=5)if(h-1<0){for(let z=0;z>h;z--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[h-1]++;for(;s<Math.max(0,a);s++)i.push(0);let y=0!==a;const T=t+n.integerLen,F=i.reduceRight(function(z,Y,Q,ie){return ie[Q]=(Y+=z)<10?Y:Y-10,y&&(0===ie[Q]&&Q>=T?ie.pop():y=!1),Y>=10?1:0},0);F&&(i.unshift(F),n.integerLen++)}(T,z,Y);let Q=T.digits,ie=T.integerLen;const le=T.exponent;let me=[];for(y=Q.every(Be=>!Be);ie<F;ie++)Q.unshift(0);for(;ie<0;ie++)Q.unshift(0);ie>0?me=Q.splice(ie,Q.length):(me=Q,Q=[0]);const Ce=[];for(Q.length>=t.lgSize&&Ce.unshift(Q.splice(-t.lgSize,Q.length).join(""));Q.length>t.gSize;)Ce.unshift(Q.splice(-t.gSize,Q.length).join(""));Q.length&&Ce.unshift(Q.join("")),p=Ce.join(Mr(e,i)),me.length&&(p+=Mr(e,s)+me.join("")),le&&(p+=Mr(e,vt.Exponential)+"+"+le)}else p=Mr(e,vt.Infinity);return p=n<0&&!y?t.negPre+p+t.negSuf:t.posPre+p+t.posSuf,p}(n,function ng(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(pk),s=i[0],a=i[1],h=-1!==s.indexOf(fh)?s.split(fh):[s.substring(0,s.lastIndexOf(sl)+1),s.substring(s.lastIndexOf(sl)+1)],p=h[0],y=h[1]||"";e.posPre=p.substring(0,p.indexOf(eg));for(let F=0;F<y.length;F++){const z=y.charAt(F);z===sl?e.minFrac=e.maxFrac=F+1:z===eg?e.maxFrac=F+1:e.posSuf+=z}const T=p.split(gk);if(e.gSize=T[1]?T[1].length:0,e.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,a){const F=s.length-e.posPre.length-e.posSuf.length,z=a.indexOf(eg);e.negPre=a.substring(0,z).replace(/'/g,""),e.negSuf=a.slice(z+F).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Yp(n,t){return qi(n)[Xe.NumberFormats][t]}(t,er.Decimal),Mr(t,vt.MinusSign)),t,vt.Group,vt.Decimal,e)}(function lg(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),s,i)}catch(a){throw function Kr(n,t){return new M(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(Ie(fs,16))},n.\u0275pipe=Fn({name:"number",type:n,pure:!0,standalone:!0}),n})();let Gw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({}),n})();const Zw="browser";let iR=(()=>{class n{}return n.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>new rR(xe(qt),window)}),n})();class rR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function sR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const a=s.shadowRoot;if(a){const h=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(h)return h}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],s-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Kw(this.window.history)||Kw(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kw(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class RR extends O2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dg extends RR{static makeCurrent(){!function R2(n){Gp||(Gp=n)}(new dg)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function OR(){return ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null}();return null==e?null:function NR(n){mh=mh||document.createElement("a"),mh.setAttribute("href",n);const t=mh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Sk(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let mh,ll=null;const e1=new We("TRANSITION_ID"),LR=[{provide:Yc,useFactory:function FR(n,t,e){return()=>{e.get(Xc).donePromise.then(()=>{const i=Vo(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<s.length;a++)i.remove(s[a])})}},deps:[e1,qt,lr],multi:!0}];let VR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();const _h=new We("EventManagerPlugins");let vh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let a=0;a<s.length;a++){const h=s[a];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(xe(_h),xe(jt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();class t1{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=Vo().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let n1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const s=this.usageCount;let a=s.get(e)??0;return a+=i,a>0?s.set(e,a):s.delete(e),a}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),cl=(()=>{class n extends n1{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(a=>a.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const s=this.doc.createElement("style");s.textContent=i,e.appendChild(s);const a=this.styleRef.get(i);a?a.push(s):this.styleRef.set(i,[s])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(xe(qt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();const fg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pg=/%COMP%/g,o1=new We("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function a1(n,t){return t.flat(100).map(e=>e.replace(pg,n))}function u1(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let yh=(()=>{class n{constructor(e,i,s,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new gg(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const s=this.getOrCreateRenderer(e,i);return s instanceof h1?s.applyToHost(e):s instanceof mg&&s.applyStyles(),s}getOrCreateRenderer(e,i){const s=this.rendererByCompId;let a=s.get(i.id);if(!a){const h=this.eventManager,p=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(i.encapsulation){case Ki.Emulated:a=new h1(h,p,i,this.appId,y);break;case Ki.ShadowDom:return new WR(h,p,e,i);default:a=new mg(h,p,i,y)}a.onDestroy=()=>s.delete(i.id),s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(xe(vh),xe(cl),xe(nl),xe(o1))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();class gg{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(fg[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(c1(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(c1(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const a=fg[s];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=fg[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(Xi.DashCase|Xi.Important)?t.style.setProperty(e,i,s&Xi.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Xi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,u1(i)):this.eventManager.addEventListener(t,e,u1(i))}}function c1(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class WR extends gg{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=a1(s.id,s.styles);for(const h of a){const p=document.createElement("style");p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mg extends gg{constructor(t,e,i,s,a=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=a1(a,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class h1 extends mg{constructor(t,e,i,s,a){const h=s+"-"+i.id;super(t,e,i,a,h),this.contentAttr=function UR(n){return"_ngcontent-%COMP%".replace(pg,n)}(h),this.hostAttr=function $R(n){return"_nghost-%COMP%".replace(pg,n)}(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let GR=(()=>{class n extends t1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(xe(qt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();const d1=["alt","control","meta","shift"],ZR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let YR=(()=>{class n extends t1{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const a=n.parseEventName(i),h=n.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(e,a.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=n._normalizeKey(i.pop());let h="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),h="code."),d1.forEach(T=>{const F=i.indexOf(T);F>-1&&(i.splice(F,1),h+=T+".")}),h+=a,0!=i.length||0===a.length)return null;const y={};return y.domEventName=s,y.fullKey=h,y}static matchEventFullKeyCode(e,i){let s=ZR[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(s=e.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),d1.forEach(h=>{h!==s&&(0,KR[h])(e)&&(a+=h+".")}),a+=s,a===i)}static eventCallback(e,i,s){return a=>{n.matchEventFullKeyCode(a,e)&&s.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(xe(qt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();const eO=ow(A2,"browser",[{provide:Rp,useValue:Zw},{provide:Kb,useValue:function XR(){dg.makeCurrent()},multi:!0},{provide:qt,useFactory:function JR(){return function PD(n){Cf=n}(document),document},deps:[]}]),g1=new We(""),m1=[{provide:Jc,useClass:class BR{addToWindow(t){wn.getAngularTestability=(i,s=!0)=>{const a=t.findTestabilityInTree(i,s);if(null==a)throw new Error("Could not find testability for element.");return a},wn.getAllAngularTestabilities=()=>t.getAllTestabilities(),wn.getAllAngularRootElements=()=>t.getAllRootElements(),wn.frameworkStabilizers||(wn.frameworkStabilizers=[]),wn.frameworkStabilizers.push(i=>{const s=wn.getAllAngularTestabilities();let a=s.length,h=!1;const p=function(y){h=h||y,a--,0==a&&i(h)};s.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Vo().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:tw,useClass:Lp,deps:[jt,Bp,Jc]},{provide:Lp,useClass:Lp,deps:[jt,Bp,Jc]}],_1=[{provide:Af,useValue:"root"},{provide:Ts,useFactory:function QR(){return new Ts},deps:[]},{provide:_h,useClass:GR,multi:!0,deps:[qt,jt,Rp]},{provide:_h,useClass:YR,multi:!0,deps:[qt]},{provide:yh,useClass:yh,deps:[vh,cl,nl,o1]},{provide:Bu,useExisting:yh},{provide:n1,useExisting:cl},{provide:cl,useClass:cl,deps:[qt]},{provide:vh,useClass:vh,deps:[_h,jt]},{provide:class oR{},useClass:VR,deps:[]},[]];let v1=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:nl,useValue:e.appId},{provide:e1,useExisting:nl},LR]}}}return n.\u0275fac=function(e){return new(e||n)(xe(g1,12))},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({providers:[..._1,...m1],imports:[Gw,P2]}),n})(),y1=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(xe(qt))},n.\u0275prov=Ge({token:n,factory:function(e){let i=null;return i=e?new e:function nO(){return new y1(xe(qt))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let bg,yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(e){let i=null;return i=e?new(e||n):xe(C1),i},providedIn:"root"}),n})(),C1=(()=>{class n extends yg{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case cn.NONE:return i;case cn.HTML:return os(i,"HTML")?ur(i):Mv(this._doc,String(i)).toString();case cn.STYLE:return os(i,"Style")?ur(i):i;case cn.SCRIPT:if(os(i,"Script"))return ur(i);throw new Error("unsafe value used in a script context");case cn.URL:return os(i,"URL")?ur(i):xc(String(i));case cn.RESOURCE_URL:if(os(i,"ResourceURL"))return ur(i);throw new Error(`unsafe value used in a resource URL context (see ${_})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${_})`)}}bypassSecurityTrustHtml(e){return function BD(n){return new kD(n)}(e)}bypassSecurityTrustStyle(e){return function VD(n){return new RD(n)}(e)}bypassSecurityTrustScript(e){return function zD(n){return new OD(n)}(e)}bypassSecurityTrustUrl(e){return function HD(n){return new ND(n)}(e)}bypassSecurityTrustResourceUrl(e){return function jD(n){return new FD(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(xe(qt))},n.\u0275prov=Ge({token:n,factory:function(e){let i=null;return i=e?new e:function aO(n){return new C1(n.get(qt))}(xe(lr)),i},providedIn:"root"}),n})();try{bg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bg=!1}let hl,bh,Ho,wg,Yr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function nR(n){return n===Zw}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(xe(Rp))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dl(n){return function uO(){if(null==hl&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hl=!0}))}finally{hl=hl||!1}return hl}()?n:!!n.capture}function S1(){if(null==Ho){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ho=!1,Ho;if("scrollBehavior"in document.documentElement.style)Ho=!0;else{const n=Element.prototype.scrollTo;Ho=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ho}function fl(){if("object"!=typeof document||!document)return 0;if(null==bh){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),bh=0,0===n.scrollLeft&&(n.scrollLeft=1,bh=0===n.scrollLeft?1:2),n.remove()}return bh}function oo(n){return n.composedPath?n.composedPath()[0]:n.target}function Cg(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class Ar extends $e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function ot(...n){return ct(n,he(n))}function I1(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ai(n,t,e){const i=It(n)||t||e?{next:n,error:t,complete:e}:n;return i?dn((s,a)=>{var h;null===(h=i.subscribe)||void 0===h||h.call(i);let p=!0;s.subscribe(Ut(a,y=>{var T;null===(T=i.next)||void 0===T||T.call(i,y),a.next(y)},()=>{var y;p=!1,null===(y=i.complete)||void 0===y||y.call(i),a.complete()},y=>{var T;p=!1,null===(T=i.error)||void 0===T||T.call(i,y),a.error(y)},()=>{var y,T;p&&(null===(y=i.unsubscribe)||void 0===y||y.call(i)),null===(T=i.finalize)||void 0===T||T.call(i)}))}):Rn}class MO extends Ee{constructor(t,e){super()}schedule(t,e=0){return this}}const wh={setInterval(n,t,...e){const{delegate:i}=wh;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=wh;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Eg extends MO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const s=this.id,a=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(a,s,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,i=0){return wh.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&wh.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(a){i=!0,s=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_i(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const M1={now:()=>(M1.delegate||Date).now(),delegate:void 0};class pl{constructor(t,e=pl.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}pl.now=M1.now;class Dg extends pl{constructor(t,e=pl.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Ch=new Dg(Eg),TO=Ch;function T1(n,t=Ch){return dn((e,i)=>{let s=null,a=null,h=null;const p=()=>{if(s){s.unsubscribe(),s=null;const T=a;a=null,i.next(T)}};function y(){const T=h+n,F=t.now();if(F<T)return s=this.schedule(void 0,T-F),void i.add(s);p()}e.subscribe(Ut(i,T=>{a=T,h=t.now(),s||(s=t.schedule(y,n),i.add(s))},()=>{p(),i.complete()},void 0,()=>{a=s=null}))})}function Mi(n,t){return dn((e,i)=>{let s=0;e.subscribe(Ut(i,a=>n.call(t,a,s++)&&i.next(a)))})}function A1(n){return Mi((t,e)=>n<=e)}function PO(n,t){return n===t}function ao(n){return dn((t,e)=>{A(n).subscribe(Ut(e,()=>e.complete(),En)),!e.closed&&t.subscribe(e)})}function Wa(n){return null!=n&&"false"!=`${n}`}function xh(n){return Array.isArray(n)?n:[n]}function ui(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ga(n){return n instanceof ri?n.nativeElement:n}const{isArray:RO}=Array,{getPrototypeOf:OO,prototype:NO,keys:FO}=Object;function P1(n){if(1===n.length){const t=n[0];if(RO(t))return{args:t,keys:null};if(function LO(n){return n&&"object"==typeof n&&OO(n)===NO}(t)){const e=FO(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:BO}=Array;function Ig(n){return Ye(t=>function VO(n,t){return BO(t)?n(...t):n(t)}(n,t))}function k1(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}function Mg(...n){const t=he(n),e=_e(n),{args:i,keys:s}=P1(n);if(0===i.length)return ct([],t);const a=new Oe(function zO(n,t,e=Rn){return i=>{R1(t,()=>{const{length:s}=n,a=new Array(s);let h=s,p=s;for(let y=0;y<s;y++)R1(t,()=>{const T=ct(n[y],t);let F=!1;T.subscribe(Ut(i,z=>{a[y]=z,F||(F=!0,p--),p||i.next(e(a.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,t,s?h=>k1(s,h):Rn));return e?a.pipe(Ig(e)):a}function R1(n,t,e){n?U(e,n,t):t()}function gl(...n){return function HO(){return K(1)}()(ct(n,he(n)))}function fr(n){return n<=0?()=>X:dn((t,e)=>{let i=0;t.subscribe(Ut(e,s=>{++i<=n&&(e.next(s),n<=i&&e.complete())}))})}function Za(...n){const t=he(n);return dn((e,i)=>{(t?gl(n,e,t):gl(n,e)).subscribe(i)})}const O1=new Set;let Ka,jO=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$O}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function UO(n){if(!O1.has(n))try{Ka||(Ka=document.createElement("style"),Ka.setAttribute("type","text/css"),document.head.appendChild(Ka)),Ka.sheet&&(Ka.sheet.insertRule(`@media ${n} {body{ }}`,0),O1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(xe(Yr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $O(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qO=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new $e}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return N1(xh(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let a=Mg(N1(xh(e)).map(h=>this._registerQuery(h).observable));return a=gl(a.pipe(fr(1)),a.pipe(A1(1),T1(0))),a.pipe(Ye(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:y,query:T})=>{p.matches=p.matches||y,p.breakpoints[T]=y}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new Oe(h=>{const p=y=>this._zone.run(()=>h.next(y));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(Za(i),Ye(({matches:h})=>({query:e,matches:h})),ao(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(xe(jO),xe(jt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class ZO{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new $e,this._typeaheadSubscription=Ee.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new $e,this.change=new $e,t instanceof Ha&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ai(e=>this._pressedLetters.push(e)),T1(t),Mi(()=>this._pressedLetters.length>0),Ye(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const a=(this._activeItemIndex+s)%i.length,h=i[a];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&s){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&s){const a=this._activeItemIndex+this._pageUpAndDown.delta,h=this._getItemsArray().length;this._setActiveItemByIndex(a<h?a:h-1,-1);break}return;default:return void((s||I1(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Ha?this._items.toArray():this._items}}class KO extends ZO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Tg(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Ag(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const tN=new We("cdk-input-modality-detector-options"),nN={ignoreKeys:[18,17,224,91,16]},Ya=dl({passive:!0,capture:!0});let iN=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,s,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Ar(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(p=>p===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=oo(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Tg(h)?"keyboard":"mouse"),this._mostRecentTarget=oo(h))},this._onTouchstart=h=>{Ag(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=oo(h))},this._options={...nN,...a},this.modalityDetected=this._modality.pipe(A1(1)),this.modalityChanged=this.modalityDetected.pipe(function AO(n,t=Rn){return n=n??PO,dn((e,i)=>{let s,a=!0;e.subscribe(Ut(i,h=>{const p=t(h);(a||!n(s,p))&&(a=!1,s=p,i.next(h))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Ya),s.addEventListener("mousedown",this._onMousedown,Ya),s.addEventListener("touchstart",this._onTouchstart,Ya)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ya),document.removeEventListener("mousedown",this._onMousedown,Ya),document.removeEventListener("touchstart",this._onTouchstart,Ya))}}return n.\u0275fac=function(e){return new(e||n)(xe(Yr),xe(jt),xe(qt),xe(tN,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sN=new We("cdk-focus-monitor-default-options"),Sh=dl({passive:!0,capture:!0});let z1=(()=>{class n{constructor(e,i,s,a,h){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $e,this._rootNodeFocusAndBlurListener=p=>{for(let T=oo(p);T;T=T.parentElement)"focus"===p.type?this._onFocus(p,T):this._onBlur(p,T)},this._document=a,this._detectionMode=h?.detectionMode||0}monitor(e,i=!1){const s=Ga(e);if(!this._platform.isBrowser||1!==s.nodeType)return ot(null);const a=function cO(n){if(function lO(){if(null==wg){const n=typeof document<"u"?document.head:null;wg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return wg}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(s)||this._getDocument(),h=this._elementInfo.get(s);if(h)return i&&(h.checkChildren=!0),h.subject;const p={checkChildren:i,subject:new $e,rootNode:a};return this._elementInfo.set(s,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const i=Ga(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const a=Ga(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([p,y])=>this._originChanged(p,i,y)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),a=oo(e);!s||!s.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sh),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sh)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ao(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sh),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sh),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,a)=>{(a===e||s.checkChildren&&a.contains(e))&&i.push([a,s])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let h=0;h<a.length;h++)if(a[h].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(xe(jt),xe(Yr),xe(iN),xe(qt,8),xe(sN,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H1="cdk-high-contrast-black-on-white",j1="cdk-high-contrast-white-on-black",Pg="cdk-high-contrast-active";let oN=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Rt(qO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Pg,H1,j1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Pg,H1):2===i&&e.add(Pg,j1)}}}return n.\u0275fac=function(e){return new(e||n)(xe(Yr),xe(qt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aN=new We("cdk-dir-doc",{providedIn:"root",factory:function uN(){return Rt(qt)}}),lN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ml=(()=>{class n{constructor(e){this.value="ltr",this.change=new gi,e&&(this.value=function cN(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?lN.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(xe(aN,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_l=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({}),n})();const dN=new We("mat-sanity-checks",{providedIn:"root",factory:function hN(){return!0}});let uo=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Cg()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(xe(oN),xe(dN,8),xe(qt))},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({imports:[_l,_l]}),n})();function fN(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Wa(t)}constructor(...t){super(...t),this._disabled=!1}}}function pN(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function gN(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Wa(t)}constructor(...t){super(...t),this._disableRipple=!1}}}class _N{constructor(t,e,i,s=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const q1=dl({passive:!0,capture:!0});class vN{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=oo(t);e&&this._events.get(t.type)?.forEach((i,s)=>{(s===e||s.contains(e))&&i.forEach(a=>a.handleEvent(t))})}}addHandler(t,e,i,s){const a=this._events.get(e);if(a){const h=a.get(i);h?h.add(s):a.set(i,new Set([s]))}else this._events.set(e,new Map([[i,new Set([s])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,q1)})}removeHandler(t,e,i){const s=this._events.get(t);if(!s)return;const a=s.get(e);a&&(a.delete(i),0===a.size&&s.delete(e),0===s.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,q1)))}}const W1={enterDuration:225,exitDuration:150},G1=dl({passive:!0,capture:!0}),Z1=["mousedown","touchstart"],K1=["mouseup","mouseleave","touchend","touchcancel"];class yl{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Ga(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...W1,...i.animation};i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const h=i.radius||function bN(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),p=t-s.left,y=e-s.top,T=a.enterDuration,F=document.createElement("div");F.classList.add("mat-ripple-element"),F.style.left=p-h+"px",F.style.top=y-h+"px",F.style.height=2*h+"px",F.style.width=2*h+"px",null!=i.color&&(F.style.backgroundColor=i.color),F.style.transitionDuration=`${T}ms`,this._containerElement.appendChild(F);const z=window.getComputedStyle(F),Q=z.transitionDuration,ie="none"===z.transitionProperty||"0s"===Q||"0s, 0s"===Q||0===s.width&&0===s.height,le=new _N(this,F,i,ie);F.style.transform="scale3d(1, 1, 1)",le.state=0,i.persistent||(this._mostRecentTransientRipple=le);let me=null;return!ie&&(T||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ce=()=>this._finishRippleTransition(le),Be=()=>this._destroyRipple(le);F.addEventListener("transitionend",Ce),F.addEventListener("transitioncancel",Be),me={onTransitionEnd:Ce,onTransitionCancel:Be}}),this._activeRipples.set(le,me),(ie||!T)&&this._finishRippleTransition(le),le}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...W1,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ga(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Z1.forEach(i=>{yl._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{K1.forEach(e=>{this._triggerElement.addEventListener(e,this,G1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Tg(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ag(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Z1.forEach(e=>yl._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&K1.forEach(e=>t.removeEventListener(e,this,G1)))}}yl._eventManager=new vN;const wN=new We("mat-ripple-global-options");let CN=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,s,a,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new yl(this,i,e,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(jt),Ie(Yr),Ie(wN,8),Ie(Qc,8))},n.\u0275dir=Tt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&La("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({imports:[uo,uo]}),n})();function Xa(n,t){const e=It(n)?n:()=>n,i=s=>s.error(e());return new Oe(t?s=>t.schedule(i,0,s):i)}function Ls(n){return dn((t,e)=>{let a,i=null,s=!1;i=t.subscribe(Ut(e,void 0,void 0,h=>{a=A(n(h,Ls(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,a.subscribe(e))})}function Eh(n){return dn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function lo(n,t){return It(t)?q(n,t,1):q(n,1)}class kg{}class co{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),a=s.toLowerCase(),h=e.slice(i+1).trim();this.maybeSetNormalizedName(s,a),this.headers.has(a)?this.headers.get(a).push(h):this.headers.set(a,[h])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof co?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new co;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof co?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const a=t.value;if(a){let h=this.headers.get(e);if(!h)return;h=h.filter(p=>-1===a.indexOf(p)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class SN{encodeKey(t){return Q1(t)}encodeValue(t){return Q1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const DN=/%(\d[a-f0-9])/gi,IN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q1(n){return encodeURIComponent(n).replace(DN,(t,e)=>IN[e]??t)}function Dh(n){return`${n}`}class ho{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new SN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function EN(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const a=s.indexOf("="),[h,p]=-1==a?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,a)),t.decodeValue(s.slice(a+1))],y=e.get(h)||[];y.push(p),e.set(h,y)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],s=Array.isArray(i)?i.map(Dh):[Dh(i)];this.map.set(e,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ho({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Dh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(Dh(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class MN{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function J1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eC(n){return typeof Blob<"u"&&n instanceof Blob}function tC(n){return typeof FormData<"u"&&n instanceof FormData}class bl{constructor(t,e,i,s){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function TN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,a=s):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new co),this.context||(this.context=new MN),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+h}}else this.params=new ho,this.urlWithParams=e}serializeBody(){return null===this.body?null:J1(this.body)||eC(this.body)||tC(this.body)||function AN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ho?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tC(this.body)?null:eC(this.body)?this.body.type||null:J1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ho?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,s=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,T=t.params||this.params;const F=t.context??this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((z,Y)=>z.set(Y,t.setHeaders[Y]),y)),t.setParams&&(T=Object.keys(t.setParams).reduce((z,Y)=>z.set(Y,t.setParams[Y]),T)),new bl(e,i,a,{params:T,headers:y,context:F,reportProgress:p,responseType:s,withCredentials:h})}}var Ti=(()=>((Ti=Ti||{})[Ti.Sent=0]="Sent",Ti[Ti.UploadProgress=1]="UploadProgress",Ti[Ti.ResponseHeader=2]="ResponseHeader",Ti[Ti.DownloadProgress=3]="DownloadProgress",Ti[Ti.Response=4]="Response",Ti[Ti.User=5]="User",Ti))();class PN{constructor(t,e=200,i="OK"){this.headers=t.headers||new co,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Rg extends PN{constructor(t={}){super(t),this.type=Ti.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Rg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Og(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ng=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let a;if(e instanceof bl)a=e;else{let y,T;y=s.headers instanceof co?s.headers:new co(s.headers),s.params&&(T=s.params instanceof ho?s.params:new ho({fromObject:s.params})),a=new bl(e,i,void 0!==s.body?s.body:null,{headers:y,context:s.context,params:T,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=ot(a).pipe(lo(y=>this.handler.handle(y)));if(e instanceof bl||"events"===s.observe)return h;const p=h.pipe(Mi(y=>y instanceof Rg));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe(Ye(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe(Ye(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe(Ye(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe(Ye(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ho).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,Og(s,i))}post(e,i,s={}){return this.request("POST",e,Og(s,i))}put(e,i,s={}){return this.request("PUT",e,Og(s,i))}}return n.\u0275fac=function(e){return new(e||n)(xe(kg))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();const $N=["*"];let Mh;function wl(n){return function qN(){if(void 0===Mh&&(Mh=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Mh=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Mh}()?.createHTML(n)||n}function lC(n){return Error(`Unable to find icon with the name "${n}"`)}function cC(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function hC(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class jo{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Th=(()=>{class n{constructor(e,i,s,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,a){return this._addSvgIconConfig(e,i,new jo(s,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,a){const h=this._sanitizer.sanitize(cn.HTML,s);if(!h)throw hC(s);const p=wl(h);return this._addSvgIconConfig(e,i,new jo("",p,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new jo(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const a=this._sanitizer.sanitize(cn.HTML,i);if(!a)throw hC(i);const h=wl(a);return this._addSvgIconSetConfig(e,new jo("",h,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(cn.RESOURCE_URL,e);if(!i)throw cC(e);const s=this._cachedIconsByUrl.get(i);return s?ot(Ah(s)):this._loadSvgIconFromConfig(new jo(e,null)).pipe(ai(a=>this._cachedIconsByUrl.set(i,a)),Ye(a=>Ah(a)))}getNamedSvgIcon(e,i=""){const s=dC(i,e);let a=this._svgIconConfigs.get(s);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(s,a),this._getSvgFromConfig(a);const h=this._iconSetConfigs.get(i);return h?this._getSvgFromIconSetConfigs(e,h):Xa(lC(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ot(Ah(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Ye(i=>Ah(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?ot(s):function xN(...n){const t=_e(n),{args:e,keys:i}=P1(n),s=new Oe(a=>{const{length:h}=e;if(!h)return void a.complete();const p=new Array(h);let y=h,T=h;for(let F=0;F<h;F++){let z=!1;A(e[F]).subscribe(Ut(a,Y=>{z||(z=!0,T--),p[F]=Y},()=>y--,void 0,()=>{(!y||!z)&&(T||a.next(i?k1(i,p):p),a.complete())}))}});return t?s.pipe(Ig(t)):s}(i.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(Ls(p=>{const T=`Loading icon set URL: ${this._sanitizer.sanitize(cn.RESOURCE_URL,h.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(T)),ot(null)})))).pipe(Ye(()=>{const h=this._extractIconWithNameFromAnySet(e,i);if(!h)throw lC(e);return h}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const a=i[s];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const h=this._svgElementFromConfig(a),p=this._extractSvgIconFromSet(h,e,a.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ai(i=>e.svgText=i),Ye(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ot(null):this._fetchIcon(e).pipe(ai(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const h=a.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,s);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),s);const p=this._svgElementFromString(wl("<svg></svg>"));return p.appendChild(h),this._setSvgAttributes(p,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString(wl("<svg></svg>")),s=e.attributes;for(let a=0;a<s.length;a++){const{name:h,value:p}=s[a];"id"!==h&&i.setAttribute(h,p)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:s}=e,a=s?.withCredentials??!1;if(!this._httpClient)throw function WN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(cn.RESOURCE_URL,i);if(!h)throw cC(i);const p=this._inProgressUrlFetches.get(h);if(p)return p;const y=this._httpClient.get(h,{responseType:"text",withCredentials:a}).pipe(Ye(T=>wl(T)),Eh(()=>this._inProgressUrlFetches.delete(h)),pt());return this._inProgressUrlFetches.set(h,y),y}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(dC(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const a=this._resolvers[s](i,e);if(a)return ZN(a)?new jo(a.url,null,a.options):new jo(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(xe(Ng,8),xe(yg),xe(qt,8),xe(Ts))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ah(n){return n.cloneNode(!0)}function dC(n,t){return n+":"+t}function ZN(n){return!(!n.url||!n.options)}const KN=pN(class{constructor(n){this._elementRef=n}}),YN=new We("MAT_ICON_DEFAULT_OPTIONS"),XN=new We("mat-icon-location",{providedIn:"root",factory:function QN(){const n=Rt(qt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),fC=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],JN=fC.map(n=>`[${n}]`).join(", "),eF=/^url\(['"]?#(.*?)['"]?\)$/;let Bg,Lg=(()=>{class n extends KN{get inline(){return this._inline}set inline(e){this._inline=Wa(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,s,a,h,p){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=h,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ee.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),s||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>e.classList.remove(s)),i.forEach(s=>e.classList.add(s)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,a)=>{s.forEach(h=>{a.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(JN),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)fC.forEach(h=>{const p=i[a],y=p.getAttribute(h),T=y?y.match(eF):null;if(T){let F=s.get(p);F||(F=[],s.set(p,F)),F.push({name:h,value:T[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(fr(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(Th),function Iu(n){return function SE(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const a=e[s];if(b_(a))break;if(0===a)s+=2;else if("number"==typeof a)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(a===t)return e[s+1];s+=2}}}return null}(Ii(),n)}("aria-hidden"),Ie(XN),Ie(Ts),Ie(YN,8))},n.\u0275cmp=gn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(Ci("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),La("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ks],ngContentSelectors:$N,decls:1,vars:0,template:function(e,i){1&e&&($u(),Na(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),tF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({imports:[uo,uo]}),n})(),nF=1;const Ph={};function pC(n){return n in Ph&&(delete Ph[n],!0)}const iF={setImmediate(n){const t=nF++;return Ph[t]=!0,Bg||(Bg=Promise.resolve()),Bg.then(()=>pC(t)&&n()),t},clearImmediate(n){pC(n)}},{setImmediate:rF,clearImmediate:sF}=iF,kh={setImmediate(...n){const{delegate:t}=kh;return(t?.setImmediate||rF)(...n)},clearImmediate(n){const{delegate:t}=kh;return(t?.clearImmediate||sF)(n)},delegate:void 0},Vg=new class aF extends Dg{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class oF extends Eg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kh.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:a}=t;null!=e&&(null===(s=a[a.length-1])||void 0===s?void 0:s.id)!==e&&(kh.clearImmediate(e),t._scheduled=void 0)}});function Pr(n,t){return dn((e,i)=>{let s=null,a=0,h=!1;const p=()=>h&&!s&&i.complete();e.subscribe(Ut(i,y=>{s?.unsubscribe();let T=0;const F=a++;A(n(y,F)).subscribe(s=Ut(i,z=>i.next(t?t(y,z,F,T++):z),()=>{s=null,p()}))},()=>{h=!0,p()}))})}function gC(n){return Ye(()=>n)}function mC(n,t){return t?e=>gl(t.pipe(fr(1),function uF(){return dn((n,t)=>{n.subscribe(Ut(t,En))})}()),e.pipe(mC(n))):q((e,i)=>A(n(e,i)).pipe(fr(1),gC(e)))}function _C(n=0,t,e=TO){let i=-1;return null!=t&&(fe(t)?e=t:i=t),new Oe(s=>{let a=function lF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let h=0;return e.schedule(function(){s.closed||(s.next(h++),0<=i?this.schedule(void 0,i):s.complete())},a)})}function vC(n,t=Ch){const e=_C(n,t);return mC(()=>e)}class zg{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class cF extends zg{constructor(t,e,i,s,a){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s,this.projectableNodes=a}}class Hg extends zg{constructor(t,e,i,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class hF extends zg{constructor(t){super(),this.element=t instanceof ri?t.nativeElement:t}}class dF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof cF?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Hg?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof hF?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yC extends dF{constructor(t,e,i,s,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=h=>{const p=h.element,y=this._document.createComment("dom-portal");p.parentNode.insertBefore(y,p),this.outletElement.appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(p,y)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector||lr.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let fF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({}),n})();class bC{}class pF{}const Bs="*";function wC(n,t){return{type:7,name:n,definitions:t,options:{}}}function jg(n,t=null){return{type:4,styles:t,timings:n}}function CC(n,t=null){return{type:2,steps:n,options:t}}function Uo(n){return{type:6,styles:n,offset:null}}function xC(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ug(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function SC(n){Promise.resolve().then(n)}class Cl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){SC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class EC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const a=this.players.length;0==a?SC(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==a&&this._onFinish()}),h.onDestroy(()=>{++i==a&&this._onDestroy()}),h.onStart(()=>{++s==a&&this._onStart()})}),this.totalTime=this.players.reduce((h,p)=>Math.max(h,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const $g="!",gF=["addListener","removeListener"],mF=["addEventListener","removeEventListener"],_F=["on","off"];function Rh(n,t,e,i){if(It(e)&&(i=e,e=void 0),i)return Rh(n,t,e).pipe(Ig(i));const[s,a]=function bF(n){return It(n.addEventListener)&&It(n.removeEventListener)}(n)?mF.map(h=>p=>n[h](t,p,e)):function vF(n){return It(n.addListener)&&It(n.removeListener)}(n)?gF.map(DC(n,t)):function yF(n){return It(n.on)&&It(n.off)}(n)?_F.map(DC(n,t)):[];if(!s&&x(n))return q(h=>Rh(h,t,e))(A(n));if(!s)throw new TypeError("Invalid event target");return new Oe(h=>{const p=(...y)=>h.next(1<y.length?y:y[0]);return s(p),()=>a(p)})}function DC(n,t){return e=>i=>n[e](t,i)}const xl={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=xl;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(a=>{e=void 0,n(a)});return new Ee(()=>e?.(s))},requestAnimationFrame(...n){const{delegate:t}=xl;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=xl;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},xF=new class CF extends Dg{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;t=t||i.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,s){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw s}}}(class wF extends Eg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=xl.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:a}=t;null!=e&&(null===(s=a[a.length-1])||void 0===s?void 0:s.id)!==e&&(xl.cancelAnimationFrame(e),t._scheduled=void 0)}});function qg(n,t=Ch){return function SF(n){return dn((t,e)=>{let i=!1,s=null,a=null,h=!1;const p=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const T=s;s=null,e.next(T)}h&&e.complete()},y=()=>{a=null,h&&e.complete()};t.subscribe(Ut(e,T=>{i=!0,s=T,a||A(n(T)).subscribe(a=Ut(e,p,y))},()=>{h=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>_C(n,t))}const EF=["contentWrapper"],DF=["*"],IF=new We("VIRTUAL_SCROLL_STRATEGY");let Oh=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new $e,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Oe(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(qg(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Mi(a=>!a||s.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=Ga(i),a=e.getElementRef().nativeElement;do{if(s==a)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(xe(jt),xe(Yr),xe(qt,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IC=(()=>{class n{constructor(e,i,s,a){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=a,this._destroyed=new $e,this._elementScrolled=new Oe(h=>this.ngZone.runOutsideAngular(()=>Rh(this.elementRef.nativeElement,"scroll").pipe(ao(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&0!=fl()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==fl()?e.left=e.right:1==fl()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;S1()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",s="right",a=this.elementRef.nativeElement;if("top"==e)return a.scrollTop;if("bottom"==e)return a.scrollHeight-a.clientHeight-a.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==e?e=h?s:i:"end"==e&&(e=h?i:s),h&&2==fl()?e==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:h&&1==fl()?e==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(Oh),Ie(jt),Ie(ml,8))},n.\u0275dir=Tt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Wg=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new $e,this._changeListener=a=>{this._change.next(a)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,a=s.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qg(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(xe(Yr),xe(jt),xe(qt,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MC=new We("VIRTUAL_SCROLLABLE");let AF=(()=>{class n extends IC{constructor(e,i,s,a){super(e,i,s,a)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(Oh),Ie(jt),Ie(ml,8))},n.\u0275dir=Tt({type:n,features:[ks]}),n})();const kF=typeof requestAnimationFrame<"u"?xF:Vg;let RF=(()=>{class n extends AF{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Wa(e)}constructor(e,i,s,a,h,p,y,T){super(e,p,s,h),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=T,this._platform=Rt(Yr),this._detachedSubject=new $e,this._renderedRangeSubject=new $e,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Oe(F=>this._scrollStrategy.scrolledIndexChange.subscribe(z=>Promise.resolve().then(()=>this.ngZone.run(()=>F.next(z))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ee.EMPTY,this._viewportChanges=y.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Za(null),qg(0,kF)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(ao(this._detachedSubject)).subscribe(i=>{const s=i.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function PF(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const a="horizontal"==this.orientation,h=a?"X":"Y";let y=`translate${h}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(y+=` translate${h}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=y&&(this._renderedContentTransform=y,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const s={behavior:i};"horizontal"===this.orientation?s.start=e:s.top=e,this.scrollable.scrollTo(s)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?s=>super.measureScrollOffset(s):s=>this.scrollable.measureScrollOffset(s),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const s="left",a="right",h="rtl"==this.dir?.value;i="start"==e?h?a:s:"end"==e?h?s:a:e||("horizontal"===this.orientation?"left":"top");const p=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-p}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(ps),Ie(jt),Ie(IF,8),Ie(ml,8),Ie(Oh),Ie(Wg),Ie(MC,8))},n.\u0275cmp=gn({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&ja(EF,7),2&e){let s;hs(s=ds())&&(i._contentWrapper=s.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&La("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[qc([{provide:IC,useFactory:(t,e)=>t||e,deps:[[new Ds,new gc(MC)],n]}]),ks,vp],ngContentSelectors:DF,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&($u(),Et(0,"div",0,1),Na(2),Qt(),hr(3,"div",2)),2&e&&(Pn(3),lp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Gg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({}),n})(),TC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({imports:[_l,Gg,RF,_l,Gg]}),n})();const AC=S1();class OF{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ui(-this._previousScrollPosition.left),t.style.top=ui(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,a=i.scrollBehavior||"",h=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),AC&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),AC&&(i.scrollBehavior=a,s.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class NF{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Mi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class PC{enable(){}disable(){}attach(){}}function Zg(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function kC(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class FF{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();Zg(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let LF=(()=>{class n{constructor(e,i,s,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new PC,this.close=h=>new NF(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new OF(this._viewportRuler,this._document),this.reposition=h=>new FF(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(xe(Oh),xe(Wg),xe(jt),xe(qt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RC{constructor(t){if(this.scrollStrategy=new PC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class BF{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let OC=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(xe(qt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VF=(()=>{class n extends OC{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=s=>{const a=this._attachedOverlays;for(let h=a.length-1;h>-1;h--)if(a[h]._keydownEvents.observers.length>0){const p=a[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(s)):p.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(xe(qt),xe(jt,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zF=(()=>{class n extends OC{constructor(e,i,s){super(e),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=oo(a)},this._clickListener=a=>{const h=oo(a),p="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let T=y.length-1;T>-1;T--){const F=y[T];if(F._outsidePointerEvents.observers.length<1||!F.hasAttached())continue;if(F.overlayElement.contains(h)||F.overlayElement.contains(p))break;const z=F._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>z.next(a)):z.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(xe(qt),xe(Yr),xe(jt,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NC=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Cg()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<s.length;a++)s[a].remove()}const i=this._document.createElement("div");i.classList.add(e),Cg()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(xe(qt),xe(Yr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HF{constructor(t,e,i,s,a,h,p,y,T,F=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=a,this._keyboardDispatcher=h,this._document=p,this._location=y,this._outsideClickDispatcher=T,this._animationsDisabled=F,this._backdropElement=null,this._backdropClick=new $e,this._attachments=new $e,this._detachments=new $e,this._locationChanges=Ee.EMPTY,this._backdropClickHandler=z=>this._backdropClick.next(z),this._backdropTransitionendHandler=z=>{this._disposeBackdrop(z.target)},this._keydownEvents=new $e,this._outsidePointerEvents=new $e,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(fr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ui(this._config.width),t.height=ui(this._config.height),t.minWidth=ui(this._config.minWidth),t.minHeight=ui(this._config.minHeight),t.maxWidth=ui(this._config.maxWidth),t.maxHeight=ui(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const s=xh(e||[]).filter(a=>!!a);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ao(xt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const FC="cdk-overlay-connected-position-bounding-box",jF=/([A-Za-z%]+)$/;class UF{get positions(){return this._preferredPositions}constructor(t,e,i,s,a){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $e,this._resizeSubscription=Ee.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(FC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,a=[];let h;for(let p of this._preferredPositions){let y=this._getOriginPoint(t,s,p),T=this._getOverlayPoint(y,e,p),F=this._getOverlayFit(T,e,i,p);if(F.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,y);this._canFitWithFlexibleDimensions(F,T,i)?a.push({position:p,origin:y,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(y,p)}):(!h||h.overlayFit.visibleArea<F.visibleArea)&&(h={overlayFit:F,overlayPoint:T,originPoint:y,position:p,overlayRect:e})}if(a.length){let p=null,y=-1;for(const T of a){const F=T.boundingBoxRect.width*T.boundingBoxRect.height*(T.position.weight||1);F>y&&(y=F,p=T)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(h.position,h.originPoint);this._applyPosition(h.position,h.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$o(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,a;if("center"==i.originX)s=t.left+t.width/2;else{const h=this._isRtl()?t.right:t.left,p=this._isRtl()?t.left:t.right;s="start"==i.originX?h:p}return e.left<0&&(s-=e.left),a="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:s,y:a}}_getOverlayPoint(t,e,i){let s,a;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+a}}_getOverlayFit(t,e,i,s){const a=BC(e);let{x:h,y:p}=t,y=this._getOffset(s,"x"),T=this._getOffset(s,"y");y&&(h+=y),T&&(p+=T);let Y=0-p,Q=p+a.height-i.height,ie=this._subtractOverflows(a.width,0-h,h+a.width-i.width),le=this._subtractOverflows(a.height,Y,Q),me=ie*le;return{visibleArea:me,isCompletelyWithinViewport:a.width*a.height===me,fitsInViewportVertically:le===a.height,fitsInViewportHorizontally:ie==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,a=i.right-e.x,h=LC(this._overlayRef.getConfig().minHeight),p=LC(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=h&&h<=s)&&(t.fitsInViewportHorizontally||null!=p&&p<=a)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=BC(e),a=this._viewportRect,h=Math.max(t.x+s.width-a.width,0),p=Math.max(t.y+s.height-a.height,0),y=Math.max(a.top-i.top-t.y,0),T=Math.max(a.left-i.left-t.x,0);let F=0,z=0;return F=s.width<=a.width?T||-h:t.x<this._viewportMargin?a.left-i.left-t.x:0,z=s.height<=a.height?y||-p:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:F,y:z},{x:t.x+F,y:t.y+z}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new BF(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let a,h,p,F,z,Y;if("top"===e.overlayY)h=t.y,a=i.height-h+this._viewportMargin;else if("bottom"===e.overlayY)p=i.height-t.y+2*this._viewportMargin,a=i.height-p+this._viewportMargin;else{const Q=Math.min(i.bottom-t.y+i.top,t.y),ie=this._lastBoundingBoxSize.height;a=2*Q,h=t.y-Q,a>ie&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.y-ie/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)Y=i.width-t.x+this._viewportMargin,F=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)z=t.x,F=i.right-t.x;else{const Q=Math.min(i.right-t.x+i.left,t.x),ie=this._lastBoundingBoxSize.width;F=2*Q,z=t.x-Q,F>ie&&!this._isInitialRender&&!this._growAfterOpen&&(z=t.x-ie/2)}return{top:h,left:z,bottom:p,right:Y,width:F,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;s.height=ui(i.height),s.top=ui(i.top),s.bottom=ui(i.bottom),s.width=ui(i.width),s.left=ui(i.left),s.right=ui(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(s.maxHeight=ui(a)),h&&(s.maxWidth=ui(h))}this._lastBoundingBoxSize=i,$o(this._boundingBox.style,s)}_resetBoundingBoxStyles(){$o(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$o(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),a=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(s){const F=this._viewportRuler.getViewportScrollPosition();$o(i,this._getExactOverlayY(e,t,F)),$o(i,this._getExactOverlayX(e,t,F))}else i.position="static";let p="",y=this._getOffset(e,"x"),T=this._getOffset(e,"y");y&&(p+=`translateX(${y}px) `),T&&(p+=`translateY(${T}px)`),i.transform=p.trim(),h.maxHeight&&(s?i.maxHeight=ui(h.maxHeight):a&&(i.maxHeight="")),h.maxWidth&&(s?i.maxWidth=ui(h.maxWidth):a&&(i.maxWidth="")),$o(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":s.top=ui(a.y),s}_getExactOverlayX(t,e,i){let h,s={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),h=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===h?s.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":s.left=ui(a.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kC(t,i),isOriginOutsideView:Zg(t,i),isOverlayClipped:kC(e,i),isOverlayOutsideView:Zg(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&xh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ri)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function $o(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function LC(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(jF);return e&&"px"!==e?null:parseFloat(t)}return n||null}function BC(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const VC="cdk-global-overlay-wrapper";class $F{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(VC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:a,maxWidth:h,maxHeight:p}=i,y=!("100%"!==s&&"100vw"!==s||h&&"100%"!==h&&"100vw"!==h),T=!("100%"!==a&&"100vh"!==a||p&&"100%"!==p&&"100vh"!==p),F=this._xPosition,z=this._xOffset,Y="rtl"===this._overlayRef.getConfig().direction;let Q="",ie="",le="";y?le="flex-start":"center"===F?(le="center",Y?ie=z:Q=z):Y?"left"===F||"end"===F?(le="flex-end",Q=z):("right"===F||"start"===F)&&(le="flex-start",ie=z):"left"===F||"start"===F?(le="flex-start",Q=z):("right"===F||"end"===F)&&(le="flex-end",ie=z),t.position=this._cssPosition,t.marginLeft=y?"0":Q,t.marginTop=T?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=y?"0":ie,e.justifyContent=le,e.alignItems=T?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(VC),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let qF=(()=>{class n{constructor(e,i,s,a){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=a}global(){return new $F}flexibleConnectedTo(e){return new UF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(xe(Wg),xe(qt),xe(Yr),xe(NC))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WF=0,Nh=(()=>{class n{constructor(e,i,s,a,h,p,y,T,F,z,Y,Q){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=a,this._keyboardDispatcher=h,this._injector=p,this._ngZone=y,this._document=T,this._directionality=F,this._location=z,this._outsideClickDispatcher=Y,this._animationsModuleType=Q}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),a=this._createPortalOutlet(s),h=new RC(e);return h.direction=h.direction||this._directionality.value,new HF(a,i,s,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+WF++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Lo)),new yC(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(xe(LF),xe(NC),xe(Ro),xe(qF),xe(VF),xe(lr),xe(jt),xe(qt),xe(ml),xe(rh),xe(zF),xe(Qc,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KF={provide:new We("cdk-connected-overlay-scroll-strategy"),deps:[Nh],useFactory:function ZF(n){return()=>n.scrollStrategies.reposition()}};let YF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({providers:[Nh,KF],imports:[_l,fF,TC,TC]}),n})();const XF=["mat-menu-item",""];function QF(n,t){1&n&&($i(),Et(0,"svg",3),hr(1,"polygon",4),Qt())}const JF=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],eL=["mat-icon, [matMenuItemIcon]","*"];function tL(n,t){if(1&n){const e=Rs();Et(0,"div",0),Wn("keydown",function(s){return Kn(e),Yn(rn()._handleKeydown(s))})("click",function(){return Kn(e),Yn(rn().closed.emit("click"))})("@transformMenu.start",function(s){return Kn(e),Yn(rn()._onAnimationStart(s))})("@transformMenu.done",function(s){return Kn(e),Yn(rn()._onAnimationDone(s))}),Et(1,"div",1),Na(2),Qt()()}if(2&n){const e=rn();qn("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Ci("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const nL=["*"],Kg=new We("MAT_MENU_PANEL"),iL=gN(fN(class{}));let Fh=(()=>{class n extends iL{constructor(e,i,s,a,h){super(),this._elementRef=e,this._document=i,this._focusMonitor=s,this._parentMenu=a,this._changeDetectorRef=h,this.role="menuitem",this._hovered=new $e,this._focused=new $e,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<i.length;s++)i[s].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(qt),Ie(z1),Ie(Kg,8),Ie(ps))},n.\u0275cmp=gn({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&Wn("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(Ci("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),La("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ks],attrs:XF,ngContentSelectors:eL,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&($u(JF),Na(0),Et(1,"span",0),Na(2,1),Qt(),hr(3,"div",1),Ji(4,QF,2,0,"svg",2)),2&e&&(Pn(3),qn("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),Pn(1),qn("ngIf",i._triggersSubmenu))},dependencies:[al,CN],encapsulation:2,changeDetection:0}),n})();const zC=new We("MatMenuContent");let rL=(()=>{class n{constructor(e,i,s,a,h,p,y){this._template=e,this._componentFactoryResolver=i,this._appRef=s,this._injector=a,this._viewContainerRef=h,this._document=p,this._changeDetectorRef=y,this._attached=new $e}attach(e={}){this._portal||(this._portal=new Hg(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new yC(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const i=this._template.elementRef.nativeElement;i.parentNode.insertBefore(this._outlet.outletElement,i),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return n.\u0275fac=function(e){return new(e||n)(Ie(Wr),Ie(Ro),Ie(Lo),Ie(lr),Ie(dr),Ie(qt),Ie(ps))},n.\u0275dir=Tt({type:n}),n})(),sL=(()=>{class n extends rL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=dc(n)))(i||n)}}(),n.\u0275dir=Tt({type:n,selectors:[["ng-template","matMenuContent",""]],features:[qc([{provide:zC,useExisting:n}]),ks]}),n})();const Lh={transformMenu:wC("transformMenu",[xC("void",Uo({opacity:0,transform:"scale(0.8)"})),Ug("void => enter",jg("120ms cubic-bezier(0, 0, 0.2, 1)",Uo({opacity:1,transform:"scale(1)"}))),Ug("* => void",jg("100ms 25ms linear",Uo({opacity:0})))]),fadeInItems:wC("fadeInItems",[xC("showing",Uo({opacity:1})),Ug("void => *",[Uo({opacity:0}),jg("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let oL=0;const HC=new We("mat-menu-default-options",{providedIn:"root",factory:function aL(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Sl=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Wa(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Wa(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,s,a){this._elementRef=e,this._ngZone=i,this._defaultOptions=s,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ha,this._classList={},this._panelAnimationState="void",this._animationDone=new $e,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new gi,this.close=this.closed,this.panelId="mat-menu-panel-"+oL++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new KO(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Za(this._directDescendantItems),Pr(e=>xt(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const s=e.toArray(),a=Math.max(0,Math.min(s.length-1,i.activeItemIndex||0));s[a]&&!s[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Za(this._directDescendantItems),Pr(i=>xt(...i.map(s=>s._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,s=this._keyManager;switch(i){case 27:I1(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&s.setFocusOrigin("keyboard"),void s.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(fr(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const s=this._keyManager;s.setFocusOrigin(e).setFirstItemActive(),!s.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),s=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(h=>h.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(e=this.xPosition,i=this.yPosition){const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===i,s["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Za(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(jt),Ie(HC),Ie(ps))},n.\u0275dir=Tt({type:n,contentQueries:function(e,i,s){if(1&e&&(el(s,zC,5),el(s,Fh,5),el(s,Fh,4)),2&e){let a;hs(a=ds())&&(i.lazyContent=a.first),hs(a=ds())&&(i._allItems=a),hs(a=ds())&&(i.items=a)}},viewQuery:function(e,i){if(1&e&&ja(Wr,5),2&e){let s;hs(s=ds())&&(i.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),uL=(()=>{class n extends Sl{constructor(e,i,s,a){super(e,i,s,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(Ie(ri),Ie(jt),Ie(HC),Ie(ps))},n.\u0275cmp=gn({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&Ci("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[qc([{provide:Kg,useExisting:n}]),ks],ngContentSelectors:nL,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&($u(),Ji(0,tL,3,6,"ng-template"))},dependencies:[Bw],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Lh.transformMenu,Lh.fadeInItems]},changeDetection:0}),n})();const jC=new We("mat-menu-scroll-strategy"),cL={provide:jC,deps:[Nh],useFactory:function lL(n){return()=>n.scrollStrategies.reposition()}},UC=dl({passive:!0});let hL=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,s,a,h,p,y,T,F){this._overlay=e,this._element=i,this._viewContainerRef=s,this._menuItemInstance=p,this._dir=y,this._focusMonitor=T,this._ngZone=F,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ee.EMPTY,this._hoverSubscription=Ee.EMPTY,this._menuCloseSubscription=Ee.EMPTY,this._changeDetectorRef=Rt(ps),this._handleTouchStart=z=>{Ag(z)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new gi,this.onMenuOpen=this.menuOpened,this.menuClosed=new gi,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=h instanceof Sl?h:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,UC)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,UC),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),s=i.getConfig(),a=s.positionStrategy;this._setPosition(e,a),s.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Sl&&(e._startAnimation(),e._directDescendantItems.changes.pipe(ao(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Sl?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Mi(s=>"void"===s.toState),fr(1),ao(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,s=e.parentMenu;for(;s;)i++,s=s.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new RC({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(s=>{const a="start"===s.connectionPair.overlayX?"after":"before",h="top"===s.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(a,h)):e.setPositionClasses(a,h)})}_setPosition(e,i){let[s,a]="before"===e.xPosition?["end","start"]:["start","end"],[h,p]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[y,T]=[h,p],[F,z]=[s,a],Y=0;if(this.triggersSubmenu()){if(z=s="before"===e.xPosition?"start":"end",a=F="end"===s?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Q=this._parentMaterialMenu.items.first;this._parentInnerPadding=Q?Q._getHostElement().offsetTop:0}Y="bottom"===h?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(y="top"===h?"bottom":"top",T="top"===p?"bottom":"top");i.withPositions([{originX:s,originY:y,overlayX:F,overlayY:h,offsetY:Y},{originX:a,originY:y,overlayX:z,overlayY:h,offsetY:Y},{originX:s,originY:T,overlayX:F,overlayY:p,offsetY:-Y},{originX:a,originY:T,overlayX:z,overlayY:p,offsetY:-Y}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return xt(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:ot(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Mi(h=>h!==this._menuItemInstance),Mi(()=>this._menuOpen)):ot(),i)}_handleMousedown(e){Tg(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Mi(e=>e===this._menuItemInstance&&!e.disabled),vC(0,Vg)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Sl&&this.menu._isAnimating?this.menu._animationDone.pipe(fr(1),vC(0,Vg),ao(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Hg(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(Ie(Nh),Ie(ri),Ie(dr),Ie(jC),Ie(Kg,8),Ie(Fh,10),Ie(ml,8),Ie(z1),Ie(jt))},n.\u0275dir=Tt({type:n,hostVars:3,hostBindings:function(e,i){1&e&&Wn("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),2&e&&Ci("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),dL=(()=>{class n extends hL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=dc(n)))(i||n)}}(),n.\u0275dir=Tt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[ks]}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({providers:[cL],imports:[Gw,Y1,uo,YF,Gg,uo]}),n})(),mL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({imports:[uo,Y1,uo]}),n})();const Bh=Jn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $C(n){return new Oe(t=>{A(n()).subscribe(t)})}function Yg(){return dn((n,t)=>{let e=null;n._refCount++;const i=Ut(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,a=e;e=null,s&&(!a||s===a)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class qC extends Oe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,vi(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ee;const e=this.getSubject();t.add(this.source.subscribe(Ut(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ee.EMPTY)}return t}refCount(){return Yg()(this)}}function Vh(n){return dn((t,e)=>{let i=!1;t.subscribe(Ut(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function WC(n=_L){return dn((t,e)=>{let i=!1;t.subscribe(Ut(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function _L(){return new Bh}function fo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Mi((s,a)=>n(s,a,i)):Rn,fr(1),e?Vh(t):WC(()=>new Bh))}function GC(n,t){return dn(function vL(n,t,e,i,s){return(a,h)=>{let p=e,y=t,T=0;a.subscribe(Ut(h,F=>{const z=T++;y=p?n(y,F,z):(p=!0,F),i&&h.next(y)},s&&(()=>{p&&h.next(y),h.complete()})))}}(n,t,arguments.length>=2,!0))}function Xg(n){return n<=0?()=>X:dn((t,e)=>{let i=[];t.subscribe(Ut(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function ZC(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Mi((s,a)=>n(s,a,i)):Rn,Xg(1),e?Vh(t):WC(()=>new Bh))}const Ot="primary",El=Symbol("RouteTitle");class bL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function eu(n){return new bL(n)}function wL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let a=0;a<i.length;a++){const h=i[a],p=n[a];if(h.startsWith(":"))s[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function gs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let a=0;a<e.length;a++)if(s=e[a],!KC(n[s],t[s]))return!1;return!0}function KC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,a)=>i[a]===s)}return n===t}function YC(n){return Array.prototype.concat.apply([],n)}function XC(n){return n.length>0?n[n.length-1]:null}function Ai(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function po(n){return V0(n)?n:Bc(n)?ct(Promise.resolve(n)):ot(n)}const zh=!1,xL={exact:function ex(n,t,e){if(!qo(n.segments,t.segments)||!Hh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ex(n.children[i],t.children[i],e))return!1;return!0},subset:tx},QC={exact:function SL(n,t){return gs(n,t)},subset:function EL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>KC(n[e],t[e]))},ignored:()=>!0};function JC(n,t,e){return xL[e.paths](n.root,t.root,e.matrixParams)&&QC[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function tx(n,t,e){return nx(n,t,t.segments,e)}function nx(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!qo(s,e)||t.hasChildren()||!Hh(s,e,i))}if(n.segments.length===e.length){if(!qo(n.segments,e)||!Hh(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!tx(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(qo(n.segments,s)&&Hh(n.segments,s,i)&&n.children[Ot])&&nx(n.children[Ot],t,a,i)}}function Hh(n,t,e){return t.every((i,s)=>QC[e](n[s].parameters,i.parameters))}class go{constructor(t=new $t([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return ML.serialize(this)}}class $t{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ai(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jh(this)}}class Dl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=eu(this.parameters)),this._parameterMap}toString(){return sx(this)}}function qo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Il=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(){return new Qg},providedIn:"root"}),n})();class Qg{parse(t){const e=new LL(t);return new go(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ml(t.root,!0)}`,i=function PL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${Uh(e)}=${Uh(s)}`).join("&"):`${Uh(e)}=${Uh(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function TL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ML=new Qg;function jh(n){return n.segments.map(t=>sx(t)).join("/")}function Ml(n,t){if(!n.hasChildren())return jh(n);if(t){const e=n.children[Ot]?Ml(n.children[Ot],!1):"",i=[];return Ai(n.children,(s,a)=>{a!==Ot&&i.push(`${a}:${Ml(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function IL(n,t){let e=[];return Ai(n.children,(i,s)=>{s===Ot&&(e=e.concat(t(i,s)))}),Ai(n.children,(i,s)=>{s!==Ot&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Ot?[Ml(n.children[Ot],!1)]:[`${s}:${Ml(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${jh(n)}/${e[0]}`:`${jh(n)}/(${e.join("//")})`}}function ix(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uh(n){return ix(n).replace(/%3B/gi,";")}function Jg(n){return ix(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $h(n){return decodeURIComponent(n)}function rx(n){return $h(n.replace(/\+/g,"%20"))}function sx(n){return`${Jg(n.path)}${function AL(n){return Object.keys(n).map(t=>`;${Jg(t)}=${Jg(n[t])}`).join("")}(n.parameters)}`}const kL=/^[^\/()?;=#]+/;function qh(n){const t=n.match(kL);return t?t[0]:""}const RL=/^[^=?&#]+/,NL=/^[^&#]+/;class LL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ot]=new $t(t,e)),i}parseSegment(){const t=qh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new M(4009,zh);return this.capture(t),new Dl($h(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=qh(this.remaining);s&&(i=s,this.capture(i))}t[$h(e)]=$h(i)}parseQueryParam(t){const e=function OL(n){const t=n.match(RL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function FL(n){const t=n.match(NL);return t?t[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const s=rx(e),a=rx(i);if(t.hasOwnProperty(s)){let h=t[s];Array.isArray(h)||(h=[h],t[s]=h),h.push(a)}else t[s]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qh(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new M(4010,zh);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Ot);const h=this.parseChildren();e[a]=1===Object.keys(h).length?h[Ot]:new $t([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new M(4011,zh)}}function em(n){return n.segments.length>0?new $t([],{[Ot]:n}):n}function Wh(n){const t={};for(const i of Object.keys(n.children)){const a=Wh(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function BL(n){if(1===n.numberOfChildren&&n.children[Ot]){const t=n.children[Ot];return new $t(n.segments.concat(t.segments),t.children)}return n}(new $t(n.segments,t))}function Wo(n){return n instanceof go}const tm=!1;function VL(n,t,e,i,s){if(0===e.length)return tu(t.root,t.root,t.root,i,s);const a=function cx(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lx(!0,0,n);let t=0,e=!1;const i=n.reduce((s,a,h)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Ai(a.outlets,(y,T)=>{p[T]="string"==typeof y?y.split("/"):y}),[...s,{outlets:p}]}if(a.segmentPath)return[...s,a.segmentPath]}return"string"!=typeof a?[...s,a]:0===h?(a.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?e=!0:".."===p?t++:""!=p&&s.push(p))}),s):[...s,a]},[]);return new lx(e,t,i)}(e);return a.toRoot()?tu(t.root,t.root,new $t([],{}),i,s):function h(y){const T=function HL(n,t,e,i){if(n.isAbsolute)return new nu(t.root,!0,0);if(-1===i)return new nu(e,e===t.root,0);return function hx(n,t,e){let i=n,s=t,a=e;for(;a>s;){if(a-=s,i=i.parent,!i)throw new M(4005,tm&&"Invalid number of '../'");s=i.segments.length}return new nu(i,!1,s-a)}(e,i+(Tl(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,y),F=T.processChildren?iu(T.segmentGroup,T.index,a.commands):nm(T.segmentGroup,T.index,a.commands);return tu(t.root,T.segmentGroup,F,i,s)}(n.snapshot?._lastPathIndex)}function Tl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Al(n){return"object"==typeof n&&null!=n&&n.outlets}function tu(n,t,e,i,s){let h,a={};i&&Ai(i,(y,T)=>{a[T]=Array.isArray(y)?y.map(F=>`${F}`):`${y}`}),h=n===t?e:ux(n,t,e);const p=em(Wh(h));return new go(p,a,s)}function ux(n,t,e){const i={};return Ai(n.children,(s,a)=>{i[a]=s===t?e:ux(s,t,e)}),new $t(n.segments,i)}class lx{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Tl(i[0]))throw new M(4003,tm&&"Root segment cannot have matrix parameters");const s=i.find(Al);if(s&&s!==XC(i))throw new M(4004,tm&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function nm(n,t,e){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return iu(n,t,e);const i=function UL(n,t,e){let i=0,s=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return a;const h=n.segments[s],p=e[i];if(Al(p))break;const y=`${p}`,T=i<e.length-1?e[i+1]:null;if(s>0&&void 0===y)break;if(y&&T&&"object"==typeof T&&void 0===T.outlets){if(!fx(y,T,h))return a;i+=2}else{if(!fx(y,{},h))return a;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new $t(n.segments.slice(0,i.pathIndex),{});return a.children[Ot]=new $t(n.segments.slice(i.pathIndex),n.children),iu(a,0,s)}return i.match&&0===s.length?new $t(n.segments,{}):i.match&&!n.hasChildren()?im(n,t,e):i.match?iu(n,0,s):im(n,t,e)}function iu(n,t,e){if(0===e.length)return new $t(n.segments,{});{const i=function jL(n){return Al(n[0])?n[0].outlets:{[Ot]:n}}(e),s={};return!i[Ot]&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length?iu(n.children[Ot],t,e):(Ai(i,(a,h)=>{"string"==typeof a&&(a=[a]),null!==a&&(s[h]=nm(n.children[h],t,a))}),Ai(n.children,(a,h)=>{void 0===i[h]&&(s[h]=a)}),new $t(n.segments,s))}}function im(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const a=e[s];if(Al(a)){const y=$L(a.outlets);return new $t(i,y)}if(0===s&&Tl(e[0])){i.push(new Dl(n.segments[t].path,dx(e[0]))),s++;continue}const h=Al(a)?a.outlets[Ot]:`${a}`,p=s<e.length-1?e[s+1]:null;h&&p&&Tl(p)?(i.push(new Dl(h,dx(p))),s+=2):(i.push(new Dl(h,{})),s++)}return new $t(i,{})}function $L(n){const t={};return Ai(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=im(new $t([],{}),0,e))}),t}function dx(n){const t={};return Ai(n,(e,i)=>t[i]=`${e}`),t}function fx(n,t,e){return n==e.path&&gs(t,e.parameters)}const Pl="imperative";class ms{constructor(t,e){this.id=t,this.url=e}}class rm extends ms{constructor(t,e,i="imperative",s=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Go extends ms{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gh extends ms{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zh extends ms{constructor(t,e,i,s){super(t,e),this.reason=i,this.code=s,this.type=16}}class sm extends ms{constructor(t,e,i,s){super(t,e),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qL extends ms{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WL extends ms{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GL extends ms{constructor(t,e,i,s,a){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ZL extends ms{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KL extends ms{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YL{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XL{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QL{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JL{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e5{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t5{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class px{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let s5=(()=>{class n{createUrlTree(e,i,s,a,h,p){return VL(e||i.root,s,a,h,p)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),a5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(t){return s5.\u0275fac(t)},providedIn:"root"}),n})();class gx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=om(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=om(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=am(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return am(t,this._root).map(e=>e.value)}}function om(n,t){if(n===t.value)return t;for(const e of t.children){const i=om(n,e);if(i)return i}return null}function am(n,t){if(n===t.value)return[t];for(const e of t.children){const i=am(n,e);if(i.length)return i.unshift(t),i}return[]}class Vs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ru(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mx extends gx{constructor(t,e){super(t),this.snapshot=e,um(this,t)}toString(){return this.snapshot.toString()}}function _x(n,t){const e=function u5(n,t){const h=new Kh([],{},{},"",{},Ot,t,null,n.root,-1,{});return new yx("",new Vs(h,[]))}(n,t),i=new Ar([new Dl("",{})]),s=new Ar({}),a=new Ar({}),h=new Ar({}),p=new Ar(""),y=new su(i,s,h,p,a,Ot,t,e.root);return y.snapshot=e.root,new mx(new Vs(y,[]),e)}class su{constructor(t,e,i,s,a,h,p,y){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=a,this.outlet=h,this.component=p,this.title=this.data?.pipe(Ye(T=>T[El]))??ot(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(t=>eu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(t=>eu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vx(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],a=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(a.component)break;i--}}return function l5(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Kh{get title(){return this.data?.[El]}constructor(t,e,i,s,a,h,p,y,T,F,z){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=a,this.outlet=h,this.component=p,this.routeConfig=y,this._urlSegment=T,this._lastPathIndex=F,this._resolve=z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yx extends gx{constructor(t,e){super(e),this.url=t,um(this,e)}toString(){return bx(this._root)}}function um(n,t){t.value._routerState=n,t.children.forEach(e=>um(n,e))}function bx(n){const t=n.children.length>0?` { ${n.children.map(bx).join(", ")} } `:"";return`${n.value}${t}`}function lm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,gs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),gs(t.params,e.params)||n.params.next(e.params),function CL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!gs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),gs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cm(n,t){const e=gs(n.params,t.params)&&function DL(n,t){return qo(n,t)&&n.every((e,i)=>gs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||cm(n.parent,t.parent))}function kl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function h5(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return kl(n,i,s);return kl(n,i)})}(n,t,e);return new Vs(i,s)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const h=a.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(p=>kl(n,p)),h}}const i=function d5(n){return new su(new Ar(n.url),new Ar(n.params),new Ar(n.queryParams),new Ar(n.fragment),new Ar(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(a=>kl(n,a));return new Vs(i,s)}}const hm="ngNavigationCancelingError";function wx(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Wo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=Cx(!1,0,t);return s.url=e,s.navigationBehaviorOptions=i,s}function Cx(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[hm]=!0,i.cancellationCode=t,e&&(i.url=e),i}function xx(n){return Sx(n)&&Wo(n.url)}function Sx(n){return n&&n[hm]}class f5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rl,this.attachRef=null}}let Rl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const s=this.getOrCreateContext(e);s.outlet=i,this.contexts.set(e,s)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new f5,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yh=!1;let Ex=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new gi,this.deactivateEvents=new gi,this.attachEvents=new gi,this.detachEvents=new gi,this.parentContexts=Rt(Rl),this.location=Rt(dr),this.changeDetector=Rt(ps),this.environmentInjector=Rt(Ms)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:s}=e.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,Yh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,Yh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,Yh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new M(4013,Yh);this._activatedRoute=e;const s=this.location,h=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new p5(e,p,s.injector);if(i&&function g5(n){return!!n.resolveComponentFactory}(i)){const T=i.resolveComponentFactory(h);this.activated=s.createComponent(T,s.length,y)}else this.activated=s.createComponent(h,{index:s.length,injector:y,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Tt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Do]}),n})();class p5{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===su?this.route:t===Rl?this.childContexts:this.parent.get(t,e)}}let dm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gn({type:n,selectors:[["ng-component"]],standalone:!0,features:[vp],decls:1,vars:0,template:function(e,i){1&e&&hr(0,"router-outlet")},dependencies:[Ex],encapsulation:2}),n})();function Dx(n,t){return n.providers&&!n._injector&&(n._injector=Wc(n.providers,t,`Route: ${n.path}`)),n._injector??t}function pm(n){const t=n.children&&n.children.map(pm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ot&&(e.component=dm),e}function kr(n){return n.outlet||Ot}function Ix(n,t){const e=n.filter(i=>kr(i)===t);return e.push(...n.filter(i=>kr(i)!==t)),e}function Ol(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class b5{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),lm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=ru(e);t.children.forEach(a=>{const h=a.value.outlet;this.deactivateRoutes(a,s[h],i),delete s[h]}),Ai(s,(a,h)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const s=t.value,a=e?e.value:null;if(s===a)if(s.component){const h=i.getContext(s.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,a=ru(t);for(const h of Object.keys(a))this.deactivateRouteAndItsChildren(a[h],s);if(i&&i.outlet){const h=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,a=ru(t);for(const h of Object.keys(a))this.deactivateRouteAndItsChildren(a[h],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=ru(e);t.children.forEach(a=>{this.activateRoutes(a,s[a.value.outlet],i),this.forwardEvent(new t5(a.value.snapshot))}),t.children.length&&this.forwardEvent(new JL(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,a=e?e.value:null;if(lm(s),s===a)if(s.component){const h=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const h=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),lm(p.route.value),this.activateChildRoutes(t,null,h.children)}else{const p=Ol(s.snapshot),y=p?.get(Ro)??null;h.attachRef=null,h.route=s,h.resolver=y,h.injector=p,h.outlet&&h.outlet.activateWith(s,h.injector),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,i)}}class Mx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xh{constructor(t,e){this.component=t,this.route=e}}function w5(n,t,e){const i=n._root;return Nl(i,t?t._root:null,e,[i.value])}function ou(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Dd(n){return null!==ea(n)}(n)?t.get(n):n:i}function Nl(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=ru(t);return n.children.forEach(h=>{(function x5(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,h=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(h&&a.routeConfig===h.routeConfig){const y=function S5(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!qo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,t.url)||!gs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cm(n,t)||!gs(n.queryParams,t.queryParams);default:return!cm(n,t)}}(h,a,a.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new Mx(i)):(a.data=h.data,a._resolvedData=h._resolvedData),Nl(n,t,a.component?p?p.children:null:e,i,s),y&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new Xh(p.outlet.component,h))}else h&&Fl(t,p,s),s.canActivateChecks.push(new Mx(i)),Nl(n,null,a.component?p?p.children:null:e,i,s)})(h,a[h.value.outlet],e,i.concat([h.value]),s),delete a[h.value.outlet]}),Ai(a,(h,p)=>Fl(h,e.getContext(p),s)),s}function Fl(n,t,e){const i=ru(n),s=n.value;Ai(i,(a,h)=>{Fl(a,s.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Xh(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function Ll(n){return"function"==typeof n}function gm(n){return n instanceof Bh||"EmptyError"===n?.name}const Qh=Symbol("INITIAL_VALUE");function au(){return Pr(n=>Mg(n.map(t=>t.pipe(fr(1),Za(Qh)))).pipe(Ye(t=>{for(const e of t)if(!0!==e){if(e===Qh)return Qh;if(!1===e||e instanceof go)return e}return!0}),Mi(t=>t!==Qh),fr(1)))}function Tx(n){return function Si(...n){return mn(n)}(ai(t=>{if(Wo(t))throw wx(0,t)}),Ye(t=>!0===t))}const mm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ax(n,t,e,i,s){const a=_m(n,t,e);return a.matched?function H5(n,t,e,i){const s=t.canMatch;return s&&0!==s.length?ot(s.map(h=>{const p=ou(h,n);return po(function A5(n){return n&&Ll(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))})).pipe(au(),Tx()):ot(!0)}(i=Dx(t,i),t,e).pipe(Ye(h=>!0===h?a:{...mm})):ot(a)}function _m(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...mm}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||wL)(e,n,t);if(!s)return{...mm};const a={};Ai(s.posParams,(p,y)=>{a[y]=p.path});const h=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:h,positionalParamSegments:s.posParams??{}}}function Jh(n,t,e,i){if(e.length>0&&function $5(n,t,e){return e.some(i=>ed(n,t,i)&&kr(i)!==Ot)}(n,e,i)){const a=new $t(t,function U5(n,t,e,i){const s={};s[Ot]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&kr(a)!==Ot){const h=new $t([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,s[kr(a)]=h}return s}(n,t,i,new $t(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function q5(n,t,e){return e.some(i=>ed(n,t,i))}(n,e,i)){const a=new $t(n.segments,function j5(n,t,e,i,s){const a={};for(const h of i)if(ed(n,e,h)&&!s[kr(h)]){const p=new $t([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[kr(h)]=p}return{...s,...a}}(n,t,e,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new $t(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function ed(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Px(n,t,e,i){return!!(kr(n)===i||i!==Ot&&ed(t,e,n))&&("**"===n.path||_m(t,n,e).matched)}function kx(n,t,e){return 0===t.length&&!n.children[e]}const td=!1;class nd{constructor(t){this.segmentGroup=t||null}}class Rx{constructor(t){this.urlTree=t}}function Bl(n){return Xa(new nd(n))}function Ox(n){return Xa(new Rx(n))}class K5{constructor(t,e,i,s,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=a,this.allowRedirects=!0}apply(){const t=Jh(this.urlTree.root,[],[],this.config).segmentGroup,e=new $t(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ot).pipe(Ye(a=>this.createUrlTree(Wh(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ls(a=>{if(a instanceof Rx)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof nd?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ot).pipe(Ye(s=>this.createUrlTree(Wh(s),t.queryParams,t.fragment))).pipe(Ls(s=>{throw s instanceof nd?this.noMatchError(s):s}))}noMatchError(t){return new M(4002,td)}createUrlTree(t,e,i){const s=em(t);return new go(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Ye(a=>new $t([],a))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const a of Object.keys(i.children))"primary"===a?s.unshift(a):s.push(a);return ct(s).pipe(lo(a=>{const h=i.children[a],p=Ix(e,a);return this.expandSegmentGroup(t,p,h,a).pipe(Ye(y=>({segment:y,outlet:a})))}),GC((a,h)=>(a[h.outlet]=h.segment,a),{}),ZC())}expandSegment(t,e,i,s,a,h){return ct(i).pipe(lo(p=>this.expandSegmentAgainstRoute(t,e,i,p,s,a,h).pipe(Ls(T=>{if(T instanceof nd)return ot(null);throw T}))),fo(p=>!!p),Ls((p,y)=>{if(gm(p))return kx(e,s,a)?ot(new $t([],{})):Bl(e);throw p}))}expandSegmentAgainstRoute(t,e,i,s,a,h,p){return Px(s,e,a,h)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,a,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,a,h):Bl(e):Bl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,a,h){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,a,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ox(a):this.lineralizeSegments(i,a).pipe(q(h=>{const p=new $t(h,{});return this.expandSegment(t,p,e,h,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,a,h){const{matched:p,consumedSegments:y,remainingSegments:T,positionalParamSegments:F}=_m(e,s,a);if(!p)return Bl(e);const z=this.applyRedirectCommands(y,s.redirectTo,F);return s.redirectTo.startsWith("/")?Ox(z):this.lineralizeSegments(s,z).pipe(q(Y=>this.expandSegment(t,e,i,Y.concat(T),h,!1)))}matchSegmentAgainstRoute(t,e,i,s,a){return"**"===i.path?(t=Dx(i,t),i.loadChildren?(i._loadedRoutes?ot({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(Ye(p=>(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,new $t(s,{})))):ot(new $t(s,{}))):Ax(e,i,s,t).pipe(Pr(({matched:h,consumedSegments:p,remainingSegments:y})=>h?this.getChildConfig(t=i._injector??t,i,s).pipe(q(F=>{const z=F.injector??t,Y=F.routes,{segmentGroup:Q,slicedSegments:ie}=Jh(e,p,y,Y),le=new $t(Q.segments,Q.children);if(0===ie.length&&le.hasChildren())return this.expandChildren(z,Y,le).pipe(Ye(we=>new $t(p,we)));if(0===Y.length&&0===ie.length)return ot(new $t(p,{}));const me=kr(i)===a;return this.expandSegment(z,le,Y,ie,me?Ot:a,!0).pipe(Ye(Be=>new $t(p.concat(Be.segments),Be.children)))})):Bl(e)))}getChildConfig(t,e,i){return e.children?ot({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ot({routes:e._loadedRoutes,injector:e._loadedInjector}):function z5(n,t,e,i){const s=t.canLoad;return void 0===s||0===s.length?ot(!0):ot(s.map(h=>{const p=ou(h,n);return po(function D5(n){return n&&Ll(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))})).pipe(au(),Tx())}(t,e,i).pipe(q(s=>s?this.configLoader.loadChildren(t,e).pipe(ai(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function G5(n){return Xa(Cx(td,3))}())):ot({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return ot(i);if(s.numberOfChildren>1||!s.children[Ot])return t.redirectTo,Xa(new M(4e3,td));s=s.children[Ot]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,s){const a=this.createSegmentGroup(t,e.root,i,s);return new go(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ai(t,(s,a)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);i[a]=e[p]}else i[a]=s}),i}createSegmentGroup(t,e,i,s){const a=this.createSegments(t,e.segments,i,s);let h={};return Ai(e.children,(p,y)=>{h[y]=this.createSegmentGroup(t,p,i,s)}),new $t(a,h)}createSegments(t,e,i,s){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,s):this.findOrReturn(a,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new M(4001,td);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}class X5{}class e3{constructor(t,e,i,s,a,h,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=h,this.urlSerializer=p}recognize(){const t=Jh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ot).pipe(Ye(e=>{if(null===e)return null;const i=new Kh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Vs(i,e),a=new yx(this.url,s);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,i=vx(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,s)}processChildren(t,e,i){return ct(Object.keys(i.children)).pipe(lo(s=>{const a=i.children[s],h=Ix(e,s);return this.processSegmentGroup(t,h,a,s)}),GC((s,a)=>s&&a?(s.push(...a),s):null),function yL(n,t=!1){return dn((e,i)=>{let s=0;e.subscribe(Ut(i,a=>{const h=n(a,s++);(h||t)&&i.next(a),!h&&i.complete()}))})}(s=>null!==s),Vh(null),ZC(),Ye(s=>{if(null===s)return null;const a=Fx(s);return function t3(n){n.sort((t,e)=>t.value.outlet===Ot?-1:e.value.outlet===Ot?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,i,s,a){return ct(e).pipe(lo(h=>this.processSegmentAgainstRoute(h._injector??t,h,i,s,a)),fo(h=>!!h),Ls(h=>{if(gm(h))return kx(i,s,a)?ot([]):ot(null);throw h}))}processSegmentAgainstRoute(t,e,i,s,a){if(e.redirectTo||!Px(e,i,s,a))return ot(null);let h;if("**"===e.path){const p=s.length>0?XC(s).parameters:{},y=Bx(i)+s.length;h=ot({snapshot:new Kh(s,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vx(e),kr(e),e.component??e._loadedComponent??null,e,Lx(i),y,zx(e)),consumedSegments:[],remainingSegments:[]})}else h=Ax(i,e,s,t).pipe(Ye(({matched:p,consumedSegments:y,remainingSegments:T,parameters:F})=>{if(!p)return null;const z=Bx(i)+y.length;return{snapshot:new Kh(y,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vx(e),kr(e),e.component??e._loadedComponent??null,e,Lx(i),z,zx(e)),consumedSegments:y,remainingSegments:T}}));return h.pipe(Pr(p=>{if(null===p)return ot(null);const{snapshot:y,consumedSegments:T,remainingSegments:F}=p;t=e._injector??t;const z=e._loadedInjector??t,Y=function n3(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Q,slicedSegments:ie}=Jh(i,T,F,Y.filter(me=>void 0===me.redirectTo));if(0===ie.length&&Q.hasChildren())return this.processChildren(z,Y,Q).pipe(Ye(me=>null===me?null:[new Vs(y,me)]));if(0===Y.length&&0===ie.length)return ot([new Vs(y,[])]);const le=kr(e)===a;return this.processSegment(z,Y,Q,ie,le?Ot:a).pipe(Ye(me=>null===me?null:[new Vs(y,me)]))}))}}function r3(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Fx(n){const t=[],e=new Set;for(const i of n){if(!r3(i)){t.push(i);continue}const s=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=Fx(i.children);t.push(new Vs(i.value,s))}return t.filter(i=>!e.has(i))}function Lx(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Bx(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Vx(n){return n.data||{}}function zx(n){return n.resolve||{}}function Hx(n){return"string"==typeof n.title||null===n.title}function vm(n){return Pr(t=>{const e=n(t);return e?ct(e).pipe(Ye(()=>t)):ot(t)})}const uu=new We("ROUTES");let ym=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Rt(Yb)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ot(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=po(e.loadComponent()).pipe(Ye(Ux),ai(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),Eh(()=>{this.componentLoaders.delete(e)})),s=new qC(i,()=>new $e).pipe(Yg());return this.componentLoaders.set(e,s),s}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ye(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,T,F=!1;Array.isArray(p)?T=p:(y=p.create(e).injector,T=YC(y.get(uu,[],dt.Self|dt.Optional)));return{routes:T.map(pm),injector:y}}),Eh(()=>{this.childrenLoaders.delete(i)})),h=new qC(a,()=>new $e).pipe(Yg());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(e){return po(e()).pipe(Ye(Ux),q(i=>i instanceof ob||Array.isArray(i)?ot(i):ct(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ux(n){return function d3(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let rd=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $e,this.configLoader=Rt(ym),this.environmentInjector=Rt(Ms),this.urlSerializer=Rt(Il),this.rootContexts=Rt(Rl),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new XL(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new YL(s))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Ar({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pl,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mi(i=>0!==i.id),Ye(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Pr(i=>{let s=!1,a=!1;return ot(i).pipe(ai(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pr(h=>{const p=e.browserUrlTree.toString(),y=!e.navigated||h.extractedUrl.toString()!==p||p!==e.currentUrlTree.toString();if(!y&&"reload"!==(h.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const F="";return this.events.next(new Zh(h.id,e.serializeUrl(i.rawUrl),F,0)),e.rawUrlTree=h.rawUrl,h.resolve(null),X}if(e.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return $x(h.source)&&(e.browserUrlTree=h.extractedUrl),ot(h).pipe(Pr(F=>{const z=this.transitions?.getValue();return this.events.next(new rm(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),z!==this.transitions?.getValue()?X:Promise.resolve(F)}),function Y5(n,t,e,i){return Pr(s=>function Z5(n,t,e,i,s){return new K5(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe(Ye(a=>({...s,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),ai(F=>{this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects},i.urlAfterRedirects=F.urlAfterRedirects}),function o3(n,t,e,i,s){return q(a=>function J5(n,t,e,i,s,a,h="emptyOnly"){return new e3(n,t,e,i,s,h,a).recognize().pipe(Pr(p=>null===p?function Q5(n){return new Oe(t=>t.error(n))}(new X5):ot(p)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,s).pipe(Ye(h=>({...a,targetSnapshot:h}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ai(F=>{if(i.targetSnapshot=F.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!F.extras.skipLocationChange){const Y=e.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);e.setBrowserUrl(Y,F)}e.browserUrlTree=F.urlAfterRedirects}const z=new qL(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(z)}));if(y&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:F,extractedUrl:z,source:Y,restoredState:Q,extras:ie}=h,le=new rm(F,this.urlSerializer.serialize(z),Y,Q);this.events.next(le);const me=_x(z,this.rootComponentType).snapshot;return ot(i={...h,targetSnapshot:me,urlAfterRedirects:z,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}{const F="";return this.events.next(new Zh(h.id,e.serializeUrl(i.extractedUrl),F,1)),e.rawUrlTree=h.rawUrl,h.resolve(null),X}}),ai(h=>{const p=new WL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ye(h=>i={...h,guards:w5(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function k5(n,t){return q(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:a,canDeactivateChecks:h}}=e;return 0===h.length&&0===a.length?ot({...e,guardsResult:!0}):function R5(n,t,e,i){return ct(n).pipe(q(s=>function V5(n,t,e,i,s){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?ot(a.map(p=>{const y=Ol(t)??s,T=ou(p,y);return po(function T5(n){return n&&Ll(n.canDeactivate)}(T)?T.canDeactivate(n,t,e,i):y.runInContext(()=>T(n,t,e,i))).pipe(fo())})).pipe(au()):ot(!0)}(s.component,s.route,e,t,i)),fo(s=>!0!==s,!0))}(h,i,s,n).pipe(q(p=>p&&function E5(n){return"boolean"==typeof n}(p)?function O5(n,t,e,i){return ct(t).pipe(lo(s=>gl(function F5(n,t){return null!==n&&t&&t(new QL(n)),ot(!0)}(s.route.parent,i),function N5(n,t){return null!==n&&t&&t(new e5(n)),ot(!0)}(s.route,i),function B5(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(h=>function C5(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>$C(()=>ot(h.guards.map(y=>{const T=Ol(h.node)??e,F=ou(y,T);return po(function M5(n){return n&&Ll(n.canActivateChild)}(F)?F.canActivateChild(i,n):T.runInContext(()=>F(i,n))).pipe(fo())})).pipe(au())));return ot(a).pipe(au())}(n,s.path,e),function L5(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const s=i.map(a=>$C(()=>{const h=Ol(t)??e,p=ou(a,h);return po(function I5(n){return n&&Ll(n.canActivate)}(p)?p.canActivate(t,n):h.runInContext(()=>p(t,n))).pipe(fo())}));return ot(s).pipe(au())}(n,s.route,e))),fo(s=>!0!==s,!0))}(i,a,n,t):ot(p)),Ye(p=>({...e,guardsResult:p})))})}(this.environmentInjector,h=>this.events.next(h)),ai(h=>{if(i.guardsResult=h.guardsResult,Wo(h.guardsResult))throw wx(0,h.guardsResult);const p=new GL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(p)}),Mi(h=>!!h.guardsResult||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),vm(h=>{if(h.guards.canActivateChecks.length)return ot(h).pipe(ai(p=>{const y=new ZL(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),Pr(p=>{let y=!1;return ot(p).pipe(function a3(n,t){return q(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return ot(e);let a=0;return ct(s).pipe(lo(h=>function u3(n,t,e,i){const s=n.routeConfig,a=n._resolve;return void 0!==s?.title&&!Hx(s)&&(a[El]=s.title),function l3(n,t,e,i){const s=function c3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return ot({});const a={};return ct(s).pipe(q(h=>function h3(n,t,e,i){const s=Ol(t)??i,a=ou(n,s);return po(a.resolve?a.resolve(t,e):s.runInContext(()=>a(t,e)))}(n[h],t,e,i).pipe(fo(),ai(p=>{a[h]=p}))),Xg(1),gC(a),Ls(h=>gm(h)?X:Xa(h)))}(a,n,t,i).pipe(Ye(h=>(n._resolvedData=h,n.data=vx(n,e).resolve,s&&Hx(s)&&(n.data[El]=s.title),null)))}(h.route,i,n,t)),ai(()=>a++),Xg(1),q(h=>a===s.length?ot(e):X))})}(e.paramsInheritanceStrategy,this.environmentInjector),ai({next:()=>y=!0,complete:()=>{y||(e.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),ai(p=>{const y=new KL(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),vm(h=>{const p=y=>{const T=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(y.routeConfig).pipe(ai(F=>{y.component=F}),Ye(()=>{})));for(const F of y.children)T.push(...p(F));return T};return Mg(p(h.targetSnapshot.root)).pipe(Vh(),fr(1))}),vm(()=>this.afterPreactivation()),Ye(h=>{const p=function c5(n,t,e){const i=kl(n,t._root,e?e._root:void 0);return new mx(i,t)}(e.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:p}}),ai(h=>{e.currentUrlTree=h.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),e.routerState=h.targetRouterState,"deferred"===e.urlUpdateStrategy&&(h.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,h),e.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>Ye(i=>(new b5(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,h=>this.events.next(h)),ai({next:h=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Go(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{s=!0}}),Eh(()=>{s||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ls(h=>{if(a=!0,Sx(h)){xx(h)||(e.navigated=!0,e.restoreHistory(i,!0));const p=new Gh(i.id,this.urlSerializer.serialize(i.extractedUrl),h.message,h.cancellationCode);if(this.events.next(p),xx(h)){const y=e.urlHandlingStrategy.merge(h.url,e.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||$x(i.source)};e.scheduleNavigation(y,Pl,null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const p=new sm(i.id,this.urlSerializer.serialize(i.extractedUrl),h,i.targetSnapshot??void 0);this.events.next(p);try{i.resolve(e.errorHandler(h))}catch(y){i.reject(y)}}return X}))}))}cancelNavigationTransition(e,i,s){const a=new Gh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,s);this.events.next(a),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $x(n){return n!==Pl}let qx=(()=>{class n{buildTitle(e){let i,s=e.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===Ot);return i}getResolvedTitleForRoute(e){return e.data[El]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(){return Rt(f3)},providedIn:"root"}),n})(),f3=(()=>{class n extends qx{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(xe(y1))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(){return Rt(m3)},providedIn:"root"}),n})();class g3{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let m3=(()=>{class n extends g3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=dc(n)))(i||n)}}(),n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sd=new We("",{providedIn:"root",factory:()=>({})});let v3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:function(){return Rt(y3)},providedIn:"root"}),n})(),y3=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b3(n){throw n}function w3(n,t,e){return t.parse("/")}const C3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Rt(YP),this.isNgZoneEnabled=!1,this.options=Rt(sd,{optional:!0})||{},this.errorHandler=this.options.errorHandler||b3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||w3,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Rt(v3),this.routeReuseStrategy=Rt(p3),this.urlCreationStrategy=Rt(a5),this.titleStrategy=Rt(qx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=YC(Rt(uu,{optional:!0})??[]),this.navigationTransitions=Rt(rd),this.urlSerializer=Rt(Il),this.location=Rt(rh),this.isNgZoneEnabled=Rt(jt)instanceof jt&&jt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new go,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_x(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pl,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,s){const a={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const y={...s};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const p=this.parseUrl(e);this.scheduleNavigation(p,i,h,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(pm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:a,fragment:h,queryParamsHandling:p,preserveFragment:y}=i,T=y?this.currentUrlTree.fragment:h;let F=null;switch(p){case"merge":F={...this.currentUrlTree.queryParams,...a};break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=a||null}return null!==F&&(F=this.removeEmptyProps(F)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,e,F,T??null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=Wo(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,Pl,null,i)}navigate(e,i={skipLocationChange:!1}){return function S3(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new M(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?{...C3}:!1===i?{...x3}:i,Wo(e))return JC(this.currentUrlTree,e,s);const a=this.parseUrl(e);return JC(this.currentUrlTree,a,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const a=e[s];return null!=a&&(i[s]=a),i},{})}scheduleNavigation(e,i,s,a,h){if(this.disposed)return Promise.resolve(!1);let p,y,T,F;return h?(p=h.resolve,y=h.reject,T=h.promise):T=new Promise((z,Y)=>{p=z,y=Y}),F="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:F,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:p,reject:y,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(z=>Promise.reject(z))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",a):this.location.go(s,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===s?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Wx{}let I3=(()=>{class n{constructor(e,i,s,a,h){this.router=e,this.injector=s,this.preloadingStrategy=a,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Mi(e=>e instanceof Go),lo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const a of i){a.providers&&!a._injector&&(a._injector=Wc(a.providers,e,`Route: ${a.path}`));const h=a._injector??e,p=a._loadedInjector??h;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?s.push(this.preloadConfig(h,a)):(a.children||a._loadedRoutes)&&s.push(this.processRoutes(p,a.children??a._loadedRoutes))}return ct(s).pipe(K())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):ot(null);const a=s.pipe(q(h=>null===h?ot(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));return i.loadComponent&&!i._loadedComponent?ct([a,this.loader.loadComponent(i)]).pipe(K()):a})}}return n.\u0275fac=function(e){return new(e||n)(xe(pr),xe(Yb),xe(Ms),xe(Wx),xe(ym))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cm=new We("");let Gx=(()=>{class n{constructor(e,i,s,a,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=s,this.zone=a,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof rm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Go&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof px&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new px(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){!function u0(){throw new Error("invalid")}()},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();var gr=(()=>((gr=gr||{})[gr.COMPLETE=0]="COMPLETE",gr[gr.FAILED=1]="FAILED",gr[gr.REDIRECTING=2]="REDIRECTING",gr))();const lu=!1;function mo(n,t){return{\u0275kind:n,\u0275providers:t}}const xm=new We("",{providedIn:"root",factory:()=>!1});function Kx(){const n=Rt(lr);return t=>{const e=n.get(Lo);if(t!==e.components[0])return;const i=n.get(pr),s=n.get(Yx);1===n.get(Sm)&&i.initialNavigation(),n.get(Xx,null,dt.Optional)?.setUpPreloading(),n.get(Cm,null,dt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const Yx=new We(lu?"bootstrap done indicator":"",{factory:()=>new $e}),Sm=new We(lu?"initial navigation":"",{providedIn:"root",factory:()=>1});function k3(){let n=[];return n=lu?[{provide:Ec,multi:!0,useFactory:()=>{const t=Rt(pr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function n5(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],mo(1,n)}const Xx=new We(lu?"router preloader":"");function R3(n){return mo(0,[{provide:Xx,useExisting:I3},{provide:Wx,useExisting:n}])}const Vl=!1,Qx=new We(Vl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),O3=[rh,{provide:Il,useClass:Qg},pr,Rl,{provide:su,useFactory:function Zx(n){return n.routerState.root},deps:[pr]},ym,Vl?{provide:xm,useValue:!0}:[]];function N3(){return new rw("Router",pr)}let Jx=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[O3,Vl&&i?.enableTracing?k3().\u0275providers:[],{provide:uu,multi:!0,useValue:e},{provide:Qx,useFactory:V3,deps:[[pr,new Ds,new ga]]},{provide:sd,useValue:i||{}},i?.useHash?{provide:zo,useClass:B2}:{provide:zo,useClass:Iw},{provide:Cm,useFactory:()=>{const n=Rt(iR),t=Rt(jt),e=Rt(sd),i=Rt(rd),s=Rt(Il);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Gx(s,i,n,t,e)}},i?.preloadingStrategy?R3(i.preloadingStrategy).\u0275providers:[],{provide:rw,multi:!0,useFactory:N3},i?.initialNavigation?z3(i):[],[{provide:eS,useFactory:Kx},{provide:iw,multi:!0,useExisting:eS}]]}}static forChild(e){return{ngModule:n,providers:[{provide:uu,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(xe(Qx,8))},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({imports:[dm]}),n})();function V3(n){if(Vl&&n)throw new M(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function z3(n){return["disabled"===n.initialNavigation?mo(3,[{provide:Yc,multi:!0,useFactory:()=>{const t=Rt(pr);return()=>{t.setUpLocationChangeListener()}}},{provide:Sm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mo(2,[{provide:Sm,useValue:0},{provide:Yc,multi:!0,deps:[lr],useFactory:t=>{const e=t.get(F2,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const s=t.get(pr),a=t.get(Yx);(function M3(n,t){n.events.pipe(Mi(e=>e instanceof Go||e instanceof Gh||e instanceof sm||e instanceof Zh),Ye(e=>e instanceof Go||e instanceof Zh?gr.COMPLETE:e instanceof Gh&&(0===e.code||1===e.code)?gr.REDIRECTING:gr.FAILED),Mi(e=>e!==gr.REDIRECTING),fr(1)).subscribe(()=>{t()})})(s,()=>{i(!0)}),t.get(rd).afterPreactivation=()=>(i(!0),a.closed?ot(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const eS=new We(Vl?"Router Initializer":""),j3=[];let U3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({imports:[Jx.forRoot(j3),Jx]}),n})();var Oi=Gt(946);class _o{constructor(t,e){this.P1=t,this.P2=e,this.v=e.subtract(t).normalize(),this.n=new Oi.Point(this.v.y,-this.v.x),this.length=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),this.angleV=this.v.angle,this.angleN=this.n.angle,this.a=this.n.x,this.b=this.n.y,this.c=-(this.a*this.P1.x+this.b*this.P1.y),this.inputPositionPoint=this.getInputVector(10).point}getParallelLine(t){let e=new Oi.Point(this.n.x,this.n.y);e.length=t;let i=new Oi.Point(this.P1.x+e.x,this.P1.y-e.y),s=new Oi.Point(this.P2.x+e.x,this.P2.y-e.y);return new _o(s,i)}drawRuler(t){return this.drawHalfRuler(this.P1,t)+" "+this.drawHalfRuler(this.P2,t)+" Z"}drawHalfRuler(t,e){let i=1;t===this.P2&&(i=-1);let s=new Oi.Point(this.n.x,this.n.y),a=new Oi.Point(this.n.x,this.n.y),h=new Oi.Point(this.n.x,this.n.y),p=new Oi.Point(this.v.x,this.v.y);s.length=e,a.length=e+5,h.length=e+10,p.length=i*(this.length/2-25);let y=new Oi.Point(t.x+s.x,t.y-s.y),T=new Oi.Point(t.x+a.x,t.y-a.y),F=new Oi.Point(t.x+h.x,t.y-h.y),z=new Oi.Point(T.x+p.x,T.y+p.y);return"M"+T.x+" "+T.y+" L"+y.x+" "+y.y+" L"+F.x+" "+F.y+"M"+T.x+" "+T.y+" L"+z.x+" "+z.y}getInputVector(t){let e=new Oi.Point(this.n.x,this.n.y);e.length=t+27;let i=new Oi.Point(this.P1.x+e.x,this.P1.y-e.y),s=new Oi.Point(this.v.x,this.v.y);return s.length=this.length/2-25,{point:new Oi.Point(i.x+s.x,i.y+s.y),angle:s.angle}}}class $3{constructor(t){this.baseLine=t,this.textPositionPoint={...this.getInputVector(50,0).point},this.inputPositionPoint=this.getInputVector(55,25).point}drawRuler(t){return this.drawWholeRuler(this.baseLine.P1,t)+" Z"}drawHalfRuler(t,e){let i=1;t===this.baseLine.P2&&(i=-1);let s=this.baseLine.n.multiply(20),a=this.baseLine.n.multiply(20),h=this.baseLine.n.multiply(20),p=this.baseLine.v.multiply(20);s.length=e,a.length=e+5,h.length=e+10,p.length=i*(this.baseLine.length/2-25);let y=t.clone().add(s),T=t.clone().add(a),F=t.clone().add(h),z=T.clone().add(p);return"M"+T.x+" "+T.y+" L"+y.x+" "+y.y+" L"+F.x+" "+F.y+"M"+T.x+" "+T.y+" L"+z.x+" "+z.y}drawWholeRuler(t,e){let i=this.baseLine.n.multiply(20),s=this.baseLine.n.multiply(20),a=this.baseLine.n.multiply(20),h=this.baseLine.v.multiply(20);i.length=e,s.length=e+5,a.length=e+10,h.length=this.baseLine.length;let p=t.clone().add(i),y=t.clone().add(s),T=t.clone().add(a),F=y.clone().add(h),z=F.clone().subtract(i.clone().normalize().multiply(5)),Y=F.clone().add(s.clone().normalize().multiply(5));return"M"+y.x+" "+y.y+" L"+p.x+" "+p.y+" L"+T.x+" "+T.y+"M"+y.x+" "+y.y+" L"+F.x+" "+F.y+" M"+z.x+" "+z.y+" L"+Y.x+" "+Y.y}getInputVector(t,e){let i=this.baseLine.n;i.length=t;let s=this.baseLine.P1.clone().add(i),a=this.baseLine.v;return this.baseLine.length/2<e&&(e=0),a.length=this.baseLine.length/2-e,{point:s.clone().add(a),angle:a.angle}}}class q3{constructor(t,e){this.startPoint=t,this.endPoint=e,this.isInputMode=!1,this.setWall()}setWall(){this.innerLine=new _o(this.startPoint,this.endPoint),this.outerStartPoint=this.getOuterStartPoint(),this.outerEndPoint=this.getOuterEndPoint(),this.outherLine=new _o(this.outerStartPoint.clone(),this.outerEndPoint.clone())}reSetWall(){this.drawWall(),this.setRuler()}getOuterStartPoint(){const t=this.innerLine.n.clone().multiply(10);return this.startPoint.clone().add(t)}getOuterEndPoint(){const t=this.innerLine.n.clone().multiply(10);return this.endPoint.clone().add(t)}drawWall(){this.wall=this.startPoint.x+","+this.startPoint.y+" "+this.endPoint.x+","+this.endPoint.y+" "+this.outerEndPoint.x+","+this.outerEndPoint.y+" "+this.outerStartPoint.x+","+this.outerStartPoint.y}setRuler(){this.ruler=new $3(this.innerLine)}}var zs=Gt(956);let tS=(()=>{class n{constructor(){}getIntersection(e,i){const a=parseFloat((e.a*i.b-i.a*e.b).toFixed(4));return 0===a?null:new zs.Point((e.b*i.c-i.b*e.c)/a,(e.c*i.a-i.c*e.a)/a)}getParallelLine(e,i){let s=new zs.Point(i.n.x,i.n.y);s.length=e;let a=new zs.Point(i.P1.x+s.x,i.P1.y-s.y),h=new zs.Point(i.P2.x+s.x,i.P2.y-s.y);return new _o(h,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zl=(()=>{class n{constructor(e){this.helpersService=e,this.pointArray=[new zs.Point(100,100),new zs.Point(600,100),new zs.Point(600,600),new zs.Point(350,850),new zs.Point(100,600)],this.reDrawSubject=new $e,this.reDrawAnglesSubject=new $e}}return n.\u0275fac=function(e){return new(e||n)(xe(tS))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W3=["app-walls",""],G3=function(n){return{i:n}};function Z3(n,t){if(1&n&&($i(),hr(0,"polygon",3)),2&n){const e=t.$implicit,i=t.index;rn(),qn("matMenuTriggerFor",Uu(3))("matMenuTriggerData",pb(3,G3,i)),Ci("points",e.wall)}}function K3(n,t){if(1&n){const e=Rs();Et(0,"button",4),Wn("click",function(){const a=Kn(e).i;return Yn(rn().onAddWall(a))}),Et(1,"span"),pi(2,"Add wall"),Qt()(),Et(3,"button",4),Wn("click",function(){const a=Kn(e).i;return Yn(rn().onDeleteWall(a))}),Et(4,"span"),pi(5,"Delete wall"),Qt()()}}let Y3=(()=>{class n{constructor(e){this.roomService=e}onAddWall(e){const i=this.walls[e].innerLine.v.clone().normalize().multiply(100),s=this.walls[e].innerLine.P2.add(i);this.roomService.pointArray.splice(e+1,0,s),this.roomService.reDrawSubject.next("")}onDeleteWall(e){this.roomService.pointArray.splice(e,1),this.roomService.reDrawSubject.next("")}}return n.\u0275fac=function(e){return new(e||n)(Ie(zl))},n.\u0275cmp=gn({type:n,selectors:[["","app-walls",""]],inputs:{walls:"walls"},attrs:W3,decls:5,vars:1,consts:[[3,"matMenuTriggerFor","matMenuTriggerData",4,"ngFor","ngForOf"],["menu","matMenu"],["matMenuContent",""],[3,"matMenuTriggerFor","matMenuTriggerData"],["mat-menu-item","",3,"click"]],template:function(e,i){1&e&&($i(),Et(0,"g"),Ji(1,Z3,1,5,"polygon",0),Qt(),Su(),Et(2,"mat-menu",null,1),Ji(4,K3,6,0,"ng-template",2),Qt()),2&e&&(Pn(1),qn("ngForOf",i.walls))},dependencies:[ol,uL,Fh,sL,dL],styles:["polygon[_ngcontent-%COMP%]{fill:gray;stroke:#000;stroke-width:1}polygon[_ngcontent-%COMP%]:hover{cursor:pointer;fill:#5b5b5b}"]}),n})();const X3=["app-rulers",""];function Q3(n,t){if(1&n&&($i(),Et(0,"text",4),pi(1),Qt()),2&n){const e=rn().$implicit;Lc("transform","\n  rotate(\n    ",e.ruler.getInputVector(10,25).angle,",\n    ",e.ruler.textPositionPoint.x,",\n    ",e.ruler.textPositionPoint.y,"\n    )\n    "),Ci("x",e.ruler.textPositionPoint.x)("y",e.ruler.textPositionPoint.y),Pn(1),Wu(" ",e.innerLine.length.toFixed(1)," cm ")}}function J3(n,t){if(1&n){const e=Rs();$i(),Su(),Et(0,"div")(1,"div",8)(2,"mat-icon",9),Wn("mousedown",function(){return Kn(e),Yn(rn(3).onClose())}),pi(3,"close"),Qt(),Et(4,"mat-icon",9),Wn("mousedown",function(){Kn(e),rn();const s=Uu(4),a=rn().index;return Yn(rn().onDone(a,s))}),pi(5,"done"),Qt()()()}}const e8=function(n,t,e,i){return{"font-size":n,width:t,heigth:e,border:i}};function t8(n,t){if(1&n){const e=Rs();$i(),Et(0,"foreignObject",null,5),Ji(2,J3,6,0,"div",3),Su(),Et(3,"input",6,7),Wn("click",function(s){Kn(e);const a=Uu(1),h=rn().$implicit;return Yn(rn().onClickInput(h,a,s))}),function wb(n,t){const e=tn();let i;const s=n+Ke;e.firstCreatePass?(i=function dP(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const a=i.factory||(i.factory=Eo(i.type)),h=zi(Ie);try{const p=lc(!1),y=a();return lc(p),function iT(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Te(),s,y),y}finally{zi(h)}}(5,"number"),Qt()()}if(2&n){const e=rn().$implicit,i=rn();Lc("transform","\n  rotate(\n    ",e.ruler.getInputVector(10,25).angle,",\n    ",e.ruler.inputPositionPoint.x,",\n    ",e.ruler.inputPositionPoint.y,"\n    )\n    "),Ci("height",1/i.scale*50)("width",1/i.scale*50)("x",e.ruler.inputPositionPoint.x)("y",e.ruler.inputPositionPoint.y),Pn(2),qn("ngIf",e.isInputMode),Pn(1),qn("ngStyle",gb(13,e8,1/i.scale*14+"px",1/i.scale*40+"px",1/i.scale*12+"px",1/i.scale*1+"px solid black"))("value",Cb(5,10,e.innerLine.length,"1.0-0"))}}function n8(n,t){if(1&n&&($i(),Et(0,"g"),hr(1,"path",1),Ji(2,Q3,2,6,"text",2),Ji(3,t8,6,18,"foreignObject",3),Qt()),2&n){const e=t.$implicit,i=rn();Pn(1),Ci("d",e.ruler.drawRuler(20)),Pn(1),qn("ngIf",!1===i.isEditMode),Pn(1),qn("ngIf",!0===i.isEditMode)}}let i8=(()=>{class n{constructor(e,i){this.roomService=e,this.cdr=i}ngAfterViewInit(){this.cdr.detectChanges()}onClickInput(e,i,s){s.stopPropagation(),e.isInputMode=!0,console.log(i),i.setAttribute("transform","rotate(0deg, wall.ruler.inputPositionPoint.x, wall.ruler.inputPositionPoint.y)")}onBlurInput(e){e.stopPropagation(),this.onClose()}onClose(){this.roomService.reDrawSubject.next("")}onDone(e,i){let s=e-1;s<0&&(s=this.walls.length-1),this.roomService.pointArray[e]=this.roomService.pointArray[s].clone().add(this.walls[e].innerLine.v.normalize().multiply(+i.value)),this.roomService.reDrawSubject.next("")}}return n.\u0275fac=function(e){return new(e||n)(Ie(zl),Ie(ps))},n.\u0275cmp=gn({type:n,selectors:[["","app-rulers",""]],inputs:{walls:"walls",scale:"scale",isEditMode:"isEditMode"},attrs:X3,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["stroke","black","fill","none"],["text-anchor","middle","alignment-baseline","middle","font-size","18","fill","black",4,"ngIf"],[4,"ngIf"],["text-anchor","middle","alignment-baseline","middle","font-size","18","fill","black"],["fObj",""],["type","text",3,"ngStyle","value","click"],["input",""],["id","ok",1,"panel"],[3,"mousedown"]],template:function(e,i){1&e&&($i(),Et(0,"g"),Ji(1,n8,4,3,"g",0),Qt()),2&e&&(Pn(1),qn("ngForOf",i.walls))},dependencies:[ol,al,$w,Lg,Ww],styles:["input[_ngcontent-%COMP%]{margin:0;text-align:center}.wall-value[_ngcontent-%COMP%]{text-align:center}.panel[_ngcontent-%COMP%]{background-color:#cbcbcb;width:100%;height:25px}"]}),n})();const r8=["svgEl"],s8=["circle"],o8=["app-resize",""];function a8(n,t){if(1&n){const e=Rs();$i(),Et(0,"circle",3,4),Wn("mousedown",function(s){const h=Kn(e).$implicit;return Yn(rn().onMouseDown(s,h))})("mouseup",function(){return Kn(e),Yn(rn().onMouseUp())})("touchstart",function(s){const h=Kn(e).$implicit;return Yn(rn().onTouchStart(s,h))})("touchend",function(){return Kn(e),Yn(rn().onTouchEnd())}),Qt()}if(2&n){const e=t.$implicit;Ci("cx",e.x)("cy",e.y)}}let u8=(()=>{class n{constructor(e,i){this.renderer=e,this.roomService=i,this.draggingPoint=null,this.isDraggingPoint=!1,this.isDragging=!1}ngOnInit(){this.svgEl=this.svgElRef.nativeElement}onMouseDown(e,i){e.preventDefault(),e.stopPropagation(),this.isDragging=!0,this.activateMoveListener("mousemove",i)}onTouchStart(e,i){e.preventDefault(),this.isDragging=!0,this.activateMoveListener("touchmove",i)}activateMoveListener(e,i){console.log(i),this.mouseMoveListener=this.renderer.listen(window,e,s=>{if(this.isDragging){if(this.svgElArr=[this.svgEl.parentElement.parentElement.getBoundingClientRect().x,this.svgEl.parentElement.parentElement.getBoundingClientRect().y],console.log(this.svgElArr),"mousemove"==e)console.log(s),console.log(this.svgElArr),i.x=s.pageX*(1/this.scale)+this.leftRight,i.y=s.pageY*(1/this.scale)+this.upDown;else{const a=s.touches[0];i.x=a.pageX*(1/this.scale)+this.leftRight,i.y=a.pageY*(1/this.scale)+this.upDown}this.roomService.reDrawSubject.next("")}})}onMouseUp(){this.stopDragging()}onTouchEnd(){this.stopDragging()}stopDragging(){this.isDragging=!1,this.mouseMoveListener&&this.mouseMoveListener()}}return n.\u0275fac=function(e){return new(e||n)(Ie(wa),Ie(zl))},n.\u0275cmp=gn({type:n,selectors:[["","app-resize",""]],viewQuery:function(e,i){if(1&e&&(ja(r8,7),ja(s8,5)),2&e){let s;hs(s=ds())&&(i.svgElRef=s.first),hs(s=ds())&&(i.circles=s)}},inputs:{scale:"scale",upDown:"upDown",leftRight:"leftRight"},attrs:o8,decls:3,vars:1,consts:[["id","svgEl"],["svgEl",""],["r","8","draggable","true",3,"mousedown","mouseup","touchstart","touchend",4,"ngFor","ngForOf"],["r","8","draggable","true",3,"mousedown","mouseup","touchstart","touchend"],["circle","","image",""]],template:function(e,i){1&e&&($i(),Et(0,"g",0,1),Ji(2,a8,3,2,"circle",2),Qt()),2&e&&(Pn(2),qn("ngForOf",i.roomService.pointArray))},dependencies:[ol],styles:["circle[_ngcontent-%COMP%]{fill:#58ace400;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:hover{fill:#58ace4;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:active{fill:#58ace4;cursor:crosshair;touch-action:none}"]}),n})();const l8=["app-angles",""];function c8(n,t){if(1&n){const e=Rs();$i(),Et(0,"foreignObject"),Su(),hr(1,"input",5,6),Et(3,"div")(4,"div",7)(5,"mat-icon",8),Wn("click",function(){return Kn(e),Yn(rn().$implicit.inputMode=!1)}),pi(6,"close"),Qt(),Et(7,"mat-icon",8),Wn("click",function(){Kn(e);const s=Uu(2),a=rn().index;return Yn(rn(2).onDone(a,+s.value))}),pi(8,"done"),Qt()()()()}if(2&n){const e=rn().$implicit;Ci("height",50)("width",50)("x",e.circleCenter.x+10)("y",e.circleCenter.y+10),Pn(1),qn("value",e.roundedDeg)}}function h8(n,t){if(1&n){const e=Rs();$i(),Et(0,"g")(1,"g",2),Wn("click",function(){return Yn(Kn(e).$implicit.inputMode=!0)}),hr(2,"path",3),Et(3,"text",4),pi(4),Qt()(),Ji(5,c8,9,5,"foreignObject",0),Qt()}if(2&n){const e=t.$implicit;Pn(2),Ci("d",e.str),Pn(1),Ci("x",e.circleCenter.x)("y",e.circleCenter.y),Pn(1),Wu(" ",e.roundedDeg,"\xb0 "),Pn(1),qn("ngIf",e.inputMode)}}function d8(n,t){if(1&n&&($i(),Et(0,"g"),Ji(1,h8,6,5,"g",1),Qt()),2&n){const e=rn();Pn(1),qn("ngForOf",e.angleArray)}}let f8=(()=>{class n{constructor(e){this.roomService=e,this.isLoaded=!1}ngOnInit(){console.log(this.walls),this.angleArray=this.getAngles(),this.isLoaded=!0,this.roomService.reDrawAnglesSubject.subscribe(e=>{this.walls=e,this.angleArray=this.getAngles()})}getAngles(){const e=[];return this.creatreAngleObjArr(e),this.correctAngles(e),this.finalCalcsAngleObjArr(e),e}creatreAngleObjArr(e){for(let i=0;i<this.walls.length;i++){let s=i-1;-1===s&&(s=this.walls.length-1);const a=this.walls[i].innerLine,h=this.walls[s].innerLine,p=a.n,y=h.P1.subtract(a.P1),F=p.dot(y)>=0,z=a.P1,Y=z.clone().add(a.v.clone().normalize().multiply(40)),Q=z.clone().add(h.v.clone().normalize().multiply(-40)),ie=Math.max(Math.min(a.v.dot(h.v)/(a.v.length*h.v.length),1),-1);let le=Math.acos(ie);le=Math.max(Math.min(le,Math.PI),0),le=F?Math.PI+le:Math.PI-le;let me=parseFloat((le*(180/Math.PI)).toFixed(10)),Ce=parseFloat((le*(180/Math.PI)).toFixed(0));e.push({isConcave:F,pointZero:z,pointOne:Y,pointTwo:Q,rawDeg:me,roundedDeg:Ce,str:"",circleCenter:void 0,inputMode:!1})}}correctAngles(e){let i=0;const s=180*(e.length-2);for(let a=0;a<e.length;a++)i+=e[a].roundedDeg;if(i!=s){const a=[];for(let p=0;p<e.length;p++){let y=Math.abs(e[p].rawDeg-e[p].roundedDeg);a.push(y)}const h=a.indexOf(Math.max(...a));i<540&&e[h].roundedDeg++,i>540&&e[h].roundedDeg--,console.log(i),console.log(a),console.log(e)}}finalCalcsAngleObjArr(e){for(let i=0;i<e.length;i++){let s=0,a=20;e[i].isConcave&&(s=1,a=-20);const h="M"+e[i].pointZero.x+","+e[i].pointZero.y+" L"+e[i].pointOne.x+","+e[i].pointOne.y+" A40,40 0 "+s+",1 "+e[i].pointTwo.x+","+e[i].pointTwo.y+" Z",p=e[i].pointOne.add(e[i].pointTwo).divide(2);let y=e[i].pointZero,T=new _o(y,p);0==T.length&&(T=new _o(y,y.add(this.walls[i].innerLine.n)));let F=e[i].pointZero.add(T.v.normalize().multiply(a));e[i]={...e[i],str:h,circleCenter:F,inputMode:!1}}}onDone(e,i){let s=e-1;-1===s&&(s=this.roomService.pointArray.length-1);const a=this.walls[e].startPoint,h=this.angleArray[e].roundedDeg-i,p=this.walls[e].innerLine.v.clone();p.angle+=h,p.length=this.walls[e].innerLine.length;const y=a.add(p);new _o(a,y),this.roomService.pointArray[e]=y,this.roomService.reDrawSubject.next("")}}return n.\u0275fac=function(e){return new(e||n)(Ie(zl))},n.\u0275cmp=gn({type:n,selectors:[["","app-angles",""]],inputs:{walls:"walls"},attrs:l8,decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"angle-group",3,"click"],["fill","#efefef","stroke","black",1,"angle"],["text-anchor","middle","alignment-baseline","middle","font-size","12","fill","black"],["type","text",3,"value"],["input",""],["id","ok",1,"panel"],[3,"click"]],template:function(e,i){1&e&&Ji(0,d8,2,1,"g",0),2&e&&qn("ngIf",i.isLoaded)},dependencies:[ol,al,Lg],styles:[".angle-group[_ngcontent-%COMP%]:hover   .angle[_ngcontent-%COMP%]{stroke-width:4;cursor:pointer}input[_ngcontent-%COMP%]{width:42px;margin:0;text-align:center}.panel[_ngcontent-%COMP%]{background-color:#cbcbcb;width:100%;height:25px}"]}),n})();const p8=["plan"];function g8(n,t){if(1&n){const e=Rs();Et(0,"div",13),$i(),Et(1,"svg",null,14)(3,"polygon",15),Wn("mousedown",function(s){return Kn(e),Yn(rn().onMouseDown(s))})("mouseup",function(){return Kn(e),Yn(rn().onMouseUp())})("touchstart",function(s){return Kn(e),Yn(rn().onTouchStart(s))})("touchend",function(){return Kn(e),Yn(rn().onTouchEnd())}),Qt(),hr(4,"g",16)(5,"g",17)(6,"g",18)(7,"g",19),Qt()()}if(2&n){const e=rn();Pn(1),Ci("width",10*e.width)("height",10*e.height)("viewBox",e.viewBox),Pn(2),Ci("points",e.moveHelper),Pn(1),qn("walls",e.walls),Pn(1),qn("walls",e.walls)("scale",e.scale)("isEditMode",!0),Pn(1),qn("walls",e.walls),Pn(1),qn("scale",e.scale)("upDown",e.upDown)("leftRight",e.leftRight)}}let m8=(()=>{class n{constructor(e,i,s){this.roomService=e,this.helperService=i,this.renderer=s,this.isLoaded=!1,this.walls=[],this.scale=1,this.upDown=0,this.leftRight=0,this.isDragging=!1,this.drawWalls(),this.width=window.innerWidth,this.height=window.innerHeight,this.viewBox=this.getViewBox(),this.moveHelper=-10*this.width+","+-10*this.height+" "+10*this.width+","+-10*this.height+" "+10*this.width+","+10*this.height+" "+-10*this.width+","+10*this.height}ngOnInit(){this.isLoaded=!0,this.reDrawSubs=this.roomService.reDrawSubject.subscribe(e=>{this.drawWalls()})}ngAfterViewInit(){}ngOnDestroy(){this.reDrawSubs.unsubscribe()}drawWalls(){const e=[];for(let i=0;i<this.roomService.pointArray.length;i++){let s=i-1;-1===s&&(s=this.roomService.pointArray.length-1);const h=new q3(this.roomService.pointArray[s],this.roomService.pointArray[i]);e.push(h)}this.reCalcOuterPoints(e),this.walls=e,this.roomService.reDrawAnglesSubject.next(this.walls)}reCalcOuterPoints(e){for(let i=0;i<e.length;i++){let s=i-1;-1==s&&(s=e.length-1);let a=i+1;a==e.length&&(a=0);let h=this.helperService.getIntersection(e[s].outherLine,e[i].outherLine),p=this.helperService.getIntersection(e[i].outherLine,e[a].outherLine);h&&(e[i].outerStartPoint=h),p&&(e[i].outerEndPoint=p),e[i].reSetWall()}}zoom(e){this.scale=this.scale+e,this.viewBox=this.getViewBox()}moveLeftRight(e){this.leftRight+=e,this.viewBox=this.getViewBox()}moveUpDown(e){this.upDown+=e,this.viewBox=this.getViewBox()}getViewBox(){return this.leftRight+" "+this.upDown+" "+1/this.scale*this.width+" "+1/this.scale*this.height}onMouseDown(e){e.preventDefault(),console.log(this.leftRight),console.log(this.upDown),this.startX=e.clientX*(1/this.scale)+this.leftRight,this.startY=e.clientY*(1/this.scale)+this.upDown,this.isDragging=!0,this.activateMoveListener("mousemove")}onTouchStart(e){e.preventDefault(),this.startX=e.touches[0].clientX*(1/this.scale)+this.leftRight,this.startY=e.touches[0].clientY*(1/this.scale)+this.upDown,this.isDragging=!0,this.activateMoveListener("touchmove")}activateMoveListener(e){this.roomMouseMoveListener=this.renderer.listen(window,e,i=>{if(this.isDragging){if("mousemove"==e)console.log(i.pageX),console.log(i.pageY),this.leftRight=this.startX-i.pageX*(1/this.scale),this.upDown=this.startY-i.pageY*(1/this.scale);else{const s=i.touches[0];this.leftRight=this.startX-s.pageX*(1/this.scale),this.upDown=this.startY-s.pageY*(1/this.scale)}this.viewBox=this.getViewBox()}})}onMouseUp(){this.stopDragging()}onTouchEnd(){this.stopDragging()}stopDragging(){this.isDragging=!1,this.roomMouseMoveListener&&this.roomMouseMoveListener()}}return n.\u0275fac=function(e){return new(e||n)(Ie(zl),Ie(tS),Ie(wa))},n.\u0275cmp=gn({type:n,selectors:[["app-room"]],viewQuery:function(e,i){if(1&e&&ja(p8,7),2&e){let s;hs(s=ds())&&(i.svgElRef=s.first)}},decls:29,vars:1,consts:[["id","container",4,"ngIf"],[1,"step"],["id","panel"],[1,"button-1",3,"click"],[1,"button-2",3,"click"],[1,"button-3",3,"click"],[1,"button-4",3,"click"],[1,"button-5",3,"click"],[1,"button-6",3,"click"],[1,"gap"],[1,"button-7"],[1,"button-8"],[1,"button-9"],["id","container"],["plan",""],["draggable","true",2,"fill","white",3,"mousedown","mouseup","touchstart","touchend"],["app-walls","",3,"walls"],["app-rulers","",3,"walls","scale","isEditMode"],["app-angles","",3,"walls"],["app-resize","",3,"scale","upDown","leftRight"]],template:function(e,i){1&e&&(Ji(0,g8,8,12,"div",0),Et(1,"div",1),pi(2,"Add meg konyh\xe1d alaprajz\xe1t!"),Qt(),Et(3,"div",2)(4,"button",3),Wn("click",function(){return i.moveUpDown(10)}),Et(5,"mat-icon"),pi(6,"keyboard_arrow_up"),Qt()(),Et(7,"button",4),Wn("click",function(){return i.moveLeftRight(10)}),Et(8,"mat-icon"),pi(9,"keyboard_arrow_left"),Qt()(),Et(10,"button",5),Wn("click",function(){return i.moveLeftRight(-10)}),Et(11,"mat-icon"),pi(12,"keyboard_arrow_right"),Qt()(),Et(13,"button",6),Wn("click",function(){return i.moveUpDown(-10)}),Et(14,"mat-icon"),pi(15,"keyboard_arrow_down"),Qt()(),Et(16,"button",7),Wn("click",function(){return i.zoom(.1)}),Et(17,"mat-icon"),pi(18,"add"),Qt()(),Et(19,"button",8),Wn("click",function(){return i.zoom(-.1)}),Et(20,"mat-icon"),pi(21,"remove"),Qt()(),hr(22,"div",9),Et(23,"button",10),pi(24,"1"),Qt(),Et(25,"button",11),pi(26,"2"),Qt(),Et(27,"button",12),pi(28,"3"),Qt()()),2&e&&qn("ngIf",i.isLoaded)},dependencies:[al,Lg,Y3,i8,u8,f8],styles:["#container[_ngcontent-%COMP%]{display:flex;justify-content:left}svg[_ngcontent-%COMP%]{width:100%;height:100%}.step[_ngcontent-%COMP%]{position:absolute;top:0;right:160px;display:flex;justify-content:center;align-items:center;width:250px;text-align:center;background-color:#f7f7f7;border:2px solid rgb(207,207,207);height:46px;margin:7px}#panel[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,50px);grid-template-rows:repeat(3,50px);grid-gap:5px;margin:5px;justify-content:center;position:absolute;top:0;right:0}button[_ngcontent-%COMP%]{background-color:#f7f7f7;border:2px solid rgb(207,207,207);width:50px;height:50px;margin:2px}.gap[_ngcontent-%COMP%]{grid-row:2;grid-column:2;width:50px;height:50px}.button-1[_ngcontent-%COMP%]{grid-row:3;grid-column:2}.button-2[_ngcontent-%COMP%]{grid-row:4;grid-column:1}.button-3[_ngcontent-%COMP%]{grid-row:4;grid-column:3}.button-4[_ngcontent-%COMP%]{grid-row:5;grid-column:2}.button-5[_ngcontent-%COMP%]{grid-row:6;grid-column:2}.button-6[_ngcontent-%COMP%]{grid-row:7;grid-column:2}.button-7[_ngcontent-%COMP%]{grid-row:1;grid-column:1}.button-8[_ngcontent-%COMP%]{grid-row:1;grid-column:2}.button-9[_ngcontent-%COMP%]{grid-row:1;grid-column:3}"]}),n})(),_8=(()=>{class n{constructor(){this.title="PlanMyKitchen"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&hr(0,"app-room")},dependencies:[m8]}),n})();function nS(n){return new M(3e3,!1)}function Q8(){return typeof window<"u"&&typeof window.document<"u"}function Em(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function vo(n){switch(n.length){case 0:return new Cl;case 1:return n[0];default:return new EC(n)}}function iS(n,t,e,i,s=new Map,a=new Map){const h=[],p=[];let y=-1,T=null;if(i.forEach(F=>{const z=F.get("offset"),Y=z==y,Q=Y&&T||new Map;F.forEach((ie,le)=>{let me=le,Ce=ie;if("offset"!==le)switch(me=t.normalizePropertyName(me,h),Ce){case $g:Ce=s.get(le);break;case Bs:Ce=a.get(le);break;default:Ce=t.normalizeStyleValue(le,me,Ce,h)}Q.set(me,Ce)}),Y||p.push(Q),T=Q,y=z}),h.length)throw function z8(n){return new M(3502,!1)}();return p}function Dm(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Im(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Im(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Im(e,"destroy",n)))}}function Im(n,t,e){const a=Mm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),h=n._data;return null!=h&&(a._data=h),a}function Mm(n,t,e,i,s="",a=0,h){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:a,disabled:!!h}}function mr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function rS(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Tm=(n,t)=>!1,sS=(n,t,e)=>[],oS=null;function Am(n){const t=n.parentNode||n.host;return t===oS?null:t}(Em()||typeof Element<"u")&&(Q8()?(oS=(()=>document.documentElement)(),Tm=(n,t)=>{for(;t;){if(t===n)return!0;t=Am(t)}return!1}):Tm=(n,t)=>n.contains(t),sS=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Zo=null,aS=!1;const uS=Tm,lS=sS;let cS=(()=>{class n{validateStyleProperty(e){return function e4(n){Zo||(Zo=function t4(){return typeof document<"u"?document.body:null}()||{},aS=!!Zo.style&&"WebkitAppearance"in Zo.style);let t=!0;return Zo.style&&!function J8(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Zo.style,!t&&aS&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Zo.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return uS(e,i)}getParentElement(e){return Am(e)}query(e,i,s){return lS(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,a,h,p=[],y){return new Cl(s,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),Pm=(()=>{class n{}return n.NOOP=new cS,n})();const n4=1e3,km="ng-enter",od="ng-leave",ad="ng-trigger",ud=".ng-trigger",dS="ng-animating",Rm=".ng-animating";function Hs(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Om(parseFloat(t[1]),t[2])}function Om(n,t){return"s"===t?n*n4:n}function ld(n,t,e){return n.hasOwnProperty("duration")?n:function r4(n,t,e){let s,a=0,h="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(nS()),{duration:0,delay:0,easing:""};s=Om(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(a=Om(parseFloat(y),p[4]));const T=p[5];T&&(h=T)}else s=n;if(!e){let p=!1,y=t.length;s<0&&(t.push(function v8(){return new M(3100,!1)}()),p=!0),a<0&&(t.push(function y8(){return new M(3101,!1)}()),p=!0),p&&t.splice(y,0,nS())}return{duration:s,delay:a,easing:h}}(n,t,e)}function Hl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function fS(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function yo(n,t=new Map,e){if(e)for(let[i,s]of e)t.set(i,s);for(let[i,s]of n)t.set(i,s);return t}function gS(n,t,e){return e?t+":"+e+";":""}function mS(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=gS(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=gS(0,u4(e),n.style[e]));n.setAttribute("style",t)}function _s(n,t,e){n.style&&(t.forEach((i,s)=>{const a=Fm(s);e&&!e.has(s)&&e.set(s,n.style[a]),n.style[a]=i}),Em()&&mS(n))}function Ko(n,t){n.style&&(t.forEach((e,i)=>{const s=Fm(i);n.style[s]=""}),Em()&&mS(n))}function jl(n){return Array.isArray(n)?1==n.length?n[0]:CC(n):n}const Nm=new RegExp("{{\\s*(.+?)\\s*}}","g");function _S(n){let t=[];if("string"==typeof n){let e;for(;e=Nm.exec(n);)t.push(e[1]);Nm.lastIndex=0}return t}function Ul(n,t,e){const i=n.toString(),s=i.replace(Nm,(a,h)=>{let p=t[h];return null==p&&(e.push(function w8(n){return new M(3003,!1)}()),p=""),p.toString()});return s==i?n:s}function cd(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const a4=/-+([a-z0-9])/g;function Fm(n){return n.replace(a4,(...t)=>t[1].toUpperCase())}function u4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _r(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function C8(n){return new M(3004,!1)}()}}function vS(n,t){return window.getComputedStyle(n)[t]}const fd="*";function p4(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function g4(n,t,e){if(":"==n[0]){const y=function m4(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function F8(n){return new M(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof y)return void t.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function N8(n){return new M(3015,!1)}()),t;const s=i[1],a=i[2],h=i[3];t.push(yS(s,h));"<"==a[0]&&!(s==fd&&h==fd)&&t.push(yS(h,s))}(i,e,t)):e.push(n),e}const pd=new Set(["true","1"]),gd=new Set(["false","0"]);function yS(n,t){const e=pd.has(n)||gd.has(n),i=pd.has(t)||gd.has(t);return(s,a)=>{let h=n==fd||n==s,p=t==fd||t==a;return!h&&e&&"boolean"==typeof s&&(h=s?pd.has(n):gd.has(n)),!p&&i&&"boolean"==typeof a&&(p=a?pd.has(t):gd.has(t)),h&&p}}const _4=new RegExp("s*:selfs*,?","g");function Lm(n,t,e,i){return new v4(n).build(t,e,i)}class v4{constructor(t){this._driver=t}build(t,e,i){const s=new w4(e);return this._resetContextStyleTimingState(s),_r(this,jl(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const a=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function S8(){return new M(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const y=p,T=y.name;T.toString().split(/\s*,\s*/).forEach(F=>{y.name=F,a.push(this.visitState(y,e))}),y.name=T}else if(1==p.type){const y=this.visitTransition(p,e);i+=y.queryCount,s+=y.depCount,h.push(y)}else e.errors.push(function E8(){return new M(3007,!1)}())}),{type:7,name:t.name,states:a,transitions:h,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,h=s||{};i.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{_S(y).forEach(T=>{h.hasOwnProperty(T)||a.add(T)})})}),a.size&&(cd(a.values()),e.errors.push(function D8(n,t){return new M(3008,!1)}()))}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=_r(this,jl(t.animation),e);return{type:1,matchers:p4(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Yo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>_r(this,i,e)),options:Yo(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const a=t.steps.map(h=>{e.currentTime=i;const p=_r(this,h,e);return s=Math.max(s,e.currentTime),p});return e.currentTime=s,{type:3,steps:a,options:Yo(t.options)}}visitAnimate(t,e){const i=function x4(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Bm(ld(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Bm(0,0,"");return a.dynamic=!0,a.strValue=e,a}const s=ld(e,t);return Bm(s.duration,s.delay,s.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,a=t.styles?t.styles:Uo({});if(5==a.type)s=this.visitKeyframes(a,e);else{let h=t.styles,p=!1;if(!h){p=!0;const T={};i.easing&&(T.easing=i.easing),h=Uo(T)}e.currentTime+=i.duration+i.delay;const y=this.visitStyle(h,e);y.isEmptyStep=p,s=y}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of s)"string"==typeof p?p===Bs?i.push(p):e.errors.push(new M(3002,!1)):i.push(fS(p));let a=!1,h=null;return i.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(h=p.get("easing"),p.delete("easing")),!a))for(let y of p.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:h,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(h=>{"string"!=typeof h&&h.forEach((p,y)=>{const T=e.collectedStyles.get(e.currentQuerySelector),F=T.get(y);let z=!0;F&&(a!=s&&a>=F.startTime&&s<=F.endTime&&(e.errors.push(function M8(n,t,e,i,s){return new M(3010,!1)}()),z=!1),a=F.startTime),z&&T.set(y,{startTime:a,endTime:s}),e.options&&function o4(n,t,e){const i=t.params||{},s=_S(n);s.length&&s.forEach(a=>{i.hasOwnProperty(a)||e.push(function b8(n){return new M(3001,!1)}())})}(p,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function T8(){return new M(3011,!1)}()),i;let a=0;const h=[];let p=!1,y=!1,T=0;const F=t.steps.map(Ce=>{const Be=this._makeStyleAst(Ce,e);let we=null!=Be.offset?Be.offset:function C4(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Be.styles),et=0;return null!=we&&(a++,et=Be.offset=we),y=y||et<0||et>1,p=p||et<T,T=et,h.push(et),Be});y&&e.errors.push(function A8(){return new M(3012,!1)}()),p&&e.errors.push(function P8(){return new M(3200,!1)}());const z=t.steps.length;let Y=0;a>0&&a<z?e.errors.push(function k8(){return new M(3202,!1)}()):0==a&&(Y=1/(z-1));const Q=z-1,ie=e.currentTime,le=e.currentAnimateTimings,me=le.duration;return F.forEach((Ce,Be)=>{const we=Y>0?Be==Q?1:Y*Be:h[Be],et=we*me;e.currentTime=ie+le.delay+et,le.duration=et,this._validateStyleAst(Ce,e),Ce.offset=we,i.styles.push(Ce)}),i}visitReference(t,e){return{type:8,animation:_r(this,jl(t.animation),e),options:Yo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Yo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Yo(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[a,h]=function y4(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_4,"")),n=n.replace(/@\*/g,ud).replace(/@\w+/g,e=>ud+"-"+e.slice(1)).replace(/:animating/g,Rm),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,mr(e.collectedStyles,e.currentQuerySelector,new Map);const p=_r(this,jl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:s.limit||0,optional:!!s.optional,includeSelf:h,animation:p,originalSelector:t.selector,options:Yo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function R8(){return new M(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ld(t.timings,e.errors,!0);return{type:12,animation:_r(this,jl(t.animation),e),timings:i,options:null}}}class w4{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yo(n){return n?(n=Hl(n)).params&&(n.params=function b4(n){return n?Hl(n):null}(n.params)):n={},n}function Bm(n,t,e){return{duration:n,delay:t,easing:e}}function Vm(n,t,e,i,s,a,h=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:a,totalTime:s+a,easing:h,subTimeline:p}}class md{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const D4=new RegExp(":enter","g"),M4=new RegExp(":leave","g");function zm(n,t,e,i,s,a=new Map,h=new Map,p,y,T=[]){return(new T4).buildKeyframes(n,t,e,i,s,a,h,p,y,T)}class T4{buildKeyframes(t,e,i,s,a,h,p,y,T,F=[]){T=T||new md;const z=new Hm(t,e,T,s,a,F,[]);z.options=y;const Y=y.delay?Hs(y.delay):0;z.currentTimeline.delayNextStep(Y),z.currentTimeline.setStyles([h],null,z.errors,y),_r(this,i,z);const Q=z.timelines.filter(ie=>ie.containsAnimation());if(Q.length&&p.size){let ie;for(let le=Q.length-1;le>=0;le--){const me=Q[le];if(me.element===e){ie=me;break}}ie&&!ie.allowOnlyTimelineStyles()&&ie.setStyles([p],null,z.errors,y)}return Q.length?Q.map(ie=>ie.buildKeyframes()):[Vm(e,[],[],[],0,Y,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),a=e.currentTimeline.currentTime,h=this._visitSubInstructions(i,s,s.options);a!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const s of t){const a=s?.delay;if(a){const h="number"==typeof a?a:Hs(Ul(a,s?.params??{},e.errors));i.delayNextStep(h)}}}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const h=null!=i.duration?Hs(i.duration):null,p=null!=i.delay?Hs(i.delay):null;return 0!==h&&t.forEach(y=>{const T=e.appendInstructionToTimeline(y,h,p);a=Math.max(a,T.duration+T.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),_r(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const a=t.options;if(a&&(a.params||a.delay)&&(s=e.createSubContext(a),s.transformIntoNewTimeline(),null!=a.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=_d);const h=Hs(a.delay);s.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>_r(this,h,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?Hs(t.options.delay):0;t.steps.forEach(h=>{const p=e.createSubContext(t.options);a&&p.delayNextStep(a),_r(this,h,p),s=Math.max(s,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ld(e.params?Ul(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,a=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(y=>{p.forwardTime((y.offset||0)*a),p.setStyles(y.styles,y.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(s+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},a=s.delay?Hs(s.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_d);let h=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=p.length;let y=null;p.forEach((T,F)=>{e.currentQueryIndex=F;const z=e.createSubContext(t.options,T);a&&z.delayNextStep(a),T===e.element&&(y=z.currentTimeline),_r(this,t.animation,z),z.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,z.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),y&&(e.currentTimeline.mergeTimelineCollectedStyles(y),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,a=t.timings,h=Math.abs(a.duration),p=h*(e.currentQueryTotal-1);let y=h*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=p-y;break;case"full":y=i.currentStaggerTime}const F=e.currentTimeline;y&&F.delayNextStep(y);const z=F.currentTime;_r(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-z+(s.startTime-i.currentTimeline.startTime)}}const _d={};class Hm{constructor(t,e,i,s,a,h,p,y){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=a,this.errors=h,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_d,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new vd(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Hs(i.duration)),null!=i.delay&&(s.delay=Hs(i.delay));const a=i.params;if(a){let h=s.params;h||(h=this.options.params={}),Object.keys(a).forEach(p=>{(!e||!h.hasOwnProperty(p))&&(h[p]=Ul(a[p],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,a=new Hm(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=_d,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},a=new A4(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(a),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,a,h){let p=[];if(s&&p.push(this.element),t.length>0){t=(t=t.replace(D4,"."+this._enterClassName)).replace(M4,"."+this._leaveClassName);let T=this._driver.query(this.element,t,1!=i);0!==i&&(T=i<0?T.slice(T.length+i,T.length):T.slice(0,i)),p.push(...T)}return!a&&0==p.length&&h.push(function O8(n){return new M(3014,!1)}()),p}}class vd{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new vd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Bs),this._currentKeyframe.set(e,Bs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&this._previousKeyframe.set("easing",e);const a=s&&s.params||{},h=function P4(n,t){const e=new Map;let i;return n.forEach(s=>{if("*"===s){i=i||t.keys();for(let a of i)e.set(a,Bs)}else yo(s,e)}),e}(t,this._globalTimelineStyles);for(let[p,y]of h){const T=Ul(y,a,i);this._pendingStyles.set(p,T),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Bs),this._updateStyle(p,T)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const s=this._styleSummary.get(i);(!s||e.time>s.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((p,y)=>{const T=yo(p,new Map,this._backFill);T.forEach((F,z)=>{F===$g?t.add(z):F===Bs&&e.add(z)}),i||T.set("offset",y/this.duration),s.push(T)});const a=t.size?cd(t.values()):[],h=e.size?cd(e.values()):[];if(i){const p=s[0],y=new Map(p);p.set("offset",0),y.set("offset",1),s=[p,y]}return Vm(this.element,s,a,h,this.duration,this.startTime,this.easing,!1)}}class A4 extends vd{constructor(t,e,i,s,a,h,p=!1){super(t,e,h.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],h=i+e,p=e/h,y=yo(t[0]);y.set("offset",0),a.push(y);const T=yo(t[0]);T.set("offset",CS(p)),a.push(T);const F=t.length-1;for(let z=1;z<=F;z++){let Y=yo(t[z]);const Q=Y.get("offset");Y.set("offset",CS((e+Q*i)/h)),a.push(Y)}i=h,e=0,s="",t=a}return Vm(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function CS(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class jm{}const k4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class R4 extends jm{normalizePropertyName(t,e){return Fm(t)}normalizeStyleValue(t,e,i,s){let a="";const h=i.toString().trim();if(k4.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&s.push(function x8(n,t){return new M(3005,!1)}())}return h+a}}function xS(n,t,e,i,s,a,h,p,y,T,F,z,Y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:a,toState:i,toStyles:h,timelines:p,queriedElements:y,preStyleProps:T,postStyleProps:F,totalTime:z,errors:Y}}const Um={};class SS{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function O4(n,t,e,i,s){return n.some(a=>a(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,i):new Map}build(t,e,i,s,a,h,p,y,T,F){const z=[],Y=this.ast.options&&this.ast.options.params||Um,ie=this.buildStyles(i,p&&p.params||Um,z),le=y&&y.params||Um,me=this.buildStyles(s,le,z),Ce=new Set,Be=new Map,we=new Map,et="void"===s,nn={params:N4(le,Y),delay:this.ast.options?.delay},an=F?[]:zm(t,e,this.ast.animation,a,h,ie,me,nn,T,z);let Ni=0;if(an.forEach(Us=>{Ni=Math.max(Us.duration+Us.delay,Ni)}),z.length)return xS(e,this._triggerName,i,s,et,ie,me,[],[],Be,we,Ni,z);an.forEach(Us=>{const $s=Us.element,VS=mr(Be,$s,new Set);Us.preStyleProps.forEach(Xo=>VS.add(Xo));const ql=mr(we,$s,new Set);Us.postStyleProps.forEach(Xo=>ql.add(Xo)),$s!==e&&Ce.add($s)});const js=cd(Ce.values());return xS(e,this._triggerName,i,s,et,ie,me,an,js,Be,we,Ni)}}function N4(n,t){const e=Hl(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class F4{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,s=Hl(this.defaultParams);return Object.keys(t).forEach(a=>{const h=t[a];null!==h&&(s[a]=h)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((h,p)=>{h&&(h=Ul(h,s,e));const y=this.normalizer.normalizePropertyName(p,e);h=this.normalizer.normalizeStyleValue(p,y,h,e),i.set(p,h)})}),i}}class B4{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{this.states.set(s.name,new F4(s.style,s.options&&s.options.params||{},i))}),ES(this.states,"true","1"),ES(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new SS(t,s,this.states))}),this.fallbackTransition=function V4(n,t,e){return new SS(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(h=>h.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function ES(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const z4=new md;class H4{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=[],a=Lm(this._driver,e,i,s);if(i.length)throw function H8(n){return new M(3503,!1)}();this._animations.set(t,a)}_buildPlayer(t,e,i){const s=t.element,a=iS(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],a=this._animations.get(t);let h;const p=new Map;if(a?(h=zm(this._driver,e,a,km,od,new Map,new Map,i,z4,s),h.forEach(F=>{const z=mr(p,F.element,new Map);F.postStyleProps.forEach(Y=>z.set(Y,null))})):(s.push(function j8(){return new M(3300,!1)}()),h=[]),s.length)throw function U8(n){return new M(3504,!1)}();p.forEach((F,z)=>{F.forEach((Y,Q)=>{F.set(Q,this._driver.computeStyle(z,Q,Bs))})});const T=vo(h.map(F=>{const z=p.get(F.element);return this._buildPlayer(F,new Map,z)}));return this._playersById.set(t,T),T.onDestroy(()=>this.destroy(t)),this.players.push(T),T}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function $8(n){return new M(3301,!1)}();return e}listen(t,e,i,s){const a=Mm(e,"","","");return Dm(this._getPlayer(t),i,a,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const DS="ng-animate-queued",$m="ng-animate-disabled",W4=[],IS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},G4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rr="__ng_removed";class qm{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function X4(n){return n??null}(i?t.value:t),i){const a=Hl(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const $l="void",Wm=new qm($l);class Z4{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Or(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.has(e))throw function q8(n,t){return new M(3302,!1)}();if(null==i||0==i.length)throw function W8(n){return new M(3303,!1)}();if(!function Q4(n){return"start"==n||"done"==n}(i))throw function G8(n,t){return new M(3400,!1)}();const a=mr(this._elementListeners,t,[]),h={name:e,phase:i,callback:s};a.push(h);const p=mr(this._engine.statesByElement,t,new Map);return p.has(e)||(Or(t,ad),Or(t,ad+"-"+e),p.set(e,Wm)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(h);y>=0&&a.splice(y,1),this._triggers.has(e)||p.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Z8(n){return new M(3401,!1)}();return e}trigger(t,e,i,s=!0){const a=this._getTrigger(e),h=new Gm(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Or(t,ad),Or(t,ad+"-"+e),this._engine.statesByElement.set(t,p=new Map));let y=p.get(e);const T=new qm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&T.absorbOptions(y.options),p.set(e,T),y||(y=Wm),T.value!==$l&&y.value===T.value){if(!function t6(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const a=e[s];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(y.params,T.params)){const le=[],me=a.matchStyles(y.value,y.params,le),Ce=a.matchStyles(T.value,T.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{Ko(t,me),_s(t,Ce)})}return}const Y=mr(this._engine.playersByElement,t,[]);Y.forEach(le=>{le.namespaceId==this.id&&le.triggerName==e&&le.queued&&le.destroy()});let Q=a.matchTransition(y.value,T.value,t,T.params),ie=!1;if(!Q){if(!s)return;Q=a.fallbackTransition,ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Q,fromState:y,toState:T,player:h,isFallbackTransition:ie}),ie||(Or(t,DS),h.onStart(()=>{cu(t,DS)})),h.onDone(()=>{let le=this.players.indexOf(h);le>=0&&this.players.splice(le,1);const me=this._engine.playersByElement.get(t);if(me){let Ce=me.indexOf(h);Ce>=0&&me.splice(Ce,1)}}),this.players.push(h),Y.push(h),h}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,ud,!0);i.forEach(s=>{if(s[Rr])return;const a=this._engine.fetchNamespacesByElement(s);a.size?a.forEach(h=>h.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const a=this._engine.statesByElement.get(t),h=new Map;if(a){const p=[];if(a.forEach((y,T)=>{if(h.set(T,y.value),this._triggers.has(T)){const F=this.trigger(t,T,$l,s);F&&p.push(F)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),i&&vo(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(a=>{const h=a.name;if(s.has(h))return;s.add(h);const y=this._triggers.get(h).fallbackTransition,T=i.get(h)||Wm,F=new qm($l),z=new Gm(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:y,fromState:T,toState:F,player:z,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)s=!0;else{let h=t;for(;h=h.parentNode;)if(i.statesByElement.get(h)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Rr];(!a||a===IS)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Or(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const a=i.element,h=this._elementListeners.get(a);h&&h.forEach(p=>{if(p.name==i.triggerName){const y=Mm(a,i.triggerName,i.fromState.value,i.toState.value);y._data=t,Dm(i.player,p.phase,y,p.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const a=i.transition.ast.depCount,h=s.transition.ast.depCount;return 0==a||0==h?a-h:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class K4{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,a)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Z4(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let h=!1,p=this.driver.getParentElement(e);for(;p;){const y=s.get(p);if(y){const T=i.indexOf(y);i.splice(T+1,0,t),h=!0;break}p=this.driver.getParentElement(p)}h||i.unshift(t)}else i.push(t);return s.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let s of i.values())if(s.namespaceId){const a=this._fetchNamespace(s.namespaceId);a&&e.add(a)}return e}trigger(t,e,i,s){if(yd(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!yd(e))return;const a=e[Rr];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Or(t,$m)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cu(t,$m))}removeNode(t,e,i,s){if(yd(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s,a){this.collectedLeaveElements.push(e),e[Rr]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,s,a){return yd(e)?this._fetchNamespace(t).listen(e,i,s,a):()=>{}}_buildInstruction(t,e,i,s,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,ud,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Rm,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return vo(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Rr];if(e&&e.setForRemoval){if(t[Rr]=IS,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains($m)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Or(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?vo(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw function K8(n){return new M(3402,!1)}()}_flushAnimations(t,e){const i=new md,s=[],a=new Map,h=[],p=new Map,y=new Map,T=new Map,F=new Set;this.disabledNodes.forEach(rt=>{F.add(rt);const _t=this.driver.query(rt,".ng-animate-queued",!0);for(let wt=0;wt<_t.length;wt++)F.add(_t[wt])});const z=this.bodyNode,Y=Array.from(this.statesByElement.keys()),Q=AS(Y,this.collectedEnterElements),ie=new Map;let le=0;Q.forEach((rt,_t)=>{const wt=km+le++;ie.set(_t,wt),rt.forEach(sn=>Or(sn,wt))});const me=[],Ce=new Set,Be=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const _t=this.collectedLeaveElements[rt],wt=_t[Rr];wt&&wt.setForRemoval&&(me.push(_t),Ce.add(_t),wt.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(sn=>Ce.add(sn)):Be.add(_t))}const we=new Map,et=AS(Y,Array.from(Ce));et.forEach((rt,_t)=>{const wt=od+le++;we.set(_t,wt),rt.forEach(sn=>Or(sn,wt))}),t.push(()=>{Q.forEach((rt,_t)=>{const wt=ie.get(_t);rt.forEach(sn=>cu(sn,wt))}),et.forEach((rt,_t)=>{const wt=we.get(_t);rt.forEach(sn=>cu(sn,wt))}),me.forEach(rt=>{this.processLeaveNode(rt)})});const nn=[],an=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(e).forEach(wt=>{const sn=wt.player,xi=wt.element;if(nn.push(sn),this.collectedEnterElements.length){const Fi=xi[Rr];if(Fi&&Fi.setForMove){if(Fi.previousTriggersValues&&Fi.previousTriggersValues.has(wt.triggerName)){const Qo=Fi.previousTriggersValues.get(wt.triggerName),Nr=this.statesByElement.get(wt.element);if(Nr&&Nr.has(wt.triggerName)){const Cd=Nr.get(wt.triggerName);Cd.value=Qo,Nr.set(wt.triggerName,Cd)}}return void sn.destroy()}}const vs=!z||!this.driver.containsElement(z,xi),vr=we.get(xi),bo=ie.get(xi),jn=this._buildInstruction(wt,i,bo,vr,vs);if(jn.errors&&jn.errors.length)return void an.push(jn);if(vs)return sn.onStart(()=>Ko(xi,jn.fromStyles)),sn.onDestroy(()=>_s(xi,jn.toStyles)),void s.push(sn);if(wt.isFallbackTransition)return sn.onStart(()=>Ko(xi,jn.fromStyles)),sn.onDestroy(()=>_s(xi,jn.toStyles)),void s.push(sn);const jS=[];jn.timelines.forEach(Fi=>{Fi.stretchStartingKeyframe=!0,this.disabledNodes.has(Fi.element)||jS.push(Fi)}),jn.timelines=jS,i.append(xi,jn.timelines),h.push({instruction:jn,player:sn,element:xi}),jn.queriedElements.forEach(Fi=>mr(p,Fi,[]).push(sn)),jn.preStyleProps.forEach((Fi,Qo)=>{if(Fi.size){let Nr=y.get(Qo);Nr||y.set(Qo,Nr=new Set),Fi.forEach((Cd,Ym)=>Nr.add(Ym))}}),jn.postStyleProps.forEach((Fi,Qo)=>{let Nr=T.get(Qo);Nr||T.set(Qo,Nr=new Set),Fi.forEach((Cd,Ym)=>Nr.add(Ym))})});if(an.length){const rt=[];an.forEach(_t=>{rt.push(function Y8(n,t){return new M(3505,!1)}())}),nn.forEach(_t=>_t.destroy()),this.reportError(rt)}const Ni=new Map,js=new Map;h.forEach(rt=>{const _t=rt.element;i.has(_t)&&(js.set(_t,_t),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Ni))}),s.forEach(rt=>{const _t=rt.element;this._getPreviousPlayers(_t,!1,rt.namespaceId,rt.triggerName,null).forEach(sn=>{mr(Ni,_t,[]).push(sn),sn.destroy()})});const Us=me.filter(rt=>kS(rt,y,T)),$s=new Map;TS($s,this.driver,Be,T,Bs).forEach(rt=>{kS(rt,y,T)&&Us.push(rt)});const ql=new Map;Q.forEach((rt,_t)=>{TS(ql,this.driver,new Set(rt),y,$g)}),Us.forEach(rt=>{const _t=$s.get(rt),wt=ql.get(rt);$s.set(rt,new Map([...Array.from(_t?.entries()??[]),...Array.from(wt?.entries()??[])]))});const Xo=[],zS=[],HS={};h.forEach(rt=>{const{element:_t,player:wt,instruction:sn}=rt;if(i.has(_t)){if(F.has(_t))return wt.onDestroy(()=>_s(_t,sn.toStyles)),wt.disabled=!0,wt.overrideTotalTime(sn.totalTime),void s.push(wt);let xi=HS;if(js.size>1){let vr=_t;const bo=[];for(;vr=vr.parentNode;){const jn=js.get(vr);if(jn){xi=jn;break}bo.push(vr)}bo.forEach(jn=>js.set(jn,xi))}const vs=this._buildAnimation(wt.namespaceId,sn,Ni,a,ql,$s);if(wt.setRealPlayer(vs),xi===HS)Xo.push(wt);else{const vr=this.playersByElement.get(xi);vr&&vr.length&&(wt.parentPlayer=vo(vr)),s.push(wt)}}else Ko(_t,sn.fromStyles),wt.onDestroy(()=>_s(_t,sn.toStyles)),zS.push(wt),F.has(_t)&&s.push(wt)}),zS.forEach(rt=>{const _t=a.get(rt.element);if(_t&&_t.length){const wt=vo(_t);rt.setRealPlayer(wt)}}),s.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<me.length;rt++){const _t=me[rt],wt=_t[Rr];if(cu(_t,od),wt&&wt.hasAnimation)continue;let sn=[];if(p.size){let vs=p.get(_t);vs&&vs.length&&sn.push(...vs);let vr=this.driver.query(_t,Rm,!0);for(let bo=0;bo<vr.length;bo++){let jn=p.get(vr[bo]);jn&&jn.length&&sn.push(...jn)}}const xi=sn.filter(vs=>!vs.destroyed);xi.length?J4(this,_t,xi):this.processLeaveNode(_t)}return me.length=0,Xo.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const _t=this.players.indexOf(rt);this.players.splice(_t,1)}),rt.play()}),Xo}elementContainsData(t,e){let i=!1;const s=e[Rr];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,a){let h=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(h=p)}else{const p=this.playersByElement.get(t);if(p){const y=!a||a==$l;p.forEach(T=>{T.queued||!y&&T.triggerName!=s||h.push(T)})}}return(i||s)&&(h=h.filter(p=>!(i&&i!=p.namespaceId||s&&s!=p.triggerName))),h}_beforeAnimationBuild(t,e,i){const a=e.element,h=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const y of e.timelines){const T=y.element,F=T!==a,z=mr(i,T,[]);this._getPreviousPlayers(T,F,h,p,e.toState).forEach(Q=>{const ie=Q.getRealPlayer();ie.beforeDestroy&&ie.beforeDestroy(),Q.destroy(),z.push(Q)})}Ko(a,e.fromStyles)}_buildAnimation(t,e,i,s,a,h){const p=e.triggerName,y=e.element,T=[],F=new Set,z=new Set,Y=e.timelines.map(ie=>{const le=ie.element;F.add(le);const me=le[Rr];if(me&&me.removedBeforeQueried)return new Cl(ie.duration,ie.delay);const Ce=le!==y,Be=function e6(n){const t=[];return PS(n,t),t}((i.get(le)||W4).map(Ni=>Ni.getRealPlayer())).filter(Ni=>!!Ni.element&&Ni.element===le),we=a.get(le),et=h.get(le),nn=iS(0,this._normalizer,0,ie.keyframes,we,et),an=this._buildPlayer(ie,nn,Be);if(ie.subTimeline&&s&&z.add(le),Ce){const Ni=new Gm(t,p,le);Ni.setRealPlayer(an),T.push(Ni)}return an});T.forEach(ie=>{mr(this.playersByQueriedElement,ie.element,[]).push(ie),ie.onDone(()=>function Y4(n,t,e){let i=n.get(t);if(i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,ie.element,ie))}),F.forEach(ie=>Or(ie,dS));const Q=vo(Y);return Q.onDestroy(()=>{F.forEach(ie=>cu(ie,dS)),_s(y,e.toStyles)}),z.forEach(ie=>{mr(s,ie,[]).push(Q)}),Q}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Cl(t.duration,t.delay)}}class Gm{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Cl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(s=>Dm(t,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){mr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function yd(n){return n&&1===n.nodeType}function MS(n,t){const e=n.style.display;return n.style.display=t??"none",e}function TS(n,t,e,i,s){const a=[];e.forEach(y=>a.push(MS(y)));const h=[];i.forEach((y,T)=>{const F=new Map;y.forEach(z=>{const Y=t.computeStyle(T,z,s);F.set(z,Y),(!Y||0==Y.length)&&(T[Rr]=G4,h.push(T))}),n.set(T,F)});let p=0;return e.forEach(y=>MS(y,a[p++])),h}function AS(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const i=1,s=new Set(t),a=new Map;function h(p){if(!p)return i;let y=a.get(p);if(y)return y;const T=p.parentNode;return y=e.has(T)?T:s.has(T)?i:h(T),a.set(p,y),y}return t.forEach(p=>{const y=h(p);y!==i&&e.get(y).push(p)}),e}function Or(n,t){n.classList?.add(t)}function cu(n,t){n.classList?.remove(t)}function J4(n,t,e){vo(e).onDone(()=>n.processLeaveNode(t))}function PS(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof EC?PS(i.players,t):t.push(i)}}function kS(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(a=>s.add(a)):t.set(n,i),e.delete(n),!0}class bd{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,a)=>{},this._transitionEngine=new K4(t,e,i),this._timelineEngine=new H4(t,e,i),this._transitionEngine.onRemovalComplete=(s,a)=>this.onRemovalComplete(s,a)}registerTrigger(t,e,i,s,a){const h=t+"-"+s;let p=this._triggerCache[h];if(!p){const y=[],T=[],F=Lm(this._driver,a,y,T);if(y.length)throw function V8(n,t){return new M(3404,!1)}();p=function L4(n,t,e){return new B4(n,t,e)}(s,F,this._normalizer),this._triggerCache[h]=p}this._transitionEngine.registerTrigger(e,s,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[a,h]=rS(i);this._timelineEngine.command(a,e,h,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,a){if("@"==i.charAt(0)){const[h,p]=rS(i);return this._timelineEngine.listen(h,e,p,a)}return this._transitionEngine.listen(t,e,i,s,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let i6=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&_s(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_s(this._element,this._initialStyles),this._endStyles&&(_s(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ko(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),_s(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Zm(n){let t=null;return n.forEach((e,i)=>{(function r6(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class RS{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&t.set(s,this._finished?i:vS(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class s6{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return uS(t,e)}getParentElement(t){return Am(t)}query(t,e,i){return lS(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,s,a,h=[]){const y={duration:i,delay:s,fill:0==s?"both":"forwards"};a&&(y.easing=a);const T=new Map,F=h.filter(Q=>Q instanceof RS);(function l4(n,t){return 0===n||0===t})(i,s)&&F.forEach(Q=>{Q.currentSnapshot.forEach((ie,le)=>T.set(le,ie))});let z=function s4(n){return n.length?n[0]instanceof Map?n:n.map(t=>fS(t)):[]}(e).map(Q=>yo(Q));z=function c4(n,t,e){if(e.size&&t.length){let i=t[0],s=[];if(e.forEach((a,h)=>{i.has(h)||s.push(h),i.set(h,a)}),s.length)for(let a=1;a<t.length;a++){let h=t[a];s.forEach(p=>h.set(p,vS(n,p)))}}return t}(t,z,T);const Y=function n6(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Zm(t[0]),t.length>1&&(i=Zm(t[t.length-1]))):t instanceof Map&&(e=Zm(t)),e||i?new i6(n,e,i):null}(t,z);return new RS(t,z,y,Y)}}let o6=(()=>{class n extends bC{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ki.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?CC(e):e;return OS(this._renderer,null,i,"register",[s]),new a6(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(xe(Bu),xe(qt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();class a6 extends pF{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new u6(this._id,t,e||{},this._renderer)}}class u6{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return OS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function OS(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const NS="@.disabled";let l6=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,h)=>{const p=h?.parentNode(a);p&&h.removeChild(p,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let F=this._rendererCache.get(a);return F||(F=new FS("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,F)),F}const h=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const y=F=>{Array.isArray(F)?F.forEach(y):this.engine.registerTrigger(h,p,e,F.name,F)};return i.data.animation.forEach(y),new c6(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[h,p]=a;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(xe(Bu),xe(bd),xe(jt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();class FS{constructor(t,e,i,s){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==NS?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class c6 extends FS{constructor(t,e,i,s,a){super(e,i,s,a),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==NS?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function h6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.slice(1),h="";return"@"!=a.charAt(0)&&([a,h]=function d6(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,s,a,h,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}const LS=[{provide:bC,useClass:o6},{provide:jm,useFactory:function p6(){return new R4}},{provide:bd,useClass:(()=>{class n extends bd{constructor(e,i,s,a){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(xe(qt),xe(Pm),xe(jm),xe(Lo))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})()},{provide:Bu,useFactory:function g6(n,t,e){return new l6(n,t,e)},deps:[yh,bd,jt]}],Km=[{provide:Pm,useFactory:()=>new s6},{provide:Qc,useValue:"BrowserAnimations"},...LS],BS=[{provide:Pm,useClass:cS},{provide:Qc,useValue:"NoopAnimations"},...LS];let m6=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BS:Km}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n}),n.\u0275inj=Zn({providers:Km,imports:[v1]}),n})(),_6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ft({type:n,bootstrap:[_8]}),n.\u0275inj=Zn({imports:[v1,U3,m6,tF,fL,mL]}),n})();eO().bootstrapModule(_6).catch(n=>console.error(n))},77:function(yr,Xr){!function(Gt){"use strict";var It=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Jn=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],_i="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u0870-\u0887\u0889-\u088e\u08a0-\u08c9\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c5d\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cdd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u1711\u171f-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4c\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ca\ua7d0\ua7d1\ua7d3\ua7d5-\ua7d9\ua7f2-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",Ee={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Me="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Dt={5:Me,"5module":Me+" export import",6:Me+" const class extends export import super"},te=/^in(stanceof)?$/,re=new RegExp("["+_i+"]"),li=new RegExp("["+_i+"\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0898-\u089f\u08ca-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3c\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0cf3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ece\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u180f-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf-\u1ace\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");function kn(_,M){for(var j=65536,W=0;W<M.length;W+=2){if((j+=M[W])>_)return!1;if((j+=M[W+1])>=_)return!0}return!1}function En(_,M){return _<65?36===_:_<91||(_<97?95===_:_<123||(_<=65535?_>=170&&re.test(String.fromCharCode(_)):!1!==M&&kn(_,Jn)))}function yn(_,M){return _<48?36===_:_<58||!(_<65)&&(_<91||(_<97?95===_:_<123||(_<=65535?_>=170&&li.test(String.fromCharCode(_)):!1!==M&&(kn(_,Jn)||kn(_,It)))))}var Ue=function(M,j){void 0===j&&(j={}),this.label=M,this.keyword=j.keyword,this.beforeExpr=!!j.beforeExpr,this.startsExpr=!!j.startsExpr,this.isLoop=!!j.isLoop,this.isAssign=!!j.isAssign,this.prefix=!!j.prefix,this.postfix=!!j.postfix,this.binop=j.binop||null,this.updateContext=null};function gt(_,M){return new Ue(_,{beforeExpr:!0,binop:M})}var ae={beforeExpr:!0},se={startsExpr:!0},Ze={};function Ae(_,M){return void 0===M&&(M={}),M.keyword=_,Ze[_]=new Ue(_,M)}var Z={num:new Ue("num",se),regexp:new Ue("regexp",se),string:new Ue("string",se),name:new Ue("name",se),privateId:new Ue("privateId",se),eof:new Ue("eof"),bracketL:new Ue("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ue("]"),braceL:new Ue("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ue("}"),parenL:new Ue("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ue(")"),comma:new Ue(",",ae),semi:new Ue(";",ae),colon:new Ue(":",ae),dot:new Ue("."),question:new Ue("?",ae),questionDot:new Ue("?."),arrow:new Ue("=>",ae),template:new Ue("template"),invalidTemplate:new Ue("invalidTemplate"),ellipsis:new Ue("...",ae),backQuote:new Ue("`",se),dollarBraceL:new Ue("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ue("=",{beforeExpr:!0,isAssign:!0}),assign:new Ue("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ue("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ue("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:gt("||",1),logicalAND:gt("&&",2),bitwiseOR:gt("|",3),bitwiseXOR:gt("^",4),bitwiseAND:gt("&",5),equality:gt("==/!=/===/!==",6),relational:gt("</>/<=/>=",7),bitShift:gt("<</>>/>>>",8),plusMin:new Ue("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:gt("%",10),star:gt("*",10),slash:gt("/",10),starstar:new Ue("**",{beforeExpr:!0}),coalesce:gt("??",1),_break:Ae("break"),_case:Ae("case",ae),_catch:Ae("catch"),_continue:Ae("continue"),_debugger:Ae("debugger"),_default:Ae("default",ae),_do:Ae("do",{isLoop:!0,beforeExpr:!0}),_else:Ae("else",ae),_finally:Ae("finally"),_for:Ae("for",{isLoop:!0}),_function:Ae("function",se),_if:Ae("if"),_return:Ae("return",ae),_switch:Ae("switch"),_throw:Ae("throw",ae),_try:Ae("try"),_var:Ae("var"),_const:Ae("const"),_while:Ae("while",{isLoop:!0}),_with:Ae("with"),_new:Ae("new",{beforeExpr:!0,startsExpr:!0}),_this:Ae("this",se),_super:Ae("super",se),_class:Ae("class",se),_extends:Ae("extends",ae),_export:Ae("export"),_import:Ae("import",se),_null:Ae("null",se),_true:Ae("true",se),_false:Ae("false",se),_in:Ae("in",{beforeExpr:!0,binop:7}),_instanceof:Ae("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ae("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ae("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ae("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},nt=/\r\n?|\n|\u2028|\u2029/,Zt=new RegExp(nt.source,"g");function ft(_){return 10===_||13===_||8232===_||8233===_}function hn(_,M,j){void 0===j&&(j=_.length);for(var W=M;W<j;W++){var J=_.charCodeAt(W);if(ft(J))return W<j-1&&13===J&&10===_.charCodeAt(W+1)?W+2:W+1}return-1}var lt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Un=Object.prototype,Ln=Un.hasOwnProperty,Dn=Un.toString,Rn=Object.hasOwn||function(_,M){return Ln.call(_,M)},Si=Array.isArray||function(_){return"[object Array]"===Dn.call(_)};function mn(_){return new RegExp("^(?:"+_.replace(/ /g,"|")+")$")}function Oe(_){return _<=65535?String.fromCharCode(_):(_-=65536,String.fromCharCode(55296+(_>>10),56320+(1023&_)))}var at=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Fe=function(M,j){this.line=M,this.column=j};Fe.prototype.offset=function(M){return new Fe(this.line,this.column+M)};var Pe=function(M,j,W){this.start=j,this.end=W,null!==M.sourceFile&&(this.source=M.sourceFile)};function Bn(_,M){for(var j=1,W=0;;){var J=hn(_,W,M);if(J<0)return new Fe(j,M-W);++j,W=J}}var $e={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},yt=!1;function vi(_){var M={};for(var j in $e)M[j]=_&&Rn(_,j)?_[j]:$e[j];if("latest"===M.ecmaVersion?M.ecmaVersion=1e8:null==M.ecmaVersion?(!yt&&"object"==typeof console&&console.warn&&(yt=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),M.ecmaVersion=11):M.ecmaVersion>=2015&&(M.ecmaVersion-=2009),null==M.allowReserved&&(M.allowReserved=M.ecmaVersion<5),(!_||null==_.allowHashBang)&&(M.allowHashBang=M.ecmaVersion>=14),Si(M.onToken)){var W=M.onToken;M.onToken=function(J){return W.push(J)}}return Si(M.onComment)&&(M.onComment=function dn(_,M){return function(j,W,J,pe,ye,Re){var je={type:j?"Block":"Line",value:W,start:J,end:pe};_.locations&&(je.loc=new Pe(this,ye,Re)),_.ranges&&(je.range=[J,pe]),M.push(je)}}(M,M.onComment)),M}var Li=2,Ye=4,un=8,_n=257|Li;function Fr(_,M){return Li|(_?Ye:0)|(M?un:0)}var bn=function(M,j,W){this.options=M=vi(M),this.sourceFile=M.sourceFile,this.keywords=mn(Dt[M.ecmaVersion>=6?6:"module"===M.sourceType?"5module":5]);var J="";!0!==M.allowReserved&&(J=Ee[M.ecmaVersion>=6?6:5===M.ecmaVersion?5:3],"module"===M.sourceType&&(J+=" await")),this.reservedWords=mn(J);var pe=(J?J+" ":"")+Ee.strict;this.reservedWordsStrict=mn(pe),this.reservedWordsStrictBind=mn(pe+" "+Ee.strictBind),this.input=String(j),this.containsEsc=!1,W?(this.pos=W,this.lineStart=this.input.lastIndexOf("\n",W-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(nt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=Z.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===M.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&M.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},Kt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};bn.prototype.parse=function(){var M=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(M)},Kt.inFunction.get=function(){return(this.currentVarScope().flags&Li)>0},Kt.inGenerator.get=function(){return(this.currentVarScope().flags&un)>0&&!this.currentVarScope().inClassFieldInit},Kt.inAsync.get=function(){return(this.currentVarScope().flags&Ye)>0&&!this.currentVarScope().inClassFieldInit},Kt.canAwait.get=function(){for(var _=this.scopeStack.length-1;_>=0;_--){var M=this.scopeStack[_];if(M.inClassFieldInit||256&M.flags)return!1;if(M.flags&Li)return(M.flags&Ye)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},Kt.allowSuper.get=function(){var _=this.currentThisScope();return(64&_.flags)>0||_.inClassFieldInit||this.options.allowSuperOutsideMethod},Kt.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},Kt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Kt.allowNewDotTarget.get=function(){var _=this.currentThisScope();return(_.flags&(256|Li))>0||_.inClassFieldInit},Kt.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},bn.extend=function(){for(var M=[],j=arguments.length;j--;)M[j]=arguments[j];for(var W=this,J=0;J<M.length;J++)W=M[J](W);return W},bn.parse=function(M,j){return new this(j,M).parse()},bn.parseExpressionAt=function(M,j,W){var J=new this(W,M,j);return J.nextToken(),J.parseExpression()},bn.tokenizer=function(M,j){return new this(j,M)},Object.defineProperties(bn.prototype,Kt);var Bt=bn.prototype,vn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Bt.strictDirective=function(_){if(this.options.ecmaVersion<5)return!1;for(;;){tt.lastIndex=_,_+=tt.exec(this.input)[0].length;var M=vn.exec(this.input.slice(_));if(!M)return!1;if("use strict"===(M[1]||M[2])){tt.lastIndex=_+M[0].length;var j=tt.exec(this.input),W=j.index+j[0].length,J=this.input.charAt(W);return";"===J||"}"===J||nt.test(j[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(J)||"!"===J&&"="===this.input.charAt(W+1))}tt.lastIndex=_+=M[0].length,_+=tt.exec(this.input)[0].length,";"===this.input[_]&&_++}},Bt.eat=function(_){return this.type===_&&(this.next(),!0)},Bt.isContextual=function(_){return this.type===Z.name&&this.value===_&&!this.containsEsc},Bt.eatContextual=function(_){return!!this.isContextual(_)&&(this.next(),!0)},Bt.expectContextual=function(_){this.eatContextual(_)||this.unexpected()},Bt.canInsertSemicolon=function(){return this.type===Z.eof||this.type===Z.braceR||nt.test(this.input.slice(this.lastTokEnd,this.start))},Bt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Bt.semicolon=function(){!this.eat(Z.semi)&&!this.insertSemicolon()&&this.unexpected()},Bt.afterTrailingComma=function(_,M){if(this.type===_)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),M||this.next(),!0},Bt.expect=function(_){this.eat(_)||this.unexpected()},Bt.unexpected=function(_){this.raise(_??this.start,"Unexpected token")};var pn=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Bt.checkPatternErrors=function(_,M){if(_){_.trailingComma>-1&&this.raiseRecoverable(_.trailingComma,"Comma is not permitted after the rest element");var j=M?_.parenthesizedAssign:_.parenthesizedBind;j>-1&&this.raiseRecoverable(j,M?"Assigning to rvalue":"Parenthesized pattern")}},Bt.checkExpressionErrors=function(_,M){if(!_)return!1;var j=_.shorthandAssign,W=_.doubleProto;if(!M)return j>=0||W>=0;j>=0&&this.raise(j,"Shorthand property assignments are valid only in destructuring patterns"),W>=0&&this.raiseRecoverable(W,"Redefinition of __proto__ property")},Bt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Bt.isSimpleAssignTarget=function(_){return"ParenthesizedExpression"===_.type?this.isSimpleAssignTarget(_.expression):"Identifier"===_.type||"MemberExpression"===_.type};var Ve=bn.prototype;Ve.parseTopLevel=function(_){var M=Object.create(null);for(_.body||(_.body=[]);this.type!==Z.eof;){var j=this.parseStatement(null,!0,M);_.body.push(j)}if(this.inModule)for(var W=0,J=Object.keys(this.undefinedExports);W<J.length;W+=1){var pe=J[W];this.raiseRecoverable(this.undefinedExports[pe].start,"Export '"+pe+"' is not defined")}return this.adaptDirectivePrologue(_.body),this.next(),_.sourceType=this.options.sourceType,this.finishNode(_,"Program")};var l={kind:"loop"},r={kind:"switch"};Ve.isLet=function(_){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;tt.lastIndex=this.pos;var M=tt.exec(this.input),j=this.pos+M[0].length,W=this.input.charCodeAt(j);if(91===W||92===W)return!0;if(_)return!1;if(123===W||W>55295&&W<56320)return!0;if(En(W,!0)){for(var J=j+1;yn(W=this.input.charCodeAt(J),!0);)++J;if(92===W||W>55295&&W<56320)return!0;var pe=this.input.slice(j,J);if(!te.test(pe))return!0}return!1},Ve.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;tt.lastIndex=this.pos;var j,_=tt.exec(this.input),M=this.pos+_[0].length;return!(nt.test(this.input.slice(this.pos,M))||"function"!==this.input.slice(M,M+8)||M+8!==this.input.length&&(yn(j=this.input.charCodeAt(M+8))||j>55295&&j<56320))},Ve.parseStatement=function(_,M,j){var pe,W=this.type,J=this.startNode();switch(this.isLet(_)&&(W=Z._var,pe="let"),W){case Z._break:case Z._continue:return this.parseBreakContinueStatement(J,W.keyword);case Z._debugger:return this.parseDebuggerStatement(J);case Z._do:return this.parseDoStatement(J);case Z._for:return this.parseForStatement(J);case Z._function:return _&&(this.strict||"if"!==_&&"label"!==_)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(J,!1,!_);case Z._class:return _&&this.unexpected(),this.parseClass(J,!0);case Z._if:return this.parseIfStatement(J);case Z._return:return this.parseReturnStatement(J);case Z._switch:return this.parseSwitchStatement(J);case Z._throw:return this.parseThrowStatement(J);case Z._try:return this.parseTryStatement(J);case Z._const:case Z._var:return pe=pe||this.value,_&&"var"!==pe&&this.unexpected(),this.parseVarStatement(J,pe);case Z._while:return this.parseWhileStatement(J);case Z._with:return this.parseWithStatement(J);case Z.braceL:return this.parseBlock(!0,J);case Z.semi:return this.parseEmptyStatement(J);case Z._export:case Z._import:if(this.options.ecmaVersion>10&&W===Z._import){tt.lastIndex=this.pos;var ye=tt.exec(this.input),je=this.input.charCodeAt(this.pos+ye[0].length);if(40===je||46===je)return this.parseExpressionStatement(J,this.parseExpression())}return this.options.allowImportExportEverywhere||(M||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),W===Z._import?this.parseImport(J):this.parseExport(J,j);default:if(this.isAsyncFunction())return _&&this.unexpected(),this.next(),this.parseFunctionStatement(J,!0,!_);var st=this.value,kt=this.parseExpression();return W===Z.name&&"Identifier"===kt.type&&this.eat(Z.colon)?this.parseLabeledStatement(J,st,kt,_):this.parseExpressionStatement(J,kt)}},Ve.parseBreakContinueStatement=function(_,M){var j="break"===M;this.next(),this.eat(Z.semi)||this.insertSemicolon()?_.label=null:this.type!==Z.name?this.unexpected():(_.label=this.parseIdent(),this.semicolon());for(var W=0;W<this.labels.length;++W){var J=this.labels[W];if((null==_.label||J.name===_.label.name)&&(null!=J.kind&&(j||"loop"===J.kind)||_.label&&j))break}return W===this.labels.length&&this.raise(_.start,"Unsyntactic "+M),this.finishNode(_,j?"BreakStatement":"ContinueStatement")},Ve.parseDebuggerStatement=function(_){return this.next(),this.semicolon(),this.finishNode(_,"DebuggerStatement")},Ve.parseDoStatement=function(_){return this.next(),this.labels.push(l),_.body=this.parseStatement("do"),this.labels.pop(),this.expect(Z._while),_.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(Z.semi):this.semicolon(),this.finishNode(_,"DoWhileStatement")},Ve.parseForStatement=function(_){this.next();var M=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(l),this.enterScope(0),this.expect(Z.parenL),this.type===Z.semi)return M>-1&&this.unexpected(M),this.parseFor(_,null);var j=this.isLet();if(this.type===Z._var||this.type===Z._const||j){var W=this.startNode(),J=j?"let":this.value;return this.next(),this.parseVar(W,!0,J),this.finishNode(W,"VariableDeclaration"),(this.type===Z._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===W.declarations.length?(this.options.ecmaVersion>=9&&(this.type===Z._in?M>-1&&this.unexpected(M):_.await=M>-1),this.parseForIn(_,W)):(M>-1&&this.unexpected(M),this.parseFor(_,W))}var pe=this.isContextual("let"),ye=!1,Re=new pn,je=this.parseExpression(!(M>-1)||"await",Re);return this.type===Z._in||(ye=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===Z._in?M>-1&&this.unexpected(M):_.await=M>-1),pe&&ye&&this.raise(je.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(je,!1,Re),this.checkLValPattern(je),this.parseForIn(_,je)):(this.checkExpressionErrors(Re,!0),M>-1&&this.unexpected(M),this.parseFor(_,je))},Ve.parseFunctionStatement=function(_,M,j){return this.next(),this.parseFunction(_,u|(j?0:c),!1,M)},Ve.parseIfStatement=function(_){return this.next(),_.test=this.parseParenExpression(),_.consequent=this.parseStatement("if"),_.alternate=this.eat(Z._else)?this.parseStatement("if"):null,this.finishNode(_,"IfStatement")},Ve.parseReturnStatement=function(_){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(Z.semi)||this.insertSemicolon()?_.argument=null:(_.argument=this.parseExpression(),this.semicolon()),this.finishNode(_,"ReturnStatement")},Ve.parseSwitchStatement=function(_){this.next(),_.discriminant=this.parseParenExpression(),_.cases=[],this.expect(Z.braceL),this.labels.push(r),this.enterScope(0);for(var M,j=!1;this.type!==Z.braceR;)if(this.type===Z._case||this.type===Z._default){var W=this.type===Z._case;M&&this.finishNode(M,"SwitchCase"),_.cases.push(M=this.startNode()),M.consequent=[],this.next(),W?M.test=this.parseExpression():(j&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),j=!0,M.test=null),this.expect(Z.colon)}else M||this.unexpected(),M.consequent.push(this.parseStatement(null));return this.exitScope(),M&&this.finishNode(M,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(_,"SwitchStatement")},Ve.parseThrowStatement=function(_){return this.next(),nt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),_.argument=this.parseExpression(),this.semicolon(),this.finishNode(_,"ThrowStatement")};var o=[];Ve.parseTryStatement=function(_){if(this.next(),_.block=this.parseBlock(),_.handler=null,this.type===Z._catch){var M=this.startNode();if(this.next(),this.eat(Z.parenL)){M.param=this.parseBindingAtom();var j="Identifier"===M.param.type;this.enterScope(j?32:0),this.checkLValPattern(M.param,j?4:2),this.expect(Z.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),M.param=null,this.enterScope(0);M.body=this.parseBlock(!1),this.exitScope(),_.handler=this.finishNode(M,"CatchClause")}return _.finalizer=this.eat(Z._finally)?this.parseBlock():null,!_.handler&&!_.finalizer&&this.raise(_.start,"Missing catch or finally clause"),this.finishNode(_,"TryStatement")},Ve.parseVarStatement=function(_,M){return this.next(),this.parseVar(_,!1,M),this.semicolon(),this.finishNode(_,"VariableDeclaration")},Ve.parseWhileStatement=function(_){return this.next(),_.test=this.parseParenExpression(),this.labels.push(l),_.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(_,"WhileStatement")},Ve.parseWithStatement=function(_){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),_.object=this.parseParenExpression(),_.body=this.parseStatement("with"),this.finishNode(_,"WithStatement")},Ve.parseEmptyStatement=function(_){return this.next(),this.finishNode(_,"EmptyStatement")},Ve.parseLabeledStatement=function(_,M,j,W){for(var J=0,pe=this.labels;J<pe.length;J+=1)pe[J].name===M&&this.raise(j.start,"Label '"+M+"' is already declared");for(var Re=this.type.isLoop?"loop":this.type===Z._switch?"switch":null,je=this.labels.length-1;je>=0;je--){var st=this.labels[je];if(st.statementStart!==_.start)break;st.statementStart=this.start,st.kind=Re}return this.labels.push({name:M,kind:Re,statementStart:this.start}),_.body=this.parseStatement(W?-1===W.indexOf("label")?W+"label":W:"label"),this.labels.pop(),_.label=j,this.finishNode(_,"LabeledStatement")},Ve.parseExpressionStatement=function(_,M){return _.expression=M,this.semicolon(),this.finishNode(_,"ExpressionStatement")},Ve.parseBlock=function(_,M,j){for(void 0===_&&(_=!0),void 0===M&&(M=this.startNode()),M.body=[],this.expect(Z.braceL),_&&this.enterScope(0);this.type!==Z.braceR;){var W=this.parseStatement(null);M.body.push(W)}return j&&(this.strict=!1),this.next(),_&&this.exitScope(),this.finishNode(M,"BlockStatement")},Ve.parseFor=function(_,M){return _.init=M,this.expect(Z.semi),_.test=this.type===Z.semi?null:this.parseExpression(),this.expect(Z.semi),_.update=this.type===Z.parenR?null:this.parseExpression(),this.expect(Z.parenR),_.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_,"ForStatement")},Ve.parseForIn=function(_,M){var j=this.type===Z._in;return this.next(),"VariableDeclaration"===M.type&&null!=M.declarations[0].init&&(!j||this.options.ecmaVersion<8||this.strict||"var"!==M.kind||"Identifier"!==M.declarations[0].id.type)&&this.raise(M.start,(j?"for-in":"for-of")+" loop variable declaration may not have an initializer"),_.left=M,_.right=j?this.parseExpression():this.parseMaybeAssign(),this.expect(Z.parenR),_.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_,j?"ForInStatement":"ForOfStatement")},Ve.parseVar=function(_,M,j){for(_.declarations=[],_.kind=j;;){var W=this.startNode();if(this.parseVarId(W,j),this.eat(Z.eq)?W.init=this.parseMaybeAssign(M):"const"!==j||this.type===Z._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===W.id.type||M&&(this.type===Z._in||this.isContextual("of"))?W.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),_.declarations.push(this.finishNode(W,"VariableDeclarator")),!this.eat(Z.comma))break}return _},Ve.parseVarId=function(_,M){_.id=this.parseBindingAtom(),this.checkLValPattern(_.id,"var"===M?1:2,!1)};var u=1,c=2;function f(_,M){var j=M.key.name,W=_[j],J="true";return"MethodDefinition"===M.type&&("get"===M.kind||"set"===M.kind)&&(J=(M.static?"s":"i")+M.kind),"iget"===W&&"iset"===J||"iset"===W&&"iget"===J||"sget"===W&&"sset"===J||"sset"===W&&"sget"===J?(_[j]="true",!1):!!W||(_[j]=J,!1)}function g(_,M){var W=_.key;return!_.computed&&("Identifier"===W.type&&W.name===M||"Literal"===W.type&&W.value===M)}Ve.parseFunction=function(_,M,j,W,J){this.initFunction(_),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!W)&&(this.type===Z.star&&M&c&&this.unexpected(),_.generator=this.eat(Z.star)),this.options.ecmaVersion>=8&&(_.async=!!W),M&u&&(_.id=4&M&&this.type!==Z.name?null:this.parseIdent(),_.id&&!(M&c)&&this.checkLValSimple(_.id,this.strict||_.generator||_.async?this.treatFunctionsAsVar?1:2:3));var pe=this.yieldPos,ye=this.awaitPos,Re=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fr(_.async,_.generator)),M&u||(_.id=this.type===Z.name?this.parseIdent():null),this.parseFunctionParams(_),this.parseFunctionBody(_,j,!1,J),this.yieldPos=pe,this.awaitPos=ye,this.awaitIdentPos=Re,this.finishNode(_,M&u?"FunctionDeclaration":"FunctionExpression")},Ve.parseFunctionParams=function(_){this.expect(Z.parenL),_.params=this.parseBindingList(Z.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Ve.parseClass=function(_,M){this.next();var j=this.strict;this.strict=!0,this.parseClassId(_,M),this.parseClassSuper(_);var W=this.enterClassBody(),J=this.startNode(),pe=!1;for(J.body=[],this.expect(Z.braceL);this.type!==Z.braceR;){var ye=this.parseClassElement(null!==_.superClass);ye&&(J.body.push(ye),"MethodDefinition"===ye.type&&"constructor"===ye.kind?(pe&&this.raise(ye.start,"Duplicate constructor in the same class"),pe=!0):ye.key&&"PrivateIdentifier"===ye.key.type&&f(W,ye)&&this.raiseRecoverable(ye.key.start,"Identifier '#"+ye.key.name+"' has already been declared"))}return this.strict=j,this.next(),_.body=this.finishNode(J,"ClassBody"),this.exitClassBody(),this.finishNode(_,M?"ClassDeclaration":"ClassExpression")},Ve.parseClassElement=function(_){if(this.eat(Z.semi))return null;var M=this.options.ecmaVersion,j=this.startNode(),W="",J=!1,pe=!1,ye="method",Re=!1;if(this.eatContextual("static")){if(M>=13&&this.eat(Z.braceL))return this.parseClassStaticBlock(j),j;this.isClassElementNameStart()||this.type===Z.star?Re=!0:W="static"}if(j.static=Re,!W&&M>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==Z.star||this.canInsertSemicolon()?W="async":pe=!0),!W&&(M>=9||!pe)&&this.eat(Z.star)&&(J=!0),!W&&!pe&&!J){var je=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?ye=je:W=je)}if(W?(j.computed=!1,j.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),j.key.name=W,this.finishNode(j.key,"Identifier")):this.parseClassElementName(j),M<13||this.type===Z.parenL||"method"!==ye||J||pe){var st=!j.static&&g(j,"constructor"),kt=st&&_;st&&"method"!==ye&&this.raise(j.key.start,"Constructor can't have get/set modifier"),j.kind=st?"constructor":ye,this.parseClassMethod(j,J,pe,kt)}else this.parseClassField(j);return j},Ve.isClassElementNameStart=function(){return this.type===Z.name||this.type===Z.privateId||this.type===Z.num||this.type===Z.string||this.type===Z.bracketL||this.type.keyword},Ve.parseClassElementName=function(_){this.type===Z.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),_.computed=!1,_.key=this.parsePrivateIdent()):this.parsePropertyName(_)},Ve.parseClassMethod=function(_,M,j,W){var J=_.key;"constructor"===_.kind?(M&&this.raise(J.start,"Constructor can't be a generator"),j&&this.raise(J.start,"Constructor can't be an async method")):_.static&&g(_,"prototype")&&this.raise(J.start,"Classes may not have a static property named prototype");var pe=_.value=this.parseMethod(M,j,W);return"get"===_.kind&&0!==pe.params.length&&this.raiseRecoverable(pe.start,"getter should have no params"),"set"===_.kind&&1!==pe.params.length&&this.raiseRecoverable(pe.start,"setter should have exactly one param"),"set"===_.kind&&"RestElement"===pe.params[0].type&&this.raiseRecoverable(pe.params[0].start,"Setter cannot use rest params"),this.finishNode(_,"MethodDefinition")},Ve.parseClassField=function(_){if(g(_,"constructor")?this.raise(_.key.start,"Classes can't have a field named 'constructor'"):_.static&&g(_,"prototype")&&this.raise(_.key.start,"Classes can't have a static field named 'prototype'"),this.eat(Z.eq)){var M=this.currentThisScope(),j=M.inClassFieldInit;M.inClassFieldInit=!0,_.value=this.parseMaybeAssign(),M.inClassFieldInit=j}else _.value=null;return this.semicolon(),this.finishNode(_,"PropertyDefinition")},Ve.parseClassStaticBlock=function(_){_.body=[];var M=this.labels;for(this.labels=[],this.enterScope(320);this.type!==Z.braceR;){var j=this.parseStatement(null);_.body.push(j)}return this.next(),this.exitScope(),this.labels=M,this.finishNode(_,"StaticBlock")},Ve.parseClassId=function(_,M){this.type===Z.name?(_.id=this.parseIdent(),M&&this.checkLValSimple(_.id,2,!1)):(!0===M&&this.unexpected(),_.id=null)},Ve.parseClassSuper=function(_){_.superClass=this.eat(Z._extends)?this.parseExprSubscripts(null,!1):null},Ve.enterClassBody=function(){var _={declared:Object.create(null),used:[]};return this.privateNameStack.push(_),_.declared},Ve.exitClassBody=function(){for(var _=this.privateNameStack.pop(),M=_.declared,j=_.used,W=this.privateNameStack.length,J=0===W?null:this.privateNameStack[W-1],pe=0;pe<j.length;++pe){var ye=j[pe];Rn(M,ye.name)||(J?J.used.push(ye):this.raiseRecoverable(ye.start,"Private field '#"+ye.name+"' must be declared in an enclosing class"))}},Ve.parseExport=function(_,M){if(this.next(),this.eat(Z.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(_.exported=this.parseModuleExportName(),this.checkExport(M,_.exported,this.lastTokStart)):_.exported=null),this.expectContextual("from"),this.type!==Z.string&&this.unexpected(),_.source=this.parseExprAtom(),this.semicolon(),this.finishNode(_,"ExportAllDeclaration");if(this.eat(Z._default)){var j;if(this.checkExport(M,"default",this.lastTokStart),this.type===Z._function||(j=this.isAsyncFunction())){var W=this.startNode();this.next(),j&&this.next(),_.declaration=this.parseFunction(W,4|u,!1,j)}else if(this.type===Z._class){var J=this.startNode();_.declaration=this.parseClass(J,"nullableID")}else _.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(_,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())_.declaration=this.parseStatement(null),"VariableDeclaration"===_.declaration.type?this.checkVariableExport(M,_.declaration.declarations):this.checkExport(M,_.declaration.id,_.declaration.id.start),_.specifiers=[],_.source=null;else{if(_.declaration=null,_.specifiers=this.parseExportSpecifiers(M),this.eatContextual("from"))this.type!==Z.string&&this.unexpected(),_.source=this.parseExprAtom();else{for(var pe=0,ye=_.specifiers;pe<ye.length;pe+=1){var Re=ye[pe];this.checkUnreserved(Re.local),this.checkLocalExport(Re.local),"Literal"===Re.local.type&&this.raise(Re.local.start,"A string literal cannot be used as an exported binding without `from`.")}_.source=null}this.semicolon()}return this.finishNode(_,"ExportNamedDeclaration")},Ve.checkExport=function(_,M,j){_&&("string"!=typeof M&&(M="Identifier"===M.type?M.name:M.value),Rn(_,M)&&this.raiseRecoverable(j,"Duplicate export '"+M+"'"),_[M]=!0)},Ve.checkPatternExport=function(_,M){var j=M.type;if("Identifier"===j)this.checkExport(_,M,M.start);else if("ObjectPattern"===j)for(var W=0,J=M.properties;W<J.length;W+=1)this.checkPatternExport(_,J[W]);else if("ArrayPattern"===j)for(var ye=0,Re=M.elements;ye<Re.length;ye+=1){var je=Re[ye];je&&this.checkPatternExport(_,je)}else"Property"===j?this.checkPatternExport(_,M.value):"AssignmentPattern"===j?this.checkPatternExport(_,M.left):"RestElement"===j?this.checkPatternExport(_,M.argument):"ParenthesizedExpression"===j&&this.checkPatternExport(_,M.expression)},Ve.checkVariableExport=function(_,M){if(_)for(var j=0,W=M;j<W.length;j+=1)this.checkPatternExport(_,W[j].id)},Ve.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Ve.parseExportSpecifiers=function(_){var M=[],j=!0;for(this.expect(Z.braceL);!this.eat(Z.braceR);){if(j)j=!1;else if(this.expect(Z.comma),this.afterTrailingComma(Z.braceR))break;var W=this.startNode();W.local=this.parseModuleExportName(),W.exported=this.eatContextual("as")?this.parseModuleExportName():W.local,this.checkExport(_,W.exported,W.exported.start),M.push(this.finishNode(W,"ExportSpecifier"))}return M},Ve.parseImport=function(_){return this.next(),this.type===Z.string?(_.specifiers=o,_.source=this.parseExprAtom()):(_.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),_.source=this.type===Z.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(_,"ImportDeclaration")},Ve.parseImportSpecifiers=function(){var _=[],M=!0;if(this.type===Z.name){var j=this.startNode();if(j.local=this.parseIdent(),this.checkLValSimple(j.local,2),_.push(this.finishNode(j,"ImportDefaultSpecifier")),!this.eat(Z.comma))return _}if(this.type===Z.star){var W=this.startNode();return this.next(),this.expectContextual("as"),W.local=this.parseIdent(),this.checkLValSimple(W.local,2),_.push(this.finishNode(W,"ImportNamespaceSpecifier")),_}for(this.expect(Z.braceL);!this.eat(Z.braceR);){if(M)M=!1;else if(this.expect(Z.comma),this.afterTrailingComma(Z.braceR))break;var J=this.startNode();J.imported=this.parseModuleExportName(),this.eatContextual("as")?J.local=this.parseIdent():(this.checkUnreserved(J.imported),J.local=J.imported),this.checkLValSimple(J.local,2),_.push(this.finishNode(J,"ImportSpecifier"))}return _},Ve.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===Z.string){var _=this.parseLiteral(this.value);return at.test(_.value)&&this.raise(_.start,"An export name cannot include a lone surrogate."),_}return this.parseIdent(!0)},Ve.adaptDirectivePrologue=function(_){for(var M=0;M<_.length&&this.isDirectiveCandidate(_[M]);++M)_[M].directive=_[M].expression.raw.slice(1,-1)},Ve.isDirectiveCandidate=function(_){return this.options.ecmaVersion>=5&&"ExpressionStatement"===_.type&&"Literal"===_.expression.type&&"string"==typeof _.expression.value&&('"'===this.input[_.start]||"'"===this.input[_.start])};var m=bn.prototype;m.toAssignable=function(_,M,j){if(this.options.ecmaVersion>=6&&_)switch(_.type){case"Identifier":this.inAsync&&"await"===_.name&&this.raise(_.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":_.type="ObjectPattern",j&&this.checkPatternErrors(j,!0);for(var W=0,J=_.properties;W<J.length;W+=1){var pe=J[W];this.toAssignable(pe,M),"RestElement"===pe.type&&("ArrayPattern"===pe.argument.type||"ObjectPattern"===pe.argument.type)&&this.raise(pe.argument.start,"Unexpected token")}break;case"Property":"init"!==_.kind&&this.raise(_.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(_.value,M);break;case"ArrayExpression":_.type="ArrayPattern",j&&this.checkPatternErrors(j,!0),this.toAssignableList(_.elements,M);break;case"SpreadElement":_.type="RestElement",this.toAssignable(_.argument,M),"AssignmentPattern"===_.argument.type&&this.raise(_.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==_.operator&&this.raise(_.left.end,"Only '=' operator can be used for specifying default value."),_.type="AssignmentPattern",delete _.operator,this.toAssignable(_.left,M);break;case"ParenthesizedExpression":this.toAssignable(_.expression,M,j);break;case"ChainExpression":this.raiseRecoverable(_.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!M)break;default:this.raise(_.start,"Assigning to rvalue")}else j&&this.checkPatternErrors(j,!0);return _},m.toAssignableList=function(_,M){for(var j=_.length,W=0;W<j;W++){var J=_[W];J&&this.toAssignable(J,M)}if(j){var pe=_[j-1];6===this.options.ecmaVersion&&M&&pe&&"RestElement"===pe.type&&"Identifier"!==pe.argument.type&&this.unexpected(pe.argument.start)}return _},m.parseSpread=function(_){var M=this.startNode();return this.next(),M.argument=this.parseMaybeAssign(!1,_),this.finishNode(M,"SpreadElement")},m.parseRestBinding=function(){var _=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==Z.name&&this.unexpected(),_.argument=this.parseBindingAtom(),this.finishNode(_,"RestElement")},m.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case Z.bracketL:var _=this.startNode();return this.next(),_.elements=this.parseBindingList(Z.bracketR,!0,!0),this.finishNode(_,"ArrayPattern");case Z.braceL:return this.parseObj(!0)}return this.parseIdent()},m.parseBindingList=function(_,M,j){for(var W=[],J=!0;!this.eat(_);)if(J?J=!1:this.expect(Z.comma),M&&this.type===Z.comma)W.push(null);else{if(j&&this.afterTrailingComma(_))break;if(this.type===Z.ellipsis){var pe=this.parseRestBinding();this.parseBindingListItem(pe),W.push(pe),this.type===Z.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(_);break}var ye=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(ye),W.push(ye)}return W},m.parseBindingListItem=function(_){return _},m.parseMaybeDefault=function(_,M,j){if(j=j||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(Z.eq))return j;var W=this.startNodeAt(_,M);return W.left=j,W.right=this.parseMaybeAssign(),this.finishNode(W,"AssignmentPattern")},m.checkLValSimple=function(_,M,j){void 0===M&&(M=0);var W=0!==M;switch(_.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(_.name)&&this.raiseRecoverable(_.start,(W?"Binding ":"Assigning to ")+_.name+" in strict mode"),W&&(2===M&&"let"===_.name&&this.raiseRecoverable(_.start,"let is disallowed as a lexically bound name"),j&&(Rn(j,_.name)&&this.raiseRecoverable(_.start,"Argument name clash"),j[_.name]=!0),5!==M&&this.declareName(_.name,M,_.start));break;case"ChainExpression":this.raiseRecoverable(_.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":W&&this.raiseRecoverable(_.start,"Binding member expression");break;case"ParenthesizedExpression":return W&&this.raiseRecoverable(_.start,"Binding parenthesized expression"),this.checkLValSimple(_.expression,M,j);default:this.raise(_.start,(W?"Binding":"Assigning to")+" rvalue")}},m.checkLValPattern=function(_,M,j){switch(void 0===M&&(M=0),_.type){case"ObjectPattern":for(var W=0,J=_.properties;W<J.length;W+=1)this.checkLValInnerPattern(J[W],M,j);break;case"ArrayPattern":for(var ye=0,Re=_.elements;ye<Re.length;ye+=1){var je=Re[ye];je&&this.checkLValInnerPattern(je,M,j)}break;default:this.checkLValSimple(_,M,j)}},m.checkLValInnerPattern=function(_,M,j){switch(void 0===M&&(M=0),_.type){case"Property":this.checkLValInnerPattern(_.value,M,j);break;case"AssignmentPattern":this.checkLValPattern(_.left,M,j);break;case"RestElement":this.checkLValPattern(_.argument,M,j);break;default:this.checkLValPattern(_,M,j)}};var v=function(M,j,W,J,pe){this.token=M,this.isExpr=!!j,this.preserveSpace=!!W,this.override=J,this.generator=!!pe},b={b_stat:new v("{",!1),b_expr:new v("{",!0),b_tmpl:new v("${",!1),p_stat:new v("(",!1),p_expr:new v("(",!0),q_tmpl:new v("`",!0,!0,function(_){return _.tryReadTemplateToken()}),f_stat:new v("function",!1),f_expr:new v("function",!0),f_expr_gen:new v("function",!0,!1,null,!0),f_gen:new v("function",!1,!1,null,!0)},x=bn.prototype;x.initialContext=function(){return[b.b_stat]},x.curContext=function(){return this.context[this.context.length-1]},x.braceIsBlock=function(_){var M=this.curContext();return M===b.f_expr||M===b.f_stat||(_!==Z.colon||M!==b.b_stat&&M!==b.b_expr?_===Z._return||_===Z.name&&this.exprAllowed?nt.test(this.input.slice(this.lastTokEnd,this.start)):_===Z._else||_===Z.semi||_===Z.eof||_===Z.parenR||_===Z.arrow||(_===Z.braceL?M===b.b_stat:_!==Z._var&&_!==Z._const&&_!==Z.name&&!this.exprAllowed):!M.isExpr)},x.inGeneratorContext=function(){for(var _=this.context.length-1;_>=1;_--){var M=this.context[_];if("function"===M.token)return M.generator}return!1},x.updateContext=function(_){var M,j=this.type;j.keyword&&_===Z.dot?this.exprAllowed=!1:(M=j.updateContext)?M.call(this,_):this.exprAllowed=j.beforeExpr},x.overrideContext=function(_){this.curContext()!==_&&(this.context[this.context.length-1]=_)},Z.parenR.updateContext=Z.braceR.updateContext=function(){if(1!==this.context.length){var _=this.context.pop();_===b.b_stat&&"function"===this.curContext().token&&(_=this.context.pop()),this.exprAllowed=!_.isExpr}else this.exprAllowed=!0},Z.braceL.updateContext=function(_){this.context.push(this.braceIsBlock(_)?b.b_stat:b.b_expr),this.exprAllowed=!0},Z.dollarBraceL.updateContext=function(){this.context.push(b.b_tmpl),this.exprAllowed=!0},Z.parenL.updateContext=function(_){this.context.push(_===Z._if||_===Z._for||_===Z._with||_===Z._while?b.p_stat:b.p_expr),this.exprAllowed=!0},Z.incDec.updateContext=function(){},Z._function.updateContext=Z._class.updateContext=function(_){!_.beforeExpr||_===Z._else||_===Z.semi&&this.curContext()!==b.p_stat||_===Z._return&&nt.test(this.input.slice(this.lastTokEnd,this.start))||(_===Z.colon||_===Z.braceL)&&this.curContext()===b.b_stat?this.context.push(b.f_stat):this.context.push(b.f_expr),this.exprAllowed=!1},Z.backQuote.updateContext=function(){this.curContext()===b.q_tmpl?this.context.pop():this.context.push(b.q_tmpl),this.exprAllowed=!1},Z.star.updateContext=function(_){if(_===Z._function){var M=this.context.length-1;this.context[M]=this.context[M]===b.f_expr?b.f_expr_gen:b.f_gen}this.exprAllowed=!0},Z.name.updateContext=function(_){var M=!1;this.options.ecmaVersion>=6&&_!==Z.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(M=!0),this.exprAllowed=M};var w=bn.prototype;function C(_){return"MemberExpression"===_.type&&"PrivateIdentifier"===_.property.type||"ChainExpression"===_.type&&C(_.expression)}w.checkPropClash=function(_,M,j){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===_.type||this.options.ecmaVersion>=6&&(_.computed||_.method||_.shorthand))){var J,W=_.key;switch(W.type){case"Identifier":J=W.name;break;case"Literal":J=String(W.value);break;default:return}var pe=_.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===J&&"init"===pe&&(M.proto&&(j?j.doubleProto<0&&(j.doubleProto=W.start):this.raiseRecoverable(W.start,"Redefinition of __proto__ property")),M.proto=!0));var ye=M[J="$"+J];ye?("init"===pe?this.strict&&ye.init||ye.get||ye.set:ye.init||ye[pe])&&this.raiseRecoverable(W.start,"Redefinition of property"):ye=M[J]={init:!1,get:!1,set:!1},ye[pe]=!0}},w.parseExpression=function(_,M){var j=this.start,W=this.startLoc,J=this.parseMaybeAssign(_,M);if(this.type===Z.comma){var pe=this.startNodeAt(j,W);for(pe.expressions=[J];this.eat(Z.comma);)pe.expressions.push(this.parseMaybeAssign(_,M));return this.finishNode(pe,"SequenceExpression")}return J},w.parseMaybeAssign=function(_,M,j){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(_);this.exprAllowed=!1}var W=!1,J=-1,pe=-1,ye=-1;M?(J=M.parenthesizedAssign,pe=M.trailingComma,ye=M.doubleProto,M.parenthesizedAssign=M.trailingComma=-1):(M=new pn,W=!0);var Re=this.start,je=this.startLoc;(this.type===Z.parenL||this.type===Z.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===_);var st=this.parseMaybeConditional(_,M);if(j&&(st=j.call(this,st,Re,je)),this.type.isAssign){var kt=this.startNodeAt(Re,je);return kt.operator=this.value,this.type===Z.eq&&(st=this.toAssignable(st,!1,M)),W||(M.parenthesizedAssign=M.trailingComma=M.doubleProto=-1),M.shorthandAssign>=st.start&&(M.shorthandAssign=-1),this.type===Z.eq?this.checkLValPattern(st):this.checkLValSimple(st),kt.left=st,this.next(),kt.right=this.parseMaybeAssign(_),ye>-1&&(M.doubleProto=ye),this.finishNode(kt,"AssignmentExpression")}return W&&this.checkExpressionErrors(M,!0),J>-1&&(M.parenthesizedAssign=J),pe>-1&&(M.trailingComma=pe),st},w.parseMaybeConditional=function(_,M){var j=this.start,W=this.startLoc,J=this.parseExprOps(_,M);if(this.checkExpressionErrors(M))return J;if(this.eat(Z.question)){var pe=this.startNodeAt(j,W);return pe.test=J,pe.consequent=this.parseMaybeAssign(),this.expect(Z.colon),pe.alternate=this.parseMaybeAssign(_),this.finishNode(pe,"ConditionalExpression")}return J},w.parseExprOps=function(_,M){var j=this.start,W=this.startLoc,J=this.parseMaybeUnary(M,!1,!1,_);return this.checkExpressionErrors(M)||J.start===j&&"ArrowFunctionExpression"===J.type?J:this.parseExprOp(J,j,W,-1,_)},w.parseExprOp=function(_,M,j,W,J){var pe=this.type.binop;if(null!=pe&&(!J||this.type!==Z._in)&&pe>W){var ye=this.type===Z.logicalOR||this.type===Z.logicalAND,Re=this.type===Z.coalesce;Re&&(pe=Z.logicalAND.binop);var je=this.value;this.next();var st=this.start,kt=this.startLoc,In=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,J),st,kt,pe,J),Pi=this.buildBinary(M,j,_,In,je,ye||Re);return(ye&&this.type===Z.coalesce||Re&&(this.type===Z.logicalOR||this.type===Z.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Pi,M,j,W,J)}return _},w.buildBinary=function(_,M,j,W,J,pe){"PrivateIdentifier"===W.type&&this.raise(W.start,"Private identifier can only be left side of binary expression");var ye=this.startNodeAt(_,M);return ye.left=j,ye.operator=J,ye.right=W,this.finishNode(ye,pe?"LogicalExpression":"BinaryExpression")},w.parseMaybeUnary=function(_,M,j,W){var ye,J=this.start,pe=this.startLoc;if(this.isContextual("await")&&this.canAwait)ye=this.parseAwait(W),M=!0;else if(this.type.prefix){var Re=this.startNode(),je=this.type===Z.incDec;Re.operator=this.value,Re.prefix=!0,this.next(),Re.argument=this.parseMaybeUnary(null,!0,je,W),this.checkExpressionErrors(_,!0),je?this.checkLValSimple(Re.argument):this.strict&&"delete"===Re.operator&&"Identifier"===Re.argument.type?this.raiseRecoverable(Re.start,"Deleting local variable in strict mode"):"delete"===Re.operator&&C(Re.argument)?this.raiseRecoverable(Re.start,"Private fields can not be deleted"):M=!0,ye=this.finishNode(Re,je?"UpdateExpression":"UnaryExpression")}else if(M||this.type!==Z.privateId){if(ye=this.parseExprSubscripts(_,W),this.checkExpressionErrors(_))return ye;for(;this.type.postfix&&!this.canInsertSemicolon();){var st=this.startNodeAt(J,pe);st.operator=this.value,st.prefix=!1,st.argument=ye,this.checkLValSimple(ye),this.next(),ye=this.finishNode(st,"UpdateExpression")}}else(W||0===this.privateNameStack.length)&&this.unexpected(),ye=this.parsePrivateIdent(),this.type!==Z._in&&this.unexpected();return j||!this.eat(Z.starstar)?ye:M?void this.unexpected(this.lastTokStart):this.buildBinary(J,pe,ye,this.parseMaybeUnary(null,!1,!1,W),"**",!1)},w.parseExprSubscripts=function(_,M){var j=this.start,W=this.startLoc,J=this.parseExprAtom(_,M);if("ArrowFunctionExpression"===J.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return J;var pe=this.parseSubscripts(J,j,W,!1,M);return _&&"MemberExpression"===pe.type&&(_.parenthesizedAssign>=pe.start&&(_.parenthesizedAssign=-1),_.parenthesizedBind>=pe.start&&(_.parenthesizedBind=-1),_.trailingComma>=pe.start&&(_.trailingComma=-1)),pe},w.parseSubscripts=function(_,M,j,W,J){for(var pe=this.options.ecmaVersion>=8&&"Identifier"===_.type&&"async"===_.name&&this.lastTokEnd===_.end&&!this.canInsertSemicolon()&&_.end-_.start==5&&this.potentialArrowAt===_.start,ye=!1;;){var Re=this.parseSubscript(_,M,j,W,pe,ye,J);if(Re.optional&&(ye=!0),Re===_||"ArrowFunctionExpression"===Re.type){if(ye){var je=this.startNodeAt(M,j);je.expression=Re,Re=this.finishNode(je,"ChainExpression")}return Re}_=Re}},w.parseSubscript=function(_,M,j,W,J,pe,ye){var Re=this.options.ecmaVersion>=11,je=Re&&this.eat(Z.questionDot);W&&je&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var st=this.eat(Z.bracketL);if(st||je&&this.type!==Z.parenL&&this.type!==Z.backQuote||this.eat(Z.dot)){var kt=this.startNodeAt(M,j);kt.object=_,st?(kt.property=this.parseExpression(),this.expect(Z.bracketR)):kt.property=this.type===Z.privateId&&"Super"!==_.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),kt.computed=!!st,Re&&(kt.optional=je),_=this.finishNode(kt,"MemberExpression")}else if(!W&&this.eat(Z.parenL)){var In=new pn,Pi=this.yieldPos,Mn=this.awaitPos,hi=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Vi=this.parseExprList(Z.parenR,this.options.ecmaVersion>=8,!1,In);if(J&&!je&&!this.canInsertSemicolon()&&this.eat(Z.arrow))return this.checkPatternErrors(In,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Pi,this.awaitPos=Mn,this.awaitIdentPos=hi,this.parseArrowExpression(this.startNodeAt(M,j),Vi,!0,ye);this.checkExpressionErrors(In,!0),this.yieldPos=Pi||this.yieldPos,this.awaitPos=Mn||this.awaitPos,this.awaitIdentPos=hi||this.awaitIdentPos;var yi=this.startNodeAt(M,j);yi.callee=_,yi.arguments=Vi,Re&&(yi.optional=je),_=this.finishNode(yi,"CallExpression")}else if(this.type===Z.backQuote){(je||pe)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Zi=this.startNodeAt(M,j);Zi.tag=_,Zi.quasi=this.parseTemplate({isTagged:!0}),_=this.finishNode(Zi,"TaggedTemplateExpression")}return _},w.parseExprAtom=function(_,M){this.type===Z.slash&&this.readRegexp();var j,W=this.potentialArrowAt===this.start;switch(this.type){case Z._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),j=this.startNode(),this.next(),this.type===Z.parenL&&!this.allowDirectSuper&&this.raise(j.start,"super() call outside constructor of a subclass"),this.type!==Z.dot&&this.type!==Z.bracketL&&this.type!==Z.parenL&&this.unexpected(),this.finishNode(j,"Super");case Z._this:return j=this.startNode(),this.next(),this.finishNode(j,"ThisExpression");case Z.name:var J=this.start,pe=this.startLoc,ye=this.containsEsc,Re=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ye&&"async"===Re.name&&!this.canInsertSemicolon()&&this.eat(Z._function))return this.overrideContext(b.f_expr),this.parseFunction(this.startNodeAt(J,pe),0,!1,!0,M);if(W&&!this.canInsertSemicolon()){if(this.eat(Z.arrow))return this.parseArrowExpression(this.startNodeAt(J,pe),[Re],!1,M);if(this.options.ecmaVersion>=8&&"async"===Re.name&&this.type===Z.name&&!ye&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return Re=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(Z.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(J,pe),[Re],!0,M)}return Re;case Z.regexp:var je=this.value;return(j=this.parseLiteral(je.value)).regex={pattern:je.pattern,flags:je.flags},j;case Z.num:case Z.string:return this.parseLiteral(this.value);case Z._null:case Z._true:case Z._false:return(j=this.startNode()).value=this.type===Z._null?null:this.type===Z._true,j.raw=this.type.keyword,this.next(),this.finishNode(j,"Literal");case Z.parenL:var st=this.start,kt=this.parseParenAndDistinguishExpression(W,M);return _&&(_.parenthesizedAssign<0&&!this.isSimpleAssignTarget(kt)&&(_.parenthesizedAssign=st),_.parenthesizedBind<0&&(_.parenthesizedBind=st)),kt;case Z.bracketL:return j=this.startNode(),this.next(),j.elements=this.parseExprList(Z.bracketR,!0,!0,_),this.finishNode(j,"ArrayExpression");case Z.braceL:return this.overrideContext(b.b_expr),this.parseObj(!1,_);case Z._function:return j=this.startNode(),this.next(),this.parseFunction(j,0);case Z._class:return this.parseClass(this.startNode(),!1);case Z._new:return this.parseNew();case Z.backQuote:return this.parseTemplate();case Z._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},w.parseExprImport=function(){var _=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var M=this.parseIdent(!0);switch(this.type){case Z.parenL:return this.parseDynamicImport(_);case Z.dot:return _.meta=M,this.parseImportMeta(_);default:this.unexpected()}},w.parseDynamicImport=function(_){if(this.next(),_.source=this.parseMaybeAssign(),!this.eat(Z.parenR)){var M=this.start;this.eat(Z.comma)&&this.eat(Z.parenR)?this.raiseRecoverable(M,"Trailing comma is not allowed in import()"):this.unexpected(M)}return this.finishNode(_,"ImportExpression")},w.parseImportMeta=function(_){this.next();var M=this.containsEsc;return _.property=this.parseIdent(!0),"meta"!==_.property.name&&this.raiseRecoverable(_.property.start,"The only valid meta property for import is 'import.meta'"),M&&this.raiseRecoverable(_.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(_.start,"Cannot use 'import.meta' outside a module"),this.finishNode(_,"MetaProperty")},w.parseLiteral=function(_){var M=this.startNode();return M.value=_,M.raw=this.input.slice(this.start,this.end),110===M.raw.charCodeAt(M.raw.length-1)&&(M.bigint=M.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(M,"Literal")},w.parseParenExpression=function(){this.expect(Z.parenL);var _=this.parseExpression();return this.expect(Z.parenR),_},w.parseParenAndDistinguishExpression=function(_,M){var J,j=this.start,W=this.startLoc,pe=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var hi,ye=this.start,Re=this.startLoc,je=[],st=!0,kt=!1,In=new pn,Pi=this.yieldPos,Mn=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==Z.parenR;){if(st?st=!1:this.expect(Z.comma),pe&&this.afterTrailingComma(Z.parenR,!0)){kt=!0;break}if(this.type===Z.ellipsis){hi=this.start,je.push(this.parseParenItem(this.parseRestBinding())),this.type===Z.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}je.push(this.parseMaybeAssign(!1,In,this.parseParenItem))}var Vi=this.lastTokEnd,yi=this.lastTokEndLoc;if(this.expect(Z.parenR),_&&!this.canInsertSemicolon()&&this.eat(Z.arrow))return this.checkPatternErrors(In,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Pi,this.awaitPos=Mn,this.parseParenArrowList(j,W,je,M);(!je.length||kt)&&this.unexpected(this.lastTokStart),hi&&this.unexpected(hi),this.checkExpressionErrors(In,!0),this.yieldPos=Pi||this.yieldPos,this.awaitPos=Mn||this.awaitPos,je.length>1?((J=this.startNodeAt(ye,Re)).expressions=je,this.finishNodeAt(J,"SequenceExpression",Vi,yi)):J=je[0]}else J=this.parseParenExpression();if(this.options.preserveParens){var Zi=this.startNodeAt(j,W);return Zi.expression=J,this.finishNode(Zi,"ParenthesizedExpression")}return J},w.parseParenItem=function(_){return _},w.parseParenArrowList=function(_,M,j,W){return this.parseArrowExpression(this.startNodeAt(_,M),j,!1,W)};var D=[];w.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var _=this.startNode(),M=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(Z.dot)){_.meta=M;var j=this.containsEsc;return _.property=this.parseIdent(!0),"target"!==_.property.name&&this.raiseRecoverable(_.property.start,"The only valid meta property for new is 'new.target'"),j&&this.raiseRecoverable(_.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(_.start,"'new.target' can only be used in functions and class static block"),this.finishNode(_,"MetaProperty")}var W=this.start,J=this.startLoc,pe=this.type===Z._import;return _.callee=this.parseSubscripts(this.parseExprAtom(),W,J,!0,!1),pe&&"ImportExpression"===_.callee.type&&this.raise(W,"Cannot use new with import()"),_.arguments=this.eat(Z.parenL)?this.parseExprList(Z.parenR,this.options.ecmaVersion>=8,!1):D,this.finishNode(_,"NewExpression")},w.parseTemplateElement=function(_){var M=_.isTagged,j=this.startNode();return this.type===Z.invalidTemplate?(M||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),j.value={raw:this.value,cooked:null}):j.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),j.tail=this.type===Z.backQuote,this.finishNode(j,"TemplateElement")},w.parseTemplate=function(_){void 0===_&&(_={});var M=_.isTagged;void 0===M&&(M=!1);var j=this.startNode();this.next(),j.expressions=[];var W=this.parseTemplateElement({isTagged:M});for(j.quasis=[W];!W.tail;)this.type===Z.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(Z.dollarBraceL),j.expressions.push(this.parseExpression()),this.expect(Z.braceR),j.quasis.push(W=this.parseTemplateElement({isTagged:M}));return this.next(),this.finishNode(j,"TemplateLiteral")},w.isAsyncProp=function(_){return!_.computed&&"Identifier"===_.key.type&&"async"===_.key.name&&(this.type===Z.name||this.type===Z.num||this.type===Z.string||this.type===Z.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===Z.star)&&!nt.test(this.input.slice(this.lastTokEnd,this.start))},w.parseObj=function(_,M){var j=this.startNode(),W=!0,J={};for(j.properties=[],this.next();!this.eat(Z.braceR);){if(W)W=!1;else if(this.expect(Z.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(Z.braceR))break;var pe=this.parseProperty(_,M);_||this.checkPropClash(pe,J,M),j.properties.push(pe)}return this.finishNode(j,_?"ObjectPattern":"ObjectExpression")},w.parseProperty=function(_,M){var W,J,pe,ye,j=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(Z.ellipsis))return _?(j.argument=this.parseIdent(!1),this.type===Z.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(j,"RestElement")):(j.argument=this.parseMaybeAssign(!1,M),this.type===Z.comma&&M&&M.trailingComma<0&&(M.trailingComma=this.start),this.finishNode(j,"SpreadElement"));this.options.ecmaVersion>=6&&(j.method=!1,j.shorthand=!1,(_||M)&&(pe=this.start,ye=this.startLoc),_||(W=this.eat(Z.star)));var Re=this.containsEsc;return this.parsePropertyName(j),!_&&!Re&&this.options.ecmaVersion>=8&&!W&&this.isAsyncProp(j)?(J=!0,W=this.options.ecmaVersion>=9&&this.eat(Z.star),this.parsePropertyName(j)):J=!1,this.parsePropertyValue(j,_,W,J,pe,ye,M,Re),this.finishNode(j,"Property")},w.parsePropertyValue=function(_,M,j,W,J,pe,ye,Re){if((j||W)&&this.type===Z.colon&&this.unexpected(),this.eat(Z.colon))_.value=M?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,ye),_.kind="init";else if(this.options.ecmaVersion>=6&&this.type===Z.parenL)M&&this.unexpected(),_.kind="init",_.method=!0,_.value=this.parseMethod(j,W);else if(M||Re||!(this.options.ecmaVersion>=5)||_.computed||"Identifier"!==_.key.type||"get"!==_.key.name&&"set"!==_.key.name||this.type===Z.comma||this.type===Z.braceR||this.type===Z.eq)this.options.ecmaVersion>=6&&!_.computed&&"Identifier"===_.key.type?((j||W)&&this.unexpected(),this.checkUnreserved(_.key),"await"===_.key.name&&!this.awaitIdentPos&&(this.awaitIdentPos=J),_.kind="init",M?_.value=this.parseMaybeDefault(J,pe,this.copyNode(_.key)):this.type===Z.eq&&ye?(ye.shorthandAssign<0&&(ye.shorthandAssign=this.start),_.value=this.parseMaybeDefault(J,pe,this.copyNode(_.key))):_.value=this.copyNode(_.key),_.shorthand=!0):this.unexpected();else if((j||W)&&this.unexpected(),_.kind=_.key.name,this.parsePropertyName(_),_.value=this.parseMethod(!1),_.value.params.length!==("get"===_.kind?0:1)){this.raiseRecoverable(_.value.start,"get"===_.kind?"getter should have no params":"setter should have exactly one param")}else"set"===_.kind&&"RestElement"===_.value.params[0].type&&this.raiseRecoverable(_.value.params[0].start,"Setter cannot use rest params")},w.parsePropertyName=function(_){if(this.options.ecmaVersion>=6){if(this.eat(Z.bracketL))return _.computed=!0,_.key=this.parseMaybeAssign(),this.expect(Z.bracketR),_.key;_.computed=!1}return _.key=this.type===Z.num||this.type===Z.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},w.initFunction=function(_){_.id=null,this.options.ecmaVersion>=6&&(_.generator=_.expression=!1),this.options.ecmaVersion>=8&&(_.async=!1)},w.parseMethod=function(_,M,j){var W=this.startNode(),J=this.yieldPos,pe=this.awaitPos,ye=this.awaitIdentPos;return this.initFunction(W),this.options.ecmaVersion>=6&&(W.generator=_),this.options.ecmaVersion>=8&&(W.async=!!M),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|Fr(M,W.generator)|(j?128:0)),this.expect(Z.parenL),W.params=this.parseBindingList(Z.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(W,!1,!0,!1),this.yieldPos=J,this.awaitPos=pe,this.awaitIdentPos=ye,this.finishNode(W,"FunctionExpression")},w.parseArrowExpression=function(_,M,j,W){var J=this.yieldPos,pe=this.awaitPos,ye=this.awaitIdentPos;return this.enterScope(16|Fr(j,!1)),this.initFunction(_),this.options.ecmaVersion>=8&&(_.async=!!j),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,_.params=this.toAssignableList(M,!0),this.parseFunctionBody(_,!0,!1,W),this.yieldPos=J,this.awaitPos=pe,this.awaitIdentPos=ye,this.finishNode(_,"ArrowFunctionExpression")},w.parseFunctionBody=function(_,M,j,W){var pe=this.strict,ye=!1;if(M&&this.type!==Z.braceL)_.body=this.parseMaybeAssign(W),_.expression=!0,this.checkParams(_,!1);else{var Re=this.options.ecmaVersion>=7&&!this.isSimpleParamList(_.params);(!pe||Re)&&(ye=this.strictDirective(this.end))&&Re&&this.raiseRecoverable(_.start,"Illegal 'use strict' directive in function with non-simple parameter list");var je=this.labels;this.labels=[],ye&&(this.strict=!0),this.checkParams(_,!pe&&!ye&&!M&&!j&&this.isSimpleParamList(_.params)),this.strict&&_.id&&this.checkLValSimple(_.id,5),_.body=this.parseBlock(!1,void 0,ye&&!pe),_.expression=!1,this.adaptDirectivePrologue(_.body.body),this.labels=je}this.exitScope()},w.isSimpleParamList=function(_){for(var M=0,j=_;M<j.length;M+=1)if("Identifier"!==j[M].type)return!1;return!0},w.checkParams=function(_,M){for(var j=Object.create(null),W=0,J=_.params;W<J.length;W+=1)this.checkLValInnerPattern(J[W],1,M?null:j)},w.parseExprList=function(_,M,j,W){for(var J=[],pe=!0;!this.eat(_);){if(pe)pe=!1;else if(this.expect(Z.comma),M&&this.afterTrailingComma(_))break;var ye=void 0;j&&this.type===Z.comma?ye=null:this.type===Z.ellipsis?(ye=this.parseSpread(W),W&&this.type===Z.comma&&W.trailingComma<0&&(W.trailingComma=this.start)):ye=this.parseMaybeAssign(!1,W),J.push(ye)}return J},w.checkUnreserved=function(_){var M=_.start,j=_.end,W=_.name;this.inGenerator&&"yield"===W&&this.raiseRecoverable(M,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===W&&this.raiseRecoverable(M,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===W&&this.raiseRecoverable(M,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===W||"await"===W)&&this.raise(M,"Cannot use "+W+" in class static initialization block"),this.keywords.test(W)&&this.raise(M,"Unexpected keyword '"+W+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(M,j).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(W)&&(!this.inAsync&&"await"===W&&this.raiseRecoverable(M,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(M,"The keyword '"+W+"' is reserved"))},w.parseIdent=function(_){var M=this.startNode();return this.type===Z.name?M.name=this.value:this.type.keyword?(M.name=this.type.keyword,("class"===M.name||"function"===M.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop()):this.unexpected(),this.next(!!_),this.finishNode(M,"Identifier"),_||(this.checkUnreserved(M),"await"===M.name&&!this.awaitIdentPos&&(this.awaitIdentPos=M.start)),M},w.parsePrivateIdent=function(){var _=this.startNode();return this.type===Z.privateId?_.name=this.value:this.unexpected(),this.next(),this.finishNode(_,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(_.start,"Private field '#"+_.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(_),_},w.parseYield=function(_){this.yieldPos||(this.yieldPos=this.start);var M=this.startNode();return this.next(),this.type===Z.semi||this.canInsertSemicolon()||this.type!==Z.star&&!this.type.startsExpr?(M.delegate=!1,M.argument=null):(M.delegate=this.eat(Z.star),M.argument=this.parseMaybeAssign(_)),this.finishNode(M,"YieldExpression")},w.parseAwait=function(_){this.awaitPos||(this.awaitPos=this.start);var M=this.startNode();return this.next(),M.argument=this.parseMaybeUnary(null,!0,!1,_),this.finishNode(M,"AwaitExpression")};var R=bn.prototype;R.raise=function(_,M){var j=Bn(this.input,_),W=new SyntaxError(M+=" ("+j.line+":"+j.column+")");throw W.pos=_,W.loc=j,W.raisedAt=this.pos,W},R.raiseRecoverable=R.raise,R.curPosition=function(){if(this.options.locations)return new Fe(this.curLine,this.pos-this.lineStart)};var k=bn.prototype,P=function(M){this.flags=M,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};k.enterScope=function(_){this.scopeStack.push(new P(_))},k.exitScope=function(){this.scopeStack.pop()},k.treatFunctionsAsVarInScope=function(_){return _.flags&Li||!this.inModule&&1&_.flags},k.declareName=function(_,M,j){var W=!1;if(2===M){var J=this.currentScope();W=J.lexical.indexOf(_)>-1||J.functions.indexOf(_)>-1||J.var.indexOf(_)>-1,J.lexical.push(_),this.inModule&&1&J.flags&&delete this.undefinedExports[_]}else if(4===M)this.currentScope().lexical.push(_);else if(3===M){var ye=this.currentScope();W=this.treatFunctionsAsVar?ye.lexical.indexOf(_)>-1:ye.lexical.indexOf(_)>-1||ye.var.indexOf(_)>-1,ye.functions.push(_)}else for(var Re=this.scopeStack.length-1;Re>=0;--Re){var je=this.scopeStack[Re];if(je.lexical.indexOf(_)>-1&&!(32&je.flags&&je.lexical[0]===_)||!this.treatFunctionsAsVarInScope(je)&&je.functions.indexOf(_)>-1){W=!0;break}if(je.var.push(_),this.inModule&&1&je.flags&&delete this.undefinedExports[_],je.flags&_n)break}W&&this.raiseRecoverable(j,"Identifier '"+_+"' has already been declared")},k.checkLocalExport=function(_){-1===this.scopeStack[0].lexical.indexOf(_.name)&&-1===this.scopeStack[0].var.indexOf(_.name)&&(this.undefinedExports[_.name]=_)},k.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},k.currentVarScope=function(){for(var _=this.scopeStack.length-1;;_--){var M=this.scopeStack[_];if(M.flags&_n)return M}},k.currentThisScope=function(){for(var _=this.scopeStack.length-1;;_--){var M=this.scopeStack[_];if(M.flags&_n&&!(16&M.flags))return M}};var I=function(M,j,W){this.type="",this.start=j,this.end=0,M.options.locations&&(this.loc=new Pe(M,W)),M.options.directSourceFile&&(this.sourceFile=M.options.directSourceFile),M.options.ranges&&(this.range=[j,0])},E=bn.prototype;function S(_,M,j,W){return _.type=M,_.end=j,this.options.locations&&(_.loc.end=W),this.options.ranges&&(_.range[1]=j),_}E.startNode=function(){return new I(this,this.start,this.startLoc)},E.startNodeAt=function(_,M){return new I(this,_,M)},E.finishNode=function(_,M){return S.call(this,_,M,this.lastTokEnd,this.lastTokEndLoc)},E.finishNodeAt=function(_,M,j,W){return S.call(this,_,M,j,W)},E.copyNode=function(_){var M=new I(this,_.start,this.startLoc);for(var j in _)M[j]=_[j];return M};var _,M,A="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",O=A+" Extended_Pictographic",N=O+" EBase EComp EMod EPres ExtPict",H={9:A,10:O,11:O,12:N,13:N,14:N},G="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",U="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",$=U+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",q=$+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",K=q+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",X=K+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ue={9:U,10:$,11:q,12:K,13:X,14:X+" Kawi Nag_Mundari Nagm"},fe={};for(var _e=0,he=[9,10,11,12,13,14];_e<he.length;_e+=1)M=void 0,(M=fe[_=he[_e]]={binary:mn(H[_]+" "+G),nonBinary:{General_Category:mn(G),Script:mn(ue[_])}}).nonBinary.Script_Extensions=M.nonBinary.Script,M.nonBinary.gc=M.nonBinary.General_Category,M.nonBinary.sc=M.nonBinary.Script,M.nonBinary.scx=M.nonBinary.Script_Extensions;var ce=bn.prototype,be=function(M){this.parser=M,this.validFlags="gim"+(M.options.ecmaVersion>=6?"uy":"")+(M.options.ecmaVersion>=9?"s":"")+(M.options.ecmaVersion>=13?"d":""),this.unicodeProperties=fe[M.options.ecmaVersion>=14?14:M.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function De(_){return 36===_||_>=40&&_<=43||46===_||63===_||_>=91&&_<=94||_>=123&&_<=125}function ze(_){return _>=65&&_<=90||_>=97&&_<=122}function Vt(_){return ze(_)||95===_}function ct(_){return Vt(_)||xt(_)}function xt(_){return _>=48&&_<=57}function pt(_){return _>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102}function ht(_){return _>=65&&_<=70?_-65+10:_>=97&&_<=102?_-97+10:_-48}function it(_){return _>=48&&_<=55}be.prototype.reset=function(M,j,W){var J=-1!==W.indexOf("u");this.start=0|M,this.source=j+"",this.flags=W,this.switchU=J&&this.parser.options.ecmaVersion>=6,this.switchN=J&&this.parser.options.ecmaVersion>=9},be.prototype.raise=function(M){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+M)},be.prototype.at=function(M,j){void 0===j&&(j=!1);var W=this.source,J=W.length;if(M>=J)return-1;var pe=W.charCodeAt(M);if(!j&&!this.switchU||pe<=55295||pe>=57344||M+1>=J)return pe;var ye=W.charCodeAt(M+1);return ye>=56320&&ye<=57343?(pe<<10)+ye-56613888:pe},be.prototype.nextIndex=function(M,j){void 0===j&&(j=!1);var W=this.source,J=W.length;if(M>=J)return J;var ye,pe=W.charCodeAt(M);return!j&&!this.switchU||pe<=55295||pe>=57344||M+1>=J||(ye=W.charCodeAt(M+1))<56320||ye>57343?M+1:M+2},be.prototype.current=function(M){return void 0===M&&(M=!1),this.at(this.pos,M)},be.prototype.lookahead=function(M){return void 0===M&&(M=!1),this.at(this.nextIndex(this.pos,M),M)},be.prototype.advance=function(M){void 0===M&&(M=!1),this.pos=this.nextIndex(this.pos,M)},be.prototype.eat=function(M,j){return void 0===j&&(j=!1),this.current(j)===M&&(this.advance(j),!0)},ce.validateRegExpFlags=function(_){for(var M=_.validFlags,j=_.flags,W=0;W<j.length;W++){var J=j.charAt(W);-1===M.indexOf(J)&&this.raise(_.start,"Invalid regular expression flag"),j.indexOf(J,W+1)>-1&&this.raise(_.start,"Duplicate regular expression flag")}},ce.validateRegExpPattern=function(_){this.regexp_pattern(_),!_.switchN&&this.options.ecmaVersion>=9&&_.groupNames.length>0&&(_.switchN=!0,this.regexp_pattern(_))},ce.regexp_pattern=function(_){_.pos=0,_.lastIntValue=0,_.lastStringValue="",_.lastAssertionIsQuantifiable=!1,_.numCapturingParens=0,_.maxBackReference=0,_.groupNames.length=0,_.backReferenceNames.length=0,this.regexp_disjunction(_),_.pos!==_.source.length&&(_.eat(41)&&_.raise("Unmatched ')'"),(_.eat(93)||_.eat(125))&&_.raise("Lone quantifier brackets")),_.maxBackReference>_.numCapturingParens&&_.raise("Invalid escape");for(var M=0,j=_.backReferenceNames;M<j.length;M+=1)-1===_.groupNames.indexOf(j[M])&&_.raise("Invalid named capture referenced")},ce.regexp_disjunction=function(_){for(this.regexp_alternative(_);_.eat(124);)this.regexp_alternative(_);this.regexp_eatQuantifier(_,!0)&&_.raise("Nothing to repeat"),_.eat(123)&&_.raise("Lone quantifier brackets")},ce.regexp_alternative=function(_){for(;_.pos<_.source.length&&this.regexp_eatTerm(_););},ce.regexp_eatTerm=function(_){return this.regexp_eatAssertion(_)?(_.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(_)&&_.switchU&&_.raise("Invalid quantifier"),!0):!!(_.switchU?this.regexp_eatAtom(_):this.regexp_eatExtendedAtom(_))&&(this.regexp_eatQuantifier(_),!0)},ce.regexp_eatAssertion=function(_){var M=_.pos;if(_.lastAssertionIsQuantifiable=!1,_.eat(94)||_.eat(36))return!0;if(_.eat(92)){if(_.eat(66)||_.eat(98))return!0;_.pos=M}if(_.eat(40)&&_.eat(63)){var j=!1;if(this.options.ecmaVersion>=9&&(j=_.eat(60)),_.eat(61)||_.eat(33))return this.regexp_disjunction(_),_.eat(41)||_.raise("Unterminated group"),_.lastAssertionIsQuantifiable=!j,!0}return _.pos=M,!1},ce.regexp_eatQuantifier=function(_,M){return void 0===M&&(M=!1),!!this.regexp_eatQuantifierPrefix(_,M)&&(_.eat(63),!0)},ce.regexp_eatQuantifierPrefix=function(_,M){return _.eat(42)||_.eat(43)||_.eat(63)||this.regexp_eatBracedQuantifier(_,M)},ce.regexp_eatBracedQuantifier=function(_,M){var j=_.pos;if(_.eat(123)){var W=0,J=-1;if(this.regexp_eatDecimalDigits(_)&&(W=_.lastIntValue,_.eat(44)&&this.regexp_eatDecimalDigits(_)&&(J=_.lastIntValue),_.eat(125)))return-1!==J&&J<W&&!M&&_.raise("numbers out of order in {} quantifier"),!0;_.switchU&&!M&&_.raise("Incomplete quantifier"),_.pos=j}return!1},ce.regexp_eatAtom=function(_){return this.regexp_eatPatternCharacters(_)||_.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_)||this.regexp_eatCharacterClass(_)||this.regexp_eatUncapturingGroup(_)||this.regexp_eatCapturingGroup(_)},ce.regexp_eatReverseSolidusAtomEscape=function(_){var M=_.pos;if(_.eat(92)){if(this.regexp_eatAtomEscape(_))return!0;_.pos=M}return!1},ce.regexp_eatUncapturingGroup=function(_){var M=_.pos;if(_.eat(40)){if(_.eat(63)&&_.eat(58)){if(this.regexp_disjunction(_),_.eat(41))return!0;_.raise("Unterminated group")}_.pos=M}return!1},ce.regexp_eatCapturingGroup=function(_){if(_.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(_):63===_.current()&&_.raise("Invalid group"),this.regexp_disjunction(_),_.eat(41))return _.numCapturingParens+=1,!0;_.raise("Unterminated group")}return!1},ce.regexp_eatExtendedAtom=function(_){return _.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_)||this.regexp_eatCharacterClass(_)||this.regexp_eatUncapturingGroup(_)||this.regexp_eatCapturingGroup(_)||this.regexp_eatInvalidBracedQuantifier(_)||this.regexp_eatExtendedPatternCharacter(_)},ce.regexp_eatInvalidBracedQuantifier=function(_){return this.regexp_eatBracedQuantifier(_,!0)&&_.raise("Nothing to repeat"),!1},ce.regexp_eatSyntaxCharacter=function(_){var M=_.current();return!!De(M)&&(_.lastIntValue=M,_.advance(),!0)},ce.regexp_eatPatternCharacters=function(_){for(var M=_.pos,j=0;-1!==(j=_.current())&&!De(j);)_.advance();return _.pos!==M},ce.regexp_eatExtendedPatternCharacter=function(_){var M=_.current();return!(-1===M||36===M||M>=40&&M<=43||46===M||63===M||91===M||94===M||124===M||(_.advance(),0))},ce.regexp_groupSpecifier=function(_){if(_.eat(63)){if(this.regexp_eatGroupName(_))return-1!==_.groupNames.indexOf(_.lastStringValue)&&_.raise("Duplicate capture group name"),void _.groupNames.push(_.lastStringValue);_.raise("Invalid group")}},ce.regexp_eatGroupName=function(_){if(_.lastStringValue="",_.eat(60)){if(this.regexp_eatRegExpIdentifierName(_)&&_.eat(62))return!0;_.raise("Invalid capture group name")}return!1},ce.regexp_eatRegExpIdentifierName=function(_){if(_.lastStringValue="",this.regexp_eatRegExpIdentifierStart(_)){for(_.lastStringValue+=Oe(_.lastIntValue);this.regexp_eatRegExpIdentifierPart(_);)_.lastStringValue+=Oe(_.lastIntValue);return!0}return!1},ce.regexp_eatRegExpIdentifierStart=function(_){var M=_.pos,j=this.options.ecmaVersion>=11,W=_.current(j);return _.advance(j),92===W&&this.regexp_eatRegExpUnicodeEscapeSequence(_,j)&&(W=_.lastIntValue),function ke(_){return En(_,!0)||36===_||95===_}(W)?(_.lastIntValue=W,!0):(_.pos=M,!1)},ce.regexp_eatRegExpIdentifierPart=function(_){var M=_.pos,j=this.options.ecmaVersion>=11,W=_.current(j);return _.advance(j),92===W&&this.regexp_eatRegExpUnicodeEscapeSequence(_,j)&&(W=_.lastIntValue),function Ne(_){return yn(_,!0)||36===_||95===_||8204===_||8205===_}(W)?(_.lastIntValue=W,!0):(_.pos=M,!1)},ce.regexp_eatAtomEscape=function(_){return!!(this.regexp_eatBackReference(_)||this.regexp_eatCharacterClassEscape(_)||this.regexp_eatCharacterEscape(_)||_.switchN&&this.regexp_eatKGroupName(_))||(_.switchU&&(99===_.current()&&_.raise("Invalid unicode escape"),_.raise("Invalid escape")),!1)},ce.regexp_eatBackReference=function(_){var M=_.pos;if(this.regexp_eatDecimalEscape(_)){var j=_.lastIntValue;if(_.switchU)return j>_.maxBackReference&&(_.maxBackReference=j),!0;if(j<=_.numCapturingParens)return!0;_.pos=M}return!1},ce.regexp_eatKGroupName=function(_){if(_.eat(107)){if(this.regexp_eatGroupName(_))return _.backReferenceNames.push(_.lastStringValue),!0;_.raise("Invalid named reference")}return!1},ce.regexp_eatCharacterEscape=function(_){return this.regexp_eatControlEscape(_)||this.regexp_eatCControlLetter(_)||this.regexp_eatZero(_)||this.regexp_eatHexEscapeSequence(_)||this.regexp_eatRegExpUnicodeEscapeSequence(_,!1)||!_.switchU&&this.regexp_eatLegacyOctalEscapeSequence(_)||this.regexp_eatIdentityEscape(_)},ce.regexp_eatCControlLetter=function(_){var M=_.pos;if(_.eat(99)){if(this.regexp_eatControlLetter(_))return!0;_.pos=M}return!1},ce.regexp_eatZero=function(_){return 48===_.current()&&!xt(_.lookahead())&&(_.lastIntValue=0,_.advance(),!0)},ce.regexp_eatControlEscape=function(_){var M=_.current();return 116===M?(_.lastIntValue=9,_.advance(),!0):110===M?(_.lastIntValue=10,_.advance(),!0):118===M?(_.lastIntValue=11,_.advance(),!0):102===M?(_.lastIntValue=12,_.advance(),!0):114===M&&(_.lastIntValue=13,_.advance(),!0)},ce.regexp_eatControlLetter=function(_){var M=_.current();return!!ze(M)&&(_.lastIntValue=M%32,_.advance(),!0)},ce.regexp_eatRegExpUnicodeEscapeSequence=function(_,M){void 0===M&&(M=!1);var j=_.pos,W=M||_.switchU;if(_.eat(117)){if(this.regexp_eatFixedHexDigits(_,4)){var J=_.lastIntValue;if(W&&J>=55296&&J<=56319){var pe=_.pos;if(_.eat(92)&&_.eat(117)&&this.regexp_eatFixedHexDigits(_,4)){var ye=_.lastIntValue;if(ye>=56320&&ye<=57343)return _.lastIntValue=1024*(J-55296)+(ye-56320)+65536,!0}_.pos=pe,_.lastIntValue=J}return!0}if(W&&_.eat(123)&&this.regexp_eatHexDigits(_)&&_.eat(125)&&function He(_){return _>=0&&_<=1114111}(_.lastIntValue))return!0;W&&_.raise("Invalid unicode escape"),_.pos=j}return!1},ce.regexp_eatIdentityEscape=function(_){if(_.switchU)return!!this.regexp_eatSyntaxCharacter(_)||!!_.eat(47)&&(_.lastIntValue=47,!0);var M=_.current();return!(99===M||_.switchN&&107===M||(_.lastIntValue=M,_.advance(),0))},ce.regexp_eatDecimalEscape=function(_){_.lastIntValue=0;var M=_.current();if(M>=49&&M<=57){do{_.lastIntValue=10*_.lastIntValue+(M-48),_.advance()}while((M=_.current())>=48&&M<=57);return!0}return!1},ce.regexp_eatCharacterClassEscape=function(_){var M=_.current();if(function Je(_){return 100===_||68===_||115===_||83===_||119===_||87===_}(M))return _.lastIntValue=-1,_.advance(),!0;if(_.switchU&&this.options.ecmaVersion>=9&&(80===M||112===M)){if(_.lastIntValue=-1,_.advance(),_.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(_)&&_.eat(125))return!0;_.raise("Invalid property name")}return!1},ce.regexp_eatUnicodePropertyValueExpression=function(_){var M=_.pos;if(this.regexp_eatUnicodePropertyName(_)&&_.eat(61)){var j=_.lastStringValue;if(this.regexp_eatUnicodePropertyValue(_))return this.regexp_validateUnicodePropertyNameAndValue(_,j,_.lastStringValue),!0}return _.pos=M,!!this.regexp_eatLoneUnicodePropertyNameOrValue(_)&&(this.regexp_validateUnicodePropertyNameOrValue(_,_.lastStringValue),!0)},ce.regexp_validateUnicodePropertyNameAndValue=function(_,M,j){Rn(_.unicodeProperties.nonBinary,M)||_.raise("Invalid property name"),_.unicodeProperties.nonBinary[M].test(j)||_.raise("Invalid property value")},ce.regexp_validateUnicodePropertyNameOrValue=function(_,M){_.unicodeProperties.binary.test(M)||_.raise("Invalid property name")},ce.regexp_eatUnicodePropertyName=function(_){var M=0;for(_.lastStringValue="";Vt(M=_.current());)_.lastStringValue+=Oe(M),_.advance();return""!==_.lastStringValue},ce.regexp_eatUnicodePropertyValue=function(_){var M=0;for(_.lastStringValue="";ct(M=_.current());)_.lastStringValue+=Oe(M),_.advance();return""!==_.lastStringValue},ce.regexp_eatLoneUnicodePropertyNameOrValue=function(_){return this.regexp_eatUnicodePropertyValue(_)},ce.regexp_eatCharacterClass=function(_){if(_.eat(91)){if(_.eat(94),this.regexp_classRanges(_),_.eat(93))return!0;_.raise("Unterminated character class")}return!1},ce.regexp_classRanges=function(_){for(;this.regexp_eatClassAtom(_);){var M=_.lastIntValue;if(_.eat(45)&&this.regexp_eatClassAtom(_)){var j=_.lastIntValue;_.switchU&&(-1===M||-1===j)&&_.raise("Invalid character class"),-1!==M&&-1!==j&&M>j&&_.raise("Range out of order in character class")}}},ce.regexp_eatClassAtom=function(_){var M=_.pos;if(_.eat(92)){if(this.regexp_eatClassEscape(_))return!0;if(_.switchU){var j=_.current();(99===j||it(j))&&_.raise("Invalid class escape"),_.raise("Invalid escape")}_.pos=M}var W=_.current();return 93!==W&&(_.lastIntValue=W,_.advance(),!0)},ce.regexp_eatClassEscape=function(_){var M=_.pos;if(_.eat(98))return _.lastIntValue=8,!0;if(_.switchU&&_.eat(45))return _.lastIntValue=45,!0;if(!_.switchU&&_.eat(99)){if(this.regexp_eatClassControlLetter(_))return!0;_.pos=M}return this.regexp_eatCharacterClassEscape(_)||this.regexp_eatCharacterEscape(_)},ce.regexp_eatClassControlLetter=function(_){var M=_.current();return!(!xt(M)&&95!==M||(_.lastIntValue=M%32,_.advance(),0))},ce.regexp_eatHexEscapeSequence=function(_){var M=_.pos;if(_.eat(120)){if(this.regexp_eatFixedHexDigits(_,2))return!0;_.switchU&&_.raise("Invalid escape"),_.pos=M}return!1},ce.regexp_eatDecimalDigits=function(_){var M=_.pos,j=0;for(_.lastIntValue=0;xt(j=_.current());)_.lastIntValue=10*_.lastIntValue+(j-48),_.advance();return _.pos!==M},ce.regexp_eatHexDigits=function(_){var M=_.pos,j=0;for(_.lastIntValue=0;pt(j=_.current());)_.lastIntValue=16*_.lastIntValue+ht(j),_.advance();return _.pos!==M},ce.regexp_eatLegacyOctalEscapeSequence=function(_){if(this.regexp_eatOctalDigit(_)){var M=_.lastIntValue;if(this.regexp_eatOctalDigit(_)){var j=_.lastIntValue;_.lastIntValue=M<=3&&this.regexp_eatOctalDigit(_)?64*M+8*j+_.lastIntValue:8*M+j}else _.lastIntValue=M;return!0}return!1},ce.regexp_eatOctalDigit=function(_){var M=_.current();return it(M)?(_.lastIntValue=M-48,_.advance(),!0):(_.lastIntValue=0,!1)},ce.regexp_eatFixedHexDigits=function(_,M){var j=_.pos;_.lastIntValue=0;for(var W=0;W<M;++W){var J=_.current();if(!pt(J))return _.pos=j,!1;_.lastIntValue=16*_.lastIntValue+ht(J),_.advance()}return!0};var Ht=function(M){this.type=M.type,this.value=M.value,this.start=M.start,this.end=M.end,M.options.locations&&(this.loc=new Pe(M,M.startLoc,M.endLoc)),M.options.ranges&&(this.range=[M.start,M.end])},Le=bn.prototype;function $n(_){return"function"!=typeof BigInt?null:BigInt(_.replace(/_/g,""))}Le.next=function(_){!_&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ht(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Le.getToken=function(){return this.next(),new Ht(this)},typeof Symbol<"u"&&(Le[Symbol.iterator]=function(){var _=this;return{next:function(){var M=_.getToken();return{done:M.type===Z.eof,value:M}}}}),Le.nextToken=function(){var _=this.curContext();return(!_||!_.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(Z.eof):_.override?_.override(this):void this.readToken(this.fullCharCodeAtPos())},Le.readToken=function(_){return En(_,this.options.ecmaVersion>=6)||92===_?this.readWord():this.getTokenFromCode(_)},Le.fullCharCodeAtPos=function(){var _=this.input.charCodeAt(this.pos);if(_<=55295||_>=56320)return _;var M=this.input.charCodeAt(this.pos+1);return M<=56319||M>=57344?_:(_<<10)+M-56613888},Le.skipBlockComment=function(){var _=this.options.onComment&&this.curPosition(),M=this.pos,j=this.input.indexOf("*/",this.pos+=2);if(-1===j&&this.raise(this.pos-2,"Unterminated comment"),this.pos=j+2,this.options.locations)for(var W=void 0,J=M;(W=hn(this.input,J,this.pos))>-1;)++this.curLine,J=this.lineStart=W;this.options.onComment&&this.options.onComment(!0,this.input.slice(M+2,j),M,this.pos,_,this.curPosition())},Le.skipLineComment=function(_){for(var M=this.pos,j=this.options.onComment&&this.curPosition(),W=this.input.charCodeAt(this.pos+=_);this.pos<this.input.length&&!ft(W);)W=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(M+_,this.pos),M,this.pos,j,this.curPosition())},Le.skipSpace=function(){e:for(;this.pos<this.input.length;){var _=this.input.charCodeAt(this.pos);switch(_){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(_>8&&_<14||_>=5760&&lt.test(String.fromCharCode(_))))break e;++this.pos}}},Le.finishToken=function(_,M){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var j=this.type;this.type=_,this.value=M,this.updateContext(j)},Le.readToken_dot=function(){var _=this.input.charCodeAt(this.pos+1);if(_>=48&&_<=57)return this.readNumber(!0);var M=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===_&&46===M?(this.pos+=3,this.finishToken(Z.ellipsis)):(++this.pos,this.finishToken(Z.dot))},Le.readToken_slash=function(){var _=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===_?this.finishOp(Z.assign,2):this.finishOp(Z.slash,1)},Le.readToken_mult_modulo_exp=function(_){var M=this.input.charCodeAt(this.pos+1),j=1,W=42===_?Z.star:Z.modulo;return this.options.ecmaVersion>=7&&42===_&&42===M&&(++j,W=Z.starstar,M=this.input.charCodeAt(this.pos+2)),61===M?this.finishOp(Z.assign,j+1):this.finishOp(W,j)},Le.readToken_pipe_amp=function(_){var M=this.input.charCodeAt(this.pos+1);return M===_?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Z.assign,3):this.finishOp(124===_?Z.logicalOR:Z.logicalAND,2):61===M?this.finishOp(Z.assign,2):this.finishOp(124===_?Z.bitwiseOR:Z.bitwiseAND,1)},Le.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(Z.assign,2):this.finishOp(Z.bitwiseXOR,1)},Le.readToken_plus_min=function(_){var M=this.input.charCodeAt(this.pos+1);return M===_?45!==M||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!nt.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(Z.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===M?this.finishOp(Z.assign,2):this.finishOp(Z.plusMin,1)},Le.readToken_lt_gt=function(_){var M=this.input.charCodeAt(this.pos+1),j=1;return M===_?(j=62===_&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+j)?this.finishOp(Z.assign,j+1):this.finishOp(Z.bitShift,j)):33!==M||60!==_||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===M&&(j=2),this.finishOp(Z.relational,j)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Le.readToken_eq_excl=function(_){var M=this.input.charCodeAt(this.pos+1);return 61===M?this.finishOp(Z.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===_&&62===M&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(Z.arrow)):this.finishOp(61===_?Z.eq:Z.prefix,1)},Le.readToken_question=function(){var _=this.options.ecmaVersion;if(_>=11){var M=this.input.charCodeAt(this.pos+1);if(46===M){var j=this.input.charCodeAt(this.pos+2);if(j<48||j>57)return this.finishOp(Z.questionDot,2)}if(63===M)return _>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Z.assign,3):this.finishOp(Z.coalesce,2)}return this.finishOp(Z.question,1)},Le.readToken_numberSign=function(){var M=35;if(this.options.ecmaVersion>=13&&(++this.pos,En(M=this.fullCharCodeAtPos(),!0)||92===M))return this.finishToken(Z.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Oe(M)+"'")},Le.getTokenFromCode=function(_){switch(_){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(Z.parenL);case 41:return++this.pos,this.finishToken(Z.parenR);case 59:return++this.pos,this.finishToken(Z.semi);case 44:return++this.pos,this.finishToken(Z.comma);case 91:return++this.pos,this.finishToken(Z.bracketL);case 93:return++this.pos,this.finishToken(Z.bracketR);case 123:return++this.pos,this.finishToken(Z.braceL);case 125:return++this.pos,this.finishToken(Z.braceR);case 58:return++this.pos,this.finishToken(Z.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(Z.backQuote);case 48:var M=this.input.charCodeAt(this.pos+1);if(120===M||88===M)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===M||79===M)return this.readRadixNumber(8);if(98===M||66===M)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(_);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(_);case 124:case 38:return this.readToken_pipe_amp(_);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(_);case 60:case 62:return this.readToken_lt_gt(_);case 61:case 33:return this.readToken_eq_excl(_);case 63:return this.readToken_question();case 126:return this.finishOp(Z.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Oe(_)+"'")},Le.finishOp=function(_,M){var j=this.input.slice(this.pos,this.pos+M);return this.pos+=M,this.finishToken(_,j)},Le.readRegexp=function(){for(var _,M,j=this.pos;;){this.pos>=this.input.length&&this.raise(j,"Unterminated regular expression");var W=this.input.charAt(this.pos);if(nt.test(W)&&this.raise(j,"Unterminated regular expression"),_)_=!1;else{if("["===W)M=!0;else if("]"===W&&M)M=!1;else if("/"===W&&!M)break;_="\\"===W}++this.pos}var J=this.input.slice(j,this.pos);++this.pos;var pe=this.pos,ye=this.readWord1();this.containsEsc&&this.unexpected(pe);var Re=this.regexpState||(this.regexpState=new be(this));Re.reset(j,J,ye),this.validateRegExpFlags(Re),this.validateRegExpPattern(Re);var je=null;try{je=new RegExp(J,ye)}catch{}return this.finishToken(Z.regexp,{pattern:J,flags:ye,value:je})},Le.readInt=function(_,M,j){for(var W=this.options.ecmaVersion>=12&&void 0===M,J=j&&48===this.input.charCodeAt(this.pos),pe=this.pos,ye=0,Re=0,je=0,st=M??1/0;je<st;++je,++this.pos){var kt=this.input.charCodeAt(this.pos),In=void 0;if(W&&95===kt)J&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===Re&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===je&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Re=kt;else{if((In=kt>=97?kt-97+10:kt>=65?kt-65+10:kt>=48&&kt<=57?kt-48:1/0)>=_)break;Re=kt,ye=ye*_+In}}return W&&95===Re&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===pe||null!=M&&this.pos-pe!==M?null:ye},Le.readRadixNumber=function(_){var M=this.pos;this.pos+=2;var j=this.readInt(_);return null==j&&this.raise(this.start+2,"Expected number in radix "+_),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(j=$n(this.input.slice(M,this.pos)),++this.pos):En(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Z.num,j)},Le.readNumber=function(_){var M=this.pos;!_&&null===this.readInt(10,void 0,!0)&&this.raise(M,"Invalid number");var j=this.pos-M>=2&&48===this.input.charCodeAt(M);j&&this.strict&&this.raise(M,"Invalid number");var W=this.input.charCodeAt(this.pos);if(!j&&!_&&this.options.ecmaVersion>=11&&110===W){var J=$n(this.input.slice(M,this.pos));return++this.pos,En(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Z.num,J)}j&&/[89]/.test(this.input.slice(M,this.pos))&&(j=!1),46===W&&!j&&(++this.pos,this.readInt(10),W=this.input.charCodeAt(this.pos)),(69===W||101===W)&&!j&&((43===(W=this.input.charCodeAt(++this.pos))||45===W)&&++this.pos,null===this.readInt(10)&&this.raise(M,"Invalid number")),En(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var pe=function On(_,M){return M?parseInt(_,8):parseFloat(_.replace(/_/g,""))}(this.input.slice(M,this.pos),j);return this.finishToken(Z.num,pe)},Le.readCodePoint=function(){var M;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var j=++this.pos;M=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,M>1114111&&this.invalidStringToken(j,"Code point out of bounds")}else M=this.readHexChar(4);return M},Le.readString=function(_){for(var M="",j=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var W=this.input.charCodeAt(this.pos);if(W===_)break;92===W?(M+=this.input.slice(j,this.pos),M+=this.readEscapedChar(!1),j=this.pos):8232===W||8233===W?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ft(W)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return M+=this.input.slice(j,this.pos++),this.finishToken(Z.string,M)};var Cn={};Le.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(_){if(_!==Cn)throw _;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Le.invalidStringToken=function(_,M){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Cn;this.raise(_,M)},Le.readTmplToken=function(){for(var _="",M=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var j=this.input.charCodeAt(this.pos);if(96===j||36===j&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==Z.template&&this.type!==Z.invalidTemplate?(_+=this.input.slice(M,this.pos),this.finishToken(Z.template,_)):36===j?(this.pos+=2,this.finishToken(Z.dollarBraceL)):(++this.pos,this.finishToken(Z.backQuote));if(92===j)_+=this.input.slice(M,this.pos),_+=this.readEscapedChar(!0),M=this.pos;else if(ft(j)){switch(_+=this.input.slice(M,this.pos),++this.pos,j){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:_+="\n";break;default:_+=String.fromCharCode(j)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),M=this.pos}else++this.pos}},Le.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(Z.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Le.readEscapedChar=function(_){var M=this.input.charCodeAt(++this.pos);switch(++this.pos,M){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Oe(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),_&&this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string");default:if(M>=48&&M<=55){var W=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],J=parseInt(W,8);return J>255&&(W=W.slice(0,-1),J=parseInt(W,8)),this.pos+=W.length-1,M=this.input.charCodeAt(this.pos),("0"!==W||56===M||57===M)&&(this.strict||_)&&this.invalidStringToken(this.pos-1-W.length,_?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(J)}return ft(M)?"":String.fromCharCode(M)}},Le.readHexChar=function(_){var M=this.pos,j=this.readInt(16,_);return null===j&&this.invalidStringToken(M,"Bad character escape sequence"),j},Le.readWord1=function(){this.containsEsc=!1;for(var _="",M=!0,j=this.pos,W=this.options.ecmaVersion>=6;this.pos<this.input.length;){var J=this.fullCharCodeAtPos();if(yn(J,W))this.pos+=J<=65535?1:2;else{if(92!==J)break;this.containsEsc=!0,_+=this.input.slice(j,this.pos);var pe=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var ye=this.readCodePoint();(M?En:yn)(ye,W)||this.invalidStringToken(pe,"Invalid Unicode escape"),_+=Oe(ye),j=this.pos}M=!1}return _+this.input.slice(j,this.pos)},Le.readWord=function(){var _=this.readWord1(),M=Z.name;return this.keywords.test(_)&&(M=Ze[_]),this.finishToken(M,_)};bn.acorn={Parser:bn,version:"8.8.2",defaultOptions:$e,Position:Fe,SourceLocation:Pe,getLineInfo:Bn,Node:I,TokenType:Ue,tokTypes:Z,keywordTypes:Ze,TokContext:v,tokContexts:b,isIdentifierChar:yn,isIdentifierStart:En,Token:Ht,isNewLine:ft,lineBreak:nt,lineBreakG:Zt,nonASCIIwhitespace:lt},Gt.Node=I,Gt.Parser=bn,Gt.Position=Fe,Gt.SourceLocation=Pe,Gt.TokContext=v,Gt.Token=Ht,Gt.TokenType=Ue,Gt.defaultOptions=$e,Gt.getLineInfo=Bn,Gt.isIdentifierChar=yn,Gt.isIdentifierStart=En,Gt.isNewLine=ft,Gt.keywordTypes=Ze,Gt.lineBreak=nt,Gt.lineBreakG=Zt,Gt.nonASCIIwhitespace=lt,Gt.parse=function ln(_,M){return bn.parse(_,M)},Gt.parseExpressionAt=function Nn(_,M,j){return bn.parseExpressionAt(_,M,j)},Gt.tokContexts=b,Gt.tokTypes=Z,Gt.tokenizer=function ci(_,M){return bn.tokenizer(_,M)},Gt.version="8.8.2"}(Xr)},956:function(yr,Xr,Gt){var It,Jn;(function(_i,Ee){var Me=(_i=_i||Gt(158)).window,Dt=_i.document,te=new function(){var l=/^(statics|enumerable|beans|preserve)$/,r=[],o=r.slice,u=Object.create,c=Object.getOwnPropertyDescriptor,d=Object.defineProperty,f=r.forEach||function(w,C){for(var D=0,R=this.length;D<R;D++)w.call(C,this[D],D,this)},g=function(w,C){for(var D in this)this.hasOwnProperty(D)&&w.call(C,this[D],D,this)},m=Object.assign||function(w){for(var C=1,D=arguments.length;C<D;C++){var R=arguments[C];for(var k in R)R.hasOwnProperty(k)&&(w[k]=R[k])}return w},v=function(w,C,D){if(w){var R=c(w,"length");(R&&"number"==typeof R.value?f:g).call(w,C,D=D||w)}return D};function b(w,C,D,R,k){var P={};function I(L,N){"string"==typeof(N=N||(N=c(C,L))&&(N.get?N:N.value))&&"#"===N[0]&&(N=w[N.substring(1)]||N);var G,B="function"==typeof N,V=N,H=k||B&&!N.base?N&&N.get?L in w:w[L]:null;(!k||!H)&&(B&&H&&(N.base=H),B&&!1!==R&&(G=L.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(P[G[3].toLowerCase()+G[4]]=G[2]),(!V||B||!V.get||"function"!=typeof V.get||!x.isPlainObject(V))&&(V={value:V,writable:!0}),(c(w,L)||{configurable:!0}).configurable&&(V.configurable=!0,V.enumerable=D??!G),d(w,L,V))}if(C){for(var E in C)C.hasOwnProperty(E)&&!l.test(E)&&I(E);for(var E in P){var S=P[E],A=w["set"+S],O=w["get"+S]||A&&w["is"+S];O&&(!0===R||0===O.length)&&I(E,{get:O,set:A})}}return w}function x(){for(var w=0,C=arguments.length;w<C;w++){var D=arguments[w];D&&m(this,D)}return this}return b(x,{inject:function(w){if(w){var C=!0===w.statics?w:w.statics,D=w.beans,R=w.preserve;C!==w&&b(this.prototype,w,w.enumerable,D,R),b(this,C,null,D,R)}for(var k=1,P=arguments.length;k<P;k++)this.inject(arguments[k]);return this},extend:function(){for(var C,D,k,w=this,R=0,P=arguments.length;R<P&&(!C||!D);R++)k=arguments[R],C=C||k.initialize,D=D||k.prototype;return C=C||function(){w.apply(this,arguments)},D=C.prototype=D||u(this.prototype),d(D,"constructor",{value:C,writable:!0,configurable:!0}),b(C,this),arguments.length&&this.inject.apply(C,arguments),C.base=w,C}}).inject({enumerable:!1,initialize:x,set:x,inject:function(){for(var w=0,C=arguments.length;w<C;w++){var D=arguments[w];D&&b(this,D,D.enumerable,D.beans,D.preserve)}return this},extend:function(){var w=u(this);return w.inject.apply(w,arguments)},each:function(w,C){return v(this,w,C)},clone:function(){return new this.constructor(this)},statics:{set:m,each:v,create:u,define:d,describe:c,clone:function(w){return m(new w.constructor,w)},isPlainObject:function(w){var C=null!=w&&w.constructor;return C&&(C===Object||C===x||"Object"===C.name)},pick:function(w,C){return w!==Ee?w:C},slice:function(w,C,D){return o.call(w,C,D)}}})};yr.exports=te,te.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+te.each(this,function(l,r){if(!/^_/.test(r)){var o=typeof l;this.push(r+": "+("number"===o?yn.instance.number(l):"string"===o?"'"+l+"'":l))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(l){return te.importJSON(l,this)},exportJSON:function(l){return te.exportJSON(this,l)},toJSON:function(){return te.serialize(this)},set:function(l,r){return l&&te.filter(this,l,r,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function l(){var r=l.base.apply(this,arguments),o=r.prototype._class;return o&&!te.exports[o]&&(te.exports[o]=r),r},equals:function(l,r){if(l===r)return!0;if(l&&l.equals)return l.equals(r);if(r&&r.equals)return r.equals(l);if(l&&r&&"object"==typeof l&&"object"==typeof r){if(Array.isArray(l)&&Array.isArray(r)){if((o=l.length)!==r.length)return!1;for(;o--;)if(!te.equals(l[o],r[o]))return!1}else{var o,u=Object.keys(l);if((o=u.length)!==Object.keys(r).length)return!1;for(;o--;){var c=u[o];if(!r.hasOwnProperty(c)||!te.equals(l[c],r[c]))return!1}}return!0}return!1},read:function(l,r,o,u){if(this===te){var c=this.peek(l,r);return l.__index++,c}var d=this.prototype,f=d._readIndex,g=r||f&&l.__index||0,m=l.length,v=l[g];if(u=u||m-g,v instanceof this||o&&o.readNull&&null==v&&u<=1)return f&&(l.__index=g+1),v&&o&&o.clone?v.clone():v;if(v=te.create(d),f&&(v.__read=!0),v=v.initialize.apply(v,g>0||g+u<m?te.slice(l,g,g+u):l)||v,f){l.__index=g+v.__read;var b=v.__filtered;b&&(l.__filtered=b,v.__filtered=Ee),v.__read=Ee}return v},peek:function(l,r){return l[l.__index=r||l.__index||0]},remain:function(l){return l.length-(l.__index||0)},readList:function(l,r,o,u){for(var d,c=[],f=r||0,g=u?f+u:l.length,m=f;m<g;m++)c.push(Array.isArray(d=l[m])?this.read(d,0,o):this.read(l,m,o,1));return c},readNamed:function(l,r,o,u,c){var d=this.getNamed(l,r),f=d!==Ee;if(f){var g=l.__filtered;if(!g){var m=this.getSource(l);(g=l.__filtered=te.create(m)).__unfiltered=m}g[r]=Ee}return this.read(f?[d]:l,o,u,c)},readSupported:function(l,r){var o=this.getSource(l),u=this,c=!1;return o&&Object.keys(o).forEach(function(d){if(d in r){var f=u.readNamed(l,d);f!==Ee&&(r[d]=f),c=!0}}),c},getSource:function(l){var r=l.__source;if(r===Ee){var o=1===l.length&&l[0];r=l.__source=o&&te.isPlainObject(o)?o:null}return r},getNamed:function(l,r){var o=this.getSource(l);if(o)return r?o[r]:l.__filtered||o},hasNamed:function(l,r){return!!this.getNamed(l,r)},filter:function(l,r,o,u){var c;function d(b){if(!(o&&b in o||c&&b in c)){var x=r[b];x!==Ee&&(l[b]=x)}}if(u){for(var m,f={},g=0,v=u.length;g<v;g++)(m=u[g])in r&&(d(m),f[m]=!0);c=f}return Object.keys(r.__unfiltered||r).forEach(d),l},isPlainValue:function(l,r){return te.isPlainObject(l)||Array.isArray(l)||r&&"string"==typeof l},serialize:function(l,r,o,u){r=r||{};var d,c=!u;if(c&&(r.formatter=new yn(r.precision),u={length:0,definitions:{},references:{},add:function(x,w){var C="#"+x._id,D=this.references[C];if(!D){this.length++;var R=w.call(x),k=x._class;k&&R[0]!==k&&R.unshift(k),this.definitions[C]=R,D=this.references[C]=[C]}return D}}),l&&l._serialize){d=l._serialize(r,u);var f=l._class;f&&!l._compactSerialize&&(c||!o)&&d[0]!==f&&d.unshift(f)}else if(Array.isArray(l)){d=[];for(var g=0,m=l.length;g<m;g++)d[g]=te.serialize(l[g],r,o,u)}else if(te.isPlainObject(l)){d={};var v=Object.keys(l);for(g=0,m=v.length;g<m;g++){var b=v[g];d[b]=te.serialize(l[b],r,o,u)}}else d="number"==typeof l?r.formatter.number(l,r.precision):l;return c&&u.length>0?[["dictionary",u.definitions],d]:d},deserialize:function(l,r,o,u,c){var d=l,f=!o,g=f&&l&&l.length&&"dictionary"===l[0][0];if(o=o||{},Array.isArray(l)){var m=l[0],v="dictionary"===m;if(1==l.length&&/^#/.test(m))return o.dictionary[m];d=[];for(var b=(m=te.exports[m])?1:0,x=l.length;b<x;b++)d.push(te.deserialize(l[b],r,o,v,g));if(m){var w=d;d=r?r(m,w,f||c):new m(w)}}else if(te.isPlainObject(l))for(var C in d={},u&&(o.dictionary=d),l)d[C]=te.deserialize(l[C],r,o);return g?d[1]:d},exportJSON:function(l,r){var o=te.serialize(l,r);return r&&0==r.asString?o:JSON.stringify(o)},importJSON:function(l,r){return te.deserialize("string"==typeof l?JSON.parse(l):l,function(o,u,c){var d=c&&r&&r.constructor===o,f=d?r:te.create(o.prototype);if(1===u.length&&f instanceof lt&&(d||!(f instanceof Un))){var g=u[0];te.isPlainObject(g)&&(g.insert=!1,d&&(u=u.concat([lt.INSERT])))}return(d?f.set:o).apply(f,u),d&&(r=null),f})},push:function(l,r){var o=r.length;if(o<4096)l.push.apply(l,r);else{var u=l.length;l.length+=o;for(var c=0;c<o;c++)l[u+c]=r[c]}return l},splice:function(l,r,o,u){var c=r&&r.length,d=o===Ee;(o=d?l.length:o)>l.length&&(o=l.length);for(var f=0;f<c;f++)r[f]._index=o+f;if(d)return te.push(l,r),[];var g=[o,u];r&&te.push(g,r);for(var m=l.splice.apply(l,g),v=(f=0,m.length);f<v;f++)m[f]._index=Ee;for(f=o+c,v=l.length;f<v;f++)l[f]._index=f;return m},capitalize:function(l){return l.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(l){return l.replace(/-(.)/g,function(r,o){return o.toUpperCase()})},hyphenate:function(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var re={on:function(l,r){if("string"!=typeof l)te.each(l,function(d,f){this.on(f,d)},this);else{var o=this._eventTypes,u=o&&o[l],c=this._callbacks=this._callbacks||{};-1===(c=c[l]=c[l]||[]).indexOf(r)&&(c.push(r),u&&u.install&&1===c.length&&u.install.call(this,l))}return this},off:function(l,r){if("string"==typeof l){var d,o=this._eventTypes,u=o&&o[l],c=this._callbacks&&this._callbacks[l];return c&&(!r||-1!==(d=c.indexOf(r))&&1===c.length?(u&&u.uninstall&&u.uninstall.call(this,l),delete this._callbacks[l]):-1!==d&&c.splice(d,1)),this}te.each(l,function(f,g){this.off(g,f)},this)},once:function(l,r){return this.on(l,function o(){r.apply(this,arguments),this.off(l,o)})},emit:function(l,r){var o=this._callbacks&&this._callbacks[l];if(!o)return!1;var u=te.slice(arguments,1),c=r&&r.target&&!r.currentTarget;o=o.slice(),c&&(r.currentTarget=this);for(var d=0,f=o.length;d<f;d++)if(0==o[d].apply(this,u)){r&&r.stop&&r.stop();break}return c&&delete r.currentTarget,!0},responds:function(l){return!(!this._callbacks||!this._callbacks[l])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(l){var r=this._eventTypes,o=this._callbacks,u=l?"install":"uninstall";if(r)for(var c in o)if(o[c].length>0){var d=r[c],f=d&&d[u];f&&f.call(this,c)}},statics:{inject:function l(r){var o=r._events;if(o){var u={};te.each(o,function(c,d){var f="string"==typeof c,g=f?c:d,m=te.capitalize(g),v=g.substring(2).toLowerCase();u[v]=f?{}:c,g="_"+g,r["get"+m]=function(){return this[g]},r["set"+m]=function(b){var x=this[g];x&&this.off(v,x),b&&this.on(v,b),this[g]=b}}),r._eventTypes=u}return l.base.apply(this,arguments)}}},li=te.extend({_class:"PaperScope",initialize:function l(){Ve=this,this.settings=new te({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=l._id++,l._scopes[this._id]=this;var r=l.prototype;if(!this.support){var o=Kt.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in o||"mozDash"in o,nativeBlendModes:Bt.nativeModes},Kt.release(o)}if(!this.agent){var u=_i.navigator.userAgent.toLowerCase(),c=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(u)||[])[0],d="darwin"===c?"mac":c,f=r.agent=r.browser={platform:d};d&&(f[d]=!0),u.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(g,m,v,b,x){if(!f.chrome){var w="opera"===m?b:/^(node|trident)$/.test(m)?x:v;f.version=w,f.versionNumber=parseFloat(w),f.name=m={trident:"msie",jsdom:"node"}[m]||m,f[m]=!0}}),f.chrome&&delete f.webkit,f.atom&&delete f.chrome}},version:"0.12.17",getView:function(){var l=this.project;return l&&l._view},getPaper:function(){return this},execute:function(l,r){},install:function(l){var r=this;for(var o in te.each(["project","view","tool"],function(u){te.define(l,u,{configurable:!0,get:function(){return r[u]}})}),this)!/^_/.test(o)&&this[o]&&(l[o]=this[o])},setup:function(l){return Ve=this,this.project=new hn(l),this},createCanvas:function(l,r){return Kt.getCanvas(l,r)},activate:function(){Ve=this},clear:function(){for(var l=this.projects,r=this.tools,o=l.length-1;o>=0;o--)l[o].remove();for(o=r.length-1;o>=0;o--)r[o].remove()},remove:function(){this.clear(),delete li._scopes[this._id]},statics:new function(){function l(r){return r+="Attribute",function(o,u){return o[r](u)||o[r]("data-paper-"+u)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:l("get"),hasAttribute:l("has")}}}),kn=te.extend(re,{initialize:function(l){this._scope=Ve,this._index=this._scope[this._list].push(this)-1,(l||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var l=this._scope[this._reference];return l&&l!==this&&l.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",l),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(te.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),En={findItemBoundsCollisions:function(l,r,o){function u(f){for(var g=new Array(f.length),m=0;m<f.length;m++){var v=f[m].getBounds();g[m]=[v.left,v.top,v.right,v.bottom]}return g}var c=u(l),d=r&&r!==l?u(r):c;return this.findBoundsCollisions(c,d,o||0)},findCurveBoundsCollisions:function(l,r,o,u){function c(w){for(var C=Math.min,D=Math.max,R=new Array(w.length),k=0;k<w.length;k++){var P=w[k];R[k]=[C(P[0],P[2],P[4],P[6]),C(P[1],P[3],P[5],P[7]),D(P[0],P[2],P[4],P[6]),D(P[1],P[3],P[5],P[7])]}return R}var d=c(l),f=r&&r!==l?c(r):d;if(u){for(var g=this.findBoundsCollisions(d,f,o||0,!1,!0),m=this.findBoundsCollisions(d,f,o||0,!0,!0),v=[],b=0,x=g.length;b<x;b++)v[b]={hor:g[b],ver:m[b]};return v}return this.findBoundsCollisions(d,f,o||0)},findBoundsCollisions:function(l,r,o,u,c){var d=!r||l===r,f=d?l:l.concat(r),g=l.length,m=f.length;function v(ue,fe,ve){for(var _e=0,he=ue.length;_e<he;){var de=he+_e>>>1;f[ue[de]][fe]<ve?_e=de+1:he=de}return _e-1}for(var b=u?1:0,x=b+2,w=u?0:1,C=w+2,D=new Array(m),R=0;R<m;R++)D[R]=R;D.sort(function(ue,fe){return f[ue][b]-f[fe][b]});var k=[],P=new Array(g);for(R=0;R<m;R++){var I=D[R],E=f[I],S=d?I:I-g,A=I<g,O=d||!A,L=A?[]:null;if(k.length){var N=v(k,x,E[b]-o)+1;if(k.splice(0,N),d&&c){L=L.concat(k);for(var B=0;B<k.length;B++)P[V=k[B]].push(S)}else{var H=E[C],G=E[w];for(B=0;B<k.length;B++){var V,U=f[V=k[B]],$=V<g,q=d||V>=g;(c||(A&&q||O&&$)&&H>=U[w]-o&&G<=U[C]+o)&&(A&&q&&L.push(d?V:V-g),O&&$&&P[V].push(S))}}}if(A&&(l===r&&L.push(I),P[I]=L),k.length){var X=v(k,x,E[x]);k.splice(X+1,0,I)}else k.push(I)}for(R=0;R<P.length;R++){var ee=P[R];ee&&ee.sort(function(fe,ve){return fe-ve})}return P}},yn=te.extend({initialize:function(l){this.precision=te.pick(l,5),this.multiplier=Math.pow(10,this.precision)},number:function(l){return this.precision<16?Math.round(l*this.multiplier)/this.multiplier:l},pair:function(l,r,o){return this.number(l)+(o||",")+this.number(r)},point:function(l,r){return this.number(l.x)+(r||",")+this.number(l.y)},size:function(l,r){return this.number(l.width)+(r||",")+this.number(l.height)},rectangle:function(l,r){return this.point(l,r)+(r||",")+this.size(l,r)}});yn.instance=new yn;var Ue=new function(){var l=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],o=Math.abs,u=Math.sqrt,c=Math.pow,d=Math.log2||function(x){return Math.log(x)*Math.LOG2E},f=1e-12,g=112e-18;function m(x,w,C){return x<w?w:x>C?C:x}function v(x,w,C){function D(N){var B=134217729*N,H=N-B+B;return[H,N-H]}var R=w*w-x*C,k=w*w+x*C;if(3*o(R)<k){var P=D(x),I=D(w),E=D(C),S=w*w,O=x*C;R=S-O+(I[0]*I[0]-S+2*I[0]*I[1]+I[1]*I[1]-(P[0]*E[0]-O+P[0]*E[1]+P[1]*E[0]+P[1]*E[1]))}return R}function b(){var x=Math.max.apply(Math,arguments);return x&&(x<1e-8||x>1e8)?c(2,-Math.round(d(x))):0}return{EPSILON:f,MACHINE_EPSILON:g,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(u(2)-1)/3,isZero:function(x){return x>=-f&&x<=f},isMachineZero:function(x){return x>=-g&&x<=g},clamp:m,integrate:function(x,w,C,D){for(var R=l[D-2],k=r[D-2],P=.5*(C-w),I=P+w,E=0,S=D+1>>1,A=1&D?k[E++]*x(I):0;E<S;){var O=P*R[E];A+=k[E++]*(x(I+O)+x(I-O))}return P*A},findRoot:function(x,w,C,D,R,k,P){for(var I=0;I<k;I++){var E=x(C),S=E/w(C),A=C-S;if(o(S)<P){C=A;break}E>0?(R=C,C=A<=D?.5*(D+R):A):(D=C,C=A>=R?.5*(D+R):A)}return m(C,D,R)},solveQuadratic:function(x,w,C,D,R,k){var P,I=1/0;if(o(x)<f){if(o(w)<f)return o(C)<f?-1:0;P=-C/w}else{var E=v(x,w*=-.5,C);if(E&&o(E)<g){var S=b(o(x),o(w),o(C));S&&(E=v(x*=S,w*=S,C*=S))}if(E>=-g){var A=E<0?0:u(E),O=w+(w<0?-A:A);0===O?I=-(P=C/x):(P=O/x,I=C/O)}}var L=0,N=null==R,B=R-f,V=k+f;return isFinite(P)&&(N||P>B&&P<V)&&(D[L++]=N?P:m(P,R,k)),I!==P&&isFinite(I)&&(N||I>B&&I<V)&&(D[L++]=N?I:m(I,R,k)),L},solveCubic:function(x,w,C,D,R,k,P){var E,S,A,O,L,I=b(o(x),o(w),o(C),o(D));function N(X){var ee=x*(E=X);O=(ee+(S=ee+w))*E+(A=S*E+C),L=A*E+D}if(I&&(x*=I,w*=I,C*=I,D*=I),o(x)<f)x=w,S=C,A=D,E=1/0;else if(o(D)<f)S=w,A=C,E=0;else{N(-w/x/3);var B=L/x,V=c(o(B),1/3),H=B<0?-1:1,G=-O/x,U=G>0?1.324717957244746*Math.max(V,u(G)):V,$=E-H*U;if($!==E){do{N($),$=0===O?E:E-L/O/(1+g)}while(H*$>H*E);o(x)*E*E>o(D/E)&&(S=((A=-D/E)-C)/E)}}var q=Ue.solveQuadratic(x,S,A,R,k,P),K=null==k;return isFinite(E)&&(0===q||q>0&&E!==R[0]&&E!==R[1])&&(K||E>k-f&&E<P+f)&&(R[q++]=K?E:m(E,k,P)),q}}},gt={_id:1,_pools:{},get:function(l){if(l){var r=this._pools[l];return r||(r=this._pools[l]={_id:1}),r._id++}return this._id++}},ae=te.extend({_class:"Point",_readIndex:!0,initialize:function(r,o){var u=typeof r,c=this.__read,d=0;if("number"===u){var f="number"==typeof o;this._set(r,f?o:r),c&&(d=f?2:1)}else if("undefined"===u||null===r)this._set(0,0),c&&(d=null===r?1:0);else{var g="string"===u?r.split(/[\s,]+/)||[]:r;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"x"in g?this._set(g.x||0,g.y||0):"width"in g?this._set(g.width||0,g.height||0):"angle"in g?(this._set(g.length||0,0),this.setAngle(g.angle||0)):(this._set(0,0),d=0)}return c&&(this.__read=d),this},set:"#initialize",_set:function(l,r){return this.x=l,this.y=r,this},equals:function(l){return this===l||l&&(this.x===l.x&&this.y===l.y||Array.isArray(l)&&this.x===l[0]&&this.y===l[1])||!1},clone:function(){return new ae(this.x,this.y)},toString:function(){var l=yn.instance;return"{ x: "+l.number(this.x)+", y: "+l.number(this.y)+" }"},_serialize:function(l){var r=l.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(l){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*l,Math.sin(r)*l)}else{var o=l/this.getLength();Ue.isZero(o)&&this.getAngle(),this._set(this.x*o,this.y*o)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(l){this.setAngleInRadians.call(this,l*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var l=ae.read(arguments),r=this.getLength()*l.getLength();if(Ue.isZero(r))return NaN;var o=this.dot(l)/r;return Math.acos(o<-1?-1:o>1?1:o)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(l){if(this._angle=l,!this.isZero()){var r=this.getLength();this._set(Math.cos(l)*r,Math.sin(l)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var l=ae.read(arguments);return 180*Math.atan2(this.cross(l),this.dot(l))/Math.PI},getDistance:function(){var l=arguments,r=ae.read(l),o=r.x-this.x,u=r.y-this.y,c=o*o+u*u;return te.read(l)?c:Math.sqrt(c)},normalize:function(l){l===Ee&&(l=1);var r=this.getLength(),o=0!==r?l/r:0,u=new ae(this.x*o,this.y*o);return o>=0&&(u._angle=this._angle),u},rotate:function(l,r){if(0===l)return this.clone();l=l*Math.PI/180;var o=r?this.subtract(r):this,u=Math.sin(l),c=Math.cos(l);return o=new ae(o.x*c-o.y*u,o.x*u+o.y*c),r?o.add(r):o},transform:function(l){return l?l._transformPoint(this):this},add:function(){var l=ae.read(arguments);return new ae(this.x+l.x,this.y+l.y)},subtract:function(){var l=ae.read(arguments);return new ae(this.x-l.x,this.y-l.y)},multiply:function(){var l=ae.read(arguments);return new ae(this.x*l.x,this.y*l.y)},divide:function(){var l=ae.read(arguments);return new ae(this.x/l.x,this.y/l.y)},modulo:function(){var l=ae.read(arguments);return new ae(this.x%l.x,this.y%l.y)},negate:function(){return new ae(-this.x,-this.y)},isInside:function(){return Z.read(arguments).contains(this)},isClose:function(){var l=arguments,r=ae.read(l),o=te.read(l);return this.getDistance(r)<=o},isCollinear:function(){var l=ae.read(arguments);return ae.isCollinear(this.x,this.y,l.x,l.y)},isColinear:"#isCollinear",isOrthogonal:function(){var l=ae.read(arguments);return ae.isOrthogonal(this.x,this.y,l.x,l.y)},isZero:function(){var l=Ue.isZero;return l(this.x)&&l(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(l){return this.x*(l>1&&l<4?-1:1)>=0&&this.y*(l>2?-1:1)>=0},dot:function(){var l=ae.read(arguments);return this.x*l.x+this.y*l.y},cross:function(){var l=ae.read(arguments);return this.x*l.y-this.y*l.x},project:function(){var l=ae.read(arguments),r=l.isZero()?0:this.dot(l)/l.dot(l);return new ae(l.x*r,l.y*r)},statics:{min:function(){var l=arguments,r=ae.read(l),o=ae.read(l);return new ae(Math.min(r.x,o.x),Math.min(r.y,o.y))},max:function(){var l=arguments,r=ae.read(l),o=ae.read(l);return new ae(Math.max(r.x,o.x),Math.max(r.y,o.y))},random:function(){return new ae(Math.random(),Math.random())},isCollinear:function(l,r,o,u){return Math.abs(l*u-r*o)<=1e-8*Math.sqrt((l*l+r*r)*(o*o+u*u))},isOrthogonal:function(l,r,o,u){return Math.abs(l*o+r*u)<=1e-8*Math.sqrt((l*l+r*r)*(o*o+u*u))}}},te.each(["round","ceil","floor","abs"],function(l){var r=Math[l];this[l]=function(){return new ae(r(this.x),r(this.y))}},{})),se=ae.extend({initialize:function(r,o,u,c){this._x=r,this._y=o,this._owner=u,this._setter=c},_set:function(l,r,o){return this._x=l,this._y=r,o||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(l){this._x=l,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(l){this._y=l,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(l){this._owner._changeSelection(this._getSelection(),l)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),Ze=te.extend({_class:"Size",_readIndex:!0,initialize:function(r,o){var u=typeof r,c=this.__read,d=0;if("number"===u){var f="number"==typeof o;this._set(r,f?o:r),c&&(d=f?2:1)}else if("undefined"===u||null===r)this._set(0,0),c&&(d=null===r?1:0);else{var g="string"===u?r.split(/[\s,]+/)||[]:r;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"width"in g?this._set(g.width||0,g.height||0):"x"in g?this._set(g.x||0,g.y||0):(this._set(0,0),d=0)}return c&&(this.__read=d),this},set:"#initialize",_set:function(l,r){return this.width=l,this.height=r,this},equals:function(l){return l===this||l&&(this.width===l.width&&this.height===l.height||Array.isArray(l)&&this.width===l[0]&&this.height===l[1])||!1},clone:function(){return new Ze(this.width,this.height)},toString:function(){var l=yn.instance;return"{ width: "+l.number(this.width)+", height: "+l.number(this.height)+" }"},_serialize:function(l){var r=l.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var l=Ze.read(arguments);return new Ze(this.width+l.width,this.height+l.height)},subtract:function(){var l=Ze.read(arguments);return new Ze(this.width-l.width,this.height-l.height)},multiply:function(){var l=Ze.read(arguments);return new Ze(this.width*l.width,this.height*l.height)},divide:function(){var l=Ze.read(arguments);return new Ze(this.width/l.width,this.height/l.height)},modulo:function(){var l=Ze.read(arguments);return new Ze(this.width%l.width,this.height%l.height)},negate:function(){return new Ze(-this.width,-this.height)},isZero:function(){var l=Ue.isZero;return l(this.width)&&l(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(l,r){return new Ze(Math.min(l.width,r.width),Math.min(l.height,r.height))},max:function(l,r){return new Ze(Math.max(l.width,r.width),Math.max(l.height,r.height))},random:function(){return new Ze(Math.random(),Math.random())}}},te.each(["round","ceil","floor","abs"],function(l){var r=Math[l];this[l]=function(){return new Ze(r(this.width),r(this.height))}},{})),Ae=Ze.extend({initialize:function(r,o,u,c){this._width=r,this._height=o,this._owner=u,this._setter=c},_set:function(l,r,o){return this._width=l,this._height=r,o||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(l){this._width=l,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(l){this._height=l,this._owner[this._setter](this)}}),Z=te.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(r,o,u,c){var g,d=arguments,f=typeof r;if("number"===f?(this._set(r,o,u,c),g=4):"undefined"===f||null===r?(this._set(0,0,0,0),g=null===r?1:0):1===d.length&&(Array.isArray(r)?(this._set.apply(this,r),g=1):r.x!==Ee||r.width!==Ee?(this._set(r.x||0,r.y||0,r.width||0,r.height||0),g=1):r.from===Ee&&r.to===Ee&&(this._set(0,0,0,0),te.readSupported(d,this)&&(g=1))),g===Ee){var w,C,m=ae.readNamed(d,"from"),v=te.peek(d),b=m.x,x=m.y;if(v&&v.x!==Ee||te.hasNamed(d,"to")){var D=ae.readNamed(d,"to");(w=D.x-b)<0&&(b=D.x,w=-w),(C=D.y-x)<0&&(x=D.y,C=-C)}else{var R=Ze.read(d);w=R.width,C=R.height}this._set(b,x,w,C),g=d.__index}var k=d.__filtered;return k&&(this.__filtered=k),this.__read&&(this.__read=g),this},set:"#initialize",_set:function(l,r,o,u){return this.x=l,this.y=r,this.width=o,this.height=u,this},clone:function(){return new Z(this.x,this.y,this.width,this.height)},equals:function(l){var r=te.isPlainValue(l)?Z.read(arguments):l;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var l=yn.instance;return"{ x: "+l.number(this.x)+", y: "+l.number(this.y)+", width: "+l.number(this.width)+", height: "+l.number(this.height)+" }"},_serialize:function(l){var r=l.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(l){return new(l?ae:se)(this.x,this.y,this,"setPoint")},setPoint:function(){var l=ae.read(arguments);this.x=l.x,this.y=l.y},getSize:function(l){return new(l?Ze:Ae)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var l=Ze.read(arguments),r=this._sx,o=this._sy,u=l.width,c=l.height;r&&(this.x+=(this.width-u)*r),o&&(this.y+=(this.height-c)*o),this.width=u,this.height=c,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(l){if(!this._fw){var r=l-this.x;this.width-=.5===this._sx?2*r:r}this.x=l,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(l){if(!this._fh){var r=l-this.y;this.height-=.5===this._sy?2*r:r}this.y=l,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(l){if(!this._fw){var r=l-this.x;this.width=.5===this._sx?2*r:r}this.x=l-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(l){if(!this._fh){var r=l-this.y;this.height=.5===this._sy?2*r:r}this.y=l-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(l){this._fw||.5===this._sx?this.x=l-this.width/2:(this._sx&&(this.x+=2*(l-this.x)*this._sx),this.width=2*(l-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(l){this._fh||.5===this._sy?this.y=l-this.height/2:(this._sy&&(this.y+=2*(l-this.y)*this._sy),this.height=2*(l-this.y)),this._sy=.5,this._fh=0},getCenter:function(l){return new(l?ae:se)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var l=ae.read(arguments);return this.setCenterX(l.x),this.setCenterY(l.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(l){return l&&l.width!==Ee||4===(Array.isArray(l)?l:arguments).length?this._containsRectangle(Z.read(arguments)):this._containsPoint(ae.read(arguments))},_containsPoint:function(l){var r=l.x,o=l.y;return r>=this.x&&o>=this.y&&r<=this.x+this.width&&o<=this.y+this.height},_containsRectangle:function(l){var r=l.x,o=l.y;return r>=this.x&&o>=this.y&&r+l.width<=this.x+this.width&&o+l.height<=this.y+this.height},intersects:function(){var l=Z.read(arguments),r=te.read(arguments)||0;return l.x+l.width>this.x-r&&l.y+l.height>this.y-r&&l.x<this.x+this.width+r&&l.y<this.y+this.height+r},intersect:function(){var l=Z.read(arguments),r=Math.max(this.x,l.x),o=Math.max(this.y,l.y),u=Math.min(this.x+this.width,l.x+l.width),c=Math.min(this.y+this.height,l.y+l.height);return new Z(r,o,u-r,c-o)},unite:function(){var l=Z.read(arguments),r=Math.min(this.x,l.x),o=Math.min(this.y,l.y),u=Math.max(this.x+this.width,l.x+l.width),c=Math.max(this.y+this.height,l.y+l.height);return new Z(r,o,u-r,c-o)},include:function(){var l=ae.read(arguments),r=Math.min(this.x,l.x),o=Math.min(this.y,l.y),u=Math.max(this.x+this.width,l.x),c=Math.max(this.y+this.height,l.y);return new Z(r,o,u-r,c-o)},expand:function(){var l=Ze.read(arguments),r=l.width,o=l.height;return new Z(this.x-r/2,this.y-o/2,this.width+r,this.height+o)},scale:function(l,r){return this.expand(this.width*l-this.width,this.height*(r===Ee?l:r)-this.height)}},te.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(l,r){var o=l.join(""),u=/^[RL]/.test(o);r>=4&&(l[1]+=u?"Y":"X");var c=l[u?0:1],d=l[u?1:0],f="get"+c,g="get"+d,m="set"+c,v="set"+d,x="set"+o;this["get"+o]=function(w){return new(w?ae:se)(this[f](),this[g](),this,x)},this[x]=function(){var w=ae.read(arguments);this[m](w.x),this[v](w.y)}},{beans:!0})),nt=Z.extend({initialize:function(r,o,u,c,d,f){this._set(r,o,u,c,!0),this._owner=d,this._setter=f},_set:function(l,r,o,u,c){return this._x=l,this._y=r,this._width=o,this._height=u,c||this._owner[this._setter](this),this}},new function(){var l=Z.prototype;return te.each(["x","y","width","height"],function(r){var o=te.capitalize(r),u="_"+r;this["get"+o]=function(){return this[u]},this["set"+o]=function(c){this[u]=c,this._dontNotify||this._owner[this._setter](this)}},te.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var o="set"+r;this[o]=function(){this._dontNotify=!0,l[o].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(r){var o=this._owner;o._changeSelection&&o._changeSelection(2,r)}}))}),Zt=te.extend({_class:"Matrix",initialize:function l(r,o){var u=arguments,c=u.length,d=!0;if(c>=6?this._set.apply(this,u):1===c||2===c?r instanceof l?this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,o):Array.isArray(r)?this._set.apply(this,o?r.concat([o]):r):d=!1:c?d=!1:this.reset(),!d)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(l,r,o,u,c,d,f){return this._a=l,this._b=r,this._c=o,this._d=u,this._tx=c,this._ty=d,f||this._changed(),this},_serialize:function(l,r){return te.serialize(this.getValues(),l,!0,r)},_changed:function(){var l=this._owner;l&&(l._applyMatrix?l.transform(null,!0):l._changed(25))},clone:function(){return new Zt(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(l){return l===this||l&&this._a===l._a&&this._b===l._b&&this._c===l._c&&this._d===l._d&&this._tx===l._tx&&this._ty===l._ty},toString:function(){var l=yn.instance;return"[["+[l.number(this._a),l.number(this._c),l.number(this._tx)].join(", ")+"], ["+[l.number(this._b),l.number(this._d),l.number(this._ty)].join(", ")+"]]"},reset:function(l){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,l||this._changed(),this},apply:function(l,r){var o=this._owner;return!!o&&(o.transform(null,te.pick(l,!0),r),this.isIdentity())},translate:function(){var l=ae.read(arguments),r=l.x,o=l.y;return this._tx+=r*this._a+o*this._c,this._ty+=r*this._b+o*this._d,this._changed(),this},scale:function(){var l=arguments,r=ae.read(l),o=ae.read(l,0,{readNull:!0});return o&&this.translate(o),this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,o&&this.translate(o.negate()),this._changed(),this},rotate:function(l){l*=Math.PI/180;var r=ae.read(arguments,1),o=r.x,u=r.y,c=Math.cos(l),d=Math.sin(l),f=o-o*c+u*d,g=u-o*d-u*c,m=this._a,v=this._b,b=this._c,x=this._d;return this._a=c*m+d*b,this._b=c*v+d*x,this._c=-d*m+c*b,this._d=-d*v+c*x,this._tx+=f*m+g*b,this._ty+=f*v+g*x,this._changed(),this},shear:function(){var l=arguments,r=ae.read(l),o=ae.read(l,0,{readNull:!0});o&&this.translate(o);var u=this._a,c=this._b;return this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*u,this._d+=r.x*c,o&&this.translate(o.negate()),this._changed(),this},skew:function(){var l=arguments,r=ae.read(l),o=ae.read(l,0,{readNull:!0}),u=Math.PI/180,c=new ae(Math.tan(r.x*u),Math.tan(r.y*u));return this.shear(c,o)},append:function(l,r){if(l){var o=this._a,u=this._b,c=this._c,d=this._d,f=l._a,g=l._c,m=l._b,v=l._d,b=l._tx,x=l._ty;this._a=f*o+m*c,this._c=g*o+v*c,this._b=f*u+m*d,this._d=g*u+v*d,this._tx+=b*o+x*c,this._ty+=b*u+x*d,r||this._changed()}return this},prepend:function(l,r){if(l){var o=this._a,u=this._b,c=this._c,d=this._d,f=this._tx,g=this._ty,m=l._a,v=l._c,b=l._b,x=l._d,w=l._tx,C=l._ty;this._a=m*o+v*u,this._c=m*c+v*d,this._b=b*o+x*u,this._d=b*c+x*d,this._tx=m*f+v*g+w,this._ty=b*f+x*g+C,r||this._changed()}return this},appended:function(l){return this.clone().append(l)},prepended:function(l){return this.clone().prepend(l)},invert:function(){var l=this._a,r=this._b,o=this._c,u=this._d,c=this._tx,d=this._ty,f=l*u-r*o,g=null;return f&&!isNaN(f)&&isFinite(c)&&isFinite(d)&&(this._a=u/f,this._b=-r/f,this._c=-o/f,this._d=l/f,this._tx=(o*d-u*c)/f,this._ty=(r*c-l*d)/f,g=this),g},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Zt(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var l=this._a*this._d-this._c*this._b;return l&&!isNaN(l)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(l,r,o){return arguments.length<3?this._transformPoint(ae.read(arguments)):this._transformCoordinates(l,r,o)},_transformPoint:function(l,r,o){var u=l.x,c=l.y;return r||(r=new ae),r._set(u*this._a+c*this._c+this._tx,u*this._b+c*this._d+this._ty,o)},_transformCoordinates:function(l,r,o){for(var u=0,c=2*o;u<c;u+=2){var d=l[u],f=l[u+1];r[u]=d*this._a+f*this._c+this._tx,r[u+1]=d*this._b+f*this._d+this._ty}return r},_transformCorners:function(l){var r=l.x,o=l.y,u=r+l.width,c=o+l.height,d=[r,o,u,o,u,c,r,c];return this._transformCoordinates(d,d,4)},_transformBounds:function(l,r,o){for(var u=this._transformCorners(l),c=u.slice(0,2),d=c.slice(),f=2;f<8;f++){var g=u[f],m=1&f;g<c[m]?c[m]=g:g>d[m]&&(d[m]=g)}return r||(r=new Z),r._set(c[0],c[1],d[0]-c[0],d[1]-c[1],o)},inverseTransform:function(){return this._inverseTransform(ae.read(arguments))},_inverseTransform:function(l,r,o){var u=this._a,c=this._b,d=this._c,f=this._d,g=this._tx,m=this._ty,v=u*f-c*d,b=null;if(v&&!isNaN(v)&&isFinite(g)&&isFinite(m)){var x=l.x-this._tx,w=l.y-this._ty;r||(r=new ae),b=r._set((x*f-w*d)/v,(w*u-x*c)/v,o)}return b},decompose:function(){var m,v,b,l=this._a,r=this._b,o=this._c,u=this._d,c=l*u-r*o,d=Math.sqrt,f=Math.atan2,g=180/Math.PI;if(0!==l||0!==r){var x=d(l*l+r*r);m=Math.acos(l/x)*(r>0?1:-1),v=[x,c/x],b=[f(l*o+r*u,x*x),0]}else if(0!==o||0!==u){var w=d(o*o+u*u);m=Math.asin(o/w)*(u>0?1:-1),v=[c/w,w],b=[0,f(l*o+r*u,w*w)]}else m=0,b=v=[0,0];return{translation:this.getTranslation(),rotation:m*g,scaling:new ae(v),skewing:new ae(b[0]*g,b[1]*g)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ae(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(l){this.isIdentity()||l.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},te.each(["a","b","c","d","tx","ty"],function(l){var r=te.capitalize(l),o="_"+l;this["get"+r]=function(){return this[o]},this["set"+r]=function(u){this[o]=u,this._changed()}},{})),ft=te.extend({_class:"Line",initialize:function(r,o,u,c,d){var f=!1;arguments.length>=4?(this._px=r,this._py=o,this._vx=u,this._vy=c,f=d):(this._px=r.x,this._py=r.y,this._vx=o.x,this._vy=o.y,f=u),f||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ae(this._px,this._py)},getVector:function(){return new ae(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(l,r){return ft.intersect(this._px,this._py,this._vx,this._vy,l._px,l._py,l._vx,l._vy,!0,r)},getSide:function(l,r){return ft.getSide(this._px,this._py,this._vx,this._vy,l.x,l.y,!0,r)},getDistance:function(l){return Math.abs(this.getSignedDistance(l))},getSignedDistance:function(l){return ft.getSignedDistance(this._px,this._py,this._vx,this._vy,l.x,l.y,!0)},isCollinear:function(l){return ae.isCollinear(this._vx,this._vy,l._vx,l._vy)},isOrthogonal:function(l){return ae.isOrthogonal(this._vx,this._vy,l._vx,l._vy)},statics:{intersect:function(l,r,o,u,c,d,f,g,m,v){m||(o-=l,u-=r,f-=c,g-=d);var b=o*g-u*f;if(!Ue.isMachineZero(b)){var x=l-c,w=r-d,C=(f*w-g*x)/b,D=(o*w-u*x)/b,k=-1e-12,P=1+1e-12;if(v||k<C&&C<P&&k<D&&D<P)return v||(C=C<=0?0:C>=1?1:C),new ae(l+C*o,r+C*u)}},getSide:function(l,r,o,u,c,d,f,g){f||(o-=l,u-=r);var m=c-l,b=m*u-(d-r)*o;return!g&&Ue.isMachineZero(b)&&(b=(m*o+m*o)/(o*o+u*u))>=0&&b<=1&&(b=0),b<0?-1:b>0?1:0},getSignedDistance:function(l,r,o,u,c,d,f){return f||(o-=l,u-=r),0===o?u>0?c-l:l-c:0===u?o<0?d-r:r-d:((c-l)*u-(d-r)*o)/(u>o?u*Math.sqrt(1+o*o/(u*u)):o*Math.sqrt(1+u*u/(o*o)))},getDistance:function(l,r,o,u,c,d,f){return Math.abs(ft.getSignedDistance(l,r,o,u,c,d,f))}}}),hn=kn.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(r){kn.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new tr(null,null,this),this._view=Ct.create(this,r||Kt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(l,r){return te.serialize(this._children,l,!0,r)},_changed:function(l,r){if(1&l){var o=this._view;o&&(o._needsUpdate=!0,!o._requested&&o._autoUpdate&&o.requestUpdate())}var u=this._changes;if(u&&r){var c=this._changesById,d=r._id,f=c[d];f?f.flags|=l:u.push(c[d]={item:r,flags:l})}},clear:function(){for(var l=this._children,r=l.length-1;r>=0;r--)l[r].remove()},isEmpty:function(){return!this._children.length},remove:function l(){return!!l.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(l){this._currentStyle.set(l)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Un({project:this,insert:!0})},getSymbolDefinitions:function(){var l=[],r={};return this.getItems({class:Rn,match:function(o){var u=o._definition,c=u._id;return r[c]||(r[c]=!0,l.push(u)),!1}}),l},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var l=this._selectionItems,r=[];for(var o in l){var u=l[o],c=u._selection;1&c&&u.isInserted()?r.push(u):c||this._updateSelection(u)}return r},_updateSelection:function(l){var r=l._id,o=this._selectionItems;l._selection?o[r]!==l&&(this._selectionCount++,o[r]=l):o[r]===l&&(this._selectionCount--,delete o[r])},selectAll:function(){for(var l=this._children,r=0,o=l.length;r<o;r++)l[r].setFullySelected(!0)},deselectAll:function(){var l=this._selectionItems;for(var r in l)l[r].setFullySelected(!1)},addLayer:function(l){return this.insertLayer(Ee,l)},insertLayer:function(l,r){if(r instanceof Un){r._remove(!1,!0),te.splice(this._children,[r],l,0),r._setProject(this,!0);var o=r._name;o&&r.setName(o),this._changes&&r._changed(5),this._activeLayer||(this._activeLayer=r)}else r=null;return r},_insertItem:function(l,r,o){return r=this.insertLayer(l,r)||(this._activeLayer||this._insertItem(Ee,new Un(lt.NO_INSERT),!0)).insertChild(l,r),o&&r.activate&&r.activate(),r},getItems:function(l){return lt._getItems(this,l)},getItem:function(l){return lt._getItems(this,l,null,null,!0)[0]||null},importJSON:function(l){this.activate();var r=this._activeLayer;return te.importJSON(l,r&&r.isEmpty()&&r)},removeOn:function(l){var r=this._removeSets;if(r){"mouseup"===l&&(r.mousedrag=null);var o=r[l];if(o){for(var u in o){var c=o[u];for(var d in r){var f=r[d];f&&f!=o&&delete f[c._id]}c.remove()}r[l]=null}}},draw:function(l,r,o){this._updateVersion++,l.save(),r.applyToContext(l);for(var u=this._children,c=new te({offset:new ae(0,0),pixelRatio:o,viewMatrix:r.isIdentity()?null:r,matrices:[new Zt],updateMatrix:!0}),d=0,f=u.length;d<f;d++)u[d].draw(l,c);if(l.restore(),this._selectionCount>0){l.save(),l.strokeWidth=1;var g=this._selectionItems,m=this._scope.settings.handleSize,v=this._updateVersion;for(var b in g)g[b]._drawSelection(l,r,m,g,v);l.restore()}}}),lt=te.extend(re,{statics:{extend:function l(r){return r._serializeFields&&(r._serializeFields=te.set({},this.prototype._serializeFields,r._serializeFields)),l.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Zt,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var l=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return te.each(l,function(r){this._events[r]={install:function(o){this.getView()._countItemEvent(o,1)},uninstall:function(o){this.getView()._countItemEvent(o,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:l}})},{initialize:function(){},_initialize:function(l,r){var o=l&&te.isPlainObject(l),u=o&&!0===l.internal,c=this._matrix=new Zt,d=o&&l.project||Ve.project,f=Ve.settings;return this._id=u?null:gt.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&f.applyMatrix,r&&c.translate(r),c._owner=this,this._style=new tr(d._currentStyle,this,d),u||o&&0==l.insert||!f.insertItems&&(!o||1!=l.insert)?this._setProject(d):(o&&l.parent||d)._insertItem(Ee,this,!0),o&&l!==lt.NO_INSERT&&l!==lt.INSERT&&this.set(l,{internal:!0,insert:!0,project:!0,parent:!0}),o},_serialize:function(l,r){var o={},u=this;function c(d){for(var f in d){var g=u[f];te.equals(g,"leading"===f?1.2*d.fontSize:d[f])||(o[f]=te.serialize(g,l,"data"!==f,r))}}return c(this._serializeFields),this instanceof tt||c(this._style._defaults),[this._class,o]},_changed:function(l){var r=this._symbol,o=this._parent||r,u=this._project;8&l&&(this._bounds=this._position=this._decomposed=Ee),16&l&&(this._globalMatrix=Ee),o&&72&l&&lt._clearBoundsCache(o),2&l&&lt._clearBoundsCache(this),u&&u._changed(l,this),r&&r._changed(l)},getId:function(){return this._id},getName:function(){return this._name},setName:function(l){if(this._name&&this._removeNamed(),l===+l+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(l&&r){var o=r._children,u=r._namedChildren;(u[l]=u[l]||[]).push(this),l in o||(o[l]=this)}this._name=l||Ee,this._changed(256)},getStyle:function(){return this._style},setStyle:function(l){this.getStyle().set(l)}},te.each(["locked","visible","blendMode","opacity","guide"],function(l){var r=te.capitalize(l),o="_"+l,u={locked:256,visible:265};this["get"+r]=function(){return this[o]},this["set"+r]=function(c){c!=this[o]&&(this[o]=c,this._changed(u[l]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(l){if(l!==this._selection){this._selection=l;var r=this._project;r&&(r._updateSelection(this),this._changed(257))}},_changeSelection:function(l,r){var o=this._selection;this.setSelection(r?o|l:o&~l)},isSelected:function(){if(this._selectChildren)for(var l=this._children,r=0,o=l.length;r<o;r++)if(l[r].isSelected())return!0;return!!(1&this._selection)},setSelected:function(l){if(this._selectChildren)for(var r=this._children,o=0,u=r.length;o<u;o++)r[o].setSelected(l);this._changeSelection(1,l)},isFullySelected:function(){var l=this._children,r=!!(1&this._selection);if(l&&r){for(var o=0,u=l.length;o<u;o++)if(!l[o].isFullySelected())return!1;return!0}return r},setFullySelected:function(l){var r=this._children;if(r)for(var o=0,u=r.length;o<u;o++)r[o].setFullySelected(l);this._changeSelection(1,l)},isClipMask:function(){return this._clipMask},setClipMask:function(l){this._clipMask!=(l=!!l)&&(this._clipMask=l,l&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(l){this._data=l},getPosition:function(l){var r=l?ae:se,o=this._position||(this._position=this._getPositionFromBounds());return new r(o.x,o.y,this,"setPosition")},setPosition:function(){this.translate(ae.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(l){return this._pivot?this._matrix._transformPoint(this._pivot):(l||this.getBounds()).getCenter(!0)},getPivot:function(){var l=this._pivot;return l?new se(l.x,l.y,this,"setPivot"):null},setPivot:function(){this._pivot=ae.read(arguments,0,{clone:!0,readNull:!0}),this._position=Ee}},te.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(l,r){this[r]=function(o){return this.getBounds(o,l)}},{beans:!0,getBounds:function(l,r){var o=r||l instanceof Zt,u=te.set({},o?r:l,this._boundsOptions);(!u.stroke||this.getStrokeScaling())&&(u.cacheItem=this);var c=this._getCachedBounds(o&&l,u).rect;return arguments.length?c:new nt(c.x,c.y,c.width,c.height,this,"setBounds")},setBounds:function(){var l=Z.read(arguments),r=this.getBounds(),o=this._matrix,u=new Zt,c=l.getCenter();u.translate(c),(l.width!=r.width||l.height!=r.height)&&(o.isInvertible()||(o.set(o._backup||(new Zt).translate(o.getTranslation())),r=this.getBounds()),u.scale(0!==r.width?l.width/r.width:0,0!==r.height?l.height/r.height:0)),c=r.getCenter(),u.translate(-c.x,-c.y),this.transform(u)},_getBounds:function(l,r){var o=this._children;return o&&o.length?(lt._updateBoundsCache(this,r.cacheItem),lt._getBounds(o,l,r)):new Z},_getBoundsCacheKey:function(l,r){return[l.stroke?1:0,l.handle?1:0,r?1:0].join("")},_getCachedBounds:function(l,r,o){l=l&&l._orNullIfIdentity();var u=r.internal&&!o,c=r.cacheItem,d=u?null:this._matrix._orNullIfIdentity(),f=c&&(!l||l.equals(d))&&this._getBoundsCacheKey(r,u),g=this._bounds;if(lt._updateBoundsCache(this._parent||this._symbol,c),f&&g&&f in g)return{rect:(m=g[f]).rect.clone(),nonscaling:m.nonscaling};var v=this._getBounds(l||d,r),b=v.rect||v,x=this._style,w=v.nonscaling||x.hasStroke()&&!x.getStrokeScaling();if(f){g||(this._bounds=g={});var m=g[f]={rect:b.clone(),nonscaling:w,internal:u}}return{rect:b,nonscaling:w}},_getStrokeMatrix:function(l,r){var o=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,u=o?o.getViewMatrix().invert():l;return u&&u._shiftless()},statics:{_updateBoundsCache:function(l,r){if(l&&r){var o=r._id,u=l._boundsCache=l._boundsCache||{ids:{},list:[]};u.ids[o]||(u.list.push(r),u.ids[o]=r)}},_clearBoundsCache:function(l){var r=l._boundsCache;if(r){l._bounds=l._position=l._boundsCache=Ee;for(var o=0,u=r.list,c=u.length;o<c;o++){var d=u[o];d!==l&&(d._bounds=d._position=Ee,d._boundsCache&&lt._clearBoundsCache(d))}}},_getBounds:function(l,r,o){var u=1/0,c=-u,d=u,f=c,g=!1;o=o||{};for(var m=0,v=l.length;m<v;m++){var b=l[m];if(b._visible&&!b.isEmpty(!0)){var x=b._getCachedBounds(r&&r.appended(b._matrix),o,!0),w=x.rect;u=Math.min(w.x,u),d=Math.min(w.y,d),c=Math.max(w.x+w.width,c),f=Math.max(w.y+w.height,f),x.nonscaling&&(g=!0)}}return{rect:isFinite(u)?new Z(u,d,c-u,f-d):new Z,nonscaling:g}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var l=this._decompose();return l?l.rotation:0},setRotation:function(l){var r=this.getRotation();if(null!=r&&null!=l){var o=this._decomposed;this.rotate(l-r),o&&(o.rotation=l,this._decomposed=o)}},getScaling:function(){var l=this._decompose(),r=l&&l.scaling;return new se(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var l=this.getScaling(),r=ae.read(arguments,0,{clone:!0,readNull:!0});if(l&&r&&!l.equals(r)){var o=this.getRotation(),u=this._decomposed,c=new Zt,d=Ue.isZero;if(d(l.x)||d(l.y))c.translate(u.translation),o&&c.rotate(o),c.scale(r.x,r.y),this._matrix.set(c);else{var f=this.getPosition(!0);c.translate(f),o&&c.rotate(o),c.scale(r.x/l.x,r.y/l.y),o&&c.rotate(-o),c.translate(f.negate()),this.transform(c)}u&&(u.scaling=r,this._decomposed=u)}},getMatrix:function(){return this._matrix},setMatrix:function(){var l=this._matrix;l.set.apply(l,arguments)},getGlobalMatrix:function(l){var r=this._globalMatrix;if(r)for(var o=this._parent,u=[];o;){if(!o._globalMatrix){r=null;for(var c=0,d=u.length;c<d;c++)u[c]._globalMatrix=null;break}u.push(o),o=o._parent}return r||(r=this._globalMatrix=this._matrix.clone(),(o=this._parent)&&r.prepend(o.getGlobalMatrix(!0))),l?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(l){(this._applyMatrix=this._canApplyMatrix&&!!l)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(l,r){if(this._project!==l){this._project&&this._installEvents(!1),this._project=l;for(var o=this._children,u=0,c=o&&o.length;u<c;u++)o[u]._setProject(l);r=!0}r&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function l(r){l.base.call(this,r);for(var o=this._children,u=0,c=o&&o.length;u<c;u++)o[u]._installEvents(r)},getLayer:function(){for(var l=this;l=l._parent;)if(l instanceof Un)return l;return null},getParent:function(){return this._parent},setParent:function(l){return l.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(l){this.removeChildren(),this.addChildren(l)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var l=this._getOwner();return l&&l._children[this._index+1]||null},getPreviousSibling:function(){var l=this._getOwner();return l&&l._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(l){return l===this||l&&this._class===l._class&&this._style.equals(l._style)&&this._matrix.equals(l._matrix)&&this._locked===l._locked&&this._visible===l._visible&&this._blendMode===l._blendMode&&this._opacity===l._opacity&&this._clipMask===l._clipMask&&this._guide===l._guide&&this._equals(l)||!1},_equals:function(l){return te.equals(this._children,l._children)},clone:function(l){var r=new this.constructor(lt.NO_INSERT),o=this._children,u=te.pick(l?l.insert:Ee,l===Ee||!0===l),c=te.pick(l?l.deep:Ee,!0);o&&r.copyAttributes(this),(!o||c)&&r.copyContent(this),o||r.copyAttributes(this),u&&r.insertAbove(this);var d=this._name,f=this._parent;if(d&&f){o=f._children;for(var g=d,m=1;o[d];)d=g+" "+m++;d!==g&&r.setName(d)}return r},copyContent:function(l){for(var r=l._children,o=0,u=r&&r.length;o<u;o++)this.addChild(r[o].clone(!1),!0)},copyAttributes:function(l,r){this.setStyle(l._style);for(var o=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],u=0,c=o.length;u<c;u++){var d=o[u];l.hasOwnProperty(d)&&(this[d]=l[d])}r||this._matrix.set(l._matrix,!0),this.setApplyMatrix(l._applyMatrix),this.setPivot(l._pivot),this.setSelection(l._selection);var f=l._data,g=l._name;this._data=f?te.clone(f):null,g&&this.setName(g)},rasterize:function(l,r){var o,u,c;te.isPlainObject(l)?(o=l.resolution,u=l.insert,c=l.raster):(o=l,u=r),c||(c=new Dn(lt.NO_INSERT));var d=this.getStrokeBounds(),f=(o||this.getView().getResolution())/72,g=d.getTopLeft().floor(),m=d.getBottomRight().ceil(),v=new Ze(m.subtract(g)),b=v.multiply(f);if(c.setSize(b,!0),!b.isZero()){var x=c.getContext(!0),w=(new Zt).scale(f).translate(g.negate());x.save(),w.applyToContext(x),this.draw(x,new te({matrices:[w]})),x.restore()}return c._matrix.set((new Zt).translate(g.add(v.divide(2))).scale(1/f)),(u===Ee||u)&&c.insertAbove(this),c},contains:function(){var l=this._matrix;return l.isInvertible()&&!!this._contains(l._inverseTransform(ae.read(arguments)))},_contains:function(l){var r=this._children;if(r){for(var o=r.length-1;o>=0;o--)if(r[o].contains(l))return!0;return!1}return l.isInside(this.getInternalBounds())},isInside:function(){return Z.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new $e.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(l,r){return l instanceof lt&&this._asPathItem().getIntersections(l._asPathItem(),null,r,!0).length>0}},new function(){function l(){var u=arguments;return this._hitTest(ae.read(u),mn.getOptions(u))}function r(){var u=arguments,c=ae.read(u),d=mn.getOptions(u),f=[];return this._hitTest(c,new te({all:f},d)),f}function o(u,c,d,f){var g=this._children;if(g)for(var m=g.length-1;m>=0;m--){var v=g[m],b=v!==f&&v._hitTest(u,c,d);if(b&&!c.all)return b}return null}return hn.inject({hitTest:l,hitTestAll:r,_hitTest:o}),{hitTest:l,hitTestAll:r,_hitTestChildren:o}},{_hitTest:function(l,r,o){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var u=this._matrix,c=o?o.appended(u):this.getGlobalMatrix().prepend(this.getView()._matrix),d=Math.max(r.tolerance,1e-12),f=r._tolerancePadding=new Ze($e._getStrokePadding(d,u._shiftless().invert()));if(!(l=u._inverseTransform(l))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(f.multiply(2))._containsPoint(l))return null;var b,x,g=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==te.hyphenate(this._class)||r.class&&!(this instanceof r.class)),m=r.match,v=this;function w(E){return E&&m&&!m(E)&&(E=null),E&&r.all&&r.all.push(E),E}function C(E,S){var A=S?b["get"+S]():v.getPosition();if(l.subtract(A).divide(f).length<=1)return new mn(E,v,{name:S?te.hyphenate(S):E,point:A})}var D=r.position,R=r.center,k=r.bounds;if(g&&this._parent&&(D||R||k)){if((R||k)&&(b=this.getInternalBounds()),!(x=D&&C("position")||R&&C("center","Center"))&&k)for(var P=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],I=0;I<8&&!x;I++)x=C("bounds",P[I]);x=w(x)}return x||(x=this._hitTestChildren(l,r,c)||g&&w(this._hitTestSelf(l,r,c,this.getStrokeScaling()?null:c._shiftless().invert()))||null),x&&x.point&&(x.point=u.transform(x.point)),x},_hitTestSelf:function(l,r){if(r.fill&&this.hasFill()&&this._contains(l))return new mn("fill",this)},matches:function(l,r){var u=typeof l;if("object"===u){for(var c in l)if(l.hasOwnProperty(c)&&!this.matches(c,l[c]))return!1;return!0}if("function"===u)return l(this);if("match"===l)return r(this);var d=/^(empty|editable)$/.test(l)?this["is"+te.capitalize(l)]():"type"===l?te.hyphenate(this._class):this[l];if("class"===l){if("function"==typeof r)return this instanceof r;d=this._class}if("function"==typeof r)return!!r(d);if(r){if(r.test)return r.test(d);if(te.isPlainObject(r))return function o(f,g){for(var m in f)if(f.hasOwnProperty(m)){var v=f[m],b=g[m];if(te.isPlainObject(v)&&te.isPlainObject(b)){if(!o(v,b))return!1}else if(!te.equals(v,b))return!1}return!0}(r,d)}return te.equals(d,r)},getItems:function(l){return lt._getItems(this,l,this._matrix)},getItem:function(l){return lt._getItems(this,l,this._matrix,null,!0)[0]||null},statics:{_getItems:function l(r,o,u,c,d){if(!c){var f="object"==typeof o&&o,g=f&&f.overlapping,m=f&&f.inside,w=(v=g||m)&&Z.read([v]);c={items:[],recursive:f&&!1!==f.recursive,inside:!!m,overlapping:!!g,rect:w,path:g&&new $e.Rectangle({rectangle:w,insert:!1})},f&&(o=te.filter({},o,{recursive:!0,inside:!0,overlapping:!0}))}var b=r._children,x=c.items;u=(w=c.rect)&&(u||new Zt);for(var C=0,D=b&&b.length;C<D;C++){var R=b[C],k=u&&u.appended(R._matrix),P=!0;if(w){var v=R.getBounds(k);if(!w.intersects(v))continue;w.contains(v)||c.overlapping&&(v.contains(w)||c.path.intersects(R,k))||(P=!1)}if(P&&R.matches(o)&&(x.push(R),d)||(!1!==c.recursive&&l(R,o,k,c,d),d&&x.length>0))break}return x}}},{importJSON:function(l){var r=te.importJSON(l,this);return r!==this?this.addChild(r):r},addChild:function(l){return this.insertChild(Ee,l)},insertChild:function(l,r){var o=r?this.insertChildren(l,[r]):null;return o&&o[0]},addChildren:function(l){return this.insertChildren(this._children.length,l)},insertChildren:function(l,r){var o=this._children;if(o&&r&&r.length>0){for(var u={},c=(r=te.slice(r)).length-1;c>=0;c--){var f=(d=r[c])&&d._id;!d||u[f]?r.splice(c,1):(d._remove(!1,!0),u[f]=!0)}te.splice(o,r,l,0);for(var g=this._project,m=g._changes,v=(c=0,r.length);c<v;c++){var d,b=(d=r[c])._name;d._parent=this,d._setProject(g,!0),b&&d.setName(b),m&&d._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(l,r){var o=l&&l._getOwner(),u=l!==this&&o?this:null;return u&&(u._remove(!1,!0),o._insertItem(l._index+r,u)),u},insertAbove:function(l){return this._insertAt(l,1)},insertBelow:function(l){return this._insertAt(l,0)},sendToBack:function(){var l=this._getOwner();return l?l._insertItem(0,this):null},bringToFront:function(){var l=this._getOwner();return l?l._insertItem(Ee,this):null},appendTop:"#addChild",appendBottom:function(l){return this.insertChild(0,l)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(l){return l._insertItem(Ee,this)},copyTo:function(l){return this.clone(!1).addTo(l)},reduce:function(l){var r=this._children;if(r&&1===r.length){var o=r[0].reduce(l);return this._parent?(o.insertAbove(this),this.remove()):o.remove(),o}return this},_removeNamed:function(){var l=this._getOwner();if(l){var r=l._children,o=l._namedChildren,u=this._name,c=o[u],d=c?c.indexOf(this):-1;-1!==d&&(r[u]==this&&delete r[u],c.splice(d,1),c.length?r[u]=c[0]:delete o[u])}},_remove:function(l,r){var o=this._getOwner(),u=this._project,c=this._index;return this._style&&this._style._dispose(),!!o&&(this._name&&this._removeNamed(),null!=c&&(u._activeLayer===this&&(u._activeLayer=this.getNextSibling()||this.getPreviousSibling()),te.splice(o._children,null,c,1)),this._installEvents(!1),l&&u._changes&&this._changed(5),r&&o._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(l){var r=l&&l.insertBelow(this);return r&&this.remove(),r},removeChildren:function(l,r){if(!this._children)return null;l=l||0,r=te.pick(r,this._children.length);for(var o=te.splice(this._children,null,l,r-l),u=o.length-1;u>=0;u--)o[u]._remove(!0,!1);return o.length>0&&this._changed(11),o},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var l=0,r=this._children.length;l<r;l++)this._children[l]._index=l;this._changed(11)}},isEmpty:function(l){var r=this._children,o=r?r.length:0;if(l){for(var u=0;u<o;u++)if(!r[u].isEmpty(l))return!1;return!0}return!o},isEditable:function(){for(var l=this;l;){if(!l._visible||l._locked)return!1;l=l._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(l){function r(f){var g=[];do{g.unshift(f)}while(f=f._parent);return g}for(var o=r(this),u=r(l),c=0,d=Math.min(o.length,u.length);c<d;c++)if(o[c]!=u[c])return o[c]._index<u[c]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(l){return-1===this._getOrder(l)},isBelow:function(l){return 1===this._getOrder(l)},isParent:function(l){return this._parent===l},isChild:function(l){return l&&l._parent===this},isDescendant:function(l){for(var r=this;r=r._parent;)if(r===l)return!0;return!1},isAncestor:function(l){return!!l&&l.isDescendant(this)},isSibling:function(l){return this._parent===l._parent},isGroupedWith:function(l){for(var r=this._parent;r;){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&l.isDescendant(r))return!0;r=r._parent}return!1}},te.each(["rotate","scale","shear","skew"],function(l){var r="rotate"===l;this[l]=function(){var o=arguments,u=(r?te:ae).read(o),c=ae.read(o,0,{readNull:!0});return this.transform((new Zt)[l](u,c||this.getPosition(!0)))}},{translate:function(){var l=new Zt;return this.transform(l.translate.apply(l,arguments))},transform:function(l,r,o){var u=this._matrix,c=l&&!l.isIdentity(),d=o&&this._canApplyMatrix||this._applyMatrix&&(c||!u.isIdentity()||r&&this._children);if(!c&&!d)return this;if(c){!l.isInvertible()&&u.isInvertible()&&(u._backup=u.getValues()),u.prepend(l,!0);var f=this._style,g=f.getFillColor(!0),m=f.getStrokeColor(!0);g&&g.transform(l),m&&m.transform(l)}if(d&&(d=this._transformContent(u,r,o))){var v=this._pivot;v&&u._transformPoint(v,v,!0),u.reset(!0),o&&this._canApplyMatrix&&(this._applyMatrix=!0)}var b=this._bounds,x=this._position;(c||d)&&this._changed(25);var w=c&&b&&l.decompose();if(w&&w.skewing.isZero()&&w.rotation%90==0){for(var C in b){var D=b[C];if(D.nonscaling)delete b[C];else if(d||!D.internal){var R=D.rect;l._transformBounds(R,R)}}this._bounds=b;var k=b[this._getBoundsCacheKey(this._boundsOptions||{})];k&&(this._position=this._getPositionFromBounds(k.rect))}else c&&x&&this._pivot&&(this._position=l._transformPoint(x,x));return this},_transformContent:function(l,r,o){var u=this._children;if(u){for(var c=0,d=u.length;c<d;c++)u[c].transform(l,r,o);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ae.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ae.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ae.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ae.read(arguments))},fitBounds:function(l,r){l=Z.read(arguments);var o=this.getBounds(),u=o.height/o.width,c=l.height/l.width,d=(r?u>c:u<c)?l.width/o.width:l.height/o.height,f=new Z(new ae,new Ze(o.width*d,o.height*d));f.setCenter(l.getCenter()),this.setBounds(f)}}),{_setStyles:function(l,r,o){var u=this._style,c=this._matrix;if(u.hasFill()&&(l.fillStyle=u.getFillColor().toCanvasStyle(l,c)),u.hasStroke()){l.strokeStyle=u.getStrokeColor().toCanvasStyle(l,c),l.lineWidth=u.getStrokeWidth();var d=u.getStrokeJoin(),f=u.getStrokeCap(),g=u.getMiterLimit();if(d&&(l.lineJoin=d),f&&(l.lineCap=f),g&&(l.miterLimit=g),Ve.support.nativeDash){var m=u.getDashArray(),v=u.getDashOffset();m&&m.length&&("setLineDash"in l?(l.setLineDash(m),l.lineDashOffset=v):(l.mozDash=m,l.mozDashOffset=v))}}if(u.hasShadow()){var b=r.pixelRatio||1,x=o._shiftless().prepend((new Zt).scale(b,b)),w=x.transform(new ae(u.getShadowBlur(),0)),C=x.transform(this.getShadowOffset());l.shadowColor=u.getShadowColor().toCanvasStyle(l),l.shadowBlur=w.getLength(),l.shadowOffsetX=C.x,l.shadowOffsetY=C.y}},draw:function(l,r,o){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var c=r.matrices,d=r.viewMatrix,f=this._matrix,g=c[c.length-1].appended(f);if(g.isInvertible()){d=d?d.appended(g):g,c.push(g),r.updateMatrix&&(this._globalMatrix=g);var D,R,k,m=this._blendMode,v=Ue.clamp(this._opacity,0,1),b="normal"===m,x=Bt.nativeModes[m],w=b&&1===v||r.dontStart||r.clip||(x||b&&v<1)&&this._canComposite(),C=r.pixelRatio||1;if(!w){var P=this.getStrokeBounds(d);if(!P.width||!P.height)return void c.pop();k=r.offset,R=r.offset=P.getTopLeft().floor(),D=l,l=Kt.getContext(P.getSize().ceil().add(1).multiply(C)),1!==C&&l.scale(C,C)}l.save();var I=o?o.appended(f):this._canScaleStroke&&!this.getStrokeScaling(!0)&&d,E=!w&&r.clipItem,S=!I||E;if(w?(l.globalAlpha=v,x&&(l.globalCompositeOperation=m)):S&&l.translate(-R.x,-R.y),S&&(w?f:d).applyToContext(l),E&&r.clipItem.draw(l,r.extend({clip:!0})),I){l.setTransform(C,0,0,C,0,0);var A=r.offset;A&&l.translate(-A.x,-A.y)}this._draw(l,r,d,I),l.restore(),c.pop(),r.clip&&!r.dontFinish&&l.clip(this.getFillRule()),w||(Bt.process(m,l,D,v,R.subtract(k).multiply(C)),Kt.release(l),r.offset=k)}}},_isUpdated:function(l){var r=this._parent;if(r instanceof yt)return r._isUpdated(l);var o=this._updateVersion===l;return!o&&r&&r._visible&&r._isUpdated(l)&&(this._updateVersion=l,o=!0),o},_drawSelection:function(l,r,o,u,c){var d=this._selection,f=1&d,g=2&d||f&&this._selectBounds,m=4&d;if(this._drawSelected||(f=!1),(f||g||m)&&this._isUpdated(c)){var v,b=this.getSelectedColor(!0)||(v=this.getLayer())&&v.getSelectedColor(!0),x=r.appended(this.getGlobalMatrix(!0)),w=o/2;if(l.strokeStyle=l.fillStyle=b?b.toCanvasStyle(l):"#009dec",f&&this._drawSelected(l,x,u),m){var C=this.getPosition(!0),D=this._parent,R=D?D.localToGlobal(C):C,k=R.x,P=R.y;l.beginPath(),l.arc(k,P,w,0,2*Math.PI,!0),l.stroke();for(var I=[[0,-1],[1,0],[0,1],[-1,0]],E=w,S=o+1,A=0;A<4;A++){var O=I[A],L=O[0],N=O[1];l.moveTo(k+L*E,P+N*E),l.lineTo(k+L*S,P+N*S),l.stroke()}}if(g){var B=x._transformCorners(this.getInternalBounds());for(l.beginPath(),A=0;A<8;A++)l[A?"lineTo":"moveTo"](B[A],B[++A]);for(l.closePath(),l.stroke(),A=0;A<8;A++)l.fillRect(B[A]-w,B[++A]-w,o,o)}}},_canComposite:function(){return!1}},te.each(["down","drag","up","move"],function(l){this["removeOn"+te.capitalize(l)]=function(){var r={};return r[l]=!0,this.removeOn(r)}},{removeOn:function(l){for(var r in l)if(l[r]){var o="mouse"+r,u=this._project,c=u._removeSets=u._removeSets||{};c[o]=c[o]||{},c[o][this._id]=this}return this}}),{tween:function(l,r,o){o||(o=r,r=l,l=null,o||(o=r,r=null));var d=null!=o&&("number"==typeof o?o:o.duration),f=new bs(this,l,r,d,o&&o.easing,o&&o.start);return d&&this.on("frame",function g(m){f._handleFrame(1e3*m.time),f.running||this.off("frame",g)}),f},tweenTo:function(l,r){return this.tween(null,l,r)},tweenFrom:function(l,r){return this.tween(l,null,r)}}),tt=lt.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||this.addChildren(Array.isArray(r)?r:arguments)},_changed:function l(r){l.base.call(this,r),2050&r&&(this._clipItem=Ee)},_getClipItem:function(){var l=this._clipItem;if(l===Ee){l=null;for(var r=this._children,o=0,u=r.length;o<u;o++)if(r[o]._clipMask){l=r[o];break}this._clipItem=l}return l},isClipped:function(){return!!this._getClipItem()},setClipped:function(l){var r=this.getFirstChild();r&&r.setClipMask(l)},_getBounds:function l(r,o){var u=this._getClipItem();return u?u._getCachedBounds(u._matrix.prepended(r),te.set({},o,{stroke:!1})):l.base.call(this,r,o)},_hitTestChildren:function l(r,o,u){var c=this._getClipItem();return(!c||c.contains(r))&&l.base.call(this,r,o,u,c)},_draw:function(l,r){var o=r.clip,u=!o&&this._getClipItem();r=r.extend({clipItem:u,clip:!1}),o?(l.beginPath(),r.dontStart=r.dontFinish=!0):u&&u.draw(l,r.extend({clip:!0}));for(var c=this._children,d=0,f=c.length;d<f;d++){var g=c[d];g!==u&&g.draw(l,r)}}}),Un=tt.extend({_class:"Layer",initialize:function(){tt.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function l(){return this._parent?l.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Ln=lt.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(r,o){this._initialize(r,o)},_equals:function(l){return this._type===l._type&&this._size.equals(l._size)&&te.equals(this._radius,l._radius)},copyContent:function(l){this.setType(l._type),this.setSize(l._size),this.setRadius(l._radius)},getType:function(){return this._type},setType:function(l){this._type=l},getShape:"#getType",setShape:"#setType",getSize:function(){var l=this._size;return new Ae(l.width,l.height,this,"setSize")},setSize:function(){var l=Ze.read(arguments);if(this._size){if(!this._size.equals(l)){var r=this._type,o=l.width,u=l.height;"rectangle"===r?this._radius.set(Ze.min(this._radius,l.divide(2).abs())):"circle"===r?(o=u=(o+u)/2,this._radius=o/2):"ellipse"===r&&this._radius._set(o/2,u/2),this._size._set(o,u),this._changed(9)}}else this._size=l.clone()},getRadius:function(){var l=this._radius;return"circle"===this._type?l:new Ae(l.width,l.height,this,"setRadius")},setRadius:function(l){var r=this._type;if("circle"===r){if(l===this._radius)return;var o=2*l;this._radius=l,this._size._set(o,o)}else if(l=Ze.read(arguments),this._radius){if(this._radius.equals(l))return;this._radius.set(l),"rectangle"===r?(o=Ze.max(this._size,l.multiply(2)),this._size.set(o)):"ellipse"===r&&this._size._set(2*l.width,2*l.height)}else this._radius=l.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(l){var r=new($e[te.capitalize(this._type)])({center:new ae,size:this._size,radius:this._radius,insert:!1});return r.copyAttributes(this),Ve.settings.applyMatrix&&r.setApplyMatrix(!0),(l===Ee||l)&&r.insertAbove(this),r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(l,r,o,u){var c=this._style,d=c.hasFill(),f=c.hasStroke(),g=r.dontFinish||r.clip,m=!u;if(d||f||g){var v=this._type,b=this._radius,x="circle"===v;if(r.dontStart||l.beginPath(),m&&x)l.arc(0,0,b,0,2*Math.PI,!0);else{var w=x?b:b.width,C=x?b:b.height,D=this._size,R=D.width,k=D.height;if(m&&"rectangle"===v&&0===w&&0===C)l.rect(-R/2,-k/2,R,k);else{var P=R/2,I=k/2,E=.44771525016920644,S=w*E,A=C*E,O=[-P,-I+C,-P,-I+A,-P+S,-I,-P+w,-I,P-w,-I,P-S,-I,P,-I+A,P,-I+C,P,I-C,P,I-A,P-S,I,P-w,I,-P+w,I,-P+S,I,-P,I-A,-P,I-C];u&&u.transform(O,O,32),l.moveTo(O[0],O[1]),l.bezierCurveTo(O[2],O[3],O[4],O[5],O[6],O[7]),P!==w&&l.lineTo(O[8],O[9]),l.bezierCurveTo(O[10],O[11],O[12],O[13],O[14],O[15]),I!==C&&l.lineTo(O[16],O[17]),l.bezierCurveTo(O[18],O[19],O[20],O[21],O[22],O[23]),P!==w&&l.lineTo(O[24],O[25]),l.bezierCurveTo(O[26],O[27],O[28],O[29],O[30],O[31])}}l.closePath()}!g&&(d||f)&&(this._setStyles(l,r,o),d&&(l.fill(c.getFillRule()),l.shadowColor="rgba(0,0,0,0)"),f&&l.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(l,r){var o=new Z(this._size).setCenter(0,0),u=this._style,c=r.stroke&&u.hasStroke()&&u.getStrokeWidth();return l&&(o=l._transformBounds(o)),c?o.expand($e._getStrokePadding(c,this._getStrokeMatrix(l,r))):o}},new function(){function l(o,u,c){var d=o._radius;if(!d.isZero())for(var f=o._size.divide(2),g=1;g<=4;g++){var m=new ae(g>1&&g<4?-1:1,g>2?-1:1),v=m.multiply(f),b=v.subtract(m.multiply(d));if(new Z(c?v.add(m.multiply(c)):v,b).contains(u))return{point:b,quadrant:g}}}function r(o,u,c,d){var f=o.divide(u);return(!d||f.isInQuadrant(d))&&f.subtract(f.normalize()).multiply(u).divide(c).length<=1}return{_contains:function o(u){if("rectangle"===this._type){var c=l(this,u);return c?u.subtract(c.point).divide(this._radius).getLength()<=1:o.base.call(this,u)}return u.divide(this.size).getLength()<=.5},_hitTestSelf:function o(u,c,d,f){var g=!1,m=this._style,v=c.stroke&&m.hasStroke(),b=c.fill&&m.hasFill();if(v||b){var x=this._type,w=this._radius,C=v?m.getStrokeWidth()/2:0,D=c._tolerancePadding.add($e._getStrokePadding(C,!m.getStrokeScaling()&&f));if("rectangle"===x){var R=D.multiply(2),k=l(this,u,R);if(k)g=r(u.subtract(k.point),w,D,k.quadrant);else{var P=new Z(this._size).setCenter(0,0),I=P.expand(R),E=P.expand(R.negate());g=I._containsPoint(u)&&!E._containsPoint(u)}}else g=r(u,w,D)}return g?new mn(v?"stroke":"fill",this):o.base.apply(this,arguments)}}},{statics:new function(){function l(r,o,u,c,d){var f=te.create(Ln.prototype);return f._type=r,f._size=u,f._radius=c,f._initialize(te.getNamed(d),o),f}return{Circle:function(){var r=arguments,o=ae.readNamed(r,"center"),u=te.readNamed(r,"radius");return l("circle",o,new Ze(2*u),u,r)},Rectangle:function(){var r=arguments,o=Z.readNamed(r,"rectangle"),u=Ze.min(Ze.readNamed(r,"radius"),o.getSize(!0).divide(2));return l("rectangle",o.getCenter(!0),o.getSize(!0),u,r)},Ellipse:function(){var r=arguments,o=Ln._readEllipse(r),u=o.radius;return l("ellipse",o.center,u.multiply(2),u,r)},_readEllipse:function(r){var o,u;if(te.hasNamed(r,"radius"))o=ae.readNamed(r,"center"),u=Ze.readNamed(r,"radius");else{var c=Z.readNamed(r,"rectangle");o=c.getCenter(!0),u=c.getSize(!0).divide(2)}return{center:o,radius:u}}}}}),Dn=lt.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(r,o){if(!this._initialize(r,o!==Ee&&ae.read(arguments))){var u,c=typeof r,d="string"===c?Dt.getElementById(r):"object"===c?r:null;if(d&&d!==lt.NO_INSERT)if(d.getContext||null!=d.naturalHeight)u=d;else if(d){var f=Ze.read(arguments);f.isZero()||(u=Kt.getCanvas(f))}u?this.setImage(u):this.setSource(r)}this._size||(this._size=new Ze,this._loaded=!1)},_equals:function(l){return this.getSource()===l.getSource()},copyContent:function(l){var r=l._image,o=l._canvas;if(r)this._setImage(r);else if(o){var u=Kt.getCanvas(l._size);u.getContext("2d").drawImage(o,0,0),this._setImage(u)}this._crossOrigin=l._crossOrigin},getSize:function(){var l=this._size;return new Ae(l?l.width:0,l?l.height:0,this,"setSize")},setSize:function(l,r){var o=Ze.read(arguments);if(o.equals(this._size))r&&this.clear();else if(o.width>0&&o.height>0){var u=!r&&this.getElement();this._setImage(Kt.getCanvas(o)),u&&this.getContext(!0).drawImage(u,0,0,o.width,o.height)}else this._canvas&&Kt.release(this._canvas),this._size=o.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(l){this.setSize(l,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(l){this.setSize(this.getWidth(),l)},getLoaded:function(){return this._loaded},isEmpty:function(){var l=this._size;return!l||0===l.width&&0===l.height},getResolution:function(){var l=this._matrix,r=new ae(0,0).transform(l),o=new ae(1,0).transform(l).subtract(r),u=new ae(0,1).transform(l).subtract(r);return new Ze(72/o.getLength(),72/u.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(l){var r=this;function o(u){var c=r.getView(),d=u&&u.type||"load";c&&r.responds(d)&&(Ve=c._scope,r.emit(d,new Fr(u)))}this._setImage(l),this._loaded?setTimeout(o,0):l&&Mt.add(l,{load:function(u){r._setImage(l),o(u)},error:o})},_setImage:function(l){this._canvas&&Kt.release(this._canvas),l&&l.getContext?(this._image=null,this._canvas=l,this._loaded=!0):(this._image=l,this._canvas=null,this._loaded=!!(l&&l.src&&l.complete)),this._size=new Ze(l?l.naturalWidth||l.width:0,l?l.naturalHeight||l.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var l=Kt.getContext(this._size);try{this._image&&l.drawImage(this._image,0,0),this._canvas=l.canvas}catch{Kt.release(l)}}return this._canvas},setCanvas:"#setImage",getContext:function(l){return this._context||(this._context=this.getCanvas().getContext("2d")),l&&(this._image=null,this._changed(1025)),this._context},setContext:function(l){this._context=l},getSource:function(){var l=this._image;return l&&l.src||this.toDataURL()},setSource:function(l){var r=new _i.Image,o=this._crossOrigin;o&&(r.crossOrigin=o),l&&(r.src=l),this.setImage(r)},getCrossOrigin:function(){var l=this._image;return l&&l.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(l){this._crossOrigin=l;var r=this._image;r&&(r.crossOrigin=l)},getSmoothing:function(){return this._smoothing},setSmoothing:function(l){this._smoothing="string"==typeof l?l:l?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var l=Z.read(arguments),r=Kt.getContext(l.getSize());return r.drawImage(this.getCanvas(),l.x,l.y,l.width,l.height,0,0,l.width,l.height),r.canvas},getSubRaster:function(){var l=Z.read(arguments),r=new Dn(lt.NO_INSERT);return r._setImage(this.getSubCanvas(l)),r.translate(l.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var l=this._image,r=l&&l.src;if(/^data:/.test(r))return r;var o=this.getCanvas();return o?o.toDataURL.apply(o,arguments):null},drawImage:function(l){var r=ae.read(arguments,1);this.getContext(!0).drawImage(l,r.x,r.y)},getAverageColor:function(l){var r,o;if(l?l instanceof Bn?(o=l,r=l.getBounds()):"object"==typeof l&&("width"in l?r=new Z(l):"x"in l&&(r=new Z(l.x-.5,l.y-.5,1,1))):r=this.getBounds(),!r)return null;var c=Math.min(r.width,32),d=Math.min(r.height,32),f=Dn._sampleContext;f?f.clearRect(0,0,33,33):f=Dn._sampleContext=Kt.getContext(new Ze(32)),f.save();var g=(new Zt).scale(c/r.width,d/r.height).translate(-r.x,-r.y);g.applyToContext(f),o&&o.draw(f,new te({clip:!0,matrices:[g]})),this._matrix.applyToContext(f);var m=this.getElement(),v=this._size;m&&f.drawImage(m,-v.width/2,-v.height/2),f.restore();for(var b=f.getImageData(.5,.5,Math.ceil(c),Math.ceil(d)).data,x=[0,0,0],w=0,C=0,D=b.length;C<D;C+=4){var R=b[C+3];w+=R,x[0]+=b[C]*(R/=255),x[1]+=b[C+1]*R,x[2]+=b[C+2]*R}for(C=0;C<3;C++)x[C]/=w;return w?Ye.read(x):null},getPixel:function(){var l=ae.read(arguments),r=this.getContext().getImageData(l.x,l.y,1,1).data;return new Ye("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var l=arguments,r=ae.read(l),o=Ye.read(l),u=o._convert("rgb"),c=o._alpha,d=this.getContext(!0),f=d.createImageData(1,1),g=f.data;g[0]=255*u[0],g[1]=255*u[1],g[2]=255*u[2],g[3]=null!=c?255*c:255,d.putImageData(f,r.x,r.y)},clear:function(){var l=this._size;this.getContext(!0).clearRect(0,0,l.width+1,l.height+1)},createImageData:function(){var l=Ze.read(arguments);return this.getContext().createImageData(l.width,l.height)},getImageData:function(){var l=Z.read(arguments);return l.isEmpty()&&(l=new Z(this._size)),this.getContext().getImageData(l.x,l.y,l.width,l.height)},putImageData:function(l){var r=ae.read(arguments,1);this.getContext(!0).putImageData(l,r.x,r.y)},setImageData:function(l){this.setSize(l),this.getContext(!0).putImageData(l,0,0)},_getBounds:function(l,r){var o=new Z(this._size).setCenter(0,0);return l?l._transformBounds(o):o},_hitTestSelf:function(l){if(this._contains(l)){var r=this;return new mn("pixel",r,{offset:l.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(l,r,o){var u=this.getElement();if(u&&u.width>0&&u.height>0){l.globalAlpha=Ue.clamp(this._opacity,0,1),this._setStyles(l,r,o);var c=this._smoothing,d="off"===c;fn.setPrefixed(l,d?"imageSmoothingEnabled":"imageSmoothingQuality",!d&&c),l.drawImage(u,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Rn=lt.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(r,o){this._initialize(r,o!==Ee&&ae.read(arguments,1))||this.setDefinition(r instanceof Si?r:new Si(r))},_equals:function(l){return this._definition===l._definition},copyContent:function(l){this.setDefinition(l._definition)},getDefinition:function(){return this._definition},setDefinition:function(l){this._definition=l,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(l,r){var o=this._definition._item;return o._getCachedBounds(o._matrix.prepended(l),r)},_hitTestSelf:function(l,r,o){var u=r.extend({all:!1}),c=this._definition._item._hitTest(l,u,o);return c&&(c.item=this),c},_draw:function(l,r){this._definition._item.draw(l,r)}}),Si=te.extend({_class:"SymbolDefinition",initialize:function(r,o){this._id=gt.get(),this.project=Ve.project,r&&this.setItem(r,o)},_serialize:function(l,r){return r.add(this,function(){return te.serialize([this._class,this._item],l,!1,r)})},_changed:function(l){8&l&&lt._clearBoundsCache(this),1&l&&this.project._changed(l)},getItem:function(){return this._item},setItem:function(l,r){l._symbol&&(l=l.clone()),this._item&&(this._item._symbol=null),this._item=l,l.remove(),l.setSelected(!1),r||l.setPosition(new ae),l._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(l){return new Rn(this,l)},clone:function(){return new Si(this._item.clone(!1))},equals:function(l){return l===this||l&&this._item.equals(l._item)||!1}}),mn=te.extend({_class:"HitResult",initialize:function(r,o,u){this.type=r,this.item=o,u&&this.inject(u)},statics:{getOptions:function(l){var r=l&&te.read(l);return new te({type:null,tolerance:Ve.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),Oe=te.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(r,o,u,c,d,f){var m,v,b,x,g=arguments.length;g>0&&(null==r||"object"==typeof r?1===g&&r&&"point"in r?(m=r.point,v=r.handleIn,b=r.handleOut,x=r.selection):(m=r,v=o,b=u,x=c):(m=[r,o],v=u!==Ee?[u,c]:null,b=d!==Ee?[d,f]:null)),new at(m,this,"_point"),new at(v,this,"_handleIn"),new at(b,this,"_handleOut"),x&&this.setSelection(x)},_serialize:function(l,r){var o=this._point,u=this._selection,c=u||this.hasHandles()?[o,this._handleIn,this._handleOut]:o;return u&&c.push(u),te.serialize(c,l,!0,r)},_changed:function(l){var r=this._path;if(r){var c,o=r._curves,u=this._index;o&&((!l||l===this._point||l===this._handleIn)&&(c=u>0?o[u-1]:r._closed?o[o.length-1]:null)&&c._changed(),(!l||l===this._point||l===this._handleOut)&&(c=o[u])&&c._changed()),r._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ae.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ae.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ae.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var l=this._handleIn,r=this._handleOut;return!l.isZero()&&!r.isZero()&&l.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(l){var r=this._selection,o=this._path;this._selection=l=l||0,o&&l!==r&&(o._updateSelection(this,r,l),o._changed(257))},_changeSelection:function(l,r){var o=this._selection;this.setSelection(r?o|l:o&~l)},isSelected:function(){return!!(7&this._selection)},setSelected:function(l){this._changeSelection(7,l)},getIndex:function(){return this._index!==Ee?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var l=this._path,r=this._index;return l?(r>0&&!l._closed&&r===l._segments.length-1&&r--,l.getCurves()[r]||null):null},getLocation:function(){var l=this.getCurve();return l?new Pe(l,this===l._segment1?0:1):null},getNext:function(){var l=this._path&&this._path._segments;return l&&(l[this._index+1]||this._path._closed&&l[0])||null},smooth:function(l,r,o){var u=l||{},c=u.type,d=u.factor,f=this.getPrevious(),g=this.getNext(),m=(f||this)._point,v=this._point,b=(g||this)._point,x=m.getDistance(v),w=v.getDistance(b);if(c&&"catmull-rom"!==c){if("geometric"!==c)throw new Error("Smoothing method '"+c+"' not supported.");if(f&&g){var S=m.subtract(b),A=d===Ee?.4:d,O=A*x/(x+w);r||this.setHandleIn(S.multiply(O)),o||this.setHandleOut(S.multiply(O-A))}}else{var E,C=d===Ee?.5:d,D=Math.pow(x,C),R=D*D,k=Math.pow(w,C),P=k*k;if(!r&&f){var I=2*P+3*k*D+R;this.setHandleIn(0!=(E=3*k*(k+D))?new ae((P*m._x+I*v._x-R*b._x)/E-v._x,(P*m._y+I*v._y-R*b._y)/E-v._y):new ae)}if(!o&&g)I=2*R+3*D*k+P,this.setHandleOut(0!=(E=3*D*(D+k))?new ae((R*b._x+I*v._x-P*m._x)/E-v._x,(R*b._y+I*v._y-P*m._y)/E-v._y):new ae)}},getPrevious:function(){var l=this._path&&this._path._segments;return l&&(l[this._index-1]||this._path._closed&&l[l.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var l=this._path;return l&&this._index===l._segments.length-1||!1},reverse:function(){var l=this._handleIn,r=this._handleOut,o=l.clone();l.set(r),r.set(o)},reversed:function(){return new Oe(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Oe(this._point,this._handleIn,this._handleOut)},equals:function(l){return l===this||l&&this._class===l._class&&this._point.equals(l._point)&&this._handleIn.equals(l._handleIn)&&this._handleOut.equals(l._handleOut)||!1},toString:function(){var l=["point: "+this._point];return this._handleIn.isZero()||l.push("handleIn: "+this._handleIn),this._handleOut.isZero()||l.push("handleOut: "+this._handleOut),"{ "+l.join(", ")+" }"},transform:function(l){this._transformCoordinates(l,new Array(6),!0),this._changed()},interpolate:function(l,r,o){var u=1-o,c=o,d=l._point,f=r._point,g=l._handleIn,m=r._handleIn,v=r._handleOut,b=l._handleOut;this._point._set(u*d._x+c*f._x,u*d._y+c*f._y,!0),this._handleIn._set(u*g._x+c*m._x,u*g._y+c*m._y,!0),this._handleOut._set(u*b._x+c*v._x,u*b._y+c*v._y,!0),this._changed()},_transformCoordinates:function(l,r,o){var u=this._point,c=o&&this._handleIn.isZero()?null:this._handleIn,d=o&&this._handleOut.isZero()?null:this._handleOut,f=u._x,g=u._y,m=2;return r[0]=f,r[1]=g,c&&(r[m++]=c._x+f,r[m++]=c._y+g),d&&(r[m++]=d._x+f,r[m++]=d._y+g),l&&(l._transformCoordinates(r,r,m/2),f=r[0],g=r[1],o?(u._x=f,u._y=g,m=2,c&&(c._x=r[m++]-f,c._y=r[m++]-g),d&&(d._x=r[m++]-f,d._y=r[m++]-g)):(c||(r[m++]=f,r[m++]=g),d||(r[m++]=f,r[m++]=g))),r}}),at=ae.extend({initialize:function(r,o,u){var c,d,f;if(r)if((c=r[0])!==Ee)d=r[1];else{var g=r;(c=g.x)===Ee&&(c=(g=ae.read(arguments)).x),d=g.y,f=g.selected}else c=d=0;this._x=c,this._y=d,this._owner=o,o[u]=this,f&&this.setSelected(!0)},_set:function(l,r){return this._x=l,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(l){this._x=l,this._owner._changed(this)},getY:function(){return this._y},setY:function(l){this._y=l,this._owner._changed(this)},isZero:function(){var l=Ue.isZero;return l(this._x)&&l(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(l){this._owner._changeSelection(this._getSelection(),l)},_getSelection:function(){var l=this._owner;return this===l._point?1:this===l._handleIn?2:this===l._handleOut?4:0}}),Fe=te.extend({_class:"Curve",beans:!0,initialize:function(r,o,u,c,d,f,g,m){var b,x,w,C,D,R,v=arguments.length;3===v?(this._path=r,b=o,x=u):v?1===v?"segment1"in r?(b=new Oe(r.segment1),x=new Oe(r.segment2)):"point1"in r?(w=r.point1,D=r.handle1,R=r.handle2,C=r.point2):Array.isArray(r)&&(w=[r[0],r[1]],C=[r[6],r[7]],D=[r[2]-r[0],r[3]-r[1]],R=[r[4]-r[6],r[5]-r[7]]):2===v?(b=new Oe(r),x=new Oe(o)):4===v?(w=r,D=o,R=u,C=c):8===v&&(w=[r,o],C=[g,m],D=[u-r,c-o],R=[d-g,f-m]):(b=new Oe,x=new Oe),this._segment1=b||new Oe(w,null,D),this._segment2=x||new Oe(C,R,null)},_serialize:function(l,r){return te.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],l,!0,r)},_changed:function(){this._length=this._bounds=Ee},clone:function(){return new Fe(this._segment1,this._segment2)},toString:function(){var l=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||l.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||l.push("handle2: "+this._segment2._handleIn),l.push("point2: "+this._segment2._point),"{ "+l.join(", ")+" }"},classify:function(){return Fe.classify(this.getValues())},remove:function(){var l=!1;if(this._path){var r=this._segment2,o=r._handleOut;(l=r.remove())&&this._segment1._handleOut.set(o)}return l},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ae.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ae.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ae.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ae.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var l=this._path&&this._path._curves;return l&&(l[this._segment1._index+1]||this._path._closed&&l[0])||null},getPrevious:function(){var l=this._path&&this._path._curves;return l&&(l[this._segment1._index-1]||this._path._closed&&l[l.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var l=this._path;return l&&this._segment1._index===l._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(l){this.getPoint1().setSelected(l),this.getHandle1().setSelected(l),this.getHandle2().setSelected(l),this.getPoint2().setSelected(l)},getValues:function(l){return Fe.getValues(this._segment1,this._segment2,l)},getPoints:function(){for(var l=this.getValues(),r=[],o=0;o<8;o+=2)r.push(new ae(l[o],l[o+1]));return r}},{getLength:function(){return null==this._length&&(this._length=Fe.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Fe.getArea(this.getValues())},getLine:function(){return new ft(this._segment1._point,this._segment2._point)},getPart:function(l,r){return new Fe(Fe.getPart(this.getValues(),l,r))},getPartLength:function(l,r){return Fe.getLength(this.getValues(),l,r)},divideAt:function(l){return this.divideAtTime(l&&l.curve===this?l.time:this.getTimeAt(l))},divideAtTime:function(l,r){var c=null;if(l>=1e-8&&l<=.99999999){var d=Fe.subdivide(this.getValues(),l),f=d[0],g=d[1],m=r||this.hasHandles(),v=this._segment1,b=this._segment2,x=this._path;m&&(v._handleOut._set(f[2]-f[0],f[3]-f[1]),b._handleIn._set(g[4]-g[6],g[5]-g[7]));var w=f[6],C=f[7],D=new Oe(new ae(w,C),m&&new ae(f[4]-w,f[5]-C),m&&new ae(g[2]-w,g[3]-C));x?(x.insert(v._index+1,D),c=this.getNext()):(this._segment2=D,this._changed(),c=new Fe(D,b))}return c},splitAt:function(l){var r=this._path;return r?r.splitAt(l):null},splitAtTime:function(l){return this.splitAt(this.getLocationAtTime(l))},divide:function(l,r){return this.divideAtTime(l===Ee?.5:r?l:this.getTimeAt(l))},split:function(l,r){return this.splitAtTime(l===Ee?.5:r?l:this.getTimeAt(l))},reversed:function(){return new Fe(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(l,r,o,u){var c=l._point,d=l._handleOut,f=r._handleIn,g=r._point,m=c.x,v=c.y,b=g.x,x=g.y,w=u?[m,v,m,v,b,x,b,x]:[m,v,m+d._x,v+d._y,b+f._x,x+f._y,b,x];return o&&o._transformCoordinates(w,w,4),w},subdivide:function(l,r){var o=l[0],u=l[1],c=l[2],d=l[3],f=l[4],g=l[5],m=l[6],v=l[7];r===Ee&&(r=.5);var b=1-r,x=b*o+r*c,w=b*u+r*d,C=b*c+r*f,D=b*d+r*g,R=b*f+r*m,k=b*g+r*v,P=b*x+r*C,I=b*w+r*D,E=b*C+r*R,S=b*D+r*k,A=b*P+r*E,O=b*I+r*S;return[[o,u,x,w,P,I,A,O],[A,O,E,S,R,k,m,v]]},getMonoCurves:function(l,r){var o=[],u=r?0:1,c=l[u+0],d=l[u+2],f=l[u+4],g=l[u+6];if(c>=d==d>=f&&d>=f==f>=g||Fe.isStraight(l))o.push(l);else{var C=[],D=Ue.solveQuadratic(3*(d-f)-c+g,2*(c+f)-4*d,d-c,C,1e-8,.99999999);if(D){C.sort();var R=C[0],k=Fe.subdivide(l,R);o.push(k[0]),D>1&&(k=Fe.subdivide(k[1],R=(C[1]-R)/(1-R)),o.push(k[0])),o.push(k[1])}else o.push(l)}return o},solveCubic:function(l,r,o,u,c,d){var f=l[r],g=l[r+2],m=l[r+4],v=l[r+6],b=0;if(!(f<o&&v<o&&g<o&&m<o||f>o&&v>o&&g>o&&m>o)){var x=3*(g-f),w=3*(m-g)-x;b=Ue.solveCubic(v-f-x-w,w,x,f-o,u,c,d)}return b},getTimeOf:function(l,r){var o=new ae(l[0],l[1]),u=new ae(l[6],l[7]),d=1e-7;if(null===(r.isClose(o,1e-12)?0:r.isClose(u,1e-12)?1:null))for(var g=[r.x,r.y],m=[],v=0;v<2;v++)for(var b=Fe.solveCubic(l,v,g[v],m,0,1),x=0;x<b;x++){var w=m[x];if(r.isClose(Fe.getPoint(l,w),d))return w}return r.isClose(o,d)?0:r.isClose(u,d)?1:null},getNearestTime:function(l,r){if(Fe.isStraight(l)){var o=l[0],u=l[1],f=l[6]-o,g=l[7]-u,m=f*f+g*g;if(0===m)return 0;var v=((r.x-o)*f+(r.y-u)*g)/m;return v<1e-12?0:v>.999999999999?1:Fe.getTimeOf(l,new ae(o+v*f,u+v*g))}var x=1/0,w=0;function C(k){if(k>=0&&k<=1){var P=r.getDistance(Fe.getPoint(l,k),!0);if(P<x)return x=P,w=k,!0}}for(var D=0;D<=100;D++)C(D/100);for(var R=.005;R>1e-8;)!C(w-R)&&!C(w+R)&&(R/=2);return w},getPart:function(l,r,o){var u=r>o;if(u){var c=r;r=o,o=c}return r>0&&(l=Fe.subdivide(l,r)[1]),o<1&&(l=Fe.subdivide(l,(o-r)/(1-r))[0]),u?[l[6],l[7],l[4],l[5],l[2],l[3],l[0],l[1]]:l},isFlatEnough:function(l,r){var o=l[0],u=l[1],m=l[6],v=l[7],b=3*l[2]-2*o-m,x=3*l[3]-2*u-v,w=3*l[4]-2*m-o,C=3*l[5]-2*v-u;return Math.max(b*b,w*w)+Math.max(x*x,C*C)<=16*r*r},getArea:function(l){var r=l[0],o=l[1],u=l[2],c=l[3],d=l[4],f=l[5],g=l[6],m=l[7];return 3*((m-o)*(u+d)-(g-r)*(c+f)+c*(r-d)-u*(o-f)+m*(d+r/3)-g*(f+o/3))/20},getBounds:function(l){for(var r=l.slice(0,2),o=r.slice(),u=[0,0],c=0;c<2;c++)Fe._addBounds(l[c],l[c+2],l[c+4],l[c+6],c,0,r,o,u);return new Z(r[0],r[1],o[0]-r[0],o[1]-r[1])},_addBounds:function(l,r,o,u,c,d,f,g,m){function v(A,O){var L=A-O,N=A+O;L<f[c]&&(f[c]=L),N>g[c]&&(g[c]=N)}var b=f[c]+(d/=2),x=g[c]-d;if(l<b||r<b||o<b||u<b||l>x||r>x||o>x||u>x)if(r<l!=r<u&&o<l!=o<u)v(l,0),v(u,0);else{var R=Ue.solveQuadratic(3*(r-o)-l+u,2*(l+o)-4*r,r-l,m);v(u,0);for(var I=0;I<R;I++){var E=m[I],S=1-E;1e-8<=E&&E<=.99999999&&v(S*S*S*l+3*S*S*E*r+3*S*E*E*o+E*E*E*u,d)}}}}},te.each(["getBounds","getStrokeBounds","getHandleBounds"],function(l){this[l]=function(){this._bounds||(this._bounds={});var r=this._bounds[l];return r||(r=this._bounds[l]=$e[l]([this._segment1,this._segment2],!1,this._path)),r.clone()}},{}),te.each({isStraight:function(l,r,o,u){if(r.isZero()&&o.isZero())return!0;var c=u.subtract(l);if(c.isZero())return!1;if(c.isCollinear(r)&&c.isCollinear(o)){var d=new ft(l,u);if(d.getDistance(l.add(r))<1e-7&&d.getDistance(u.add(o))<1e-7){var g=c.dot(c),m=c.dot(r)/g,v=c.dot(o)/g;return m>=0&&m<=1&&v<=0&&v>=-1}}return!1},isLinear:function(l,r,o,u){var c=u.subtract(l).divide(3);return r.equals(c)&&o.negate().equals(c)}},function(l,r){this[r]=function(o){var u=this._segment1,c=this._segment2;return l(u._point,u._handleOut,c._handleIn,c._point,o)},this.statics[r]=function(o,u){var c=o[0],d=o[1],f=o[6],g=o[7];return l(new ae(c,d),new ae(o[2]-c,o[3]-d),new ae(o[4]-f,o[5]-g),new ae(f,g),u)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(l){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(l||0)},isCollinear:function(l){return l&&this.isStraight()&&l.isStraight()&&this.getLine().isCollinear(l.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(l,r){return this.getLocationAtTime(r?l:this.getTimeAt(l))},getLocationAtTime:function(l){return null!=l&&l>=0&&l<=1?new Pe(this,l):null},getTimeAt:function(l,r){return Fe.getTimeAt(this.getValues(),l,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var l=ae.read(arguments);return l.isZero()?[]:Fe.getTimesWithTangent(this.getValues(),l)},getOffsetAtTime:function(l){return this.getPartLength(0,l)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ae.read(arguments)))},getOffsetOf:function(){var l=this.getLocationOf.apply(this,arguments);return l?l.getOffset():null},getTimeOf:function(){return Fe.getTimeOf(this.getValues(),ae.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var l=ae.read(arguments),r=this.getValues(),o=Fe.getNearestTime(r,l),u=Fe.getPoint(r,o);return new Pe(this,o,u,null,l.getDistance(u))},getNearestPoint:function(){var l=this.getNearestLocation.apply(this,arguments);return l&&l.getPoint()}},new function(){var l=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return te.each(l,function(r){this[r+"At"]=function(o,u){var c=this.getValues();return Fe[r](c,u?o:Fe.getTimeAt(c,o))},this[r+"AtTime"]=function(o){return Fe[r](this.getValues(),o)}},{statics:{_evaluateMethods:l}})},new function(){function l(u){var c=u[0],d=u[1],f=u[2],g=u[3],m=u[4],v=u[5],w=9*(f-m)+3*(u[6]-c),C=6*(c+m)-12*f,D=3*(f-c),R=9*(g-v)+3*(u[7]-d),k=6*(d+v)-12*g,P=3*(g-d);return function(I){var E=(w*I+C)*I+D,S=(R*I+k)*I+P;return Math.sqrt(E*E+S*S)}}function r(u,c){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(c-u))))}function o(u,c,d,f){if(null==c||c<0||c>1)return null;var g=u[0],m=u[1],v=u[2],b=u[3],x=u[4],w=u[5],C=u[6],D=u[7],R=Ue.isZero;R(v-g)&&R(b-m)&&(v=g,b=m),R(x-C)&&R(w-D)&&(x=C,w=D);var O,L,k=3*(v-g),P=3*(x-v)-k,I=C-g-k-P,E=3*(b-m),S=3*(w-b)-E,A=D-m-E-S;if(0===d)O=0===c?g:1===c?C:((I*c+P)*c+k)*c+g,L=0===c?m:1===c?D:((A*c+S)*c+E)*c+m;else{var N=1e-8,B=1-N;if(c<N?(O=k,L=E):c>B?(O=3*(C-x),L=3*(D-w)):(O=(3*I*c+2*P)*c+k,L=(3*A*c+2*S)*c+E),f){0===O&&0===L&&(c<N||c>B)&&(O=x-v,L=w-b);var V=Math.sqrt(O*O+L*L);V&&(O/=V,L/=V)}if(3===d){x=6*I*c+2*P,w=6*A*c+2*S;var H=Math.pow(O*O+L*L,1.5);O=0!==H?(O*w-L*x)/H:0,L=0}}return 2===d?new ae(L,-O):new ae(O,L)}return{statics:{classify:function(u){var c=u[0],d=u[1],f=u[2],g=u[3],m=u[4],v=u[5],b=u[6],x=u[7],C=f*(d-x)+g*(b-c)+c*x-d*b,R=3*(m*(g-d)+v*(c-f)+f*d-g*c),k=R-C,P=k-C+(c*(x-v)+d*(m-b)+b*v-x*m),I=Math.sqrt(P*P+k*k+R*R),E=0!==I?1/I:0,S=Ue.isZero,A="serpentine";function O(V,H,G){var U=H!==Ee,$=U&&H>0&&H<1,q=U&&G>0&&G<1;return U&&(!($||q)||"loop"===V&&!($&&q))&&(V="arch",$=q=!1),{type:V,roots:$||q?$&&q?H<G?[H,G]:[G,H]:[$?H:G]:null}}if(k*=E,R*=E,S(P*=E))return S(k)?O(S(R)?"line":"quadratic"):O(A,R/(3*k));var L=3*k*k-4*P*R;if(S(L))return O("cusp",k/(2*P));var N=L>0?Math.sqrt(L/3):Math.sqrt(-L),B=2*P;return O(L>0?A:"loop",(k+N)/B,(k-N)/B)},getLength:function(u,c,d,f){if(c===Ee&&(c=0),d===Ee&&(d=1),Fe.isStraight(u)){var g=u;d<1&&(g=Fe.subdivide(g,d)[0],c/=d),c>0&&(g=Fe.subdivide(g,c)[1]);var m=g[6]-g[0],v=g[7]-g[1];return Math.sqrt(m*m+v*v)}return Ue.integrate(f||l(u),c,d,r(c,d))},getTimeAt:function(u,c,d){if(d===Ee&&(d=c<0?1:0),0===c)return d;var f=Math.abs,m=c>0,v=m?d:0,b=m?1:d,x=l(u),w=Fe.getLength(u,v,b,x),C=f(c)-w;if(f(C)<1e-12)return m?b:v;if(C>1e-12)return null;var R=0;return Ue.findRoot(function k(P){return R+=Ue.integrate(x,d,P,r(d,P)),d=P,R-c},x,d+c/w,v,b,32,1e-12)},getPoint:function(u,c){return o(u,c,0,!1)},getTangent:function(u,c){return o(u,c,1,!0)},getWeightedTangent:function(u,c){return o(u,c,1,!1)},getNormal:function(u,c){return o(u,c,2,!0)},getWeightedNormal:function(u,c){return o(u,c,2,!1)},getCurvature:function(u,c){return o(u,c,3,!1).x},getPeaks:function(u){var c=u[0],d=u[1],f=u[2],g=u[3],m=u[4],v=u[5],w=3*f-c-3*m+u[6],C=3*c-6*f+3*m,D=-3*c+3*f,R=3*g-d-3*v+u[7],k=3*d-6*g+3*v,P=-3*d+3*g,S=[];return Ue.solveCubic(9*(w*w+R*R),9*(w*C+k*R),2*(C*C+k*k)+3*(D*w+P*R),D*C+k*P,S,1e-8,.99999999),S.sort()}}}},new function(){function l(C,D,R,k,P,I,E){var S=!E&&R.getPrevious()===P,A=!E&&R!==P&&R.getNext()===P,O=1e-8,L=1-O;if(null!==k&&k>=(S?O:0)&&k<=(A?L:1)&&null!==I&&I>=(A?O:0)&&I<=(S?L:1)){var N=new Pe(R,k,null,E),B=new Pe(P,I,null,E);N._intersection=B,B._intersection=N,(!D||D(N))&&Pe.insert(C,N,!0)}}function r(C,D,R,k,P,I,E,S,A,O,L,N,B){if(++A>=4096||++S>=40)return A;var ke,Ne,H=D[0],G=D[1],U=D[6],$=D[7],q=ft.getSignedDistance,K=q(H,G,U,$,D[2],D[3]),X=q(H,G,U,$,D[4],D[5]),ee=K*X>0?3/4:4/9,ue=ee*Math.min(0,K,X),fe=ee*Math.max(0,K,X),ve=q(H,G,U,$,C[0],C[1]),_e=q(H,G,U,$,C[2],C[3]),he=q(H,G,U,$,C[4],C[5]),de=q(H,G,U,$,C[6],C[7]),ce=function o(C,D,R,k){var L,P=[0,C],I=[1/3,D],E=[2/3,R],S=[1,k],A=D-(2*C+k)/3,O=R-(C+2*k)/3;if(A*O<0)L=[[P,I,S],[P,E,S]];else{var N=A/O;L=[N>=2?[P,I,S]:N<=.5?[P,E,S]:[P,I,E,S],[P,S]]}return(A||O)<0?L.reverse():L}(ve,_e,he,de),be=ce[0],De=ce[1];if(0===K&&0===X&&0===ve&&0===_e&&0===he&&0===de||null==(ke=u(be,De,ue,fe))||null==(Ne=u(be.reverse(),De.reverse(),ue,fe)))return A;var ze=O+(L-O)*ke,He=O+(L-O)*Ne;if(Math.max(B-N,He-ze)<1e-9){var Je=(ze+He)/2,Vt=(N+B)/2;l(P,I,E?k:R,E?Vt:Je,E?R:k,E?Je:Vt)}else{C=Fe.getPart(C,ke,Ne);var ct=B-N;if(Ne-ke>.8)if(He-ze>ct)A=r(D,(xt=Fe.subdivide(C,.5))[0],k,R,P,I,!E,S,A,N,B,ze,Je=(ze+He)/2),A=r(D,xt[1],k,R,P,I,!E,S,A,N,B,Je,He);else{var xt;A=r((xt=Fe.subdivide(D,.5))[0],C,k,R,P,I,!E,S,A,N,Vt=(N+B)/2,ze,He),A=r(xt[1],C,k,R,P,I,!E,S,A,Vt,B,ze,He)}else A=0===ct||ct>=1e-9?r(D,C,k,R,P,I,!E,S,A,N,B,ze,He):r(C,D,R,k,P,I,E,S,A,ze,He,N,B)}return A}function u(C,D,R,k){return C[0][1]<R?c(C,!0,R):D[0][1]>k?c(D,!1,k):C[0][0]}function c(C,D,R){for(var k=C[0][0],P=C[0][1],I=1,E=C.length;I<E;I++){var S=C[I][0],A=C[I][1];if(D?A>=R:A<=R)return A===R?S:k+(R-P)*(S-k)/(A-P);k=S,P=A}return null}function d(C,D,R,k,P){var I=Ue.isZero;if(I(k)&&I(P)){var E=Fe.getTimeOf(C,new ae(D,R));return null===E?[]:[E]}for(var S=Math.atan2(-P,k),A=Math.sin(S),O=Math.cos(S),L=[],N=[],B=0;B<8;B+=2){var V=C[B]-D,H=C[B+1]-R;L.push(V*O-H*A,V*A+H*O)}return Fe.solveCubic(L,1,0,N,0,1),N}function f(C,D,R,k,P,I,E){for(var S=D[0],A=D[1],N=d(C,S,A,D[6]-S,D[7]-A),B=0,V=N.length;B<V;B++){var H=N[B],G=Fe.getPoint(C,H),U=Fe.getTimeOf(D,G);null!==U&&l(P,I,E?k:R,E?U:H,E?R:k,E?H:U)}}function g(C,D,R,k,P,I){var E=ft.intersect(C[0],C[1],C[6],C[7],D[0],D[1],D[6],D[7]);E&&l(P,I,R,Fe.getTimeOf(C,E),k,Fe.getTimeOf(D,E))}function m(C,D,R,k,P,I){var E=1e-12,S=Math.min,A=Math.max;if(A(C[0],C[2],C[4],C[6])+E>S(D[0],D[2],D[4],D[6])&&S(C[0],C[2],C[4],C[6])-E<A(D[0],D[2],D[4],D[6])&&A(C[1],C[3],C[5],C[7])+E>S(D[1],D[3],D[5],D[7])&&S(C[1],C[3],C[5],C[7])-E<A(D[1],D[3],D[5],D[7])){var O=x(C,D);if(O)for(var L=0;L<2;L++){var N=O[L];l(P,I,R,N[0],k,N[1],!0)}else{var B=Fe.isStraight(C),V=Fe.isStraight(D),H=B&&V,G=B&&!V,U=P.length;if((H?g:B||V?f:r)(G?D:C,G?C:D,G?k:R,G?R:k,P,I,G,0,0,0,1,0,1),!H||P.length===U)for(L=0;L<4;L++){var $=L>>1,q=1&L,K=6*$,X=6*q,ee=new ae(C[K],C[K+1]),ue=new ae(D[X],D[X+1]);ee.isClose(ue,E)&&l(P,I,R,$,k,q)}}}return P}function v(C,D,R,k){var P=Fe.classify(C);if("loop"===P.type){var I=P.roots;l(R,k,D,I[0],D,I[1])}return R}function x(C,D){function R(de){var ce=de[6]-de[0],be=de[7]-de[1];return ce*ce+be*be}var k=Math.abs,P=ft.getDistance,E=1e-7,S=Fe.isStraight(C),A=Fe.isStraight(D),O=S&&A,L=R(C)<R(D),N=L?D:C,B=L?C:D,V=N[0],H=N[1],G=N[6]-V,U=N[7]-H;if(P(V,H,G,U,B[0],B[1],!0)<E&&P(V,H,G,U,B[6],B[7],!0)<E)!O&&P(V,H,G,U,N[2],N[3],!0)<E&&P(V,H,G,U,N[4],N[5],!0)<E&&P(V,H,G,U,B[2],B[3],!0)<E&&P(V,H,G,U,B[4],B[5],!0)<E&&(S=A=O=!0);else if(O)return null;if(S^A)return null;for(var $=[C,D],q=[],K=0;K<4&&q.length<2;K++){var X=1&K,ee=1^X,ue=K>>1,fe=Fe.getTimeOf($[X],new ae($[ee][ue?6:0],$[ee][ue?7:1]));if(null!=fe){var ve=X?[ue,fe]:[fe,ue];(!q.length||k(ve[0]-q[0][0])>1e-8&&k(ve[1]-q[0][1])>1e-8)&&q.push(ve)}if(K>2&&!q.length)break}if(2!==q.length)q=null;else if(!O){var _e=Fe.getPart(C,q[0][0],q[1][0]),he=Fe.getPart(D,q[0][1],q[1][1]);(k(he[2]-_e[2])>E||k(he[3]-_e[3])>E||k(he[4]-_e[4])>E||k(he[5]-_e[5])>E)&&(q=null)}return q}return{getIntersections:function(C){var D=this.getValues(),R=C&&C!==this&&C.getValues();return R?m(D,R,this,C,[]):v(D,this,[])},statics:{getOverlaps:x,getIntersections:function b(C,D,R,k,P,I){var S=!D;S&&(D=C);for(var A=C.length,O=D.length,L=new Array(A),N=S?L:new Array(O),B=[],V=0;V<A;V++)L[V]=C[V].getValues(k);if(!S)for(V=0;V<O;V++)N[V]=D[V].getValues(P);for(var H=En.findCurveBoundsCollisions(L,N,1e-7),G=0;G<A;G++){var U=C[G],$=L[G];S&&v($,U,B,R);var q=H[G];if(q)for(var K=0;K<q.length;K++){if(I&&B.length)return B;var X=q[K];(!S||X>G)&&m($,N[X],U,D[X],B,R)}}return B},getCurveLineIntersections:d,getTimesWithTangent:function w(C,D){var R=C[0],k=C[1],P=C[2],I=C[3],E=C[4],S=C[5],A=C[6],O=C[7],L=D.normalize(),N=L.x,B=L.y,V=3*A-9*E+9*P-3*R,H=3*O-9*S+9*I-3*k,G=6*E-12*P+6*R,U=6*S-12*I+6*k,$=3*P-3*R,q=3*I-3*k,K=2*V*B-2*H*N,X=[];if(Math.abs(K)<Ue.CURVETIME_EPSILON){if(0!=(K=V*U-H*G)){var ue=-(V*q-H*$)/K;ue>=0&&ue<=1&&X.push(ue)}}else{var fe=(G*G-4*V*$)*B*B+(-2*G*U+4*H*$+4*V*q)*N*B+(U*U-4*H*q)*N*N,ve=G*B-U*N;if(fe>=0&&0!=K){var _e=Math.sqrt(fe),he=-(ve+_e)/K,de=(-ve+_e)/K;he>=0&&he<=1&&X.push(he),de>=0&&de<=1&&X.push(de)}}return X}}}}),Pe=te.extend({_class:"CurveLocation",initialize:function(r,o,u,c,d){if(o>=.99999999){var f=r.getNext();f&&(o=0,r=f)}this._setCurve(r),this._time=o,this._point=u||r.getPointAtTime(o),this._overlap=c,this._distance=d,this._intersection=this._next=this._previous=null},_setPath:function(l){this._path=l,this._version=l?l._version:0},_setCurve:function(l){this._setPath(l._path),this._curve=l,this._segment=null,this._segment1=l._segment1,this._segment2=l._segment2},_setSegment:function(l){var r=l.getCurve();r?this._setCurve(r):(this._setPath(l._path),this._segment1=l,this._segment2=null),this._segment=l,this._time=l===this._segment1?0:1,this._point=l._point.clone()},getSegment:function(){var l=this._segment;if(!l){var r=this.getCurve(),o=this.getTime();0===o?l=r._segment1:1===o?l=r._segment2:null!=o&&(l=r.getPartLength(0,o)<r.getPartLength(o,1)?r._segment1:r._segment2),this._segment=l}return l},getCurve:function(){var l=this._path,r=this;function o(u){var c=u&&u.getCurve();if(c&&null!=(r._time=c.getTimeOf(r._point)))return r._setCurve(c),c}return l&&l._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||o(this._segment)||o(this._segment1)||o(this._segment2.getPrevious())},getPath:function(){var l=this.getCurve();return l&&l._path},getIndex:function(){var l=this.getCurve();return l&&l.getIndex()},getTime:function(){var l=this.getCurve(),r=this._time;return l&&null==r?this._time=l.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var l=this._offset;if(null==l){l=0;var r=this.getPath(),o=this.getIndex();if(r&&null!=o)for(var u=r.getCurves(),c=0;c<o;c++)l+=u[c].getLength();this._offset=l+=this.getCurveOffset()}return l},getCurveOffset:function(){var l=this._curveOffset;if(null==l){var r=this.getCurve(),o=this.getTime();this._curveOffset=l=null!=o&&r&&r.getPartLength(0,o)}return l},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var l=this.getCurve(),r=l&&l.divideAtTime(this.getTime());return r&&this._setSegment(r._segment1),r},split:function(){var l=this.getCurve(),r=l._path,o=l&&l.splitAtTime(this.getTime());return o&&this._setSegment(r.getLastSegment()),o},equals:function(l,r){var o=this===l;if(!o&&l instanceof Pe){var u=this.getCurve(),c=l.getCurve(),d=u._path;if(d===c._path){var g=Math.abs,v=g(this.getOffset()-l.getOffset()),b=!r&&this._intersection,x=!r&&l._intersection;o=(v<1e-7||d&&g(d.getLength()-v)<1e-7)&&(!b&&!x||b&&x&&b.equals(x,!0))}}return o},toString:function(){var l=[],r=this.getPoint(),o=yn.instance;r&&l.push("point: "+r);var u=this.getIndex();null!=u&&l.push("index: "+u);var c=this.getTime();return null!=c&&l.push("time: "+o.number(c)),null!=this._distance&&l.push("distance: "+o.number(this._distance)),"{ "+l.join(", ")+" }"},isTouching:function(){var l=this._intersection;if(l&&this.getTangent().isCollinear(l.getTangent())){var r=this.getCurve(),o=l.getCurve();return!(r.isStraight()&&o.isStraight()&&r.getLine().intersect(o.getLine()))}return!1},isCrossing:function(){var l=this._intersection;if(!l)return!1;var r=this.getTime(),o=l.getTime(),u=1e-8,c=1-u,d=r>=u&&r<=c,f=o>=u&&o<=c;if(d&&f)return!this.isTouching();var g=this.getCurve(),m=g&&r<u?g.getPrevious():g,v=l.getCurve(),b=v&&o<u?v.getPrevious():v;if(r>c&&(g=g.getNext()),o>c&&(v=v.getNext()),!(m&&g&&b&&v))return!1;var x=[];function w(N,B){var V=N.getValues(),H=Fe.classify(V).roots||Fe.getPeaks(V),G=H.length,U=Fe.getLength(V,B&&G?H[G-1]:0,!B&&G?H[0]:1);x.push(G?U:U/32)}function C(N,B,V){return B<V?N>B&&N<V:N>B||N<V}d||(w(m,!0),w(g,!1)),f||(w(b,!0),w(v,!1));var D=this.getPoint(),R=Math.min.apply(Math,x),k=d?g.getTangentAtTime(r):g.getPointAt(R).subtract(D),P=d?k.negate():m.getPointAt(-R).subtract(D),I=f?v.getTangentAtTime(o):v.getPointAt(R).subtract(D),E=f?I.negate():b.getPointAt(-R).subtract(D),S=P.getAngle(),A=k.getAngle(),O=E.getAngle(),L=I.getAngle();return!!(d?C(S,O,L)^C(A,O,L)&&C(S,L,O)^C(A,L,O):C(O,S,A)^C(L,S,A)&&C(O,A,S)^C(L,A,S))},hasOverlap:function(){return!!this._overlap}},te.each(Fe._evaluateMethods,function(l){var r=l+"At";this[l]=function(){var o=this.getCurve(),u=this.getTime();return null!=u&&o&&o[r](u,!0)}},{preserve:!0}),new function(){function l(r,o,u){var c=r.length,d=0,f=c-1;function g(D,R){for(var k=D+R;k>=-1&&k<=c;k+=R){var P=r[(k%c+c)%c];if(!o.getPoint().isClose(P.getPoint(),1e-7))break;if(o.equals(P))return P}return null}for(;d<=f;){var b,m=d+f>>>1,v=r[m];if(u&&(b=o.equals(v)?v:g(m,-1)||g(m,1)))return o._overlap&&(b._overlap=b._intersection._overlap=!0),b;var x=o.getPath(),w=v.getPath();(x!==w?x._id-w._id:o.getIndex()+o.getTime()-(v.getIndex()+v.getTime()))<0?f=m-1:d=m+1}return r.splice(d,0,o),o}return{statics:{insert:l,expand:function(r){for(var o=r.slice(),u=r.length-1;u>=0;u--)l(o,r[u]._intersection,!1);return o}}}}),Bn=lt.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(l){var r,o,u;if(te.isPlainObject(l)?(o=l.segments,r=l.pathData):Array.isArray(l)?o=l:"string"==typeof l&&(r=l),o){var c=o[0];u=c&&Array.isArray(c[0])}else r&&(u=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r));return new(u?yt:$e)(l)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(l){this.isClockwise()!=(l=!!l)&&this.reverse()},setPathData:function(l){var o,c,d,r=l&&l.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),u=!1,f=new ae,g=new ae;function m(E,S){var A=+o[E];return u&&(A+=f[S]),A}function v(E){return new ae(m(E,"x"),m(E+1,"y"))}this.clear();for(var b=0,x=r&&r.length;b<x;b++){var w=r[b],C=w[0],D=C.toLowerCase(),R=(o=w.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&o.length;switch(u=C===D,"z"===c&&!/[mz]/.test(D)&&this.moveTo(f),D){case"m":case"l":for(var k="m"===D,P=0;P<R;P+=2)this[k?"moveTo":"lineTo"](f=v(P)),k&&(g=f,k=!1);d=f;break;case"h":case"v":var I="h"===D?"x":"y";for(f=f.clone(),P=0;P<R;P++)f[I]=m(P,I),this.lineTo(f);d=f;break;case"c":for(P=0;P<R;P+=6)this.cubicCurveTo(v(P),d=v(P+2),f=v(P+4));break;case"s":for(P=0;P<R;P+=4)this.cubicCurveTo(/[cs]/.test(c)?f.multiply(2).subtract(d):f,d=v(P),f=v(P+2)),c=D;break;case"q":for(P=0;P<R;P+=4)this.quadraticCurveTo(d=v(P),f=v(P+2));break;case"t":for(P=0;P<R;P+=2)this.quadraticCurveTo(d=/[qt]/.test(c)?f.multiply(2).subtract(d):f,f=v(P)),c=D;break;case"a":for(P=0;P<R;P+=7)this.arcTo(f=v(P+5),new Ze(+o[P],+o[P+1]),+o[P+2],+o[P+4],+o[P+3]);break;case"z":this.closePath(1e-12),f=g}c=D}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(l){var r=l.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(l):{};return r.onPath||!!("evenodd"===this.getFillRule()?1&r.windingL||1&r.windingR:r.winding)},getIntersections:function(l,r,o,u){var c=this===l||!l,d=this._matrix._orNullIfIdentity(),f=c?d:(o||l._matrix)._orNullIfIdentity();return c||this.getBounds(d).intersects(l.getBounds(f),1e-12)?Fe.getIntersections(this.getCurves(),!c&&l.getCurves(),r,d,f,u):[]},getCrossings:function(l){return this.getIntersections(l,function(r){return r.isCrossing()})},getNearestLocation:function(){for(var l=ae.read(arguments),r=this.getCurves(),o=1/0,u=null,c=0,d=r.length;c<d;c++){var f=r[c].getNearestLocation(l);f._distance<o&&(o=f._distance,u=f)}return u},getNearestPoint:function(){var l=this.getNearestLocation.apply(this,arguments);return l&&l.getPoint()},interpolate:function(l,r,o){var u=!this._children,c=u?"_segments":"_children",d=l[c],f=r[c],g=this[c];if(!d||!f||d.length!==f.length)throw new Error("Invalid operands in interpolate() call: "+l+", "+r);var m=g.length,v=f.length;if(m<v)for(var b=u?Oe:$e,x=m;x<v;x++)this.add(new b);else m>v&&this[u?"removeSegments":"removeChildren"](v,m);for(x=0;x<v;x++)g[x].interpolate(d[x],f[x],o);u&&(this.setClosed(l._closed),this._changed(9))},compare:function(l){var r=!1;if(l){var o=this._children||[this],u=l._children?l._children.slice():[l],c=o.length,d=u.length,f=[],g=0;r=!0;for(var m=En.findItemBoundsCollisions(o,u,Ue.GEOMETRIC_EPSILON),v=c-1;v>=0&&r;v--){var b=o[v];r=!1;var x=m[v];if(x)for(var w=x.length-1;w>=0&&!r;w--)b.compare(u[x[w]])&&(f[x[w]]||(f[x[w]]=!0,g++),r=!0)}r=r&&g===d}return r}}),$e=Bn.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(r){this._closed=!1,this._segments=[],this._version=0;var o=arguments,u=Array.isArray(r)?"object"==typeof r[0]?r:o:!r||r.size!==Ee||r.x===Ee&&r.point===Ee?null:o;u&&u.length>0?this.setSegments(u):(this._curves=Ee,this._segmentSelection=0,!u&&"string"==typeof r&&(this.setPathData(r),r=null)),this._initialize(!u&&r)},_equals:function(l){return this._closed===l._closed&&te.equals(this._segments,l._segments)},copyContent:function(l){this.setSegments(l._segments),this._closed=l._closed},_changed:function l(r){if(l.base.call(this,r),8&r){if(this._length=this._area=Ee,32&r)this._version++;else if(this._curves)for(var o=0,u=this._curves.length;o<u;o++)this._curves[o]._changed()}else 64&r&&(this._bounds=Ee)},getStyle:function(){var l=this._parent;return(l instanceof yt?l:this)._style},getSegments:function(){return this._segments},setSegments:function(l){var r=this.isFullySelected(),o=l&&l.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=Ee,o){var u=l[o-1];"boolean"==typeof u&&(this.setClosed(u),o--),this._add(Oe.readList(l,0,{},o))}r&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var l=this._curves,r=this._segments;if(!l){var o=this._countCurves();l=this._curves=new Array(o);for(var u=0;u<o;u++)l[u]=new Fe(this,r[u],r[u+1]||r[0])}return l},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var l=this.getCurves();return l[l.length-1]},isClosed:function(){return this._closed},setClosed:function(l){if(this._closed!=(l=!!l)){if(this._closed=l,this._curves){var r=this._curves.length=this._countCurves();l&&(this._curves[r-1]=new Fe(this,this._segments[r-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(l,r){var g,m,v,b,x,w,C,D,o=this._segments,u=o.length,c=new yn(r),d=new Array(6),f=!0,R=[];function k(I,E){if(I._transformCoordinates(l,d),g=d[0],m=d[1],f)R.push("M"+c.pair(g,m)),f=!1;else if(w=d[3],(x=d[2])===g&&w===m&&C===v&&D===b){if(!E){var S=g-v,A=m-b;R.push(0===S?"v"+c.number(A):0===A?"h"+c.number(S):"l"+c.pair(S,A))}}else R.push("c"+c.pair(C-v,D-b)+" "+c.pair(x-v,w-b)+" "+c.pair(g-v,m-b));v=g,b=m,C=d[4],D=d[5]}if(!u)return"";for(var P=0;P<u;P++)k(o[P]);return this._closed&&u>0&&(k(o[0],!0),R.push("z")),R.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(l){for(var r=this._segments,o=new Array(6),u=0,c=r.length;u<c;u++)r[u]._transformCoordinates(l,o,!0);return!0},_add:function(l,f){for(var o=this._segments,u=this._curves,c=l.length,d=null==f,g=(f=d?o.length:f,0);g<c;g++){var m=l[g];m._path&&(m=l[g]=m.clone()),m._path=this,m._index=f+g,m._selection&&this._updateSelection(m,0,m._selection)}if(d)te.push(o,l);else{o.splice.apply(o,[f,0].concat(l)),g=f+c;for(var v=o.length;g<v;g++)o[g]._index=g}if(u){var b=this._countCurves(),x=f>0&&f+c-1===b?f-1:f,w=x,C=Math.min(x+c,b);for(l._curves&&(u.splice.apply(u,[x,0].concat(l._curves)),w+=l._curves.length),g=w;g<C;g++)u.splice(g,0,new Fe(this,null,null));this._adjustCurves(x,C)}return this._changed(41),l},_adjustCurves:function(l,r){for(var c,o=this._segments,u=this._curves,d=l;d<r;d++)(c=u[d])._path=this,c._segment1=o[d],c._segment2=o[d+1]||o[0],c._changed();(c=u[this._closed&&!l?o.length-1:l-1])&&(c._segment2=o[l]||o[0],c._changed()),(c=u[r])&&(c._segment1=o[r],c._changed())},_countCurves:function(){var l=this._segments.length;return!this._closed&&l>0?l-1:l},add:function(l){var r=arguments;return r.length>1&&"number"!=typeof l?this._add(Oe.readList(r)):this._add([Oe.read(r)])[0]},insert:function(l,r){var o=arguments;return o.length>2&&"number"!=typeof r?this._add(Oe.readList(o,1),l):this._add([Oe.read(o,1)],l)[0]},addSegment:function(){return this._add([Oe.read(arguments)])[0]},insertSegment:function(l){return this._add([Oe.read(arguments,1)],l)[0]},addSegments:function(l){return this._add(Oe.readList(l))},insertSegments:function(l,r){return this._add(Oe.readList(r),l)},removeSegment:function(l){return this.removeSegments(l,l+1)[0]||null},removeSegments:function(l,r,o){l=l||0,r=te.pick(r,this._segments.length);var u=this._segments,c=this._curves,d=u.length,f=u.splice(l,r-l),g=f.length;if(!g)return f;for(var m=0;m<g;m++){var v=f[m];v._selection&&this._updateSelection(v,v._selection,0),v._index=v._path=null}m=l;for(var b=u.length;m<b;m++)u[m]._index=m;if(c){var x=l>0&&r===d+(this._closed?1:0)?l-1:l;for(m=(c=c.splice(x,g)).length-1;m>=0;m--)c[m]._path=null;o&&(f._curves=c.slice(1)),this._adjustCurves(x,x)}return this._changed(41),f},clear:"#removeSegments",hasHandles:function(){for(var l=this._segments,r=0,o=l.length;r<o;r++)if(l[r].hasHandles())return!0;return!1},clearHandles:function(){for(var l=this._segments,r=0,o=l.length;r<o;r++)l[r].clearHandles()},getLength:function(){if(null==this._length){for(var l=this.getCurves(),r=0,o=0,u=l.length;o<u;o++)r+=l[o].getLength();this._length=r}return this._length},getArea:function(){var l=this._area;if(null==l){var r=this._segments,o=this._closed;l=0;for(var u=0,c=r.length;u<c;u++){var d=u+1===c;l+=Fe.getArea(Fe.getValues(r[u],r[d?0:u+1],null,d&&!o))}this._area=l}return l},isFullySelected:function(){var l=this._segments.length;return this.isSelected()&&l>0&&this._segmentSelection===7*l},setFullySelected:function(l){l&&this._selectSegments(!0),this.setSelected(l)},setSelection:function l(r){1&r||this._selectSegments(!1),l.base.call(this,r)},_selectSegments:function(l){var r=this._segments,o=r.length,u=l?7:0;this._segmentSelection=u*o;for(var c=0;c<o;c++)r[c]._selection=u},_updateSelection:function(l,r,o){l._selection=o,(this._segmentSelection+=o-r)>0&&this.setSelected(!0)},divideAt:function(l){var o,r=this.getLocationAt(l);return r&&(o=r.getCurve().divideAt(r.getCurveOffset()))?o._segment1:null},splitAt:function(l){var r=this.getLocationAt(l),o=r&&r.index,u=r&&r.time;u>.99999999&&(o++,u=0);var f=this.getCurves();if(o>=0&&o<f.length){u>=1e-8&&f[o++].divideAtTime(u);var m,g=this.removeSegments(o,this._segments.length,!0);return this._closed?(this.setClosed(!1),m=this):((m=new $e(lt.NO_INSERT)).insertAbove(this),m.copyAttributes(this)),m._add(g,0),this.addSegment(g[0]),m}return null},split:function(l,r){var o,u=r===Ee?l:(o=this.getCurves()[l])&&o.getLocationAtTime(r);return null!=u?this.splitAt(u):null},join:function(l,r){var o=r||0;if(l&&l!==this){var u=l._segments,c=this.getLastSegment(),d=l.getLastSegment();if(!d)return this;c&&c._point.isClose(d._point,o)&&l.reverse();var f=l.getFirstSegment();if(c&&c._point.isClose(f._point,o))c.setHandleOut(f._handleOut),this._add(u.slice(1));else{var g=this.getFirstSegment();g&&g._point.isClose(f._point,o)&&l.reverse(),d=l.getLastSegment(),g&&g._point.isClose(d._point,o)?(g.setHandleIn(d._handleIn),this._add(u.slice(0,u.length-1),0)):this._add(u.slice())}l._closed&&this._add([u[0]]),l.remove()}var m=this.getFirstSegment(),v=this.getLastSegment();return m!==v&&m._point.isClose(v._point,o)&&(m.setHandleIn(v._handleIn),v.remove(),this.setClosed(!0)),this},reduce:function(l){for(var r=this.getCurves(),o=l&&l.simplify,u=o?1e-7:0,c=r.length-1;c>=0;c--){var d=r[c];!d.hasHandles()&&(!d.hasLength(u)||o&&d.isCollinear(d.getNext()))&&d.remove()}return this},reverse:function(){this._segments.reverse();for(var l=0,r=this._segments.length;l<r;l++){var o=this._segments[l],u=o._handleIn;o._handleIn=o._handleOut,o._handleOut=u,o._index=l}this._curves=null,this._changed(9)},flatten:function(l){for(var o=new vi(this,l||.25,256,!0).parts,u=o.length,c=[],d=0;d<u;d++)c.push(new Oe(o[d].curve.slice(0,2)));!this._closed&&u>0&&c.push(new Oe(o[u-1].curve.slice(6))),this.setSegments(c)},simplify:function(l){var r=new dn(this).fit(l||2.5);return r&&this.setSegments(r),!!r},smooth:function(l){var r=this,o=l||{},u=o.type||"asymmetric",c=this._segments,d=c.length,f=this._closed;function g(be,De){var ke=be&&be.index;if(null!=ke){var Ne=be.path;if(Ne&&Ne!==r)throw new Error(be._class+" "+ke+" of "+Ne+" is not part of "+r);De&&be instanceof Fe&&ke++}else ke="number"==typeof be?be:De;return Math.min(ke<0&&f?ke%d:ke<0?ke+d:ke,d-1)}var m=f&&o.from===Ee&&o.to===Ee,v=g(o.from,0),b=g(o.to,d-1);if(v>b)if(f)v-=d;else{var x=v;v=b,b=x}if(/^(?:asymmetric|continuous)$/.test(u)){var w="asymmetric"===u,C=Math.min,D=b-v+1,R=D-1,k=m?C(D,4):1,P=k,I=k,E=[];if(f||(P=C(1,v),I=C(1,d-b-1)),(R+=P+I)<=1)return;for(var S=0,A=v-P;S<=R;S++,A++)E[S]=c[(A<0?A+d:A)%d]._point;var O=E[0]._x+2*E[1]._x,L=E[0]._y+2*E[1]._y,N=2,B=R-1,V=[O],H=[L],G=[N],U=[],$=[];for(S=1;S<R;S++){var q=S<B,ee=q?4:w?3:8,ue=q?2:w?0:1,fe=(q||w?1:2)/N;N=G[S]=(q?4:w?2:7)-fe,O=V[S]=ee*E[S]._x+ue*E[S+1]._x-fe*O,L=H[S]=ee*E[S]._y+ue*E[S+1]._y-fe*L}for(U[B]=V[B]/G[B],$[B]=H[B]/G[B],S=R-2;S>=0;S--)U[S]=(V[S]-U[S+1])/G[S],$[S]=(H[S]-$[S+1])/G[S];U[R]=(3*E[R]._x-U[B])/2,$[R]=(3*E[R]._y-$[B])/2,S=P;var ve=R-I;for(A=v;S<=ve;S++,A++){var _e=c[A<0?A+d:A],he=_e._point,de=U[S]-he._x,ce=$[S]-he._y;(m||S<ve)&&_e.setHandleOut(de,ce),(m||S>P)&&_e.setHandleIn(-de,-ce)}}else for(S=v;S<=b;S++)c[S<0?S+d:S].smooth(o,!m&&S===v,!m&&S===b)},toShape:function(l){if(!this._closed)return null;var o,u,c,d,r=this._segments;function f(w,C){var D=r[w],R=D.getNext(),k=r[C],P=k.getNext();return D._handleOut.isZero()&&R._handleIn.isZero()&&k._handleOut.isZero()&&P._handleIn.isZero()&&R._point.subtract(D._point).isCollinear(P._point.subtract(k._point))}function m(w){var C=r[w],D=C.getNext(),R=C._handleOut,k=D._handleIn,P=.5522847498307936;if(R.isOrthogonal(k)){var I=C._point,E=D._point,S=new ft(I,R,!0).intersect(new ft(E,k,!0),!0);return S&&Ue.isZero(R.getLength()/S.subtract(I).getLength()-P)&&Ue.isZero(k.getLength()/S.subtract(E).getLength()-P)}return!1}function v(w,C){return r[w]._point.getDistance(r[C]._point)}if(!this.hasHandles()&&4===r.length&&f(0,2)&&f(1,3)&&function g(w){var C=r[w],D=C.getPrevious(),R=C.getNext();return D._handleOut.isZero()&&C._handleIn.isZero()&&C._handleOut.isZero()&&R._handleIn.isZero()&&C._point.subtract(D._point).isOrthogonal(R._point.subtract(C._point))}(1)?(o=Ln.Rectangle,u=new Ze(v(0,3),v(0,1)),d=r[1]._point.add(r[2]._point).divide(2)):8===r.length&&m(0)&&m(2)&&m(4)&&m(6)&&f(1,5)&&f(3,7)?(o=Ln.Rectangle,c=(u=new Ze(v(1,6),v(0,3))).subtract(new Ze(v(0,7),v(1,2))).divide(2),d=r[3]._point.add(r[4]._point).divide(2)):4===r.length&&m(0)&&m(1)&&m(2)&&m(3)&&(Ue.isZero(v(0,2)-v(1,3))?(o=Ln.Circle,c=v(0,2)/2):(o=Ln.Ellipse,c=new Ze(v(2,0)/2,v(3,1)/2)),d=r[1]._point),o){var b=this.getPosition(!0),x=new o({center:b,size:u,radius:c,insert:!1});return x.copyAttributes(this,!0),x._matrix.prepend(this._matrix),x.rotate(d.subtract(b).getAngle()+90),(l===Ee||l)&&x.insertAbove(this),x}return null},toPath:"#clone",compare:function l(r){if(!r||r instanceof yt)return l.base.call(this,r);var o=this.getCurves(),u=r.getCurves(),c=o.length,d=u.length;if(!c||!d)return c==d;for(var v,x,f=o[0].getValues(),g=[],m=0,b=0,w=0;w<d;w++){var k=u[w].getValues();if(g.push(k),C=Fe.getOverlaps(f,k)){v=!w&&C[0][0]>0?d-1:w,x=C[0][1];break}}var P,D=Math.abs;for(k=g[v];f&&k;){var C;if((C=Fe.getOverlaps(f,k))&&D(C[0][0]-b)<1e-8){1===(b=C[1][0])&&(f=++m<c?o[m].getValues():null,b=0);var E=C[0][1];if(D(E-x)<1e-8){if(P||(P=[v,E]),1===(x=C[1][1])&&(++v>=d&&(v=0),k=g[v]||u[v].getValues(),x=0),!f)return P[0]===v&&P[1]===x;continue}}break}return!1},_hitTestSelf:function(l,r,o,u){var x,w,C,D,R,k,c=this,d=this.getStyle(),f=this._segments,g=f.length,m=this._closed,v=r._tolerancePadding,b=v,P=r.stroke&&d.hasStroke(),I=r.fill&&d.hasFill(),E=r.curves,S=P?d.getStrokeWidth()/2:I&&r.tolerance>0||E?0:null;function A(U,$){return l.subtract(U).divide($).length<=1}function O(U,$,q){if(!r.selected||$.isSelected()){var K=U._point;if($!==K&&($=$.add(K)),A($,b))return new mn(q,c,{segment:U,point:$})}}function L(U,$){return($||r.segments)&&O(U,U._point,"segment")||!$&&r.handles&&(O(U,U._handleIn,"handle-in")||O(U,U._handleOut,"handle-out"))}function N(U){D.add(U)}function B(U){var q,$=m||U._index>0&&U._index<g-1;return"round"===($?x:w)?A(U._point,b):(D=new $e({internal:!0,closed:!0}),$?U.isSmooth()||$e._addBevelJoin(U,x,S,C,null,u,N,!0):"square"===w&&$e._addSquareCap(U,w,S,null,u,N,!0),D.isEmpty()?void 0:D.contains(l)||(q=D.getNearestLocation(l))&&A(q.getPoint(),v))}if(null!==S&&(S>0?(x=d.getStrokeJoin(),w=d.getStrokeCap(),C=d.getMiterLimit(),b=b.add($e._getStrokePadding(S,u))):x=w="round"),!r.ends||r.segments||m){if(r.segments||r.handles)for(var V=0;V<g;V++)if(k=L(f[V]))return k}else if(k=L(f[0],!0)||L(f[g-1],!0))return k;if(null!==S){if(R=this.getNearestLocation(l)){var H=R.getTime();0===H||1===H&&g>1?B(R.getSegment())||(R=null):A(R.getPoint(),b)||(R=null)}if(!R&&"miter"===x&&g>1)for(V=0;V<g;V++){var G=f[V];if(l.getDistance(G._point)<=C*S&&B(G)){R=G.getLocation();break}}}return!R&&I&&this._contains(l)||R&&!P&&!E?new mn("fill",this):R?new mn(P?"stroke":"curve",this,{location:R,point:R.getPoint()}):null}},te.each(Fe._evaluateMethods,function(l){this[l+"At"]=function(r){var o=this.getLocationAt(r);return o&&o[l]()}},{beans:!1,getLocationOf:function(){for(var l=ae.read(arguments),r=this.getCurves(),o=0,u=r.length;o<u;o++){var c=r[o].getLocationOf(l);if(c)return c}return null},getOffsetOf:function(){var l=this.getLocationOf.apply(this,arguments);return l?l.getOffset():null},getLocationAt:function(l){if("number"==typeof l){for(var r=this.getCurves(),o=0,u=0,c=r.length;u<c;u++){var d=o,f=r[u];if((o+=f.getLength())>l)return f.getLocationAt(l-d)}if(r.length>0&&l<=this.getLength())return new Pe(r[r.length-1],1)}else if(l&&l.getPath&&l.getPath()===this)return l;return null},getOffsetsWithTangent:function(){var l=ae.read(arguments);if(l.isZero())return[];for(var r=[],o=0,u=this.getCurves(),c=0,d=u.length;c<d;c++){for(var f=u[c],g=f.getTimesWithTangent(l),m=0,v=g.length;m<v;m++){var b=o+f.getOffsetAtTime(g[m]);r.indexOf(b)<0&&r.push(b)}o+=f.length}return r}}),new function(){function r(o,u,c){var v,b,x,w,C,D,R,k,d=u._segments,f=d.length,g=new Array(6),m=!0;function P(E){if(c)E._transformCoordinates(c,g),v=g[0],b=g[1];else{var S=E._point;v=S._x,b=S._y}var A;m?(o.moveTo(v,b),m=!1):(c?(C=g[2],D=g[3]):(C=v+(A=E._handleIn)._x,D=b+A._y),C===v&&D===b&&R===x&&k===w?o.lineTo(v,b):o.bezierCurveTo(R,k,C,D,v,b)),x=v,w=b,c?(R=g[4],k=g[5]):(R=x+(A=E._handleOut)._x,k=w+A._y)}for(var I=0;I<f;I++)P(d[I]);u._closed&&f>0&&P(d[0])}return{_draw:function(o,u,c,d){var f=u.dontStart,g=u.dontFinish||u.clip,m=this.getStyle(),v=m.hasFill(),b=m.hasStroke(),x=m.getDashArray(),w=!Ve.support.nativeDash&&b&&x&&x.length;function C(E){return x[(E%w+w)%w]}if(f||o.beginPath(),(v||b&&!w||g)&&(r(o,this,d),this._closed&&o.closePath()),!g&&(v||b)&&(this._setStyles(o,u,c),v&&(o.fill(m.getFillRule()),o.shadowColor="rgba(0,0,0,0)"),b)){if(w){f||o.beginPath();for(var P,D=new vi(this,.25,32,!1,d),R=D.length,k=-m.getDashOffset(),I=0;k>0;)k-=C(I--)+C(I--);for(;k<R;)P=k+C(I++),(k>0||P>0)&&D.drawPart(o,Math.max(k,0),Math.max(P,0)),k=P+C(I++)}o.stroke()}},_drawSelected:function(o,u){o.beginPath(),r(o,this,u),o.stroke(),function l(o,u,c,d){if(!(d<=0))for(var b,x,f=d/2,g=d-2,m=f-1,v=new Array(6),C=0,D=u.length;C<D;C++){var R=u[C],k=R._selection;if(R._transformCoordinates(c,v),b=v[0],x=v[1],2&k&&w(2),4&k&&w(4),o.fillRect(b-f,x-f,d,d),g>0&&!(1&k)){var P=o.fillStyle;o.fillStyle="#ffffff",o.fillRect(b-m,x-m,g,g),o.fillStyle=P}}function w(I){var E=v[I],S=v[I+1];(b!=E||x!=S)&&(o.beginPath(),o.moveTo(b,x),o.lineTo(E,S),o.stroke(),o.beginPath(),o.arc(E,S,f,0,2*Math.PI,!0),o.fill())}}(o,this._segments,u,Ve.settings.handleSize)}}},new function(){function l(r){var o=r._segments;if(!o.length)throw new Error("Use a moveTo() command first");return o[o.length-1]}return{moveTo:function(){var r=this._segments;1===r.length&&this.removeSegment(0),r.length||this._add([new Oe(ae.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Oe(ae.read(arguments))])},cubicCurveTo:function(){var r=arguments,o=ae.read(r),u=ae.read(r),c=ae.read(r),d=l(this);d.setHandleOut(o.subtract(d._point)),this._add([new Oe(c,u.subtract(c))])},quadraticCurveTo:function(){var r=arguments,o=ae.read(r),u=ae.read(r),c=l(this)._point;this.cubicCurveTo(o.add(c.subtract(o).multiply(1/3)),o.add(u.subtract(o).multiply(1/3)),u)},curveTo:function(){var r=arguments,o=ae.read(r),u=ae.read(r),c=te.pick(te.read(r),.5),d=1-c,f=l(this)._point,g=o.subtract(f.multiply(d*d)).subtract(u.multiply(c*c)).divide(2*c*d);if(g.isNaN())throw new Error("Cannot put a curve through points with parameter = "+c);this.quadraticCurveTo(g,u)},arcTo:function(){var b,x,w,C,r=arguments,o=Math.abs,u=Math.sqrt,c=l(this),d=c._point,f=ae.read(r),m=te.peek(r);if("boolean"==typeof(v=te.pick(m,!0)))var g=(D=d.add(f).divide(2)).add(D.subtract(d).rotate(v?-90:90));else if(te.remain(r)<=2)g=f,f=ae.read(r);else if(!d.equals(f)){var R=Ze.read(r),k=Ue.isZero;if(k(R.width)||k(R.height))return this.lineTo(f);var P=te.read(r),v=!!te.read(r),I=!!te.read(r),D=d.add(f).divide(2),S=(E=d.subtract(D).rotate(-P)).x,A=E.y,O=o(R.width),L=o(R.height),N=O*O,B=L*L,V=S*S,H=A*A,G=u(V/N+H/B);if(G>1&&(N=(O*=G)*O,B=(L*=G)*L),o(G=(N*B-N*H-B*V)/(N*H+B*V))<1e-12&&(G=0),G<0)throw new Error("Cannot create an arc with the given arguments");b=new ae(O*A/L,-L*S/O).multiply((I===v?-1:1)*u(G)).rotate(P).add(D),x=(w=(C=(new Zt).translate(b).rotate(P).scale(O,L))._inverseTransform(d)).getDirectedAngle(C._inverseTransform(f)),!v&&x>0?x-=360:v&&x<0&&(x+=360)}if(g){var U=new ft(d.add(g).divide(2),g.subtract(d).rotate(90),!0),$=new ft(g.add(f).divide(2),f.subtract(g).rotate(90),!0),q=new ft(d,f),K=q.getSide(g);if(!(b=U.intersect($,!0))){if(!K)return this.lineTo(f);throw new Error("Cannot create an arc with the given arguments")}x=(w=d.subtract(b)).getDirectedAngle(f.subtract(b));var X=q.getSide(b,!0);0===X?x=K*o(x):K===X&&(x+=x<0?360:-360)}if(x){for(var ue=o(x),fe=ue>=360?4:Math.ceil((ue-1e-5)/90),ve=x/fe,_e=ve*Math.PI/360,he=4/3*Math.sin(_e)/(1+Math.cos(_e)),de=[],ce=0;ce<=fe;ce++){var E=f,be=null;if(ce<fe&&(be=w.rotate(90).multiply(he),C?(E=C._transformPoint(w),be=C._transformPoint(w.add(be)).subtract(E)):E=b.add(w)),ce){var De=w.rotate(-90).multiply(he);C&&(De=C._transformPoint(w.add(De)).subtract(E)),de.push(new Oe(E,De,be))}else c.setHandleOut(be);w=w.rotate(ve)}this._add(de)}},lineBy:function(){var r=ae.read(arguments),o=l(this)._point;this.lineTo(o.add(r))},curveBy:function(){var r=arguments,o=ae.read(r),u=ae.read(r),c=te.read(r),d=l(this)._point;this.curveTo(d.add(o),d.add(u),c)},cubicCurveBy:function(){var r=arguments,o=ae.read(r),u=ae.read(r),c=ae.read(r),d=l(this)._point;this.cubicCurveTo(d.add(o),d.add(u),d.add(c))},quadraticCurveBy:function(){var r=arguments,o=ae.read(r),u=ae.read(r),c=l(this)._point;this.quadraticCurveTo(c.add(o),c.add(u))},arcBy:function(){var r=arguments,o=l(this)._point,u=o.add(ae.read(r)),c=te.pick(te.peek(r),!0);this.arcTo(u,"boolean"==typeof c?c:o.add(ae.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(l,r){return $e[r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,l,r)},statics:{getBounds:function(l,r,o,u,c,d){var f=l[0];if(!f)return new Z;var g=new Array(6),m=f._transformCoordinates(u,new Array(6)),v=m.slice(0,2),b=v.slice(),x=new Array(2);function w(R){R._transformCoordinates(u,g);for(var k=0;k<2;k++)Fe._addBounds(m[k],m[k+4],g[k+2],g[k],k,d?d[k]:0,v,b,x);var P=m;m=g,g=P}for(var C=1,D=l.length;C<D;C++)w(l[C]);return r&&w(f),new Z(v[0],v[1],b[0]-v[0],b[1]-v[1])},getStrokeBounds:function(l,r,o,u,c){var d=o.getStyle(),f=d.hasStroke(),g=d.getStrokeWidth(),m=f&&o._getStrokeMatrix(u,c),v=f&&$e._getStrokePadding(g,m),b=$e.getBounds(l,r,o,u,c,v);if(!f)return b;var x=g/2,w=d.getStrokeJoin(),C=d.getStrokeCap(),D=d.getMiterLimit(),R=new Z(new Ze(v));function k(O){b=b.include(O)}function P(O){b=b.unite(R.setCenter(O._point.transform(u)))}function I(O,L){"round"===L||O.isSmooth()?P(O):$e._addBevelJoin(O,L,x,D,u,m,k)}function E(O,L){"round"===L?P(O):$e._addSquareCap(O,L,x,u,m,k)}var S=l.length-(r?0:1);if(S>0){for(var A=1;A<S;A++)I(l[A],w);r?I(l[0],w):(E(l[0],C),E(l[l.length-1],C))}return b},_getStrokePadding:function(l,r){if(!r)return[l,l];var o=new ae(l,0).transform(r),u=new ae(0,l).transform(r),c=o.getAngleInRadians(),d=o.getLength(),f=u.getLength(),g=Math.sin(c),m=Math.cos(c),v=Math.tan(c),b=Math.atan2(f*v,d),x=Math.atan2(f,v*d);return[Math.abs(d*Math.cos(b)*m+f*Math.sin(b)*g),Math.abs(f*Math.sin(x)*m+d*Math.cos(x)*g)]},_addBevelJoin:function(l,r,o,u,c,d,f,g){var m=l.getCurve(),v=m.getPrevious(),b=m.getPoint1().transform(c),x=v.getNormalAtTime(1).multiply(o).transform(d),w=m.getNormalAtTime(0).multiply(o).transform(d),C=x.getDirectedAngle(w);if((C<0||C>=180)&&(x=x.negate(),w=w.negate()),g&&f(b),f(b.add(x)),"miter"===r){var D=new ft(b.add(x),new ae(-x.y,x.x),!0).intersect(new ft(b.add(w),new ae(-w.y,w.x),!0),!0);D&&b.getDistance(D)<=u*o&&f(D)}f(b.add(w))},_addSquareCap:function(l,r,o,u,c,d,f){var g=l._point.transform(u),m=l.getLocation(),v=m.getNormal().multiply(0===m.getTime()?o:-o).transform(c);"square"===r&&(f&&(d(g.subtract(v)),d(g.add(v))),g=g.add(v.rotate(-90))),d(g.add(v)),d(g.subtract(v))},getHandleBounds:function(l,r,o,u,c){var g,m,d=o.getStyle();if(c.stroke&&d.hasStroke()){var v=o._getStrokeMatrix(u,c),b=d.getStrokeWidth()/2,x=b;"miter"===d.getStrokeJoin()&&(x=b*d.getMiterLimit()),"square"===d.getStrokeCap()&&(x=Math.max(x,b*Math.SQRT2)),g=$e._getStrokePadding(b,v),m=$e._getStrokePadding(x,v)}for(var w=new Array(6),C=1/0,D=-C,R=C,k=D,P=0,I=l.length;P<I;P++){l[P]._transformCoordinates(u,w);for(var S=0;S<6;S+=2){var A=S?g:m,O=A?A[0]:0,L=A?A[1]:0,N=w[S],B=w[S+1],V=N-O,H=N+O,G=B-L,U=B+L;V<C&&(C=V),H>D&&(D=H),G<R&&(R=G),U>k&&(k=U)}}return new Z(C,R,D-C,k-R)}}});$e.inject({statics:new function(){var l=.5522847498307936,r=[new Oe([-1,0],[0,l],[0,-l]),new Oe([0,-1],[-l,0],[l,0]),new Oe([1,0],[0,-l],[0,l]),new Oe([0,1],[l,0],[-l,0])];function o(c,d,f){var g=te.getNamed(f),m=new $e(g&&(1==g.insert?lt.INSERT:0==g.insert?lt.NO_INSERT:null));return m._add(c),m._closed=d,m.set(g,lt.INSERT)}function u(c,d,f){for(var g=new Array(4),m=0;m<4;m++){var v=r[m];g[m]=new Oe(v._point.multiply(d).add(c),v._handleIn.multiply(d),v._handleOut.multiply(d))}return o(g,!0,f)}return{Line:function(){var c=arguments;return o([new Oe(ae.readNamed(c,"from")),new Oe(ae.readNamed(c,"to"))],!1,c)},Circle:function(){var c=arguments,d=ae.readNamed(c,"center"),f=te.readNamed(c,"radius");return u(d,new Ze(f),c)},Rectangle:function(){var x,c=arguments,d=Z.readNamed(c,"rectangle"),f=Ze.readNamed(c,"radius",0,{readNull:!0}),g=d.getBottomLeft(!0),m=d.getTopLeft(!0),v=d.getTopRight(!0),b=d.getBottomRight(!0);if(!f||f.isZero())x=[new Oe(g),new Oe(m),new Oe(v),new Oe(b)];else{var w=(f=Ze.min(f,d.getSize(!0).divide(2))).width,C=f.height,D=w*l,R=C*l;x=[new Oe(g.add(w,0),null,[-D,0]),new Oe(g.subtract(0,C),[0,R]),new Oe(m.add(0,C),null,[0,-R]),new Oe(m.add(w,0),[-D,0],null),new Oe(v.subtract(w,0),null,[D,0]),new Oe(v.add(0,C),[0,-R],null),new Oe(b.subtract(0,C),null,[0,R]),new Oe(b.subtract(w,0),[D,0])]}return o(x,!0,c)},RoundRectangle:"#Rectangle",Ellipse:function(){var c=arguments,d=Ln._readEllipse(c);return u(d.center,d.radius,c)},Oval:"#Ellipse",Arc:function(){var c=arguments,d=ae.readNamed(c,"from"),f=ae.readNamed(c,"through"),g=ae.readNamed(c,"to"),m=te.getNamed(c),v=new $e(m&&0==m.insert&&lt.NO_INSERT);return v.moveTo(d),v.arcTo(f,g),v.set(m)},RegularPolygon:function(){for(var c=arguments,d=ae.readNamed(c,"center"),f=te.readNamed(c,"sides"),g=te.readNamed(c,"radius"),m=360/f,v=f%3==0,b=new ae(0,v?-g:g),x=v?-1:.5,w=new Array(f),C=0;C<f;C++)w[C]=new Oe(d.add(b.rotate((C+x)*m)));return o(w,!0,c)},Star:function(){for(var c=arguments,d=ae.readNamed(c,"center"),f=2*te.readNamed(c,"points"),g=te.readNamed(c,"radius1"),m=te.readNamed(c,"radius2"),v=360/f,b=new ae(0,-1),x=new Array(f),w=0;w<f;w++)x[w]=new Oe(d.add(b.rotate(v*w).multiply(w%2?m:g)));return o(x,!0,c)}}}});var yt=Bn.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||("string"==typeof r?this.setPathData(r):this.addChildren(Array.isArray(r)?r:arguments))},insertChildren:function l(r,o){var u=o,c=u[0];c&&"number"==typeof c[0]&&(u=[u]);for(var d=o.length-1;d>=0;d--){var f=u[d];u===o&&!(f instanceof $e)&&(u=te.slice(u)),Array.isArray(f)?u[d]=new $e({segments:f,insert:!1}):f instanceof yt&&(u.splice.apply(u,[d,1].concat(f.removeChildren())),f.remove())}return l.base.call(this,r,u)},reduce:function l(r){for(var o=this._children,u=o.length-1;u>=0;u--)(c=o[u].reduce(r)).isEmpty()&&c.remove();var c;return o.length?l.base.call(this):((c=new $e(lt.NO_INSERT)).copyAttributes(this),c.insertAbove(this),this.remove(),c)},isClosed:function(){for(var l=this._children,r=0,o=l.length;r<o;r++)if(!l[r]._closed)return!1;return!0},setClosed:function(l){for(var r=this._children,o=0,u=r.length;o<u;o++)r[o].setClosed(l)},getFirstSegment:function(){var l=this.getFirstChild();return l&&l.getFirstSegment()},getLastSegment:function(){var l=this.getLastChild();return l&&l.getLastSegment()},getCurves:function(){for(var l=this._children,r=[],o=0,u=l.length;o<u;o++)te.push(r,l[o].getCurves());return r},getFirstCurve:function(){var l=this.getFirstChild();return l&&l.getFirstCurve()},getLastCurve:function(){var l=this.getLastChild();return l&&l.getLastCurve()},getArea:function(){for(var l=this._children,r=0,o=0,u=l.length;o<u;o++)r+=l[o].getArea();return r},getLength:function(){for(var l=this._children,r=0,o=0,u=l.length;o<u;o++)r+=l[o].getLength();return r},getPathData:function(l,r){for(var o=this._children,u=[],c=0,d=o.length;c<d;c++){var f=o[c],g=f._matrix;u.push(f.getPathData(l&&!g.isIdentity()?l.appended(g):l,r))}return u.join("")},_hitTestChildren:function l(r,o,u){return l.base.call(this,r,o.class===$e||"path"===o.type?o:te.set({},o,{fill:!1}),u)},_draw:function(l,r,o,u){var c=this._children;if(c.length){r=r.extend({dontStart:!0,dontFinish:!0}),l.beginPath();for(var d=0,f=c.length;d<f;d++)c[d].draw(l,r,u);if(!r.clip){this._setStyles(l,r,o);var g=this._style;g.hasFill()&&(l.fill(g.getFillRule()),l.shadowColor="rgba(0,0,0,0)"),g.hasStroke()&&l.stroke()}}},_drawSelected:function(l,r,o){for(var u=this._children,c=0,d=u.length;c<d;c++){var f=u[c],g=f._matrix;o[f._id]||f._drawSelected(l,g.isIdentity()?r:r.appended(g))}}},new function(){function l(r,o){var u=r._children;if(o&&!u.length)throw new Error("Use a moveTo() command first");return u[u.length-1]}return te.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var o=l(this,!0);o[r].apply(o,arguments)}},{moveTo:function(){var r=l(this),o=r&&r.isEmpty()?r:new $e(lt.NO_INSERT);o!==r&&this.addChild(o),o.moveTo.apply(o,arguments)},moveBy:function(){var r=l(this,!0),o=r&&r.getLastSegment(),u=ae.read(arguments);this.moveTo(o?u.add(o._point):u)},closePath:function(r){l(this,!0).closePath(r)}})},te.each(["reverse","flatten","simplify","smooth"],function(l){this[l]=function(r){for(var u,o=this._children,c=0,d=o.length;c<d;c++)u=o[c][l](r)||u;return u}},{}));Bn.inject(new function(){var l=Math.min,r=Math.max,o=Math.abs,u={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function c(P){return P._children||[P]}function d(P,I){var E=P.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(I){for(var S=c(E),A=0,O=S.length;A<O;A++)!(P=S[A])._closed&&!P.isEmpty()&&(P.closePath(1e-12),P.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0));E=E.resolveCrossings().reorient("nonzero"===E.getFillRule(),!0)}return E}function f(P,I,E,S,A){var O=new yt(lt.NO_INSERT);return O.addChildren(P,!0),O=O.reduce({simplify:I}),A&&0==A.insert||O.insertAbove(S&&E.isSibling(S)&&E.getIndex()<S.getIndex()?S:E),O.copyAttributes(E,!0),O}function g(P){return P.hasOverlap()||P.isCrossing()}function m(P,I,E,S){if(S&&(0==S.trace||S.stroke)&&/^(subtract|intersect)$/.test(E))return v(P,I,E);var A=d(P,!0),O=I&&P!==I&&d(I,!0),L=u[E];L[E]=!0,O&&(L.subtract||L.exclude)^O.isClockwise()^A.isClockwise()&&O.reverse();var U,N=C(Pe.expand(A.getIntersections(O,g))),B=c(A),V=O&&c(O),H=[],G=[];function $(be){for(var De=0,ke=be.length;De<ke;De++){var Ne=be[De];te.push(H,Ne._segments),te.push(G,Ne.getCurves()),Ne._overlapsOnly=!0}}function q(be){for(var De=[],ke=0,Ne=be&&be.length;ke<Ne;ke++)De.push(G[be[ke]]);return De}if(N.length){$(B),V&&$(V);for(var K=new Array(G.length),X=0,ee=G.length;X<ee;X++)K[X]=G[X].getValues();var ue=En.findCurveBoundsCollisions(K,K,0,!0),fe={};for(X=0;X<G.length;X++){var ve=G[X],_e=ve._path._id;(fe[_e]=fe[_e]||{})[ve.getIndex()]={hor:q(ue[X].hor),ver:q(ue[X].ver)}}for(X=0,ee=N.length;X<ee;X++)R(N[X]._segment,A,O,fe,L);for(X=0,ee=H.length;X<ee;X++){var de=H[X],ce=de._intersection;de._winding||R(de,A,O,fe,L),ce&&ce._overlap||(de._path._overlapsOnly=!1)}U=k(H,L)}else U=w(V?B.concat(V):B.slice(),function(be){return!!L[be]});return f(U,!0,P,I,S)}function v(P,I,E){var S=d(P),A=d(I),O=S.getIntersections(A,g),L="subtract"===E,N="divide"===E,B={},V=[];function H($){if(!B[$._id]&&(N||A.contains($.getPointAt($.getLength()/2))^L))return V.unshift($),B[$._id]=!0}for(var G=O.length-1;G>=0;G--){var U=O[G].split();U&&(H(U)&&U.getFirstSegment().setHandleIn(0,0),S.getLastSegment().setHandleOut(0,0))}return H(S),f(V,!1,P,I)}function b(P,I){for(var E=P;E;){if(E===I)return;E=E._previous}for(;P._next&&P._next!==I;)P=P._next;if(!P._next){for(;I._previous;)I=I._previous;P._next=I,I._previous=P}}function x(P){for(var I=P.length-1;I>=0;I--)P[I].clearHandles()}function w(P,I,E){var S=P&&P.length;if(S){var A=te.each(P,function(ue,fe){this[ue._id]={container:null,winding:ue.isClockwise()?1:-1,index:fe}},{}),O=P.slice().sort(function(ue,fe){return o(fe.getArea())-o(ue.getArea())}),L=O[0],N=En.findItemBoundsCollisions(O,null,Ue.GEOMETRIC_EPSILON);null==E&&(E=L.isClockwise());for(var B=0;B<S;B++){var V=O[B],H=A[V._id],G=0,U=N[B];if(U)for(var $=null,q=U.length-1;q>=0;q--)if(U[q]<B){$=$||V.getInteriorPoint();var K=O[U[q]];if(K.contains($)){var X=A[K._id];H.winding+=G=X.winding,H.container=X.exclude?X.container:K;break}}if(I(H.winding)===I(G))H.exclude=!0,P[H.index]=null;else{var ee=H.container;V.setClockwise(ee?!ee.isClockwise():E)}}}return P}function C(P,I,E){var V,H,G,S=I&&[],L=!1,N=E||[],B=E&&{};function U(De){return De._path._id+"."+De._segment1._index}for(var $=(E&&E.length)-1;$>=0;$--)(q=E[$])._path&&(B[U(q)]=!0);for($=P.length-1;$>=0;$--){var q,fe,K=P[$],X=K._time,ee=X,ue=I&&!I(K);if((q=K._curve)&&(q!==H?(L=!q.hasHandles()||B&&B[U(q)],V=[],G=null,H=q):G>=1e-8&&(X/=G)),ue)V&&V.push(K);else{if(I&&S.unshift(K),G=ee,X<1e-8)fe=q._segment1;else if(X>.99999999)fe=q._segment2;else{var ve=q.divideAtTime(X,!0);L&&N.push(q,ve),fe=ve._segment1;for(var _e=V.length-1;_e>=0;_e--){var he=V[_e];he._time=(he._time-X)/(1-X)}}K._setSegment(fe);var de=fe._intersection,ce=K._intersection;if(de){b(de,ce);for(var be=de;be;)b(be._intersection,de),be=be._next}else fe._intersection=ce}}return E||x(N),S||P}function D(P,I,E,S,A){var de,ce,O=Array.isArray(I)?I:I[E?"hor":"ver"],L=E?1:0,N=1^L,B=[P.x,P.y],V=B[L],H=B[N],U=1e-6,$=V-1e-9,q=V+1e-9,K=0,X=0,ee=0,ue=0,fe=!1,ve=!1,_e=1,he=[];function be(pt){var ht=pt[N+0],it=pt[N+6];if(!(H<l(ht,it)||H>r(ht,it))){var Ht=pt[L+0],Le=pt[L+2],On=pt[L+4],$n=pt[L+6];if(ht===it)return void((Ht<q&&$n>$||$n<q&&Ht>$)&&(fe=!0));var Cn=H===ht?0:H===it||$>r(Ht,Le,On,$n)||q<l(Ht,Le,On,$n)?1:Fe.solveCubic(pt,N,H,he,0,1)>0?he[0]:1,qe=0===Cn?Ht:1===Cn?$n:Fe.getPoint(pt,Cn)[E?"y":"x"],ln=ht>it?1:-1,ci=de[L+6];return H!==ht?(qe<$?ee+=ln:qe>q?ue+=ln:fe=!0,qe>V-U&&qe<V+U&&(_e/=2)):(ln!==(de[N]>de[N+6]?1:-1)?Ht<$?ee+=ln:Ht>q&&(ue+=ln):Ht!=ci&&(ci<q&&qe>q?(ue+=ln,fe=!0):ci>$&&qe<$&&(ee+=ln,fe=!0)),_e/=4),de=pt,!A&&qe>$&&qe<q&&0===Fe.getTangent(pt,Cn)[E?"x":"y"]&&D(P,I,!E,S,!0)}}function De(pt){var ht=pt[N+0],it=pt[N+2],Ht=pt[N+4],Le=pt[N+6];if(H<=r(ht,it,Ht,Le)&&H>=l(ht,it,Ht,Le))for(var Nn,On=pt[L+0],$n=pt[L+2],Cn=pt[L+4],qe=pt[L+6],ln=$>r(On,$n,Cn,qe)||q<l(On,$n,Cn,qe)?[pt]:Fe.getMonoCurves(pt,E),ci=0,_=ln.length;ci<_;ci++)if(Nn=be(ln[ci]))return Nn}for(var ke=0,Ne=O.length;ke<Ne;ke++){var Vt,ze=O[ke],He=ze._path,Je=ze.getValues();if(!(ke&&O[ke-1]._path===He||(de=null,He._closed||(ce=Fe.getValues(He.getLastCurve().getSegment2(),ze.getSegment1(),null,!S),ce[N]!==ce[N+6]&&(de=ce)),de))){de=Je;for(var ct=He.getLastCurve();ct&&ct!==ze;){var xt=ct.getValues();if(xt[N]!==xt[N+6]){de=xt;break}ct=ct.getPrevious()}}if(Vt=De(Je))return Vt;if(ke+1===Ne||O[ke+1]._path!==He){if(ce&&(Vt=De(ce)))return Vt;fe&&!ee&&!ue&&(ee=ue=He.isClockwise(S)^E?1:-1),K+=ee,X+=ue,ee=ue=0,fe&&(ve=!0,fe=!1),ce=null}}return K=o(K),X=o(X),{winding:r(K,X),windingL:K,windingR:X,quality:_e,onPath:ve}}function R(P,I,E,S,A){var O=[],L=P,N=0;do{if(B=P.getCurve()){var V=B.getLength();O.push({segment:P,curve:B,length:V}),N+=V}P=P.getNext()}while(P&&!P._intersection&&P!==L);for(var H=[.5,.25,.75],G={winding:0,quality:-1},q=0;q<H.length&&G.quality<.5;q++){V=N*H[q];for(var K=0,X=O.length;K<X;K++){var ee=O[K],ue=ee.length;if(V<=ue){var B,fe=(B=ee.curve)._path,ve=fe._parent,_e=ve instanceof yt?ve:fe,he=Ue.clamp(B.getTimeAt(V),.001,.999),de=B.getPointAtTime(he),ce=o(B.getTangentAtTime(he).y)<Math.SQRT1_2,be=null;if(A.subtract&&E){var ke=(_e===I?E:I)._getWinding(de,ce,!0);if(_e===I&&ke.winding||_e===E&&!ke.winding){if(ke.quality<1)continue;be={winding:0,quality:1}}}(be=be||D(de,S[fe._id][B.getIndex()],ce,!0)).quality>G.quality&&(G=be);break}V-=ue}}for(K=O.length-1;K>=0;K--)O[K].segment._winding=G}function k(P,I){var S,E=[];function A(Ne){var ze;return!(!Ne||Ne._visited||I&&(!I[(ze=Ne._winding||{}).winding]||I.unite&&2===ze.winding&&ze.windingL&&ze.windingR))}function O(Ne){if(Ne)for(var ze=0,He=S.length;ze<He;ze++)if(Ne===S[ze])return!0;return!1}function L(Ne){for(var ze=Ne._segments,He=0,Je=ze.length;He<Je;He++)ze[He]._visited=!0}function N(Ne,ze){var He=Ne._intersection,Je=He,Vt=[];function ct(xt,pt){for(;xt&&xt!==pt;){var ht=xt._segment,it=ht&&ht._path;if(it){var Ht=ht.getNext()||it.getFirstSegment(),Le=Ht._intersection;ht!==Ne&&(O(ht)||O(Ht)||Ht&&A(ht)&&(A(Ht)||Le&&A(Le._segment)))&&Vt.push(ht),ze&&S.push(ht)}xt=xt._next}}if(ze&&(S=[Ne]),He){for(ct(He);He&&He._previous;)He=He._previous;ct(He,Je)}return Vt}P.sort(function(Ne,ze){var He=Ne._intersection,Je=ze._intersection,Vt=!(!He||!He._overlap),xt=Ne._path,pt=ze._path;return Vt^!(!Je||!Je._overlap)?Vt?1:-1:!He^!Je?He?1:-1:xt!==pt?xt._id-pt._id:Ne._index-ze._index});for(var B=0,V=P.length;B<V;B++){var X,ee,ue,H=P[B],G=A(H),U=null,$=!1,q=!0,K=[];if(G&&H._path._overlapsOnly){var fe=H._path,ve=H._intersection._segment._path;fe.compare(ve)&&(fe.getArea()&&E.push(fe.clone(!1)),L(fe),L(ve),G=!1)}for(;G;){var _e=!U,he=N(H,_e),de=he.shift(),ce=!($=!_e&&(O(H)||O(de)))&&de;if(_e&&(U=new $e(lt.NO_INSERT),X=null),$){(H.isFirst()||H.isLast())&&(q=H._path._closed),H._visited=!0;break}if(ce&&X&&(K.push(X),X=null),X||(ce&&he.push(H),X={start:U._segments.length,crossings:he,visited:ee=[],handleIn:ue}),ce&&(H=de),!A(H)){U.removeSegments(X.start);for(var be=0,De=ee.length;be<De;be++)ee[be]._visited=!1;ee.length=0;do{(!(H=X&&X.crossings.shift())||!H._path)&&(H=null,(X=K.pop())&&(ee=X.visited,ue=X.handleIn))}while(X&&!A(H));if(!H)break}var ke=H.getNext();U.add(new Oe(H._point,ue,ke&&H._handleOut)),H._visited=!0,ee.push(H),H=ke||H._path.getFirstSegment(),ue=ke&&ke._handleIn}$&&(q&&(U.getFirstSegment().setHandleIn(ue),U.setClosed(q)),0!==U.getArea()&&E.push(U))}return E}return{_getWinding:function(P,I,E){return D(P,this.getCurves(),I,E)},unite:function(P,I){return m(this,P,"unite",I)},intersect:function(P,I){return m(this,P,"intersect",I)},subtract:function(P,I){return m(this,P,"subtract",I)},exclude:function(P,I){return m(this,P,"exclude",I)},divide:function(P,I){return I&&(0==I.trace||I.stroke)?v(this,P,"divide"):f([this.subtract(P,I),this.intersect(P,I)],!0,this,P,I)},resolveCrossings:function(){var P=this._children,I=P||[this];function E(X,ee){var ue=X&&X._intersection;return ue&&ue._overlap&&ue._path===ee}var S=!1,A=!1,O=this.getIntersections(null,function(X){return X.hasOverlap()&&(S=!0)||X.isCrossing()&&(A=!0)}),L=S&&A&&[];if(O=Pe.expand(O),S)for(var N=C(O,function(X){return X.hasOverlap()},L),B=N.length-1;B>=0;B--){var V=N[B],H=V._path,G=V._segment,U=G.getPrevious(),$=G.getNext();E(U,H)&&E($,H)&&(G.remove(),U._handleOut._set(0,0),$._handleIn._set(0,0),U!==G&&!U.getCurve().hasLength()&&($._handleIn.set(U._handleIn),U.remove()))}A&&(C(O,S&&function(X){var ee=X.getCurve(),ue=X.getSegment(),fe=X._intersection,ve=fe._curve,_e=fe._segment;if(ee&&ve&&ee._path&&ve._path)return!0;ue&&(ue._intersection=null),_e&&(_e._intersection=null)},L),L&&x(L),I=k(te.each(I,function(X){te.push(this,X._segments)},[])));var K,q=I.length;return q>1&&P?(I!==P&&this.setChildren(I),K=this):1===q&&!P&&(I[0]!==this&&this.setSegments(I[0].removeSegments()),K=this),K||((K=new yt(lt.NO_INSERT)).addChildren(I),(K=K.reduce()).copyAttributes(this),this.replaceWith(K)),K},reorient:function(P,I){var E=this._children;return E&&E.length?this.setChildren(w(this.removeChildren(),function(S){return!!(P?S:1&S)},I)):I!==Ee&&this.setClockwise(I),this},getInteriorPoint:function(){var I=this.getBounds().getCenter(!0);if(!this.contains(I)){for(var E=this.getCurves(),S=I.y,A=[],O=[],L=0,N=E.length;L<N;L++){var B=E[L].getValues(),V=B[1],H=B[3],G=B[5],U=B[7];if(S>=l(V,H,G,U)&&S<=r(V,H,G,U))for(var $=Fe.getMonoCurves(B),q=0,K=$.length;q<K;q++){var X=$[q],ee=X[1],ue=X[7];if(ee!==ue&&(S>=ee&&S<=ue||S>=ue&&S<=ee)){var fe=S===ee?X[0]:S===ue?X[6]:1===Fe.solveCubic(X,1,S,O,0,1)?Fe.getPoint(X,O[0]).x:(X[0]+X[6])/2;A.push(fe)}}}A.length>1&&(A.sort(function(ve,_e){return ve-_e}),I.x=(A[0]+A[1])/2)}return I}}});var vi=te.extend({_class:"PathFlattener",initialize:function(l,r,o,u,c){var x,d=[],f=[],g=0,m=1/(o||32),v=l._segments,b=v[0];function w(k,P){var I=Fe.getValues(k,P,c);d.push(I),C(I,k._index,0,1)}function C(k,P,I,E){if(!(E-I>m)||u&&Fe.isStraight(k)||Fe.isFlatEnough(k,r||.25)){var O=k[6]-k[0],L=k[7]-k[1],N=Math.sqrt(O*O+L*L);N>0&&f.push({offset:g+=N,curve:k,index:P,time:E})}else{var S=Fe.subdivide(k,.5),A=(I+E)/2;C(S[0],P,I,A),C(S[1],P,A,E)}}for(var D=1,R=v.length;D<R;D++)w(b,x=v[D]),b=x;l._closed&&w(x||b,v[0]),this.curves=d,this.parts=f,this.length=g,this.index=0},_get:function(l){for(var c,r=this.parts,o=r.length,d=this.index;c=d,d&&!(r[--d].offset<l););for(;c<o;c++){var f=r[c];if(f.offset>=l){this.index=c;var g=r[c-1],m=g&&g.index===f.index?g.time:0,v=g?g.offset:0;return{index:f.index,time:m+(f.time-m)*(l-v)/(f.offset-v)}}}return{index:r[o-1].index,time:1}},drawPart:function(l,r,o){for(var u=this._get(r),c=this._get(o),d=u.index,f=c.index;d<=f;d++){var g=Fe.getPart(this.curves[d],d===u.index?u.time:0,d===c.index?c.time:1);d===u.index&&l.moveTo(g[0],g[1]),l.bezierCurveTo.apply(l,g.slice(2))}}},te.each(Fe._evaluateMethods,function(l){this[l+"At"]=function(r){var o=this._get(r);return Fe[l](this.curves[o.index],o.time)}},{})),dn=te.extend({initialize:function(l){for(var d,r=this.points=[],o=l._segments,u=l._closed,c=0,f=o.length;c<f;c++){var g=o[c].point;(!d||!d.equals(g))&&r.push(d=g.clone())}u&&(r.unshift(r[r.length-1]),r.push(r[1])),this.closed=u},fit:function(l){var r=this.points,o=r.length,u=null;return o>0&&(u=[new Oe(r[0])],o>1&&(this.fitCubic(u,l,0,o-1,r[1].subtract(r[0]),r[o-2].subtract(r[o-1])),this.closed&&(u.shift(),u.pop()))),u},fitCubic:function(l,r,o,u,c,d){var f=this.points;if(u-o!=1){for(var w,b=this.chordLengthParameterize(o,u),x=Math.max(r,r*r),C=!0,D=0;D<=4;D++){var R=this.generateBezier(o,u,b,c,d),k=this.findMaxError(o,u,R,b);if(k.error<r&&C)return void this.addCurve(l,R);if(w=k.index,k.error>=x)break;C=this.reparameterize(o,u,b,R),x=k.error}var P=f[w-1].subtract(f[w+1]);this.fitCubic(l,r,o,w,c,P),this.fitCubic(l,r,w,u,P.negate(),d)}else{var g=f[o],m=f[u],v=g.getDistance(m)/3;this.addCurve(l,[g,g.add(c.normalize(v)),m.add(d.normalize(v)),m])}},addCurve:function(l,r){l[l.length-1].setHandleOut(r[1].subtract(r[0])),l.push(new Oe(r[3],r[2].subtract(r[3])))},generateBezier:function(l,r,o,u,c){for(var d=1e-12,f=Math.abs,g=this.points,m=g[l],v=g[r],b=[[0,0],[0,0]],x=[0,0],w=0,C=r-l+1;w<C;w++){var D=o[w],R=1-D,k=3*D*R,P=R*R*R,I=k*R,E=k*D,S=D*D*D,A=u.normalize(I),O=c.normalize(E),L=g[l+w].subtract(m.multiply(P+I)).subtract(v.multiply(E+S));b[0][0]+=A.dot(A),b[0][1]+=A.dot(O),b[1][0]=b[0][1],b[1][1]+=O.dot(O),x[0]+=A.dot(L),x[1]+=O.dot(L)}var B,V,N=b[0][0]*b[1][1]-b[1][0]*b[0][1];if(f(N)>d)B=(x[0]*b[1][1]-x[1]*b[0][1])/N,V=(b[0][0]*x[1]-b[1][0]*x[0])/N;else{var U=b[0][0]+b[0][1],$=b[1][0]+b[1][1];B=V=f(U)>d?x[0]/U:f($)>d?x[1]/$:0}var X,ee,q=v.getDistance(m),K=d*q;if(B<K||V<K)B=V=q/3;else{var ue=v.subtract(m);X=u.normalize(B),ee=c.normalize(V),X.dot(ue)-ee.dot(ue)>q*q&&(B=V=q/3,X=ee=null)}return[m,m.add(X||u.normalize(B)),v.add(ee||c.normalize(V)),v]},reparameterize:function(l,r,o,u){for(var c=l;c<=r;c++)o[c-l]=this.findRoot(u,this.points[c],o[c-l]);c=1;for(var d=o.length;c<d;c++)if(o[c]<=o[c-1])return!1;return!0},findRoot:function(l,r,o){for(var u=[],c=[],d=0;d<=2;d++)u[d]=l[d+1].subtract(l[d]).multiply(3);for(d=0;d<=1;d++)c[d]=u[d+1].subtract(u[d]).multiply(2);var f=this.evaluate(3,l,o),g=this.evaluate(2,u,o),m=this.evaluate(1,c,o),v=f.subtract(r),b=g.dot(g)+v.dot(m);return Ue.isMachineZero(b)?o:o-v.dot(g)/b},evaluate:function(l,r,o){for(var u=r.slice(),c=1;c<=l;c++)for(var d=0;d<=l-c;d++)u[d]=u[d].multiply(1-o).add(u[d+1].multiply(o));return u[0]},chordLengthParameterize:function(l,r){for(var o=[0],u=l+1;u<=r;u++)o[u-l]=o[u-l-1]+this.points[u].getDistance(this.points[u-1]);u=1;for(var c=r-l;u<=c;u++)o[u]/=o[c];return o},findMaxError:function(l,r,o,u){for(var c=Math.floor((r-l+1)/2),d=0,f=l+1;f<r;f++){var m=this.evaluate(3,o,u[f-l]).subtract(this.points[f]),v=m.x*m.x+m.y*m.y;v>=d&&(d=v,c=f)}return{error:d,index:c}}}),Ut=lt.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(r){this._content="",this._lines=[];var o=r&&te.isPlainObject(r)&&r.x===Ee&&r.y===Ee;this._initialize(o&&r,!o&&ae.read(arguments))},_equals:function(l){return this._content===l._content},copyContent:function(l){this.setContent(l._content)},getContent:function(){return this._content},setContent:function(l){this._content=""+l,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Li=Ut.extend({_class:"PointText",initialize:function(){Ut.apply(this,arguments)},getPoint:function(){var l=this._matrix.getTranslation();return new se(l.x,l.y,this,"setPoint")},setPoint:function(){var l=ae.read(arguments);this.translate(l.subtract(this._matrix.getTranslation()))},_draw:function(l,r,o){if(this._content){this._setStyles(l,r,o);var u=this._lines,c=this._style,d=c.hasFill(),f=c.hasStroke(),g=c.getLeading(),m=l.shadowColor;l.font=c.getFontStyle(),l.textAlign=c.getJustification();for(var v=0,b=u.length;v<b;v++){l.shadowColor=m;var x=u[v];d&&(l.fillText(x,0,0),l.shadowColor="rgba(0,0,0,0)"),f&&l.strokeText(x,0,0),l.translate(0,g)}}},_getBounds:function(l,r){var o=this._style,u=this._lines,c=u.length,d=o.getJustification(),f=o.getLeading(),g=this.getView().getTextWidth(o.getFontStyle(),u),m=0;"left"!==d&&(m-=g/("center"===d?2:1));var v=new Z(m,c?-.75*f:0,g,c*f);return l?l._transformBounds(v,v):v}}),Ye=te.extend(new function(){var u,l={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},o={transparent:[0,0,0,0]},d=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],f={"rgb-hsb":function(g,m,v){var b=Math.max(g,m,v),w=b-Math.min(g,m,v);return[0===w?0:60*(b==g?(m-v)/w+(m<v?6:0):b==m?(v-g)/w+2:(g-m)/w+4),0===b?0:w/b,b]},"hsb-rgb":function(g,m,v){var x,b=(g=(g/60%6+6)%6)-(x=Math.floor(g)),w=[v,v*(1-m),v*(1-m*b),v*(1-m*(1-b))];return[w[(x=d[x])[0]],w[x[1]],w[x[2]]]},"rgb-hsl":function(g,m,v){var b=Math.max(g,m,v),x=Math.min(g,m,v),w=b-x,C=0===w,R=(b+x)/2;return[C?0:60*(b==g?(m-v)/w+(m<v?6:0):b==m?(v-g)/w+2:(g-m)/w+4),C?0:R<.5?w/(b+x):w/(2-b-x),R]},"hsl-rgb":function(g,m,v){if(0===m)return[v,v,v];for(var b=[(g=(g/360%1+1)%1)+1/3,g,g-1/3],x=v<.5?v*(1+m):v+m-v*m,w=2*v-x,C=[],D=0;D<3;D++){var R=b[D];R<0&&(R+=1),R>1&&(R-=1),C[D]=6*R<1?w+6*(x-w)*R:2*R<1?x:3*R<2?w+(x-w)*(2/3-R)*6:w}return C},"rgb-gray":function(g,m,v){return[.2989*g+.587*m+.114*v]},"gray-rgb":function(g){return[g,g,g]},"gray-hsb":function(g){return[0,0,g]},"gray-hsl":function(g){return[0,0,g]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return te.each(l,function(g,m){r[m]=[],te.each(g,function(v,b){var x=te.capitalize(v),w=/^(hue|saturation)$/.test(v),C=r[m][b]="gradient"===m?"gradient"===v?function(D){var R=this._components[0];return R!==(D=un.read(Array.isArray(D)?D:arguments,0,{readNull:!0}))&&(R&&R._removeOwner(this),D&&D._addOwner(this)),D}:function(){return ae.read(arguments,0,{readNull:"highlight"===v,clone:!0})}:function(D){return null==D||isNaN(D)?0:+D};this["get"+x]=function(){return this._type===m||w&&/^hs[bl]$/.test(this._type)?this._components[b]:this._convert(m)[b]},this["set"+x]=function(D){this._type!==m&&!(w&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(m),this._properties=l[m],this._type=m),this._components[b]=C.call(this,D),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function g(m){var w,C,D,R,v=arguments,b=this.__read,x=0;Array.isArray(m)&&(m=(v=m)[0]);var k=null!=m&&typeof m;if("string"===k&&m in l&&(w=m,m=v[1],Array.isArray(m)?(C=m,D=v[2]):(b&&(x=1),v=te.slice(v,1),k=typeof m)),!C){if(R="number"===k?v:"object"===k&&null!=m.length?m:null){w||(w=R.length>=3?"rgb":"gray");var P=l[w].length;D=R[P],b&&(x+=R===arguments?P+(null!=D?1:0):1),R.length>P&&(R=te.slice(R,0,P))}else if("string"===k){var I=function c(g){var b,m=g.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||g.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),v="rgb";if(m){var x=m[4]?4:3;b=new Array(x);for(var w=0;w<x;w++){var C=m[w+1];b[w]=parseInt(1==C.length?C+C:C,16)/255}}else if(m=g.match(/^(rgb|hsl)a?\((.*)\)$/)){v=m[1],b=m[2].trim().split(/[,\s]+/g);for(var D="hsl"===v,R=(w=0,Math.min(b.length,4));w<R;w++){var k=b[w];if(C=parseFloat(k),D)if(0===w){var P=k.match(/([a-z]*)$/)[1];C*={turn:360,rad:180/Math.PI,grad:.9}[P]||1}else w<3&&(C/=100);else w<3&&(C/=/%$/.test(k)?100:255);b[w]=C}}else{var I=o[g];if(!I)if(Me){u||((u=Kt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),u.fillStyle="rgba(0,0,0,0)",u.fillStyle=g,u.fillRect(0,0,1,1);var E=u.getImageData(0,0,1,1).data;I=o[g]=[E[0]/255,E[1]/255,E[2]/255]}else I=[0,0,0];b=I.slice()}return[v,b]}(m);w=I[0],4===(C=I[1]).length&&(D=C[3],C.length--)}else if("object"===k)if(m.constructor===g){if(w=m._type,C=m._components.slice(),D=m._alpha,"gradient"===w)for(var E=1,S=C.length;E<S;E++){var A=C[E];A&&(C[E]=A.clone())}}else if(m.constructor===un)w="gradient",R=v;else{var O=l[w="hue"in m?"lightness"in m?"hsl":"hsb":"gradient"in m||"stops"in m||"radial"in m?"gradient":"gray"in m?"gray":"rgb"],L=r[w];for(this._components=C=[],E=0,S=O.length;E<S;E++)null==(N=m[O[E]])&&!E&&"gradient"===w&&"stops"in m&&(N={stops:m.stops,radial:m.radial}),null!=(N=L[E].call(this,N))&&(C[E]=N);D=m.alpha}b&&w&&(x=1)}if(this._type=w||"rgb",!C)for(this._components=C=[],E=0,S=(L=r[this._type]).length;E<S;E++){var N;null!=(N=L[E].call(this,R&&R[E]))&&(C[E]=N)}return this._components=C,this._properties=l[this._type],this._alpha=D,b&&(this.__read=x),this},set:"#initialize",_serialize:function(g,m){var v=this.getComponents();return te.serialize(/^(gray|rgb)$/.test(this._type)?v:[this._type].concat(v),g,!0,m)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(g){var m;return this._type===g?this._components.slice():(m=f[this._type+"-"+g])?m.apply(this,this._components):f["rgb-"+g].apply(this,f[this._type+"-rgb"].apply(this,this._components))},convert:function(g){return new Ye(g,this._convert(g),this._alpha)},getType:function(){return this._type},setType:function(g){this._components=this._convert(g),this._properties=l[g],this._type=g},getComponents:function(){var g=this._components.slice();return null!=this._alpha&&g.push(this._alpha),g},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(g){this._alpha=null==g?null:Math.min(Math.max(g,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(g){var m=te.isPlainValue(g,!0)?Ye.read(arguments):g;return m===this||m&&this._class===m._class&&this._type===m._type&&this.getAlpha()===m.getAlpha()&&te.equals(this._components,m._components)||!1},toString:function(){for(var g=this._properties,m=[],v="gradient"===this._type,b=yn.instance,x=0,w=g.length;x<w;x++){var C=this._components[x];null!=C&&m.push(g[x]+": "+(v?C:b.number(C)))}return null!=this._alpha&&m.push("alpha: "+b.number(this._alpha)),"{ "+m.join(", ")+" }"},toCSS:function(g){var m=this._convert("rgb"),v=g||null==this._alpha?1:this._alpha;function b(x){return Math.round(255*(x<0?0:x>1?1:x))}return m=[b(m[0]),b(m[1]),b(m[2])],v<1&&m.push(v<0?0:v),g?"#"+((1<<24)+(m[0]<<16)+(m[1]<<8)+m[2]).toString(16).slice(1):(4==m.length?"rgba(":"rgb(")+m.join(",")+")"},toCanvasStyle:function(g,m){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var k,v=this._components,b=v[0],x=b._stops,w=v[1],C=v[2],D=v[3],R=m&&m.inverted();if(R&&(w=R._transformPoint(w),C=R._transformPoint(C),D&&(D=R._transformPoint(D))),b._radial){var P=C.getDistance(w);if(D){var I=D.subtract(w);I.getLength()>P&&(D=w.add(I.normalize(P-.1)))}var E=D||w;k=g.createRadialGradient(E.x,E.y,0,w.x,w.y,P)}else k=g.createLinearGradient(w.x,w.y,C.x,C.y);for(var S=0,A=x.length;S<A;S++){var O=x[S];k.addColorStop(O._offset??S/(A-1),O._color.toCanvasStyle())}return this._canvasStyle=k},transform:function(g){if("gradient"===this._type){for(var m=this._components,v=1,b=m.length;v<b;v++){var x=m[v];g._transformPoint(x,x,!0)}this._changed()}},statics:{_types:l,random:function(){var g=Math.random;return new Ye(g(),g(),g())},_setOwner:function(g,m,v){return g&&(g._owner&&m&&g._owner!==m&&(g=g.clone()),!g._owner^!m&&(g._owner=m||null,g._setter=v||null)),g}}})},new function(){return te.each({add:function(r,o){return r+o},subtract:function(r,o){return r-o},multiply:function(r,o){return r*o},divide:function(r,o){return r/o}},function(r,o){this[o]=function(u){u=Ye.read(arguments);for(var c=this._type,d=this._components,f=u._convert(c),g=0,m=d.length;g<m;g++)f[g]=r(d[g],f[g]);return new Ye(c,f,null!=this._alpha?r(this._alpha,u.getAlpha()):null)}},{})}),un=te.extend({_class:"Gradient",initialize:function(r,o){this._id=gt.get(),r&&te.isPlainObject(r)&&(this.set(r),r=o=null),null==this._stops&&this.setStops(r||["white","black"]),null==this._radial&&this.setRadial("string"==typeof o&&"radial"===o||o||!1)},_serialize:function(l,r){return r.add(this,function(){return te.serialize([this._stops,this._radial],l,!0,r)})},_changed:function(){for(var l=0,r=this._owners&&this._owners.length;l<r;l++)this._owners[l]._changed()},_addOwner:function(l){this._owners||(this._owners=[]),this._owners.push(l)},_removeOwner:function(l){var r=this._owners?this._owners.indexOf(l):-1;-1!=r&&(this._owners.splice(r,1),this._owners.length||(this._owners=Ee))},clone:function(){for(var l=[],r=0,o=this._stops.length;r<o;r++)l[r]=this._stops[r].clone();return new un(l,this._radial)},getStops:function(){return this._stops},setStops:function(l){if(l.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var o=0,u=r.length;o<u;o++)r[o]._owner=Ee;for(o=0,u=(r=this._stops=br.readList(l,0,{clone:!0})).length;o<u;o++)r[o]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(l){this._radial=l,this._changed()},equals:function(l){if(l===this)return!0;if(l&&this._class===l._class){var r=this._stops,o=l._stops,u=r.length;if(u===o.length){for(var c=0;c<u;c++)if(!r[c].equals(o[c]))return!1;return!0}}return!1}}),br=te.extend({_class:"GradientStop",initialize:function(r,o){var u=r,c=o;"object"==typeof r&&o===Ee&&(Array.isArray(r)&&"number"!=typeof r[0]?(u=r[0],c=r[1]):("color"in r||"offset"in r||"rampPoint"in r)&&(u=r.color,c=r.offset||r.rampPoint||0)),this.setColor(u),this.setOffset(c)},clone:function(){return new br(this._color.clone(),this._offset)},_serialize:function(l,r){var o=this._color,u=this._offset;return te.serialize(null==u?[o]:[o,u],l,!0,r)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(l){this._offset=l,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ye._setOwner(this._color,null),this._color=Ye._setOwner(Ye.read(arguments,0),this,"setColor"),this._changed()},equals:function(l){return l===this||l&&this._class===l._class&&this._color.equals(l._color)&&this._offset==l._offset||!1}}),tr=te.extend(new function(){var l={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ae,selectedColor:null},r=te.set({},l,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),o=te.set({},r,{fillColor:new Ye}),u={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},c={beans:!0},d={_class:"Style",beans:!0,initialize:function(g,m,v){this._values={},this._owner=m,this._project=m&&m._project||v||Ve.project,this._defaults=!m||m instanceof tt?r:m instanceof Ut?o:l,g&&this.set(g)}};return te.each(r,function(f,g){var m=/Color$/.test(g),v="shadowOffset"===g,b=te.capitalize(g),x=u[g],w="set"+b,C="get"+b;d[w]=function(D){var R=this._owner,k=R&&R._children,P=k&&k.length>0&&!(R instanceof yt);if(P)for(var I=0,E=k.length;I<E;I++)k[I]._style[w](D);if(("selectedColor"===g||!P)&&g in this._defaults){var S=this._values[g];S!==D&&(m&&(S&&(Ye._setOwner(S,null),S._canvasStyle=null),D&&D.constructor===Ye&&(D=Ye._setOwner(D,R,P&&w))),this._values[g]=D,R&&R._changed(x||129))}},d[C]=function(D){var R=this._owner,k=R&&R._children,P=k&&k.length>0&&!(R instanceof yt);if(P&&!D)for(var E=0,S=k.length;E<S;E++){var A=k[E]._style[C]();if(E){if(!te.equals(I,A))return Ee}else I=A}else if(g in this._defaults){var I;if((I=this._values[g])===Ee)(I=this._defaults[g])&&I.clone&&(I=I.clone());else{var O=m?Ye:v?ae:null;O&&(!I||I.constructor!==O)&&(this._values[g]=I=O.read([I],0,{readNull:!0,clone:!0}))}}return I&&m&&(I=Ye._setOwner(I,R,P&&w)),I},c[C]=function(D){return this._style[C](D)},c[w]=function(D){this._style[w](D)}}),te.each({Font:"FontFamily",WindingRule:"FillRule"},function(f,g){var m="get"+g,v="set"+g;d[m]=c[m]="#get"+f,d[v]=c[v]="#set"+f}),lt.inject(c),d},{set:function(l){var r=l instanceof tr,o=r?l._values:l;if(o)for(var u in o)if(u in this._defaults){var c=o[u];this[u]=c&&r&&c.clone?c.clone():c}},equals:function(l){function r(o,u,c){var d=o._values,f=u._values,g=u._defaults;for(var m in d){var b=f[m];if(!(c&&m in f||te.equals(d[m],b===Ee?g[m]:b)))return!1}return!0}return l===this||l&&this._class===l._class&&r(this,l)&&r(l,this,!0)||!1},_dispose:function(){var l;(l=this.getFillColor())&&(l._canvasStyle=null),(l=this.getStrokeColor())&&(l._canvasStyle=null),(l=this.getShadowColor())&&(l._canvasStyle=null)},hasFill:function(){var l=this.getFillColor();return!!l&&l.alpha>0},hasStroke:function(){var l=this.getStrokeColor();return!!l&&l.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var l=this.getShadowColor();return!!l&&l.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var l=this.getFontSize();return this.getFontWeight()+" "+l+(/[a-z]/i.test(l+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function l(){var r=l.base.call(this),o=this.getFontSize();return/pt|em|%|px/.test(o)&&(o=this.getView().getPixelSize(o)),r??1.2*o}}),fn=new function(){function l(r,o,u,c){for(var d=["","webkit","moz","Moz","ms","o"],f=o[0].toUpperCase()+o.substring(1),g=0;g<6;g++){var m=d[g],v=m?m+f:o;if(v in r){if(!u)return r[v];r[v]=c;break}}}return{getStyles:function(r){var o=r&&9!==r.nodeType?r.ownerDocument:r,u=o&&o.defaultView;return u&&u.getComputedStyle(r,"")},getBounds:function(r,o){var f,u=r.ownerDocument,c=u.body,d=u.documentElement;try{f=r.getBoundingClientRect()}catch{f={left:0,top:0,width:0,height:0}}var g=f.left-(d.clientLeft||c.clientLeft||0),m=f.top-(d.clientTop||c.clientTop||0);if(!o){var v=u.defaultView;g+=v.pageXOffset||d.scrollLeft||c.scrollLeft,m+=v.pageYOffset||d.scrollTop||c.scrollTop}return new Z(g,m,f.width,f.height)},getViewportBounds:function(r){var o=r.ownerDocument,u=o.defaultView,c=o.documentElement;return new Z(0,0,u.innerWidth||c.clientWidth,u.innerHeight||c.clientHeight)},getOffset:function(r,o){return fn.getBounds(r,o).getPoint()},getSize:function(r){return fn.getBounds(r,!0).getSize()},isInvisible:function(r){return fn.getSize(r).equals(new Ze(0,0))},isInView:function(r){return!fn.isInvisible(r)&&fn.getViewportBounds(r).intersects(fn.getBounds(r,!0))},isInserted:function(r){return Dt.body.contains(r)},getPrefixed:function(r,o){return r&&l(r,o)},setPrefixed:function(r,o,u){if("object"==typeof o)for(var c in o)l(r,c,!0,o[c]);else l(r,o,!0,u)}}},Mt={add:function(l,r){if(l)for(var o in r)for(var u=r[o],c=o.split(/[\s,]+/g),d=0,f=c.length;d<f;d++){var g=c[d];l.addEventListener(g,u,l===Dt&&("touchstart"===g||"touchmove"===g)&&{passive:!1})}},remove:function(l,r){if(l)for(var o in r)for(var u=r[o],c=o.split(/[\s,]+/g),d=0,f=c.length;d<f;d++)l.removeEventListener(c[d],u,!1)},getPoint:function(l){var r=l.targetTouches?l.targetTouches.length?l.targetTouches[0]:l.changedTouches[0]:l;return new ae(r.pageX||r.clientX+Dt.documentElement.scrollLeft,r.pageY||r.clientY+Dt.documentElement.scrollTop)},getTarget:function(l){return l.target||l.srcElement},getRelatedTarget:function(l){return l.relatedTarget||l.toElement},getOffset:function(l,r){return Mt.getPoint(l).subtract(fn.getOffset(r||Mt.getTarget(l)))}};Mt.requestAnimationFrame=new function(){var u,l=fn.getPrefixed(Me,"requestAnimationFrame"),r=!1,o=[];function c(){var d=o;o=[];for(var f=0,g=d.length;f<g;f++)d[f]();(r=l&&o.length)&&l(c)}return function(d){o.push(d),l?r||(l(c),r=!0):u||(u=setInterval(c,16.666666666666668))}};var Ct=te.extend(re,{_class:"View",initialize:function l(r,o){function u(x){return o[x]||parseInt(o.getAttribute(x),10)}function c(){var x=fn.getSize(o);return x.isNaN()||x.isZero()?new Ze(u("width"),u("height")):x}var d;if(Me&&o){this._id=o.getAttribute("id"),null==this._id&&o.setAttribute("id",this._id="paper-view-"+l._id++),Mt.add(o,this._viewEvents);var f="none";if(fn.setPrefixed(o.style,{userDrag:f,userSelect:f,touchCallout:f,contentZooming:f,tapHighlightColor:"rgba(0,0,0,0)"}),li.hasAttribute(o,"resize")){var g=this;Mt.add(Me,this._windowEvents={resize:function(){g.setViewSize(c())}})}if(d=c(),li.hasAttribute(o,"stats")&&typeof Stats<"u"){this._stats=new Stats;var m=this._stats.domElement,v=m.style,b=fn.getOffset(o);v.position="absolute",v.left=b.x+"px",v.top=b.y+"px",Dt.body.appendChild(m)}}else d=new Ze(o),o=null;this._project=r,this._scope=r._scope,this._element=o,this._pixelRatio||(this._pixelRatio=Me&&Me.devicePixelRatio||1),this._setElementSize(d.width,d.height),this._viewSize=d,l._views.push(this),l._viewsById[this._id]=this,(this._matrix=new Zt)._owner=this,l._focused||(l._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ve.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Ct._focused===this&&(Ct._focused=null),Ct._views.splice(Ct._views.indexOf(this),1),delete Ct._viewsById[this._id];var l=this._project;return l._view===this&&(l._view=null),Mt.remove(this._element,this._viewEvents),Mt.remove(Me,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:te.each(lt._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(l){this[l]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(l){this._autoUpdate=l,l&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var l=this;Mt.requestAnimationFrame(function(){if(l._requested=!1,l._animate){l.requestUpdate();var r=l._element;(!fn.getPrefixed(Dt,"hidden")||"true"===li.getAttribute(r,"keepalive"))&&fn.isInView(r)&&l._handleFrame()}l._autoUpdate&&l.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ve=this._scope;var l=Date.now()/1e3,r=this._last?l-this._last:0;this._last=l,this.emit("frame",new te({delta:r,time:this._time+=r,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(l,r){var o=this._frameItems;r?(o[l._id]={item:l,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete o[l._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(l){for(var r in this._frameItems){var o=this._frameItems[r];o.item.emit("frame",new te(l,{time:o.time+=l.delta,count:o.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=Ee},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var l=this._viewSize;return new Ae(l.width,l.height,this,"setViewSize")},setViewSize:function(){var l=Ze.read(arguments),r=l.subtract(this._viewSize);r.isZero()||(this._setElementSize(l.width,l.height),this._viewSize.set(l),this._changed(),this.emit("resize",{size:l,delta:r}),this._autoUpdate&&this.update())},_setElementSize:function(l,r){var o=this._element;o&&(o.width!==l&&(o.width=l),o.height!==r&&(o.height=r))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new Z(new ae,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return fn.isInView(this._element)},isInserted:function(){return fn.isInserted(this._element)},getPixelSize:function(l){var o,r=this._element;if(r){var u=r.parentNode,c=Dt.createElement("div");c.style.fontSize=l,u.appendChild(c),o=parseFloat(fn.getStyles(c).fontSize),u.removeChild(c)}else o=parseFloat(o);return o},getTextWidth:function(l,r){return 0}},te.each(["rotate","scale","shear","skew"],function(l){var r="rotate"===l;this[l]=function(){var o=arguments,u=(r?te:ae).read(o),c=ae.read(o,0,{readNull:!0});return this.transform((new Zt)[l](u,c||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var l=new Zt;return this.transform(l.translate.apply(l,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var l=ae.read(arguments);this.translate(this.getCenter().subtract(l))},getZoom:function(){var l=this._decompose().scaling;return(l.x+l.y)/2},setZoom:function(l){this.transform((new Zt).scale(l/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(l){var r=this.getRotation();null!=r&&null!=l&&this.rotate(l-r)},getScaling:function(){var l=this._decompose().scaling;return new se(l.x,l.y,this,"setScaling")},setScaling:function(){var l=this.getScaling(),r=ae.read(arguments,0,{clone:!0,readNull:!0});l&&r&&this.scale(r.x/l.x,r.y/l.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var l=this._matrix;l.set.apply(l,arguments)},transform:function(l){this._matrix.append(l)},scrollBy:function(){this.translate(ae.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ae.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ae.read(arguments))},getEventPoint:function(l){return this.viewToProject(Mt.getOffset(l,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(l,r){return Dt&&"string"==typeof r&&(r=Dt.getElementById(r)),new(Me?_n:Ct)(l,r)}}},new function(){if(Me){var l,r,m,v,b,o=!1,u=!1,g=Me.navigator;g.pointerEnabled||g.msPointerEnabled?(m="pointerdown MSPointerDown",v="pointermove MSPointerMove",b="pointerup pointercancel MSPointerUp MSPointerCancel"):(m="touchstart",v="touchmove",b="touchend touchcancel","ontouchstart"in Me&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(m+=" mousedown",v+=" mousemove",b+=" mouseup"));var x={},w={mouseout:function(U){var $=Ct._focused,q=Mt.getRelatedTarget(U);if($&&(!q||"HTML"===q.nodeName)){var K=Mt.getOffset(U,$._element),X=K.x,ee=Math.abs,ue=ee(X),ve=ue-(1<<25);K.x=ee(ve)<ue?ve*(X<0?-1:1):X,f($,U,$.viewToProject(K))}},scroll:d};x[m]=function(U){var $=Ct._focused=c(U);o||(o=!0,$._handleMouseEvent("mousedown",U))},w[v]=function(U){var $=Ct._focused;if(!u){var q=c(U);q?$!==q&&($&&f($,U),l||(l=$),$=Ct._focused=r=q):r&&r===$&&(l&&!l.isInserted()&&(l=null),$=Ct._focused=l,l=null,d())}$&&f($,U)},w[m]=function(){u=!0},w[b]=function(U){var $=Ct._focused;$&&o&&$._handleMouseEvent("mouseup",U),u=o=!1},Mt.add(Dt,w),Mt.add(Me,{load:d});var I,E,S,A,O,L,N,B,C=!1,D=!1,R={doubleclick:"click",mousedrag:"mousemove"},k=!1,G={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:x,_handleMouseEvent:function(U,$,q){var K=this._itemEvents,X=K.native[U],ee="mousemove"===U,ue=this._scope.tool,fe=this;function ve(ke){return K.virtual[ke]||fe.responds(ke)||ue&&ue.responds(ke)}ee&&o&&ve("mousedrag")&&(U="mousedrag"),q||(q=this.getEventPoint($));var _e=this.getBounds().contains(q),he=X&&_e&&fe._project.hitTest(q,{tolerance:0,fill:!0,stroke:!0}),de=he&&he.item||null,ce=!1,be={};if(be[U.substr(5)]=!0,X&&de!==A&&(A&&V(A,null,"mouseleave",$,q),de&&V(de,null,"mouseenter",$,q),A=de),k^_e&&(V(this,null,_e?"mouseenter":"mouseleave",$,q),ce=!0),(_e||be.drag)&&!q.equals(E)&&(H(this,de,ee?U:"mousemove",$,q,E),ce=!0),k=_e,be.down&&_e||be.up&&I){if(H(this,de,U,$,q,I),be.down){if(B=de===L&&Date.now()-N<300,S=L=de,!D&&de){for(var De=de;De&&!De.responds("mousedrag");)De=De._parent;De&&(O=de)}I=q}else be.up&&(!D&&de===S&&(N=Date.now(),H(this,de,B?"doubleclick":"click",$,q,I),B=!1),S=O=null);k=!1,ce=!0}E=q,ce&&ue&&(C=ue._handleMouseEvent(U,$,q,be)||C),!1!==$.cancelable&&(C&&!be.move||be.down&&ve("mouseup"))&&$.preventDefault()},_handleKeyEvent:function(U,$,q,K){var ue,X=this._scope,ee=X.tool;function fe(ve){ve.responds(U)&&(Ve=X,ve.emit(U,ue=ue||new wr(U,$,q,K)))}this.isVisible()&&(fe(this),ee&&ee.responds(U)&&fe(ee))},_countItemEvent:function(U,$){var q=this._itemEvents,K=q.native,X=q.virtual;for(var ee in G)K[ee]=(K[ee]||0)+(G[ee][U]||0)*$;X[U]=(X[U]||0)+$},statics:{updateFocus:d,_resetState:function(){o=u=C=k=!1,l=r=I=E=S=A=O=L=N=B=null}}}}function c(U){var $=Mt.getTarget(U);return $.getAttribute&&Ct._viewsById[$.getAttribute("id")]}function d(){var U=Ct._focused;if(!U||!U.isVisible())for(var $=0,q=Ct._views.length;$<q;$++)if((U=Ct._views[$]).isVisible()){Ct._focused=r=U;break}}function f(U,$,q){U._handleMouseEvent("mousemove",$,q)}function V(U,$,q,K,X,ee,ue){var ve,fe=!1;function _e(he,de){if(he.responds(de)){if(ve||(ve=new Bi(de,K,X,$||he,ee?X.subtract(ee):null)),he.emit(de,ve)&&(C=!0,ve.prevented&&(D=!0),ve.stopped))return fe=!0}else{var ce=R[de];if(ce)return _e(he,ce)}}for(;U&&U!==ue&&!_e(U,q);)U=U._parent;return fe}function H(U,$,q,K,X,ee){return U._project.removeOn(q),D=C=!1,O&&V(O,null,q,K,X,ee)||$&&$!==O&&!$.isDescendant(O)&&V($,null,"mousedrag"===q?"mousemove":q,K,X,ee,O)||V(U,O||$||U,q,K,X,ee)}}),_n=Ct.extend({_class:"CanvasView",initialize:function(r,o){if(!(o instanceof Me.HTMLCanvasElement)){var u=Ze.read(arguments,1);if(u.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+te.slice(arguments,1));o=Kt.getCanvas(u)}var c=this._context=o.getContext("2d");if(c.save(),this._pixelRatio=1,!/^off|false$/.test(li.getAttribute(o,"hidpi"))){var d=Me.devicePixelRatio||1,f=fn.getPrefixed(c,"backingStorePixelRatio")||1;this._pixelRatio=d/f}Ct.call(this,r,o),this._needsUpdate=!0},remove:function l(){return this._context.restore(),l.base.call(this)},_setElementSize:function l(r,o){var u=this._pixelRatio;if(l.base.call(this,r*u,o*u),1!==u){var c=this._element,d=this._context;if(!li.hasAttribute(c,"resize")){var f=c.style;f.width=r+"px",f.height=o+"px"}d.restore(),d.save(),d.scale(u,u)}},getContext:function(){return this._context},getPixelSize:function l(r){var u,o=Ve.agent;if(o&&o.firefox)u=l.base.call(this,r);else{var c=this._context,d=c.font;c.font=r+" serif",u=parseFloat(c.font),c.font=d}return u},getTextWidth:function(l,r){var o=this._context,u=o.font,c=0;o.font=l;for(var d=0,f=r.length;d<f;d++)c=Math.max(c,o.measureText(r[d]).width);return o.font=u,c},update:function(){if(!this._needsUpdate)return!1;var l=this._project,r=this._context,o=this._viewSize;return r.clearRect(0,0,o.width+1,o.height+1),l&&l.draw(r,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Fr=te.extend({_class:"Event",initialize:function(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ys.modifiers}}),wr=Fr.extend({_class:"KeyEvent",initialize:function(r,o,u,c){this.type=r,this.event=o,this.key=u,this.character=c},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ys=new function(){var c,d,l={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},o={},u={},f=new te({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var v=Ve&&Ve.agent;return v&&v.mac?this.meta:this.control}}});function g(v){var b=v.key||v.keyIdentifier;return b=/^U\+/.test(b)?String.fromCharCode(parseInt(b.substr(2),16)):/^Arrow[A-Z]/.test(b)?b.substr(5):"Unidentified"===b||b===Ee?String.fromCharCode(v.keyCode):b,l[b]||(b.length>1?te.hyphenate(b):b.toLowerCase())}function m(v,b,x,w){var R,D=Ct._focused;if(o[b]=v,v?u[b]=x:delete u[b],b.length>1&&(R=te.camelize(b))in f){f[R]=v;var k=Ve&&Ve.agent;if("meta"===R&&k&&k.mac)if(v)c={};else{for(var P in c)P in u&&m(!1,P,c[P],w);c=null}}else v&&c&&(c[b]=x);D&&D._handleKeyEvent(v?"keydown":"keyup",w,b,x)}return Mt.add(Dt,{keydown:function(v){var b=g(v),x=Ve&&Ve.agent;b.length>1||x&&x.chrome&&(v.altKey||x.mac&&v.metaKey||!x.mac&&v.ctrlKey)?m(!0,b,r[b]||(b.length>1?"":b),v):d=b},keypress:function(v){if(d){var b=g(v),x=v.charCode,w=x>=32?String.fromCharCode(x):b.length>1?"":b;b!==d&&(b=w.toLowerCase()),m(!0,b,w,v),d=null}},keyup:function(v){var b=g(v);b in u&&m(!1,b,u[b],v)}}),Mt.add(Me,{blur:function(v){for(var b in u)m(!1,b,u[b],v)}}),{modifiers:f,isDown:function(v){return!!o[v]}}},Bi=Fr.extend({_class:"MouseEvent",initialize:function(r,o,u,c,d){this.type=r,this.event=o,this.point=u,this.target=c,this.delta=d},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),qs=Fr.extend({_class:"ToolEvent",_item:null,initialize:function(r,o,u){this.tool=r,this.type=o,this.event=u},_choosePoint:function(l,r){return l||(r?r.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(l){this._point=l},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(l){this._lastPoint=l},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(l){this._downPoint=l},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(l){this._middlePoint=l},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(l){this._delta=l},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(l){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=l},getItem:function(){if(!this._item){var l=this.tool._scope.project.hitTest(this.getPoint());if(l){for(var r=l.item,o=r._parent;/^(Group|CompoundPath)$/.test(o._class);)r=o,o=o._parent;this._item=r}}return this._item},setItem:function(l){this._item=l},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),bs=(kn.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(r){kn.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(l){this._minDistance=l,null!=l&&null!=this._maxDistance&&l>this._maxDistance&&(this._maxDistance=l)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(l){this._maxDistance=l,null!=this._minDistance&&null!=l&&l<this._minDistance&&(this._minDistance=l)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(l){this._minDistance=this._maxDistance=l},_handleMouseEvent:function(l,r,o,u){Ve=this._scope,u.drag&&!this.responds(l)&&(l="mousemove");var c=u.move||u.drag,d=this.responds(l),f=this.minDistance,g=this.maxDistance,m=!1,v=this;function b(w,C){var D=o,R=c?v._point:v._downPoint||D;if(c){if(v._moveCount>=0&&D.equals(R))return!1;if(R&&(null!=w||null!=C)){var k=D.subtract(R),P=k.getLength();if(P<(w||0))return!1;C&&(D=R.add(k.normalize(Math.min(P,C))))}v._moveCount++}return v._point=D,v._lastPoint=R||D,u.down&&(v._moveCount=-1,v._downPoint=D,v._downCount++),!0}function x(){d&&(m=v.emit(l,new qs(v,l,r))||m)}if(u.down)b(),x();else if(u.up)b(null,g),x();else if(d)for(;b(f,g);)x();return m}}),te.extend(re,{_class:"Tween",statics:{easings:new te({linear:function(l){return l},easeInQuad:function(l){return l*l},easeOutQuad:function(l){return l*(2-l)},easeInOutQuad:function(l){return l<.5?2*l*l:2*(2-l)*l-1},easeInCubic:function(l){return l*l*l},easeOutCubic:function(l){return--l*l*l+1},easeInOutCubic:function(l){return l<.5?4*l*l*l:(l-1)*(2*l-2)*(2*l-2)+1},easeInQuart:function(l){return l*l*l*l},easeOutQuart:function(l){return 1- --l*l*l*l},easeInOutQuart:function(l){return l<.5?8*l*l*l*l:1-8*--l*l*l*l},easeInQuint:function(l){return l*l*l*l*l},easeOutQuint:function(l){return 1+--l*l*l*l*l},easeInOutQuint:function(l){return l<.5?16*l*l*l*l*l:1+16*--l*l*l*l*l}})},initialize:function l(r,o,u,c,d,f){this.object=r;var g=typeof d,m="function"===g;this.type=m?g:"string"===g?d:"linear",this.easing=m?d:l.easings[this.type],this.duration=c,this.running=!1,this._then=null,this._startTime=null;var v=o||u;this._keys=v?Object.keys(v):[],this._parsedKeys=this._parseKeys(this._keys),this._from=v&&this._getState(o),this._to=v&&this._getState(u),!1!==f&&this.start()},then:function(l){return this._then=l,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(l){if(this.running){l>=1&&(l=1,this.running=!1);for(var r=this.easing(l),o=this._keys,u=function(b){return"function"==typeof b?b(r,l):b},c=0,d=o&&o.length;c<d;c++){var f=o[c],g=u(this._from[f]),m=u(this._to[f]),v=g&&m&&g.__add&&m.__add?m.__subtract(g).__multiply(r).__add(g):(m-g)*r+g;this._setProperty(this._parsedKeys[f],v)}this.responds("update")&&this.emit("update",new te({progress:l,factor:r})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(l){var r=this._startTime,o=r?(l-r)/this.duration:0;r||(this._startTime=l),this.update(o)},_getState:function(l){for(var r=this._keys,o={},u=0,c=r.length;u<c;u++){var m,d=r[u],f=this._parsedKeys[d],g=this._getProperty(f);if(l){var v=this._resolveValue(g,l[d]);this._setProperty(f,v),m=(m=this._getProperty(f))&&m.clone?m.clone():m,this._setProperty(f,g)}else m=g&&g.clone?g.clone():g;o[d]=m}return o},_resolveValue:function(l,r){if(r){if(Array.isArray(r)&&2===r.length){var o=r[0];return o&&o.match&&o.match(/^[+\-\*\/]=/)?this._calculate(l,o[0],r[1]):r}if("string"==typeof r){var u=r.match(/^[+\-*/]=(.*)/);if(u){var c=JSON.parse(u[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(l,r[0],c)}}}return r},_calculate:function(l,r,o){return Ve.PaperScript.calculateBinary(l,r,o)},_parseKeys:function(l){for(var r={},o=0,u=l.length;o<u;o++){var c=l[o],d=c.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[c]=d.split("/")}return r},_getProperty:function(l,r){for(var o=this.object,u=0,c=l.length-(r||0);u<c&&o;u++)o=o[l[u]];return o},_setProperty:function(l,r){var o=this._getProperty(l,1);o&&(o[l[l.length-1]]=r)}})),bn={request:function(l){var r=new _i.XMLHttpRequest;return r.open((l.method||"get").toUpperCase(),l.url,te.pick(l.async,!0)),l.mimeType&&r.overrideMimeType(l.mimeType),r.onload=function(){var o=r.status;0===o||200===o?l.onLoad&&l.onLoad.call(r,r.responseText):r.onerror()},r.onerror=function(){var o=r.status,u='Could not load "'+l.url+'" (Status: '+o+")";if(!l.onError)throw new Error(u);l.onError(u,o)},r.send(null)}},Kt=te.exports.CanvasProvider={canvases:[],getCanvas:function(l,r,o){if(!Me)return null;var u,c=!0;"object"==typeof l&&(r=l.height,l=l.width),this.canvases.length?u=this.canvases.pop():(u=Dt.createElement("canvas"),c=!1);var d=u.getContext("2d",o||{});if(!d)throw new Error("Canvas "+u+" is unable to provide a 2D context.");return u.width===l&&u.height===r?c&&d.clearRect(0,0,l+1,r+1):(u.width=l,u.height=r),d.save(),u},getContext:function(l,r,o){var u=this.getCanvas(l,r,o);return u?u.getContext("2d",o||{}):null},release:function(l){var r=l&&l.canvas?l.canvas:l;r&&r.getContext&&(r.getContext("2d").restore(),this.canvases.push(r))}},Bt=new function(){var u,c,d,f,g,m,v,b,x,w,C,l=Math.min,r=Math.max,o=Math.abs;function D(A,O,L){return.2989*A+.587*O+.114*L}function R(A,O,L,V){var B=V-D(A,O,L),H=(V=D(x=A+B,w=O+B,C=L+B),l(x,w,C)),G=r(x,w,C);if(H<0){var U=V-H;x=V+(x-V)*V/U,w=V+(w-V)*V/U,C=V+(C-V)*V/U}if(G>255){var $=255-V,q=G-V;x=V+(x-V)*$/q,w=V+(w-V)*$/q,C=V+(C-V)*$/q}}function k(A,O,L){return r(A,O,L)-l(A,O,L)}function P(A,O,L,N){var G,B=[A,O,L],V=r(A,O,L),H=l(A,O,L);G=0===l(H=H===A?0:H===O?1:2,V=V===A?0:V===O?1:2)?1===r(H,V)?2:1:0,B[V]>B[H]?(B[G]=(B[G]-B[H])*N/(B[V]-B[H]),B[V]=N):B[G]=B[V]=0,B[H]=0,x=B[0],w=B[1],C=B[2]}var I={multiply:function(){x=g*u/255,w=m*c/255,C=v*d/255},screen:function(){x=g+u-g*u/255,w=m+c-m*c/255,C=v+d-v*d/255},overlay:function(){x=g<128?2*g*u/255:255-2*(255-g)*(255-u)/255,w=m<128?2*m*c/255:255-2*(255-m)*(255-c)/255,C=v<128?2*v*d/255:255-2*(255-v)*(255-d)/255},"soft-light":function(){var A=u*g/255;x=A+g*(255-(255-g)*(255-u)/255-A)/255,w=(A=c*m/255)+m*(255-(255-m)*(255-c)/255-A)/255,C=(A=d*v/255)+v*(255-(255-v)*(255-d)/255-A)/255},"hard-light":function(){x=u<128?2*u*g/255:255-2*(255-u)*(255-g)/255,w=c<128?2*c*m/255:255-2*(255-c)*(255-m)/255,C=d<128?2*d*v/255:255-2*(255-d)*(255-v)/255},"color-dodge":function(){x=0===g?0:255===u?255:l(255,255*g/(255-u)),w=0===m?0:255===c?255:l(255,255*m/(255-c)),C=0===v?0:255===d?255:l(255,255*v/(255-d))},"color-burn":function(){x=255===g?255:0===u?0:r(0,255-255*(255-g)/u),w=255===m?255:0===c?0:r(0,255-255*(255-m)/c),C=255===v?255:0===d?0:r(0,255-255*(255-v)/d)},darken:function(){x=g<u?g:u,w=m<c?m:c,C=v<d?v:d},lighten:function(){x=g>u?g:u,w=m>c?m:c,C=v>d?v:d},difference:function(){(x=g-u)<0&&(x=-x),(w=m-c)<0&&(w=-w),(C=v-d)<0&&(C=-C)},exclusion:function(){x=g+u*(255-g-g)/255,w=m+c*(255-m-m)/255,C=v+d*(255-v-v)/255},hue:function(){P(u,c,d,k(g,m,v)),R(x,w,C,D(g,m,v))},saturation:function(){P(g,m,v,k(u,c,d)),R(x,w,C,D(g,m,v))},luminosity:function(){R(g,m,v,D(u,c,d))},color:function(){R(u,c,d,D(g,m,v))},add:function(){x=l(g+u,255),w=l(m+c,255),C=l(v+d,255)},subtract:function(){x=r(g-u,0),w=r(m-c,0),C=r(v-d,0)},average:function(){x=(g+u)/2,w=(m+c)/2,C=(v+d)/2},negation:function(){x=255-o(255-u-g),w=255-o(255-c-m),C=255-o(255-d-v)}},E=this.nativeModes=te.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(A){this[A]=!0},{}),S=Kt.getContext(1,1,{willReadFrequently:!0});S&&(te.each(I,function(A,O){var L="darken"===O,N=!1;S.save();try{S.fillStyle=L?"#300":"#a00",S.fillRect(0,0,1,1),S.globalCompositeOperation=O,S.globalCompositeOperation===O&&(S.fillStyle=L?"#a00":"#300",S.fillRect(0,0,1,1),N=S.getImageData(0,0,1,1).data[0]!==L?170:51)}catch{}S.restore(),E[O]=N}),Kt.release(S)),this.process=function(A,O,L,N,B){var V=O.canvas,H="normal"===A;if(H||E[A])L.save(),L.setTransform(1,0,0,1,0,0),L.globalAlpha=N,H||(L.globalCompositeOperation=A),L.drawImage(V,B.x,B.y),L.restore();else{var G=I[A];if(!G)return;for(var U=L.getImageData(B.x,B.y,V.width,V.height),$=U.data,q=O.getImageData(0,0,V.width,V.height).data,K=0,X=$.length;K<X;K+=4){u=q[K],g=$[K],c=q[K+1],m=$[K+1],d=q[K+2],v=$[K+2],f=q[K+3],b=$[K+3],G();var ee=f*N/255,ue=1-ee;$[K]=ee*x+ue*g,$[K+1]=ee*w+ue*m,$[K+2]=ee*C+ue*v,$[K+3]=f*N+ue*b}L.putImageData(U,B.x,B.y)}}},vn=new function(){var l="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",o="http://www.w3.org/1999/xlink",u={href:o,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function f(g,m,v){for(var b in m){var x=m[b],w=u[b];"number"==typeof x&&v&&(x=v.number(x)),w?g.setAttributeNS(w,b,x):g.setAttribute(b,x)}return g}return{svg:l,xmlns:r,xlink:o,create:function c(g,m,v){return f(Dt.createElementNS(l,g),m,v)},get:function d(g,m){var v=u[m],b=v?g.getAttributeNS(v,m):g.getAttribute(m);return"null"===b?null:b},set:f}},pn=te.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(l,r){return!r&&(l instanceof Bn||l instanceof Ln||l instanceof Ut)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(l,r){var o=te.capitalize(r),u=l[2];this[r]={type:l[1],property:r,attribute:l[0],toSVG:u,fromSVG:u&&te.each(u,function(c,d){this[c]=d},{}),exportFilter:l[3],get:"get"+o,set:"set"+o}},{});new function(){var l;function r(I,E,S){var L,A=new te,O=I.getTranslation();if(E&&(I.isInvertible()?(L=(I=I._shiftless())._inverseTransform(O),O=null):L=new ae,A[S?"cx":"x"]=L.x,A[S?"cy":"y"]=L.y),!I.isIdentity()){var N=I.decompose();if(N){var B=[],V=N.rotation,H=N.scaling,G=N.skewing;O&&!O.isZero()&&B.push("translate("+l.point(O)+")"),V&&B.push("rotate("+l.number(V)+")"),(!Ue.isZero(H.x-1)||!Ue.isZero(H.y-1))&&B.push("scale("+l.point(H)+")"),G.x&&B.push("skewX("+l.number(G.x)+")"),G.y&&B.push("skewY("+l.number(G.y)+")"),A.transform=B.join(" ")}else A.transform="matrix("+I.getValues().join(",")+")"}return A}function o(I,E){for(var S=r(I._matrix),A=I._children,O=vn.create("g",S,l),L=0,N=A.length;L<N;L++){var B=A[L],V=k(B,E);if(V)if(B.isClipMask()){var H=vn.create("clipPath");H.appendChild(V),D(B,H,"clip"),vn.set(O,{"clip-path":"url(#"+H.id+")"})}else O.appendChild(V)}return O}function d(I){var E=I._type,S=I._radius,A=r(I._matrix,!0,"rectangle"!==E);if("rectangle"===E){E="rect";var O=I._size,L=O.width,N=O.height;A.x-=L/2,A.y-=N/2,A.width=L,A.height=N,S.isZero()&&(S=null)}return S&&("circle"===E?A.r=S:(A.rx=S.width,A.ry=S.height)),vn.create(E,A,l)}var w,b={Group:o,Layer:o,Raster:function u(I,E){var S=r(I._matrix,!0),A=I.getSize(),O=I.getImage();return S.x-=A.width/2,S.y-=A.height/2,S.width=A.width,S.height=A.height,S.href=0==E.embedImages&&O&&O.src||I.toDataURL(),vn.create("image",S,l)},Path:function c(I,E){var S=E.matchShapes;if(S){var A=I.toShape(!1);if(A)return d(A)}var N,O=I._segments,L=O.length,B=r(I._matrix);if(S&&L>=2&&!I.hasHandles())if(L>2){N=I._closed?"polygon":"polyline";for(var V=[],H=0;H<L;H++)V.push(l.point(O[H]._point));B.points=V.join(" ")}else{N="line";var G=O[0]._point,U=O[1]._point;B.set({x1:G.x,y1:G.y,x2:U.x,y2:U.y})}else N="path",B.d=I.getPathData(null,E.precision);return vn.create(N,B,l)},Shape:d,CompoundPath:function f(I,E){var S=r(I._matrix),A=I.getPathData(null,E.precision);return A&&(S.d=A),vn.create("path",S,l)},SymbolItem:function g(I,E){var S=r(I._matrix,!0),A=I._definition,O=C(A,"symbol"),L=A._item,N=L.getStrokeBounds();return O||((O=vn.create("symbol",{viewBox:l.rectangle(N)})).appendChild(k(L,E)),D(A,O,"symbol")),S.href="#"+O.id,S.x+=N.x,S.y+=N.y,S.width=N.width,S.height=N.height,S.overflow="visible",vn.create("use",S,l)},PointText:function v(I){var E=vn.create("text",r(I._matrix,!0),l);return E.textContent=I._content,E}};function C(I,E){return w||(w={ids:{},svgs:{}}),I&&w.svgs[E+"-"+(I._id||I.__id||(I.__id=gt.get("svg")))]}function D(I,E,S){w||C();var A=w.ids[S]=(w.ids[S]||0)+1;E.id=S+"-"+A,w.svgs[S+"-"+(I._id||I.__id)]=E}function R(I,E){var S=I,A=null;if(w){for(var O in S="svg"===I.nodeName.toLowerCase()&&I,w.svgs)A||(S||(S=vn.create("svg")).appendChild(I),A=S.insertBefore(vn.create("defs"),S.firstChild)),A.appendChild(w.svgs[O]);w=null}return E.asString?(new _i.XMLSerializer).serializeToString(S):S}function k(I,E,S){var A=b[I._class],O=A&&A(I,E);if(O){var L=E.onExport;L&&(O=L(I,O,E)||O);var N=JSON.stringify(I._data);N&&"{}"!==N&&"null"!==N&&O.setAttribute("data-paper-data",N)}return O&&function x(I,E,S){var A={},O=!S&&I.getParent(),L=[];return null!=I._name&&(A.id=I._name),te.each(pn,function(N){var B=N.get,V=N.type,H=I[B]();if(N.exportFilter?N.exportFilter(I,H):!O||!te.equals(O[B](),H)){if("color"===V&&null!=H){var G=H.getAlpha();G<1&&(A[N.attribute+"-opacity"]=G)}"style"===V?L.push(N.attribute+": "+H):A[N.attribute]=null==H?"none":"color"===V?H.gradient?function m(I){var E=C(I,"color");if(!E){var N,S=I.getGradient(),A=S._radial,O=I.getOrigin(),L=I.getDestination();if(A){N={cx:O.x,cy:O.y,r:O.getDistance(L)};var B=I.getHighlight();B&&(N.fx=B.x,N.fy=B.y)}else N={x1:O.x,y1:O.y,x2:L.x,y2:L.y};N.gradientUnits="userSpaceOnUse",E=vn.create((A?"radial":"linear")+"Gradient",N,l);for(var V=S._stops,H=0,G=V.length;H<G;H++){var U=V[H],$=U._color,q=$.getAlpha();N={offset:U._offset??H/(G-1)},$&&(N["stop-color"]=$.toCSS(!0)),q<1&&(N["stop-opacity"]=q),E.appendChild(vn.create("stop",N,l))}D(I,E,"color")}return"url(#"+E.id+")"}(H):H.toCSS(!0):"array"===V?H.join(","):"lookup"===V?N.toSVG[H]:H}}),L.length&&(A.style=L.join(";")),1===A.opacity&&delete A.opacity,I._visible||(A.visibility="hidden"),vn.set(E,A,l)}(I,O,S)}function P(I){return I||(I={}),l=new yn(I.precision),I}lt.inject({exportSVG:function(I){return R(k(this,I=P(I),!0),I)}}),hn.inject({exportSVG:function(I){I=P(I);var E=this._children,S=this.getView(),A=te.pick(I.bounds,"view"),O=I.matrix||"view"===A&&S._matrix,L=O&&Zt.read([O]),N="view"===A?new Z([0,0],S.getViewSize()):"content"===A?lt._getBounds(E,L,{stroke:!0}).rect:Z.read([A],0,{readNull:!0}),B={version:"1.1",xmlns:vn.svg,"xmlns:xlink":vn.xlink};N&&(B.width=N.width,B.height=N.height,(N.x||0===N.x||N.y||0===N.y)&&(B.viewBox=l.rectangle(N)));var V=vn.create("svg",B,l),H=V;L&&!L.isIdentity()&&(H=V.appendChild(vn.create("g",r(L),l)));for(var G=0,U=E.length;G<U;G++)H.appendChild(k(E[G],I,!0));return R(V,I)}})},new function(){var r,l={};function o(E,S,A,O,L,N){var B=vn.get(E,S)||N,V=null==B?O?null:A?"":0:A?B:parseFloat(B);return/%\s*$/.test(B)?V/100*(L?1:r[/x|^width/.test(S)?"width":"height"]):V}function u(E,S,A,O,L,N,B){return S=o(E,S||"x",!1,O,L,N),A=o(E,A||"y",!1,O,L,B),!O||null!=S&&null!=A?new ae(S,A):null}function c(E,S,A,O,L){return S=o(E,S||"width",!1,O,L),A=o(E,A||"height",!1,O,L),!O||null!=S&&null!=A?new Ze(S,A):null}function d(E,S,A){return"none"===E?null:"number"===S?parseFloat(E):"array"===S?E?E.split(/[\s,]+/g).map(parseFloat):[]:"color"===S?k(E)||E:"lookup"===S?A[E]:E}function f(E,S,A,O){var L=E.childNodes,N="clippath"===S,B="defs"===S,V=new tt,H=V._project,G=H._currentStyle,U=[];if(!N&&!B&&(V=R(V,E,O),H._currentStyle=V._style.clone()),O)for(var $=E.querySelectorAll("defs"),q=0,K=$.length;q<K;q++)P($[q],A,!1);for(q=0,K=L.length;q<K;q++){var ee,X=L[q];1===X.nodeType&&!/^defs$/i.test(X.nodeName)&&(ee=P(X,A,!1))&&!(ee instanceof Si)&&U.push(ee)}return V.addChildren(U),N&&(V=R(V.reduce(),E,O)),H._currentStyle=G,(N||B)&&(V.remove(),V=null),V}function g(E,S){for(var A=E.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),O=[],L=0,N=A.length;L<N;L+=2)O.push(new ae(parseFloat(A[L]),parseFloat(A[L+1])));var B=new $e(O);return"polygon"===S&&B.closePath(),B}function v(E,S){var L,A=(o(E,"href",!0)||"").substring(1),O="radialgradient"===S;if(A)(L=l[A].getGradient())._radial^O&&((L=L.clone())._radial=O);else{for(var N=E.childNodes,B=[],V=0,H=N.length;V<H;V++){var G=N[V];1===G.nodeType&&B.push(R(new br,G))}L=new un(B,O)}var U,$,q,K="userSpaceOnUse"!==o(E,"gradientUnits",!0);return O?($=(U=u(E,"cx","cy",!1,K,"50%","50%")).add(o(E,"r",!1,!1,K,"50%"),0),q=u(E,"fx","fy",!0,K)):(U=u(E,"x1","y1",!1,K,"0%","0%"),$=u(E,"x2","y2",!1,K,"100%","0%")),R(new Ye(L,U,$,q),E)._scaleToBounds=K,null}var b={"#document":function(E,S,A,O){for(var L=E.childNodes,N=0,B=L.length;N<B;N++){var V=L[N];if(1===V.nodeType)return P(V,A,O)}},g:f,svg:f,clippath:f,polygon:g,polyline:g,path:function m(E){return Bn.create(E.getAttribute("d"))},lineargradient:v,radialgradient:v,image:function(E){var S=new Dn(o(E,"href",!0));return S.on("load",function(){var A=c(E);this.setSize(A);var O=u(E).add(A.divide(2));this._matrix.append((new Zt).translate(O))}),S},symbol:function(E,S,A,O){return new Si(f(E,S,A,O),!0)},defs:f,use:function(E){var S=(o(E,"href",!0)||"").substring(1),A=l[S],O=u(E);return A?A instanceof Si?A.place(O):A.clone().translate(O):null},circle:function(E){return new Ln.Circle(u(E,"cx","cy"),o(E,"r"))},ellipse:function(E){return new Ln.Ellipse({center:u(E,"cx","cy"),radius:c(E,"rx","ry")})},rect:function(E){return new Ln.Rectangle(new Z(u(E),c(E)),c(E,"rx","ry"))},line:function(E){return new $e.Line(u(E,"x1","y1"),u(E,"x2","y2"))},text:function(E){var S=new Li(u(E).add(u(E,"dx","dy")));return S.setContent(E.textContent.trim()||""),S},switch:f};function x(E,S,A,O){if(E.transform){for(var L=(O.getAttribute(A)||"").split(/\)\s*/g),N=new Zt,B=0,V=L.length;B<V;B++){var H=L[B];if(!H)break;for(var G=H.split(/\(\s*/),U=G[0],$=G[1].split(/[\s,]+/g),q=0,K=$.length;q<K;q++)$[q]=parseFloat($[q]);switch(U){case"matrix":N.append(new Zt($[0],$[1],$[2],$[3],$[4],$[5]));break;case"rotate":N.rotate($[0],$[1]||0,$[2]||0);break;case"translate":N.translate($[0],$[1]||0);break;case"scale":N.scale($);break;case"skewX":N.skew($[0],0);break;case"skewY":N.skew(0,$[0])}}E.transform(N)}}function w(E,S,A){var O="fill-opacity"===A?"getFillColor":"getStrokeColor",L=E[O]&&E[O]();L&&L.setAlpha(parseFloat(S))}var C=te.set(te.each(pn,function(E){this[E.attribute]=function(S,A){if(S[E.set]&&(S[E.set](d(A,E.type,E.fromSVG)),"color"===E.type)){var O=S[E.get]();if(O&&O._scaleToBounds){var L=S.getBounds();O.transform((new Zt).translate(L.getPoint()).scale(L.getSize()))}}}},{}),{id:function(E,S){l[S]=E,E.setName&&E.setName(S)},"clip-path":function(E,S){var A=k(S);if(A){if((A=A.clone()).setClipMask(!0),!(E instanceof tt))return new tt(A,E);E.insertChild(0,A)}},gradientTransform:x,transform:x,"fill-opacity":w,"stroke-opacity":w,visibility:function(E,S){E.setVisible&&E.setVisible("visible"===S)},display:function(E,S){E.setVisible&&E.setVisible(null!==S)},"stop-color":function(E,S){E.setColor&&E.setColor(S)},"stop-opacity":function(E,S){E._color&&E._color.setAlpha(parseFloat(S))},offset:function(E,S){if(E.setOffset){var A=S.match(/(.*)%$/);E.setOffset(A?A[1]/100:parseFloat(S))}},viewBox:function(E,S,A,O,L){var V,N=new Z(d(S,"array")),B=c(O,null,null,!0);if(E instanceof tt){var G=B?B.divide(N.getSize()):1,H=(new Zt).scale(G).translate(N.getPoint().negate());V=E}else E instanceof Si&&(B&&N.setSize(B),V=E._item);if(V){if("visible"!==D(O,"overflow",L)){var U=new Ln.Rectangle(N);U.setClipMask(!0),V.addChild(U)}H&&V.transform(H)}}});function D(E,S,A){var O=E.attributes[S],L=O&&O.value;if(!L&&E.style){var N=te.camelize(S);!(L=E.style[N])&&A.node[N]!==A.parent[N]&&(L=A.node[N])}return L?"none"===L?null:L:Ee}function R(E,S,A){var O=S.parentNode,L={node:fn.getStyles(S)||{},parent:!A&&!/^defs$/i.test(O.tagName)&&fn.getStyles(O)||{}};return te.each(C,function(N,B){var V=D(S,B,L);E=V!==Ee&&N(E,V,B,S,L)||E}),E}function k(E){var S=E&&E.match(/\((?:["'#]*)([^"')]+)/),A=S&&S[1],O=A&&l[Me?A.replace(Me.location.href.split("#")[0]+"#",""):A];return O&&O._scaleToBounds&&((O=O.clone())._scaleToBounds=!0),O}function P(E,S,A){var B,V,H,O=E.nodeName.toLowerCase(),L="#document"!==O,N=Dt.body;A&&L&&(r=Ve.getView().getSize(),r=c(E,null,null,!0)||r,B=vn.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),V=E.parentNode,H=E.nextSibling,B.appendChild(E),N.appendChild(B));var G=Ve.settings,U=G.applyMatrix,$=G.insertItems;G.applyMatrix=!1,G.insertItems=!1;var q=b[O],K=q&&q(E,O,S,A)||null;if(G.insertItems=$,G.applyMatrix=U,K){L&&!(K instanceof tt)&&(K=R(K,E,A));var X=S.onImport,ee=L&&E.getAttribute("data-paper-data");X&&(K=X(E,K,S)||K),S.expandShapes&&K instanceof Ln&&(K.remove(),K=K.toPath()),ee&&(K._data=JSON.parse(ee))}return B&&(N.removeChild(B),V&&(H?V.insertBefore(E,H):V.appendChild(E))),A&&(l={},K&&te.pick(S.applyMatrix,U)&&K.matrix.apply(!0,!0)),K}function I(E,S,A){if(!E)return null;S="function"==typeof S?{onLoad:S}:S||{};var O=Ve,L=null;function N(G){try{var U="object"==typeof G?G:(new _i.DOMParser).parseFromString(G.trim(),"image/svg+xml");if(!U.nodeName)throw U=null,new Error("Unsupported SVG source: "+E);Ve=O,L=P(U,S,!0),(!S||!1!==S.insert)&&A._insertItem(Ee,L);var $=S.onLoad;$&&$(L,G)}catch(q){B(q)}}function B(G,U){var $=S.onError;if(!$)throw new Error(G);$(G,U)}if("string"!=typeof E||/^[\s\S]*</.test(E)){if(typeof File<"u"&&E instanceof File){var H=new FileReader;return H.onload=function(){N(H.result)},H.onerror=function(){B(H.error)},H.readAsText(E)}N(E)}else{var V=Dt.getElementById(E);V?N(V):bn.request({url:E,async:!0,onLoad:N,onError:B})}return L}lt.inject({importSVG:function(E,S){return I(E,S,this)}}),hn.inject({importSVG:function(E,S){return this.activate(),I(E,S,this)}})};var Ve=new(li.inject(te.exports,{Base:te,Numerical:Ue,Key:ys,DomEvent:Mt,DomElement:fn,document:Dt,window:Me,Symbol:Si,PlacedSymbol:Rn}));return Ve.agent.node&&Gt(858)(Ve),(Jn="function"==typeof(It=Ve)?It.call(Xr,Gt,Xr,yr):It)!==Ee&&(yr.exports=Jn),Ve}).call(this,"object"==typeof self?self:null)},946:function(yr,Xr,Gt){var It,Jn,Gi;(function(Ee,Me){var Dt=(Ee=Ee||Gt(158)).window,te=Ee.document,re=new function(){var r=/^(statics|enumerable|beans|preserve)$/,o=[],u=o.slice,c=Object.create,d=Object.getOwnPropertyDescriptor,f=Object.defineProperty,g=o.forEach||function(C,D){for(var R=0,k=this.length;R<k;R++)C.call(D,this[R],R,this)},m=function(C,D){for(var R in this)this.hasOwnProperty(R)&&C.call(D,this[R],R,this)},v=Object.assign||function(C){for(var D=1,R=arguments.length;D<R;D++){var k=arguments[D];for(var P in k)k.hasOwnProperty(P)&&(C[P]=k[P])}return C},b=function(C,D,R){if(C){var k=d(C,"length");(k&&"number"==typeof k.value?g:m).call(C,D,R=R||C)}return R};function x(C,D,R,k,P){var I={};function E(N,B){"string"==typeof(B=B||(B=d(D,N))&&(B.get?B:B.value))&&"#"===B[0]&&(B=C[B.substring(1)]||B);var U,V="function"==typeof B,H=B,G=P||V&&!B.base?B&&B.get?N in C:C[N]:null;(!P||!G)&&(V&&G&&(B.base=G),V&&!1!==k&&(U=N.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(I[U[3].toLowerCase()+U[4]]=U[2]),(!H||V||!H.get||"function"!=typeof H.get||!w.isPlainObject(H))&&(H={value:H,writable:!0}),(d(C,N)||{configurable:!0}).configurable&&(H.configurable=!0,H.enumerable=R??!U),f(C,N,H))}if(D){for(var S in D)D.hasOwnProperty(S)&&!r.test(S)&&E(S);for(var S in I){var A=I[S],O=C["set"+A],L=C["get"+A]||O&&C["is"+A];L&&(!0===k||0===L.length)&&E(S,{get:L,set:O})}}return C}function w(){for(var C=0,D=arguments.length;C<D;C++){var R=arguments[C];R&&v(this,R)}return this}return x(w,{inject:function(C){if(C){var D=!0===C.statics?C:C.statics,R=C.beans,k=C.preserve;D!==C&&x(this.prototype,C,C.enumerable,R,k),x(this,D,null,R,k)}for(var P=1,I=arguments.length;P<I;P++)this.inject(arguments[P]);return this},extend:function(){for(var D,R,P,C=this,k=0,I=arguments.length;k<I&&(!D||!R);k++)P=arguments[k],D=D||P.initialize,R=R||P.prototype;return D=D||function(){C.apply(this,arguments)},R=D.prototype=R||c(this.prototype),f(R,"constructor",{value:D,writable:!0,configurable:!0}),x(D,this),arguments.length&&this.inject.apply(D,arguments),D.base=C,D}}).inject({enumerable:!1,initialize:w,set:w,inject:function(){for(var C=0,D=arguments.length;C<D;C++){var R=arguments[C];R&&x(this,R,R.enumerable,R.beans,R.preserve)}return this},extend:function(){var C=c(this);return C.inject.apply(C,arguments)},each:function(C,D){return b(this,C,D)},clone:function(){return new this.constructor(this)},statics:{set:v,each:b,create:c,define:f,describe:d,clone:function(C){return v(new C.constructor,C)},isPlainObject:function(C){var D=null!=C&&C.constructor;return D&&(D===Object||D===w||"Object"===D.name)},pick:function(C,D){return C!==Me?C:D},slice:function(C,D,R){return u.call(C,D,R)}}})};yr.exports=re,re.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+re.each(this,function(r,o){if(!/^_/.test(o)){var u=typeof r;this.push(o+": "+("number"===u?Ue.instance.number(r):"string"===u?"'"+r+"'":r))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(r){return re.importJSON(r,this)},exportJSON:function(r){return re.exportJSON(this,r)},toJSON:function(){return re.serialize(this)},set:function(r,o){return r&&re.filter(this,r,o,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function r(){var o=r.base.apply(this,arguments),u=o.prototype._class;return u&&!re.exports[u]&&(re.exports[u]=o),o},equals:function(r,o){if(r===o)return!0;if(r&&r.equals)return r.equals(o);if(o&&o.equals)return o.equals(r);if(r&&o&&"object"==typeof r&&"object"==typeof o){if(Array.isArray(r)&&Array.isArray(o)){if((u=r.length)!==o.length)return!1;for(;u--;)if(!re.equals(r[u],o[u]))return!1}else{var u,c=Object.keys(r);if((u=c.length)!==Object.keys(o).length)return!1;for(;u--;){var d=c[u];if(!o.hasOwnProperty(d)||!re.equals(r[d],o[d]))return!1}}return!0}return!1},read:function(r,o,u,c){if(this===re){var d=this.peek(r,o);return r.__index++,d}var f=this.prototype,g=f._readIndex,m=o||g&&r.__index||0,v=r.length,b=r[m];if(c=c||v-m,b instanceof this||u&&u.readNull&&null==b&&c<=1)return g&&(r.__index=m+1),b&&u&&u.clone?b.clone():b;if(b=re.create(f),g&&(b.__read=!0),b=b.initialize.apply(b,m>0||m+c<v?re.slice(r,m,m+c):r)||b,g){r.__index=m+b.__read;var x=b.__filtered;x&&(r.__filtered=x,b.__filtered=Me),b.__read=Me}return b},peek:function(r,o){return r[r.__index=o||r.__index||0]},remain:function(r){return r.length-(r.__index||0)},readList:function(r,o,u,c){for(var f,d=[],g=o||0,m=c?g+c:r.length,v=g;v<m;v++)d.push(Array.isArray(f=r[v])?this.read(f,0,u):this.read(r,v,u,1));return d},readNamed:function(r,o,u,c,d){var f=this.getNamed(r,o),g=f!==Me;if(g){var m=r.__filtered;if(!m){var v=this.getSource(r);(m=r.__filtered=re.create(v)).__unfiltered=v}m[o]=Me}return this.read(g?[f]:r,u,c,d)},readSupported:function(r,o){var u=this.getSource(r),c=this,d=!1;return u&&Object.keys(u).forEach(function(f){if(f in o){var g=c.readNamed(r,f);g!==Me&&(o[f]=g),d=!0}}),d},getSource:function(r){var o=r.__source;if(o===Me){var u=1===r.length&&r[0];o=r.__source=u&&re.isPlainObject(u)?u:null}return o},getNamed:function(r,o){var u=this.getSource(r);if(u)return o?u[o]:r.__filtered||u},hasNamed:function(r,o){return!!this.getNamed(r,o)},filter:function(r,o,u,c){var d;function f(x){if(!(u&&x in u||d&&x in d)){var w=o[x];w!==Me&&(r[x]=w)}}if(c){for(var v,g={},m=0,b=c.length;m<b;m++)(v=c[m])in o&&(f(v),g[v]=!0);d=g}return Object.keys(o.__unfiltered||o).forEach(f),r},isPlainValue:function(r,o){return re.isPlainObject(r)||Array.isArray(r)||o&&"string"==typeof r},serialize:function(r,o,u,c){o=o||{};var f,d=!c;if(d&&(o.formatter=new Ue(o.precision),c={length:0,definitions:{},references:{},add:function(w,C){var D="#"+w._id,R=this.references[D];if(!R){this.length++;var k=C.call(w),P=w._class;P&&k[0]!==P&&k.unshift(P),this.definitions[D]=k,R=this.references[D]=[D]}return R}}),r&&r._serialize){f=r._serialize(o,c);var g=r._class;g&&!r._compactSerialize&&(d||!u)&&f[0]!==g&&f.unshift(g)}else if(Array.isArray(r)){f=[];for(var m=0,v=r.length;m<v;m++)f[m]=re.serialize(r[m],o,u,c)}else if(re.isPlainObject(r)){f={};var b=Object.keys(r);for(m=0,v=b.length;m<v;m++){var x=b[m];f[x]=re.serialize(r[x],o,u,c)}}else f="number"==typeof r?o.formatter.number(r,o.precision):r;return d&&c.length>0?[["dictionary",c.definitions],f]:f},deserialize:function(r,o,u,c,d){var f=r,g=!u,m=g&&r&&r.length&&"dictionary"===r[0][0];if(u=u||{},Array.isArray(r)){var v=r[0],b="dictionary"===v;if(1==r.length&&/^#/.test(v))return u.dictionary[v];f=[];for(var x=(v=re.exports[v])?1:0,w=r.length;x<w;x++)f.push(re.deserialize(r[x],o,u,b,m));if(v){var C=f;f=o?o(v,C,g||d):new v(C)}}else if(re.isPlainObject(r))for(var D in f={},c&&(u.dictionary=f),r)f[D]=re.deserialize(r[D],o,u);return m?f[1]:f},exportJSON:function(r,o){var u=re.serialize(r,o);return o&&0==o.asString?u:JSON.stringify(u)},importJSON:function(r,o){return re.deserialize("string"==typeof r?JSON.parse(r):r,function(u,c,d){var f=d&&o&&o.constructor===u,g=f?o:re.create(u.prototype);if(1===c.length&&g instanceof tt&&(f||!(g instanceof Ln))){var m=c[0];re.isPlainObject(m)&&(m.insert=!1,f&&(c=c.concat([tt.INSERT])))}return(f?g.set:u).apply(g,c),f&&(o=null),g})},push:function(r,o){var u=o.length;if(u<4096)r.push.apply(r,o);else{var c=r.length;r.length+=u;for(var d=0;d<u;d++)r[c+d]=o[d]}return r},splice:function(r,o,u,c){var d=o&&o.length,f=u===Me;(u=f?r.length:u)>r.length&&(u=r.length);for(var g=0;g<d;g++)o[g]._index=u+g;if(f)return re.push(r,o),[];var m=[u,c];o&&re.push(m,o);for(var v=r.splice.apply(r,m),b=(g=0,v.length);g<b;g++)v[g]._index=Me;for(g=u+d,b=r.length;g<b;g++)r[g]._index=g;return v},capitalize:function(r){return r.replace(/\b[a-z]/g,function(o){return o.toUpperCase()})},camelize:function(r){return r.replace(/-(.)/g,function(o,u){return u.toUpperCase()})},hyphenate:function(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var li={on:function(r,o){if("string"!=typeof r)re.each(r,function(f,g){this.on(g,f)},this);else{var u=this._eventTypes,c=u&&u[r],d=this._callbacks=this._callbacks||{};-1===(d=d[r]=d[r]||[]).indexOf(o)&&(d.push(o),c&&c.install&&1===d.length&&c.install.call(this,r))}return this},off:function(r,o){if("string"==typeof r){var f,u=this._eventTypes,c=u&&u[r],d=this._callbacks&&this._callbacks[r];return d&&(!o||-1!==(f=d.indexOf(o))&&1===d.length?(c&&c.uninstall&&c.uninstall.call(this,r),delete this._callbacks[r]):-1!==f&&d.splice(f,1)),this}re.each(r,function(g,m){this.off(m,g)},this)},once:function(r,o){return this.on(r,function u(){o.apply(this,arguments),this.off(r,u)})},emit:function(r,o){var u=this._callbacks&&this._callbacks[r];if(!u)return!1;var c=re.slice(arguments,1),d=o&&o.target&&!o.currentTarget;u=u.slice(),d&&(o.currentTarget=this);for(var f=0,g=u.length;f<g;f++)if(0==u[f].apply(this,c)){o&&o.stop&&o.stop();break}return d&&delete o.currentTarget,!0},responds:function(r){return!(!this._callbacks||!this._callbacks[r])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(r){var o=this._eventTypes,u=this._callbacks,c=r?"install":"uninstall";if(o)for(var d in u)if(u[d].length>0){var f=o[d],g=f&&f[c];g&&g.call(this,d)}},statics:{inject:function r(o){var u=o._events;if(u){var c={};re.each(u,function(d,f){var g="string"==typeof d,m=g?d:f,v=re.capitalize(m),b=m.substring(2).toLowerCase();c[b]=g?{}:d,m="_"+m,o["get"+v]=function(){return this[m]},o["set"+v]=function(x){var w=this[m];w&&this.off(b,w),x&&this.on(b,x),this[m]=x}}),o._eventTypes=c}return r.base.apply(this,arguments)}}},kn=re.extend({_class:"PaperScope",initialize:function r(){l=this,this.settings=new re({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=r._id++,r._scopes[this._id]=this;var o=r.prototype;if(!this.support){var u=Bt.getContext(1,1)||{};o.support={nativeDash:"setLineDash"in u||"mozDash"in u,nativeBlendModes:vn.nativeModes},Bt.release(u)}if(!this.agent){var c=Ee.navigator.userAgent.toLowerCase(),d=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(c)||[])[0],f="darwin"===d?"mac":d,g=o.agent=o.browser={platform:f};f&&(g[f]=!0),c.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(m,v,b,x,w){if(!g.chrome){var C="opera"===v?x:/^(node|trident)$/.test(v)?w:b;g.version=C,g.versionNumber=parseFloat(C),g.name=v={trident:"msie",jsdom:"node"}[v]||v,g[v]=!0}}),g.chrome&&delete g.webkit,g.atom&&delete g.chrome}},version:"0.12.17",getView:function(){var r=this.project;return r&&r._view},getPaper:function(){return this},execute:function(r,o){var u=l.PaperScript.execute(r,this,o);return _n.updateFocus(),u},install:function(r){var o=this;for(var u in re.each(["project","view","tool"],function(c){re.define(r,c,{configurable:!0,get:function(){return o[c]}})}),this)!/^_/.test(u)&&this[u]&&(r[u]=this[u])},setup:function(r){return l=this,this.project=new lt(r),this},createCanvas:function(r,o){return Bt.getCanvas(r,o)},activate:function(){l=this},clear:function(){for(var r=this.projects,o=this.tools,u=r.length-1;u>=0;u--)r[u].remove();for(u=o.length-1;u>=0;u--)o[u].remove()},remove:function(){this.clear(),delete kn._scopes[this._id]},statics:new function(){function r(o){return o+="Attribute",function(u,c){return u[o](c)||u[o]("data-paper-"+c)}}return{_scopes:{},_id:0,get:function(o){return this._scopes[o]||null},getAttribute:r("get"),hasAttribute:r("has")}}}),En=re.extend(li,{initialize:function(r){this._scope=l,this._index=this._scope[this._list].push(this)-1,(r||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var r=this._scope[this._reference];return r&&r!==this&&r.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",r),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(re.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),yn={findItemBoundsCollisions:function(r,o,u){function c(g){for(var m=new Array(g.length),v=0;v<g.length;v++){var b=g[v].getBounds();m[v]=[b.left,b.top,b.right,b.bottom]}return m}var d=c(r),f=o&&o!==r?c(o):d;return this.findBoundsCollisions(d,f,u||0)},findCurveBoundsCollisions:function(r,o,u,c){function d(C){for(var D=Math.min,R=Math.max,k=new Array(C.length),P=0;P<C.length;P++){var I=C[P];k[P]=[D(I[0],I[2],I[4],I[6]),D(I[1],I[3],I[5],I[7]),R(I[0],I[2],I[4],I[6]),R(I[1],I[3],I[5],I[7])]}return k}var f=d(r),g=o&&o!==r?d(o):f;if(c){for(var m=this.findBoundsCollisions(f,g,u||0,!1,!0),v=this.findBoundsCollisions(f,g,u||0,!0,!0),b=[],x=0,w=m.length;x<w;x++)b[x]={hor:m[x],ver:v[x]};return b}return this.findBoundsCollisions(f,g,u||0)},findBoundsCollisions:function(r,o,u,c,d){var f=!o||r===o,g=f?r:r.concat(o),m=r.length,v=g.length;function b(fe,ve,_e){for(var he=0,de=fe.length;he<de;){var ce=de+he>>>1;g[fe[ce]][ve]<_e?he=ce+1:de=ce}return he-1}for(var x=c?1:0,w=x+2,C=c?0:1,D=C+2,R=new Array(v),k=0;k<v;k++)R[k]=k;R.sort(function(fe,ve){return g[fe][x]-g[ve][x]});var P=[],I=new Array(m);for(k=0;k<v;k++){var E=R[k],S=g[E],A=f?E:E-m,O=E<m,L=f||!O,N=O?[]:null;if(P.length){var B=b(P,w,S[x]-u)+1;if(P.splice(0,B),f&&d){N=N.concat(P);for(var V=0;V<P.length;V++)I[H=P[V]].push(A)}else{var G=S[D],U=S[C];for(V=0;V<P.length;V++){var H,$=g[H=P[V]],q=H<m,K=f||H>=m;(d||(O&&K||L&&q)&&G>=$[C]-u&&U<=$[D]+u)&&(O&&K&&N.push(f?H:H-m),L&&q&&I[H].push(A))}}}if(O&&(r===o&&N.push(E),I[E]=N),P.length){var ee=b(P,w,S[w]);P.splice(ee+1,0,E)}else P.push(E)}for(k=0;k<I.length;k++){var ue=I[k];ue&&ue.sort(function(ve,_e){return ve-_e})}return I}},Ue=re.extend({initialize:function(r){this.precision=re.pick(r,5),this.multiplier=Math.pow(10,this.precision)},number:function(r){return this.precision<16?Math.round(r*this.multiplier)/this.multiplier:r},pair:function(r,o,u){return this.number(r)+(u||",")+this.number(o)},point:function(r,o){return this.number(r.x)+(o||",")+this.number(r.y)},size:function(r,o){return this.number(r.width)+(o||",")+this.number(r.height)},rectangle:function(r,o){return this.point(r,o)+(o||",")+this.size(r,o)}});Ue.instance=new Ue;var gt=new function(){var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],o=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],u=Math.abs,c=Math.sqrt,d=Math.pow,f=Math.log2||function(w){return Math.log(w)*Math.LOG2E},g=1e-12,m=112e-18;function v(w,C,D){return w<C?C:w>D?D:w}function b(w,C,D){function R(B){var V=134217729*B,G=B-V+V;return[G,B-G]}var k=C*C-w*D,P=C*C+w*D;if(3*u(k)<P){var I=R(w),E=R(C),S=R(D),A=C*C,L=w*D;k=A-L+(E[0]*E[0]-A+2*E[0]*E[1]+E[1]*E[1]-(I[0]*S[0]-L+I[0]*S[1]+I[1]*S[0]+I[1]*S[1]))}return k}function x(){var w=Math.max.apply(Math,arguments);return w&&(w<1e-8||w>1e8)?d(2,-Math.round(f(w))):0}return{EPSILON:g,MACHINE_EPSILON:m,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(c(2)-1)/3,isZero:function(w){return w>=-g&&w<=g},isMachineZero:function(w){return w>=-m&&w<=m},clamp:v,integrate:function(w,C,D,R){for(var k=r[R-2],P=o[R-2],I=.5*(D-C),E=I+C,S=0,A=R+1>>1,O=1&R?P[S++]*w(E):0;S<A;){var L=I*k[S];O+=P[S++]*(w(E+L)+w(E-L))}return I*O},findRoot:function(w,C,D,R,k,P,I){for(var E=0;E<P;E++){var S=w(D),A=S/C(D),O=D-A;if(u(A)<I){D=O;break}S>0?(k=D,D=O<=R?.5*(R+k):O):(R=D,D=O>=k?.5*(R+k):O)}return v(D,R,k)},solveQuadratic:function(w,C,D,R,k,P){var I,E=1/0;if(u(w)<g){if(u(C)<g)return u(D)<g?-1:0;I=-D/C}else{var S=b(w,C*=-.5,D);if(S&&u(S)<m){var A=x(u(w),u(C),u(D));A&&(S=b(w*=A,C*=A,D*=A))}if(S>=-m){var O=S<0?0:c(S),L=C+(C<0?-O:O);0===L?E=-(I=D/w):(I=L/w,E=D/L)}}var N=0,B=null==k,V=k-g,H=P+g;return isFinite(I)&&(B||I>V&&I<H)&&(R[N++]=B?I:v(I,k,P)),E!==I&&isFinite(E)&&(B||E>V&&E<H)&&(R[N++]=B?E:v(E,k,P)),N},solveCubic:function(w,C,D,R,k,P,I){var S,A,O,L,N,E=x(u(w),u(C),u(D),u(R));function B(ee){var ue=w*(S=ee);L=(ue+(A=ue+C))*S+(O=A*S+D),N=O*S+R}if(E&&(w*=E,C*=E,D*=E,R*=E),u(w)<g)w=C,A=D,O=R,S=1/0;else if(u(R)<g)A=C,O=D,S=0;else{B(-C/w/3);var V=N/w,H=d(u(V),1/3),G=V<0?-1:1,U=-L/w,$=U>0?1.324717957244746*Math.max(H,c(U)):H,q=S-G*$;if(q!==S){do{B(q),q=0===L?S:S-N/L/(1+m)}while(G*q>G*S);u(w)*S*S>u(R/S)&&(A=((O=-R/S)-D)/S)}}var K=gt.solveQuadratic(w,A,O,k,P,I),X=null==P;return isFinite(S)&&(0===K||K>0&&S!==k[0]&&S!==k[1])&&(X||S>P-g&&S<I+g)&&(k[K++]=X?S:v(S,P,I)),K}}},ae={_id:1,_pools:{},get:function(r){if(r){var o=this._pools[r];return o||(o=this._pools[r]={_id:1}),o._id++}return this._id++}},se=re.extend({_class:"Point",_readIndex:!0,initialize:function(o,u){var c=typeof o,d=this.__read,f=0;if("number"===c){var g="number"==typeof u;this._set(o,g?u:o),d&&(f=g?2:1)}else if("undefined"===c||null===o)this._set(0,0),d&&(f=null===o?1:0);else{var m="string"===c?o.split(/[\s,]+/)||[]:o;f=1,Array.isArray(m)?this._set(+m[0],+(m.length>1?m[1]:m[0])):"x"in m?this._set(m.x||0,m.y||0):"width"in m?this._set(m.width||0,m.height||0):"angle"in m?(this._set(m.length||0,0),this.setAngle(m.angle||0)):(this._set(0,0),f=0)}return d&&(this.__read=f),this},set:"#initialize",_set:function(r,o){return this.x=r,this.y=o,this},equals:function(r){return this===r||r&&(this.x===r.x&&this.y===r.y||Array.isArray(r)&&this.x===r[0]&&this.y===r[1])||!1},clone:function(){return new se(this.x,this.y)},toString:function(){var r=Ue.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+" }"},_serialize:function(r){var o=r.formatter;return[o.number(this.x),o.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(r){if(this.isZero()){var o=this._angle||0;this._set(Math.cos(o)*r,Math.sin(o)*r)}else{var u=r/this.getLength();gt.isZero(u)&&this.getAngle(),this._set(this.x*u,this.y*u)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(r){this.setAngleInRadians.call(this,r*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var r=se.read(arguments),o=this.getLength()*r.getLength();if(gt.isZero(o))return NaN;var u=this.dot(r)/o;return Math.acos(u<-1?-1:u>1?1:u)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(r){if(this._angle=r,!this.isZero()){var o=this.getLength();this._set(Math.cos(r)*o,Math.sin(r)*o)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var r=se.read(arguments);return 180*Math.atan2(this.cross(r),this.dot(r))/Math.PI},getDistance:function(){var r=arguments,o=se.read(r),u=o.x-this.x,c=o.y-this.y,d=u*u+c*c;return re.read(r)?d:Math.sqrt(d)},normalize:function(r){r===Me&&(r=1);var o=this.getLength(),u=0!==o?r/o:0,c=new se(this.x*u,this.y*u);return u>=0&&(c._angle=this._angle),c},rotate:function(r,o){if(0===r)return this.clone();r=r*Math.PI/180;var u=o?this.subtract(o):this,c=Math.sin(r),d=Math.cos(r);return u=new se(u.x*d-u.y*c,u.x*c+u.y*d),o?u.add(o):u},transform:function(r){return r?r._transformPoint(this):this},add:function(){var r=se.read(arguments);return new se(this.x+r.x,this.y+r.y)},subtract:function(){var r=se.read(arguments);return new se(this.x-r.x,this.y-r.y)},multiply:function(){var r=se.read(arguments);return new se(this.x*r.x,this.y*r.y)},divide:function(){var r=se.read(arguments);return new se(this.x/r.x,this.y/r.y)},modulo:function(){var r=se.read(arguments);return new se(this.x%r.x,this.y%r.y)},negate:function(){return new se(-this.x,-this.y)},isInside:function(){return nt.read(arguments).contains(this)},isClose:function(){var r=arguments,o=se.read(r),u=re.read(r);return this.getDistance(o)<=u},isCollinear:function(){var r=se.read(arguments);return se.isCollinear(this.x,this.y,r.x,r.y)},isColinear:"#isCollinear",isOrthogonal:function(){var r=se.read(arguments);return se.isOrthogonal(this.x,this.y,r.x,r.y)},isZero:function(){var r=gt.isZero;return r(this.x)&&r(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(r){return this.x*(r>1&&r<4?-1:1)>=0&&this.y*(r>2?-1:1)>=0},dot:function(){var r=se.read(arguments);return this.x*r.x+this.y*r.y},cross:function(){var r=se.read(arguments);return this.x*r.y-this.y*r.x},project:function(){var r=se.read(arguments),o=r.isZero()?0:this.dot(r)/r.dot(r);return new se(r.x*o,r.y*o)},statics:{min:function(){var r=arguments,o=se.read(r),u=se.read(r);return new se(Math.min(o.x,u.x),Math.min(o.y,u.y))},max:function(){var r=arguments,o=se.read(r),u=se.read(r);return new se(Math.max(o.x,u.x),Math.max(o.y,u.y))},random:function(){return new se(Math.random(),Math.random())},isCollinear:function(r,o,u,c){return Math.abs(r*c-o*u)<=1e-8*Math.sqrt((r*r+o*o)*(u*u+c*c))},isOrthogonal:function(r,o,u,c){return Math.abs(r*u+o*c)<=1e-8*Math.sqrt((r*r+o*o)*(u*u+c*c))}}},re.each(["round","ceil","floor","abs"],function(r){var o=Math[r];this[r]=function(){return new se(o(this.x),o(this.y))}},{})),Ze=se.extend({initialize:function(o,u,c,d){this._x=o,this._y=u,this._owner=c,this._setter=d},_set:function(r,o,u){return this._x=r,this._y=o,u||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),Ae=re.extend({_class:"Size",_readIndex:!0,initialize:function(o,u){var c=typeof o,d=this.__read,f=0;if("number"===c){var g="number"==typeof u;this._set(o,g?u:o),d&&(f=g?2:1)}else if("undefined"===c||null===o)this._set(0,0),d&&(f=null===o?1:0);else{var m="string"===c?o.split(/[\s,]+/)||[]:o;f=1,Array.isArray(m)?this._set(+m[0],+(m.length>1?m[1]:m[0])):"width"in m?this._set(m.width||0,m.height||0):"x"in m?this._set(m.x||0,m.y||0):(this._set(0,0),f=0)}return d&&(this.__read=f),this},set:"#initialize",_set:function(r,o){return this.width=r,this.height=o,this},equals:function(r){return r===this||r&&(this.width===r.width&&this.height===r.height||Array.isArray(r)&&this.width===r[0]&&this.height===r[1])||!1},clone:function(){return new Ae(this.width,this.height)},toString:function(){var r=Ue.instance;return"{ width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var o=r.formatter;return[o.number(this.width),o.number(this.height)]},add:function(){var r=Ae.read(arguments);return new Ae(this.width+r.width,this.height+r.height)},subtract:function(){var r=Ae.read(arguments);return new Ae(this.width-r.width,this.height-r.height)},multiply:function(){var r=Ae.read(arguments);return new Ae(this.width*r.width,this.height*r.height)},divide:function(){var r=Ae.read(arguments);return new Ae(this.width/r.width,this.height/r.height)},modulo:function(){var r=Ae.read(arguments);return new Ae(this.width%r.width,this.height%r.height)},negate:function(){return new Ae(-this.width,-this.height)},isZero:function(){var r=gt.isZero;return r(this.width)&&r(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(r,o){return new Ae(Math.min(r.width,o.width),Math.min(r.height,o.height))},max:function(r,o){return new Ae(Math.max(r.width,o.width),Math.max(r.height,o.height))},random:function(){return new Ae(Math.random(),Math.random())}}},re.each(["round","ceil","floor","abs"],function(r){var o=Math[r];this[r]=function(){return new Ae(o(this.width),o(this.height))}},{})),Z=Ae.extend({initialize:function(o,u,c,d){this._width=o,this._height=u,this._owner=c,this._setter=d},_set:function(r,o,u){return this._width=r,this._height=o,u||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(r){this._width=r,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(r){this._height=r,this._owner[this._setter](this)}}),nt=re.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(o,u,c,d){var m,f=arguments,g=typeof o;if("number"===g?(this._set(o,u,c,d),m=4):"undefined"===g||null===o?(this._set(0,0,0,0),m=null===o?1:0):1===f.length&&(Array.isArray(o)?(this._set.apply(this,o),m=1):o.x!==Me||o.width!==Me?(this._set(o.x||0,o.y||0,o.width||0,o.height||0),m=1):o.from===Me&&o.to===Me&&(this._set(0,0,0,0),re.readSupported(f,this)&&(m=1))),m===Me){var C,D,v=se.readNamed(f,"from"),b=re.peek(f),x=v.x,w=v.y;if(b&&b.x!==Me||re.hasNamed(f,"to")){var R=se.readNamed(f,"to");(C=R.x-x)<0&&(x=R.x,C=-C),(D=R.y-w)<0&&(w=R.y,D=-D)}else{var k=Ae.read(f);C=k.width,D=k.height}this._set(x,w,C,D),m=f.__index}var P=f.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=m),this},set:"#initialize",_set:function(r,o,u,c){return this.x=r,this.y=o,this.width=u,this.height=c,this},clone:function(){return new nt(this.x,this.y,this.width,this.height)},equals:function(r){var o=re.isPlainValue(r)?nt.read(arguments):r;return o===this||o&&this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height||!1},toString:function(){var r=Ue.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+", width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var o=r.formatter;return[o.number(this.x),o.number(this.y),o.number(this.width),o.number(this.height)]},getPoint:function(r){return new(r?se:Ze)(this.x,this.y,this,"setPoint")},setPoint:function(){var r=se.read(arguments);this.x=r.x,this.y=r.y},getSize:function(r){return new(r?Ae:Z)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var r=Ae.read(arguments),o=this._sx,u=this._sy,c=r.width,d=r.height;o&&(this.x+=(this.width-c)*o),u&&(this.y+=(this.height-d)*u),this.width=c,this.height=d,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(r){if(!this._fw){var o=r-this.x;this.width-=.5===this._sx?2*o:o}this.x=r,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(r){if(!this._fh){var o=r-this.y;this.height-=.5===this._sy?2*o:o}this.y=r,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(r){if(!this._fw){var o=r-this.x;this.width=.5===this._sx?2*o:o}this.x=r-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(r){if(!this._fh){var o=r-this.y;this.height=.5===this._sy?2*o:o}this.y=r-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(r){this._fw||.5===this._sx?this.x=r-this.width/2:(this._sx&&(this.x+=2*(r-this.x)*this._sx),this.width=2*(r-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(r){this._fh||.5===this._sy?this.y=r-this.height/2:(this._sy&&(this.y+=2*(r-this.y)*this._sy),this.height=2*(r-this.y)),this._sy=.5,this._fh=0},getCenter:function(r){return new(r?se:Ze)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var r=se.read(arguments);return this.setCenterX(r.x),this.setCenterY(r.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(r){return r&&r.width!==Me||4===(Array.isArray(r)?r:arguments).length?this._containsRectangle(nt.read(arguments)):this._containsPoint(se.read(arguments))},_containsPoint:function(r){var o=r.x,u=r.y;return o>=this.x&&u>=this.y&&o<=this.x+this.width&&u<=this.y+this.height},_containsRectangle:function(r){var o=r.x,u=r.y;return o>=this.x&&u>=this.y&&o+r.width<=this.x+this.width&&u+r.height<=this.y+this.height},intersects:function(){var r=nt.read(arguments),o=re.read(arguments)||0;return r.x+r.width>this.x-o&&r.y+r.height>this.y-o&&r.x<this.x+this.width+o&&r.y<this.y+this.height+o},intersect:function(){var r=nt.read(arguments),o=Math.max(this.x,r.x),u=Math.max(this.y,r.y),c=Math.min(this.x+this.width,r.x+r.width),d=Math.min(this.y+this.height,r.y+r.height);return new nt(o,u,c-o,d-u)},unite:function(){var r=nt.read(arguments),o=Math.min(this.x,r.x),u=Math.min(this.y,r.y),c=Math.max(this.x+this.width,r.x+r.width),d=Math.max(this.y+this.height,r.y+r.height);return new nt(o,u,c-o,d-u)},include:function(){var r=se.read(arguments),o=Math.min(this.x,r.x),u=Math.min(this.y,r.y),c=Math.max(this.x+this.width,r.x),d=Math.max(this.y+this.height,r.y);return new nt(o,u,c-o,d-u)},expand:function(){var r=Ae.read(arguments),o=r.width,u=r.height;return new nt(this.x-o/2,this.y-u/2,this.width+o,this.height+u)},scale:function(r,o){return this.expand(this.width*r-this.width,this.height*(o===Me?r:o)-this.height)}},re.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(r,o){var u=r.join(""),c=/^[RL]/.test(u);o>=4&&(r[1]+=c?"Y":"X");var d=r[c?0:1],f=r[c?1:0],g="get"+d,m="get"+f,v="set"+d,b="set"+f,w="set"+u;this["get"+u]=function(C){return new(C?se:Ze)(this[g](),this[m](),this,w)},this[w]=function(){var C=se.read(arguments);this[v](C.x),this[b](C.y)}},{beans:!0})),Zt=nt.extend({initialize:function(o,u,c,d,f,g){this._set(o,u,c,d,!0),this._owner=f,this._setter=g},_set:function(r,o,u,c,d){return this._x=r,this._y=o,this._width=u,this._height=c,d||this._owner[this._setter](this),this}},new function(){var r=nt.prototype;return re.each(["x","y","width","height"],function(o){var u=re.capitalize(o),c="_"+o;this["get"+u]=function(){return this[c]},this["set"+u]=function(d){this[c]=d,this._dontNotify||this._owner[this._setter](this)}},re.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(o){var u="set"+o;this[u]=function(){this._dontNotify=!0,r[u].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(o){var u=this._owner;u._changeSelection&&u._changeSelection(2,o)}}))}),ft=re.extend({_class:"Matrix",initialize:function r(o,u){var c=arguments,d=c.length,f=!0;if(d>=6?this._set.apply(this,c):1===d||2===d?o instanceof r?this._set(o._a,o._b,o._c,o._d,o._tx,o._ty,u):Array.isArray(o)?this._set.apply(this,u?o.concat([u]):o):f=!1:d?f=!1:this.reset(),!f)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(r,o,u,c,d,f,g){return this._a=r,this._b=o,this._c=u,this._d=c,this._tx=d,this._ty=f,g||this._changed(),this},_serialize:function(r,o){return re.serialize(this.getValues(),r,!0,o)},_changed:function(){var r=this._owner;r&&(r._applyMatrix?r.transform(null,!0):r._changed(25))},clone:function(){return new ft(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(r){return r===this||r&&this._a===r._a&&this._b===r._b&&this._c===r._c&&this._d===r._d&&this._tx===r._tx&&this._ty===r._ty},toString:function(){var r=Ue.instance;return"[["+[r.number(this._a),r.number(this._c),r.number(this._tx)].join(", ")+"], ["+[r.number(this._b),r.number(this._d),r.number(this._ty)].join(", ")+"]]"},reset:function(r){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,r||this._changed(),this},apply:function(r,o){var u=this._owner;return!!u&&(u.transform(null,re.pick(r,!0),o),this.isIdentity())},translate:function(){var r=se.read(arguments),o=r.x,u=r.y;return this._tx+=o*this._a+u*this._c,this._ty+=o*this._b+u*this._d,this._changed(),this},scale:function(){var r=arguments,o=se.read(r),u=se.read(r,0,{readNull:!0});return u&&this.translate(u),this._a*=o.x,this._b*=o.x,this._c*=o.y,this._d*=o.y,u&&this.translate(u.negate()),this._changed(),this},rotate:function(r){r*=Math.PI/180;var o=se.read(arguments,1),u=o.x,c=o.y,d=Math.cos(r),f=Math.sin(r),g=u-u*d+c*f,m=c-u*f-c*d,v=this._a,b=this._b,x=this._c,w=this._d;return this._a=d*v+f*x,this._b=d*b+f*w,this._c=-f*v+d*x,this._d=-f*b+d*w,this._tx+=g*v+m*x,this._ty+=g*b+m*w,this._changed(),this},shear:function(){var r=arguments,o=se.read(r),u=se.read(r,0,{readNull:!0});u&&this.translate(u);var c=this._a,d=this._b;return this._a+=o.y*this._c,this._b+=o.y*this._d,this._c+=o.x*c,this._d+=o.x*d,u&&this.translate(u.negate()),this._changed(),this},skew:function(){var r=arguments,o=se.read(r),u=se.read(r,0,{readNull:!0}),c=Math.PI/180,d=new se(Math.tan(o.x*c),Math.tan(o.y*c));return this.shear(d,u)},append:function(r,o){if(r){var u=this._a,c=this._b,d=this._c,f=this._d,g=r._a,m=r._c,v=r._b,b=r._d,x=r._tx,w=r._ty;this._a=g*u+v*d,this._c=m*u+b*d,this._b=g*c+v*f,this._d=m*c+b*f,this._tx+=x*u+w*d,this._ty+=x*c+w*f,o||this._changed()}return this},prepend:function(r,o){if(r){var u=this._a,c=this._b,d=this._c,f=this._d,g=this._tx,m=this._ty,v=r._a,b=r._c,x=r._b,w=r._d,C=r._tx,D=r._ty;this._a=v*u+b*c,this._c=v*d+b*f,this._b=x*u+w*c,this._d=x*d+w*f,this._tx=v*g+b*m+C,this._ty=x*g+w*m+D,o||this._changed()}return this},appended:function(r){return this.clone().append(r)},prepended:function(r){return this.clone().prepend(r)},invert:function(){var r=this._a,o=this._b,u=this._c,c=this._d,d=this._tx,f=this._ty,g=r*c-o*u,m=null;return g&&!isNaN(g)&&isFinite(d)&&isFinite(f)&&(this._a=c/g,this._b=-o/g,this._c=-u/g,this._d=r/g,this._tx=(u*f-c*d)/g,this._ty=(o*d-r*f)/g,m=this),m},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new ft(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var r=this._a*this._d-this._c*this._b;return r&&!isNaN(r)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(r,o,u){return arguments.length<3?this._transformPoint(se.read(arguments)):this._transformCoordinates(r,o,u)},_transformPoint:function(r,o,u){var c=r.x,d=r.y;return o||(o=new se),o._set(c*this._a+d*this._c+this._tx,c*this._b+d*this._d+this._ty,u)},_transformCoordinates:function(r,o,u){for(var c=0,d=2*u;c<d;c+=2){var f=r[c],g=r[c+1];o[c]=f*this._a+g*this._c+this._tx,o[c+1]=f*this._b+g*this._d+this._ty}return o},_transformCorners:function(r){var o=r.x,u=r.y,c=o+r.width,d=u+r.height,f=[o,u,c,u,c,d,o,d];return this._transformCoordinates(f,f,4)},_transformBounds:function(r,o,u){for(var c=this._transformCorners(r),d=c.slice(0,2),f=d.slice(),g=2;g<8;g++){var m=c[g],v=1&g;m<d[v]?d[v]=m:m>f[v]&&(f[v]=m)}return o||(o=new nt),o._set(d[0],d[1],f[0]-d[0],f[1]-d[1],u)},inverseTransform:function(){return this._inverseTransform(se.read(arguments))},_inverseTransform:function(r,o,u){var c=this._a,d=this._b,f=this._c,g=this._d,m=this._tx,v=this._ty,b=c*g-d*f,x=null;if(b&&!isNaN(b)&&isFinite(m)&&isFinite(v)){var w=r.x-this._tx,C=r.y-this._ty;o||(o=new se),x=o._set((w*g-C*f)/b,(C*c-w*d)/b,u)}return x},decompose:function(){var v,b,x,r=this._a,o=this._b,u=this._c,c=this._d,d=r*c-o*u,f=Math.sqrt,g=Math.atan2,m=180/Math.PI;if(0!==r||0!==o){var w=f(r*r+o*o);v=Math.acos(r/w)*(o>0?1:-1),b=[w,d/w],x=[g(r*u+o*c,w*w),0]}else if(0!==u||0!==c){var C=f(u*u+c*c);v=Math.asin(u/C)*(c>0?1:-1),b=[d/C,C],x=[0,g(r*u+o*c,C*C)]}else v=0,x=b=[0,0];return{translation:this.getTranslation(),rotation:v*m,scaling:new se(b),skewing:new se(x[0]*m,x[1]*m)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new se(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(r){this.isIdentity()||r.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},re.each(["a","b","c","d","tx","ty"],function(r){var o=re.capitalize(r),u="_"+r;this["get"+o]=function(){return this[u]},this["set"+o]=function(c){this[u]=c,this._changed()}},{})),hn=re.extend({_class:"Line",initialize:function(o,u,c,d,f){var g=!1;arguments.length>=4?(this._px=o,this._py=u,this._vx=c,this._vy=d,g=f):(this._px=o.x,this._py=o.y,this._vx=u.x,this._vy=u.y,g=c),g||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new se(this._px,this._py)},getVector:function(){return new se(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(r,o){return hn.intersect(this._px,this._py,this._vx,this._vy,r._px,r._py,r._vx,r._vy,!0,o)},getSide:function(r,o){return hn.getSide(this._px,this._py,this._vx,this._vy,r.x,r.y,!0,o)},getDistance:function(r){return Math.abs(this.getSignedDistance(r))},getSignedDistance:function(r){return hn.getSignedDistance(this._px,this._py,this._vx,this._vy,r.x,r.y,!0)},isCollinear:function(r){return se.isCollinear(this._vx,this._vy,r._vx,r._vy)},isOrthogonal:function(r){return se.isOrthogonal(this._vx,this._vy,r._vx,r._vy)},statics:{intersect:function(r,o,u,c,d,f,g,m,v,b){v||(u-=r,c-=o,g-=d,m-=f);var x=u*m-c*g;if(!gt.isMachineZero(x)){var w=r-d,C=o-f,D=(g*C-m*w)/x,R=(u*C-c*w)/x,P=-1e-12,I=1+1e-12;if(b||P<D&&D<I&&P<R&&R<I)return b||(D=D<=0?0:D>=1?1:D),new se(r+D*u,o+D*c)}},getSide:function(r,o,u,c,d,f,g,m){g||(u-=r,c-=o);var v=d-r,x=v*c-(f-o)*u;return!m&&gt.isMachineZero(x)&&(x=(v*u+v*u)/(u*u+c*c))>=0&&x<=1&&(x=0),x<0?-1:x>0?1:0},getSignedDistance:function(r,o,u,c,d,f,g){return g||(u-=r,c-=o),0===u?c>0?d-r:r-d:0===c?u<0?f-o:o-f:((d-r)*c-(f-o)*u)/(c>u?c*Math.sqrt(1+u*u/(c*c)):u*Math.sqrt(1+c*c/(u*u)))},getDistance:function(r,o,u,c,d,f,g){return Math.abs(hn.getSignedDistance(r,o,u,c,d,f,g))}}}),lt=En.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(o){En.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new fn(null,null,this),this._view=_n.create(this,o||Bt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(r,o){return re.serialize(this._children,r,!0,o)},_changed:function(r,o){if(1&r){var u=this._view;u&&(u._needsUpdate=!0,!u._requested&&u._autoUpdate&&u.requestUpdate())}var c=this._changes;if(c&&o){var d=this._changesById,f=o._id,g=d[f];g?g.flags|=r:c.push(d[f]={item:o,flags:r})}},clear:function(){for(var r=this._children,o=r.length-1;o>=0;o--)r[o].remove()},isEmpty:function(){return!this._children.length},remove:function r(){return!!r.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(r){this._currentStyle.set(r)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Ln({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],o={};return this.getItems({class:Si,match:function(u){var c=u._definition,d=c._id;return o[d]||(o[d]=!0,r.push(c)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var r=this._selectionItems,o=[];for(var u in r){var c=r[u],d=c._selection;1&d&&c.isInserted()?o.push(c):d||this._updateSelection(c)}return o},_updateSelection:function(r){var o=r._id,u=this._selectionItems;r._selection?u[o]!==r&&(this._selectionCount++,u[o]=r):u[o]===r&&(this._selectionCount--,delete u[o])},selectAll:function(){for(var r=this._children,o=0,u=r.length;o<u;o++)r[o].setFullySelected(!0)},deselectAll:function(){var r=this._selectionItems;for(var o in r)r[o].setFullySelected(!1)},addLayer:function(r){return this.insertLayer(Me,r)},insertLayer:function(r,o){if(o instanceof Ln){o._remove(!1,!0),re.splice(this._children,[o],r,0),o._setProject(this,!0);var u=o._name;u&&o.setName(u),this._changes&&o._changed(5),this._activeLayer||(this._activeLayer=o)}else o=null;return o},_insertItem:function(r,o,u){return o=this.insertLayer(r,o)||(this._activeLayer||this._insertItem(Me,new Ln(tt.NO_INSERT),!0)).insertChild(r,o),u&&o.activate&&o.activate(),o},getItems:function(r){return tt._getItems(this,r)},getItem:function(r){return tt._getItems(this,r,null,null,!0)[0]||null},importJSON:function(r){this.activate();var o=this._activeLayer;return re.importJSON(r,o&&o.isEmpty()&&o)},removeOn:function(r){var o=this._removeSets;if(o){"mouseup"===r&&(o.mousedrag=null);var u=o[r];if(u){for(var c in u){var d=u[c];for(var f in o){var g=o[f];g&&g!=u&&delete g[d._id]}d.remove()}o[r]=null}}},draw:function(r,o,u){this._updateVersion++,r.save(),o.applyToContext(r);for(var c=this._children,d=new re({offset:new se(0,0),pixelRatio:u,viewMatrix:o.isIdentity()?null:o,matrices:[new ft],updateMatrix:!0}),f=0,g=c.length;f<g;f++)c[f].draw(r,d);if(r.restore(),this._selectionCount>0){r.save(),r.strokeWidth=1;var m=this._selectionItems,v=this._scope.settings.handleSize,b=this._updateVersion;for(var x in m)m[x]._drawSelection(r,o,v,m,b);r.restore()}}}),tt=re.extend(li,{statics:{extend:function r(o){return o._serializeFields&&(o._serializeFields=re.set({},this.prototype._serializeFields,o._serializeFields)),r.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new ft,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var r=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return re.each(r,function(o){this._events[o]={install:function(u){this.getView()._countItemEvent(u,1)},uninstall:function(u){this.getView()._countItemEvent(u,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:r}})},{initialize:function(){},_initialize:function(r,o){var u=r&&re.isPlainObject(r),c=u&&!0===r.internal,d=this._matrix=new ft,f=u&&r.project||l.project,g=l.settings;return this._id=c?null:ae.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&g.applyMatrix,o&&d.translate(o),d._owner=this,this._style=new fn(f._currentStyle,this,f),c||u&&0==r.insert||!g.insertItems&&(!u||1!=r.insert)?this._setProject(f):(u&&r.parent||f)._insertItem(Me,this,!0),u&&r!==tt.NO_INSERT&&r!==tt.INSERT&&this.set(r,{internal:!0,insert:!0,project:!0,parent:!0}),u},_serialize:function(r,o){var u={},c=this;function d(f){for(var g in f){var m=c[g];re.equals(m,"leading"===g?1.2*f.fontSize:f[g])||(u[g]=re.serialize(m,r,"data"!==g,o))}}return d(this._serializeFields),this instanceof Un||d(this._style._defaults),[this._class,u]},_changed:function(r){var o=this._symbol,u=this._parent||o,c=this._project;8&r&&(this._bounds=this._position=this._decomposed=Me),16&r&&(this._globalMatrix=Me),u&&72&r&&tt._clearBoundsCache(u),2&r&&tt._clearBoundsCache(this),c&&c._changed(r,this),o&&o._changed(r)},getId:function(){return this._id},getName:function(){return this._name},setName:function(r){if(this._name&&this._removeNamed(),r===+r+"")throw new Error("Names consisting only of numbers are not supported.");var o=this._getOwner();if(r&&o){var u=o._children,c=o._namedChildren;(c[r]=c[r]||[]).push(this),r in u||(u[r]=this)}this._name=r||Me,this._changed(256)},getStyle:function(){return this._style},setStyle:function(r){this.getStyle().set(r)}},re.each(["locked","visible","blendMode","opacity","guide"],function(r){var o=re.capitalize(r),u="_"+r,c={locked:256,visible:265};this["get"+o]=function(){return this[u]},this["set"+o]=function(d){d!=this[u]&&(this[u]=d,this._changed(c[r]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(r){if(r!==this._selection){this._selection=r;var o=this._project;o&&(o._updateSelection(this),this._changed(257))}},_changeSelection:function(r,o){var u=this._selection;this.setSelection(o?u|r:u&~r)},isSelected:function(){if(this._selectChildren)for(var r=this._children,o=0,u=r.length;o<u;o++)if(r[o].isSelected())return!0;return!!(1&this._selection)},setSelected:function(r){if(this._selectChildren)for(var o=this._children,u=0,c=o.length;u<c;u++)o[u].setSelected(r);this._changeSelection(1,r)},isFullySelected:function(){var r=this._children,o=!!(1&this._selection);if(r&&o){for(var u=0,c=r.length;u<c;u++)if(!r[u].isFullySelected())return!1;return!0}return o},setFullySelected:function(r){var o=this._children;if(o)for(var u=0,c=o.length;u<c;u++)o[u].setFullySelected(r);this._changeSelection(1,r)},isClipMask:function(){return this._clipMask},setClipMask:function(r){this._clipMask!=(r=!!r)&&(this._clipMask=r,r&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(r){this._data=r},getPosition:function(r){var o=r?se:Ze,u=this._position||(this._position=this._getPositionFromBounds());return new o(u.x,u.y,this,"setPosition")},setPosition:function(){this.translate(se.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(r){return this._pivot?this._matrix._transformPoint(this._pivot):(r||this.getBounds()).getCenter(!0)},getPivot:function(){var r=this._pivot;return r?new Ze(r.x,r.y,this,"setPivot"):null},setPivot:function(){this._pivot=se.read(arguments,0,{clone:!0,readNull:!0}),this._position=Me}},re.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(r,o){this[o]=function(u){return this.getBounds(u,r)}},{beans:!0,getBounds:function(r,o){var u=o||r instanceof ft,c=re.set({},u?o:r,this._boundsOptions);(!c.stroke||this.getStrokeScaling())&&(c.cacheItem=this);var d=this._getCachedBounds(u&&r,c).rect;return arguments.length?d:new Zt(d.x,d.y,d.width,d.height,this,"setBounds")},setBounds:function(){var r=nt.read(arguments),o=this.getBounds(),u=this._matrix,c=new ft,d=r.getCenter();c.translate(d),(r.width!=o.width||r.height!=o.height)&&(u.isInvertible()||(u.set(u._backup||(new ft).translate(u.getTranslation())),o=this.getBounds()),c.scale(0!==o.width?r.width/o.width:0,0!==o.height?r.height/o.height:0)),d=o.getCenter(),c.translate(-d.x,-d.y),this.transform(c)},_getBounds:function(r,o){var u=this._children;return u&&u.length?(tt._updateBoundsCache(this,o.cacheItem),tt._getBounds(u,r,o)):new nt},_getBoundsCacheKey:function(r,o){return[r.stroke?1:0,r.handle?1:0,o?1:0].join("")},_getCachedBounds:function(r,o,u){r=r&&r._orNullIfIdentity();var c=o.internal&&!u,d=o.cacheItem,f=c?null:this._matrix._orNullIfIdentity(),g=d&&(!r||r.equals(f))&&this._getBoundsCacheKey(o,c),m=this._bounds;if(tt._updateBoundsCache(this._parent||this._symbol,d),g&&m&&g in m)return{rect:(v=m[g]).rect.clone(),nonscaling:v.nonscaling};var b=this._getBounds(r||f,o),x=b.rect||b,w=this._style,C=b.nonscaling||w.hasStroke()&&!w.getStrokeScaling();if(g){m||(this._bounds=m={});var v=m[g]={rect:x.clone(),nonscaling:C,internal:c}}return{rect:x,nonscaling:C}},_getStrokeMatrix:function(r,o){var u=this.getStrokeScaling()?null:o&&o.internal?this:this._parent||this._symbol&&this._symbol._item,c=u?u.getViewMatrix().invert():r;return c&&c._shiftless()},statics:{_updateBoundsCache:function(r,o){if(r&&o){var u=o._id,c=r._boundsCache=r._boundsCache||{ids:{},list:[]};c.ids[u]||(c.list.push(o),c.ids[u]=o)}},_clearBoundsCache:function(r){var o=r._boundsCache;if(o){r._bounds=r._position=r._boundsCache=Me;for(var u=0,c=o.list,d=c.length;u<d;u++){var f=c[u];f!==r&&(f._bounds=f._position=Me,f._boundsCache&&tt._clearBoundsCache(f))}}},_getBounds:function(r,o,u){var c=1/0,d=-c,f=c,g=d,m=!1;u=u||{};for(var v=0,b=r.length;v<b;v++){var x=r[v];if(x._visible&&!x.isEmpty(!0)){var w=x._getCachedBounds(o&&o.appended(x._matrix),u,!0),C=w.rect;c=Math.min(C.x,c),f=Math.min(C.y,f),d=Math.max(C.x+C.width,d),g=Math.max(C.y+C.height,g),w.nonscaling&&(m=!0)}}return{rect:isFinite(c)?new nt(c,f,d-c,g-f):new nt,nonscaling:m}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var r=this._decompose();return r?r.rotation:0},setRotation:function(r){var o=this.getRotation();if(null!=o&&null!=r){var u=this._decomposed;this.rotate(r-o),u&&(u.rotation=r,this._decomposed=u)}},getScaling:function(){var r=this._decompose(),o=r&&r.scaling;return new Ze(o?o.x:1,o?o.y:1,this,"setScaling")},setScaling:function(){var r=this.getScaling(),o=se.read(arguments,0,{clone:!0,readNull:!0});if(r&&o&&!r.equals(o)){var u=this.getRotation(),c=this._decomposed,d=new ft,f=gt.isZero;if(f(r.x)||f(r.y))d.translate(c.translation),u&&d.rotate(u),d.scale(o.x,o.y),this._matrix.set(d);else{var g=this.getPosition(!0);d.translate(g),u&&d.rotate(u),d.scale(o.x/r.x,o.y/r.y),u&&d.rotate(-u),d.translate(g.negate()),this.transform(d)}c&&(c.scaling=o,this._decomposed=c)}},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},getGlobalMatrix:function(r){var o=this._globalMatrix;if(o)for(var u=this._parent,c=[];u;){if(!u._globalMatrix){o=null;for(var d=0,f=c.length;d<f;d++)c[d]._globalMatrix=null;break}c.push(u),u=u._parent}return o||(o=this._globalMatrix=this._matrix.clone(),(u=this._parent)&&o.prepend(u.getGlobalMatrix(!0))),r?o:o.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(r){(this._applyMatrix=this._canApplyMatrix&&!!r)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(r,o){if(this._project!==r){this._project&&this._installEvents(!1),this._project=r;for(var u=this._children,c=0,d=u&&u.length;c<d;c++)u[c]._setProject(r);o=!0}o&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function r(o){r.base.call(this,o);for(var u=this._children,c=0,d=u&&u.length;c<d;c++)u[c]._installEvents(o)},getLayer:function(){for(var r=this;r=r._parent;)if(r instanceof Ln)return r;return null},getParent:function(){return this._parent},setParent:function(r){return r.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(r){this.removeChildren(),this.addChildren(r)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var r=this._getOwner();return r&&r._children[this._index+1]||null},getPreviousSibling:function(){var r=this._getOwner();return r&&r._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(r){return r===this||r&&this._class===r._class&&this._style.equals(r._style)&&this._matrix.equals(r._matrix)&&this._locked===r._locked&&this._visible===r._visible&&this._blendMode===r._blendMode&&this._opacity===r._opacity&&this._clipMask===r._clipMask&&this._guide===r._guide&&this._equals(r)||!1},_equals:function(r){return re.equals(this._children,r._children)},clone:function(r){var o=new this.constructor(tt.NO_INSERT),u=this._children,c=re.pick(r?r.insert:Me,r===Me||!0===r),d=re.pick(r?r.deep:Me,!0);u&&o.copyAttributes(this),(!u||d)&&o.copyContent(this),u||o.copyAttributes(this),c&&o.insertAbove(this);var f=this._name,g=this._parent;if(f&&g){u=g._children;for(var m=f,v=1;u[f];)f=m+" "+v++;f!==m&&o.setName(f)}return o},copyContent:function(r){for(var o=r._children,u=0,c=o&&o.length;u<c;u++)this.addChild(o[u].clone(!1),!0)},copyAttributes:function(r,o){this.setStyle(r._style);for(var u=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],c=0,d=u.length;c<d;c++){var f=u[c];r.hasOwnProperty(f)&&(this[f]=r[f])}o||this._matrix.set(r._matrix,!0),this.setApplyMatrix(r._applyMatrix),this.setPivot(r._pivot),this.setSelection(r._selection);var g=r._data,m=r._name;this._data=g?re.clone(g):null,m&&this.setName(m)},rasterize:function(r,o){var u,c,d;re.isPlainObject(r)?(u=r.resolution,c=r.insert,d=r.raster):(u=r,c=o),d||(d=new Rn(tt.NO_INSERT));var f=this.getStrokeBounds(),g=(u||this.getView().getResolution())/72,m=f.getTopLeft().floor(),v=f.getBottomRight().ceil(),b=new Ae(v.subtract(m)),x=b.multiply(g);if(d.setSize(x,!0),!x.isZero()){var w=d.getContext(!0),C=(new ft).scale(g).translate(m.negate());w.save(),C.applyToContext(w),this.draw(w,new re({matrices:[C]})),w.restore()}return d._matrix.set((new ft).translate(m.add(b.divide(2))).scale(1/g)),(c===Me||c)&&d.insertAbove(this),d},contains:function(){var r=this._matrix;return r.isInvertible()&&!!this._contains(r._inverseTransform(se.read(arguments)))},_contains:function(r){var o=this._children;if(o){for(var u=o.length-1;u>=0;u--)if(o[u].contains(r))return!0;return!1}return r.isInside(this.getInternalBounds())},isInside:function(){return nt.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new yt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(r,o){return r instanceof tt&&this._asPathItem().getIntersections(r._asPathItem(),null,o,!0).length>0}},new function(){function r(){var c=arguments;return this._hitTest(se.read(c),Oe.getOptions(c))}function o(){var c=arguments,d=se.read(c),f=Oe.getOptions(c),g=[];return this._hitTest(d,new re({all:g},f)),g}function u(c,d,f,g){var m=this._children;if(m)for(var v=m.length-1;v>=0;v--){var b=m[v],x=b!==g&&b._hitTest(c,d,f);if(x&&!d.all)return x}return null}return lt.inject({hitTest:r,hitTestAll:o,_hitTest:u}),{hitTest:r,hitTestAll:o,_hitTestChildren:u}},{_hitTest:function(r,o,u){if(this._locked||!this._visible||this._guide&&!o.guides||this.isEmpty())return null;var c=this._matrix,d=u?u.appended(c):this.getGlobalMatrix().prepend(this.getView()._matrix),f=Math.max(o.tolerance,1e-12),g=o._tolerancePadding=new Ae(yt._getStrokePadding(f,c._shiftless().invert()));if(!(r=c._inverseTransform(r))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(g.multiply(2))._containsPoint(r))return null;var x,w,m=!(o.guides&&!this._guide||o.selected&&!this.isSelected()||o.type&&o.type!==re.hyphenate(this._class)||o.class&&!(this instanceof o.class)),v=o.match,b=this;function C(S){return S&&v&&!v(S)&&(S=null),S&&o.all&&o.all.push(S),S}function D(S,A){var O=A?x["get"+A]():b.getPosition();if(r.subtract(O).divide(g).length<=1)return new Oe(S,b,{name:A?re.hyphenate(A):S,point:O})}var R=o.position,k=o.center,P=o.bounds;if(m&&this._parent&&(R||k||P)){if((k||P)&&(x=this.getInternalBounds()),!(w=R&&D("position")||k&&D("center","Center"))&&P)for(var I=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],E=0;E<8&&!w;E++)w=D("bounds",I[E]);w=C(w)}return w||(w=this._hitTestChildren(r,o,d)||m&&C(this._hitTestSelf(r,o,d,this.getStrokeScaling()?null:d._shiftless().invert()))||null),w&&w.point&&(w.point=c.transform(w.point)),w},_hitTestSelf:function(r,o){if(o.fill&&this.hasFill()&&this._contains(r))return new Oe("fill",this)},matches:function(r,o){var c=typeof r;if("object"===c){for(var d in r)if(r.hasOwnProperty(d)&&!this.matches(d,r[d]))return!1;return!0}if("function"===c)return r(this);if("match"===r)return o(this);var f=/^(empty|editable)$/.test(r)?this["is"+re.capitalize(r)]():"type"===r?re.hyphenate(this._class):this[r];if("class"===r){if("function"==typeof o)return this instanceof o;f=this._class}if("function"==typeof o)return!!o(f);if(o){if(o.test)return o.test(f);if(re.isPlainObject(o))return function u(g,m){for(var v in g)if(g.hasOwnProperty(v)){var b=g[v],x=m[v];if(re.isPlainObject(b)&&re.isPlainObject(x)){if(!u(b,x))return!1}else if(!re.equals(b,x))return!1}return!0}(o,f)}return re.equals(f,o)},getItems:function(r){return tt._getItems(this,r,this._matrix)},getItem:function(r){return tt._getItems(this,r,this._matrix,null,!0)[0]||null},statics:{_getItems:function r(o,u,c,d,f){if(!d){var g="object"==typeof u&&u,m=g&&g.overlapping,v=g&&g.inside,C=(b=m||v)&&nt.read([b]);d={items:[],recursive:g&&!1!==g.recursive,inside:!!v,overlapping:!!m,rect:C,path:m&&new yt.Rectangle({rectangle:C,insert:!1})},g&&(u=re.filter({},u,{recursive:!0,inside:!0,overlapping:!0}))}var x=o._children,w=d.items;c=(C=d.rect)&&(c||new ft);for(var D=0,R=x&&x.length;D<R;D++){var k=x[D],P=c&&c.appended(k._matrix),I=!0;if(C){var b=k.getBounds(P);if(!C.intersects(b))continue;C.contains(b)||d.overlapping&&(b.contains(C)||d.path.intersects(k,P))||(I=!1)}if(I&&k.matches(u)&&(w.push(k),f)||(!1!==d.recursive&&r(k,u,P,d,f),f&&w.length>0))break}return w}}},{importJSON:function(r){var o=re.importJSON(r,this);return o!==this?this.addChild(o):o},addChild:function(r){return this.insertChild(Me,r)},insertChild:function(r,o){var u=o?this.insertChildren(r,[o]):null;return u&&u[0]},addChildren:function(r){return this.insertChildren(this._children.length,r)},insertChildren:function(r,o){var u=this._children;if(u&&o&&o.length>0){for(var c={},d=(o=re.slice(o)).length-1;d>=0;d--){var g=(f=o[d])&&f._id;!f||c[g]?o.splice(d,1):(f._remove(!1,!0),c[g]=!0)}re.splice(u,o,r,0);for(var m=this._project,v=m._changes,b=(d=0,o.length);d<b;d++){var f,x=(f=o[d])._name;f._parent=this,f._setProject(m,!0),x&&f.setName(x),v&&f._changed(5)}this._changed(11)}else o=null;return o},_insertItem:"#insertChild",_insertAt:function(r,o){var u=r&&r._getOwner(),c=r!==this&&u?this:null;return c&&(c._remove(!1,!0),u._insertItem(r._index+o,c)),c},insertAbove:function(r){return this._insertAt(r,1)},insertBelow:function(r){return this._insertAt(r,0)},sendToBack:function(){var r=this._getOwner();return r?r._insertItem(0,this):null},bringToFront:function(){var r=this._getOwner();return r?r._insertItem(Me,this):null},appendTop:"#addChild",appendBottom:function(r){return this.insertChild(0,r)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(r){return r._insertItem(Me,this)},copyTo:function(r){return this.clone(!1).addTo(r)},reduce:function(r){var o=this._children;if(o&&1===o.length){var u=o[0].reduce(r);return this._parent?(u.insertAbove(this),this.remove()):u.remove(),u}return this},_removeNamed:function(){var r=this._getOwner();if(r){var o=r._children,u=r._namedChildren,c=this._name,d=u[c],f=d?d.indexOf(this):-1;-1!==f&&(o[c]==this&&delete o[c],d.splice(f,1),d.length?o[c]=d[0]:delete u[c])}},_remove:function(r,o){var u=this._getOwner(),c=this._project,d=this._index;return this._style&&this._style._dispose(),!!u&&(this._name&&this._removeNamed(),null!=d&&(c._activeLayer===this&&(c._activeLayer=this.getNextSibling()||this.getPreviousSibling()),re.splice(u._children,null,d,1)),this._installEvents(!1),r&&c._changes&&this._changed(5),o&&u._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(r){var o=r&&r.insertBelow(this);return o&&this.remove(),o},removeChildren:function(r,o){if(!this._children)return null;r=r||0,o=re.pick(o,this._children.length);for(var u=re.splice(this._children,null,r,o-r),c=u.length-1;c>=0;c--)u[c]._remove(!0,!1);return u.length>0&&this._changed(11),u},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var r=0,o=this._children.length;r<o;r++)this._children[r]._index=r;this._changed(11)}},isEmpty:function(r){var o=this._children,u=o?o.length:0;if(r){for(var c=0;c<u;c++)if(!o[c].isEmpty(r))return!1;return!0}return!u},isEditable:function(){for(var r=this;r;){if(!r._visible||r._locked)return!1;r=r._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(r){function o(g){var m=[];do{m.unshift(g)}while(g=g._parent);return m}for(var u=o(this),c=o(r),d=0,f=Math.min(u.length,c.length);d<f;d++)if(u[d]!=c[d])return u[d]._index<c[d]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(r){return-1===this._getOrder(r)},isBelow:function(r){return 1===this._getOrder(r)},isParent:function(r){return this._parent===r},isChild:function(r){return r&&r._parent===this},isDescendant:function(r){for(var o=this;o=o._parent;)if(o===r)return!0;return!1},isAncestor:function(r){return!!r&&r.isDescendant(this)},isSibling:function(r){return this._parent===r._parent},isGroupedWith:function(r){for(var o=this._parent;o;){if(o._parent&&/^(Group|Layer|CompoundPath)$/.test(o._class)&&r.isDescendant(o))return!0;o=o._parent}return!1}},re.each(["rotate","scale","shear","skew"],function(r){var o="rotate"===r;this[r]=function(){var u=arguments,c=(o?re:se).read(u),d=se.read(u,0,{readNull:!0});return this.transform((new ft)[r](c,d||this.getPosition(!0)))}},{translate:function(){var r=new ft;return this.transform(r.translate.apply(r,arguments))},transform:function(r,o,u){var c=this._matrix,d=r&&!r.isIdentity(),f=u&&this._canApplyMatrix||this._applyMatrix&&(d||!c.isIdentity()||o&&this._children);if(!d&&!f)return this;if(d){!r.isInvertible()&&c.isInvertible()&&(c._backup=c.getValues()),c.prepend(r,!0);var g=this._style,m=g.getFillColor(!0),v=g.getStrokeColor(!0);m&&m.transform(r),v&&v.transform(r)}if(f&&(f=this._transformContent(c,o,u))){var b=this._pivot;b&&c._transformPoint(b,b,!0),c.reset(!0),u&&this._canApplyMatrix&&(this._applyMatrix=!0)}var x=this._bounds,w=this._position;(d||f)&&this._changed(25);var C=d&&x&&r.decompose();if(C&&C.skewing.isZero()&&C.rotation%90==0){for(var D in x){var R=x[D];if(R.nonscaling)delete x[D];else if(f||!R.internal){var k=R.rect;r._transformBounds(k,k)}}this._bounds=x;var P=x[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else d&&w&&this._pivot&&(this._position=r._transformPoint(w,w));return this},_transformContent:function(r,o,u){var c=this._children;if(c){for(var d=0,f=c.length;d<f;d++)c[d].transform(r,o,u);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(se.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(se.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(se.read(arguments))},localToParent:function(){return this._matrix._transformPoint(se.read(arguments))},fitBounds:function(r,o){r=nt.read(arguments);var u=this.getBounds(),c=u.height/u.width,d=r.height/r.width,f=(o?c>d:c<d)?r.width/u.width:r.height/u.height,g=new nt(new se,new Ae(u.width*f,u.height*f));g.setCenter(r.getCenter()),this.setBounds(g)}}),{_setStyles:function(r,o,u){var c=this._style,d=this._matrix;if(c.hasFill()&&(r.fillStyle=c.getFillColor().toCanvasStyle(r,d)),c.hasStroke()){r.strokeStyle=c.getStrokeColor().toCanvasStyle(r,d),r.lineWidth=c.getStrokeWidth();var f=c.getStrokeJoin(),g=c.getStrokeCap(),m=c.getMiterLimit();if(f&&(r.lineJoin=f),g&&(r.lineCap=g),m&&(r.miterLimit=m),l.support.nativeDash){var v=c.getDashArray(),b=c.getDashOffset();v&&v.length&&("setLineDash"in r?(r.setLineDash(v),r.lineDashOffset=b):(r.mozDash=v,r.mozDashOffset=b))}}if(c.hasShadow()){var x=o.pixelRatio||1,w=u._shiftless().prepend((new ft).scale(x,x)),C=w.transform(new se(c.getShadowBlur(),0)),D=w.transform(this.getShadowOffset());r.shadowColor=c.getShadowColor().toCanvasStyle(r),r.shadowBlur=C.getLength(),r.shadowOffsetX=D.x,r.shadowOffsetY=D.y}},draw:function(r,o,u){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var d=o.matrices,f=o.viewMatrix,g=this._matrix,m=d[d.length-1].appended(g);if(m.isInvertible()){f=f?f.appended(m):m,d.push(m),o.updateMatrix&&(this._globalMatrix=m);var R,k,P,v=this._blendMode,b=gt.clamp(this._opacity,0,1),x="normal"===v,w=vn.nativeModes[v],C=x&&1===b||o.dontStart||o.clip||(w||x&&b<1)&&this._canComposite(),D=o.pixelRatio||1;if(!C){var I=this.getStrokeBounds(f);if(!I.width||!I.height)return void d.pop();P=o.offset,k=o.offset=I.getTopLeft().floor(),R=r,r=Bt.getContext(I.getSize().ceil().add(1).multiply(D)),1!==D&&r.scale(D,D)}r.save();var E=u?u.appended(g):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,S=!C&&o.clipItem,A=!E||S;if(C?(r.globalAlpha=b,w&&(r.globalCompositeOperation=v)):A&&r.translate(-k.x,-k.y),A&&(C?g:f).applyToContext(r),S&&o.clipItem.draw(r,o.extend({clip:!0})),E){r.setTransform(D,0,0,D,0,0);var O=o.offset;O&&r.translate(-O.x,-O.y)}this._draw(r,o,f,E),r.restore(),d.pop(),o.clip&&!o.dontFinish&&r.clip(this.getFillRule()),C||(vn.process(v,r,R,b,k.subtract(P).multiply(D)),Bt.release(r),o.offset=P)}}},_isUpdated:function(r){var o=this._parent;if(o instanceof vi)return o._isUpdated(r);var u=this._updateVersion===r;return!u&&o&&o._visible&&o._isUpdated(r)&&(this._updateVersion=r,u=!0),u},_drawSelection:function(r,o,u,c,d){var f=this._selection,g=1&f,m=2&f||g&&this._selectBounds,v=4&f;if(this._drawSelected||(g=!1),(g||m||v)&&this._isUpdated(d)){var b,x=this.getSelectedColor(!0)||(b=this.getLayer())&&b.getSelectedColor(!0),w=o.appended(this.getGlobalMatrix(!0)),C=u/2;if(r.strokeStyle=r.fillStyle=x?x.toCanvasStyle(r):"#009dec",g&&this._drawSelected(r,w,c),v){var D=this.getPosition(!0),R=this._parent,k=R?R.localToGlobal(D):D,P=k.x,I=k.y;r.beginPath(),r.arc(P,I,C,0,2*Math.PI,!0),r.stroke();for(var E=[[0,-1],[1,0],[0,1],[-1,0]],S=C,A=u+1,O=0;O<4;O++){var L=E[O],N=L[0],B=L[1];r.moveTo(P+N*S,I+B*S),r.lineTo(P+N*A,I+B*A),r.stroke()}}if(m){var V=w._transformCorners(this.getInternalBounds());for(r.beginPath(),O=0;O<8;O++)r[O?"lineTo":"moveTo"](V[O],V[++O]);for(r.closePath(),r.stroke(),O=0;O<8;O++)r.fillRect(V[O]-C,V[++O]-C,u,u)}}},_canComposite:function(){return!1}},re.each(["down","drag","up","move"],function(r){this["removeOn"+re.capitalize(r)]=function(){var o={};return o[r]=!0,this.removeOn(o)}},{removeOn:function(r){for(var o in r)if(r[o]){var u="mouse"+o,c=this._project,d=c._removeSets=c._removeSets||{};d[u]=d[u]||{},d[u][this._id]=this}return this}}),{tween:function(r,o,u){u||(u=o,o=r,r=null,u||(u=o,o=null));var f=null!=u&&("number"==typeof u?u:u.duration),g=new bn(this,r,o,f,u&&u.easing,u&&u.start);return f&&this.on("frame",function m(v){g._handleFrame(1e3*v.time),g.running||this.off("frame",m)}),g},tweenTo:function(r,o){return this.tween(null,r,o)},tweenFrom:function(r,o){return this.tween(r,null,o)}}),Un=tt.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(o){this._children=[],this._namedChildren={},this._initialize(o)||this.addChildren(Array.isArray(o)?o:arguments)},_changed:function r(o){r.base.call(this,o),2050&o&&(this._clipItem=Me)},_getClipItem:function(){var r=this._clipItem;if(r===Me){r=null;for(var o=this._children,u=0,c=o.length;u<c;u++)if(o[u]._clipMask){r=o[u];break}this._clipItem=r}return r},isClipped:function(){return!!this._getClipItem()},setClipped:function(r){var o=this.getFirstChild();o&&o.setClipMask(r)},_getBounds:function r(o,u){var c=this._getClipItem();return c?c._getCachedBounds(c._matrix.prepended(o),re.set({},u,{stroke:!1})):r.base.call(this,o,u)},_hitTestChildren:function r(o,u,c){var d=this._getClipItem();return(!d||d.contains(o))&&r.base.call(this,o,u,c,d)},_draw:function(r,o){var u=o.clip,c=!u&&this._getClipItem();o=o.extend({clipItem:c,clip:!1}),u?(r.beginPath(),o.dontStart=o.dontFinish=!0):c&&c.draw(r,o.extend({clip:!0}));for(var d=this._children,f=0,g=d.length;f<g;f++){var m=d[f];m!==c&&m.draw(r,o)}}}),Ln=Un.extend({_class:"Layer",initialize:function(){Un.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function r(){return this._parent?r.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Dn=tt.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(o,u){this._initialize(o,u)},_equals:function(r){return this._type===r._type&&this._size.equals(r._size)&&re.equals(this._radius,r._radius)},copyContent:function(r){this.setType(r._type),this.setSize(r._size),this.setRadius(r._radius)},getType:function(){return this._type},setType:function(r){this._type=r},getShape:"#getType",setShape:"#setType",getSize:function(){var r=this._size;return new Z(r.width,r.height,this,"setSize")},setSize:function(){var r=Ae.read(arguments);if(this._size){if(!this._size.equals(r)){var o=this._type,u=r.width,c=r.height;"rectangle"===o?this._radius.set(Ae.min(this._radius,r.divide(2).abs())):"circle"===o?(u=c=(u+c)/2,this._radius=u/2):"ellipse"===o&&this._radius._set(u/2,c/2),this._size._set(u,c),this._changed(9)}}else this._size=r.clone()},getRadius:function(){var r=this._radius;return"circle"===this._type?r:new Z(r.width,r.height,this,"setRadius")},setRadius:function(r){var o=this._type;if("circle"===o){if(r===this._radius)return;var u=2*r;this._radius=r,this._size._set(u,u)}else if(r=Ae.read(arguments),this._radius){if(this._radius.equals(r))return;this._radius.set(r),"rectangle"===o?(u=Ae.max(this._size,r.multiply(2)),this._size.set(u)):"ellipse"===o&&this._size._set(2*r.width,2*r.height)}else this._radius=r.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(r){var o=new(yt[re.capitalize(this._type)])({center:new se,size:this._size,radius:this._radius,insert:!1});return o.copyAttributes(this),l.settings.applyMatrix&&o.setApplyMatrix(!0),(r===Me||r)&&o.insertAbove(this),o},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(r,o,u,c){var d=this._style,f=d.hasFill(),g=d.hasStroke(),m=o.dontFinish||o.clip,v=!c;if(f||g||m){var b=this._type,x=this._radius,w="circle"===b;if(o.dontStart||r.beginPath(),v&&w)r.arc(0,0,x,0,2*Math.PI,!0);else{var C=w?x:x.width,D=w?x:x.height,R=this._size,k=R.width,P=R.height;if(v&&"rectangle"===b&&0===C&&0===D)r.rect(-k/2,-P/2,k,P);else{var I=k/2,E=P/2,S=.44771525016920644,A=C*S,O=D*S,L=[-I,-E+D,-I,-E+O,-I+A,-E,-I+C,-E,I-C,-E,I-A,-E,I,-E+O,I,-E+D,I,E-D,I,E-O,I-A,E,I-C,E,-I+C,E,-I+A,E,-I,E-O,-I,E-D];c&&c.transform(L,L,32),r.moveTo(L[0],L[1]),r.bezierCurveTo(L[2],L[3],L[4],L[5],L[6],L[7]),I!==C&&r.lineTo(L[8],L[9]),r.bezierCurveTo(L[10],L[11],L[12],L[13],L[14],L[15]),E!==D&&r.lineTo(L[16],L[17]),r.bezierCurveTo(L[18],L[19],L[20],L[21],L[22],L[23]),I!==C&&r.lineTo(L[24],L[25]),r.bezierCurveTo(L[26],L[27],L[28],L[29],L[30],L[31])}}r.closePath()}!m&&(f||g)&&(this._setStyles(r,o,u),f&&(r.fill(d.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),g&&r.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(r,o){var u=new nt(this._size).setCenter(0,0),c=this._style,d=o.stroke&&c.hasStroke()&&c.getStrokeWidth();return r&&(u=r._transformBounds(u)),d?u.expand(yt._getStrokePadding(d,this._getStrokeMatrix(r,o))):u}},new function(){function r(u,c,d){var f=u._radius;if(!f.isZero())for(var g=u._size.divide(2),m=1;m<=4;m++){var v=new se(m>1&&m<4?-1:1,m>2?-1:1),b=v.multiply(g),x=b.subtract(v.multiply(f));if(new nt(d?b.add(v.multiply(d)):b,x).contains(c))return{point:x,quadrant:m}}}function o(u,c,d,f){var g=u.divide(c);return(!f||g.isInQuadrant(f))&&g.subtract(g.normalize()).multiply(c).divide(d).length<=1}return{_contains:function u(c){if("rectangle"===this._type){var d=r(this,c);return d?c.subtract(d.point).divide(this._radius).getLength()<=1:u.base.call(this,c)}return c.divide(this.size).getLength()<=.5},_hitTestSelf:function u(c,d,f,g){var m=!1,v=this._style,b=d.stroke&&v.hasStroke(),x=d.fill&&v.hasFill();if(b||x){var w=this._type,C=this._radius,D=b?v.getStrokeWidth()/2:0,R=d._tolerancePadding.add(yt._getStrokePadding(D,!v.getStrokeScaling()&&g));if("rectangle"===w){var k=R.multiply(2),P=r(this,c,k);if(P)m=o(c.subtract(P.point),C,R,P.quadrant);else{var I=new nt(this._size).setCenter(0,0),E=I.expand(k),S=I.expand(k.negate());m=E._containsPoint(c)&&!S._containsPoint(c)}}else m=o(c,C,R)}return m?new Oe(b?"stroke":"fill",this):u.base.apply(this,arguments)}}},{statics:new function(){function r(o,u,c,d,f){var g=re.create(Dn.prototype);return g._type=o,g._size=c,g._radius=d,g._initialize(re.getNamed(f),u),g}return{Circle:function(){var o=arguments,u=se.readNamed(o,"center"),c=re.readNamed(o,"radius");return r("circle",u,new Ae(2*c),c,o)},Rectangle:function(){var o=arguments,u=nt.readNamed(o,"rectangle"),c=Ae.min(Ae.readNamed(o,"radius"),u.getSize(!0).divide(2));return r("rectangle",u.getCenter(!0),u.getSize(!0),c,o)},Ellipse:function(){var o=arguments,u=Dn._readEllipse(o),c=u.radius;return r("ellipse",u.center,c.multiply(2),c,o)},_readEllipse:function(o){var u,c;if(re.hasNamed(o,"radius"))u=se.readNamed(o,"center"),c=Ae.readNamed(o,"radius");else{var d=nt.readNamed(o,"rectangle");u=d.getCenter(!0),c=d.getSize(!0).divide(2)}return{center:u,radius:c}}}}}),Rn=tt.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(o,u){if(!this._initialize(o,u!==Me&&se.read(arguments))){var c,d=typeof o,f="string"===d?te.getElementById(o):"object"===d?o:null;if(f&&f!==tt.NO_INSERT)if(f.getContext||null!=f.naturalHeight)c=f;else if(f){var g=Ae.read(arguments);g.isZero()||(c=Bt.getCanvas(g))}c?this.setImage(c):this.setSource(o)}this._size||(this._size=new Ae,this._loaded=!1)},_equals:function(r){return this.getSource()===r.getSource()},copyContent:function(r){var o=r._image,u=r._canvas;if(o)this._setImage(o);else if(u){var c=Bt.getCanvas(r._size);c.getContext("2d").drawImage(u,0,0),this._setImage(c)}this._crossOrigin=r._crossOrigin},getSize:function(){var r=this._size;return new Z(r?r.width:0,r?r.height:0,this,"setSize")},setSize:function(r,o){var u=Ae.read(arguments);if(u.equals(this._size))o&&this.clear();else if(u.width>0&&u.height>0){var c=!o&&this.getElement();this._setImage(Bt.getCanvas(u)),c&&this.getContext(!0).drawImage(c,0,0,u.width,u.height)}else this._canvas&&Bt.release(this._canvas),this._size=u.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(r){this.setSize(r,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(r){this.setSize(this.getWidth(),r)},getLoaded:function(){return this._loaded},isEmpty:function(){var r=this._size;return!r||0===r.width&&0===r.height},getResolution:function(){var r=this._matrix,o=new se(0,0).transform(r),u=new se(1,0).transform(r).subtract(o),c=new se(0,1).transform(r).subtract(o);return new Ae(72/u.getLength(),72/c.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(r){var o=this;function u(c){var d=o.getView(),f=c&&c.type||"load";d&&o.responds(f)&&(l=d._scope,o.emit(f,new wr(c)))}this._setImage(r),this._loaded?setTimeout(u,0):r&&Ct.add(r,{load:function(c){o._setImage(r),u(c)},error:u})},_setImage:function(r){this._canvas&&Bt.release(this._canvas),r&&r.getContext?(this._image=null,this._canvas=r,this._loaded=!0):(this._image=r,this._canvas=null,this._loaded=!!(r&&r.src&&r.complete)),this._size=new Ae(r?r.naturalWidth||r.width:0,r?r.naturalHeight||r.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var r=Bt.getContext(this._size);try{this._image&&r.drawImage(this._image,0,0),this._canvas=r.canvas}catch{Bt.release(r)}}return this._canvas},setCanvas:"#setImage",getContext:function(r){return this._context||(this._context=this.getCanvas().getContext("2d")),r&&(this._image=null,this._changed(1025)),this._context},setContext:function(r){this._context=r},getSource:function(){var r=this._image;return r&&r.src||this.toDataURL()},setSource:function(r){var o=new Ee.Image,u=this._crossOrigin;u&&(o.crossOrigin=u),r&&(o.src=r),this.setImage(o)},getCrossOrigin:function(){var r=this._image;return r&&r.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(r){this._crossOrigin=r;var o=this._image;o&&(o.crossOrigin=r)},getSmoothing:function(){return this._smoothing},setSmoothing:function(r){this._smoothing="string"==typeof r?r:r?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var r=nt.read(arguments),o=Bt.getContext(r.getSize());return o.drawImage(this.getCanvas(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),o.canvas},getSubRaster:function(){var r=nt.read(arguments),o=new Rn(tt.NO_INSERT);return o._setImage(this.getSubCanvas(r)),o.translate(r.getCenter().subtract(this.getSize().divide(2))),o._matrix.prepend(this._matrix),o.insertAbove(this),o},toDataURL:function(){var r=this._image,o=r&&r.src;if(/^data:/.test(o))return o;var u=this.getCanvas();return u?u.toDataURL.apply(u,arguments):null},drawImage:function(r){var o=se.read(arguments,1);this.getContext(!0).drawImage(r,o.x,o.y)},getAverageColor:function(r){var o,u;if(r?r instanceof $e?(u=r,o=r.getBounds()):"object"==typeof r&&("width"in r?o=new nt(r):"x"in r&&(o=new nt(r.x-.5,r.y-.5,1,1))):o=this.getBounds(),!o)return null;var d=Math.min(o.width,32),f=Math.min(o.height,32),g=Rn._sampleContext;g?g.clearRect(0,0,33,33):g=Rn._sampleContext=Bt.getContext(new Ae(32)),g.save();var m=(new ft).scale(d/o.width,f/o.height).translate(-o.x,-o.y);m.applyToContext(g),u&&u.draw(g,new re({clip:!0,matrices:[m]})),this._matrix.applyToContext(g);var v=this.getElement(),b=this._size;v&&g.drawImage(v,-b.width/2,-b.height/2),g.restore();for(var x=g.getImageData(.5,.5,Math.ceil(d),Math.ceil(f)).data,w=[0,0,0],C=0,D=0,R=x.length;D<R;D+=4){var k=x[D+3];C+=k,w[0]+=x[D]*(k/=255),w[1]+=x[D+1]*k,w[2]+=x[D+2]*k}for(D=0;D<3;D++)w[D]/=C;return C?un.read(w):null},getPixel:function(){var r=se.read(arguments),o=this.getContext().getImageData(r.x,r.y,1,1).data;return new un("rgb",[o[0]/255,o[1]/255,o[2]/255],o[3]/255)},setPixel:function(){var r=arguments,o=se.read(r),u=un.read(r),c=u._convert("rgb"),d=u._alpha,f=this.getContext(!0),g=f.createImageData(1,1),m=g.data;m[0]=255*c[0],m[1]=255*c[1],m[2]=255*c[2],m[3]=null!=d?255*d:255,f.putImageData(g,o.x,o.y)},clear:function(){var r=this._size;this.getContext(!0).clearRect(0,0,r.width+1,r.height+1)},createImageData:function(){var r=Ae.read(arguments);return this.getContext().createImageData(r.width,r.height)},getImageData:function(){var r=nt.read(arguments);return r.isEmpty()&&(r=new nt(this._size)),this.getContext().getImageData(r.x,r.y,r.width,r.height)},putImageData:function(r){var o=se.read(arguments,1);this.getContext(!0).putImageData(r,o.x,o.y)},setImageData:function(r){this.setSize(r),this.getContext(!0).putImageData(r,0,0)},_getBounds:function(r,o){var u=new nt(this._size).setCenter(0,0);return r?r._transformBounds(u):u},_hitTestSelf:function(r){if(this._contains(r)){var o=this;return new Oe("pixel",o,{offset:r.add(o._size.divide(2)).round(),color:{get:function(){return o.getPixel(this.offset)}}})}},_draw:function(r,o,u){var c=this.getElement();if(c&&c.width>0&&c.height>0){r.globalAlpha=gt.clamp(this._opacity,0,1),this._setStyles(r,o,u);var d=this._smoothing,f="off"===d;Mt.setPrefixed(r,f?"imageSmoothingEnabled":"imageSmoothingQuality",!f&&d),r.drawImage(c,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Si=tt.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(o,u){this._initialize(o,u!==Me&&se.read(arguments,1))||this.setDefinition(o instanceof mn?o:new mn(o))},_equals:function(r){return this._definition===r._definition},copyContent:function(r){this.setDefinition(r._definition)},getDefinition:function(){return this._definition},setDefinition:function(r){this._definition=r,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(r,o){var u=this._definition._item;return u._getCachedBounds(u._matrix.prepended(r),o)},_hitTestSelf:function(r,o,u){var c=o.extend({all:!1}),d=this._definition._item._hitTest(r,c,u);return d&&(d.item=this),d},_draw:function(r,o){this._definition._item.draw(r,o)}}),mn=re.extend({_class:"SymbolDefinition",initialize:function(o,u){this._id=ae.get(),this.project=l.project,o&&this.setItem(o,u)},_serialize:function(r,o){return o.add(this,function(){return re.serialize([this._class,this._item],r,!1,o)})},_changed:function(r){8&r&&tt._clearBoundsCache(this),1&r&&this.project._changed(r)},getItem:function(){return this._item},setItem:function(r,o){r._symbol&&(r=r.clone()),this._item&&(this._item._symbol=null),this._item=r,r.remove(),r.setSelected(!1),o||r.setPosition(new se),r._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(r){return new Si(this,r)},clone:function(){return new mn(this._item.clone(!1))},equals:function(r){return r===this||r&&this._item.equals(r._item)||!1}}),Oe=re.extend({_class:"HitResult",initialize:function(o,u,c){this.type=o,this.item=u,c&&this.inject(c)},statics:{getOptions:function(r){var o=r&&re.read(r);return new re({type:null,tolerance:l.settings.hitTolerance,fill:!o,stroke:!o,segments:!o,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},o)}}}),at=re.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(o,u,c,d,f,g){var v,b,x,w,m=arguments.length;m>0&&(null==o||"object"==typeof o?1===m&&o&&"point"in o?(v=o.point,b=o.handleIn,x=o.handleOut,w=o.selection):(v=o,b=u,x=c,w=d):(v=[o,u],b=c!==Me?[c,d]:null,x=f!==Me?[f,g]:null)),new Fe(v,this,"_point"),new Fe(b,this,"_handleIn"),new Fe(x,this,"_handleOut"),w&&this.setSelection(w)},_serialize:function(r,o){var u=this._point,c=this._selection,d=c||this.hasHandles()?[u,this._handleIn,this._handleOut]:u;return c&&d.push(c),re.serialize(d,r,!0,o)},_changed:function(r){var o=this._path;if(o){var d,u=o._curves,c=this._index;u&&((!r||r===this._point||r===this._handleIn)&&(d=c>0?u[c-1]:o._closed?u[u.length-1]:null)&&d._changed(),(!r||r===this._point||r===this._handleOut)&&(d=u[c])&&d._changed()),o._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(se.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(se.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(se.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var r=this._handleIn,o=this._handleOut;return!r.isZero()&&!o.isZero()&&r.isCollinear(o)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(r){var o=this._selection,u=this._path;this._selection=r=r||0,u&&r!==o&&(u._updateSelection(this,o,r),u._changed(257))},_changeSelection:function(r,o){var u=this._selection;this.setSelection(o?u|r:u&~r)},isSelected:function(){return!!(7&this._selection)},setSelected:function(r){this._changeSelection(7,r)},getIndex:function(){return this._index!==Me?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var r=this._path,o=this._index;return r?(o>0&&!r._closed&&o===r._segments.length-1&&o--,r.getCurves()[o]||null):null},getLocation:function(){var r=this.getCurve();return r?new Bn(r,this===r._segment1?0:1):null},getNext:function(){var r=this._path&&this._path._segments;return r&&(r[this._index+1]||this._path._closed&&r[0])||null},smooth:function(r,o,u){var c=r||{},d=c.type,f=c.factor,g=this.getPrevious(),m=this.getNext(),v=(g||this)._point,b=this._point,x=(m||this)._point,w=v.getDistance(b),C=b.getDistance(x);if(d&&"catmull-rom"!==d){if("geometric"!==d)throw new Error("Smoothing method '"+d+"' not supported.");if(g&&m){var A=v.subtract(x),O=f===Me?.4:f,L=O*w/(w+C);o||this.setHandleIn(A.multiply(L)),u||this.setHandleOut(A.multiply(L-O))}}else{var S,D=f===Me?.5:f,R=Math.pow(w,D),k=R*R,P=Math.pow(C,D),I=P*P;if(!o&&g){var E=2*I+3*P*R+k;this.setHandleIn(0!=(S=3*P*(P+R))?new se((I*v._x+E*b._x-k*x._x)/S-b._x,(I*v._y+E*b._y-k*x._y)/S-b._y):new se)}if(!u&&m)E=2*k+3*R*P+I,this.setHandleOut(0!=(S=3*R*(R+P))?new se((k*x._x+E*b._x-I*v._x)/S-b._x,(k*x._y+E*b._y-I*v._y)/S-b._y):new se)}},getPrevious:function(){var r=this._path&&this._path._segments;return r&&(r[this._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var r=this._path;return r&&this._index===r._segments.length-1||!1},reverse:function(){var r=this._handleIn,o=this._handleOut,u=r.clone();r.set(o),o.set(u)},reversed:function(){return new at(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new at(this._point,this._handleIn,this._handleOut)},equals:function(r){return r===this||r&&this._class===r._class&&this._point.equals(r._point)&&this._handleIn.equals(r._handleIn)&&this._handleOut.equals(r._handleOut)||!1},toString:function(){var r=["point: "+this._point];return this._handleIn.isZero()||r.push("handleIn: "+this._handleIn),this._handleOut.isZero()||r.push("handleOut: "+this._handleOut),"{ "+r.join(", ")+" }"},transform:function(r){this._transformCoordinates(r,new Array(6),!0),this._changed()},interpolate:function(r,o,u){var c=1-u,d=u,f=r._point,g=o._point,m=r._handleIn,v=o._handleIn,b=o._handleOut,x=r._handleOut;this._point._set(c*f._x+d*g._x,c*f._y+d*g._y,!0),this._handleIn._set(c*m._x+d*v._x,c*m._y+d*v._y,!0),this._handleOut._set(c*x._x+d*b._x,c*x._y+d*b._y,!0),this._changed()},_transformCoordinates:function(r,o,u){var c=this._point,d=u&&this._handleIn.isZero()?null:this._handleIn,f=u&&this._handleOut.isZero()?null:this._handleOut,g=c._x,m=c._y,v=2;return o[0]=g,o[1]=m,d&&(o[v++]=d._x+g,o[v++]=d._y+m),f&&(o[v++]=f._x+g,o[v++]=f._y+m),r&&(r._transformCoordinates(o,o,v/2),g=o[0],m=o[1],u?(c._x=g,c._y=m,v=2,d&&(d._x=o[v++]-g,d._y=o[v++]-m),f&&(f._x=o[v++]-g,f._y=o[v++]-m)):(d||(o[v++]=g,o[v++]=m),f||(o[v++]=g,o[v++]=m))),o}}),Fe=se.extend({initialize:function(o,u,c){var d,f,g;if(o)if((d=o[0])!==Me)f=o[1];else{var m=o;(d=m.x)===Me&&(d=(m=se.read(arguments)).x),f=m.y,g=m.selected}else d=f=0;this._x=d,this._y=f,this._owner=u,u[c]=this,g&&this.setSelected(!0)},_set:function(r,o){return this._x=r,this._y=o,this._owner._changed(this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner._changed(this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner._changed(this)},isZero:function(){var r=gt.isZero;return r(this._x)&&r(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){var r=this._owner;return this===r._point?1:this===r._handleIn?2:this===r._handleOut?4:0}}),Pe=re.extend({_class:"Curve",beans:!0,initialize:function(o,u,c,d,f,g,m,v){var x,w,C,D,R,k,b=arguments.length;3===b?(this._path=o,x=u,w=c):b?1===b?"segment1"in o?(x=new at(o.segment1),w=new at(o.segment2)):"point1"in o?(C=o.point1,R=o.handle1,k=o.handle2,D=o.point2):Array.isArray(o)&&(C=[o[0],o[1]],D=[o[6],o[7]],R=[o[2]-o[0],o[3]-o[1]],k=[o[4]-o[6],o[5]-o[7]]):2===b?(x=new at(o),w=new at(u)):4===b?(C=o,R=u,k=c,D=d):8===b&&(C=[o,u],D=[m,v],R=[c-o,d-u],k=[f-m,g-v]):(x=new at,w=new at),this._segment1=x||new at(C,null,R),this._segment2=w||new at(D,k,null)},_serialize:function(r,o){return re.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],r,!0,o)},_changed:function(){this._length=this._bounds=Me},clone:function(){return new Pe(this._segment1,this._segment2)},toString:function(){var r=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||r.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||r.push("handle2: "+this._segment2._handleIn),r.push("point2: "+this._segment2._point),"{ "+r.join(", ")+" }"},classify:function(){return Pe.classify(this.getValues())},remove:function(){var r=!1;if(this._path){var o=this._segment2,u=o._handleOut;(r=o.remove())&&this._segment1._handleOut.set(u)}return r},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(se.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(se.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(se.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(se.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index+1]||this._path._closed&&r[0])||null},getPrevious:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var r=this._path;return r&&this._segment1._index===r._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(r){this.getPoint1().setSelected(r),this.getHandle1().setSelected(r),this.getHandle2().setSelected(r),this.getPoint2().setSelected(r)},getValues:function(r){return Pe.getValues(this._segment1,this._segment2,r)},getPoints:function(){for(var r=this.getValues(),o=[],u=0;u<8;u+=2)o.push(new se(r[u],r[u+1]));return o}},{getLength:function(){return null==this._length&&(this._length=Pe.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Pe.getArea(this.getValues())},getLine:function(){return new hn(this._segment1._point,this._segment2._point)},getPart:function(r,o){return new Pe(Pe.getPart(this.getValues(),r,o))},getPartLength:function(r,o){return Pe.getLength(this.getValues(),r,o)},divideAt:function(r){return this.divideAtTime(r&&r.curve===this?r.time:this.getTimeAt(r))},divideAtTime:function(r,o){var d=null;if(r>=1e-8&&r<=.99999999){var f=Pe.subdivide(this.getValues(),r),g=f[0],m=f[1],v=o||this.hasHandles(),b=this._segment1,x=this._segment2,w=this._path;v&&(b._handleOut._set(g[2]-g[0],g[3]-g[1]),x._handleIn._set(m[4]-m[6],m[5]-m[7]));var C=g[6],D=g[7],R=new at(new se(C,D),v&&new se(g[4]-C,g[5]-D),v&&new se(m[2]-C,m[3]-D));w?(w.insert(b._index+1,R),d=this.getNext()):(this._segment2=R,this._changed(),d=new Pe(R,x))}return d},splitAt:function(r){var o=this._path;return o?o.splitAt(r):null},splitAtTime:function(r){return this.splitAt(this.getLocationAtTime(r))},divide:function(r,o){return this.divideAtTime(r===Me?.5:o?r:this.getTimeAt(r))},split:function(r,o){return this.splitAtTime(r===Me?.5:o?r:this.getTimeAt(r))},reversed:function(){return new Pe(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(r,o,u,c){var d=r._point,f=r._handleOut,g=o._handleIn,m=o._point,v=d.x,b=d.y,x=m.x,w=m.y,C=c?[v,b,v,b,x,w,x,w]:[v,b,v+f._x,b+f._y,x+g._x,w+g._y,x,w];return u&&u._transformCoordinates(C,C,4),C},subdivide:function(r,o){var u=r[0],c=r[1],d=r[2],f=r[3],g=r[4],m=r[5],v=r[6],b=r[7];o===Me&&(o=.5);var x=1-o,w=x*u+o*d,C=x*c+o*f,D=x*d+o*g,R=x*f+o*m,k=x*g+o*v,P=x*m+o*b,I=x*w+o*D,E=x*C+o*R,S=x*D+o*k,A=x*R+o*P,O=x*I+o*S,L=x*E+o*A;return[[u,c,w,C,I,E,O,L],[O,L,S,A,k,P,v,b]]},getMonoCurves:function(r,o){var u=[],c=o?0:1,d=r[c+0],f=r[c+2],g=r[c+4],m=r[c+6];if(d>=f==f>=g&&f>=g==g>=m||Pe.isStraight(r))u.push(r);else{var D=[],R=gt.solveQuadratic(3*(f-g)-d+m,2*(d+g)-4*f,f-d,D,1e-8,.99999999);if(R){D.sort();var k=D[0],P=Pe.subdivide(r,k);u.push(P[0]),R>1&&(P=Pe.subdivide(P[1],k=(D[1]-k)/(1-k)),u.push(P[0])),u.push(P[1])}else u.push(r)}return u},solveCubic:function(r,o,u,c,d,f){var g=r[o],m=r[o+2],v=r[o+4],b=r[o+6],x=0;if(!(g<u&&b<u&&m<u&&v<u||g>u&&b>u&&m>u&&v>u)){var w=3*(m-g),C=3*(v-m)-w;x=gt.solveCubic(b-g-w-C,C,w,g-u,c,d,f)}return x},getTimeOf:function(r,o){var u=new se(r[0],r[1]),c=new se(r[6],r[7]),f=1e-7;if(null===(o.isClose(u,1e-12)?0:o.isClose(c,1e-12)?1:null))for(var m=[o.x,o.y],v=[],b=0;b<2;b++)for(var x=Pe.solveCubic(r,b,m[b],v,0,1),w=0;w<x;w++){var C=v[w];if(o.isClose(Pe.getPoint(r,C),f))return C}return o.isClose(u,f)?0:o.isClose(c,f)?1:null},getNearestTime:function(r,o){if(Pe.isStraight(r)){var u=r[0],c=r[1],g=r[6]-u,m=r[7]-c,v=g*g+m*m;if(0===v)return 0;var b=((o.x-u)*g+(o.y-c)*m)/v;return b<1e-12?0:b>.999999999999?1:Pe.getTimeOf(r,new se(u+b*g,c+b*m))}var w=1/0,C=0;function D(P){if(P>=0&&P<=1){var I=o.getDistance(Pe.getPoint(r,P),!0);if(I<w)return w=I,C=P,!0}}for(var R=0;R<=100;R++)D(R/100);for(var k=.005;k>1e-8;)!D(C-k)&&!D(C+k)&&(k/=2);return C},getPart:function(r,o,u){var c=o>u;if(c){var d=o;o=u,u=d}return o>0&&(r=Pe.subdivide(r,o)[1]),u<1&&(r=Pe.subdivide(r,(u-o)/(1-o))[0]),c?[r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]]:r},isFlatEnough:function(r,o){var u=r[0],c=r[1],v=r[6],b=r[7],x=3*r[2]-2*u-v,w=3*r[3]-2*c-b,C=3*r[4]-2*v-u,D=3*r[5]-2*b-c;return Math.max(x*x,C*C)+Math.max(w*w,D*D)<=16*o*o},getArea:function(r){var o=r[0],u=r[1],c=r[2],d=r[3],f=r[4],g=r[5],m=r[6],v=r[7];return 3*((v-u)*(c+f)-(m-o)*(d+g)+d*(o-f)-c*(u-g)+v*(f+o/3)-m*(g+u/3))/20},getBounds:function(r){for(var o=r.slice(0,2),u=o.slice(),c=[0,0],d=0;d<2;d++)Pe._addBounds(r[d],r[d+2],r[d+4],r[d+6],d,0,o,u,c);return new nt(o[0],o[1],u[0]-o[0],u[1]-o[1])},_addBounds:function(r,o,u,c,d,f,g,m,v){function b(O,L){var N=O-L,B=O+L;N<g[d]&&(g[d]=N),B>m[d]&&(m[d]=B)}var x=g[d]+(f/=2),w=m[d]-f;if(r<x||o<x||u<x||c<x||r>w||o>w||u>w||c>w)if(o<r!=o<c&&u<r!=u<c)b(r,0),b(c,0);else{var k=gt.solveQuadratic(3*(o-u)-r+c,2*(r+u)-4*o,o-r,v);b(c,0);for(var E=0;E<k;E++){var S=v[E],A=1-S;1e-8<=S&&S<=.99999999&&b(A*A*A*r+3*A*A*S*o+3*A*S*S*u+S*S*S*c,f)}}}}},re.each(["getBounds","getStrokeBounds","getHandleBounds"],function(r){this[r]=function(){this._bounds||(this._bounds={});var o=this._bounds[r];return o||(o=this._bounds[r]=yt[r]([this._segment1,this._segment2],!1,this._path)),o.clone()}},{}),re.each({isStraight:function(r,o,u,c){if(o.isZero()&&u.isZero())return!0;var d=c.subtract(r);if(d.isZero())return!1;if(d.isCollinear(o)&&d.isCollinear(u)){var f=new hn(r,c);if(f.getDistance(r.add(o))<1e-7&&f.getDistance(c.add(u))<1e-7){var m=d.dot(d),v=d.dot(o)/m,b=d.dot(u)/m;return v>=0&&v<=1&&b<=0&&b>=-1}}return!1},isLinear:function(r,o,u,c){var d=c.subtract(r).divide(3);return o.equals(d)&&u.negate().equals(d)}},function(r,o){this[o]=function(u){var c=this._segment1,d=this._segment2;return r(c._point,c._handleOut,d._handleIn,d._point,u)},this.statics[o]=function(u,c){var d=u[0],f=u[1],g=u[6],m=u[7];return r(new se(d,f),new se(u[2]-d,u[3]-f),new se(u[4]-g,u[5]-m),new se(g,m),c)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(r){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(r||0)},isCollinear:function(r){return r&&this.isStraight()&&r.isStraight()&&this.getLine().isCollinear(r.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(r,o){return this.getLocationAtTime(o?r:this.getTimeAt(r))},getLocationAtTime:function(r){return null!=r&&r>=0&&r<=1?new Bn(this,r):null},getTimeAt:function(r,o){return Pe.getTimeAt(this.getValues(),r,o)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var r=se.read(arguments);return r.isZero()?[]:Pe.getTimesWithTangent(this.getValues(),r)},getOffsetAtTime:function(r){return this.getPartLength(0,r)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(se.read(arguments)))},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getTimeOf:function(){return Pe.getTimeOf(this.getValues(),se.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var r=se.read(arguments),o=this.getValues(),u=Pe.getNearestTime(o,r),c=Pe.getPoint(o,u);return new Bn(this,u,c,null,r.getDistance(c))},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()}},new function(){var r=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return re.each(r,function(o){this[o+"At"]=function(u,c){var d=this.getValues();return Pe[o](d,c?u:Pe.getTimeAt(d,u))},this[o+"AtTime"]=function(u){return Pe[o](this.getValues(),u)}},{statics:{_evaluateMethods:r}})},new function(){function r(c){var d=c[0],f=c[1],g=c[2],m=c[3],v=c[4],b=c[5],C=9*(g-v)+3*(c[6]-d),D=6*(d+v)-12*g,R=3*(g-d),k=9*(m-b)+3*(c[7]-f),P=6*(f+b)-12*m,I=3*(m-f);return function(E){var S=(C*E+D)*E+R,A=(k*E+P)*E+I;return Math.sqrt(S*S+A*A)}}function o(c,d){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(d-c))))}function u(c,d,f,g){if(null==d||d<0||d>1)return null;var m=c[0],v=c[1],b=c[2],x=c[3],w=c[4],C=c[5],D=c[6],R=c[7],k=gt.isZero;k(b-m)&&k(x-v)&&(b=m,x=v),k(w-D)&&k(C-R)&&(w=D,C=R);var L,N,P=3*(b-m),I=3*(w-b)-P,E=D-m-P-I,S=3*(x-v),A=3*(C-x)-S,O=R-v-S-A;if(0===f)L=0===d?m:1===d?D:((E*d+I)*d+P)*d+m,N=0===d?v:1===d?R:((O*d+A)*d+S)*d+v;else{var B=1e-8,V=1-B;if(d<B?(L=P,N=S):d>V?(L=3*(D-w),N=3*(R-C)):(L=(3*E*d+2*I)*d+P,N=(3*O*d+2*A)*d+S),g){0===L&&0===N&&(d<B||d>V)&&(L=w-b,N=C-x);var H=Math.sqrt(L*L+N*N);H&&(L/=H,N/=H)}if(3===f){w=6*E*d+2*I,C=6*O*d+2*A;var G=Math.pow(L*L+N*N,1.5);L=0!==G?(L*C-N*w)/G:0,N=0}}return 2===f?new se(N,-L):new se(L,N)}return{statics:{classify:function(c){var d=c[0],f=c[1],g=c[2],m=c[3],v=c[4],b=c[5],x=c[6],w=c[7],D=g*(f-w)+m*(x-d)+d*w-f*x,k=3*(v*(m-f)+b*(d-g)+g*f-m*d),P=k-D,I=P-D+(d*(w-b)+f*(v-x)+x*b-w*v),E=Math.sqrt(I*I+P*P+k*k),S=0!==E?1/E:0,A=gt.isZero,O="serpentine";function L(H,G,U){var $=G!==Me,q=$&&G>0&&G<1,K=$&&U>0&&U<1;return $&&(!(q||K)||"loop"===H&&!(q&&K))&&(H="arch",q=K=!1),{type:H,roots:q||K?q&&K?G<U?[G,U]:[U,G]:[q?G:U]:null}}if(P*=S,k*=S,A(I*=S))return A(P)?L(A(k)?"line":"quadratic"):L(O,k/(3*P));var N=3*P*P-4*I*k;if(A(N))return L("cusp",P/(2*I));var B=N>0?Math.sqrt(N/3):Math.sqrt(-N),V=2*I;return L(N>0?O:"loop",(P+B)/V,(P-B)/V)},getLength:function(c,d,f,g){if(d===Me&&(d=0),f===Me&&(f=1),Pe.isStraight(c)){var m=c;f<1&&(m=Pe.subdivide(m,f)[0],d/=f),d>0&&(m=Pe.subdivide(m,d)[1]);var v=m[6]-m[0],b=m[7]-m[1];return Math.sqrt(v*v+b*b)}return gt.integrate(g||r(c),d,f,o(d,f))},getTimeAt:function(c,d,f){if(f===Me&&(f=d<0?1:0),0===d)return f;var g=Math.abs,v=d>0,b=v?f:0,x=v?1:f,w=r(c),C=Pe.getLength(c,b,x,w),D=g(d)-C;if(g(D)<1e-12)return v?x:b;if(D>1e-12)return null;var k=0;return gt.findRoot(function P(I){return k+=gt.integrate(w,f,I,o(f,I)),f=I,k-d},w,f+d/C,b,x,32,1e-12)},getPoint:function(c,d){return u(c,d,0,!1)},getTangent:function(c,d){return u(c,d,1,!0)},getWeightedTangent:function(c,d){return u(c,d,1,!1)},getNormal:function(c,d){return u(c,d,2,!0)},getWeightedNormal:function(c,d){return u(c,d,2,!1)},getCurvature:function(c,d){return u(c,d,3,!1).x},getPeaks:function(c){var d=c[0],f=c[1],g=c[2],m=c[3],v=c[4],b=c[5],C=3*g-d-3*v+c[6],D=3*d-6*g+3*v,R=-3*d+3*g,k=3*m-f-3*b+c[7],P=3*f-6*m+3*b,I=-3*f+3*m,A=[];return gt.solveCubic(9*(C*C+k*k),9*(C*D+P*k),2*(D*D+P*P)+3*(R*C+I*k),R*D+P*I,A,1e-8,.99999999),A.sort()}}}},new function(){function r(D,R,k,P,I,E,S){var A=!S&&k.getPrevious()===I,O=!S&&k!==I&&k.getNext()===I,L=1e-8,N=1-L;if(null!==P&&P>=(A?L:0)&&P<=(O?N:1)&&null!==E&&E>=(O?L:0)&&E<=(A?N:1)){var B=new Bn(k,P,null,S),V=new Bn(I,E,null,S);B._intersection=V,V._intersection=B,(!R||R(B))&&Bn.insert(D,B,!0)}}function o(D,R,k,P,I,E,S,A,O,L,N,B,V){if(++O>=4096||++A>=40)return O;var Ne,ze,G=R[0],U=R[1],$=R[6],q=R[7],K=hn.getSignedDistance,X=K(G,U,$,q,R[2],R[3]),ee=K(G,U,$,q,R[4],R[5]),ue=X*ee>0?3/4:4/9,fe=ue*Math.min(0,X,ee),ve=ue*Math.max(0,X,ee),_e=K(G,U,$,q,D[0],D[1]),he=K(G,U,$,q,D[2],D[3]),de=K(G,U,$,q,D[4],D[5]),ce=K(G,U,$,q,D[6],D[7]),be=function u(D,R,k,P){var N,I=[0,D],E=[1/3,R],S=[2/3,k],A=[1,P],O=R-(2*D+P)/3,L=k-(D+2*P)/3;if(O*L<0)N=[[I,E,A],[I,S,A]];else{var B=O/L;N=[B>=2?[I,E,A]:B<=.5?[I,S,A]:[I,E,S,A],[I,A]]}return(O||L)<0?N.reverse():N}(_e,he,de,ce),De=be[0],ke=be[1];if(0===X&&0===ee&&0===_e&&0===he&&0===de&&0===ce||null==(Ne=c(De,ke,fe,ve))||null==(ze=c(De.reverse(),ke.reverse(),fe,ve)))return O;var He=L+(N-L)*Ne,Je=L+(N-L)*ze;if(Math.max(V-B,Je-He)<1e-9){var Vt=(He+Je)/2,ct=(B+V)/2;r(I,E,S?P:k,S?ct:Vt,S?k:P,S?Vt:ct)}else{D=Pe.getPart(D,Ne,ze);var xt=V-B;if(ze-Ne>.8)if(Je-He>xt)O=o(R,(pt=Pe.subdivide(D,.5))[0],P,k,I,E,!S,A,O,B,V,He,Vt=(He+Je)/2),O=o(R,pt[1],P,k,I,E,!S,A,O,B,V,Vt,Je);else{var pt;O=o((pt=Pe.subdivide(R,.5))[0],D,P,k,I,E,!S,A,O,B,ct=(B+V)/2,He,Je),O=o(pt[1],D,P,k,I,E,!S,A,O,ct,V,He,Je)}else O=0===xt||xt>=1e-9?o(R,D,P,k,I,E,!S,A,O,B,V,He,Je):o(D,R,k,P,I,E,S,A,O,He,Je,B,V)}return O}function c(D,R,k,P){return D[0][1]<k?d(D,!0,k):R[0][1]>P?d(R,!1,P):D[0][0]}function d(D,R,k){for(var P=D[0][0],I=D[0][1],E=1,S=D.length;E<S;E++){var A=D[E][0],O=D[E][1];if(R?O>=k:O<=k)return O===k?A:P+(k-I)*(A-P)/(O-I);P=A,I=O}return null}function f(D,R,k,P,I){var E=gt.isZero;if(E(P)&&E(I)){var S=Pe.getTimeOf(D,new se(R,k));return null===S?[]:[S]}for(var A=Math.atan2(-I,P),O=Math.sin(A),L=Math.cos(A),N=[],B=[],V=0;V<8;V+=2){var H=D[V]-R,G=D[V+1]-k;N.push(H*L-G*O,H*O+G*L)}return Pe.solveCubic(N,1,0,B,0,1),B}function g(D,R,k,P,I,E,S){for(var A=R[0],O=R[1],B=f(D,A,O,R[6]-A,R[7]-O),V=0,H=B.length;V<H;V++){var G=B[V],U=Pe.getPoint(D,G),$=Pe.getTimeOf(R,U);null!==$&&r(I,E,S?P:k,S?$:G,S?k:P,S?G:$)}}function m(D,R,k,P,I,E){var S=hn.intersect(D[0],D[1],D[6],D[7],R[0],R[1],R[6],R[7]);S&&r(I,E,k,Pe.getTimeOf(D,S),P,Pe.getTimeOf(R,S))}function v(D,R,k,P,I,E){var S=1e-12,A=Math.min,O=Math.max;if(O(D[0],D[2],D[4],D[6])+S>A(R[0],R[2],R[4],R[6])&&A(D[0],D[2],D[4],D[6])-S<O(R[0],R[2],R[4],R[6])&&O(D[1],D[3],D[5],D[7])+S>A(R[1],R[3],R[5],R[7])&&A(D[1],D[3],D[5],D[7])-S<O(R[1],R[3],R[5],R[7])){var L=w(D,R);if(L)for(var N=0;N<2;N++){var B=L[N];r(I,E,k,B[0],P,B[1],!0)}else{var V=Pe.isStraight(D),H=Pe.isStraight(R),G=V&&H,U=V&&!H,$=I.length;if((G?m:V||H?g:o)(U?R:D,U?D:R,U?P:k,U?k:P,I,E,U,0,0,0,1,0,1),!G||I.length===$)for(N=0;N<4;N++){var q=N>>1,K=1&N,X=6*q,ee=6*K,ue=new se(D[X],D[X+1]),fe=new se(R[ee],R[ee+1]);ue.isClose(fe,S)&&r(I,E,k,q,P,K)}}}return I}function b(D,R,k,P){var I=Pe.classify(D);if("loop"===I.type){var E=I.roots;r(k,P,R,E[0],R,E[1])}return k}function w(D,R){function k(ce){var be=ce[6]-ce[0],De=ce[7]-ce[1];return be*be+De*De}var P=Math.abs,I=hn.getDistance,S=1e-7,A=Pe.isStraight(D),O=Pe.isStraight(R),L=A&&O,N=k(D)<k(R),B=N?R:D,V=N?D:R,H=B[0],G=B[1],U=B[6]-H,$=B[7]-G;if(I(H,G,U,$,V[0],V[1],!0)<S&&I(H,G,U,$,V[6],V[7],!0)<S)!L&&I(H,G,U,$,B[2],B[3],!0)<S&&I(H,G,U,$,B[4],B[5],!0)<S&&I(H,G,U,$,V[2],V[3],!0)<S&&I(H,G,U,$,V[4],V[5],!0)<S&&(A=O=L=!0);else if(L)return null;if(A^O)return null;for(var q=[D,R],K=[],X=0;X<4&&K.length<2;X++){var ee=1&X,ue=1^ee,fe=X>>1,ve=Pe.getTimeOf(q[ee],new se(q[ue][fe?6:0],q[ue][fe?7:1]));if(null!=ve){var _e=ee?[fe,ve]:[ve,fe];(!K.length||P(_e[0]-K[0][0])>1e-8&&P(_e[1]-K[0][1])>1e-8)&&K.push(_e)}if(X>2&&!K.length)break}if(2!==K.length)K=null;else if(!L){var he=Pe.getPart(D,K[0][0],K[1][0]),de=Pe.getPart(R,K[0][1],K[1][1]);(P(de[2]-he[2])>S||P(de[3]-he[3])>S||P(de[4]-he[4])>S||P(de[5]-he[5])>S)&&(K=null)}return K}return{getIntersections:function(D){var R=this.getValues(),k=D&&D!==this&&D.getValues();return k?v(R,k,this,D,[]):b(R,this,[])},statics:{getOverlaps:w,getIntersections:function x(D,R,k,P,I,E){var A=!R;A&&(R=D);for(var O=D.length,L=R.length,N=new Array(O),B=A?N:new Array(L),V=[],H=0;H<O;H++)N[H]=D[H].getValues(P);if(!A)for(H=0;H<L;H++)B[H]=R[H].getValues(I);for(var G=yn.findCurveBoundsCollisions(N,B,1e-7),U=0;U<O;U++){var $=D[U],q=N[U];A&&b(q,$,V,k);var K=G[U];if(K)for(var X=0;X<K.length;X++){if(E&&V.length)return V;var ee=K[X];(!A||ee>U)&&v(q,B[ee],$,R[ee],V,k)}}return V},getCurveLineIntersections:f,getTimesWithTangent:function C(D,R){var k=D[0],P=D[1],I=D[2],E=D[3],S=D[4],A=D[5],O=D[6],L=D[7],N=R.normalize(),B=N.x,V=N.y,H=3*O-9*S+9*I-3*k,G=3*L-9*A+9*E-3*P,U=6*S-12*I+6*k,$=6*A-12*E+6*P,q=3*I-3*k,K=3*E-3*P,X=2*H*V-2*G*B,ee=[];if(Math.abs(X)<gt.CURVETIME_EPSILON){if(0!=(X=H*$-G*U)){var fe=-(H*K-G*q)/X;fe>=0&&fe<=1&&ee.push(fe)}}else{var ve=(U*U-4*H*q)*V*V+(-2*U*$+4*G*q+4*H*K)*B*V+($*$-4*G*K)*B*B,_e=U*V-$*B;if(ve>=0&&0!=X){var he=Math.sqrt(ve),de=-(_e+he)/X,ce=(-_e+he)/X;de>=0&&de<=1&&ee.push(de),ce>=0&&ce<=1&&ee.push(ce)}}return ee}}}}),Bn=re.extend({_class:"CurveLocation",initialize:function(o,u,c,d,f){if(u>=.99999999){var g=o.getNext();g&&(u=0,o=g)}this._setCurve(o),this._time=u,this._point=c||o.getPointAtTime(u),this._overlap=d,this._distance=f,this._intersection=this._next=this._previous=null},_setPath:function(r){this._path=r,this._version=r?r._version:0},_setCurve:function(r){this._setPath(r._path),this._curve=r,this._segment=null,this._segment1=r._segment1,this._segment2=r._segment2},_setSegment:function(r){var o=r.getCurve();o?this._setCurve(o):(this._setPath(r._path),this._segment1=r,this._segment2=null),this._segment=r,this._time=r===this._segment1?0:1,this._point=r._point.clone()},getSegment:function(){var r=this._segment;if(!r){var o=this.getCurve(),u=this.getTime();0===u?r=o._segment1:1===u?r=o._segment2:null!=u&&(r=o.getPartLength(0,u)<o.getPartLength(u,1)?o._segment1:o._segment2),this._segment=r}return r},getCurve:function(){var r=this._path,o=this;function u(c){var d=c&&c.getCurve();if(d&&null!=(o._time=d.getTimeOf(o._point)))return o._setCurve(d),d}return r&&r._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||u(this._segment)||u(this._segment1)||u(this._segment2.getPrevious())},getPath:function(){var r=this.getCurve();return r&&r._path},getIndex:function(){var r=this.getCurve();return r&&r.getIndex()},getTime:function(){var r=this.getCurve(),o=this._time;return r&&null==o?this._time=r.getTimeOf(this._point):o},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var r=this._offset;if(null==r){r=0;var o=this.getPath(),u=this.getIndex();if(o&&null!=u)for(var c=o.getCurves(),d=0;d<u;d++)r+=c[d].getLength();this._offset=r+=this.getCurveOffset()}return r},getCurveOffset:function(){var r=this._curveOffset;if(null==r){var o=this.getCurve(),u=this.getTime();this._curveOffset=r=null!=u&&o&&o.getPartLength(0,u)}return r},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var r=this.getCurve(),o=r&&r.divideAtTime(this.getTime());return o&&this._setSegment(o._segment1),o},split:function(){var r=this.getCurve(),o=r._path,u=r&&r.splitAtTime(this.getTime());return u&&this._setSegment(o.getLastSegment()),u},equals:function(r,o){var u=this===r;if(!u&&r instanceof Bn){var c=this.getCurve(),d=r.getCurve(),f=c._path;if(f===d._path){var m=Math.abs,b=m(this.getOffset()-r.getOffset()),x=!o&&this._intersection,w=!o&&r._intersection;u=(b<1e-7||f&&m(f.getLength()-b)<1e-7)&&(!x&&!w||x&&w&&x.equals(w,!0))}}return u},toString:function(){var r=[],o=this.getPoint(),u=Ue.instance;o&&r.push("point: "+o);var c=this.getIndex();null!=c&&r.push("index: "+c);var d=this.getTime();return null!=d&&r.push("time: "+u.number(d)),null!=this._distance&&r.push("distance: "+u.number(this._distance)),"{ "+r.join(", ")+" }"},isTouching:function(){var r=this._intersection;if(r&&this.getTangent().isCollinear(r.getTangent())){var o=this.getCurve(),u=r.getCurve();return!(o.isStraight()&&u.isStraight()&&o.getLine().intersect(u.getLine()))}return!1},isCrossing:function(){var r=this._intersection;if(!r)return!1;var o=this.getTime(),u=r.getTime(),c=1e-8,d=1-c,f=o>=c&&o<=d,g=u>=c&&u<=d;if(f&&g)return!this.isTouching();var m=this.getCurve(),v=m&&o<c?m.getPrevious():m,b=r.getCurve(),x=b&&u<c?b.getPrevious():b;if(o>d&&(m=m.getNext()),u>d&&(b=b.getNext()),!(v&&m&&x&&b))return!1;var w=[];function C(B,V){var H=B.getValues(),G=Pe.classify(H).roots||Pe.getPeaks(H),U=G.length,$=Pe.getLength(H,V&&U?G[U-1]:0,!V&&U?G[0]:1);w.push(U?$:$/32)}function D(B,V,H){return V<H?B>V&&B<H:B>V||B<H}f||(C(v,!0),C(m,!1)),g||(C(x,!0),C(b,!1));var R=this.getPoint(),k=Math.min.apply(Math,w),P=f?m.getTangentAtTime(o):m.getPointAt(k).subtract(R),I=f?P.negate():v.getPointAt(-k).subtract(R),E=g?b.getTangentAtTime(u):b.getPointAt(k).subtract(R),S=g?E.negate():x.getPointAt(-k).subtract(R),A=I.getAngle(),O=P.getAngle(),L=S.getAngle(),N=E.getAngle();return!!(f?D(A,L,N)^D(O,L,N)&&D(A,N,L)^D(O,N,L):D(L,A,O)^D(N,A,O)&&D(L,O,A)^D(N,O,A))},hasOverlap:function(){return!!this._overlap}},re.each(Pe._evaluateMethods,function(r){var o=r+"At";this[r]=function(){var u=this.getCurve(),c=this.getTime();return null!=c&&u&&u[o](c,!0)}},{preserve:!0}),new function(){function r(o,u,c){var d=o.length,f=0,g=d-1;function m(R,k){for(var P=R+k;P>=-1&&P<=d;P+=k){var I=o[(P%d+d)%d];if(!u.getPoint().isClose(I.getPoint(),1e-7))break;if(u.equals(I))return I}return null}for(;f<=g;){var x,v=f+g>>>1,b=o[v];if(c&&(x=u.equals(b)?b:m(v,-1)||m(v,1)))return u._overlap&&(x._overlap=x._intersection._overlap=!0),x;var w=u.getPath(),C=b.getPath();(w!==C?w._id-C._id:u.getIndex()+u.getTime()-(b.getIndex()+b.getTime()))<0?g=v-1:f=v+1}return o.splice(f,0,u),u}return{statics:{insert:r,expand:function(o){for(var u=o.slice(),c=o.length-1;c>=0;c--)r(u,o[c]._intersection,!1);return u}}}}),$e=tt.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(r){var o,u,c;if(re.isPlainObject(r)?(u=r.segments,o=r.pathData):Array.isArray(r)?u=r:"string"==typeof r&&(o=r),u){var d=u[0];c=d&&Array.isArray(d[0])}else o&&(c=(o.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(o));return new(c?vi:yt)(r)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(r){this.isClockwise()!=(r=!!r)&&this.reverse()},setPathData:function(r){var u,d,f,o=r&&r.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),c=!1,g=new se,m=new se;function v(S,A){var O=+u[S];return c&&(O+=g[A]),O}function b(S){return new se(v(S,"x"),v(S+1,"y"))}this.clear();for(var x=0,w=o&&o.length;x<w;x++){var C=o[x],D=C[0],R=D.toLowerCase(),k=(u=C.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&u.length;switch(c=D===R,"z"===d&&!/[mz]/.test(R)&&this.moveTo(g),R){case"m":case"l":for(var P="m"===R,I=0;I<k;I+=2)this[P?"moveTo":"lineTo"](g=b(I)),P&&(m=g,P=!1);f=g;break;case"h":case"v":var E="h"===R?"x":"y";for(g=g.clone(),I=0;I<k;I++)g[E]=v(I,E),this.lineTo(g);f=g;break;case"c":for(I=0;I<k;I+=6)this.cubicCurveTo(b(I),f=b(I+2),g=b(I+4));break;case"s":for(I=0;I<k;I+=4)this.cubicCurveTo(/[cs]/.test(d)?g.multiply(2).subtract(f):g,f=b(I),g=b(I+2)),d=R;break;case"q":for(I=0;I<k;I+=4)this.quadraticCurveTo(f=b(I),g=b(I+2));break;case"t":for(I=0;I<k;I+=2)this.quadraticCurveTo(f=/[qt]/.test(d)?g.multiply(2).subtract(f):g,g=b(I)),d=R;break;case"a":for(I=0;I<k;I+=7)this.arcTo(g=b(I+5),new Ae(+u[I],+u[I+1]),+u[I+2],+u[I+4],+u[I+3]);break;case"z":this.closePath(1e-12),g=m}d=R}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(r){var o=r.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(r):{};return o.onPath||!!("evenodd"===this.getFillRule()?1&o.windingL||1&o.windingR:o.winding)},getIntersections:function(r,o,u,c){var d=this===r||!r,f=this._matrix._orNullIfIdentity(),g=d?f:(u||r._matrix)._orNullIfIdentity();return d||this.getBounds(f).intersects(r.getBounds(g),1e-12)?Pe.getIntersections(this.getCurves(),!d&&r.getCurves(),o,f,g,c):[]},getCrossings:function(r){return this.getIntersections(r,function(o){return o.isCrossing()})},getNearestLocation:function(){for(var r=se.read(arguments),o=this.getCurves(),u=1/0,c=null,d=0,f=o.length;d<f;d++){var g=o[d].getNearestLocation(r);g._distance<u&&(u=g._distance,c=g)}return c},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()},interpolate:function(r,o,u){var c=!this._children,d=c?"_segments":"_children",f=r[d],g=o[d],m=this[d];if(!f||!g||f.length!==g.length)throw new Error("Invalid operands in interpolate() call: "+r+", "+o);var v=m.length,b=g.length;if(v<b)for(var x=c?at:yt,w=v;w<b;w++)this.add(new x);else v>b&&this[c?"removeSegments":"removeChildren"](b,v);for(w=0;w<b;w++)m[w].interpolate(f[w],g[w],u);c&&(this.setClosed(r._closed),this._changed(9))},compare:function(r){var o=!1;if(r){var u=this._children||[this],c=r._children?r._children.slice():[r],d=u.length,f=c.length,g=[],m=0;o=!0;for(var v=yn.findItemBoundsCollisions(u,c,gt.GEOMETRIC_EPSILON),b=d-1;b>=0&&o;b--){var x=u[b];o=!1;var w=v[b];if(w)for(var C=w.length-1;C>=0&&!o;C--)x.compare(c[w[C]])&&(g[w[C]]||(g[w[C]]=!0,m++),o=!0)}o=o&&m===f}return o}}),yt=$e.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(o){this._closed=!1,this._segments=[],this._version=0;var u=arguments,c=Array.isArray(o)?"object"==typeof o[0]?o:u:!o||o.size!==Me||o.x===Me&&o.point===Me?null:u;c&&c.length>0?this.setSegments(c):(this._curves=Me,this._segmentSelection=0,!c&&"string"==typeof o&&(this.setPathData(o),o=null)),this._initialize(!c&&o)},_equals:function(r){return this._closed===r._closed&&re.equals(this._segments,r._segments)},copyContent:function(r){this.setSegments(r._segments),this._closed=r._closed},_changed:function r(o){if(r.base.call(this,o),8&o){if(this._length=this._area=Me,32&o)this._version++;else if(this._curves)for(var u=0,c=this._curves.length;u<c;u++)this._curves[u]._changed()}else 64&o&&(this._bounds=Me)},getStyle:function(){var r=this._parent;return(r instanceof vi?r:this)._style},getSegments:function(){return this._segments},setSegments:function(r){var o=this.isFullySelected(),u=r&&r.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=Me,u){var c=r[u-1];"boolean"==typeof c&&(this.setClosed(c),u--),this._add(at.readList(r,0,{},u))}o&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var r=this._curves,o=this._segments;if(!r){var u=this._countCurves();r=this._curves=new Array(u);for(var c=0;c<u;c++)r[c]=new Pe(this,o[c],o[c+1]||o[0])}return r},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var r=this.getCurves();return r[r.length-1]},isClosed:function(){return this._closed},setClosed:function(r){if(this._closed!=(r=!!r)){if(this._closed=r,this._curves){var o=this._curves.length=this._countCurves();r&&(this._curves[o-1]=new Pe(this,this._segments[o-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(r,o){var m,v,b,x,w,C,D,R,u=this._segments,c=u.length,d=new Ue(o),f=new Array(6),g=!0,k=[];function P(E,S){if(E._transformCoordinates(r,f),m=f[0],v=f[1],g)k.push("M"+d.pair(m,v)),g=!1;else if(C=f[3],(w=f[2])===m&&C===v&&D===b&&R===x){if(!S){var A=m-b,O=v-x;k.push(0===A?"v"+d.number(O):0===O?"h"+d.number(A):"l"+d.pair(A,O))}}else k.push("c"+d.pair(D-b,R-x)+" "+d.pair(w-b,C-x)+" "+d.pair(m-b,v-x));b=m,x=v,D=f[4],R=f[5]}if(!c)return"";for(var I=0;I<c;I++)P(u[I]);return this._closed&&c>0&&(P(u[0],!0),k.push("z")),k.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(r){for(var o=this._segments,u=new Array(6),c=0,d=o.length;c<d;c++)o[c]._transformCoordinates(r,u,!0);return!0},_add:function(r,g){for(var u=this._segments,c=this._curves,d=r.length,f=null==g,m=(g=f?u.length:g,0);m<d;m++){var v=r[m];v._path&&(v=r[m]=v.clone()),v._path=this,v._index=g+m,v._selection&&this._updateSelection(v,0,v._selection)}if(f)re.push(u,r);else{u.splice.apply(u,[g,0].concat(r)),m=g+d;for(var b=u.length;m<b;m++)u[m]._index=m}if(c){var x=this._countCurves(),w=g>0&&g+d-1===x?g-1:g,C=w,D=Math.min(w+d,x);for(r._curves&&(c.splice.apply(c,[w,0].concat(r._curves)),C+=r._curves.length),m=C;m<D;m++)c.splice(m,0,new Pe(this,null,null));this._adjustCurves(w,D)}return this._changed(41),r},_adjustCurves:function(r,o){for(var d,u=this._segments,c=this._curves,f=r;f<o;f++)(d=c[f])._path=this,d._segment1=u[f],d._segment2=u[f+1]||u[0],d._changed();(d=c[this._closed&&!r?u.length-1:r-1])&&(d._segment2=u[r]||u[0],d._changed()),(d=c[o])&&(d._segment1=u[o],d._changed())},_countCurves:function(){var r=this._segments.length;return!this._closed&&r>0?r-1:r},add:function(r){var o=arguments;return o.length>1&&"number"!=typeof r?this._add(at.readList(o)):this._add([at.read(o)])[0]},insert:function(r,o){var u=arguments;return u.length>2&&"number"!=typeof o?this._add(at.readList(u,1),r):this._add([at.read(u,1)],r)[0]},addSegment:function(){return this._add([at.read(arguments)])[0]},insertSegment:function(r){return this._add([at.read(arguments,1)],r)[0]},addSegments:function(r){return this._add(at.readList(r))},insertSegments:function(r,o){return this._add(at.readList(o),r)},removeSegment:function(r){return this.removeSegments(r,r+1)[0]||null},removeSegments:function(r,o,u){r=r||0,o=re.pick(o,this._segments.length);var c=this._segments,d=this._curves,f=c.length,g=c.splice(r,o-r),m=g.length;if(!m)return g;for(var v=0;v<m;v++){var b=g[v];b._selection&&this._updateSelection(b,b._selection,0),b._index=b._path=null}v=r;for(var x=c.length;v<x;v++)c[v]._index=v;if(d){var w=r>0&&o===f+(this._closed?1:0)?r-1:r;for(v=(d=d.splice(w,m)).length-1;v>=0;v--)d[v]._path=null;u&&(g._curves=d.slice(1)),this._adjustCurves(w,w)}return this._changed(41),g},clear:"#removeSegments",hasHandles:function(){for(var r=this._segments,o=0,u=r.length;o<u;o++)if(r[o].hasHandles())return!0;return!1},clearHandles:function(){for(var r=this._segments,o=0,u=r.length;o<u;o++)r[o].clearHandles()},getLength:function(){if(null==this._length){for(var r=this.getCurves(),o=0,u=0,c=r.length;u<c;u++)o+=r[u].getLength();this._length=o}return this._length},getArea:function(){var r=this._area;if(null==r){var o=this._segments,u=this._closed;r=0;for(var c=0,d=o.length;c<d;c++){var f=c+1===d;r+=Pe.getArea(Pe.getValues(o[c],o[f?0:c+1],null,f&&!u))}this._area=r}return r},isFullySelected:function(){var r=this._segments.length;return this.isSelected()&&r>0&&this._segmentSelection===7*r},setFullySelected:function(r){r&&this._selectSegments(!0),this.setSelected(r)},setSelection:function r(o){1&o||this._selectSegments(!1),r.base.call(this,o)},_selectSegments:function(r){var o=this._segments,u=o.length,c=r?7:0;this._segmentSelection=c*u;for(var d=0;d<u;d++)o[d]._selection=c},_updateSelection:function(r,o,u){r._selection=u,(this._segmentSelection+=u-o)>0&&this.setSelected(!0)},divideAt:function(r){var u,o=this.getLocationAt(r);return o&&(u=o.getCurve().divideAt(o.getCurveOffset()))?u._segment1:null},splitAt:function(r){var o=this.getLocationAt(r),u=o&&o.index,c=o&&o.time;c>.99999999&&(u++,c=0);var g=this.getCurves();if(u>=0&&u<g.length){c>=1e-8&&g[u++].divideAtTime(c);var v,m=this.removeSegments(u,this._segments.length,!0);return this._closed?(this.setClosed(!1),v=this):((v=new yt(tt.NO_INSERT)).insertAbove(this),v.copyAttributes(this)),v._add(m,0),this.addSegment(m[0]),v}return null},split:function(r,o){var u,c=o===Me?r:(u=this.getCurves()[r])&&u.getLocationAtTime(o);return null!=c?this.splitAt(c):null},join:function(r,o){var u=o||0;if(r&&r!==this){var c=r._segments,d=this.getLastSegment(),f=r.getLastSegment();if(!f)return this;d&&d._point.isClose(f._point,u)&&r.reverse();var g=r.getFirstSegment();if(d&&d._point.isClose(g._point,u))d.setHandleOut(g._handleOut),this._add(c.slice(1));else{var m=this.getFirstSegment();m&&m._point.isClose(g._point,u)&&r.reverse(),f=r.getLastSegment(),m&&m._point.isClose(f._point,u)?(m.setHandleIn(f._handleIn),this._add(c.slice(0,c.length-1),0)):this._add(c.slice())}r._closed&&this._add([c[0]]),r.remove()}var v=this.getFirstSegment(),b=this.getLastSegment();return v!==b&&v._point.isClose(b._point,u)&&(v.setHandleIn(b._handleIn),b.remove(),this.setClosed(!0)),this},reduce:function(r){for(var o=this.getCurves(),u=r&&r.simplify,c=u?1e-7:0,d=o.length-1;d>=0;d--){var f=o[d];!f.hasHandles()&&(!f.hasLength(c)||u&&f.isCollinear(f.getNext()))&&f.remove()}return this},reverse:function(){this._segments.reverse();for(var r=0,o=this._segments.length;r<o;r++){var u=this._segments[r],c=u._handleIn;u._handleIn=u._handleOut,u._handleOut=c,u._index=r}this._curves=null,this._changed(9)},flatten:function(r){for(var u=new dn(this,r||.25,256,!0).parts,c=u.length,d=[],f=0;f<c;f++)d.push(new at(u[f].curve.slice(0,2)));!this._closed&&c>0&&d.push(new at(u[c-1].curve.slice(6))),this.setSegments(d)},simplify:function(r){var o=new Ut(this).fit(r||2.5);return o&&this.setSegments(o),!!o},smooth:function(r){var o=this,u=r||{},c=u.type||"asymmetric",d=this._segments,f=d.length,g=this._closed;function m(De,ke){var Ne=De&&De.index;if(null!=Ne){var ze=De.path;if(ze&&ze!==o)throw new Error(De._class+" "+Ne+" of "+ze+" is not part of "+o);ke&&De instanceof Pe&&Ne++}else Ne="number"==typeof De?De:ke;return Math.min(Ne<0&&g?Ne%f:Ne<0?Ne+f:Ne,f-1)}var v=g&&u.from===Me&&u.to===Me,b=m(u.from,0),x=m(u.to,f-1);if(b>x)if(g)b-=f;else{var w=b;b=x,x=w}if(/^(?:asymmetric|continuous)$/.test(c)){var C="asymmetric"===c,D=Math.min,R=x-b+1,k=R-1,P=v?D(R,4):1,I=P,E=P,S=[];if(g||(I=D(1,b),E=D(1,f-x-1)),(k+=I+E)<=1)return;for(var A=0,O=b-I;A<=k;A++,O++)S[A]=d[(O<0?O+f:O)%f]._point;var L=S[0]._x+2*S[1]._x,N=S[0]._y+2*S[1]._y,B=2,V=k-1,H=[L],G=[N],U=[B],$=[],q=[];for(A=1;A<k;A++){var K=A<V,ue=K?4:C?3:8,fe=K?2:C?0:1,ve=(K||C?1:2)/B;B=U[A]=(K?4:C?2:7)-ve,L=H[A]=ue*S[A]._x+fe*S[A+1]._x-ve*L,N=G[A]=ue*S[A]._y+fe*S[A+1]._y-ve*N}for($[V]=H[V]/U[V],q[V]=G[V]/U[V],A=k-2;A>=0;A--)$[A]=(H[A]-$[A+1])/U[A],q[A]=(G[A]-q[A+1])/U[A];$[k]=(3*S[k]._x-$[V])/2,q[k]=(3*S[k]._y-q[V])/2,A=I;var _e=k-E;for(O=b;A<=_e;A++,O++){var he=d[O<0?O+f:O],de=he._point,ce=$[A]-de._x,be=q[A]-de._y;(v||A<_e)&&he.setHandleOut(ce,be),(v||A>I)&&he.setHandleIn(-ce,-be)}}else for(A=b;A<=x;A++)d[A<0?A+f:A].smooth(u,!v&&A===b,!v&&A===x)},toShape:function(r){if(!this._closed)return null;var u,c,d,f,o=this._segments;function g(C,D){var R=o[C],k=R.getNext(),P=o[D],I=P.getNext();return R._handleOut.isZero()&&k._handleIn.isZero()&&P._handleOut.isZero()&&I._handleIn.isZero()&&k._point.subtract(R._point).isCollinear(I._point.subtract(P._point))}function v(C){var D=o[C],R=D.getNext(),k=D._handleOut,P=R._handleIn,I=.5522847498307936;if(k.isOrthogonal(P)){var E=D._point,S=R._point,A=new hn(E,k,!0).intersect(new hn(S,P,!0),!0);return A&&gt.isZero(k.getLength()/A.subtract(E).getLength()-I)&&gt.isZero(P.getLength()/A.subtract(S).getLength()-I)}return!1}function b(C,D){return o[C]._point.getDistance(o[D]._point)}if(!this.hasHandles()&&4===o.length&&g(0,2)&&g(1,3)&&function m(C){var D=o[C],R=D.getPrevious(),k=D.getNext();return R._handleOut.isZero()&&D._handleIn.isZero()&&D._handleOut.isZero()&&k._handleIn.isZero()&&D._point.subtract(R._point).isOrthogonal(k._point.subtract(D._point))}(1)?(u=Dn.Rectangle,c=new Ae(b(0,3),b(0,1)),f=o[1]._point.add(o[2]._point).divide(2)):8===o.length&&v(0)&&v(2)&&v(4)&&v(6)&&g(1,5)&&g(3,7)?(u=Dn.Rectangle,d=(c=new Ae(b(1,6),b(0,3))).subtract(new Ae(b(0,7),b(1,2))).divide(2),f=o[3]._point.add(o[4]._point).divide(2)):4===o.length&&v(0)&&v(1)&&v(2)&&v(3)&&(gt.isZero(b(0,2)-b(1,3))?(u=Dn.Circle,d=b(0,2)/2):(u=Dn.Ellipse,d=new Ae(b(2,0)/2,b(3,1)/2)),f=o[1]._point),u){var x=this.getPosition(!0),w=new u({center:x,size:c,radius:d,insert:!1});return w.copyAttributes(this,!0),w._matrix.prepend(this._matrix),w.rotate(f.subtract(x).getAngle()+90),(r===Me||r)&&w.insertAbove(this),w}return null},toPath:"#clone",compare:function r(o){if(!o||o instanceof vi)return r.base.call(this,o);var u=this.getCurves(),c=o.getCurves(),d=u.length,f=c.length;if(!d||!f)return d==f;for(var b,w,g=u[0].getValues(),m=[],v=0,x=0,C=0;C<f;C++){var P=c[C].getValues();if(m.push(P),D=Pe.getOverlaps(g,P)){b=!C&&D[0][0]>0?f-1:C,w=D[0][1];break}}var I,R=Math.abs;for(P=m[b];g&&P;){var D;if((D=Pe.getOverlaps(g,P))&&R(D[0][0]-x)<1e-8){1===(x=D[1][0])&&(g=++v<d?u[v].getValues():null,x=0);var S=D[0][1];if(R(S-w)<1e-8){if(I||(I=[b,S]),1===(w=D[1][1])&&(++b>=f&&(b=0),P=m[b]||c[b].getValues(),w=0),!g)return I[0]===b&&I[1]===w;continue}}break}return!1},_hitTestSelf:function(r,o,u,c){var w,C,D,R,k,P,d=this,f=this.getStyle(),g=this._segments,m=g.length,v=this._closed,b=o._tolerancePadding,x=b,I=o.stroke&&f.hasStroke(),E=o.fill&&f.hasFill(),S=o.curves,A=I?f.getStrokeWidth()/2:E&&o.tolerance>0||S?0:null;function O($,q){return r.subtract($).divide(q).length<=1}function L($,q,K){if(!o.selected||q.isSelected()){var X=$._point;if(q!==X&&(q=q.add(X)),O(q,x))return new Oe(K,d,{segment:$,point:q})}}function N($,q){return(q||o.segments)&&L($,$._point,"segment")||!q&&o.handles&&(L($,$._handleIn,"handle-in")||L($,$._handleOut,"handle-out"))}function B($){R.add($)}function V($){var K,q=v||$._index>0&&$._index<m-1;return"round"===(q?w:C)?O($._point,x):(R=new yt({internal:!0,closed:!0}),q?$.isSmooth()||yt._addBevelJoin($,w,A,D,null,c,B,!0):"square"===C&&yt._addSquareCap($,C,A,null,c,B,!0),R.isEmpty()?void 0:R.contains(r)||(K=R.getNearestLocation(r))&&O(K.getPoint(),b))}if(null!==A&&(A>0?(w=f.getStrokeJoin(),C=f.getStrokeCap(),D=f.getMiterLimit(),x=x.add(yt._getStrokePadding(A,c))):w=C="round"),!o.ends||o.segments||v){if(o.segments||o.handles)for(var H=0;H<m;H++)if(P=N(g[H]))return P}else if(P=N(g[0],!0)||N(g[m-1],!0))return P;if(null!==A){if(k=this.getNearestLocation(r)){var G=k.getTime();0===G||1===G&&m>1?V(k.getSegment())||(k=null):O(k.getPoint(),x)||(k=null)}if(!k&&"miter"===w&&m>1)for(H=0;H<m;H++){var U=g[H];if(r.getDistance(U._point)<=D*A&&V(U)){k=U.getLocation();break}}}return!k&&E&&this._contains(r)||k&&!I&&!S?new Oe("fill",this):k?new Oe(I?"stroke":"curve",this,{location:k,point:k.getPoint()}):null}},re.each(Pe._evaluateMethods,function(r){this[r+"At"]=function(o){var u=this.getLocationAt(o);return u&&u[r]()}},{beans:!1,getLocationOf:function(){for(var r=se.read(arguments),o=this.getCurves(),u=0,c=o.length;u<c;u++){var d=o[u].getLocationOf(r);if(d)return d}return null},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getLocationAt:function(r){if("number"==typeof r){for(var o=this.getCurves(),u=0,c=0,d=o.length;c<d;c++){var f=u,g=o[c];if((u+=g.getLength())>r)return g.getLocationAt(r-f)}if(o.length>0&&r<=this.getLength())return new Bn(o[o.length-1],1)}else if(r&&r.getPath&&r.getPath()===this)return r;return null},getOffsetsWithTangent:function(){var r=se.read(arguments);if(r.isZero())return[];for(var o=[],u=0,c=this.getCurves(),d=0,f=c.length;d<f;d++){for(var g=c[d],m=g.getTimesWithTangent(r),v=0,b=m.length;v<b;v++){var x=u+g.getOffsetAtTime(m[v]);o.indexOf(x)<0&&o.push(x)}u+=g.length}return o}}),new function(){function o(u,c,d){var b,x,w,C,D,R,k,P,f=c._segments,g=f.length,m=new Array(6),v=!0;function I(S){if(d)S._transformCoordinates(d,m),b=m[0],x=m[1];else{var A=S._point;b=A._x,x=A._y}var O;v?(u.moveTo(b,x),v=!1):(d?(D=m[2],R=m[3]):(D=b+(O=S._handleIn)._x,R=x+O._y),D===b&&R===x&&k===w&&P===C?u.lineTo(b,x):u.bezierCurveTo(k,P,D,R,b,x)),w=b,C=x,d?(k=m[4],P=m[5]):(k=w+(O=S._handleOut)._x,P=C+O._y)}for(var E=0;E<g;E++)I(f[E]);c._closed&&g>0&&I(f[0])}return{_draw:function(u,c,d,f){var g=c.dontStart,m=c.dontFinish||c.clip,v=this.getStyle(),b=v.hasFill(),x=v.hasStroke(),w=v.getDashArray(),C=!l.support.nativeDash&&x&&w&&w.length;function D(S){return w[(S%C+C)%C]}if(g||u.beginPath(),(b||x&&!C||m)&&(o(u,this,f),this._closed&&u.closePath()),!m&&(b||x)&&(this._setStyles(u,c,d),b&&(u.fill(v.getFillRule()),u.shadowColor="rgba(0,0,0,0)"),x)){if(C){g||u.beginPath();for(var I,R=new dn(this,.25,32,!1,f),k=R.length,P=-v.getDashOffset(),E=0;P>0;)P-=D(E--)+D(E--);for(;P<k;)I=P+D(E++),(P>0||I>0)&&R.drawPart(u,Math.max(P,0),Math.max(I,0)),P=I+D(E++)}u.stroke()}},_drawSelected:function(u,c){u.beginPath(),o(u,this,c),u.stroke(),function r(u,c,d,f){if(!(f<=0))for(var x,w,g=f/2,m=f-2,v=g-1,b=new Array(6),D=0,R=c.length;D<R;D++){var k=c[D],P=k._selection;if(k._transformCoordinates(d,b),x=b[0],w=b[1],2&P&&C(2),4&P&&C(4),u.fillRect(x-g,w-g,f,f),m>0&&!(1&P)){var I=u.fillStyle;u.fillStyle="#ffffff",u.fillRect(x-v,w-v,m,m),u.fillStyle=I}}function C(E){var S=b[E],A=b[E+1];(x!=S||w!=A)&&(u.beginPath(),u.moveTo(x,w),u.lineTo(S,A),u.stroke(),u.beginPath(),u.arc(S,A,g,0,2*Math.PI,!0),u.fill())}}(u,this._segments,c,l.settings.handleSize)}}},new function(){function r(o){var u=o._segments;if(!u.length)throw new Error("Use a moveTo() command first");return u[u.length-1]}return{moveTo:function(){var o=this._segments;1===o.length&&this.removeSegment(0),o.length||this._add([new at(se.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new at(se.read(arguments))])},cubicCurveTo:function(){var o=arguments,u=se.read(o),c=se.read(o),d=se.read(o),f=r(this);f.setHandleOut(u.subtract(f._point)),this._add([new at(d,c.subtract(d))])},quadraticCurveTo:function(){var o=arguments,u=se.read(o),c=se.read(o),d=r(this)._point;this.cubicCurveTo(u.add(d.subtract(u).multiply(1/3)),u.add(c.subtract(u).multiply(1/3)),c)},curveTo:function(){var o=arguments,u=se.read(o),c=se.read(o),d=re.pick(re.read(o),.5),f=1-d,g=r(this)._point,m=u.subtract(g.multiply(f*f)).subtract(c.multiply(d*d)).divide(2*d*f);if(m.isNaN())throw new Error("Cannot put a curve through points with parameter = "+d);this.quadraticCurveTo(m,c)},arcTo:function(){var x,w,C,D,o=arguments,u=Math.abs,c=Math.sqrt,d=r(this),f=d._point,g=se.read(o),v=re.peek(o);if("boolean"==typeof(b=re.pick(v,!0)))var m=(R=f.add(g).divide(2)).add(R.subtract(f).rotate(b?-90:90));else if(re.remain(o)<=2)m=g,g=se.read(o);else if(!f.equals(g)){var k=Ae.read(o),P=gt.isZero;if(P(k.width)||P(k.height))return this.lineTo(g);var I=re.read(o),b=!!re.read(o),E=!!re.read(o),R=f.add(g).divide(2),A=(S=f.subtract(R).rotate(-I)).x,O=S.y,L=u(k.width),N=u(k.height),B=L*L,V=N*N,H=A*A,G=O*O,U=c(H/B+G/V);if(U>1&&(B=(L*=U)*L,V=(N*=U)*N),u(U=(B*V-B*G-V*H)/(B*G+V*H))<1e-12&&(U=0),U<0)throw new Error("Cannot create an arc with the given arguments");x=new se(L*O/N,-N*A/L).multiply((E===b?-1:1)*c(U)).rotate(I).add(R),w=(C=(D=(new ft).translate(x).rotate(I).scale(L,N))._inverseTransform(f)).getDirectedAngle(D._inverseTransform(g)),!b&&w>0?w-=360:b&&w<0&&(w+=360)}if(m){var $=new hn(f.add(m).divide(2),m.subtract(f).rotate(90),!0),q=new hn(m.add(g).divide(2),g.subtract(m).rotate(90),!0),K=new hn(f,g),X=K.getSide(m);if(!(x=$.intersect(q,!0))){if(!X)return this.lineTo(g);throw new Error("Cannot create an arc with the given arguments")}w=(C=f.subtract(x)).getDirectedAngle(g.subtract(x));var ee=K.getSide(x,!0);0===ee?w=X*u(w):X===ee&&(w+=w<0?360:-360)}if(w){for(var fe=u(w),ve=fe>=360?4:Math.ceil((fe-1e-5)/90),_e=w/ve,he=_e*Math.PI/360,de=4/3*Math.sin(he)/(1+Math.cos(he)),ce=[],be=0;be<=ve;be++){var S=g,De=null;if(be<ve&&(De=C.rotate(90).multiply(de),D?(S=D._transformPoint(C),De=D._transformPoint(C.add(De)).subtract(S)):S=x.add(C)),be){var ke=C.rotate(-90).multiply(de);D&&(ke=D._transformPoint(C.add(ke)).subtract(S)),ce.push(new at(S,ke,De))}else d.setHandleOut(De);C=C.rotate(_e)}this._add(ce)}},lineBy:function(){var o=se.read(arguments),u=r(this)._point;this.lineTo(u.add(o))},curveBy:function(){var o=arguments,u=se.read(o),c=se.read(o),d=re.read(o),f=r(this)._point;this.curveTo(f.add(u),f.add(c),d)},cubicCurveBy:function(){var o=arguments,u=se.read(o),c=se.read(o),d=se.read(o),f=r(this)._point;this.cubicCurveTo(f.add(u),f.add(c),f.add(d))},quadraticCurveBy:function(){var o=arguments,u=se.read(o),c=se.read(o),d=r(this)._point;this.quadraticCurveTo(d.add(u),d.add(c))},arcBy:function(){var o=arguments,u=r(this)._point,c=u.add(se.read(o)),d=re.pick(re.peek(o),!0);this.arcTo(c,"boolean"==typeof d?d:u.add(se.read(o)))},closePath:function(o){this.setClosed(!0),this.join(this,o)}}},{_getBounds:function(r,o){return yt[o.handle?"getHandleBounds":o.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,r,o)},statics:{getBounds:function(r,o,u,c,d,f){var g=r[0];if(!g)return new nt;var m=new Array(6),v=g._transformCoordinates(c,new Array(6)),b=v.slice(0,2),x=b.slice(),w=new Array(2);function C(k){k._transformCoordinates(c,m);for(var P=0;P<2;P++)Pe._addBounds(v[P],v[P+4],m[P+2],m[P],P,f?f[P]:0,b,x,w);var I=v;v=m,m=I}for(var D=1,R=r.length;D<R;D++)C(r[D]);return o&&C(g),new nt(b[0],b[1],x[0]-b[0],x[1]-b[1])},getStrokeBounds:function(r,o,u,c,d){var f=u.getStyle(),g=f.hasStroke(),m=f.getStrokeWidth(),v=g&&u._getStrokeMatrix(c,d),b=g&&yt._getStrokePadding(m,v),x=yt.getBounds(r,o,u,c,d,b);if(!g)return x;var w=m/2,C=f.getStrokeJoin(),D=f.getStrokeCap(),R=f.getMiterLimit(),k=new nt(new Ae(b));function P(L){x=x.include(L)}function I(L){x=x.unite(k.setCenter(L._point.transform(c)))}function E(L,N){"round"===N||L.isSmooth()?I(L):yt._addBevelJoin(L,N,w,R,c,v,P)}function S(L,N){"round"===N?I(L):yt._addSquareCap(L,N,w,c,v,P)}var A=r.length-(o?0:1);if(A>0){for(var O=1;O<A;O++)E(r[O],C);o?E(r[0],C):(S(r[0],D),S(r[r.length-1],D))}return x},_getStrokePadding:function(r,o){if(!o)return[r,r];var u=new se(r,0).transform(o),c=new se(0,r).transform(o),d=u.getAngleInRadians(),f=u.getLength(),g=c.getLength(),m=Math.sin(d),v=Math.cos(d),b=Math.tan(d),x=Math.atan2(g*b,f),w=Math.atan2(g,b*f);return[Math.abs(f*Math.cos(x)*v+g*Math.sin(x)*m),Math.abs(g*Math.sin(w)*v+f*Math.cos(w)*m)]},_addBevelJoin:function(r,o,u,c,d,f,g,m){var v=r.getCurve(),b=v.getPrevious(),x=v.getPoint1().transform(d),w=b.getNormalAtTime(1).multiply(u).transform(f),C=v.getNormalAtTime(0).multiply(u).transform(f),D=w.getDirectedAngle(C);if((D<0||D>=180)&&(w=w.negate(),C=C.negate()),m&&g(x),g(x.add(w)),"miter"===o){var R=new hn(x.add(w),new se(-w.y,w.x),!0).intersect(new hn(x.add(C),new se(-C.y,C.x),!0),!0);R&&x.getDistance(R)<=c*u&&g(R)}g(x.add(C))},_addSquareCap:function(r,o,u,c,d,f,g){var m=r._point.transform(c),v=r.getLocation(),b=v.getNormal().multiply(0===v.getTime()?u:-u).transform(d);"square"===o&&(g&&(f(m.subtract(b)),f(m.add(b))),m=m.add(b.rotate(-90))),f(m.add(b)),f(m.subtract(b))},getHandleBounds:function(r,o,u,c,d){var m,v,f=u.getStyle();if(d.stroke&&f.hasStroke()){var b=u._getStrokeMatrix(c,d),x=f.getStrokeWidth()/2,w=x;"miter"===f.getStrokeJoin()&&(w=x*f.getMiterLimit()),"square"===f.getStrokeCap()&&(w=Math.max(w,x*Math.SQRT2)),m=yt._getStrokePadding(x,b),v=yt._getStrokePadding(w,b)}for(var C=new Array(6),D=1/0,R=-D,k=D,P=R,I=0,E=r.length;I<E;I++){r[I]._transformCoordinates(c,C);for(var A=0;A<6;A+=2){var O=A?m:v,L=O?O[0]:0,N=O?O[1]:0,B=C[A],V=C[A+1],H=B-L,G=B+L,U=V-N,$=V+N;H<D&&(D=H),G>R&&(R=G),U<k&&(k=U),$>P&&(P=$)}}return new nt(D,k,R-D,P-k)}}});yt.inject({statics:new function(){var r=.5522847498307936,o=[new at([-1,0],[0,r],[0,-r]),new at([0,-1],[-r,0],[r,0]),new at([1,0],[0,-r],[0,r]),new at([0,1],[r,0],[-r,0])];function u(d,f,g){var m=re.getNamed(g),v=new yt(m&&(1==m.insert?tt.INSERT:0==m.insert?tt.NO_INSERT:null));return v._add(d),v._closed=f,v.set(m,tt.INSERT)}function c(d,f,g){for(var m=new Array(4),v=0;v<4;v++){var b=o[v];m[v]=new at(b._point.multiply(f).add(d),b._handleIn.multiply(f),b._handleOut.multiply(f))}return u(m,!0,g)}return{Line:function(){var d=arguments;return u([new at(se.readNamed(d,"from")),new at(se.readNamed(d,"to"))],!1,d)},Circle:function(){var d=arguments,f=se.readNamed(d,"center"),g=re.readNamed(d,"radius");return c(f,new Ae(g),d)},Rectangle:function(){var w,d=arguments,f=nt.readNamed(d,"rectangle"),g=Ae.readNamed(d,"radius",0,{readNull:!0}),m=f.getBottomLeft(!0),v=f.getTopLeft(!0),b=f.getTopRight(!0),x=f.getBottomRight(!0);if(!g||g.isZero())w=[new at(m),new at(v),new at(b),new at(x)];else{var C=(g=Ae.min(g,f.getSize(!0).divide(2))).width,D=g.height,R=C*r,k=D*r;w=[new at(m.add(C,0),null,[-R,0]),new at(m.subtract(0,D),[0,k]),new at(v.add(0,D),null,[0,-k]),new at(v.add(C,0),[-R,0],null),new at(b.subtract(C,0),null,[R,0]),new at(b.add(0,D),[0,-k],null),new at(x.subtract(0,D),null,[0,k]),new at(x.subtract(C,0),[R,0])]}return u(w,!0,d)},RoundRectangle:"#Rectangle",Ellipse:function(){var d=arguments,f=Dn._readEllipse(d);return c(f.center,f.radius,d)},Oval:"#Ellipse",Arc:function(){var d=arguments,f=se.readNamed(d,"from"),g=se.readNamed(d,"through"),m=se.readNamed(d,"to"),v=re.getNamed(d),b=new yt(v&&0==v.insert&&tt.NO_INSERT);return b.moveTo(f),b.arcTo(g,m),b.set(v)},RegularPolygon:function(){for(var d=arguments,f=se.readNamed(d,"center"),g=re.readNamed(d,"sides"),m=re.readNamed(d,"radius"),v=360/g,b=g%3==0,x=new se(0,b?-m:m),w=b?-1:.5,C=new Array(g),D=0;D<g;D++)C[D]=new at(f.add(x.rotate((D+w)*v)));return u(C,!0,d)},Star:function(){for(var d=arguments,f=se.readNamed(d,"center"),g=2*re.readNamed(d,"points"),m=re.readNamed(d,"radius1"),v=re.readNamed(d,"radius2"),b=360/g,x=new se(0,-1),w=new Array(g),C=0;C<g;C++)w[C]=new at(f.add(x.rotate(b*C).multiply(C%2?v:m)));return u(w,!0,d)}}}});var vi=$e.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(o){this._children=[],this._namedChildren={},this._initialize(o)||("string"==typeof o?this.setPathData(o):this.addChildren(Array.isArray(o)?o:arguments))},insertChildren:function r(o,u){var c=u,d=c[0];d&&"number"==typeof d[0]&&(c=[c]);for(var f=u.length-1;f>=0;f--){var g=c[f];c===u&&!(g instanceof yt)&&(c=re.slice(c)),Array.isArray(g)?c[f]=new yt({segments:g,insert:!1}):g instanceof vi&&(c.splice.apply(c,[f,1].concat(g.removeChildren())),g.remove())}return r.base.call(this,o,c)},reduce:function r(o){for(var u=this._children,c=u.length-1;c>=0;c--)(d=u[c].reduce(o)).isEmpty()&&d.remove();var d;return u.length?r.base.call(this):((d=new yt(tt.NO_INSERT)).copyAttributes(this),d.insertAbove(this),this.remove(),d)},isClosed:function(){for(var r=this._children,o=0,u=r.length;o<u;o++)if(!r[o]._closed)return!1;return!0},setClosed:function(r){for(var o=this._children,u=0,c=o.length;u<c;u++)o[u].setClosed(r)},getFirstSegment:function(){var r=this.getFirstChild();return r&&r.getFirstSegment()},getLastSegment:function(){var r=this.getLastChild();return r&&r.getLastSegment()},getCurves:function(){for(var r=this._children,o=[],u=0,c=r.length;u<c;u++)re.push(o,r[u].getCurves());return o},getFirstCurve:function(){var r=this.getFirstChild();return r&&r.getFirstCurve()},getLastCurve:function(){var r=this.getLastChild();return r&&r.getLastCurve()},getArea:function(){for(var r=this._children,o=0,u=0,c=r.length;u<c;u++)o+=r[u].getArea();return o},getLength:function(){for(var r=this._children,o=0,u=0,c=r.length;u<c;u++)o+=r[u].getLength();return o},getPathData:function(r,o){for(var u=this._children,c=[],d=0,f=u.length;d<f;d++){var g=u[d],m=g._matrix;c.push(g.getPathData(r&&!m.isIdentity()?r.appended(m):r,o))}return c.join("")},_hitTestChildren:function r(o,u,c){return r.base.call(this,o,u.class===yt||"path"===u.type?u:re.set({},u,{fill:!1}),c)},_draw:function(r,o,u,c){var d=this._children;if(d.length){o=o.extend({dontStart:!0,dontFinish:!0}),r.beginPath();for(var f=0,g=d.length;f<g;f++)d[f].draw(r,o,c);if(!o.clip){this._setStyles(r,o,u);var m=this._style;m.hasFill()&&(r.fill(m.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),m.hasStroke()&&r.stroke()}}},_drawSelected:function(r,o,u){for(var c=this._children,d=0,f=c.length;d<f;d++){var g=c[d],m=g._matrix;u[g._id]||g._drawSelected(r,m.isIdentity()?o:o.appended(m))}}},new function(){function r(o,u){var c=o._children;if(u&&!c.length)throw new Error("Use a moveTo() command first");return c[c.length-1]}return re.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(o){this[o]=function(){var u=r(this,!0);u[o].apply(u,arguments)}},{moveTo:function(){var o=r(this),u=o&&o.isEmpty()?o:new yt(tt.NO_INSERT);u!==o&&this.addChild(u),u.moveTo.apply(u,arguments)},moveBy:function(){var o=r(this,!0),u=o&&o.getLastSegment(),c=se.read(arguments);this.moveTo(u?c.add(u._point):c)},closePath:function(o){r(this,!0).closePath(o)}})},re.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(o){for(var c,u=this._children,d=0,f=u.length;d<f;d++)c=u[d][r](o)||c;return c}},{}));$e.inject(new function(){var r=Math.min,o=Math.max,u=Math.abs,c={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function d(I){return I._children||[I]}function f(I,E){var S=I.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(E){for(var A=d(S),O=0,L=A.length;O<L;O++)!(I=A[O])._closed&&!I.isEmpty()&&(I.closePath(1e-12),I.getFirstSegment().setHandleIn(0,0),I.getLastSegment().setHandleOut(0,0));S=S.resolveCrossings().reorient("nonzero"===S.getFillRule(),!0)}return S}function g(I,E,S,A,O){var L=new vi(tt.NO_INSERT);return L.addChildren(I,!0),L=L.reduce({simplify:E}),O&&0==O.insert||L.insertAbove(A&&S.isSibling(A)&&S.getIndex()<A.getIndex()?A:S),L.copyAttributes(S,!0),L}function m(I){return I.hasOverlap()||I.isCrossing()}function v(I,E,S,A){if(A&&(0==A.trace||A.stroke)&&/^(subtract|intersect)$/.test(S))return b(I,E,S);var O=f(I,!0),L=E&&I!==E&&f(E,!0),N=c[S];N[S]=!0,L&&(N.subtract||N.exclude)^L.isClockwise()^O.isClockwise()&&L.reverse();var $,B=D(Bn.expand(O.getIntersections(L,m))),V=d(O),H=L&&d(L),G=[],U=[];function q(De){for(var ke=0,Ne=De.length;ke<Ne;ke++){var ze=De[ke];re.push(G,ze._segments),re.push(U,ze.getCurves()),ze._overlapsOnly=!0}}function K(De){for(var ke=[],Ne=0,ze=De&&De.length;Ne<ze;Ne++)ke.push(U[De[Ne]]);return ke}if(B.length){q(V),H&&q(H);for(var X=new Array(U.length),ee=0,ue=U.length;ee<ue;ee++)X[ee]=U[ee].getValues();var fe=yn.findCurveBoundsCollisions(X,X,0,!0),ve={};for(ee=0;ee<U.length;ee++){var _e=U[ee],he=_e._path._id;(ve[he]=ve[he]||{})[_e.getIndex()]={hor:K(fe[ee].hor),ver:K(fe[ee].ver)}}for(ee=0,ue=B.length;ee<ue;ee++)k(B[ee]._segment,O,L,ve,N);for(ee=0,ue=G.length;ee<ue;ee++){var ce=G[ee],be=ce._intersection;ce._winding||k(ce,O,L,ve,N),be&&be._overlap||(ce._path._overlapsOnly=!1)}$=P(G,N)}else $=C(H?V.concat(H):V.slice(),function(De){return!!N[De]});return g($,!0,I,E,A)}function b(I,E,S){var A=f(I),O=f(E),L=A.getIntersections(O,m),N="subtract"===S,B="divide"===S,V={},H=[];function G(q){if(!V[q._id]&&(B||O.contains(q.getPointAt(q.getLength()/2))^N))return H.unshift(q),V[q._id]=!0}for(var U=L.length-1;U>=0;U--){var $=L[U].split();$&&(G($)&&$.getFirstSegment().setHandleIn(0,0),A.getLastSegment().setHandleOut(0,0))}return G(A),g(H,!1,I,E)}function x(I,E){for(var S=I;S;){if(S===E)return;S=S._previous}for(;I._next&&I._next!==E;)I=I._next;if(!I._next){for(;E._previous;)E=E._previous;I._next=E,E._previous=I}}function w(I){for(var E=I.length-1;E>=0;E--)I[E].clearHandles()}function C(I,E,S){var A=I&&I.length;if(A){var O=re.each(I,function(fe,ve){this[fe._id]={container:null,winding:fe.isClockwise()?1:-1,index:ve}},{}),L=I.slice().sort(function(fe,ve){return u(ve.getArea())-u(fe.getArea())}),N=L[0],B=yn.findItemBoundsCollisions(L,null,gt.GEOMETRIC_EPSILON);null==S&&(S=N.isClockwise());for(var V=0;V<A;V++){var H=L[V],G=O[H._id],U=0,$=B[V];if($)for(var q=null,K=$.length-1;K>=0;K--)if($[K]<V){q=q||H.getInteriorPoint();var X=L[$[K]];if(X.contains(q)){var ee=O[X._id];G.winding+=U=ee.winding,G.container=ee.exclude?ee.container:X;break}}if(E(G.winding)===E(U))G.exclude=!0,I[G.index]=null;else{var ue=G.container;H.setClockwise(ue?!ue.isClockwise():S)}}}return I}function D(I,E,S){var H,G,U,A=E&&[],N=!1,B=S||[],V=S&&{};function $(ke){return ke._path._id+"."+ke._segment1._index}for(var q=(S&&S.length)-1;q>=0;q--)(K=S[q])._path&&(V[$(K)]=!0);for(q=I.length-1;q>=0;q--){var K,ve,X=I[q],ee=X._time,ue=ee,fe=E&&!E(X);if((K=X._curve)&&(K!==G?(N=!K.hasHandles()||V&&V[$(K)],H=[],U=null,G=K):U>=1e-8&&(ee/=U)),fe)H&&H.push(X);else{if(E&&A.unshift(X),U=ue,ee<1e-8)ve=K._segment1;else if(ee>.99999999)ve=K._segment2;else{var _e=K.divideAtTime(ee,!0);N&&B.push(K,_e),ve=_e._segment1;for(var he=H.length-1;he>=0;he--){var de=H[he];de._time=(de._time-ee)/(1-ee)}}X._setSegment(ve);var ce=ve._intersection,be=X._intersection;if(ce){x(ce,be);for(var De=ce;De;)x(De._intersection,ce),De=De._next}else ve._intersection=be}}return S||w(B),A||I}function R(I,E,S,A,O){var ce,be,L=Array.isArray(E)?E:E[S?"hor":"ver"],N=S?1:0,B=1^N,V=[I.x,I.y],H=V[N],G=V[B],$=1e-6,q=H-1e-9,K=H+1e-9,X=0,ee=0,ue=0,fe=0,ve=!1,_e=!1,he=1,de=[];function De(ht){var it=ht[B+0],Ht=ht[B+6];if(!(G<r(it,Ht)||G>o(it,Ht))){var Le=ht[N+0],On=ht[N+2],$n=ht[N+4],Cn=ht[N+6];if(it===Ht)return void((Le<K&&Cn>q||Cn<K&&Le>q)&&(ve=!0));var qe=G===it?0:G===Ht||q>o(Le,On,$n,Cn)||K<r(Le,On,$n,Cn)?1:Pe.solveCubic(ht,B,G,de,0,1)>0?de[0]:1,ln=0===qe?Le:1===qe?Cn:Pe.getPoint(ht,qe)[S?"y":"x"],Nn=it>Ht?1:-1,_=ce[N+6];return G!==it?(ln<q?ue+=Nn:ln>K?fe+=Nn:ve=!0,ln>H-$&&ln<H+$&&(he/=2)):(Nn!==(ce[B]>ce[B+6]?1:-1)?Le<q?ue+=Nn:Le>K&&(fe+=Nn):Le!=_&&(_<K&&ln>K?(fe+=Nn,ve=!0):_>q&&ln<q&&(ue+=Nn,ve=!0)),he/=4),ce=ht,!O&&ln>q&&ln<K&&0===Pe.getTangent(ht,qe)[S?"x":"y"]&&R(I,E,!S,A,!0)}}function ke(ht){var it=ht[B+0],Ht=ht[B+2],Le=ht[B+4],On=ht[B+6];if(G<=o(it,Ht,Le,On)&&G>=r(it,Ht,Le,On))for(var ci,$n=ht[N+0],Cn=ht[N+2],qe=ht[N+4],ln=ht[N+6],Nn=q>o($n,Cn,qe,ln)||K<r($n,Cn,qe,ln)?[ht]:Pe.getMonoCurves(ht,S),_=0,M=Nn.length;_<M;_++)if(ci=De(Nn[_]))return ci}for(var Ne=0,ze=L.length;Ne<ze;Ne++){var ct,He=L[Ne],Je=He._path,Vt=He.getValues();if(!(Ne&&L[Ne-1]._path===Je||(ce=null,Je._closed||(be=Pe.getValues(Je.getLastCurve().getSegment2(),He.getSegment1(),null,!A),be[B]!==be[B+6]&&(ce=be)),ce))){ce=Vt;for(var xt=Je.getLastCurve();xt&&xt!==He;){var pt=xt.getValues();if(pt[B]!==pt[B+6]){ce=pt;break}xt=xt.getPrevious()}}if(ct=ke(Vt))return ct;if(Ne+1===ze||L[Ne+1]._path!==Je){if(be&&(ct=ke(be)))return ct;ve&&!ue&&!fe&&(ue=fe=Je.isClockwise(A)^S?1:-1),X+=ue,ee+=fe,ue=fe=0,ve&&(_e=!0,ve=!1),be=null}}return X=u(X),ee=u(ee),{winding:o(X,ee),windingL:X,windingR:ee,quality:he,onPath:_e}}function k(I,E,S,A,O){var L=[],N=I,B=0;do{if(V=I.getCurve()){var H=V.getLength();L.push({segment:I,curve:V,length:H}),B+=H}I=I.getNext()}while(I&&!I._intersection&&I!==N);for(var G=[.5,.25,.75],U={winding:0,quality:-1},K=0;K<G.length&&U.quality<.5;K++){H=B*G[K];for(var X=0,ee=L.length;X<ee;X++){var ue=L[X],fe=ue.length;if(H<=fe){var V,ve=(V=ue.curve)._path,_e=ve._parent,he=_e instanceof vi?_e:ve,de=gt.clamp(V.getTimeAt(H),.001,.999),ce=V.getPointAtTime(de),be=u(V.getTangentAtTime(de).y)<Math.SQRT1_2,De=null;if(O.subtract&&S){var Ne=(he===E?S:E)._getWinding(ce,be,!0);if(he===E&&Ne.winding||he===S&&!Ne.winding){if(Ne.quality<1)continue;De={winding:0,quality:1}}}(De=De||R(ce,A[ve._id][V.getIndex()],be,!0)).quality>U.quality&&(U=De);break}H-=fe}}for(X=L.length-1;X>=0;X--)L[X].segment._winding=U}function P(I,E){var A,S=[];function O(ze){var He;return!(!ze||ze._visited||E&&(!E[(He=ze._winding||{}).winding]||E.unite&&2===He.winding&&He.windingL&&He.windingR))}function L(ze){if(ze)for(var He=0,Je=A.length;He<Je;He++)if(ze===A[He])return!0;return!1}function N(ze){for(var He=ze._segments,Je=0,Vt=He.length;Je<Vt;Je++)He[Je]._visited=!0}function B(ze,He){var Je=ze._intersection,Vt=Je,ct=[];function xt(pt,ht){for(;pt&&pt!==ht;){var it=pt._segment,Ht=it&&it._path;if(Ht){var Le=it.getNext()||Ht.getFirstSegment(),On=Le._intersection;it!==ze&&(L(it)||L(Le)||Le&&O(it)&&(O(Le)||On&&O(On._segment)))&&ct.push(it),He&&A.push(it)}pt=pt._next}}if(He&&(A=[ze]),Je){for(xt(Je);Je&&Je._previous;)Je=Je._previous;xt(Je,Vt)}return ct}I.sort(function(ze,He){var Je=ze._intersection,Vt=He._intersection,ct=!(!Je||!Je._overlap),pt=ze._path,ht=He._path;return ct^!(!Vt||!Vt._overlap)?ct?1:-1:!Je^!Vt?Je?1:-1:pt!==ht?pt._id-ht._id:ze._index-He._index});for(var V=0,H=I.length;V<H;V++){var ee,ue,fe,G=I[V],U=O(G),$=null,q=!1,K=!0,X=[];if(U&&G._path._overlapsOnly){var ve=G._path,_e=G._intersection._segment._path;ve.compare(_e)&&(ve.getArea()&&S.push(ve.clone(!1)),N(ve),N(_e),U=!1)}for(;U;){var he=!$,de=B(G,he),ce=de.shift(),be=!(q=!he&&(L(G)||L(ce)))&&ce;if(he&&($=new yt(tt.NO_INSERT),ee=null),q){(G.isFirst()||G.isLast())&&(K=G._path._closed),G._visited=!0;break}if(be&&ee&&(X.push(ee),ee=null),ee||(be&&de.push(G),ee={start:$._segments.length,crossings:de,visited:ue=[],handleIn:fe}),be&&(G=ce),!O(G)){$.removeSegments(ee.start);for(var De=0,ke=ue.length;De<ke;De++)ue[De]._visited=!1;ue.length=0;do{(!(G=ee&&ee.crossings.shift())||!G._path)&&(G=null,(ee=X.pop())&&(ue=ee.visited,fe=ee.handleIn))}while(ee&&!O(G));if(!G)break}var Ne=G.getNext();$.add(new at(G._point,fe,Ne&&G._handleOut)),G._visited=!0,ue.push(G),G=Ne||G._path.getFirstSegment(),fe=Ne&&Ne._handleIn}q&&(K&&($.getFirstSegment().setHandleIn(fe),$.setClosed(K)),0!==$.getArea()&&S.push($))}return S}return{_getWinding:function(I,E,S){return R(I,this.getCurves(),E,S)},unite:function(I,E){return v(this,I,"unite",E)},intersect:function(I,E){return v(this,I,"intersect",E)},subtract:function(I,E){return v(this,I,"subtract",E)},exclude:function(I,E){return v(this,I,"exclude",E)},divide:function(I,E){return E&&(0==E.trace||E.stroke)?b(this,I,"divide"):g([this.subtract(I,E),this.intersect(I,E)],!0,this,I,E)},resolveCrossings:function(){var I=this._children,E=I||[this];function S(ee,ue){var fe=ee&&ee._intersection;return fe&&fe._overlap&&fe._path===ue}var A=!1,O=!1,L=this.getIntersections(null,function(ee){return ee.hasOverlap()&&(A=!0)||ee.isCrossing()&&(O=!0)}),N=A&&O&&[];if(L=Bn.expand(L),A)for(var B=D(L,function(ee){return ee.hasOverlap()},N),V=B.length-1;V>=0;V--){var H=B[V],G=H._path,U=H._segment,$=U.getPrevious(),q=U.getNext();S($,G)&&S(q,G)&&(U.remove(),$._handleOut._set(0,0),q._handleIn._set(0,0),$!==U&&!$.getCurve().hasLength()&&(q._handleIn.set($._handleIn),$.remove()))}O&&(D(L,A&&function(ee){var ue=ee.getCurve(),fe=ee.getSegment(),ve=ee._intersection,_e=ve._curve,he=ve._segment;if(ue&&_e&&ue._path&&_e._path)return!0;fe&&(fe._intersection=null),he&&(he._intersection=null)},N),N&&w(N),E=P(re.each(E,function(ee){re.push(this,ee._segments)},[])));var X,K=E.length;return K>1&&I?(E!==I&&this.setChildren(E),X=this):1===K&&!I&&(E[0]!==this&&this.setSegments(E[0].removeSegments()),X=this),X||((X=new vi(tt.NO_INSERT)).addChildren(E),(X=X.reduce()).copyAttributes(this),this.replaceWith(X)),X},reorient:function(I,E){var S=this._children;return S&&S.length?this.setChildren(C(this.removeChildren(),function(A){return!!(I?A:1&A)},E)):E!==Me&&this.setClockwise(E),this},getInteriorPoint:function(){var E=this.getBounds().getCenter(!0);if(!this.contains(E)){for(var S=this.getCurves(),A=E.y,O=[],L=[],N=0,B=S.length;N<B;N++){var V=S[N].getValues(),H=V[1],G=V[3],U=V[5],$=V[7];if(A>=r(H,G,U,$)&&A<=o(H,G,U,$))for(var q=Pe.getMonoCurves(V),K=0,X=q.length;K<X;K++){var ee=q[K],ue=ee[1],fe=ee[7];if(ue!==fe&&(A>=ue&&A<=fe||A>=fe&&A<=ue)){var ve=A===ue?ee[0]:A===fe?ee[6]:1===Pe.solveCubic(ee,1,A,L,0,1)?Pe.getPoint(ee,L[0]).x:(ee[0]+ee[6])/2;O.push(ve)}}}O.length>1&&(O.sort(function(_e,he){return _e-he}),E.x=(O[0]+O[1])/2)}return E}}});var dn=re.extend({_class:"PathFlattener",initialize:function(r,o,u,c,d){var w,f=[],g=[],m=0,v=1/(u||32),b=r._segments,x=b[0];function C(P,I){var E=Pe.getValues(P,I,d);f.push(E),D(E,P._index,0,1)}function D(P,I,E,S){if(!(S-E>v)||c&&Pe.isStraight(P)||Pe.isFlatEnough(P,o||.25)){var L=P[6]-P[0],N=P[7]-P[1],B=Math.sqrt(L*L+N*N);B>0&&g.push({offset:m+=B,curve:P,index:I,time:S})}else{var A=Pe.subdivide(P,.5),O=(E+S)/2;D(A[0],I,E,O),D(A[1],I,O,S)}}for(var R=1,k=b.length;R<k;R++)C(x,w=b[R]),x=w;r._closed&&C(w||x,b[0]),this.curves=f,this.parts=g,this.length=m,this.index=0},_get:function(r){for(var d,o=this.parts,u=o.length,f=this.index;d=f,f&&!(o[--f].offset<r););for(;d<u;d++){var g=o[d];if(g.offset>=r){this.index=d;var m=o[d-1],v=m&&m.index===g.index?m.time:0,b=m?m.offset:0;return{index:g.index,time:v+(g.time-v)*(r-b)/(g.offset-b)}}}return{index:o[u-1].index,time:1}},drawPart:function(r,o,u){for(var c=this._get(o),d=this._get(u),f=c.index,g=d.index;f<=g;f++){var m=Pe.getPart(this.curves[f],f===c.index?c.time:0,f===d.index?d.time:1);f===c.index&&r.moveTo(m[0],m[1]),r.bezierCurveTo.apply(r,m.slice(2))}}},re.each(Pe._evaluateMethods,function(r){this[r+"At"]=function(o){var u=this._get(o);return Pe[r](this.curves[u.index],u.time)}},{})),Ut=re.extend({initialize:function(r){for(var f,o=this.points=[],u=r._segments,c=r._closed,d=0,g=u.length;d<g;d++){var m=u[d].point;(!f||!f.equals(m))&&o.push(f=m.clone())}c&&(o.unshift(o[o.length-1]),o.push(o[1])),this.closed=c},fit:function(r){var o=this.points,u=o.length,c=null;return u>0&&(c=[new at(o[0])],u>1&&(this.fitCubic(c,r,0,u-1,o[1].subtract(o[0]),o[u-2].subtract(o[u-1])),this.closed&&(c.shift(),c.pop()))),c},fitCubic:function(r,o,u,c,d,f){var g=this.points;if(c-u!=1){for(var C,x=this.chordLengthParameterize(u,c),w=Math.max(o,o*o),D=!0,R=0;R<=4;R++){var k=this.generateBezier(u,c,x,d,f),P=this.findMaxError(u,c,k,x);if(P.error<o&&D)return void this.addCurve(r,k);if(C=P.index,P.error>=w)break;D=this.reparameterize(u,c,x,k),w=P.error}var I=g[C-1].subtract(g[C+1]);this.fitCubic(r,o,u,C,d,I),this.fitCubic(r,o,C,c,I.negate(),f)}else{var m=g[u],v=g[c],b=m.getDistance(v)/3;this.addCurve(r,[m,m.add(d.normalize(b)),v.add(f.normalize(b)),v])}},addCurve:function(r,o){r[r.length-1].setHandleOut(o[1].subtract(o[0])),r.push(new at(o[3],o[2].subtract(o[3])))},generateBezier:function(r,o,u,c,d){for(var f=1e-12,g=Math.abs,m=this.points,v=m[r],b=m[o],x=[[0,0],[0,0]],w=[0,0],C=0,D=o-r+1;C<D;C++){var R=u[C],k=1-R,P=3*R*k,I=k*k*k,E=P*k,S=P*R,A=R*R*R,O=c.normalize(E),L=d.normalize(S),N=m[r+C].subtract(v.multiply(I+E)).subtract(b.multiply(S+A));x[0][0]+=O.dot(O),x[0][1]+=O.dot(L),x[1][0]=x[0][1],x[1][1]+=L.dot(L),w[0]+=O.dot(N),w[1]+=L.dot(N)}var V,H,B=x[0][0]*x[1][1]-x[1][0]*x[0][1];if(g(B)>f)V=(w[0]*x[1][1]-w[1]*x[0][1])/B,H=(x[0][0]*w[1]-x[1][0]*w[0])/B;else{var $=x[0][0]+x[0][1],q=x[1][0]+x[1][1];V=H=g($)>f?w[0]/$:g(q)>f?w[1]/q:0}var ee,ue,K=b.getDistance(v),X=f*K;if(V<X||H<X)V=H=K/3;else{var fe=b.subtract(v);ee=c.normalize(V),ue=d.normalize(H),ee.dot(fe)-ue.dot(fe)>K*K&&(V=H=K/3,ee=ue=null)}return[v,v.add(ee||c.normalize(V)),b.add(ue||d.normalize(H)),b]},reparameterize:function(r,o,u,c){for(var d=r;d<=o;d++)u[d-r]=this.findRoot(c,this.points[d],u[d-r]);d=1;for(var f=u.length;d<f;d++)if(u[d]<=u[d-1])return!1;return!0},findRoot:function(r,o,u){for(var c=[],d=[],f=0;f<=2;f++)c[f]=r[f+1].subtract(r[f]).multiply(3);for(f=0;f<=1;f++)d[f]=c[f+1].subtract(c[f]).multiply(2);var g=this.evaluate(3,r,u),m=this.evaluate(2,c,u),v=this.evaluate(1,d,u),b=g.subtract(o),x=m.dot(m)+b.dot(v);return gt.isMachineZero(x)?u:u-b.dot(m)/x},evaluate:function(r,o,u){for(var c=o.slice(),d=1;d<=r;d++)for(var f=0;f<=r-d;f++)c[f]=c[f].multiply(1-u).add(c[f+1].multiply(u));return c[0]},chordLengthParameterize:function(r,o){for(var u=[0],c=r+1;c<=o;c++)u[c-r]=u[c-r-1]+this.points[c].getDistance(this.points[c-1]);c=1;for(var d=o-r;c<=d;c++)u[c]/=u[d];return u},findMaxError:function(r,o,u,c){for(var d=Math.floor((o-r+1)/2),f=0,g=r+1;g<o;g++){var v=this.evaluate(3,u,c[g-r]).subtract(this.points[g]),b=v.x*v.x+v.y*v.y;b>=f&&(f=b,d=g)}return{error:f,index:d}}}),Li=tt.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(o){this._content="",this._lines=[];var u=o&&re.isPlainObject(o)&&o.x===Me&&o.y===Me;this._initialize(u&&o,!u&&se.read(arguments))},_equals:function(r){return this._content===r._content},copyContent:function(r){this.setContent(r._content)},getContent:function(){return this._content},setContent:function(r){this._content=""+r,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ye=Li.extend({_class:"PointText",initialize:function(){Li.apply(this,arguments)},getPoint:function(){var r=this._matrix.getTranslation();return new Ze(r.x,r.y,this,"setPoint")},setPoint:function(){var r=se.read(arguments);this.translate(r.subtract(this._matrix.getTranslation()))},_draw:function(r,o,u){if(this._content){this._setStyles(r,o,u);var c=this._lines,d=this._style,f=d.hasFill(),g=d.hasStroke(),m=d.getLeading(),v=r.shadowColor;r.font=d.getFontStyle(),r.textAlign=d.getJustification();for(var b=0,x=c.length;b<x;b++){r.shadowColor=v;var w=c[b];f&&(r.fillText(w,0,0),r.shadowColor="rgba(0,0,0,0)"),g&&r.strokeText(w,0,0),r.translate(0,m)}}},_getBounds:function(r,o){var u=this._style,c=this._lines,d=c.length,f=u.getJustification(),g=u.getLeading(),m=this.getView().getTextWidth(u.getFontStyle(),c),v=0;"left"!==f&&(v-=m/("center"===f?2:1));var b=new nt(v,d?-.75*g:0,m,d*g);return r?r._transformBounds(b,b):b}}),un=re.extend(new function(){var c,r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},o={},u={transparent:[0,0,0,0]},f=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],g={"rgb-hsb":function(m,v,b){var x=Math.max(m,v,b),C=x-Math.min(m,v,b);return[0===C?0:60*(x==m?(v-b)/C+(v<b?6:0):x==v?(b-m)/C+2:(m-v)/C+4),0===x?0:C/x,x]},"hsb-rgb":function(m,v,b){var w,x=(m=(m/60%6+6)%6)-(w=Math.floor(m)),C=[b,b*(1-v),b*(1-v*x),b*(1-v*(1-x))];return[C[(w=f[w])[0]],C[w[1]],C[w[2]]]},"rgb-hsl":function(m,v,b){var x=Math.max(m,v,b),w=Math.min(m,v,b),C=x-w,D=0===C,k=(x+w)/2;return[D?0:60*(x==m?(v-b)/C+(v<b?6:0):x==v?(b-m)/C+2:(m-v)/C+4),D?0:k<.5?C/(x+w):C/(2-x-w),k]},"hsl-rgb":function(m,v,b){if(0===v)return[b,b,b];for(var x=[(m=(m/360%1+1)%1)+1/3,m,m-1/3],w=b<.5?b*(1+v):b+v-b*v,C=2*b-w,D=[],R=0;R<3;R++){var k=x[R];k<0&&(k+=1),k>1&&(k-=1),D[R]=6*k<1?C+6*(w-C)*k:2*k<1?w:3*k<2?C+(w-C)*(2/3-k)*6:C}return D},"rgb-gray":function(m,v,b){return[.2989*m+.587*v+.114*b]},"gray-rgb":function(m){return[m,m,m]},"gray-hsb":function(m){return[0,0,m]},"gray-hsl":function(m){return[0,0,m]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return re.each(r,function(m,v){o[v]=[],re.each(m,function(b,x){var w=re.capitalize(b),C=/^(hue|saturation)$/.test(b),D=o[v][x]="gradient"===v?"gradient"===b?function(R){var k=this._components[0];return k!==(R=br.read(Array.isArray(R)?R:arguments,0,{readNull:!0}))&&(k&&k._removeOwner(this),R&&R._addOwner(this)),R}:function(){return se.read(arguments,0,{readNull:"highlight"===b,clone:!0})}:function(R){return null==R||isNaN(R)?0:+R};this["get"+w]=function(){return this._type===v||C&&/^hs[bl]$/.test(this._type)?this._components[x]:this._convert(v)[x]},this["set"+w]=function(R){this._type!==v&&!(C&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(v),this._properties=r[v],this._type=v),this._components[x]=D.call(this,R),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function m(v){var C,D,R,k,b=arguments,x=this.__read,w=0;Array.isArray(v)&&(v=(b=v)[0]);var P=null!=v&&typeof v;if("string"===P&&v in r&&(C=v,v=b[1],Array.isArray(v)?(D=v,R=b[2]):(x&&(w=1),b=re.slice(b,1),P=typeof v)),!D){if(k="number"===P?b:"object"===P&&null!=v.length?v:null){C||(C=k.length>=3?"rgb":"gray");var I=r[C].length;R=k[I],x&&(w+=k===arguments?I+(null!=R?1:0):1),k.length>I&&(k=re.slice(k,0,I))}else if("string"===P){var E=function d(m){var x,v=m.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||m.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),b="rgb";if(v){var w=v[4]?4:3;x=new Array(w);for(var C=0;C<w;C++){var D=v[C+1];x[C]=parseInt(1==D.length?D+D:D,16)/255}}else if(v=m.match(/^(rgb|hsl)a?\((.*)\)$/)){b=v[1],x=v[2].trim().split(/[,\s]+/g);for(var R="hsl"===b,k=(C=0,Math.min(x.length,4));C<k;C++){var P=x[C];if(D=parseFloat(P),R)if(0===C){var I=P.match(/([a-z]*)$/)[1];D*={turn:360,rad:180/Math.PI,grad:.9}[I]||1}else C<3&&(D/=100);else C<3&&(D/=/%$/.test(P)?100:255);x[C]=D}}else{var E=u[m];if(!E)if(Dt){c||((c=Bt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),c.fillStyle="rgba(0,0,0,0)",c.fillStyle=m,c.fillRect(0,0,1,1);var S=c.getImageData(0,0,1,1).data;E=u[m]=[S[0]/255,S[1]/255,S[2]/255]}else E=[0,0,0];x=E.slice()}return[b,x]}(v);C=E[0],4===(D=E[1]).length&&(R=D[3],D.length--)}else if("object"===P)if(v.constructor===m){if(C=v._type,D=v._components.slice(),R=v._alpha,"gradient"===C)for(var S=1,A=D.length;S<A;S++){var O=D[S];O&&(D[S]=O.clone())}}else if(v.constructor===br)C="gradient",k=b;else{var L=r[C="hue"in v?"lightness"in v?"hsl":"hsb":"gradient"in v||"stops"in v||"radial"in v?"gradient":"gray"in v?"gray":"rgb"],N=o[C];for(this._components=D=[],S=0,A=L.length;S<A;S++)null==(B=v[L[S]])&&!S&&"gradient"===C&&"stops"in v&&(B={stops:v.stops,radial:v.radial}),null!=(B=N[S].call(this,B))&&(D[S]=B);R=v.alpha}x&&C&&(w=1)}if(this._type=C||"rgb",!D)for(this._components=D=[],S=0,A=(N=o[this._type]).length;S<A;S++){var B;null!=(B=N[S].call(this,k&&k[S]))&&(D[S]=B)}return this._components=D,this._properties=r[this._type],this._alpha=R,x&&(this.__read=w),this},set:"#initialize",_serialize:function(m,v){var b=this.getComponents();return re.serialize(/^(gray|rgb)$/.test(this._type)?b:[this._type].concat(b),m,!0,v)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(m){var v;return this._type===m?this._components.slice():(v=g[this._type+"-"+m])?v.apply(this,this._components):g["rgb-"+m].apply(this,g[this._type+"-rgb"].apply(this,this._components))},convert:function(m){return new un(m,this._convert(m),this._alpha)},getType:function(){return this._type},setType:function(m){this._components=this._convert(m),this._properties=r[m],this._type=m},getComponents:function(){var m=this._components.slice();return null!=this._alpha&&m.push(this._alpha),m},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(m){this._alpha=null==m?null:Math.min(Math.max(m,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(m){var v=re.isPlainValue(m,!0)?un.read(arguments):m;return v===this||v&&this._class===v._class&&this._type===v._type&&this.getAlpha()===v.getAlpha()&&re.equals(this._components,v._components)||!1},toString:function(){for(var m=this._properties,v=[],b="gradient"===this._type,x=Ue.instance,w=0,C=m.length;w<C;w++){var D=this._components[w];null!=D&&v.push(m[w]+": "+(b?D:x.number(D)))}return null!=this._alpha&&v.push("alpha: "+x.number(this._alpha)),"{ "+v.join(", ")+" }"},toCSS:function(m){var v=this._convert("rgb"),b=m||null==this._alpha?1:this._alpha;function x(w){return Math.round(255*(w<0?0:w>1?1:w))}return v=[x(v[0]),x(v[1]),x(v[2])],b<1&&v.push(b<0?0:b),m?"#"+((1<<24)+(v[0]<<16)+(v[1]<<8)+v[2]).toString(16).slice(1):(4==v.length?"rgba(":"rgb(")+v.join(",")+")"},toCanvasStyle:function(m,v){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var P,b=this._components,x=b[0],w=x._stops,C=b[1],D=b[2],R=b[3],k=v&&v.inverted();if(k&&(C=k._transformPoint(C),D=k._transformPoint(D),R&&(R=k._transformPoint(R))),x._radial){var I=D.getDistance(C);if(R){var E=R.subtract(C);E.getLength()>I&&(R=C.add(E.normalize(I-.1)))}var S=R||C;P=m.createRadialGradient(S.x,S.y,0,C.x,C.y,I)}else P=m.createLinearGradient(C.x,C.y,D.x,D.y);for(var A=0,O=w.length;A<O;A++){var L=w[A];P.addColorStop(L._offset??A/(O-1),L._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(m){if("gradient"===this._type){for(var v=this._components,b=1,x=v.length;b<x;b++){var w=v[b];m._transformPoint(w,w,!0)}this._changed()}},statics:{_types:r,random:function(){var m=Math.random;return new un(m(),m(),m())},_setOwner:function(m,v,b){return m&&(m._owner&&v&&m._owner!==v&&(m=m.clone()),!m._owner^!v&&(m._owner=v||null,m._setter=b||null)),m}}})},new function(){return re.each({add:function(o,u){return o+u},subtract:function(o,u){return o-u},multiply:function(o,u){return o*u},divide:function(o,u){return o/u}},function(o,u){this[u]=function(c){c=un.read(arguments);for(var d=this._type,f=this._components,g=c._convert(d),m=0,v=f.length;m<v;m++)g[m]=o(f[m],g[m]);return new un(d,g,null!=this._alpha?o(this._alpha,c.getAlpha()):null)}},{})}),br=re.extend({_class:"Gradient",initialize:function(o,u){this._id=ae.get(),o&&re.isPlainObject(o)&&(this.set(o),o=u=null),null==this._stops&&this.setStops(o||["white","black"]),null==this._radial&&this.setRadial("string"==typeof u&&"radial"===u||u||!1)},_serialize:function(r,o){return o.add(this,function(){return re.serialize([this._stops,this._radial],r,!0,o)})},_changed:function(){for(var r=0,o=this._owners&&this._owners.length;r<o;r++)this._owners[r]._changed()},_addOwner:function(r){this._owners||(this._owners=[]),this._owners.push(r)},_removeOwner:function(r){var o=this._owners?this._owners.indexOf(r):-1;-1!=o&&(this._owners.splice(o,1),this._owners.length||(this._owners=Me))},clone:function(){for(var r=[],o=0,u=this._stops.length;o<u;o++)r[o]=this._stops[o].clone();return new br(r,this._radial)},getStops:function(){return this._stops},setStops:function(r){if(r.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var o=this._stops;if(o)for(var u=0,c=o.length;u<c;u++)o[u]._owner=Me;for(u=0,c=(o=this._stops=tr.readList(r,0,{clone:!0})).length;u<c;u++)o[u]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(r){this._radial=r,this._changed()},equals:function(r){if(r===this)return!0;if(r&&this._class===r._class){var o=this._stops,u=r._stops,c=o.length;if(c===u.length){for(var d=0;d<c;d++)if(!o[d].equals(u[d]))return!1;return!0}}return!1}}),tr=re.extend({_class:"GradientStop",initialize:function(o,u){var c=o,d=u;"object"==typeof o&&u===Me&&(Array.isArray(o)&&"number"!=typeof o[0]?(c=o[0],d=o[1]):("color"in o||"offset"in o||"rampPoint"in o)&&(c=o.color,d=o.offset||o.rampPoint||0)),this.setColor(c),this.setOffset(d)},clone:function(){return new tr(this._color.clone(),this._offset)},_serialize:function(r,o){var u=this._color,c=this._offset;return re.serialize(null==c?[u]:[u,c],r,!0,o)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(r){this._offset=r,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){un._setOwner(this._color,null),this._color=un._setOwner(un.read(arguments,0),this,"setColor"),this._changed()},equals:function(r){return r===this||r&&this._class===r._class&&this._color.equals(r._color)&&this._offset==r._offset||!1}}),fn=re.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new se,selectedColor:null},o=re.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),u=re.set({},o,{fillColor:new un}),c={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},d={beans:!0},f={_class:"Style",beans:!0,initialize:function(m,v,b){this._values={},this._owner=v,this._project=v&&v._project||b||l.project,this._defaults=!v||v instanceof Un?o:v instanceof Li?u:r,m&&this.set(m)}};return re.each(o,function(g,m){var v=/Color$/.test(m),b="shadowOffset"===m,x=re.capitalize(m),w=c[m],C="set"+x,D="get"+x;f[C]=function(R){var k=this._owner,P=k&&k._children,I=P&&P.length>0&&!(k instanceof vi);if(I)for(var E=0,S=P.length;E<S;E++)P[E]._style[C](R);if(("selectedColor"===m||!I)&&m in this._defaults){var A=this._values[m];A!==R&&(v&&(A&&(un._setOwner(A,null),A._canvasStyle=null),R&&R.constructor===un&&(R=un._setOwner(R,k,I&&C))),this._values[m]=R,k&&k._changed(w||129))}},f[D]=function(R){var k=this._owner,P=k&&k._children,I=P&&P.length>0&&!(k instanceof vi);if(I&&!R)for(var S=0,A=P.length;S<A;S++){var O=P[S]._style[D]();if(S){if(!re.equals(E,O))return Me}else E=O}else if(m in this._defaults){var E;if((E=this._values[m])===Me)(E=this._defaults[m])&&E.clone&&(E=E.clone());else{var L=v?un:b?se:null;L&&(!E||E.constructor!==L)&&(this._values[m]=E=L.read([E],0,{readNull:!0,clone:!0}))}}return E&&v&&(E=un._setOwner(E,k,I&&C)),E},d[D]=function(R){return this._style[D](R)},d[C]=function(R){this._style[C](R)}}),re.each({Font:"FontFamily",WindingRule:"FillRule"},function(g,m){var v="get"+m,b="set"+m;f[v]=d[v]="#get"+g,f[b]=d[b]="#set"+g}),tt.inject(d),f},{set:function(r){var o=r instanceof fn,u=o?r._values:r;if(u)for(var c in u)if(c in this._defaults){var d=u[c];this[c]=d&&o&&d.clone?d.clone():d}},equals:function(r){function o(u,c,d){var f=u._values,g=c._values,m=c._defaults;for(var v in f){var x=g[v];if(!(d&&v in g||re.equals(f[v],x===Me?m[v]:x)))return!1}return!0}return r===this||r&&this._class===r._class&&o(this,r)&&o(r,this,!0)||!1},_dispose:function(){var r;(r=this.getFillColor())&&(r._canvasStyle=null),(r=this.getStrokeColor())&&(r._canvasStyle=null),(r=this.getShadowColor())&&(r._canvasStyle=null)},hasFill:function(){var r=this.getFillColor();return!!r&&r.alpha>0},hasStroke:function(){var r=this.getStrokeColor();return!!r&&r.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var r=this.getShadowColor();return!!r&&r.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var r=this.getFontSize();return this.getFontWeight()+" "+r+(/[a-z]/i.test(r+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function r(){var o=r.base.call(this),u=this.getFontSize();return/pt|em|%|px/.test(u)&&(u=this.getView().getPixelSize(u)),o??1.2*u}}),Mt=new function(){function r(o,u,c,d){for(var f=["","webkit","moz","Moz","ms","o"],g=u[0].toUpperCase()+u.substring(1),m=0;m<6;m++){var v=f[m],b=v?v+g:u;if(b in o){if(!c)return o[b];o[b]=d;break}}}return{getStyles:function(o){var u=o&&9!==o.nodeType?o.ownerDocument:o,c=u&&u.defaultView;return c&&c.getComputedStyle(o,"")},getBounds:function(o,u){var g,c=o.ownerDocument,d=c.body,f=c.documentElement;try{g=o.getBoundingClientRect()}catch{g={left:0,top:0,width:0,height:0}}var m=g.left-(f.clientLeft||d.clientLeft||0),v=g.top-(f.clientTop||d.clientTop||0);if(!u){var b=c.defaultView;m+=b.pageXOffset||f.scrollLeft||d.scrollLeft,v+=b.pageYOffset||f.scrollTop||d.scrollTop}return new nt(m,v,g.width,g.height)},getViewportBounds:function(o){var u=o.ownerDocument,c=u.defaultView,d=u.documentElement;return new nt(0,0,c.innerWidth||d.clientWidth,c.innerHeight||d.clientHeight)},getOffset:function(o,u){return Mt.getBounds(o,u).getPoint()},getSize:function(o){return Mt.getBounds(o,!0).getSize()},isInvisible:function(o){return Mt.getSize(o).equals(new Ae(0,0))},isInView:function(o){return!Mt.isInvisible(o)&&Mt.getViewportBounds(o).intersects(Mt.getBounds(o,!0))},isInserted:function(o){return te.body.contains(o)},getPrefixed:function(o,u){return o&&r(o,u)},setPrefixed:function(o,u,c){if("object"==typeof u)for(var d in u)r(o,d,!0,u[d]);else r(o,u,!0,c)}}},Ct={add:function(r,o){if(r)for(var u in o)for(var c=o[u],d=u.split(/[\s,]+/g),f=0,g=d.length;f<g;f++){var m=d[f];r.addEventListener(m,c,r===te&&("touchstart"===m||"touchmove"===m)&&{passive:!1})}},remove:function(r,o){if(r)for(var u in o)for(var c=o[u],d=u.split(/[\s,]+/g),f=0,g=d.length;f<g;f++)r.removeEventListener(d[f],c,!1)},getPoint:function(r){var o=r.targetTouches?r.targetTouches.length?r.targetTouches[0]:r.changedTouches[0]:r;return new se(o.pageX||o.clientX+te.documentElement.scrollLeft,o.pageY||o.clientY+te.documentElement.scrollTop)},getTarget:function(r){return r.target||r.srcElement},getRelatedTarget:function(r){return r.relatedTarget||r.toElement},getOffset:function(r,o){return Ct.getPoint(r).subtract(Mt.getOffset(o||Ct.getTarget(r)))}};Ct.requestAnimationFrame=new function(){var c,r=Mt.getPrefixed(Dt,"requestAnimationFrame"),o=!1,u=[];function d(){var f=u;u=[];for(var g=0,m=f.length;g<m;g++)f[g]();(o=r&&u.length)&&r(d)}return function(f){u.push(f),r?o||(r(d),o=!0):c||(c=setInterval(d,16.666666666666668))}};var _n=re.extend(li,{_class:"View",initialize:function r(o,u){function c(w){return u[w]||parseInt(u.getAttribute(w),10)}function d(){var w=Mt.getSize(u);return w.isNaN()||w.isZero()?new Ae(c("width"),c("height")):w}var f;if(Dt&&u){this._id=u.getAttribute("id"),null==this._id&&u.setAttribute("id",this._id="paper-view-"+r._id++),Ct.add(u,this._viewEvents);var g="none";if(Mt.setPrefixed(u.style,{userDrag:g,userSelect:g,touchCallout:g,contentZooming:g,tapHighlightColor:"rgba(0,0,0,0)"}),kn.hasAttribute(u,"resize")){var m=this;Ct.add(Dt,this._windowEvents={resize:function(){m.setViewSize(d())}})}if(f=d(),kn.hasAttribute(u,"stats")&&typeof Stats<"u"){this._stats=new Stats;var v=this._stats.domElement,b=v.style,x=Mt.getOffset(u);b.position="absolute",b.left=x.x+"px",b.top=x.y+"px",te.body.appendChild(v)}}else f=new Ae(u),u=null;this._project=o,this._scope=o._scope,this._element=u,this._pixelRatio||(this._pixelRatio=Dt&&Dt.devicePixelRatio||1),this._setElementSize(f.width,f.height),this._viewSize=f,r._views.push(this),r._viewsById[this._id]=this,(this._matrix=new ft)._owner=this,r._focused||(r._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!l.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;_n._focused===this&&(_n._focused=null),_n._views.splice(_n._views.indexOf(this),1),delete _n._viewsById[this._id];var r=this._project;return r._view===this&&(r._view=null),Ct.remove(this._element,this._viewEvents),Ct.remove(Dt,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:re.each(tt._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(r){this[r]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(r){this._autoUpdate=r,r&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var r=this;Ct.requestAnimationFrame(function(){if(r._requested=!1,r._animate){r.requestUpdate();var o=r._element;(!Mt.getPrefixed(te,"hidden")||"true"===kn.getAttribute(o,"keepalive"))&&Mt.isInView(o)&&r._handleFrame()}r._autoUpdate&&r.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){l=this._scope;var r=Date.now()/1e3,o=this._last?r-this._last:0;this._last=r,this.emit("frame",new re({delta:o,time:this._time+=o,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(r,o){var u=this._frameItems;o?(u[r._id]={item:r,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete u[r._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(r){for(var o in this._frameItems){var u=this._frameItems[o];u.item.emit("frame",new re(r,{time:u.time+=r.delta,count:u.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=Me},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var r=this._viewSize;return new Z(r.width,r.height,this,"setViewSize")},setViewSize:function(){var r=Ae.read(arguments),o=r.subtract(this._viewSize);o.isZero()||(this._setElementSize(r.width,r.height),this._viewSize.set(r),this._changed(),this.emit("resize",{size:r,delta:o}),this._autoUpdate&&this.update())},_setElementSize:function(r,o){var u=this._element;u&&(u.width!==r&&(u.width=r),u.height!==o&&(u.height=o))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new nt(new se,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Mt.isInView(this._element)},isInserted:function(){return Mt.isInserted(this._element)},getPixelSize:function(r){var u,o=this._element;if(o){var c=o.parentNode,d=te.createElement("div");d.style.fontSize=r,c.appendChild(d),u=parseFloat(Mt.getStyles(d).fontSize),c.removeChild(d)}else u=parseFloat(u);return u},getTextWidth:function(r,o){return 0}},re.each(["rotate","scale","shear","skew"],function(r){var o="rotate"===r;this[r]=function(){var u=arguments,c=(o?re:se).read(u),d=se.read(u,0,{readNull:!0});return this.transform((new ft)[r](c,d||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var r=new ft;return this.transform(r.translate.apply(r,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var r=se.read(arguments);this.translate(this.getCenter().subtract(r))},getZoom:function(){var r=this._decompose().scaling;return(r.x+r.y)/2},setZoom:function(r){this.transform((new ft).scale(r/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(r){var o=this.getRotation();null!=o&&null!=r&&this.rotate(r-o)},getScaling:function(){var r=this._decompose().scaling;return new Ze(r.x,r.y,this,"setScaling")},setScaling:function(){var r=this.getScaling(),o=se.read(arguments,0,{clone:!0,readNull:!0});r&&o&&this.scale(o.x/r.x,o.y/r.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},transform:function(r){this._matrix.append(r)},scrollBy:function(){this.translate(se.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(se.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(se.read(arguments))},getEventPoint:function(r){return this.viewToProject(Ct.getOffset(r,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(r,o){return te&&"string"==typeof o&&(o=te.getElementById(o)),new(Dt?Fr:_n)(r,o)}}},new function(){if(Dt){var r,o,v,b,x,u=!1,c=!1,m=Dt.navigator;m.pointerEnabled||m.msPointerEnabled?(v="pointerdown MSPointerDown",b="pointermove MSPointerMove",x="pointerup pointercancel MSPointerUp MSPointerCancel"):(v="touchstart",b="touchmove",x="touchend touchcancel","ontouchstart"in Dt&&m.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(v+=" mousedown",b+=" mousemove",x+=" mouseup"));var w={},C={mouseout:function($){var q=_n._focused,K=Ct.getRelatedTarget($);if(q&&(!K||"HTML"===K.nodeName)){var X=Ct.getOffset($,q._element),ee=X.x,ue=Math.abs,fe=ue(ee),_e=fe-(1<<25);X.x=ue(_e)<fe?_e*(ee<0?-1:1):ee,g(q,$,q.viewToProject(X))}},scroll:f};w[v]=function($){var q=_n._focused=d($);u||(u=!0,q._handleMouseEvent("mousedown",$))},C[b]=function($){var q=_n._focused;if(!c){var K=d($);K?q!==K&&(q&&g(q,$),r||(r=q),q=_n._focused=o=K):o&&o===q&&(r&&!r.isInserted()&&(r=null),q=_n._focused=r,r=null,f())}q&&g(q,$)},C[v]=function(){c=!0},C[x]=function($){var q=_n._focused;q&&u&&q._handleMouseEvent("mouseup",$),c=u=!1},Ct.add(te,C),Ct.add(Dt,{load:f});var E,S,A,O,L,N,B,V,D=!1,R=!1,k={doubleclick:"click",mousedrag:"mousemove"},P=!1,U={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:w,_handleMouseEvent:function($,q,K){var X=this._itemEvents,ee=X.native[$],ue="mousemove"===$,fe=this._scope.tool,ve=this;function _e(Ne){return X.virtual[Ne]||ve.responds(Ne)||fe&&fe.responds(Ne)}ue&&u&&_e("mousedrag")&&($="mousedrag"),K||(K=this.getEventPoint(q));var he=this.getBounds().contains(K),de=ee&&he&&ve._project.hitTest(K,{tolerance:0,fill:!0,stroke:!0}),ce=de&&de.item||null,be=!1,De={};if(De[$.substr(5)]=!0,ee&&ce!==O&&(O&&H(O,null,"mouseleave",q,K),ce&&H(ce,null,"mouseenter",q,K),O=ce),P^he&&(H(this,null,he?"mouseenter":"mouseleave",q,K),be=!0),(he||De.drag)&&!K.equals(S)&&(G(this,ce,ue?$:"mousemove",q,K,S),be=!0),P=he,De.down&&he||De.up&&E){if(G(this,ce,$,q,K,E),De.down){if(V=ce===N&&Date.now()-B<300,A=N=ce,!R&&ce){for(var ke=ce;ke&&!ke.responds("mousedrag");)ke=ke._parent;ke&&(L=ce)}E=K}else De.up&&(!R&&ce===A&&(B=Date.now(),G(this,ce,V?"doubleclick":"click",q,K,E),V=!1),A=L=null);P=!1,be=!0}S=K,be&&fe&&(D=fe._handleMouseEvent($,q,K,De)||D),!1!==q.cancelable&&(D&&!De.move||De.down&&_e("mouseup"))&&q.preventDefault()},_handleKeyEvent:function($,q,K,X){var fe,ee=this._scope,ue=ee.tool;function ve(_e){_e.responds($)&&(l=ee,_e.emit($,fe=fe||new ys($,q,K,X)))}this.isVisible()&&(ve(this),ue&&ue.responds($)&&ve(ue))},_countItemEvent:function($,q){var K=this._itemEvents,X=K.native,ee=K.virtual;for(var ue in U)X[ue]=(X[ue]||0)+(U[ue][$]||0)*q;ee[$]=(ee[$]||0)+q},statics:{updateFocus:f,_resetState:function(){u=c=D=P=!1,r=o=E=S=A=O=L=N=B=V=null}}}}function d($){var q=Ct.getTarget($);return q.getAttribute&&_n._viewsById[q.getAttribute("id")]}function f(){var $=_n._focused;if(!$||!$.isVisible())for(var q=0,K=_n._views.length;q<K;q++)if(($=_n._views[q]).isVisible()){_n._focused=o=$;break}}function g($,q,K){$._handleMouseEvent("mousemove",q,K)}function H($,q,K,X,ee,ue,fe){var _e,ve=!1;function he(de,ce){if(de.responds(ce)){if(_e||(_e=new qs(ce,X,ee,q||de,ue?ee.subtract(ue):null)),de.emit(ce,_e)&&(D=!0,_e.prevented&&(R=!0),_e.stopped))return ve=!0}else{var be=k[ce];if(be)return he(de,be)}}for(;$&&$!==fe&&!he($,K);)$=$._parent;return ve}function G($,q,K,X,ee,ue){return $._project.removeOn(K),R=D=!1,L&&H(L,null,K,X,ee,ue)||q&&q!==L&&!q.isDescendant(L)&&H(q,null,"mousedrag"===K?"mousemove":K,X,ee,ue,L)||H($,L||q||$,K,X,ee,ue)}}),Fr=_n.extend({_class:"CanvasView",initialize:function(o,u){if(!(u instanceof Dt.HTMLCanvasElement)){var c=Ae.read(arguments,1);if(c.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+re.slice(arguments,1));u=Bt.getCanvas(c)}var d=this._context=u.getContext("2d");if(d.save(),this._pixelRatio=1,!/^off|false$/.test(kn.getAttribute(u,"hidpi"))){var f=Dt.devicePixelRatio||1,g=Mt.getPrefixed(d,"backingStorePixelRatio")||1;this._pixelRatio=f/g}_n.call(this,o,u),this._needsUpdate=!0},remove:function r(){return this._context.restore(),r.base.call(this)},_setElementSize:function r(o,u){var c=this._pixelRatio;if(r.base.call(this,o*c,u*c),1!==c){var d=this._element,f=this._context;if(!kn.hasAttribute(d,"resize")){var g=d.style;g.width=o+"px",g.height=u+"px"}f.restore(),f.save(),f.scale(c,c)}},getContext:function(){return this._context},getPixelSize:function r(o){var c,u=l.agent;if(u&&u.firefox)c=r.base.call(this,o);else{var d=this._context,f=d.font;d.font=o+" serif",c=parseFloat(d.font),d.font=f}return c},getTextWidth:function(r,o){var u=this._context,c=u.font,d=0;u.font=r;for(var f=0,g=o.length;f<g;f++)d=Math.max(d,u.measureText(o[f]).width);return u.font=c,d},update:function(){if(!this._needsUpdate)return!1;var r=this._project,o=this._context,u=this._viewSize;return o.clearRect(0,0,u.width+1,u.height+1),r&&r.draw(o,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),wr=re.extend({_class:"Event",initialize:function(o){this.event=o,this.type=o&&o.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Bi.modifiers}}),ys=wr.extend({_class:"KeyEvent",initialize:function(o,u,c,d){this.type=o,this.event=u,this.key=c,this.character=d},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Bi=new function(){var d,f,r={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},o={tab:"\t",space:" ",enter:"\r"},u={},c={},g=new re({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var b=l&&l.agent;return b&&b.mac?this.meta:this.control}}});function m(b){var x=b.key||b.keyIdentifier;return x=/^U\+/.test(x)?String.fromCharCode(parseInt(x.substr(2),16)):/^Arrow[A-Z]/.test(x)?x.substr(5):"Unidentified"===x||x===Me?String.fromCharCode(b.keyCode):x,r[x]||(x.length>1?re.hyphenate(x):x.toLowerCase())}function v(b,x,w,C){var k,R=_n._focused;if(u[x]=b,b?c[x]=w:delete c[x],x.length>1&&(k=re.camelize(x))in g){g[k]=b;var P=l&&l.agent;if("meta"===k&&P&&P.mac)if(b)d={};else{for(var I in d)I in c&&v(!1,I,d[I],C);d=null}}else b&&d&&(d[x]=w);R&&R._handleKeyEvent(b?"keydown":"keyup",C,x,w)}return Ct.add(te,{keydown:function(b){var x=m(b),w=l&&l.agent;x.length>1||w&&w.chrome&&(b.altKey||w.mac&&b.metaKey||!w.mac&&b.ctrlKey)?v(!0,x,o[x]||(x.length>1?"":x),b):f=x},keypress:function(b){if(f){var x=m(b),w=b.charCode,C=w>=32?String.fromCharCode(w):x.length>1?"":x;x!==f&&(x=C.toLowerCase()),v(!0,x,C,b),f=null}},keyup:function(b){var x=m(b);x in c&&v(!1,x,c[x],b)}}),Ct.add(Dt,{blur:function(b){for(var x in c)v(!1,x,c[x],b)}}),{modifiers:g,isDown:function(b){return!!u[b]}}},qs=wr.extend({_class:"MouseEvent",initialize:function(o,u,c,d,f){this.type=o,this.event=u,this.point=c,this.target=d,this.delta=f},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Jo=wr.extend({_class:"ToolEvent",_item:null,initialize:function(o,u,c){this.tool=o,this.type=u,this.event=c},_choosePoint:function(r,o){return r||(o?o.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(r){this._point=r},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(r){this._lastPoint=r},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(r){this._downPoint=r},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(r){this._middlePoint=r},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(r){this._delta=r},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(r){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=r},getItem:function(){if(!this._item){var r=this.tool._scope.project.hitTest(this.getPoint());if(r){for(var o=r.item,u=o._parent;/^(Group|CompoundPath)$/.test(u._class);)o=u,u=u._parent;this._item=o}}return this._item},setItem:function(r){this._item=r},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),bs=En.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(o){En.call(this),this._moveCount=-1,this._downCount=-1,this.set(o)},getMinDistance:function(){return this._minDistance},setMinDistance:function(r){this._minDistance=r,null!=r&&null!=this._maxDistance&&r>this._maxDistance&&(this._maxDistance=r)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(r){this._maxDistance=r,null!=this._minDistance&&null!=r&&r<this._minDistance&&(this._minDistance=r)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(r){this._minDistance=this._maxDistance=r},_handleMouseEvent:function(r,o,u,c){l=this._scope,c.drag&&!this.responds(r)&&(r="mousemove");var d=c.move||c.drag,f=this.responds(r),g=this.minDistance,m=this.maxDistance,v=!1,b=this;function x(C,D){var R=u,k=d?b._point:b._downPoint||R;if(d){if(b._moveCount>=0&&R.equals(k))return!1;if(k&&(null!=C||null!=D)){var P=R.subtract(k),I=P.getLength();if(I<(C||0))return!1;D&&(R=k.add(P.normalize(Math.min(I,D))))}b._moveCount++}return b._point=R,b._lastPoint=k||R,c.down&&(b._moveCount=-1,b._downPoint=R,b._downCount++),!0}function w(){f&&(v=b.emit(r,new Jo(b,r,o))||v)}if(c.down)x(),w();else if(c.up)x(null,m),w();else if(f)for(;x(g,m);)w();return v}}),bn=re.extend(li,{_class:"Tween",statics:{easings:new re({linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:2*(2-r)*r-1},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}})},initialize:function r(o,u,c,d,f,g){this.object=o;var m=typeof f,v="function"===m;this.type=v?m:"string"===m?f:"linear",this.easing=v?f:r.easings[this.type],this.duration=d,this.running=!1,this._then=null,this._startTime=null;var b=u||c;this._keys=b?Object.keys(b):[],this._parsedKeys=this._parseKeys(this._keys),this._from=b&&this._getState(u),this._to=b&&this._getState(c),!1!==g&&this.start()},then:function(r){return this._then=r,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(r){if(this.running){r>=1&&(r=1,this.running=!1);for(var o=this.easing(r),u=this._keys,c=function(x){return"function"==typeof x?x(o,r):x},d=0,f=u&&u.length;d<f;d++){var g=u[d],m=c(this._from[g]),v=c(this._to[g]),b=m&&v&&m.__add&&v.__add?v.__subtract(m).__multiply(o).__add(m):(v-m)*o+m;this._setProperty(this._parsedKeys[g],b)}this.responds("update")&&this.emit("update",new re({progress:r,factor:o})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(r){var o=this._startTime,u=o?(r-o)/this.duration:0;o||(this._startTime=r),this.update(u)},_getState:function(r){for(var o=this._keys,u={},c=0,d=o.length;c<d;c++){var v,f=o[c],g=this._parsedKeys[f],m=this._getProperty(g);if(r){var b=this._resolveValue(m,r[f]);this._setProperty(g,b),v=(v=this._getProperty(g))&&v.clone?v.clone():v,this._setProperty(g,m)}else v=m&&m.clone?m.clone():m;u[f]=v}return u},_resolveValue:function(r,o){if(o){if(Array.isArray(o)&&2===o.length){var u=o[0];return u&&u.match&&u.match(/^[+\-\*\/]=/)?this._calculate(r,u[0],o[1]):o}if("string"==typeof o){var c=o.match(/^[+\-*/]=(.*)/);if(c){var d=JSON.parse(c[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(r,o[0],d)}}}return o},_calculate:function(r,o,u){return l.PaperScript.calculateBinary(r,o,u)},_parseKeys:function(r){for(var o={},u=0,c=r.length;u<c;u++){var d=r[u],f=d.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");o[d]=f.split("/")}return o},_getProperty:function(r,o){for(var u=this.object,c=0,d=r.length-(o||0);c<d&&u;c++)u=u[r[c]];return u},_setProperty:function(r,o){var u=this._getProperty(r,1);u&&(u[r[r.length-1]]=o)}}),Kt={request:function(r){var o=new Ee.XMLHttpRequest;return o.open((r.method||"get").toUpperCase(),r.url,re.pick(r.async,!0)),r.mimeType&&o.overrideMimeType(r.mimeType),o.onload=function(){var u=o.status;0===u||200===u?r.onLoad&&r.onLoad.call(o,o.responseText):o.onerror()},o.onerror=function(){var u=o.status,c='Could not load "'+r.url+'" (Status: '+u+")";if(!r.onError)throw new Error(c);r.onError(c,u)},o.send(null)}},Bt=re.exports.CanvasProvider={canvases:[],getCanvas:function(r,o,u){if(!Dt)return null;var c,d=!0;"object"==typeof r&&(o=r.height,r=r.width),this.canvases.length?c=this.canvases.pop():(c=te.createElement("canvas"),d=!1);var f=c.getContext("2d",u||{});if(!f)throw new Error("Canvas "+c+" is unable to provide a 2D context.");return c.width===r&&c.height===o?d&&f.clearRect(0,0,r+1,o+1):(c.width=r,c.height=o),f.save(),c},getContext:function(r,o,u){var c=this.getCanvas(r,o,u);return c?c.getContext("2d",u||{}):null},release:function(r){var o=r&&r.canvas?r.canvas:r;o&&o.getContext&&(o.getContext("2d").restore(),this.canvases.push(o))}},vn=new function(){var c,d,f,g,m,v,b,x,w,C,D,r=Math.min,o=Math.max,u=Math.abs;function R(O,L,N){return.2989*O+.587*L+.114*N}function k(O,L,N,H){var V=H-R(O,L,N),G=(H=R(w=O+V,C=L+V,D=N+V),r(w,C,D)),U=o(w,C,D);if(G<0){var $=H-G;w=H+(w-H)*H/$,C=H+(C-H)*H/$,D=H+(D-H)*H/$}if(U>255){var q=255-H,K=U-H;w=H+(w-H)*q/K,C=H+(C-H)*q/K,D=H+(D-H)*q/K}}function P(O,L,N){return o(O,L,N)-r(O,L,N)}function I(O,L,N,B){var U,V=[O,L,N],H=o(O,L,N),G=r(O,L,N);U=0===r(G=G===O?0:G===L?1:2,H=H===O?0:H===L?1:2)?1===o(G,H)?2:1:0,V[H]>V[G]?(V[U]=(V[U]-V[G])*B/(V[H]-V[G]),V[H]=B):V[U]=V[H]=0,V[G]=0,w=V[0],C=V[1],D=V[2]}var E={multiply:function(){w=m*c/255,C=v*d/255,D=b*f/255},screen:function(){w=m+c-m*c/255,C=v+d-v*d/255,D=b+f-b*f/255},overlay:function(){w=m<128?2*m*c/255:255-2*(255-m)*(255-c)/255,C=v<128?2*v*d/255:255-2*(255-v)*(255-d)/255,D=b<128?2*b*f/255:255-2*(255-b)*(255-f)/255},"soft-light":function(){var O=c*m/255;w=O+m*(255-(255-m)*(255-c)/255-O)/255,C=(O=d*v/255)+v*(255-(255-v)*(255-d)/255-O)/255,D=(O=f*b/255)+b*(255-(255-b)*(255-f)/255-O)/255},"hard-light":function(){w=c<128?2*c*m/255:255-2*(255-c)*(255-m)/255,C=d<128?2*d*v/255:255-2*(255-d)*(255-v)/255,D=f<128?2*f*b/255:255-2*(255-f)*(255-b)/255},"color-dodge":function(){w=0===m?0:255===c?255:r(255,255*m/(255-c)),C=0===v?0:255===d?255:r(255,255*v/(255-d)),D=0===b?0:255===f?255:r(255,255*b/(255-f))},"color-burn":function(){w=255===m?255:0===c?0:o(0,255-255*(255-m)/c),C=255===v?255:0===d?0:o(0,255-255*(255-v)/d),D=255===b?255:0===f?0:o(0,255-255*(255-b)/f)},darken:function(){w=m<c?m:c,C=v<d?v:d,D=b<f?b:f},lighten:function(){w=m>c?m:c,C=v>d?v:d,D=b>f?b:f},difference:function(){(w=m-c)<0&&(w=-w),(C=v-d)<0&&(C=-C),(D=b-f)<0&&(D=-D)},exclusion:function(){w=m+c*(255-m-m)/255,C=v+d*(255-v-v)/255,D=b+f*(255-b-b)/255},hue:function(){I(c,d,f,P(m,v,b)),k(w,C,D,R(m,v,b))},saturation:function(){I(m,v,b,P(c,d,f)),k(w,C,D,R(m,v,b))},luminosity:function(){k(m,v,b,R(c,d,f))},color:function(){k(c,d,f,R(m,v,b))},add:function(){w=r(m+c,255),C=r(v+d,255),D=r(b+f,255)},subtract:function(){w=o(m-c,0),C=o(v-d,0),D=o(b-f,0)},average:function(){w=(m+c)/2,C=(v+d)/2,D=(b+f)/2},negation:function(){w=255-u(255-c-m),C=255-u(255-d-v),D=255-u(255-f-b)}},S=this.nativeModes=re.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(O){this[O]=!0},{}),A=Bt.getContext(1,1,{willReadFrequently:!0});A&&(re.each(E,function(O,L){var N="darken"===L,B=!1;A.save();try{A.fillStyle=N?"#300":"#a00",A.fillRect(0,0,1,1),A.globalCompositeOperation=L,A.globalCompositeOperation===L&&(A.fillStyle=N?"#a00":"#300",A.fillRect(0,0,1,1),B=A.getImageData(0,0,1,1).data[0]!==N?170:51)}catch{}A.restore(),S[L]=B}),Bt.release(A)),this.process=function(O,L,N,B,V){var H=L.canvas,G="normal"===O;if(G||S[O])N.save(),N.setTransform(1,0,0,1,0,0),N.globalAlpha=B,G||(N.globalCompositeOperation=O),N.drawImage(H,V.x,V.y),N.restore();else{var U=E[O];if(!U)return;for(var $=N.getImageData(V.x,V.y,H.width,H.height),q=$.data,K=L.getImageData(0,0,H.width,H.height).data,X=0,ee=q.length;X<ee;X+=4){c=K[X],m=q[X],d=K[X+1],v=q[X+1],f=K[X+2],b=q[X+2],g=K[X+3],x=q[X+3],U();var ue=g*B/255,fe=1-ue;q[X]=ue*w+fe*m,q[X+1]=ue*C+fe*v,q[X+2]=ue*D+fe*b,q[X+3]=g*B+fe*x}N.putImageData($,V.x,V.y)}}},pn=new function(){var r="http://www.w3.org/2000/svg",o="http://www.w3.org/2000/xmlns",u="http://www.w3.org/1999/xlink",c={href:u,xlink:o,xmlns:o+"/","xmlns:xlink":o+"/"};function g(m,v,b){for(var x in v){var w=v[x],C=c[x];"number"==typeof w&&b&&(w=b.number(w)),C?m.setAttributeNS(C,x,w):m.setAttribute(x,w)}return m}return{svg:r,xmlns:o,xlink:u,create:function d(m,v,b){return g(te.createElementNS(r,m),v,b)},get:function f(m,v){var b=c[v],x=b?m.getAttributeNS(b,v):m.getAttribute(v);return"null"===x?null:x},set:g}},Ve=re.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(r,o){return!o&&(r instanceof $e||r instanceof Dn||r instanceof Li)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(r,o){var u=re.capitalize(o),c=r[2];this[o]={type:r[1],property:o,attribute:r[0],toSVG:c,fromSVG:c&&re.each(c,function(d,f){this[d]=f},{}),exportFilter:r[3],get:"get"+u,set:"set"+u}},{});new function(){var r;function o(E,S,A){var N,O=new re,L=E.getTranslation();if(S&&(E.isInvertible()?(N=(E=E._shiftless())._inverseTransform(L),L=null):N=new se,O[A?"cx":"x"]=N.x,O[A?"cy":"y"]=N.y),!E.isIdentity()){var B=E.decompose();if(B){var V=[],H=B.rotation,G=B.scaling,U=B.skewing;L&&!L.isZero()&&V.push("translate("+r.point(L)+")"),H&&V.push("rotate("+r.number(H)+")"),(!gt.isZero(G.x-1)||!gt.isZero(G.y-1))&&V.push("scale("+r.point(G)+")"),U.x&&V.push("skewX("+r.number(U.x)+")"),U.y&&V.push("skewY("+r.number(U.y)+")"),O.transform=V.join(" ")}else O.transform="matrix("+E.getValues().join(",")+")"}return O}function u(E,S){for(var A=o(E._matrix),O=E._children,L=pn.create("g",A,r),N=0,B=O.length;N<B;N++){var V=O[N],H=P(V,S);if(H)if(V.isClipMask()){var G=pn.create("clipPath");G.appendChild(H),R(V,G,"clip"),pn.set(L,{"clip-path":"url(#"+G.id+")"})}else L.appendChild(H)}return L}function f(E){var S=E._type,A=E._radius,O=o(E._matrix,!0,"rectangle"!==S);if("rectangle"===S){S="rect";var L=E._size,N=L.width,B=L.height;O.x-=N/2,O.y-=B/2,O.width=N,O.height=B,A.isZero()&&(A=null)}return A&&("circle"===S?O.r=A:(O.rx=A.width,O.ry=A.height)),pn.create(S,O,r)}var C,x={Group:u,Layer:u,Raster:function c(E,S){var A=o(E._matrix,!0),O=E.getSize(),L=E.getImage();return A.x-=O.width/2,A.y-=O.height/2,A.width=O.width,A.height=O.height,A.href=0==S.embedImages&&L&&L.src||E.toDataURL(),pn.create("image",A,r)},Path:function d(E,S){var A=S.matchShapes;if(A){var O=E.toShape(!1);if(O)return f(O)}var B,L=E._segments,N=L.length,V=o(E._matrix);if(A&&N>=2&&!E.hasHandles())if(N>2){B=E._closed?"polygon":"polyline";for(var H=[],G=0;G<N;G++)H.push(r.point(L[G]._point));V.points=H.join(" ")}else{B="line";var U=L[0]._point,$=L[1]._point;V.set({x1:U.x,y1:U.y,x2:$.x,y2:$.y})}else B="path",V.d=E.getPathData(null,S.precision);return pn.create(B,V,r)},Shape:f,CompoundPath:function g(E,S){var A=o(E._matrix),O=E.getPathData(null,S.precision);return O&&(A.d=O),pn.create("path",A,r)},SymbolItem:function m(E,S){var A=o(E._matrix,!0),O=E._definition,L=D(O,"symbol"),N=O._item,B=N.getStrokeBounds();return L||((L=pn.create("symbol",{viewBox:r.rectangle(B)})).appendChild(P(N,S)),R(O,L,"symbol")),A.href="#"+L.id,A.x+=B.x,A.y+=B.y,A.width=B.width,A.height=B.height,A.overflow="visible",pn.create("use",A,r)},PointText:function b(E){var S=pn.create("text",o(E._matrix,!0),r);return S.textContent=E._content,S}};function D(E,S){return C||(C={ids:{},svgs:{}}),E&&C.svgs[S+"-"+(E._id||E.__id||(E.__id=ae.get("svg")))]}function R(E,S,A){C||D();var O=C.ids[A]=(C.ids[A]||0)+1;S.id=A+"-"+O,C.svgs[A+"-"+(E._id||E.__id)]=S}function k(E,S){var A=E,O=null;if(C){for(var L in A="svg"===E.nodeName.toLowerCase()&&E,C.svgs)O||(A||(A=pn.create("svg")).appendChild(E),O=A.insertBefore(pn.create("defs"),A.firstChild)),O.appendChild(C.svgs[L]);C=null}return S.asString?(new Ee.XMLSerializer).serializeToString(A):A}function P(E,S,A){var O=x[E._class],L=O&&O(E,S);if(L){var N=S.onExport;N&&(L=N(E,L,S)||L);var B=JSON.stringify(E._data);B&&"{}"!==B&&"null"!==B&&L.setAttribute("data-paper-data",B)}return L&&function w(E,S,A){var O={},L=!A&&E.getParent(),N=[];return null!=E._name&&(O.id=E._name),re.each(Ve,function(B){var V=B.get,H=B.type,G=E[V]();if(B.exportFilter?B.exportFilter(E,G):!L||!re.equals(L[V](),G)){if("color"===H&&null!=G){var U=G.getAlpha();U<1&&(O[B.attribute+"-opacity"]=U)}"style"===H?N.push(B.attribute+": "+G):O[B.attribute]=null==G?"none":"color"===H?G.gradient?function v(E){var S=D(E,"color");if(!S){var B,A=E.getGradient(),O=A._radial,L=E.getOrigin(),N=E.getDestination();if(O){B={cx:L.x,cy:L.y,r:L.getDistance(N)};var V=E.getHighlight();V&&(B.fx=V.x,B.fy=V.y)}else B={x1:L.x,y1:L.y,x2:N.x,y2:N.y};B.gradientUnits="userSpaceOnUse",S=pn.create((O?"radial":"linear")+"Gradient",B,r);for(var H=A._stops,G=0,U=H.length;G<U;G++){var $=H[G],q=$._color,K=q.getAlpha();B={offset:$._offset??G/(U-1)},q&&(B["stop-color"]=q.toCSS(!0)),K<1&&(B["stop-opacity"]=K),S.appendChild(pn.create("stop",B,r))}R(E,S,"color")}return"url(#"+S.id+")"}(G):G.toCSS(!0):"array"===H?G.join(","):"lookup"===H?B.toSVG[G]:G}}),N.length&&(O.style=N.join(";")),1===O.opacity&&delete O.opacity,E._visible||(O.visibility="hidden"),pn.set(S,O,r)}(E,L,A)}function I(E){return E||(E={}),r=new Ue(E.precision),E}tt.inject({exportSVG:function(E){return k(P(this,E=I(E),!0),E)}}),lt.inject({exportSVG:function(E){E=I(E);var S=this._children,A=this.getView(),O=re.pick(E.bounds,"view"),L=E.matrix||"view"===O&&A._matrix,N=L&&ft.read([L]),B="view"===O?new nt([0,0],A.getViewSize()):"content"===O?tt._getBounds(S,N,{stroke:!0}).rect:nt.read([O],0,{readNull:!0}),V={version:"1.1",xmlns:pn.svg,"xmlns:xlink":pn.xlink};B&&(V.width=B.width,V.height=B.height,(B.x||0===B.x||B.y||0===B.y)&&(V.viewBox=r.rectangle(B)));var H=pn.create("svg",V,r),G=H;N&&!N.isIdentity()&&(G=H.appendChild(pn.create("g",o(N),r)));for(var U=0,$=S.length;U<$;U++)G.appendChild(P(S[U],E,!0));return k(H,E)}})},new function(){var o,r={};function u(S,A,O,L,N,B){var V=pn.get(S,A)||B,H=null==V?L?null:O?"":0:O?V:parseFloat(V);return/%\s*$/.test(V)?H/100*(N?1:o[/x|^width/.test(A)?"width":"height"]):H}function c(S,A,O,L,N,B,V){return A=u(S,A||"x",!1,L,N,B),O=u(S,O||"y",!1,L,N,V),!L||null!=A&&null!=O?new se(A,O):null}function d(S,A,O,L,N){return A=u(S,A||"width",!1,L,N),O=u(S,O||"height",!1,L,N),!L||null!=A&&null!=O?new Ae(A,O):null}function f(S,A,O){return"none"===S?null:"number"===A?parseFloat(S):"array"===A?S?S.split(/[\s,]+/g).map(parseFloat):[]:"color"===A?P(S)||S:"lookup"===A?O[S]:S}function g(S,A,O,L){var N=S.childNodes,B="clippath"===A,V="defs"===A,H=new Un,G=H._project,U=G._currentStyle,$=[];if(!B&&!V&&(H=k(H,S,L),G._currentStyle=H._style.clone()),L)for(var q=S.querySelectorAll("defs"),K=0,X=q.length;K<X;K++)I(q[K],O,!1);for(K=0,X=N.length;K<X;K++){var ue,ee=N[K];1===ee.nodeType&&!/^defs$/i.test(ee.nodeName)&&(ue=I(ee,O,!1))&&!(ue instanceof mn)&&$.push(ue)}return H.addChildren($),B&&(H=k(H.reduce(),S,L)),G._currentStyle=U,(B||V)&&(H.remove(),H=null),H}function m(S,A){for(var O=S.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),L=[],N=0,B=O.length;N<B;N+=2)L.push(new se(parseFloat(O[N]),parseFloat(O[N+1])));var V=new yt(L);return"polygon"===A&&V.closePath(),V}function b(S,A){var N,O=(u(S,"href",!0)||"").substring(1),L="radialgradient"===A;if(O)(N=r[O].getGradient())._radial^L&&((N=N.clone())._radial=L);else{for(var B=S.childNodes,V=[],H=0,G=B.length;H<G;H++){var U=B[H];1===U.nodeType&&V.push(k(new tr,U))}N=new br(V,L)}var $,q,K,X="userSpaceOnUse"!==u(S,"gradientUnits",!0);return L?(q=($=c(S,"cx","cy",!1,X,"50%","50%")).add(u(S,"r",!1,!1,X,"50%"),0),K=c(S,"fx","fy",!0,X)):($=c(S,"x1","y1",!1,X,"0%","0%"),q=c(S,"x2","y2",!1,X,"100%","0%")),k(new un(N,$,q,K),S)._scaleToBounds=X,null}var x={"#document":function(S,A,O,L){for(var N=S.childNodes,B=0,V=N.length;B<V;B++){var H=N[B];if(1===H.nodeType)return I(H,O,L)}},g,svg:g,clippath:g,polygon:m,polyline:m,path:function v(S){return $e.create(S.getAttribute("d"))},lineargradient:b,radialgradient:b,image:function(S){var A=new Rn(u(S,"href",!0));return A.on("load",function(){var O=d(S);this.setSize(O);var L=c(S).add(O.divide(2));this._matrix.append((new ft).translate(L))}),A},symbol:function(S,A,O,L){return new mn(g(S,A,O,L),!0)},defs:g,use:function(S){var A=(u(S,"href",!0)||"").substring(1),O=r[A],L=c(S);return O?O instanceof mn?O.place(L):O.clone().translate(L):null},circle:function(S){return new Dn.Circle(c(S,"cx","cy"),u(S,"r"))},ellipse:function(S){return new Dn.Ellipse({center:c(S,"cx","cy"),radius:d(S,"rx","ry")})},rect:function(S){return new Dn.Rectangle(new nt(c(S),d(S)),d(S,"rx","ry"))},line:function(S){return new yt.Line(c(S,"x1","y1"),c(S,"x2","y2"))},text:function(S){var A=new Ye(c(S).add(c(S,"dx","dy")));return A.setContent(S.textContent.trim()||""),A},switch:g};function w(S,A,O,L){if(S.transform){for(var N=(L.getAttribute(O)||"").split(/\)\s*/g),B=new ft,V=0,H=N.length;V<H;V++){var G=N[V];if(!G)break;for(var U=G.split(/\(\s*/),$=U[0],q=U[1].split(/[\s,]+/g),K=0,X=q.length;K<X;K++)q[K]=parseFloat(q[K]);switch($){case"matrix":B.append(new ft(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":B.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":B.translate(q[0],q[1]||0);break;case"scale":B.scale(q);break;case"skewX":B.skew(q[0],0);break;case"skewY":B.skew(0,q[0])}}S.transform(B)}}function C(S,A,O){var L="fill-opacity"===O?"getFillColor":"getStrokeColor",N=S[L]&&S[L]();N&&N.setAlpha(parseFloat(A))}var D=re.set(re.each(Ve,function(S){this[S.attribute]=function(A,O){if(A[S.set]&&(A[S.set](f(O,S.type,S.fromSVG)),"color"===S.type)){var L=A[S.get]();if(L&&L._scaleToBounds){var N=A.getBounds();L.transform((new ft).translate(N.getPoint()).scale(N.getSize()))}}}},{}),{id:function(S,A){r[A]=S,S.setName&&S.setName(A)},"clip-path":function(S,A){var O=P(A);if(O){if((O=O.clone()).setClipMask(!0),!(S instanceof Un))return new Un(O,S);S.insertChild(0,O)}},gradientTransform:w,transform:w,"fill-opacity":C,"stroke-opacity":C,visibility:function(S,A){S.setVisible&&S.setVisible("visible"===A)},display:function(S,A){S.setVisible&&S.setVisible(null!==A)},"stop-color":function(S,A){S.setColor&&S.setColor(A)},"stop-opacity":function(S,A){S._color&&S._color.setAlpha(parseFloat(A))},offset:function(S,A){if(S.setOffset){var O=A.match(/(.*)%$/);S.setOffset(O?O[1]/100:parseFloat(A))}},viewBox:function(S,A,O,L,N){var H,B=new nt(f(A,"array")),V=d(L,null,null,!0);if(S instanceof Un){var U=V?V.divide(B.getSize()):1,G=(new ft).scale(U).translate(B.getPoint().negate());H=S}else S instanceof mn&&(V&&B.setSize(V),H=S._item);if(H){if("visible"!==R(L,"overflow",N)){var $=new Dn.Rectangle(B);$.setClipMask(!0),H.addChild($)}G&&H.transform(G)}}});function R(S,A,O){var L=S.attributes[A],N=L&&L.value;if(!N&&S.style){var B=re.camelize(A);!(N=S.style[B])&&O.node[B]!==O.parent[B]&&(N=O.node[B])}return N?"none"===N?null:N:Me}function k(S,A,O){var L=A.parentNode,N={node:Mt.getStyles(A)||{},parent:!O&&!/^defs$/i.test(L.tagName)&&Mt.getStyles(L)||{}};return re.each(D,function(B,V){var H=R(A,V,N);S=H!==Me&&B(S,H,V,A,N)||S}),S}function P(S){var A=S&&S.match(/\((?:["'#]*)([^"')]+)/),O=A&&A[1],L=O&&r[Dt?O.replace(Dt.location.href.split("#")[0]+"#",""):O];return L&&L._scaleToBounds&&((L=L.clone())._scaleToBounds=!0),L}function I(S,A,O){var V,H,G,L=S.nodeName.toLowerCase(),N="#document"!==L,B=te.body;O&&N&&(o=l.getView().getSize(),o=d(S,null,null,!0)||o,V=pn.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),H=S.parentNode,G=S.nextSibling,V.appendChild(S),B.appendChild(V));var U=l.settings,$=U.applyMatrix,q=U.insertItems;U.applyMatrix=!1,U.insertItems=!1;var K=x[L],X=K&&K(S,L,A,O)||null;if(U.insertItems=q,U.applyMatrix=$,X){N&&!(X instanceof Un)&&(X=k(X,S,O));var ee=A.onImport,ue=N&&S.getAttribute("data-paper-data");ee&&(X=ee(S,X,A)||X),A.expandShapes&&X instanceof Dn&&(X.remove(),X=X.toPath()),ue&&(X._data=JSON.parse(ue))}return V&&(B.removeChild(V),H&&(G?H.insertBefore(S,G):H.appendChild(S))),O&&(r={},X&&re.pick(A.applyMatrix,$)&&X.matrix.apply(!0,!0)),X}function E(S,A,O){if(!S)return null;A="function"==typeof A?{onLoad:A}:A||{};var L=l,N=null;function B(U){try{var $="object"==typeof U?U:(new Ee.DOMParser).parseFromString(U.trim(),"image/svg+xml");if(!$.nodeName)throw $=null,new Error("Unsupported SVG source: "+S);l=L,N=I($,A,!0),(!A||!1!==A.insert)&&O._insertItem(Me,N);var q=A.onLoad;q&&q(N,U)}catch(K){V(K)}}function V(U,$){var q=A.onError;if(!q)throw new Error(U);q(U,$)}if("string"!=typeof S||/^[\s\S]*</.test(S)){if(typeof File<"u"&&S instanceof File){var G=new FileReader;return G.onload=function(){B(G.result)},G.onerror=function(){V(G.error)},G.readAsText(S)}B(S)}else{var H=te.getElementById(S);H?B(H):Kt.request({url:S,async:!0,onLoad:B,onError:V})}return N}tt.inject({importSVG:function(S,A){return E(S,A,this)}}),lt.inject({importSVG:function(S,A){return this.activate(),E(S,A,this)}})},re.exports.PaperScript=function(){var u,c,P,r=this,o=r.acorn;if(!o)try{o=Gt(77)}catch{}function d(k,P){return(r.acorn||o).parse(k,P)}o||(o=u=c={},P=function(k){"use strict";var P,I,E,S;k.version="0.5.0",k.parse=function(ne,oe){return I=String(ne),E=I.length,O(oe),Co(),function bi(ne){ee=ue=N,P.locations&&(fe=new Lr),ve=he=null,_e=[],Cs();var oe=ne||gn(),ge=!0;for(ne||(oe.body=[]);U!==ze;){var Se=Tn();oe.body.push(Se),ge&&bu(Se)&&nr(!0),ge=!1}return Nt(oe,"Program")}(P.program)};var A=k.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function O(ne){for(var oe in P=ne||{},A)Object.prototype.hasOwnProperty.call(P,oe)||(P[oe]=A[oe]);S=P.sourceFile||null}var N,B,V,H,G,U,$,q,K,X,ee,ue,fe,ve,_e,he,L=k.getLineInfo=function(ne,oe){for(var ge=1,Se=0;;){wo.lastIndex=Se;var mt=wo.exec(ne);if(!(mt&&mt.index<oe))break;++ge,Se=mt.index+mt[0].length}return{line:ge,column:oe-Se}};function de(ne,oe){var ge=L(I,ne),Se=new SyntaxError(oe+=" ("+ge.line+":"+ge.column+")");throw Se.pos=ne,Se.loc=ge,Se.raisedAt=N,Se}k.tokenize=function(ne,oe){I=String(ne),E=I.length,O(oe),Co();var ge={};function Se(mt){return ue=V,Cs(mt),ge.start=B,ge.end=V,ge.startLoc=H,ge.endLoc=G,ge.type=U,ge.value=$,ge}return Se.jumpTo=function(mt,Ke){if(N=mt,P.locations){K=1,X=wo.lastIndex=0;for(var St;(St=wo.exec(I))&&St.index<mt;)++K,X=St.index+St[0].length}q=Ke,ws()},Se};var ce=[],be={type:"num"},De={type:"regexp"},ke={type:"string"},Ne={type:"name"},ze={type:"eof"},He={keyword:"break"},Je={keyword:"case",beforeExpr:!0},Vt={keyword:"catch"},ct={keyword:"continue"},xt={keyword:"debugger"},pt={keyword:"default"},ht={keyword:"do",isLoop:!0},it={keyword:"else",beforeExpr:!0},Ht={keyword:"finally"},Le={keyword:"for",isLoop:!0},On={keyword:"function"},$n={keyword:"if"},Cn={keyword:"return",beforeExpr:!0},qe={keyword:"switch"},ln={keyword:"throw",beforeExpr:!0},Nn={keyword:"try"},ci={keyword:"var"},_={keyword:"while",isLoop:!0},M={keyword:"with"},j={keyword:"new",beforeExpr:!0},W={keyword:"this"},J={keyword:"null",atomValue:null},pe={keyword:"true",atomValue:!0},ye={keyword:"false",atomValue:!1},Re={keyword:"in",binop:7,beforeExpr:!0},je={break:He,case:Je,catch:Vt,continue:ct,debugger:xt,default:pt,do:ht,else:it,finally:Ht,for:Le,function:On,if:$n,return:Cn,switch:qe,throw:ln,try:Nn,var:ci,while:_,with:M,null:J,true:pe,false:ye,new:j,in:Re,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:W,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},st={type:"[",beforeExpr:!0},kt={type:"]"},In={type:"{",beforeExpr:!0},Pi={type:"}"},Mn={type:"(",beforeExpr:!0},hi={type:")"},Vi={type:",",beforeExpr:!0},yi={type:";",beforeExpr:!0},Zi={type:":",beforeExpr:!0},hu={type:"."},Wl={type:"?",beforeExpr:!0},du={binop:10,beforeExpr:!0},Gl={isAssign:!0,beforeExpr:!0},ei={isAssign:!0,beforeExpr:!0},on={postfix:!0,prefix:!0,isUpdate:!0},xd={prefix:!0,beforeExpr:!0},Sd={binop:1,beforeExpr:!0},Ed={binop:2,beforeExpr:!0},Ge={binop:3,beforeExpr:!0},Xm={binop:4,beforeExpr:!0},Zn={binop:5,beforeExpr:!0},ea={binop:6,beforeExpr:!0},Dd={binop:7,beforeExpr:!0},Zl={binop:8,beforeExpr:!0},Id={binop:9,prefix:!0,beforeExpr:!0},Md={binop:10,beforeExpr:!0};for(var fu in k.tokTypes={bracketL:st,bracketR:kt,braceL:In,braceR:Pi,parenL:Mn,parenR:hi,comma:Vi,semi:yi,colon:Zi,dot:hu,question:Wl,slash:du,eq:Gl,name:Ne,eof:ze,num:be,regexp:De,string:ke},je)k.tokTypes["_"+fu]=je[fu];function Qr(ne){ne=ne.split(" ");var oe="",ge=[];e:for(var Se=0;Se<ne.length;++Se){for(var mt=0;mt<ge.length;++mt)if(ge[mt][0].length==ne[Se].length){ge[mt].push(ne[Se]);continue e}ge.push([ne[Se]])}function Ke(en){if(1==en.length)return oe+="return str === "+JSON.stringify(en[0])+";";oe+="switch(str){";for(var Yi=0;Yi<en.length;++Yi)oe+="case "+JSON.stringify(en[Yi])+":";oe+="return true}return false;"}if(ge.length>3){for(ge.sort(function(en,Yi){return Yi.length-en.length}),oe+="switch(str.length){",Se=0;Se<ge.length;++Se){var St=ge[Se];oe+="case "+St[0].length+":",Ke(St)}oe+="}"}else Ke(ne);return new Function("str",oe)}var Vr,pu=Qr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Kl=Qr("class enum extends super const export import"),Yl=Qr("implements interface let package private protected public static yield"),dt=Qr("eval arguments"),gu=Qr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Td=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,zi="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",Ad=new RegExp("["+zi+"]"),wn=new RegExp("["+zi+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),mu=/[\n\r\u2028\u2029]/,wo=/\r\n|[\n\r\u2028\u2029]/g,_u=k.isIdentifierStart=function(ne){return ne<65?36===ne:ne<91||(ne<97?95===ne:ne<123||ne>=170&&Ad.test(String.fromCharCode(ne)))},Ws=k.isIdentifierChar=function(ne){return ne<48?36===ne:ne<58||!(ne<65)&&(ne<91||(ne<97?95===ne:ne<123||ne>=170&&wn.test(String.fromCharCode(ne))))};function Lr(){this.line=K,this.column=N-X}function Co(){K=1,N=X=0,q=!0,ws()}function ti(ne,oe){V=N,P.locations&&(G=new Lr),U=ne,ws(),$=oe,q=ne.beforeExpr}function Pd(){var ne=P.onComment&&P.locations&&new Lr,oe=N,ge=I.indexOf("*/",N+=2);if(-1===ge&&de(N-2,"Unterminated comment"),N=ge+2,P.locations){wo.lastIndex=oe;for(var Se;(Se=wo.exec(I))&&Se.index<N;)++K,X=Se.index+Se[0].length}P.onComment&&P.onComment(!0,I.slice(oe+2,ge),oe,N,ne,P.locations&&new Lr)}function vu(){for(var ne=N,oe=P.onComment&&P.locations&&new Lr,ge=I.charCodeAt(N+=2);N<E&&10!==ge&&13!==ge&&8232!==ge&&8233!==ge;)++N,ge=I.charCodeAt(N);P.onComment&&P.onComment(!1,I.slice(ne+2,N),ne,N,oe,P.locations&&new Lr)}function ws(){for(;N<E;){var ne=I.charCodeAt(N);if(32===ne)++N;else if(13===ne)++N,10===(oe=I.charCodeAt(N))&&++N,P.locations&&(++K,X=N);else if(10===ne||8232===ne||8233===ne)++N,P.locations&&(++K,X=N);else if(ne>8&&ne<14)++N;else if(47===ne){var oe;if(42===(oe=I.charCodeAt(N+1)))Pd();else{if(47!==oe)break;vu()}}else if(160===ne)++N;else{if(!(ne>=5760&&Td.test(String.fromCharCode(ne))))break;++N}}}function Cs(ne){if(ne?N=B+1:B=N,P.locations&&(H=new Lr),ne)return Jl();if(N>=E)return ti(ze);var oe=I.charCodeAt(N);if(_u(oe)||92===oe)return ia();var ge=function So(ne){switch(ne){case 46:return function xo(){var ne=I.charCodeAt(N+1);return ne>=48&&ne<=57?Ki(!0):(++N,ti(hu))}();case 40:return++N,ti(Mn);case 41:return++N,ti(hi);case 59:return++N,ti(yi);case 44:return++N,ti(Vi);case 91:return++N,ti(st);case 93:return++N,ti(kt);case 123:return++N,ti(In);case 125:return++N,ti(Pi);case 58:return++N,ti(Zi);case 63:return++N,ti(Wl);case 48:var oe=I.charCodeAt(N+1);if(120===oe||88===oe)return function Cr(){N+=2;var ne=Hi(16);return null==ne&&de(B+2,"Expected hexadecimal number"),_u(I.charCodeAt(N))&&de(N,"Identifier directly after number"),ti(be,ne)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ki(!1);case 34:case 39:return function Br(ne){N++;for(var oe="";;){N>=E&&de(B,"Unterminated string constant");var ge=I.charCodeAt(N);if(ge===ne)return++N,ti(ke,oe);if(92===ge){ge=I.charCodeAt(++N);var Se=/^[0-7]+/.exec(I.slice(N,N+3));for(Se&&(Se=Se[0]);Se&&parseInt(Se,8)>255;)Se=Se.slice(0,-1);if("0"===Se&&(Se=null),++N,Se)he&&de(N-2,"Octal literal in strict mode"),oe+=String.fromCharCode(parseInt(Se,8)),N+=Se.length-1;else switch(ge){case 110:oe+="\n";break;case 114:oe+="\r";break;case 120:oe+=String.fromCharCode(Yt(2));break;case 117:oe+=String.fromCharCode(Yt(4));break;case 85:oe+=String.fromCharCode(Yt(8));break;case 116:oe+="\t";break;case 98:oe+="\b";break;case 118:oe+="\v";break;case 102:oe+="\f";break;case 48:oe+="\0";break;case 13:10===I.charCodeAt(N)&&++N;case 10:P.locations&&(X=N,++K);break;default:oe+=String.fromCharCode(ge)}}else(13===ge||10===ge||8232===ge||8233===ge)&&de(B,"Unterminated string constant"),oe+=String.fromCharCode(ge),++N}}(ne);case 47:return function Gs(){var ne=I.charCodeAt(N+1);return q?(++N,Jl()):61===ne?ni(ei,2):ni(du,1)}();case 37:case 42:return function kd(){return 61===I.charCodeAt(N+1)?ni(ei,2):ni(Md,1)}();case 124:case 38:return function xe(ne){var oe=I.charCodeAt(N+1);return oe===ne?ni(124===ne?Sd:Ed,2):61===oe?ni(ei,2):ni(124===ne?Ge:Zn,1)}(ne);case 94:return function Ql(){return 61===I.charCodeAt(N+1)?ni(ei,2):ni(Xm,1)}();case 43:case 45:return function Rt(ne){var oe=I.charCodeAt(N+1);return oe===ne?45==oe&&62==I.charCodeAt(N+2)&&mu.test(I.slice(ue,N))?(N+=3,vu(),ws(),Cs()):ni(on,2):61===oe?ni(ei,2):ni(Id,1)}(ne);case 60:case 62:return function ta(ne){var oe=I.charCodeAt(N+1),ge=1;return oe===ne?(ge=62===ne&&62===I.charCodeAt(N+2)?3:2,61===I.charCodeAt(N+ge)?ni(ei,ge+1):ni(Zl,ge)):33==oe&&60==ne&&45==I.charCodeAt(N+2)&&45==I.charCodeAt(N+3)?(N+=4,vu(),ws(),Cs()):(61===oe&&(ge=61===I.charCodeAt(N+2)?3:2),ni(Dd,ge))}(ne);case 61:case 33:return function yu(ne){return 61===I.charCodeAt(N+1)?ni(ea,61===I.charCodeAt(N+2)?3:2):ni(61===ne?Gl:xd,1)}(ne);case 126:return ni(xd,1)}return!1}(oe);if(!1===ge){var Se=String.fromCharCode(oe);if("\\"===Se||Ad.test(Se))return ia();de(N,"Unexpected character '"+Se+"'")}return ge}function ni(ne,oe){var ge=I.slice(N,N+oe);N+=oe,ti(ne,ge)}function Jl(){for(var ne,oe,ge=N;;){N>=E&&de(ge,"Unterminated regular expression");var Se=I.charAt(N);if(mu.test(Se)&&de(ge,"Unterminated regular expression"),ne)ne=!1;else{if("["===Se)oe=!0;else if("]"===Se&&oe)oe=!1;else if("/"===Se&&!oe)break;ne="\\"===Se}++N}var mt=I.slice(ge,N);++N;var Ke=na();Ke&&!/^[gmsiy]*$/.test(Ke)&&de(ge,"Invalid regexp flag");try{var St=new RegExp(mt,Ke)}catch(en){en instanceof SyntaxError&&de(ge,en.message),de(en)}return ti(De,St)}function Hi(ne,oe){for(var ge=N,Se=0,mt=0,Ke=oe??1/0;mt<Ke;++mt){var en,St=I.charCodeAt(N);if((en=St>=97?St-97+10:St>=65?St-65+10:St>=48&&St<=57?St-48:1/0)>=ne)break;++N,Se=Se*ne+en}return N===ge||null!=oe&&N-ge!==oe?null:Se}function Ki(ne){var oe=N,ge=!1,Se=48===I.charCodeAt(N);!ne&&null===Hi(10)&&de(oe,"Invalid number"),46===I.charCodeAt(N)&&(++N,Hi(10),ge=!0);var mt=I.charCodeAt(N);(69===mt||101===mt)&&((43===(mt=I.charCodeAt(++N))||45===mt)&&++N,null===Hi(10)&&de(oe,"Invalid number"),ge=!0),_u(I.charCodeAt(N))&&de(N,"Identifier directly after number");var St,Ke=I.slice(oe,N);return ge?St=parseFloat(Ke):Se&&1!==Ke.length?/[89]/.test(Ke)||he?de(oe,"Invalid number"):St=parseInt(Ke,8):St=parseInt(Ke,10),ti(be,St)}function Yt(ne){var oe=Hi(16,ne);return null===oe&&de(B,"Bad character escape sequence"),oe}function na(){Vr=!1;for(var ne,oe=!0,ge=N;;){var Se=I.charCodeAt(N);if(Ws(Se))Vr&&(ne+=I.charAt(N)),++N;else{if(92!==Se)break;Vr||(ne=I.slice(ge,N)),Vr=!0,117!=I.charCodeAt(++N)&&de(N,"Expecting Unicode escape sequence \\uXXXX"),++N;var mt=Yt(4),Ke=String.fromCharCode(mt);Ke||de(N-1,"Invalid Unicode escape"),(oe?_u(mt):Ws(mt))||de(N-4,"Invalid Unicode escape"),ne+=Ke}oe=!1}return Vr?ne:I.slice(ge,N)}function ia(){var ne=na(),oe=Ne;return!Vr&&gu(ne)&&(oe=je[ne]),ti(oe,ne)}function Xt(){ee=B,ue=V,fe=G,Cs()}function nr(ne){if(he=ne,N=B,P.locations)for(;N<X;)X=I.lastIndexOf("\n",X-2)+1,--K;ws(),Cs()}function Zs(){this.type=null,this.start=B,this.end=null}function ec(){this.start=H,this.end=null,null!==S&&(this.source=S)}function gn(){var ne=new Zs;return P.locations&&(ne.loc=new ec),P.directSourceFile&&(ne.sourceFile=P.directSourceFile),P.ranges&&(ne.range=[B,0]),ne}function Jr(ne){var oe=new Zs;return oe.start=ne.start,P.locations&&(oe.loc=new ec,oe.loc.start=ne.loc.start),P.ranges&&(oe.range=[ne.range[0],0]),oe}function Nt(ne,oe){return ne.type=oe,ne.end=ue,P.locations&&(ne.loc.end=fe),P.ranges&&(ne.range[1]=ue),ne}function bu(ne){return P.ecmaVersion>=5&&"ExpressionStatement"===ne.type&&"Literal"===ne.expression.type&&"use strict"===ne.expression.value}function Ft(ne){if(U===ne)return Xt(),!0}function ra(){return!P.strictSemicolons&&(U===ze||U===Pi||mu.test(I.slice(ue,B)))}function es(){!Ft(yi)&&!ra()&&Fn()}function Tt(ne){U===ne?Xt():Fn()}function Fn(){de(B,"Unexpected token")}function Jt(ne){"Identifier"!==ne.type&&"MemberExpression"!==ne.type&&de(ne.start,"Assigning to rvalue"),he&&"Identifier"===ne.type&&dt(ne.name)&&de(ne.start,"Assigning to "+ne.name+" in strict mode")}var wi={kind:"loop"},Ks={kind:"switch"};function Tn(){(U===du||U===ei&&"/="==$)&&Cs(!0);var ne=U,oe=gn();switch(ne){case He:case ct:Xt();var ge=ne===He;Ft(yi)||ra()?oe.label=null:U!==Ne?Fn():(oe.label=An(),es());for(var Se=0;Se<_e.length;++Se){var mt=_e[Se];if((null==oe.label||mt.name===oe.label.name)&&(null!=mt.kind&&(ge||"loop"===mt.kind)||oe.label&&ge))break}return Se===_e.length&&de(oe.start,"Unsyntactic "+ne.keyword),Nt(oe,ge?"BreakStatement":"ContinueStatement");case xt:return Xt(),es(),Nt(oe,"DebuggerStatement");case ht:return Xt(),_e.push(wi),oe.body=Tn(),_e.pop(),Tt(_),oe.test=Ys(),es(),Nt(oe,"DoWhileStatement");case Le:if(Xt(),_e.push(wi),Tt(Mn),U===yi)return Qs(oe,null);if(U===ci){var Ke=gn();return Xt(),Qe(Ke,!0),Nt(Ke,"VariableDeclaration"),1===Ke.declarations.length&&Ft(Re)?xr(oe,Ke):Qs(oe,Ke)}return Ke=ut(!1,!0),Ft(Re)?(Jt(Ke),xr(oe,Ke)):Qs(oe,Ke);case On:return Xt(),sa(oe,!0);case $n:return Xt(),oe.test=Ys(),oe.consequent=Tn(),oe.alternate=Ft(it)?Tn():null,Nt(oe,"IfStatement");case Cn:return!ve&&!P.allowReturnOutsideFunction&&de(B,"'return' outside of function"),Xt(),Ft(yi)||ra()?oe.argument=null:(oe.argument=ut(),es()),Nt(oe,"ReturnStatement");case qe:Xt(),oe.discriminant=Ys(),oe.cases=[],Tt(In),_e.push(Ks);for(var St,en;U!=Pi;)if(U===Je||U===pt){var Yi=U===Je;St&&Nt(St,"SwitchCase"),oe.cases.push(St=gn()),St.consequent=[],Xt(),Yi?St.test=ut():(en&&de(ee,"Multiple default clauses"),en=!0,St.test=null),Tt(Zi)}else St||Fn(),St.consequent.push(Tn());return St&&Nt(St,"SwitchCase"),Xt(),_e.pop(),Nt(oe,"SwitchStatement");case ln:return Xt(),mu.test(I.slice(ue,B))&&de(ue,"Illegal newline after throw"),oe.argument=ut(),es(),Nt(oe,"ThrowStatement");case Nn:if(Xt(),oe.block=Xs(),oe.handler=null,U===Vt){var Sr=gn();Xt(),Tt(Mn),Sr.param=An(),he&&dt(Sr.param.name)&&de(Sr.param.start,"Binding "+Sr.param.name+" in strict mode"),Tt(hi),Sr.guard=null,Sr.body=Xs(),oe.handler=Nt(Sr,"CatchClause")}return oe.guardedHandlers=ce,oe.finalizer=Ft(Ht)?Xs():null,!oe.handler&&!oe.finalizer&&de(oe.start,"Missing catch or finally clause"),Nt(oe,"TryStatement");case ci:return Xt(),Qe(oe),es(),Nt(oe,"VariableDeclaration");case _:return Xt(),oe.test=Ys(),_e.push(wi),oe.body=Tn(),_e.pop(),Nt(oe,"WhileStatement");case M:return he&&de(B,"'with' in strict mode"),Xt(),oe.object=Ys(),oe.body=Tn(),Nt(oe,"WithStatement");case In:return Xs();case yi:return Xt(),Nt(oe,"EmptyStatement");default:var to=$,zr=ut();if(ne===Ne&&"Identifier"===zr.type&&Ft(Zi)){for(Se=0;Se<_e.length;++Se)_e[Se].name===to&&de(zr.start,"Label '"+to+"' is already declared");return _e.push({name:to,kind:U.isLoop?"loop":U===qe?"switch":null}),oe.body=Tn(),_e.pop(),oe.label=zr,Nt(oe,"LabeledStatement")}return oe.expression=zr,es(),Nt(oe,"ExpressionStatement")}}function Ys(){Tt(Mn);var ne=ut();return Tt(hi),ne}function Xs(ne){var mt,oe=gn(),ge=!0,Se=!1;for(oe.body=[],Tt(In);!Ft(Pi);){var Ke=Tn();oe.body.push(Ke),ge&&ne&&bu(Ke)&&(mt=Se,nr(Se=!0)),ge=!1}return Se&&!mt&&nr(!1),Nt(oe,"BlockStatement")}function Qs(ne,oe){return ne.init=oe,Tt(yi),ne.test=U===yi?null:ut(),Tt(yi),ne.update=U===hi?null:ut(),Tt(hi),ne.body=Tn(),_e.pop(),Nt(ne,"ForStatement")}function xr(ne,oe){return ne.left=oe,ne.right=ut(),Tt(hi),ne.body=Tn(),_e.pop(),Nt(ne,"ForInStatement")}function Qe(ne,oe){for(ne.declarations=[],ne.kind="var";;){var ge=gn();if(ge.id=An(),he&&dt(ge.id.name)&&de(ge.id.start,"Binding "+ge.id.name+" in strict mode"),ge.init=Ft(Gl)?ut(!0,oe):null,ne.declarations.push(Nt(ge,"VariableDeclarator")),!Ft(Vi))break}return ne}function ut(ne,oe){var ge=xn(oe);if(!ne&&U===Vi){var Se=Jr(ge);for(Se.expressions=[ge];Ft(Vi);)Se.expressions.push(xn(oe));return Nt(Se,"SequenceExpression")}return ge}function xn(ne){var oe=function ir(ne){var oe=function xs(ne){return ii(ts(),-1,ne)}(ne);if(Ft(Wl)){var ge=Jr(oe);return ge.test=oe,ge.consequent=ut(!0),Tt(Zi),ge.alternate=ut(!0,ne),Nt(ge,"ConditionalExpression")}return oe}(ne);if(U.isAssign){var ge=Jr(oe);return ge.operator=$,ge.left=oe,Xt(),ge.right=xn(ne),Jt(oe),Nt(ge,"AssignmentExpression")}return oe}function ii(ne,oe,ge){var Se=U.binop;if(null!=Se&&(!ge||U!==Re)&&Se>oe){var mt=Jr(ne);mt.left=ne,mt.operator=$;var Ke=U;return Xt(),mt.right=ii(ts(),Se,ge),ii(Nt(mt,Ke===Sd||Ke===Ed?"LogicalExpression":"BinaryExpression"),oe,ge)}return ne}function ts(){if(U.prefix){var ne=gn(),oe=U.isUpdate;return ne.operator=$,ne.prefix=!0,q=!0,Xt(),ne.argument=ts(),oe?Jt(ne.argument):he&&"delete"===ne.operator&&"Identifier"===ne.argument.type&&de(ne.start,"Deleting local variable in strict mode"),Nt(ne,oe?"UpdateExpression":"UnaryExpression")}for(var ge=function Vn(){return ns(Js())}();U.postfix&&!ra();)(ne=Jr(ge)).operator=$,ne.prefix=!1,ne.argument=ge,Jt(ge),Xt(),ge=Nt(ne,"UpdateExpression");return ge}function ns(ne,oe){var ge;return Ft(hu)?((ge=Jr(ne)).object=ne,ge.property=An(!0),ge.computed=!1,ns(Nt(ge,"MemberExpression"),oe)):Ft(st)?((ge=Jr(ne)).object=ne,ge.property=ut(),ge.computed=!0,Tt(kt),ns(Nt(ge,"MemberExpression"),oe)):!oe&&Ft(Mn)?((ge=Jr(ne)).callee=ne,ge.arguments=is(hi,!1),ns(Nt(ge,"CallExpression"),oe)):ne}function Js(){switch(U){case W:var Se=gn();return Xt(),Nt(Se,"ThisExpression");case Ne:return An();case be:case ke:case De:return(Se=gn()).value=$,Se.raw=I.slice(B,V),Xt(),Nt(Se,"Literal");case J:case pe:case ye:return(Se=gn()).value=U.atomValue,Se.raw=U.keyword,Xt(),Nt(Se,"Literal");case Mn:var ne=H,oe=B;Xt();var ge=ut();return ge.start=oe,ge.end=V,P.locations&&(ge.loc.start=ne,ge.loc.end=G),P.ranges&&(ge.range=[oe,V]),Tt(hi),ge;case st:return Se=gn(),Xt(),Se.elements=is(kt,!0,!0),Nt(Se,"ArrayExpression");case In:return function wu(){var ne=gn(),oe=!0,ge=!1;for(ne.properties=[],Xt();!Ft(Pi);){if(oe)oe=!1;else if(Tt(Vi),P.allowTrailingCommas&&Ft(Pi))break;var Ke,Se={key:eo()},mt=!1;if(Ft(Zi)?(Se.value=ut(!0),Ke=Se.kind="init"):P.ecmaVersion>=5&&"Identifier"===Se.key.type&&("get"===Se.key.name||"set"===Se.key.name)?(mt=ge=!0,Ke=Se.kind=Se.key.name,Se.key=eo(),U!==Mn&&Fn(),Se.value=sa(gn(),!1)):Fn(),"Identifier"===Se.key.type&&(he||ge))for(var St=0;St<ne.properties.length;++St){var en=ne.properties[St];if(en.key.name===Se.key.name){var Yi=Ke==en.kind||mt&&"init"===en.kind||"init"===Ke&&("get"===en.kind||"set"===en.kind);Yi&&!he&&"init"===Ke&&"init"===en.kind&&(Yi=!1),Yi&&de(Se.key.start,"Redefinition of property")}}ne.properties.push(Se)}return Nt(ne,"ObjectExpression")}();case On:return Se=gn(),Xt(),sa(Se,!1);case j:return function Lt(){var ne=gn();return Xt(),ne.callee=ns(Js(),!0),ne.arguments=Ft(Mn)?is(hi,!1):ce,Nt(ne,"NewExpression")}();default:Fn()}}function eo(){return U===be||U===ke?Js():An(!0)}function sa(ne,oe){U===Ne?ne.id=An():oe?Fn():ne.id=null,ne.params=[];var ge=!0;for(Tt(Mn);!Ft(hi);)ge?ge=!1:Tt(Vi),ne.params.push(An());var Se=ve,mt=_e;if(ve=!0,_e=[],ne.body=Xs(!0),ve=Se,_e=mt,he||ne.body.body.length&&bu(ne.body.body[0]))for(var Ke=ne.id?-1:0;Ke<ne.params.length;++Ke){var St=Ke<0?ne.id:ne.params[Ke];if((Yl(St.name)||dt(St.name))&&de(St.start,"Defining '"+St.name+"' in strict mode"),Ke>=0)for(var en=0;en<Ke;++en)St.name===ne.params[en].name&&de(St.start,"Argument name clash in strict mode")}return Nt(ne,oe?"FunctionDeclaration":"FunctionExpression")}function is(ne,oe,ge){for(var Se=[],mt=!0;!Ft(ne);){if(mt)mt=!1;else if(Tt(Vi),oe&&P.allowTrailingCommas&&Ft(ne))break;Se.push(ge&&U===Vi?null:ut(!0))}return Se}function An(ne){var oe=gn();return ne&&"everywhere"==P.forbidReserved&&(ne=!1),U===Ne?(!ne&&(P.forbidReserved&&(3===P.ecmaVersion?pu:Kl)($)||he&&Yl($))&&-1==I.slice(B,V).indexOf("\\")&&de(B,"The keyword '"+$+"' is reserved"),oe.name=$):ne&&U.keyword?oe.name=U.keyword:Fn(),q=!1,Xt(),Nt(oe,"Identifier")}},"object"==typeof u&&"object"==typeof c?P(u):(It=[u],(Gi="function"==typeof(Jn=P)?Jn.apply(u,It):Jn)!==Me&&(c.exports=Gi)),o.version||(o=null));var f={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},g={"-":"__negate","+":"__self"},m=re.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(k){this["__"+k]="#"+k},{__self:function(){return this}});function v(k,P,I){var E=f[P];if(k&&k[E]){var S=k[E](I);return"!="===P?!S:S}switch(P){case"+":return k+I;case"-":return k-I;case"*":return k*I;case"/":return k/I;case"%":return k%I;case"==":return k==I;case"!=":return k!=I}}function b(k,P){var I=g[k];if(P&&P[I])return P[I]();switch(k){case"+":return+P;case"-":return-P}}function x(k,P){if(!k)return"";var I=[];function E(he){for(var de=0,ce=I.length;de<ce;de++){var be=I[de];if(be[0]>=he)break;he+=be[1]}return he}function S(he){return k.substring(E(he.range[0]),E(he.range[1]))}function O(he,de){for(var ce=E(he.range[0]),be=E(he.range[1]),De=0,ke=I.length-1;ke>=0;ke--)if(ce>I[ke][0]){De=ke+1;break}I.splice(De,0,[ce,de.length-be+ce]),k=k.substring(0,ce)+de+k.substring(be)}var fe,H=(P=P||{}).url||"",G=P.sourceMaps,U=P.paperFeatures||{},$=P.source||k,q=P.offset||0,K=l.agent,X=K.versionNumber,ee=!1,ue=/\r\n|\n|\r/gm;if(G&&(K.chrome&&X>=30||K.webkit&&X>=537.76||K.firefox&&X>=23||K.node)){if(K.node)q-=2;else if(Dt&&H&&!Dt.location.href.indexOf(H)){var ve=te.getElementsByTagName("html")[0].innerHTML;q=ve.substr(0,ve.indexOf(k)+1).match(ue).length+1}var _e=["AA"+function V(he){var de="";for(he=(Math.abs(he)<<1)+(he<0?1:0);he||!de;){var be=31&he;(he>>=5)&&(be|=32),de+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[be]}return de}((ee=q>0&&!(K.chrome&&X>=36||K.safari&&X>=600||K.firefox&&X>=40||K.node))?0:q)+"A"];_e.length=(k.match(ue)||[]).length+1+(ee?q:0),fe={version:3,file:H,names:[],mappings:_e.join(";AACA"),sourceRoot:"",sources:[H],sourcesContent:[$]}}return(!1!==U.operatorOverloading||!1!==U.moduleExports)&&function B(he,de,ce){if(he){for(var be in he)if("range"!==be&&"loc"!==be){var De=he[be];if(Array.isArray(De))for(var ke=0,Ne=De.length;ke<Ne;ke++)B(De[ke],he,ce);else De&&"object"==typeof De&&B(De,he,ce)}!1!==ce.operatorOverloading&&function L(he,de){switch(he.type){case"UnaryExpression":if(he.operator in g&&"Literal"!==he.argument.type){var ce=S(he.argument);O(he,'$__("'+he.operator+'", '+ce+")")}break;case"BinaryExpression":if(he.operator in f&&"Literal"!==he.left.type){var be=S(he.left),De=S(he.right),ke=function A(he,de){return k.substring(E(he.range[1]),E(de.range[0]))}(he.left,he.right),Ne=he.operator;O(he,"__$__("+be+","+ke.replace(new RegExp("\\"+Ne),'"'+Ne+'"')+", "+De+")")}break;case"UpdateExpression":case"AssignmentExpression":var ze=de&&de.type;if(!("ForStatement"===ze||"BinaryExpression"===ze&&/^[=!<>]/.test(de.operator)||"MemberExpression"===ze&&de.computed))if("UpdateExpression"===he.type){var Je=(ce=S(he.argument))+" = "+(He="__$__("+ce+', "'+he.operator[0]+'", 1)');he.prefix?Je="("+Je+")":("AssignmentExpression"===ze||"VariableDeclarator"===ze||"BinaryExpression"===ze)&&(S(de.left||de.id)===ce&&(Je=He),Je=ce+"; "+Je),O(he,Je)}else if(/^.=$/.test(he.operator)&&"Literal"!==he.left.type){be=S(he.left),De=S(he.right);var He=be+" = __$__("+be+', "'+he.operator[0]+'", '+De+")";O(he,/^\(.*\)$/.test(S(he))?"("+He+")":He)}}}(he,de),!1!==ce.moduleExports&&function N(he){switch(he.type){case"ExportDefaultDeclaration":O({range:[he.start,he.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var de=he.declaration,ce=he.specifiers;if(de){var be=de.declarations;be&&(be.forEach(function(ke){O(ke,"module.exports."+S(ke))}),O({range:[he.start,de.start+de.kind.length]},""))}else if(ce){var De=ce.map(function(ke){var Ne=S(ke);return"module.exports."+Ne+" = "+Ne+"; "}).join("");De&&O(he,De)}}}(he)}}(d(k,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,U),fe&&(ee&&(k=new Array(q+1).join("\n")+k),/^(inline|both)$/.test(G)&&(k+="\n//# sourceMappingURL=data:application/json;base64,"+Ee.btoa(unescape(encodeURIComponent(JSON.stringify(fe))))),k+="\n//# sourceURL="+(H||"paperscript")),{url:H,source:$,code:k,map:fe}}function w(k,P,I){l=P;var B,E=P.getView(),S=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(k)&&!/\bnew\s+Tool\b/.test(k)?new bs:null,A=S?S._events:[],O=["onFrame","onResize"].concat(A),L=[],N=[],V="object"==typeof k?k:x(k,I);function H(X,ee){for(var ue in X)(ee||!/^_/.test(ue))&&new RegExp("([\\b\\s\\W]|^)"+ue.replace(/\$/g,"\\$")+"\\b").test(k)&&(L.push(ue),N.push(X[ue]))}k=V.code,H({__$__:v,$__:b,paper:P,tool:S},!0),H(P),k="var module = { exports: {} }; "+k,(q=re.each(O,function(X){new RegExp("\\s+"+X+"\\b").test(k)&&(L.push(X),this.push("module.exports."+X+" = "+X+";"))},[]).join("\n"))&&(k+="\n"+q),k+="\nreturn module.exports;";var G=l.agent;if(te&&(G.chrome||G.firefox&&G.versionNumber<40)){var U=te.createElement("script"),$=te.head||te.getElementsByTagName("head")[0];G.firefox&&(k="\n"+k),U.appendChild(te.createTextNode("document.__paperscript__ = function("+L+") {"+k+"\n}")),$.appendChild(U),B=te.__paperscript__,delete te.__paperscript__,$.removeChild(U)}else B=Function(L,k);var q,K=(q=B&&B.apply(P,N))||{};return re.each(A,function(X){var ee=K[X];ee&&(S[X]=ee)}),E&&(K.onResize&&E.setOnResize(K.onResize),E.emit("resize",{size:E.size,delta:new se}),K.onFrame&&E.setOnFrame(K.onFrame),E.requestUpdate()),q}function C(k){if(/^text\/(?:x-|)paperscript$/.test(k.type)&&"true"!==kn.getAttribute(k,"ignore")){var P=kn.getAttribute(k,"canvas"),I=te.getElementById(P),E=k.src||k.getAttribute("data-src"),S=kn.hasAttribute(k,"async"),A="data-paper-scope";if(!I)throw new Error('Unable to find canvas with id "'+P+'"');var O=kn.get(I.getAttribute(A))||(new kn).setup(I);return I.setAttribute(A,O._id),E?Kt.request({url:E,async:S,mimeType:"text/plain",onLoad:function(L){w(L,O,E)}}):w(k.innerHTML,O,k.baseURI),k.setAttribute("data-paper-ignore","true"),O}}function D(){re.each(te&&te.getElementsByTagName("script"),C)}return se.inject(m),Ae.inject(m),un.inject(m),Dt&&("complete"===te.readyState?setTimeout(D):Ct.add(Dt,{load:D})),{compile:x,execute:w,load:function R(k){return k?C(k):D()},parse:d,calculateBinary:v,calculateUnary:b}}.call(this);var l=new(kn.inject(re.exports,{Base:re,Numerical:gt,Key:Bi,DomEvent:Ct,DomElement:Mt,document:te,window:Dt,Symbol:mn,PlacedSymbol:Si}));return l.agent.node&&Gt(858)(l),(Gi="function"==typeof(Jn=l)?Jn.call(Xr,Gt,Xr,yr):Jn)!==Me&&(yr.exports=Gi),l}).call(this,"object"==typeof self?self:null)},858:()=>{},158:()=>{}},yr=>{yr(yr.s=579)}]);