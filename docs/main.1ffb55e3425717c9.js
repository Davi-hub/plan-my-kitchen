(self.webpackChunkplan_my_kitchen=self.webpackChunkplan_my_kitchen||[]).push([[179],{732:(sr,Lr,jt)=>{"use strict";function Ut(n){return"function"==typeof n}function Wn(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ni=Wn(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,o)=>`${o+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function oi(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ie{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const l of t)l.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ut(i))try{i()}catch(l){e=l instanceof Ni?l.errors:[l]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const l of o)try{ie(l)}catch(h){e=e??[],h instanceof Ni?e=[...e,...h.errors]:e.push(h)}}if(e)throw new Ni(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ie(e);else{if(e instanceof Ie){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oi(t,e)}remove(e){const{_finalizers:t}=this;t&&oi(t,e),e instanceof Ie&&e._removeParent(this)}}Ie.EMPTY=(()=>{const n=new Ie;return n.closed=!0,n})();const Te=Ie.EMPTY;function Dt(n){return n instanceof Ie||n&&"closed"in n&&Ut(n.remove)&&Ut(n.add)&&Ut(n.unsubscribe)}function ie(n){Ut(n)?n():n.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Jn={setTimeout(n,e,...t){const{delegate:i}=Jn;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Jn;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function In(n){Jn.setTimeout(()=>{const{onUnhandledError:e}=se;if(!e)throw n;e(n)})}function Tn(){}const pn=le("C",void 0,void 0);function le(n,e,t){return{kind:n,value:e,error:t}}let ae=null;function We(n){if(se.useDeprecatedSynchronousErrorHandling){const e=!ae;if(e&&(ae={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ae;if(ae=null,t)throw i}}else n()}class Q extends Ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dt(e)&&e.add(this)):this.destination=Nn}static create(e,t,i){return new un(e,t,i)}next(e){this.isStopped?Un(function _t(n){return le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Un(function je(n){return le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Un(pn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function $t(n,e){return tt.call(n,e)}class gt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){ct(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){ct(i)}else ct(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ct(t)}}}class un extends Q{constructor(e,t,i){let o;if(super(),Ut(e)||!e)o={next:e??void 0,error:t??void 0,complete:i??void 0};else{let l;this&&se.useDeprecatedNextContext?(l=Object.create(e),l.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&$t(e.next,l),error:e.error&&$t(e.error,l),complete:e.complete&&$t(e.complete,l)}):o=e}this.destination=new gt(o)}}function ct(n){se.useDeprecatedSynchronousErrorHandling?function Ae(n){se.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=n)}(n):In(n)}function Un(n,e){const{onStoppedNotification:t}=se;t&&Jn.setTimeout(()=>t(n,e))}const Nn={closed:!0,next:Tn,error:function et(n){throw n},complete:Tn},Cn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rn(n){return n}function hn(n){return 0===n.length?Rn:1===n.length?n[0]:function(t){return n.reduce((i,o)=>o(i),t)}}let Fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,o){const l=function Pe(n){return n&&n instanceof Q||function Re(n){return n&&Ut(n.next)&&Ut(n.error)&&Ut(n.complete)}(n)&&Dt(n)}(t)?t:new un(t,i,o);return We(()=>{const{operator:h,source:_}=this;l.add(h?h.call(l,_):_?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=ot(i))((o,l)=>{const h=new un({next:_=>{try{t(_)}catch(w){l(w),h.unsubscribe()}},error:l,complete:o});this.subscribe(h)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Cn](){return this}pipe(...t){return hn(t)(this)}toPromise(t){return new(t=ot(t))((i,o)=>{let l;this.subscribe(h=>l=h,h=>o(h),()=>i(l))})}}return n.create=e=>new n(e),n})();function ot(n){var e;return null!==(e=n??se.Promise)&&void 0!==e?e:Promise}const Fn=Wn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ht=(()=>{class n extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new bt(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Fn}next(t){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:o,observers:l}=this;return i||o?Te:(this.currentObservers=null,l.push(t),new Ie(()=>{this.currentObservers=null,oi(l,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:o,isStopped:l}=this;i?t.error(o):l&&t.complete()}asObservable(){const t=new Fe;return t.source=this,t}}return n.create=(e,t)=>new bt(e,t),n})();class bt extends ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Te}}function ai(n){return Ut(n?.lift)}function gn(n){return e=>{if(ai(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xt(n,e,t,i,o){return new Ei(n,e,t,i,o)}class Ei extends Q{constructor(e,t,i,o,l,h){super(e),this.onFinalize=l,this.shouldUnsubscribe=h,this._next=t?function(_){try{t(_)}catch(w){e.error(w)}}:super._next,this._error=o?function(_){try{o(_)}catch(w){e.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(_){e.error(_)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ze(n,e){return gn((t,i)=>{let o=0;t.subscribe(Xt(i,l=>{i.next(n.call(e,l,o++))}))})}function u(n){return this instanceof u?(this.v=n,this):new u(n)}function a(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function qt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(l){t[l]=n[l]&&function(h){return new Promise(function(_,w){!function o(l,h,_,w){Promise.resolve(w).then(function(k){l({value:k,done:_})},h)}(_,w,(h=n[l](h)).done,h.value)})}}}const S=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function b(n){return Ut(n?.then)}function C(n){return Ut(n[Cn])}function D(n){return Symbol.asyncIterator&&Ut(n?.[Symbol.asyncIterator])}function N(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const P=function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I(n){return Ut(n?.[P])}function x(n){return function r(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=t.apply(n,e||[]),l=[];return o={},h("next"),h("throw"),h("return"),o[Symbol.asyncIterator]=function(){return this},o;function h(J){i[J]&&(o[J]=function(te){return new Promise(function(oe,de){l.push([J,te,oe,de])>1||_(J,te)})})}function _(J,te){try{!function w(J){J.value instanceof u?Promise.resolve(J.value.v).then(k,B):H(l[0][2],J)}(i[J](te))}catch(oe){H(l[0][3],oe)}}function k(J){_("next",J)}function B(J){_("throw",J)}function H(J,te){J(te),l.shift(),l.length&&_(l[0][0],l[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:o}=yield u(t.read());if(o)return yield u(void 0);yield yield u(i)}}finally{t.releaseLock()}})}function E(n){return Ut(n?.getReader)}function M(n){if(n instanceof Fe)return n;if(null!=n){if(C(n))return function R(n){return new Fe(e=>{const t=n[Cn]();if(Ut(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(S(n))return function L(n){return new Fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(b(n))return function F(n){return new Fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,In)})}(n);if(D(n))return z(n);if(I(n))return function V(n){return new Fe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(E(n))return function U(n){return z(x(n))}(n)}throw N(n)}function z(n){return new Fe(e=>{(function K(n,e){var t,i,o,l;return function Os(n,e,t,i){return new(t||(t=Promise))(function(l,h){function _(B){try{k(i.next(B))}catch(H){h(H)}}function w(B){try{k(i.throw(B))}catch(H){h(H)}}function k(B){B.done?l(B.value):function o(l){return l instanceof t?l:new t(function(h){h(l)})}(B.value).then(_,w)}k((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=a(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(h){o={error:h}}finally{try{i&&!i.done&&(l=t.return)&&(yield l.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function $(n,e,t,i=0,o=!1){const l=e.schedule(function(){t(),o?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(l),!o)return l}function W(n,e,t=1/0){return Ut(e)?W((i,o)=>Ze((l,h)=>e(i,l,o,h))(M(n(i,o))),t):("number"==typeof e&&(t=e),gn((i,o)=>function q(n,e,t,i,o,l,h,_){const w=[];let k=0,B=0,H=!1;const J=()=>{H&&!w.length&&!k&&e.complete()},te=de=>k<i?oe(de):w.push(de),oe=de=>{l&&e.next(de),k++;let ve=!1;M(t(de,B++)).subscribe(Xt(e,Ee=>{o?.(Ee),l?te(Ee):e.next(Ee)},()=>{ve=!0},void 0,()=>{if(ve)try{for(k--;w.length&&k<i;){const Ee=w.shift();h?$(e,h,()=>oe(Ee)):oe(Ee)}J()}catch(Ee){e.error(Ee)}}))};return n.subscribe(Xt(e,te,()=>{H=!0,J()})),()=>{_?.()}}(i,o,n,t)))}function Y(n=1/0){return W(Rn,n)}const X=new Fe(n=>n.complete());function we(n){return n[n.length-1]}function ye(n){return Ut(we(n))?n.pop():void 0}function fe(n){return function ge(n){return n&&Ut(n.schedule)}(we(n))?n.pop():void 0}function he(n,e=0){return gn((t,i)=>{t.subscribe(Xt(i,o=>$(i,n,()=>i.next(o),e),()=>$(i,n,()=>i.complete(),e),o=>$(i,n,()=>i.error(o),e)))})}function Ce(n,e=0){return gn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Ue(n,e){if(!n)throw new Error("Iterable cannot be null");return new Fe(t=>{$(t,e,()=>{const i=n[Symbol.asyncIterator]();$(t,e,()=>{i.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function ft(n,e){return e?function Ft(n,e){if(null!=n){if(C(n))return function De(n,e){return M(n).pipe(Ce(e),he(e))}(n,e);if(S(n))return function Ne(n,e){return new Fe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(b(n))return function ke(n,e){return M(n).pipe(Ce(e),he(e))}(n,e);if(D(n))return Ue(n,e);if(I(n))return function ze(n,e){return new Fe(t=>{let i;return $(t,e,()=>{i=n[P](),$(t,e,()=>{let o,l;try{({value:o,done:l}=i.next())}catch(h){return void t.error(h)}l?t.complete():t.next(o)},0,!0)}),()=>Ut(i?.return)&&i.return()})}(n,e);if(E(n))return function Xe(n,e){return Ue(x(n),e)}(n,e)}throw N(n)}(n,e):M(n)}function mt(n={}){const{connector:e=(()=>new ht),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=n;return l=>{let h,_,w,k=0,B=!1,H=!1;const J=()=>{_?.unsubscribe(),_=void 0},te=()=>{J(),h=w=void 0,B=H=!1},oe=()=>{const de=h;te(),de?.unsubscribe()};return gn((de,ve)=>{k++,!H&&!B&&J();const Ee=w=w??e();ve.add(()=>{k--,0===k&&!H&&!B&&(_=dt(oe,o))}),Ee.subscribe(ve),!h&&k>0&&(h=new un({next:Be=>Ee.next(Be),error:Be=>{H=!0,J(),_=dt(te,t,Be),Ee.error(Be)},complete:()=>{B=!0,J(),_=dt(te,i),Ee.complete()}}),M(de).subscribe(h))})(l)}}function dt(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new un({next:()=>{i.unsubscribe(),n()}});return M(e(...t)).subscribe(i)}function nt(n){for(let e in n)if(n[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function Vt(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Mn(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Hn=nt({__forward_ref__:nt});function vn(n){return n.__forward_ref__=vn,n.toString=function(){return Le(this())},n}function qe(n){return on(n)?n():n}function on(n){return"function"==typeof n&&n.hasOwnProperty(Hn)&&n.__forward_ref__===vn}function An(n){return n&&!!n.\u0275providers}const m="https://g.co/ng/security#xss";class T extends Error{constructor(e,t){super(j(e,t)),this.code=e}}function j(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function G(n){return"string"==typeof n?n:null==n?"":String(n)}function He(n,e){throw new T(-201,!1)}function Gn(n,e){null==n&&function nn(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function it(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fi(n){return{providers:n.providers||[],imports:n.imports||[]}}function zo(n){return dl(n,Br)||dl(n,pl)}function dl(n,e){return n.hasOwnProperty(e)?n[e]:null}function $a(n){return n&&(n.hasOwnProperty(qa)||n.hasOwnProperty(gl))?n[qa]:null}const Br=nt({\u0275prov:nt}),qa=nt({\u0275inj:nt}),pl=nt({ngInjectableDef:nt}),gl=nt({ngInjectorDef:nt});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Wa;function Ii(n){const e=Wa;return Wa=n,e}function ml(n,e,t){const i=zo(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&pt.Optional?null:void 0!==e?e:void He(Le(n))}const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ns={},Cr="__NG_DI_FLAG__",uo="ngTempTokenPath",Kn="ngTokenPath",Uh=/\n/gm,Za="\u0275",ls="__source";let lo;function Rs(n){const e=lo;return lo=n,e}function Hh(n,e=pt.Default){if(void 0===lo)throw new T(-203,!1);return null===lo?ml(n,void 0,e):lo.get(n,e&pt.Optional?null:void 0,e)}function $e(n,e=pt.Default){return(function Vh(){return Wa}()||Hh)(qe(n),e)}function Lt(n,e=pt.Default){return $e(n,Uo(e))}function Uo(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Qa(n){const e=[];for(let t=0;t<n.length;t++){const i=qe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new T(900,!1);let o,l=pt.Default;for(let h=0;h<i.length;h++){const _=i[h],w=cs(_);"number"==typeof w?-1===w?o=_.token:l|=w:o=_}e.push($e(o,l))}else e.push($e(i))}return e}function co(n,e){return n[Cr]=e,n.prototype[Cr]=e,n}function cs(n){return n[Cr]}function Ti(n){return{toString:n}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),Li=(()=>{return(n=Li||(Li={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Li;var n})();const Sr={},Wt=[],Er=nt({\u0275cmp:nt}),Ho=nt({\u0275dir:nt}),jo=nt({\u0275pipe:nt}),Gt=nt({\u0275mod:nt}),$i=nt({\u0275fac:nt}),Fs=nt({__NG_ELEMENT_ID__:nt});let yl=0;function yn(n){return Ti(()=>{const e=Bs(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Li.Emulated,id:"c"+yl++,styles:n.styles||Wt,_:null,schemas:n.schemas||null,tView:null};Vs(t);const i=n.dependencies;return t.directiveDefs=zs(i,!1),t.pipeDefs=zs(i,!0),t})}function Ot(n){return Qt(n)||li(n)}function Ya(n){return null!==n}function Zt(n){return Ti(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zr(n,e){if(null==n)return Sr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let o=n[i],l=o;Array.isArray(o)&&(l=o[1],o=o[0]),t[o]=i,e&&(e[o]=l)}return t}function Kt(n){return Ti(()=>{const e=Bs(n);return Vs(e),e})}function Pn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qt(n){return n[Er]||null}function li(n){return n[Ho]||null}function ci(n){return n[jo]||null}function xn(n,e){const t=n[Gt]||null;if(!t&&!0===e)throw new Error(`Type ${Le(n)} does not have '\u0275mod' property.`);return t}function Bs(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zr(n.inputs,e),outputs:zr(n.outputs)}}function Vs(n){n.features?.forEach(e=>e(n))}function zs(n,e){if(!n)return null;const t=e?ci:Ot;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Ya)}const lr=0,Qe=1,ut=2,wn=3,qi=4,hs=5,Qn=6,Ur=7,Ln=8,Hr=9,Us=10,Nt=11,Xa=12,Hs=13,qo=14,jr=15,Dn=16,re=17,ue=18,_e=19,xe=20,vt=21,Ge=22,Yt=1,Bi=2,cr=7,js=8,xr=9,di=10;function Wi(n){return Array.isArray(n)&&"object"==typeof n[Yt]}function Dr(n){return Array.isArray(n)&&!0===n[Yt]}function jh(n){return 0!=(4&n.flags)}function Ja(n){return n.componentOffset>-1}function wl(n){return 1==(1&n.flags)}function Ir(n){return!!n.template}function wS(n){return 0!=(256&n[ut])}function ho(n,e){return n.hasOwnProperty($i)?n[$i]:null}class SS{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function fo(){return rm}function rm(n){return n.type.prototype.ngOnChanges&&(n.setInput=xS),ES}function ES(){const n=om(this),e=n?.current;if(e){const t=n.previous;if(t===Sr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function xS(n,e,t,i){const o=this.declaredInputs[t],l=om(n)||function DS(n,e){return n[sm]=e}(n,{previous:Sr,current:null}),h=l.current||(l.current={}),_=l.previous,w=_[o];h[o]=new SS(w&&w.currentValue,e,_===Sr),n[i]=e}fo.ngInherit=!0;const sm="__ngSimpleChanges__";function om(n){return n[sm]||null}const hr=function(n,e,t){},am="svg";function pi(n){for(;Array.isArray(n);)n=n[lr];return n}function bl(n,e){return pi(e[n])}function Gi(n,e){return pi(e[n.index])}function lm(n,e){return n.data[e]}function Wo(n,e){return n[e]}function Ki(n,e){const t=e[n];return Wi(t)?t:t[lr]}function Cl(n){return 64==(64&n[ut])}function $s(n,e){return null==e?null:n[e]}function cm(n){n[ue]=0}function qh(n,e){n[hs]+=e;let t=n,i=n[wn];for(;null!==i&&(1===e&&1===t[hs]||-1===e&&0===t[hs]);)i[hs]+=e,t=i,i=i[wn]}const Tt={lFrame:wm(null),bindingsEnabled:!0};function fm(){return Tt.bindingsEnabled}function Me(){return Tt.lFrame.lView}function Jt(){return Tt.lFrame.tView}function fs(n){return Tt.lFrame.contextLView=n,n[Ln]}function ds(n){return Tt.lFrame.contextLView=null,n}function gi(){let n=dm();for(;null!==n&&64===n.type;)n=n.parent;return n}function dm(){return Tt.lFrame.currentTNode}function $r(n,e){const t=Tt.lFrame;t.currentTNode=n,t.isParent=e}function Wh(){return Tt.lFrame.isParent}function Gh(){Tt.lFrame.isParent=!1}function Go(){return Tt.lFrame.bindingIndex++}function gs(n){const e=Tt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function VS(n,e){const t=Tt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Kh(e)}function Kh(n){Tt.lFrame.currentDirectiveIndex=n}function _m(){return Tt.lFrame.currentQueryIndex}function Qh(n){Tt.lFrame.currentQueryIndex=n}function US(n){const e=n[Qe];return 2===e.type?e.declTNode:1===e.type?n[Qn]:null}function vm(n,e,t){if(t&pt.SkipSelf){let o=e,l=n;for(;!(o=o.parent,null!==o||t&pt.Host||(o=US(l),null===o||(l=l[jr],10&o.type))););if(null===o)return!1;e=o,n=l}const i=Tt.lFrame=ym();return i.currentTNode=e,i.lView=n,!0}function Yh(n){const e=ym(),t=n[Qe];Tt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ym(){const n=Tt.lFrame,e=null===n?null:n.child;return null===e?wm(n):e}function wm(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function bm(){const n=Tt.lFrame;return Tt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Cm=bm;function Xh(){const n=bm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ai(){return Tt.lFrame.selectedIndex}function po(n){Tt.lFrame.selectedIndex=n}function Bn(){const n=Tt.lFrame;return lm(n.tView,n.selectedIndex)}function qr(){Tt.lFrame.currentNamespace=am}function Jh(){!function qS(){Tt.lFrame.currentNamespace=null}()}function Sl(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const l=n.data[t].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:_,ngAfterViewInit:w,ngAfterViewChecked:k,ngOnDestroy:B}=l;h&&(n.contentHooks||(n.contentHooks=[])).push(-t,h),_&&((n.contentHooks||(n.contentHooks=[])).push(t,_),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,_)),w&&(n.viewHooks||(n.viewHooks=[])).push(-t,w),k&&((n.viewHooks||(n.viewHooks=[])).push(t,k),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,k)),null!=B&&(n.destroyHooks||(n.destroyHooks=[])).push(t,B)}}function El(n,e,t){Sm(n,e,3,t)}function xl(n,e,t,i){(3&n[ut])===t&&Sm(n,e,t,i)}function ef(n,e){let t=n[ut];(3&t)===e&&(t&=2047,t+=1,n[ut]=t)}function Sm(n,e,t,i){const l=i??-1,h=e.length-1;let _=0;for(let w=void 0!==i?65535&n[ue]:0;w<h;w++)if("number"==typeof e[w+1]){if(_=e[w],null!=i&&_>=i)break}else e[w]<0&&(n[ue]+=65536),(_<l||-1==l)&&(KS(n,t,e,w),n[ue]=(4294901760&n[ue])+w+2),w++}function KS(n,e,t,i){const o=t[i]<0,l=t[i+1],_=n[o?-t[i]:t[i]];if(o){if(n[ut]>>11<n[ue]>>16&&(3&n[ut])===e){n[ut]+=2048,hr(4,_,l);try{l.call(_)}finally{hr(5,_,l)}}}else{hr(4,_,l);try{l.call(_)}finally{hr(5,_,l)}}}const Ko=-1;class tu{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function nf(n,e,t){let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const l=t[i++],h=t[i++],_=t[i++];n.setAttribute(e,h,_,l)}else{const l=o,h=t[++i];xm(l)?n.setProperty(e,l,h):n.setAttribute(e,l,h),i++}}return i}function Em(n){return 3===n||4===n||6===n}function xm(n){return 64===n.charCodeAt(0)}function nu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?t=o:0===t||Dm(n,t,o,null,-1===t||2===t?e[++i]:null)}}return n}function Dm(n,e,t,i,o){let l=0,h=n.length;if(-1===e)h=-1;else for(;l<n.length;){const _=n[l++];if("number"==typeof _){if(_===e){h=-1;break}if(_>e){h=l-1;break}}}for(;l<n.length;){const _=n[l];if("number"==typeof _)break;if(_===t){if(null===i)return void(null!==o&&(n[l+1]=o));if(i===n[l+1])return void(n[l+2]=o)}l++,null!==i&&l++,null!==o&&l++}-1!==h&&(n.splice(h,0,e),l=h+1),n.splice(l++,0,t),null!==i&&n.splice(l++,0,i),null!==o&&n.splice(l++,0,o)}function Im(n){return n!==Ko}function Dl(n){return 32767&n}function Il(n,e){let t=function XS(n){return n>>16}(n),i=e;for(;t>0;)i=i[jr],t--;return i}let rf=!0;function Tl(n){const e=rf;return rf=n,e}const Tm=255,Mm=5;let JS=0;const Wr={};function Ml(n,e){const t=Am(n,e);if(-1!==t)return t;const i=e[Qe];i.firstCreatePass&&(n.injectorIndex=e.length,sf(i.data,n),sf(e,null),sf(i.blueprint,null));const o=af(n,e),l=n.injectorIndex;if(Im(o)){const h=Dl(o),_=Il(o,e),w=_[Qe].data;for(let k=0;k<8;k++)e[l+k]=_[h+k]|w[h+k]}return e[l+8]=o,l}function sf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Am(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function af(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,o=e;for(;null!==o;){if(i=Bm(o),null===i)return Ko;if(t++,o=o[jr],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ko}function uf(n,e,t){!function eE(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Fs)&&(i=t[Fs]),null==i&&(i=t[Fs]=JS++);const o=i&Tm;e.data[n+(o>>Mm)]|=1<<o}(n,e,t)}function Pm(n,e,t){if(t&pt.Optional||void 0!==n)return n;He()}function km(n,e,t,i){if(t&pt.Optional&&void 0===i&&(i=null),!(t&(pt.Self|pt.Host))){const o=n[Hr],l=Ii(void 0);try{return o?o.get(e,i,t&pt.Optional):ml(e,i,t&pt.Optional)}finally{Ii(l)}}return Pm(i,0,t)}function Om(n,e,t,i=pt.Default,o){if(null!==n){if(1024&e[ut]){const h=function sE(n,e,t,i,o){let l=n,h=e;for(;null!==l&&null!==h&&1024&h[ut]&&!(256&h[ut]);){const _=Nm(l,h,t,i|pt.Self,Wr);if(_!==Wr)return _;let w=l.parent;if(!w){const k=h[vt];if(k){const B=k.get(t,Wr,i);if(B!==Wr)return B}w=Bm(h),h=h[jr]}l=w}return o}(n,e,t,i,Wr);if(h!==Wr)return h}const l=Nm(n,e,t,i,Wr);if(l!==Wr)return l}return km(e,t,i,o)}function Nm(n,e,t,i,o){const l=function iE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Fs)?n[Fs]:void 0;return"number"==typeof e?e>=0?e&Tm:rE:e}(t);if("function"==typeof l){if(!vm(e,n,i))return i&pt.Host?Pm(o,0,i):km(e,t,i,o);try{const h=l(i);if(null!=h||i&pt.Optional)return h;He()}finally{Cm()}}else if("number"==typeof l){let h=null,_=Am(n,e),w=Ko,k=i&pt.Host?e[Dn][Qn]:null;for((-1===_||i&pt.SkipSelf)&&(w=-1===_?af(n,e):e[_+8],w!==Ko&&Fm(i,!1)?(h=e[Qe],_=Dl(w),e=Il(w,e)):_=-1);-1!==_;){const B=e[Qe];if(Rm(l,_,B.data)){const H=nE(_,e,t,h,i,k);if(H!==Wr)return H}w=e[_+8],w!==Ko&&Fm(i,e[Qe].data[_+8]===k)&&Rm(l,_,e)?(h=B,_=Dl(w),e=Il(w,e)):_=-1}}return o}function nE(n,e,t,i,o,l){const h=e[Qe],_=h.data[n+8],B=Al(_,h,t,null==i?Ja(_)&&rf:i!=h&&0!=(3&_.type),o&pt.Host&&l===_);return null!==B?go(e,h,B,_):Wr}function Al(n,e,t,i,o){const l=n.providerIndexes,h=e.data,_=1048575&l,w=n.directiveStart,B=l>>20,J=o?_+B:n.directiveEnd;for(let te=i?_:_+B;te<J;te++){const oe=h[te];if(te<w&&t===oe||te>=w&&oe.type===t)return te}if(o){const te=h[w];if(te&&Ir(te)&&te.type===t)return w}return null}function go(n,e,t,i){let o=n[t];const l=e.data;if(function ZS(n){return n instanceof tu}(o)){const h=o;h.resolving&&function me(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():G(n)}(l[t]));const _=Tl(h.canSeeViewProviders);h.resolving=!0;const w=h.injectImpl?Ii(h.injectImpl):null;vm(n,i,pt.Default);try{o=n[t]=h.factory(void 0,l,n,i),e.firstCreatePass&&t>=i.directiveStart&&function GS(n,e,t){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:l}=e.type.prototype;if(i){const h=rm(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,h),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,h)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),l&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,l),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,l))}(t,l[t],e)}finally{null!==w&&Ii(w),Tl(_),h.resolving=!1,Cm()}}return o}function Rm(n,e,t){return!!(t[e+(n>>Mm)]&1<<n)}function Fm(n,e){return!(n&pt.Self||n&pt.Host&&e)}class Zo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Om(this._tNode,this._lView,e,Uo(i),t)}}function rE(){return new Zo(gi(),Me())}function lf(n){return on(n)?()=>{const e=lf(qe(n));return e&&e()}:ho(n)}function Bm(n){const e=n[Qe],t=e.type;return 2===t?e.declTNode:1===t?n[Qn]:null}const Yo="__parameters__";function Jo(n,e,t){return Ti(()=>{const i=function cf(n){return function(...t){if(n){const i=n(...t);for(const o in i)this[o]=i[o]}}}(e);function o(...l){if(this instanceof o)return i.apply(this,l),this;const h=new o(...l);return _.annotation=h,_;function _(w,k,B){const H=w.hasOwnProperty(Yo)?w[Yo]:Object.defineProperty(w,Yo,{value:[]})[Yo];for(;H.length<=B;)H.push(null);return(H[B]=H[B]||[]).push(h),w}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class Ye{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=it({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mo(n,e){n.forEach(t=>Array.isArray(t)?mo(t,e):e(t))}function zm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Pl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ou(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Zi(n,e,t){let i=ea(n,e);return i>=0?n[1|i]=t:(i=~i,function lE(n,e,t,i){let o=n.length;if(o==e)n.push(t,i);else if(1===o)n.push(i,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function ff(n,e){const t=ea(n,e);if(t>=0)return n[1|t]}function ea(n,e){return function Um(n,e,t){let i=0,o=n.length>>t;for(;o!==i;){const l=i+(o-i>>1),h=n[l<<t];if(e===h)return l<<t;h>e?o=l:i=l+1}return~(o<<t)}(n,e,1)}const qs=co(Jo("Optional"),8),ta=co(Jo("SkipSelf"),4);var Vi=(()=>((Vi=Vi||{})[Vi.Important=1]="Important",Vi[Vi.DashCase=2]="DashCase",Vi))();const vf=new Map;let PE=0;const wf="__ngContext__";function yi(n,e){Wi(e)?(n[wf]=e[xe],function OE(n){vf.set(n[xe],n)}(e)):n[wf]=e}let bf;function Cf(n,e){return bf(n,e)}function cu(n){const e=n[wn];return Dr(e)?e[wn]:e}function Sf(n){return a_(n[Hs])}function Ef(n){return a_(n[qi])}function a_(n){for(;null!==n&&!Dr(n);)n=n[qi];return n}function ia(n,e,t,i,o){if(null!=i){let l,h=!1;Dr(i)?l=i:Wi(i)&&(h=!0,i=i[lr]);const _=pi(i);0===n&&null!==t?null==o?d_(e,t,_):_o(e,t,_,o||null,!0):1===n&&null!==t?_o(e,t,_,o||null,!0):2===n?function Pf(n,e,t){const i=Rl(n,e);i&&function JE(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,_,h):3===n&&e.destroyNode(_),null!=l&&function nx(n,e,t,i,o){const l=t[cr];l!==pi(t)&&ia(e,n,i,l,o);for(let _=di;_<t.length;_++){const w=t[_];hu(w[Qe],w,n,e,i,l)}}(e,n,l,t,o)}}function Df(n,e,t){return n.createElement(e,t)}function l_(n,e){const t=n[xr],i=t.indexOf(e),o=e[wn];512&e[ut]&&(e[ut]&=-513,qh(o,-1)),t.splice(i,1)}function If(n,e){if(n.length<=di)return;const t=di+e,i=n[t];if(i){const o=i[re];null!==o&&o!==n&&l_(o,i),e>0&&(n[t-1][qi]=i[qi]);const l=Pl(n,di+e);!function qE(n,e){hu(n,e,e[Nt],2,null,null),e[lr]=null,e[Qn]=null}(i[Qe],i);const h=l[_e];null!==h&&h.detachView(l[Qe]),i[wn]=null,i[qi]=null,i[ut]&=-65}return i}function c_(n,e){if(!(128&e[ut])){const t=e[Nt];t.destroyNode&&hu(n,e,t,3,null,null),function KE(n){let e=n[Hs];if(!e)return Tf(n[Qe],n);for(;e;){let t=null;if(Wi(e))t=e[Hs];else{const i=e[di];i&&(t=i)}if(!t){for(;e&&!e[qi]&&e!==n;)Wi(e)&&Tf(e[Qe],e),e=e[wn];null===e&&(e=n),Wi(e)&&Tf(e[Qe],e),t=e&&e[qi]}e=t}}(e)}}function Tf(n,e){if(!(128&e[ut])){e[ut]&=-65,e[ut]|=128,function XE(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const o=e[t[i]];if(!(o instanceof tu)){const l=t[i+1];if(Array.isArray(l))for(let h=0;h<l.length;h+=2){const _=o[l[h]],w=l[h+1];hr(4,_,w);try{w.call(_)}finally{hr(5,_,w)}}else{hr(4,o,l);try{l.call(o)}finally{hr(5,o,l)}}}}}(n,e),function YE(n,e){const t=n.cleanup,i=e[Ur];let o=-1;if(null!==t)for(let l=0;l<t.length-1;l+=2)if("string"==typeof t[l]){const h=t[l+3];h>=0?i[o=h]():i[o=-h].unsubscribe(),l+=2}else{const h=i[o=t[l+1]];t[l].call(h)}if(null!==i){for(let l=o+1;l<i.length;l++)(0,i[l])();e[Ur]=null}}(n,e),1===e[Qe].type&&e[Nt].destroy();const t=e[re];if(null!==t&&Dr(e[wn])){t!==e[wn]&&l_(t,e);const i=e[_e];null!==i&&i.detachView(n)}!function NE(n){vf.delete(n[xe])}(e)}}function h_(n,e,t){return function f_(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[lr];{const{componentOffset:o}=i;if(o>-1){const{encapsulation:l}=n.data[i.directiveStart+o];if(l===Li.None||l===Li.Emulated)return null}return Gi(i,t)}}(n,e.parent,t)}function _o(n,e,t,i,o){n.insertBefore(e,t,i,o)}function d_(n,e,t){n.appendChild(e,t)}function p_(n,e,t,i,o){null!==i?_o(n,e,t,i,o):d_(n,e,t)}function Rl(n,e){return n.parentNode(e)}function g_(n,e,t){return __(n,e,t)}let Mf,Bl,Nf,__=function m_(n,e,t){return 40&n.type?Gi(n,t):null};function Fl(n,e,t,i){const o=h_(n,i,e),l=e[Nt],_=g_(i.parent||e[Qn],i,e);if(null!=o)if(Array.isArray(t))for(let w=0;w<t.length;w++)p_(l,o,t[w],_,!1);else p_(l,o,t,_,!1);void 0!==Mf&&Mf(l,i,e,t,o)}function Ll(n,e){if(null!==e){const t=e.type;if(3&t)return Gi(e,n);if(4&t)return Af(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Ll(n,i);{const o=n[e.index];return Dr(o)?Af(-1,o):pi(o)}}if(32&t)return Cf(e,n)()||pi(n[e.index]);{const i=y_(n,e);return null!==i?Array.isArray(i)?i[0]:Ll(cu(n[Dn]),i):Ll(n,e.next)}}return null}function y_(n,e){return null!==e?n[Dn][Qn].projection[e.projection]:null}function Af(n,e){const t=di+n+1;if(t<e.length){const i=e[t],o=i[Qe].firstChild;if(null!==o)return Ll(i,o)}return e[cr]}function kf(n,e,t,i,o,l,h){for(;null!=t;){const _=i[t.index],w=t.type;if(h&&0===e&&(_&&yi(pi(_),i),t.flags|=2),32!=(32&t.flags))if(8&w)kf(n,e,t.child,i,o,l,!1),ia(e,n,o,_,l);else if(32&w){const k=Cf(t,i);let B;for(;B=k();)ia(e,n,o,B,l);ia(e,n,o,_,l)}else 16&w?w_(n,e,i,t,o,l):ia(e,n,o,_,l);t=h?t.projectionNext:t.next}}function hu(n,e,t,i,o,l){kf(t,i,n.firstChild,e,o,l,!1)}function w_(n,e,t,i,o,l){const h=t[Dn],w=h[Qn].projection[i.projection];if(Array.isArray(w))for(let k=0;k<w.length;k++)ia(e,n,o,w[k],l);else kf(n,e,w,h[wn],o,l,!0)}function b_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function C_(n,e,t){const{mergedAttrs:i,classes:o,styles:l}=t;null!==i&&nf(n,e,i),null!==o&&b_(n,e,o),null!==l&&function rx(n,e,t){n.setAttribute(e,"style",t)}(n,e,l)}function ra(n){return function Of(){if(void 0===Bl&&(Bl=null,_n.trustedTypes))try{Bl=_n.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bl}()?.createHTML(n)||n}class vo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${m})`}}class lx extends vo{getTypeName(){return"HTML"}}class cx extends vo{getTypeName(){return"Style"}}class hx extends vo{getTypeName(){return"Script"}}class fx extends vo{getTypeName(){return"URL"}}class dx extends vo{getTypeName(){return"ResourceURL"}}function Qi(n){return n instanceof vo?n.changingThisBreaksApplicationSecurity:n}function Gr(n,e){const t=function px(n){return n instanceof vo&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${m})`)}return t===e}class wx{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ra(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class bx{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ra(e),t}}const Sx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zl(n){return(n=String(n)).match(Sx)?n:"unsafe:"+n}function ms(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function fu(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const T_=ms("area,br,col,hr,img,wbr"),M_=ms("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A_=ms("rp,rt"),Ff=fu(T_,fu(M_,ms("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fu(A_,ms("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fu(A_,M_)),Lf=ms("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),P_=fu(Lf,ms("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ms("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ex=ms("script,style,template");class xx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ff.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ex.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let o=0;o<i.length;o++){const l=i.item(o),h=l.name,_=h.toLowerCase();if(!P_.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let w=l.value;Lf[_]&&(w=zl(w)),this.buf.push(" ",h,'="',k_(w),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ff.hasOwnProperty(t)&&!T_.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(k_(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Dx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ix=/([^\#-~ |!])/g;function k_(n){return n.replace(/&/g,"&amp;").replace(Dx,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ix,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ul;function O_(n,e){let t=null;try{Ul=Ul||function I_(n){const e=new bx(n);return function Cx(){try{return!!(new window.DOMParser).parseFromString(ra(""),"text/html")}catch{return!1}}()?new wx(e):e}(n);let i=e?String(e):"";t=Ul.getInertBodyElement(i);let o=5,l=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=l,l=t.innerHTML,t=Ul.getInertBodyElement(i)}while(i!==l);return ra((new xx).sanitizeChildren(Bf(t)||t))}finally{if(t){const i=Bf(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Bf(n){return"content"in n&&function Tx(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var an=(()=>((an=an||{})[an.NONE=0]="NONE",an[an.HTML=1]="HTML",an[an.STYLE=2]="STYLE",an[an.SCRIPT=3]="SCRIPT",an[an.URL=4]="URL",an[an.RESOURCE_URL=5]="RESOURCE_URL",an))();const Hl=new Ye("ENVIRONMENT_INITIALIZER"),L_=new Ye("INJECTOR",-1),B_=new Ye("INJECTOR_DEF_TYPES");class V_{get(e,t=Ns){if(t===Ns){const i=new Error(`NullInjectorError: No provider for ${Le(e)}!`);throw i.name="NullInjectorError",i}return t}}function Rx(...n){return{\u0275providers:z_(0,n),\u0275fromNgModule:!0}}function z_(n,...e){const t=[],i=new Set;let o;return mo(e,l=>{const h=l;Vf(h,t,[],i)&&(o||(o=[]),o.push(h))}),void 0!==o&&U_(o,t),t}function U_(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];zf(o,l=>{e.push(l)})}}function Vf(n,e,t,i){if(!(n=qe(n)))return!1;let o=null,l=$a(n);const h=!l&&Qt(n);if(l||h){if(h&&!h.standalone)return!1;o=n}else{const w=n.ngModule;if(l=$a(w),!l)return!1;o=w}const _=i.has(o);if(h){if(_)return!1;if(i.add(o),h.dependencies){const w="function"==typeof h.dependencies?h.dependencies():h.dependencies;for(const k of w)Vf(k,e,t,i)}}else{if(!l)return!1;{if(null!=l.imports&&!_){let k;i.add(o);try{mo(l.imports,B=>{Vf(B,e,t,i)&&(k||(k=[]),k.push(B))})}finally{}void 0!==k&&U_(k,e)}if(!_){const k=ho(o)||(()=>new o);e.push({provide:o,useFactory:k,deps:Wt},{provide:B_,useValue:o,multi:!0},{provide:Hl,useValue:()=>$e(o),multi:!0})}const w=l.providers;null==w||_||zf(w,B=>{e.push(B)})}}return o!==n&&void 0!==n.providers}function zf(n,e){for(let t of n)An(t)&&(t=t.\u0275providers),Array.isArray(t)?zf(t,e):e(t)}const Fx=nt({provide:String,useValue:nt});function Uf(n){return null!==n&&"object"==typeof n&&Fx in n}function yo(n){return"function"==typeof n}const Hf=new Ye("Set Injector scope."),jl={},Bx={};let jf;function $l(){return void 0===jf&&(jf=new V_),jf}class _s{}class $_ extends _s{get destroyed(){return this._destroyed}constructor(e,t,i,o){super(),this.parent=t,this.source=i,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qf(e,h=>this.processProvider(h)),this.records.set(L_,sa(void 0,this)),o.has("environment")&&this.records.set(_s,sa(void 0,this));const l=this.records.get(Hf);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(B_.multi,Wt,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Rs(this),i=Ii(void 0);try{return e()}finally{Rs(t),Ii(i)}}get(e,t=Ns,i=pt.Default){this.assertNotDestroyed(),i=Uo(i);const o=Rs(this),l=Ii(void 0);try{if(!(i&pt.SkipSelf)){let _=this.records.get(e);if(void 0===_){const w=function jx(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ye}(e)&&zo(e);_=w&&this.injectableDefInScope(w)?sa($f(e),jl):null,this.records.set(e,_)}if(null!=_)return this.hydrate(e,_)}return(i&pt.Self?$l():this.parent).get(e,t=i&pt.Optional&&t===Ns?null:t)}catch(h){if("NullInjectorError"===h.name){if((h[uo]=h[uo]||[]).unshift(Le(e)),o)throw h;return function Zn(n,e,t,i){const o=n[uo];throw e[ls]&&o.unshift(e[ls]),n.message=function vl(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Za?n.slice(2):n;let o=Le(e);if(Array.isArray(e))o=e.map(Le).join(" -> ");else if("object"==typeof e){let l=[];for(let h in e)if(e.hasOwnProperty(h)){let _=e[h];l.push(h+":"+("string"==typeof _?JSON.stringify(_):Le(_)))}o=`{${l.join(", ")}}`}return`${t}${i?"("+i+")":""}[${o}]: ${n.replace(Uh,"\n  ")}`}("\n"+n.message,o,t,i),n[Kn]=o,n[uo]=null,n}(h,e,"R3InjectorError",this.source)}throw h}finally{Ii(l),Rs(o)}}resolveInjectorInitializers(){const e=Rs(this),t=Ii(void 0);try{const i=this.get(Hl.multi,Wt,pt.Self);for(const o of i)o()}finally{Rs(e),Ii(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Le(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let t=yo(e=qe(e))?e:qe(e&&e.provide);const i=function zx(n){return Uf(n)?sa(void 0,n.useValue):sa(function q_(n,e,t){let i;if(yo(n)){const o=qe(n);return ho(o)||$f(o)}if(Uf(n))i=()=>qe(n.useValue);else if(function j_(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Qa(n.deps||[]));else if(function H_(n){return!(!n||!n.useExisting)}(n))i=()=>$e(qe(n.useExisting));else{const o=qe(n&&(n.useClass||n.provide));if(!function Ux(n){return!!n.deps}(n))return ho(o)||$f(o);i=()=>new o(...Qa(n.deps))}return i}(n),jl)}(e);if(yo(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=sa(void 0,jl,!0),o.factory=()=>Qa(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===jl&&(t.value=Bx,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Hx(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=qe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function $f(n){const e=zo(n),t=null!==e?e.factory:ho(n);if(null!==t)return t;if(n instanceof Ye)throw new T(204,!1);if(n instanceof Function)return function Vx(n){const e=n.length;if(e>0)throw ou(e,"?"),new T(204,!1);const t=function Lh(n){const e=n&&(n[Br]||n[pl]);return e?(function Bh(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),e):null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new T(204,!1)}function sa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qf(n,e){for(const t of n)Array.isArray(t)?qf(t,e):t&&An(t)?qf(t.\u0275providers,e):e(t)}class $x{}class W_{}class Wx{resolveComponentFactory(e){throw function qx(n){const e=Error(`No component factory found for ${Le(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let pu=(()=>{class n{}return n.NULL=new Wx,n})();function Gx(){return oa(gi(),Me())}function oa(n,e){return new Kr(Gi(n,e))}let Kr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Gx,n})();function Kx(n){return n instanceof Kr?n.nativeElement:n}class gu{}let mu=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Zx(){const n=Me(),t=Ki(gi().index,n);return(Wi(t)?t:n)[Nt]}(),n})(),Qx=(()=>{class n{}return n.\u0275prov=it({token:n,providedIn:"root",factory:()=>null}),n})();class aa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Yx=new aa("15.2.4"),Wf={},Gf="ngOriginalError";function Kf(n){return n[Gf]}class vs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Kf(e);for(;t&&Kf(t);)t=Kf(t);return t||null}}function ys(n){return n instanceof Function?n():n}function Z_(n,e,t){let i=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const l=e.length;if(o+l===i||n.charCodeAt(o+l)<=32)return o}t=o+1}}const Q_="ng-template";function uD(n,e,t){let i=0,o=!0;for(;i<n.length;){let l=n[i++];if("string"==typeof l&&o){const h=n[i++];if(t&&"class"===l&&-1!==Z_(h.toLowerCase(),e,0))return!0}else{if(1===l){for(;i<n.length&&"string"==typeof(l=n[i++]);)if(l.toLowerCase()===e)return!0;return!1}"number"==typeof l&&(o=!1)}}return!1}function Y_(n){return 4===n.type&&n.value!==Q_}function lD(n,e,t){return e===(4!==n.type||t?n.value:Q_)}function cD(n,e,t){let i=4;const o=n.attrs||[],l=function dD(n){for(let e=0;e<n.length;e++)if(Em(n[e]))return e;return n.length}(o);let h=!1;for(let _=0;_<e.length;_++){const w=e[_];if("number"!=typeof w){if(!h)if(4&i){if(i=2|1&i,""!==w&&!lD(n,w,t)||""===w&&1===e.length){if(Tr(i))return!1;h=!0}}else{const k=8&i?w:e[++_];if(8&i&&null!==n.attrs){if(!uD(n.attrs,k,t)){if(Tr(i))return!1;h=!0}continue}const H=hD(8&i?"class":w,o,Y_(n),t);if(-1===H){if(Tr(i))return!1;h=!0;continue}if(""!==k){let J;J=H>l?"":o[H+1].toLowerCase();const te=8&i?J:null;if(te&&-1!==Z_(te,k,0)||2&i&&k!==J){if(Tr(i))return!1;h=!0}}}}else{if(!h&&!Tr(i)&&!Tr(w))return!1;if(h&&Tr(w))continue;h=!1,i=w|1&i}}return Tr(i)||h}function Tr(n){return 0==(1&n)}function hD(n,e,t,i){if(null===e)return-1;let o=0;if(i||!t){let l=!1;for(;o<e.length;){const h=e[o];if(h===n)return o;if(3===h||6===h)l=!0;else{if(1===h||2===h){let _=e[++o];for(;"string"==typeof _;)_=e[++o];continue}if(4===h)break;if(0===h){o+=4;continue}}o+=l?1:2}return-1}return function pD(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function X_(n,e,t=!1){for(let i=0;i<e.length;i++)if(cD(n,e[i],t))return!0;return!1}function gD(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let o=0;o<n.length;o++)if(n[o]!==i[o])continue e;return!0}}return!1}function J_(n,e){return n?":not("+e.trim()+")":e}function mD(n){let e=n[0],t=1,i=2,o="",l=!1;for(;t<n.length;){let h=n[t];if("string"==typeof h)if(2&i){const _=n[++t];o+="["+h+(_.length>0?'="'+_+'"':"")+"]"}else 8&i?o+="."+h:4&i&&(o+=" "+h);else""!==o&&!Tr(h)&&(e+=J_(l,o),o=""),i=h,l=l||!Tr(i);t++}return""!==o&&(e+=J_(l,o)),e}const Mt={};function Mr(n){ev(Jt(),Me(),Ai()+n,!1)}function ev(n,e,t,i){if(!i)if(3==(3&e[ut])){const l=n.preOrderCheckHooks;null!==l&&El(e,l,t)}else{const l=n.preOrderHooks;null!==l&&xl(e,l,0,t)}po(t)}function rv(n,e=null,t=null,i){const o=sv(n,e,t,i);return o.resolveInjectorInitializers(),o}function sv(n,e=null,t=null,i,o=new Set){const l=[t||Wt,Rx(n)];return i=i||("object"==typeof n?void 0:Le(n)),new $_(l,e||$l(),i||null,o)}let Zr=(()=>{class n{static create(t,i){if(Array.isArray(t))return rv({name:""},i,t,"");{const o=t.name??"";return rv({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Ns,n.NULL=new V_,n.\u0275prov=it({token:n,providedIn:"any",factory:()=>$e(L_)}),n.__NG_ELEMENT_ID__=-1,n})();function at(n,e=pt.Default){const t=Me();return null===t?$e(n,e):Om(gi(),t,qe(n),e)}function dv(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const l=t[i+1];if(-1!==l){const h=n.data[l];Qh(t[i]),h.contentQueries(2,e[l],l)}}}function Wl(n,e,t,i,o,l,h,_,w,k,B){const H=e.blueprint.slice();return H[lr]=o,H[ut]=76|i,(null!==B||n&&1024&n[ut])&&(H[ut]|=1024),cm(H),H[wn]=H[jr]=n,H[Ln]=t,H[Us]=h||n&&n[Us],H[Nt]=_||n&&n[Nt],H[Xa]=w||n&&n[Xa]||null,H[Hr]=k||n&&n[Hr]||null,H[Qn]=l,H[xe]=function kE(){return PE++}(),H[vt]=B,H[Dn]=2==e.type?n[Dn]:H,H}function ca(n,e,t,i,o){let l=n.data[e];if(null===l)l=function Jf(n,e,t,i,o){const l=dm(),h=Wh(),w=n.data[e]=function HD(n,e,t,i,o,l){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?l:l&&l.parent,t,e,i,o);return null===n.firstChild&&(n.firstChild=w),null!==l&&(h?null==l.child&&null!==w.parent&&(l.child=w):null===l.next&&(l.next=w,w.prev=l)),w}(n,e,t,i,o),function BS(){return Tt.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=t,l.value=i,l.attrs=o;const h=function eu(){const n=Tt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();l.injectorIndex=null===h?-1:h.injectorIndex}return $r(l,!0),l}function _u(n,e,t,i){if(0===t)return-1;const o=e.length;for(let l=0;l<t;l++)e.push(i),n.blueprint.push(i),n.data.push(null);return o}function ed(n,e,t){Yh(e);try{const i=n.viewQuery;null!==i&&cd(1,i,t);const o=n.template;null!==o&&pv(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&dv(n,e),n.staticViewQueries&&cd(2,n.viewQuery,t);const l=n.components;null!==l&&function VD(n,e){for(let t=0;t<e.length;t++)aI(n,e[t])}(e,l)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ut]&=-5,Xh()}}function Gl(n,e,t,i){const o=e[ut];if(128!=(128&o)){Yh(e);try{cm(e),function gm(n){return Tt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&pv(n,e,t,2,i);const h=3==(3&o);if(h){const k=n.preOrderCheckHooks;null!==k&&El(e,k,null)}else{const k=n.preOrderHooks;null!==k&&xl(e,k,0,null),ef(e,0)}if(function sI(n){for(let e=Sf(n);null!==e;e=Ef(e)){if(!e[Bi])continue;const t=e[xr];for(let i=0;i<t.length;i++){const o=t[i];512&o[ut]||qh(o[wn],1),o[ut]|=512}}}(e),function rI(n){for(let e=Sf(n);null!==e;e=Ef(e))for(let t=di;t<e.length;t++){const i=e[t],o=i[Qe];Cl(i)&&Gl(o,i,o.template,i[Ln])}}(e),null!==n.contentQueries&&dv(n,e),h){const k=n.contentCheckHooks;null!==k&&El(e,k)}else{const k=n.contentHooks;null!==k&&xl(e,k,1),ef(e,1)}!function LD(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)po(~o);else{const l=o,h=t[++i],_=t[++i];VS(h,l),_(2,e[l])}}}finally{po(-1)}}(n,e);const _=n.components;null!==_&&function BD(n,e){for(let t=0;t<e.length;t++)oI(n,e[t])}(e,_);const w=n.viewQuery;if(null!==w&&cd(2,w,i),h){const k=n.viewCheckHooks;null!==k&&El(e,k)}else{const k=n.viewHooks;null!==k&&xl(e,k,2),ef(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ut]&=-41,512&e[ut]&&(e[ut]&=-513,qh(e[wn],-1))}finally{Xh()}}}function pv(n,e,t,i,o){const l=Ai(),h=2&i;try{po(-1),h&&e.length>Ge&&ev(n,e,Ge,!1),hr(h?2:0,o),t(i,o)}finally{po(l),hr(h?3:1,o)}}function td(n,e,t){if(jh(e)){const o=e.directiveEnd;for(let l=e.directiveStart;l<o;l++){const h=n.data[l];h.contentQueries&&h.contentQueries(1,t[l],l)}}}function nd(n,e,t){fm()&&(function KD(n,e,t,i){const o=t.directiveStart,l=t.directiveEnd;Ja(t)&&function tI(n,e,t){const i=Gi(e,n),o=gv(t),l=n[Us],h=Kl(n,Wl(n,o,null,t.onPush?32:16,i,e,l,l.createRenderer(i,t),null,null,null));n[e.index]=h}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Ml(t,e),yi(i,e);const h=t.initialInputs;for(let _=o;_<l;_++){const w=n.data[_],k=go(e,n,_,t);yi(k,e),null!==h&&nI(0,_-o,k,w,0,h),Ir(w)&&(Ki(t.index,e)[Ln]=go(e,n,_,t))}}(n,e,t,Gi(t,e)),64==(64&t.flags)&&bv(n,e,t))}function id(n,e,t=Gi){const i=e.localNames;if(null!==i){let o=e.index+1;for(let l=0;l<i.length;l+=2){const h=i[l+1],_=-1===h?t(e,n):n[h];n[o++]=_}}}function gv(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=rd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function rd(n,e,t,i,o,l,h,_,w,k){const B=Ge+i,H=B+o,J=function zD(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Mt);return t}(B,H),te="function"==typeof k?k():k;return J[Qe]={type:n,blueprint:J,template:t,queries:null,viewQuery:_,declTNode:e,data:J.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:w,consts:te,incompleteFirstPass:!1}}function mv(n,e,t,i){const o=Sv(e);null===t?o.push(i):(o.push(t),n.firstCreatePass&&Ev(n).push(i,o.length-1))}function _v(n,e,t,i){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const l=n[o];null===i?vv(t,e,o,l):i.hasOwnProperty(o)&&vv(t,e,i[o],l)}return t}function vv(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function yv(n,e){const t=Ki(e,n);16&t[ut]||(t[ut]|=32)}function sd(n,e,t,i){if(fm()){const o=null===i?null:{"":-1},l=function QD(n,e){const t=n.directiveRegistry;let i=null,o=null;if(t)for(let l=0;l<t.length;l++){const h=t[l];if(X_(e,h.selectors,!1))if(i||(i=[]),Ir(h))if(null!==h.findHostDirectiveDefs){const _=[];o=o||new Map,h.findHostDirectiveDefs(h,_,o),i.unshift(..._,h),od(n,e,_.length)}else i.unshift(h),od(n,e,0);else o=o||new Map,h.findHostDirectiveDefs?.(h,i,o),i.push(h)}return null===i?null:[i,o]}(n,t);let h,_;null===l?h=_=null:[h,_]=l,null!==h&&wv(n,e,t,h,o,_),o&&function YD(n,e,t){if(e){const i=n.localNames=[];for(let o=0;o<e.length;o+=2){const l=t[e[o+1]];if(null==l)throw new T(-301,!1);i.push(e[o],l)}}}(t,i,o)}t.mergedAttrs=nu(t.mergedAttrs,t.attrs)}function wv(n,e,t,i,o,l){for(let k=0;k<i.length;k++)uf(Ml(t,e),n,i[k].type);!function JD(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let k=0;k<i.length;k++){const B=i[k];B.providersResolver&&B.providersResolver(B)}let h=!1,_=!1,w=_u(n,e,i.length,null);for(let k=0;k<i.length;k++){const B=i[k];t.mergedAttrs=nu(t.mergedAttrs,B.hostAttrs),eI(n,t,e,w,B),XD(w,B,o),null!==B.contentQueries&&(t.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(t.flags|=64);const H=B.type.prototype;!h&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),h=!0),!_&&(H.ngOnChanges||H.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),_=!0),w++}!function jD(n,e,t){const o=e.directiveEnd,l=n.data,h=e.attrs,_=[];let w=null,k=null;for(let B=e.directiveStart;B<o;B++){const H=l[B],J=t?t.get(H):null,oe=J?J.outputs:null;w=_v(H.inputs,B,w,J?J.inputs:null),k=_v(H.outputs,B,k,oe);const de=null===w||null===h||Y_(e)?null:iI(w,B,h);_.push(de)}null!==w&&(w.hasOwnProperty("class")&&(e.flags|=8),w.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=_,e.inputs=w,e.outputs=k}(n,t,l)}function bv(n,e,t){const i=t.directiveStart,o=t.directiveEnd,l=t.index,h=function zS(){return Tt.lFrame.currentDirectiveIndex}();try{po(l);for(let _=i;_<o;_++){const w=n.data[_],k=e[_];Kh(_),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&ZD(w,k)}}finally{po(-1),Kh(h)}}function ZD(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function od(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function XD(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ir(e)&&(t[""]=n)}}function eI(n,e,t,i,o){n.data[i]=o;const l=o.factory||(o.factory=ho(o.type)),h=new tu(l,Ir(o),at);n.blueprint[i]=h,t[i]=h,function WD(n,e,t,i,o){const l=o.hostBindings;if(l){let h=n.hostBindingOpCodes;null===h&&(h=n.hostBindingOpCodes=[]);const _=~e.index;(function GD(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(h)!=_&&h.push(_),h.push(t,i,l)}}(n,e,i,_u(n,t,o.hostVars,Mt),o)}function Qr(n,e,t,i,o,l){const h=Gi(n,e);!function ad(n,e,t,i,o,l,h){if(null==l)n.removeAttribute(e,o,t);else{const _=null==h?G(l):h(l,i||"",o);n.setAttribute(e,o,_,t)}}(e[Nt],h,l,n.value,t,i,o)}function nI(n,e,t,i,o,l){const h=l[e];if(null!==h){const _=i.setInput;for(let w=0;w<h.length;){const k=h[w++],B=h[w++],H=h[w++];null!==_?i.setInput(t,H,k,B):t[B]=H}}}function iI(n,e,t){let i=null,o=0;for(;o<t.length;){const l=t[o];if(0!==l)if(5!==l){if("number"==typeof l)break;if(n.hasOwnProperty(l)){null===i&&(i=[]);const h=n[l];for(let _=0;_<h.length;_+=2)if(h[_]===e){i.push(l,h[_+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return i}function Cv(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function oI(n,e){const t=Ki(e,n);if(Cl(t)){const i=t[Qe];48&t[ut]?Gl(i,t,i.template,t[Ln]):t[hs]>0&&ud(t)}}function ud(n){for(let i=Sf(n);null!==i;i=Ef(i))for(let o=di;o<i.length;o++){const l=i[o];if(Cl(l))if(512&l[ut]){const h=l[Qe];Gl(h,l,h.template,l[Ln])}else l[hs]>0&&ud(l)}const t=n[Qe].components;if(null!==t)for(let i=0;i<t.length;i++){const o=Ki(t[i],n);Cl(o)&&o[hs]>0&&ud(o)}}function aI(n,e){const t=Ki(e,n),i=t[Qe];(function uI(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),ed(i,t,t[Ln])}function Kl(n,e){return n[Hs]?n[qo][qi]=e:n[Hs]=e,n[qo]=e,e}function ld(n){for(;n;){n[ut]|=32;const e=cu(n);if(wS(n)&&!e)return n;n=e}return null}function Zl(n,e,t,i=!0){const o=e[Us];o.begin&&o.begin();try{Gl(n,e,n.template,t)}catch(h){throw i&&Dv(e,h),h}finally{o.end&&o.end()}}function cd(n,e,t){Qh(0),e(n,t)}function Sv(n){return n[Ur]||(n[Ur]=[])}function Ev(n){return n.cleanup||(n.cleanup=[])}function Dv(n,e){const t=n[Hr],i=t?t.get(vs,null):null;i&&i.handleError(e)}function hd(n,e,t,i,o){for(let l=0;l<t.length;){const h=t[l++],_=t[l++],w=e[h],k=n.data[h];null!==k.setInput?k.setInput(w,o,i,_):w[_]=o}}function Ql(n,e,t){let i=t?n.styles:null,o=t?n.classes:null,l=0;if(null!==e)for(let h=0;h<e.length;h++){const _=e[h];"number"==typeof _?l=_:1==l?o=Mn(o,_):2==l&&(i=Mn(i,_+": "+e[++h]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=o:n.classesWithoutHost=o}function Yl(n,e,t,i,o=!1){for(;null!==t;){const l=e[t.index];if(null!==l&&i.push(pi(l)),Dr(l))for(let _=di;_<l.length;_++){const w=l[_],k=w[Qe].firstChild;null!==k&&Yl(w[Qe],w,k,i)}const h=t.type;if(8&h)Yl(n,e,t.child,i);else if(32&h){const _=Cf(t,e);let w;for(;w=_();)i.push(w)}else if(16&h){const _=y_(e,t);if(Array.isArray(_))i.push(..._);else{const w=cu(e[Dn]);Yl(w[Qe],w,_,i,!0)}}t=o?t.projectionNext:t.next}return i}class vu{get rootNodes(){const e=this._lView,t=e[Qe];return Yl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(e){this._lView[Ln]=e}get destroyed(){return 128==(128&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[wn];if(Dr(e)){const t=e[js],i=t?t.indexOf(this):-1;i>-1&&(If(e,i),Pl(t,i))}this._attachedToViewContainer=!1}c_(this._lView[Qe],this._lView)}onDestroy(e){mv(this._lView[Qe],this._lView,null,e)}markForCheck(){ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-65}reattach(){this._lView[ut]|=64}detectChanges(){Zl(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function GE(n,e){hu(n,e,e[Nt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class lI extends vu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Zl(e[Qe],e,e[Ln],!1)}checkNoChanges(){}get context(){return null}}class Iv extends pu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qt(e);return new yu(t,this.ngModule)}}function Tv(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class hI{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Uo(i);const o=this.injector.get(e,Wf,i);return o!==Wf||t===Wf?o:this.parentInjector.get(e,t,i)}}class yu extends W_{get inputs(){return Tv(this.componentDef.inputs)}get outputs(){return Tv(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _D(n){return n.map(mD).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,o){let l=(o=o||this.ngModule)instanceof _s?o:o?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const h=l?new hI(e,l):e,_=h.get(gu,null);if(null===_)throw new T(407,!1);const w=h.get(Qx,null),k=_.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",H=i?function UD(n,e,t){return n.selectRootElement(e,t===Li.ShadowDom)}(k,i,this.componentDef.encapsulation):Df(k,B,function cI(n){const e=n.toLowerCase();return"svg"===e?am:"math"===e?"math":null}(B)),J=this.componentDef.onPush?288:272,te=rd(0,null,null,1,0,null,null,null,null,null),oe=Wl(null,te,null,J,null,null,_,k,w,h,null);let de,ve;Yh(oe);try{const Ee=this.componentDef;let Be,Se=null;Ee.findHostDirectiveDefs?(Be=[],Se=new Map,Ee.findHostDirectiveDefs(Ee,Be,Se),Be.push(Ee)):Be=[Ee];const Je=function dI(n,e){const t=n[Qe],i=Ge;return n[i]=e,ca(t,i,2,"#host",null)}(oe,H),en=function pI(n,e,t,i,o,l,h,_){const w=o[Qe];!function gI(n,e,t,i){for(const o of n)e.mergedAttrs=nu(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(Ql(e,e.mergedAttrs,!0),null!==t&&C_(i,t,e))}(i,n,e,h);const k=l.createRenderer(e,t),B=Wl(o,gv(t),null,t.onPush?32:16,o[n.index],n,l,k,_||null,null,null);return w.firstCreatePass&&od(w,n,i.length-1),Kl(o,B),o[n.index]=B}(Je,H,Ee,Be,oe,_,k);ve=lm(te,Ge),H&&function _I(n,e,t,i){if(i)nf(n,t,["ng-version",Yx.full]);else{const{attrs:o,classes:l}=function vD(n){const e=[],t=[];let i=1,o=2;for(;i<n.length;){let l=n[i];if("string"==typeof l)2===o?""!==l&&e.push(l,n[++i]):8===o&&t.push(l);else{if(!Tr(o))break;o=l}i++}return{attrs:e,classes:t}}(e.selectors[0]);o&&nf(n,t,o),l&&l.length>0&&b_(n,t,l.join(" "))}}(k,Ee,H,i),void 0!==t&&function vI(n,e,t){const i=n.projection=[];for(let o=0;o<e.length;o++){const l=t[o];i.push(null!=l?Array.from(l):null)}}(ve,this.ngContentSelectors,t),de=function mI(n,e,t,i,o,l){const h=gi(),_=o[Qe],w=Gi(h,o);wv(_,o,h,t,null,i);for(let B=0;B<t.length;B++)yi(go(o,_,h.directiveStart+B,h),o);bv(_,o,h),w&&yi(w,o);const k=go(o,_,h.directiveStart+h.componentOffset,h);if(n[Ln]=o[Ln]=k,null!==l)for(const B of l)B(k,e);return td(_,h,n),k}(en,Ee,Be,Se,oe,[yI]),ed(te,oe,null)}finally{Xh()}return new fI(this.componentType,de,oa(ve,oe),oe,ve)}}class fI extends $x{constructor(e,t,i,o,l){super(),this.location=i,this._rootLView=o,this._tNode=l,this.instance=t,this.hostView=this.changeDetectorRef=new lI(o),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let o;if(null!==i&&(o=i[e])){const l=this._rootLView;hd(l[Qe],l,o,e,t),yv(l,this._tNode.index)}}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function yI(){const n=gi();Sl(Me()[Qe],n)}function fd(n){let e=function Mv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let o;if(Ir(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);o=e.\u0275dir}if(o){if(t){i.push(o);const h=n;h.inputs=dd(n.inputs),h.declaredInputs=dd(n.declaredInputs),h.outputs=dd(n.outputs);const _=o.hostBindings;_&&SI(n,_);const w=o.viewQuery,k=o.contentQueries;if(w&&bI(n,w),k&&CI(n,k),Vt(n.inputs,o.inputs),Vt(n.declaredInputs,o.declaredInputs),Vt(n.outputs,o.outputs),Ir(o)&&o.data.animation){const B=n.data;B.animation=(B.animation||[]).concat(o.data.animation)}}const l=o.features;if(l)for(let h=0;h<l.length;h++){const _=l[h];_&&_.ngInherit&&_(n),_===fd&&(t=!1)}}e=Object.getPrototypeOf(e)}!function wI(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const o=n[i];o.hostVars=e+=o.hostVars,o.hostAttrs=nu(o.hostAttrs,t=nu(t,o.hostAttrs))}}(i)}function dd(n){return n===Sr?{}:n===Wt?[]:n}function bI(n,e){const t=n.viewQuery;n.viewQuery=t?(i,o)=>{e(i,o),t(i,o)}:e}function CI(n,e){const t=n.contentQueries;n.contentQueries=t?(i,o,l)=>{e(i,o,l),t(i,o,l)}:e}function SI(n,e){const t=n.hostBindings;n.hostBindings=t?(i,o)=>{e(i,o),t(i,o)}:e}function Xl(n){return!!function pd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function wi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function wo(n,e,t,i){const o=wi(n,e,t);return wi(n,e+1,i)||o}function Ws(n,e,t,i){const o=Me();return wi(o,Go(),e)&&(Jt(),Qr(Bn(),o,n,e,t,i)),Ws}function pa(n,e,t,i,o,l,h,_){const k=function Jl(n,e,t,i,o){const l=wo(n,e,t,i);return wi(n,e+2,o)||l}(n,function ps(){return Tt.lFrame.bindingIndex}(),t,o,h);return gs(3),k?e+G(t)+i+G(o)+l+G(h)+_:Mt}function gd(n,e,t,i,o,l,h,_,w,k){const B=Me(),H=pa(B,e,t,i,o,l,h,_);return H!==Mt&&Qr(Bn(),B,n,H,w,k),gd}function Gs(n,e,t,i,o,l,h,_){const w=Me(),k=Jt(),B=n+Ge,H=k.firstCreatePass?function OI(n,e,t,i,o,l,h,_,w){const k=e.consts,B=ca(e,n,4,h||null,$s(k,_));sd(e,t,B,$s(k,w)),Sl(e,B);const H=B.tView=rd(2,B,i,o,l,e.directiveRegistry,e.pipeRegistry,null,e.schemas,k);return null!==e.queries&&(e.queries.template(e,B),H.queries=e.queries.embeddedTView(B)),B}(B,k,w,e,t,i,o,l,h):k.data[B];$r(H,!1);const J=w[Nt].createComment("");Fl(k,w,J,H),yi(J,w),Kl(w,w[B]=Cv(J,w,J,H)),wl(H)&&nd(k,w,H),null!=h&&id(w,H,_)}function md(n){return Wo(function LS(){return Tt.lFrame.contextLView}(),Ge+n)}function pr(n,e,t){const i=Me();return wi(i,Go(),e)&&function Yi(n,e,t,i,o,l,h,_){const w=Gi(e,t);let B,k=e.inputs;!_&&null!=k&&(B=k[i])?(hd(n,t,B,i,o),Ja(e)&&yv(t,e.index)):3&e.type&&(i=function $D(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),o=null!=h?h(o,e.value||"",i):o,l.setProperty(w,i,o))}(Jt(),Bn(),i,n,e,i[Nt],t,!1),pr}function _d(n,e,t,i,o){const h=o?"class":"style";hd(n,t,e.inputs[h],h,i)}function Ui(n,e,t,i){const o=Me(),l=Jt(),h=Ge+n,_=o[Nt],w=l.firstCreatePass?function RI(n,e,t,i,o,l){const h=e.consts,w=ca(e,n,2,i,$s(h,o));return sd(e,t,w,$s(h,l)),null!==w.attrs&&Ql(w,w.attrs,!1),null!==w.mergedAttrs&&Ql(w,w.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,w),w}(h,l,o,e,t,i):l.data[h],k=o[h]=Df(_,e,function WS(){return Tt.lFrame.currentNamespace}()),B=wl(w);return $r(w,!0),C_(_,k,w),32!=(32&w.flags)&&Fl(l,o,k,w),0===function kS(){return Tt.lFrame.elementDepthCount}()&&yi(k,o),function OS(){Tt.lFrame.elementDepthCount++}(),B&&(nd(l,o,w),td(l,w,o)),null!==i&&id(o,w),Ui}function Xi(){let n=gi();Wh()?Gh():(n=n.parent,$r(n,!1));const e=n;!function NS(){Tt.lFrame.elementDepthCount--}();const t=Jt();return t.firstCreatePass&&(Sl(t,n),jh(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function QS(n){return 0!=(8&n.flags)}(e)&&_d(t,e,Me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function YS(n){return 0!=(16&n.flags)}(e)&&_d(t,e,Me(),e.stylesWithoutHost,!1),Xi}function bo(n,e,t,i){return Ui(n,e,t,i),Xi(),bo}function ec(){return Me()}function tc(n){return!!n&&"function"==typeof n.then}const jv=function Hv(n){return!!n&&"function"==typeof n.subscribe};function Co(n,e,t,i){const o=Me(),l=Jt(),h=gi();return function qv(n,e,t,i,o,l,h){const _=wl(i),k=n.firstCreatePass&&Ev(n),B=e[Ln],H=Sv(e);let J=!0;if(3&i.type||h){const de=Gi(i,e),ve=h?h(de):de,Ee=H.length,Be=h?Je=>h(pi(Je[i.index])):i.index;let Se=null;if(!h&&_&&(Se=function LI(n,e,t,i){const o=n.cleanup;if(null!=o)for(let l=0;l<o.length-1;l+=2){const h=o[l];if(h===t&&o[l+1]===i){const _=e[Ur],w=o[l+2];return _.length>w?_[w]:null}"string"==typeof h&&(l+=2)}return null}(n,e,o,i.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=l,Se.__ngLastListenerFn__=l,J=!1;else{l=Gv(i,e,B,l,!1);const Je=t.listen(ve,o,l);H.push(l,Je),k&&k.push(o,Be,Ee,Ee+1)}}else l=Gv(i,e,B,l,!1);const te=i.outputs;let oe;if(J&&null!==te&&(oe=te[o])){const de=oe.length;if(de)for(let ve=0;ve<de;ve+=2){const en=e[oe[ve]][oe[ve+1]].subscribe(l),rn=H.length;H.push(l,en),k&&k.push(o,i.index,rn,-(rn+1))}}}(l,o,o[Nt],h,n,e,i),Co}function Wv(n,e,t,i){try{return hr(6,e,t),!1!==t(i)}catch(o){return Dv(n,o),!1}finally{hr(7,e,t)}}function Gv(n,e,t,i,o){return function l(h){if(h===Function)return i;ld(n.componentOffset>-1?Ki(n.index,e):e);let w=Wv(e,t,i,h),k=l.__ngNextListenerFn__;for(;k;)w=Wv(e,t,k,h)&&w,k=k.__ngNextListenerFn__;return o&&!1===w&&(h.preventDefault(),h.returnValue=!1),w}}function Ji(n=1){return function HS(n){return(Tt.lFrame.contextLView=function jS(n,e){for(;n>0;)e=e[jr],n--;return e}(n,Tt.lFrame.contextLView))[Ln]}(n)}function BI(n,e){let t=null;const i=function fD(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const l=e[o];if("*"!==l){if(null===i?X_(n,l,!0):gD(i,l))return o}else t=o}return t}function nc(n,e){return n<<17|e<<2}function Ks(n){return n>>17&32767}function bd(n){return 2|n}function So(n){return(131068&n)>>2}function Cd(n,e){return-131069&n|e<<2}function Sd(n){return 1|n}function o0(n,e,t,i,o){const l=n[t+1],h=null===e;let _=i?Ks(l):So(l),w=!1;for(;0!==_&&(!1===w||h);){const B=n[_+1];$I(n[_],e)&&(w=!0,n[_+1]=i?Sd(B):bd(B)),_=i?Ks(B):So(B)}w&&(n[t+1]=i?bd(l):Sd(l))}function $I(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ea(n,e)>=0}function Ed(n,e){return function Ar(n,e,t,i){const o=Me(),l=Jt(),h=gs(2);l.firstUpdatePass&&function g0(n,e,t,i){const o=n.data;if(null===o[t+1]){const l=o[Ai()],h=function p0(n,e){return e>=n.expandoStartIndex}(n,t);(function y0(n,e){return 0!=(n.flags&(e?8:16))})(l,i)&&null===e&&!h&&(e=!1),e=function JI(n,e,t,i){const o=function Zh(n){const e=Tt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let l=i?e.residualClasses:e.residualStyles;if(null===o)0===(i?e.classBindings:e.styleBindings)&&(t=bu(t=xd(null,n,e,t,i),e.attrs,i),l=null);else{const h=e.directiveStylingLast;if(-1===h||n[h]!==o)if(t=xd(o,n,e,t,i),null===l){let w=function eT(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==So(i))return n[Ks(i)]}(n,e,i);void 0!==w&&Array.isArray(w)&&(w=xd(null,n,e,w[1],i),w=bu(w,e.attrs,i),function tT(n,e,t,i){n[Ks(t?e.classBindings:e.styleBindings)]=i}(n,e,i,w))}else l=function nT(n,e,t){let i;const o=e.directiveEnd;for(let l=1+e.directiveStylingLast;l<o;l++)i=bu(i,n[l].hostAttrs,t);return bu(i,e.attrs,t)}(n,e,i)}return void 0!==l&&(i?e.residualClasses=l:e.residualStyles=l),t}(o,l,e,i),function HI(n,e,t,i,o,l){let h=l?e.classBindings:e.styleBindings,_=Ks(h),w=So(h);n[i]=t;let B,k=!1;if(Array.isArray(t)?(B=t[1],(null===B||ea(t,B)>0)&&(k=!0)):B=t,o)if(0!==w){const J=Ks(n[_+1]);n[i+1]=nc(J,_),0!==J&&(n[J+1]=Cd(n[J+1],i)),n[_+1]=function zI(n,e){return 131071&n|e<<17}(n[_+1],i)}else n[i+1]=nc(_,0),0!==_&&(n[_+1]=Cd(n[_+1],i)),_=i;else n[i+1]=nc(w,0),0===_?_=i:n[w+1]=Cd(n[w+1],i),w=i;k&&(n[i+1]=bd(n[i+1])),o0(n,B,i,!0),o0(n,B,i,!1),function jI(n,e,t,i,o){const l=o?n.residualClasses:n.residualStyles;null!=l&&"string"==typeof e&&ea(l,e)>=0&&(t[i+1]=Sd(t[i+1]))}(e,B,n,i,l),h=nc(_,w),l?e.classBindings=h:e.styleBindings=h}(o,l,e,t,h,i)}}(l,n,h,i),e!==Mt&&wi(o,h,e)&&function _0(n,e,t,i,o,l,h,_){if(!(3&e.type))return;const w=n.data,k=w[_+1],B=function UI(n){return 1==(1&n)}(k)?v0(w,e,t,o,So(k),h):void 0;ic(B)||(ic(l)||function VI(n){return 2==(2&n)}(k)&&(l=v0(w,null,t,o,_,h)),function ix(n,e,t,i,o){if(e)o?n.addClass(t,i):n.removeClass(t,i);else{let l=-1===i.indexOf("-")?void 0:Vi.DashCase;null==o?n.removeStyle(t,i,l):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),l|=Vi.Important),n.setStyle(t,i,o,l))}}(i,h,bl(Ai(),t),o,l))}(l,l.data[Ai()],o,o[Nt],n,o[h+1]=function sT(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Le(Qi(n)))),n}(e,t),i,h)}(n,e,null,!0),Ed}function xd(n,e,t,i,o){let l=null;const h=t.directiveEnd;let _=t.directiveStylingLast;for(-1===_?_=t.directiveStart:_++;_<h&&(l=e[_],i=bu(i,l.hostAttrs,o),l!==n);)_++;return null!==n&&(t.directiveStylingLast=_),i}function bu(n,e,t){const i=t?1:2;let o=-1;if(null!==e)for(let l=0;l<e.length;l++){const h=e[l];"number"==typeof h?o=h:o===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zi(n,h,!!t||e[++l]))}return void 0===n?null:n}function v0(n,e,t,i,o,l){const h=null===e;let _;for(;o>0;){const w=n[o],k=Array.isArray(w),B=k?w[1]:w,H=null===B;let J=t[o+1];J===Mt&&(J=H?Wt:void 0);let te=H?ff(J,i):B===i?J:void 0;if(k&&!ic(te)&&(te=ff(w,i)),ic(te)&&(_=te,h))return _;const oe=n[o+1];o=h?Ks(oe):So(oe)}if(null!==e){let w=l?e.residualClasses:e.residualStyles;null!=w&&(_=ff(w,i))}return _}function ic(n){return void 0!==n}function rc(n,e=""){const t=Me(),i=Jt(),o=n+Ge,l=i.firstCreatePass?ca(i,o,1,e,null):i.data[o],h=t[o]=function xf(n,e){return n.createText(e)}(t[Nt],e);Fl(i,t,h,l),$r(l,!1)}function Dd(n){return Id("",n,""),Dd}function Id(n,e,t){const i=Me(),o=function fa(n,e,t,i){return wi(n,Go(),t)?e+G(t)+i:Mt}(i,n,e,t);return o!==Mt&&function ws(n,e,t){const i=bl(e,n);!function u_(n,e,t){n.setValue(e,t)}(n[Nt],i,t)}(i,Ai(),o),Id}const Eo=void 0;var xT=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ET(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let ba={};function Pi(n){const e=function DT(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=z0(e);if(t)return t;const i=e.split("-")[0];if(t=z0(i),t)return t;if("en"===i)return xT;throw new T(701,!1)}function z0(n){return n in ba||(ba[n]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[n]),ba[n]}var Ke=(()=>((Ke=Ke||{})[Ke.LocaleId=0]="LocaleId",Ke[Ke.DayPeriodsFormat=1]="DayPeriodsFormat",Ke[Ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ke[Ke.DaysFormat=3]="DaysFormat",Ke[Ke.DaysStandalone=4]="DaysStandalone",Ke[Ke.MonthsFormat=5]="MonthsFormat",Ke[Ke.MonthsStandalone=6]="MonthsStandalone",Ke[Ke.Eras=7]="Eras",Ke[Ke.FirstDayOfWeek=8]="FirstDayOfWeek",Ke[Ke.WeekendRange=9]="WeekendRange",Ke[Ke.DateFormat=10]="DateFormat",Ke[Ke.TimeFormat=11]="TimeFormat",Ke[Ke.DateTimeFormat=12]="DateTimeFormat",Ke[Ke.NumberSymbols=13]="NumberSymbols",Ke[Ke.NumberFormats=14]="NumberFormats",Ke[Ke.CurrencyCode=15]="CurrencyCode",Ke[Ke.CurrencySymbol=16]="CurrencySymbol",Ke[Ke.CurrencyName=17]="CurrencyName",Ke[Ke.Currencies=18]="Currencies",Ke[Ke.Directionality=19]="Directionality",Ke[Ke.PluralCase=20]="PluralCase",Ke[Ke.ExtraData=21]="ExtraData",Ke))();const Ca="en-US";let U0=Ca;class Sa{}class dy{}class py extends Sa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iv(this);const i=xn(e);this._bootstrapComponents=ys(i.bootstrap),this._r3Injector=sv(e,t,[{provide:Sa,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],Le(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Nd extends dy{constructor(e){super(),this.moduleType=e}create(e){return new py(this.moduleType,e)}}class DM extends Sa{constructor(e,t,i){super(),this.componentFactoryResolver=new Iv(this),this.instance=null;const o=new $_([...e,{provide:Sa,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],t||$l(),i,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function lc(n,e,t=null){return new DM(n,e,t).injector}let IM=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=z_(0,t.type),o=i.length>0?lc([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=it({token:n,providedIn:"environment",factory:()=>new n($e(_s))}),n})();function gy(n){n.getStandaloneInjector=e=>e.get(IM).getOrCreateStandaloneInjector(n)}function Sy(n,e,t,i,o,l,h){const _=e+t;return wo(n,_,o,l)?function Yr(n,e,t){return n[e]=t}(n,_+2,h?i.call(h,o,l):i(o,l)):function Iu(n,e){const t=n[e];return t===Mt?void 0:t}(n,_+2)}function Fd(n,e){const t=Jt();let i;const o=n+Ge;t.firstCreatePass?(i=function WM(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[o]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,i.onDestroy)):i=t.data[o];const l=i.factory||(i.factory=ho(i.type)),h=Ii(at);try{const _=Tl(!1),w=l();return Tl(_),function NI(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Me(),o,w),w}finally{Ii(h)}}function Ld(n,e,t,i){const o=n+Ge,l=Me(),h=Wo(l,o);return function Tu(n,e){return n[Qe].data[e].pure}(l,o)?Sy(l,function Mi(){const n=Tt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,h.transform,t,i,h):h.transform(t,i)}function Bd(n){return e=>{setTimeout(n,void 0,e)}}const ki=class YM extends ht{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let o=e,l=t||(()=>null),h=i;if(e&&"object"==typeof e){const w=e;o=w.next?.bind(w),l=w.error?.bind(w),h=w.complete?.bind(w)}this.__isAsync&&(l=Bd(l),o&&(o=Bd(o)),h&&(h=Bd(h)));const _=super.subscribe({next:o,error:l,complete:h});return e instanceof Ie&&e.add(_),_}};function XM(){return this._results[Symbol.iterator]()}class Vd{get changes(){return this._changes||(this._changes=new ki)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Vd.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=XM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const o=function fr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function aE(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],l=e[i];if(t&&(o=t(o),l=t(l)),l!==o)return!1}return!0}(i._results,o,t))&&(i._results=o,i.length=o.length,i.last=o[this.length-1],i.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bs=(()=>{class n{}return n.__NG_ELEMENT_ID__=tA,n})();const JM=bs,eA=class extends JM{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,o=Wl(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);o[re]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[_e];return null!==h&&(o[_e]=h.createEmbeddedView(i)),ed(i,o,e),new vu(o)}};function tA(){return cc(gi(),Me())}function cc(n,e){return 4&n.type?new eA(e,n,oa(n,e)):null}let kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=nA,n})();function nA(){return My(gi(),Me())}const iA=kr,Iy=class extends iA{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const e=af(this._hostTNode,this._hostLView);if(Im(e)){const t=Il(e,this._hostLView),i=Dl(e);return new Zo(t[Qe].data[i+8],t)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Ty(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-di}createEmbeddedView(e,t,i){let o,l;"number"==typeof i?o=i:null!=i&&(o=i.index,l=i.injector);const h=e.createEmbeddedView(t||{},l);return this.insert(h,o),h}createComponent(e,t,i,o,l){const h=e&&!function su(n){return"function"==typeof n}(e);let _;if(h)_=t;else{const H=t||{};_=H.index,i=H.injector,o=H.projectableNodes,l=H.environmentInjector||H.ngModuleRef}const w=h?e:new yu(Qt(e)),k=i||this.parentInjector;if(!l&&null==w.ngModule){const J=(h?k:this.parentInjector).get(_s,null);J&&(l=J)}const B=w.create(k,o,void 0,l);return this.insert(B.hostView,_),B}insert(e,t){const i=e._lView,o=i[Qe];if(function PS(n){return Dr(n[wn])}(i)){const B=this.indexOf(e);if(-1!==B)this.detach(B);else{const H=i[wn],J=new Iy(H,H[Qn],H[wn]);J.detach(J.indexOf(e))}}const l=this._adjustIndex(t),h=this._lContainer;!function ZE(n,e,t,i){const o=di+i,l=t.length;i>0&&(t[o-1][qi]=e),i<l-di?(e[qi]=t[o],zm(t,di+i,e)):(t.push(e),e[qi]=null),e[wn]=t;const h=e[re];null!==h&&t!==h&&function QE(n,e){const t=n[xr];e[Dn]!==e[wn][wn][Dn]&&(n[Bi]=!0),null===t?n[xr]=[e]:t.push(e)}(h,e);const _=e[_e];null!==_&&_.insertView(n),e[ut]|=64}(o,i,h,l);const _=Af(l,h),w=i[Nt],k=Rl(w,h[cr]);return null!==k&&function WE(n,e,t,i,o,l){i[lr]=o,i[Qn]=e,hu(n,i,t,1,o,l)}(o,h[Qn],w,i,k,_),e.attachToViewContainerRef(),zm(zd(h),l,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Ty(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=If(this._lContainer,t);i&&(Pl(zd(this._lContainer),t),c_(i[Qe],i))}detach(e){const t=this._adjustIndex(e,-1),i=If(this._lContainer,t);return i&&null!=Pl(zd(this._lContainer),t)?new vu(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Ty(n){return n[js]}function zd(n){return n[js]||(n[js]=[])}function My(n,e){let t;const i=e[n.index];if(Dr(i))t=i;else{let o;if(8&n.type)o=pi(i);else{const l=e[Nt];o=l.createComment("");const h=Gi(n,e);_o(l,Rl(l,h),o,function ex(n,e){return n.nextSibling(e)}(l,h),!1)}e[n.index]=t=Cv(i,e,o,n),Kl(e,t)}return new Iy(t,n,e)}class Ud{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ud(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let l=0;l<i;l++){const h=t.getByIndex(l);o.push(this.queries[h.indexInDeclarationView].clone())}return new Hd(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Fy(e,t).matches&&this.queries[t].setDirty()}}class Ay{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class jd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const o=null!==t?t.length:0,l=this.getByIndex(i).embeddedTView(e,o);l&&(l.indexInDeclarationView=i,null!==t?t.push(l):t=[l])}return null!==t?new jd(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class $d{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new $d(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const l=i[o];this.matchTNodeWithReadOption(e,t,rA(t,l)),this.matchTNodeWithReadOption(e,t,Al(t,e,l,!1,!1))}else i===bs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Al(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===Kr||o===kr||o===bs&&4&t.type)this.addMatch(t.index,-2);else{const l=Al(t,e,o,!1,!1);null!==l&&this.addMatch(t.index,l)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function rA(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function oA(n,e,t,i){return-1===t?function sA(n,e){return 11&n.type?oa(n,e):4&n.type?cc(n,e):null}(e,n):-2===t?function aA(n,e,t){return t===Kr?oa(e,n):t===bs?cc(e,n):t===kr?My(e,n):void 0}(n,e,i):go(n,n[Qe],t,e)}function Py(n,e,t,i){const o=e[_e].queries[i];if(null===o.matches){const l=n.data,h=t.matches,_=[];for(let w=0;w<h.length;w+=2){const k=h[w];_.push(k<0?null:oA(e,l[k],h[w+1],t.metadata.read))}o.matches=_}return o.matches}function qd(n,e,t,i){const o=n.queries.getByIndex(t),l=o.matches;if(null!==l){const h=Py(n,e,o,t);for(let _=0;_<l.length;_+=2){const w=l[_];if(w>0)i.push(h[_/2]);else{const k=l[_+1],B=e[-w];for(let H=di;H<B.length;H++){const J=B[H];J[re]===J[wn]&&qd(J[Qe],J,k,i)}if(null!==B[xr]){const H=B[xr];for(let J=0;J<H.length;J++){const te=H[J];qd(te[Qe],te,k,i)}}}}}return i}function Wd(n){const e=Me(),t=Jt(),i=_m();Qh(i+1);const o=Fy(t,i);if(n.dirty&&function AS(n){return 4==(4&n[ut])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const l=o.crossesNgTemplate?qd(t,e,i,[]):Py(t,e,o,i);n.reset(l,Kx),n.notifyOnChanges()}return!0}return!1}function ky(n,e,t){const i=Jt();i.firstCreatePass&&(function Ry(n,e,t){null===n.queries&&(n.queries=new jd),n.queries.track(new $d(e,t))}(i,new Ay(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function Ny(n,e,t){const i=new Vd(4==(4&t));mv(n,e,i,i.destroy),null===e[_e]&&(e[_e]=new Hd),e[_e].queries.push(new Ud(i))}(i,Me(),e)}function Fy(n,e){return n.queries.getByIndex(e)}function fc(...n){}const dc=new Ye("Application Initializer");let pc=(()=>{class n{constructor(t){this.appInits=t,this.resolve=fc,this.reject=fc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const l=this.appInits[o]();if(tc(l))t.push(l);else if(jv(l)){const h=new Promise((_,w)=>{l.subscribe({complete:_,error:w})});t.push(h)}}Promise.all(t).then(()=>{i()}).catch(o=>{this.reject(o)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)($e(dc,8))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Au=new Ye("AppId",{providedIn:"root",factory:function ew(){return`${Jd()}${Jd()}${Jd()}`}});function Jd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tw=new Ye("Platform Initializer"),ep=new Ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nw=new Ye("AnimationModuleType");let AA=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const es=new Ye("LocaleId",{providedIn:"root",factory:()=>Lt(es,pt.Optional|pt.SkipSelf)||function PA(){return typeof $localize<"u"&&$localize.locale||Ca}()});class OA{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let iw=(()=>{class n{compileModuleSync(t){return new Nd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),l=ys(xn(t).declarations).reduce((h,_)=>{const w=Qt(_);return w&&h.push(new yu(w)),h},[]);return new OA(i,l)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FA=(()=>Promise.resolve(0))();function tp(n){typeof Zone>"u"?FA.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class kn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ki(!1),this.onMicrotaskEmpty=new ki(!1),this.onStable=new ki(!1),this.onError=new ki(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&t,o.shouldCoalesceRunChangeDetection=i,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function LA(){let n=_n.requestAnimationFrame,e=_n.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function zA(n){const e=()=>{!function VA(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_n,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ip(n),n.isCheckStableRunning=!0,np(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ip(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,o,l,h,_)=>{try{return ow(n),t.invokeTask(o,l,h,_)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||n.shouldCoalesceRunChangeDetection)&&e(),aw(n)}},onInvoke:(t,i,o,l,h,_,w)=>{try{return ow(n),t.invoke(o,l,h,_,w)}finally{n.shouldCoalesceRunChangeDetection&&e(),aw(n)}},onHasTask:(t,i,o,l)=>{t.hasTask(o,l),i===o&&("microTask"==l.change?(n._hasPendingMicrotasks=l.microTask,ip(n),np(n)):"macroTask"==l.change&&(n.hasPendingMacrotasks=l.macroTask))},onHandleError:(t,i,o,l)=>(t.handleError(o,l),n.runOutsideAngular(()=>n.onError.emit(l)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kn.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(kn.isInAngularZone())throw new T(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,o){const l=this._inner,h=l.scheduleEventTask("NgZoneEvent: "+o,e,BA,fc,fc);try{return l.runTask(h,t,i)}finally{l.cancelTask(h)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const BA={};function np(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ip(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ow(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aw(n){n._nesting--,np(n)}class UA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ki,this.onMicrotaskEmpty=new ki,this.onStable=new ki,this.onError=new ki}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,o){return e.apply(t,i)}}const uw=new Ye(""),gc=new Ye("");let op,rp=(()=>{class n{constructor(t,i,o){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,op||(function HA(n){op=n}(o),o.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kn.assertNotInAngularZone(),tp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,o){let l=-1;i&&i>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==l),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:l,updateCb:o})}whenStable(t,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,o){return[]}}return n.\u0275fac=function(t){return new(t||n)($e(kn),$e(sp),$e(gc))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})(),sp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return op?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cs=!1;let Zs=null;const lw=new Ye("AllowMultipleToken"),ap=new Ye("PlatformDestroyListeners"),cw=new Ye("appBootstrapListener");class hw{constructor(e,t){this.name=e,this.token=t}}function dw(n,e,t=[]){const i=`Platform: ${e}`,o=new Ye(i);return(l=[])=>{let h=up();if(!h||h.injector.get(lw,!1)){const _=[...t,...l,{provide:o,useValue:!0}];n?n(_):function qA(n){if(Zs&&!Zs.get(lw,!1))throw new T(400,!1);Zs=n;const e=n.get(gw);(function fw(n){const e=n.get(tw,null);e&&e.forEach(t=>t())})(n)}(function pw(n=[],e){return Zr.create({name:e,providers:[{provide:Hf,useValue:"platform"},{provide:ap,useValue:new Set([()=>Zs=null])},...n]})}(_,i))}return function GA(n){const e=up();if(!e)throw new T(401,!1);return e}()}}function up(){return Zs?.get(gw)??null}let gw=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const o=function _w(n,e){let t;return t="noop"===n?new UA:("zone.js"===n?void 0:n)||new kn(e),t}(i?.ngZone,function mw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),l=[{provide:kn,useValue:o}];return o.run(()=>{const h=Zr.create({providers:l,parent:this.injector,name:t.moduleType.name}),_=t.create(h),w=_.injector.get(vs,null);if(!w)throw new T(402,!1);return o.runOutsideAngular(()=>{const k=o.onError.subscribe({next:B=>{w.handleError(B)}});_.onDestroy(()=>{mc(this._modules,_),k.unsubscribe()})}),function vw(n,e,t){try{const i=t();return tc(i)?i.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(w,o,()=>{const k=_.injector.get(pc);return k.runInitializers(),k.donePromise.then(()=>(function H0(n){Gn(n,"Expected localeId to be defined"),"string"==typeof n&&(U0=n.toLowerCase().replace(/_/g,"-"))}(_.injector.get(es,Ca)||Ca),this._moduleDoBootstrap(_),_))})})}bootstrapModule(t,i=[]){const o=yw({},i);return function jA(n,e,t){const i=new Nd(t);return Promise.resolve(i)}(0,0,t).then(l=>this.bootstrapModuleFactory(l,o))}_moduleDoBootstrap(t){const i=t.injector.get(Pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new T(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(ap,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)($e(Zr))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function yw(n,e){return Array.isArray(e)?e.reduce(yw,n):{...n,...e}}let Pu=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,o){this._zone=t,this._injector=i,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new Fe(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),h=new Fe(_=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{kn.assertNotInAngularZone(),tp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{kn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{w.unsubscribe(),k.unsubscribe()}});this.isStable=function At(...n){const e=fe(n),t=function pe(n,e){return"number"==typeof we(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?M(i[0]):Y(t)(ft(i,e)):X}(l,h.pipe(mt()))}bootstrap(t,i){const o=t instanceof W_;if(!this._injector.get(pc).done){!o&&function Ls(n){const e=Qt(n)||li(n)||ci(n);return null!==e&&e.standalone}(t);throw new T(405,Cs)}let h;h=o?t:this._injector.get(pu).resolveComponentFactory(t),this.componentTypes.push(h.componentType);const _=function $A(n){return n.isBoundToModule}(h)?void 0:this._injector.get(Sa),k=h.create(Zr.NULL,[],i||h.selector,_),B=k.location.nativeElement,H=k.injector.get(uw,null);return H?.registerApplication(B),k.onDestroy(()=>{this.detachView(k.hostView),mc(this.components,k),H?.unregisterApplication(B)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;mc(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(cw,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)($e(kn),$e(_s),$e(vs))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let _c=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZA,n})();function ZA(n){return function QA(n,e,t){if(Ja(n)&&!t){const i=Ki(n.index,e);return new vu(i,i)}return 47&n.type?new vu(e[Dn],e):null}(gi(),Me(),16==(16&n))}class Ew{constructor(){}supports(e){return Xl(e)}create(e){return new n2(e)}}const t2=(n,e)=>e;class n2{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||t2}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,o=0,l=null;for(;t||i;){const h=!i||t&&t.currentIndex<Dw(i,o,l)?t:i,_=Dw(h,o,l),w=h.currentIndex;if(h===i)o--,i=i._nextRemoved;else if(t=t._next,null==h.previousIndex)o++;else{l||(l=[]);const k=_-o,B=w-o;if(k!=B){for(let J=0;J<k;J++){const te=J<l.length?l[J]:l[J]=0,oe=te+J;B<=oe&&oe<k&&(l[J]=te+1)}l[h.previousIndex]=B-k}}_!==w&&e(h,_,w)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Xl(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,l,h,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let _=0;_<this.length;_++)l=e[_],h=this._trackByFn(_,l),null!==t&&Object.is(t.trackById,h)?(i&&(t=this._verifyReinsertion(t,l,h,_)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,h,_),i=!0),t=t._next}else o=0,function AI(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,_=>{h=this._trackByFn(o,_),null!==t&&Object.is(t.trackById,h)?(i&&(t=this._verifyReinsertion(t,_,h,o)),Object.is(t.item,_)||this._addIdentityChange(t,_)):(t=this._mismatch(t,_,h,o),i=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,o){let l;return null===e?l=this._itTail:(l=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,l,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,l,o)):e=this._addAfter(new i2(t,i),l,o),e}_verifyReinsertion(e,t,i,o){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==l?e=this._reinsertAfter(l,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,l=e._nextRemoved;return null===o?this._removalsHead=l:o._nextRemoved=l,null===l?this._removalsTail=o:l._prevRemoved=o,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new xw),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class i2{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class r2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class xw{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new r2,this.map.set(t,i)),i.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dw(n,e,t){const i=n.previousIndex;if(null===i)return i;let o=0;return t&&i<t.length&&(o=t[i]),i+e+o}function Tw(){return new wc([new Ew])}let wc=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const o=i.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Tw()),deps:[[n,new ta,new qs]]}}find(t){const i=this.factories.find(o=>o.supports(t));if(null!=i)return i;throw new T(901,!1)}}return n.\u0275prov=it({token:n,providedIn:"root",factory:Tw}),n})();const l2=dw(null,"core",[]);let c2=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)($e(Pu))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({}),n})(),pp=null;function Do(){return pp}class d2{}const On=new Ye("DocumentToken");let gp=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(){return function p2(){return $e(Aw)}()},providedIn:"platform"}),n})();const g2=new Ye("Location Initialized");let Aw=(()=>{class n extends gp{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Do().getBaseHref(this._doc)}onPopState(t){const i=Do().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Do().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,o){Pw()?this._history.pushState(t,i,o):this._location.hash=o}replaceState(t,i,o){Pw()?this._history.replaceState(t,i,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)($e(On))},n.\u0275prov=it({token:n,factory:function(){return function m2(){return new Aw($e(On))}()},providedIn:"platform"}),n})();function Pw(){return!!window.history.pushState}function mp(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kw(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ss(n){return n&&"?"!==n[0]?"?"+n:n}let Io=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(){return Lt(Nw)},providedIn:"root"}),n})();const Ow=new Ye("appBaseHref");let Nw=(()=>{class n extends Io{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Lt(On).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mp(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ss(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${i}${o}`:i}pushState(t,i,o,l){const h=this.prepareExternalUrl(o+Ss(l));this._platformLocation.pushState(t,i,h)}replaceState(t,i,o,l){const h=this.prepareExternalUrl(o+Ss(l));this._platformLocation.replaceState(t,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)($e(gp),$e(Ow,8))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_2=(()=>{class n extends Io{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=mp(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,o,l){let h=this.prepareExternalUrl(o+Ss(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,i,h)}replaceState(t,i,o,l){let h=this.prepareExternalUrl(o+Ss(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)($e(gp),$e(Ow,8))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})(),_p=(()=>{class n{constructor(t){this._subject=new ki,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function w2(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(kw(Rw(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ss(i))}normalize(t){return n.stripTrailingSlash(function y2(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Rw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",o=null){this._locationStrategy.pushState(o,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ss(i)),o)}replaceState(t,i="",o=null){this._locationStrategy.replaceState(o,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ss(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(o=>o(t,i))}subscribe(t,i,o){return this._subject.subscribe({next:t,error:i,complete:o})}}return n.normalizeQueryParams=Ss,n.joinWithSlash=mp,n.stripTrailingSlash=kw,n.\u0275fac=function(t){return new(t||n)($e(Io))},n.\u0275prov=it({token:n,factory:function(){return function v2(){return new _p($e(Io))}()},providedIn:"root"}),n})();function Rw(n){return n.replace(/\/index.html$/,"")}var Hi=(()=>((Hi=Hi||{})[Hi.Decimal=0]="Decimal",Hi[Hi.Percent=1]="Percent",Hi[Hi.Currency=2]="Currency",Hi[Hi.Scientific=3]="Scientific",Hi))(),wt=(()=>((wt=wt||{})[wt.Decimal=0]="Decimal",wt[wt.Group=1]="Group",wt[wt.List=2]="List",wt[wt.PercentSign=3]="PercentSign",wt[wt.PlusSign=4]="PlusSign",wt[wt.MinusSign=5]="MinusSign",wt[wt.Exponential=6]="Exponential",wt[wt.SuperscriptingExponent=7]="SuperscriptingExponent",wt[wt.PerMille=8]="PerMille",wt[wt.Infinity=9]="Infinity",wt[wt.NaN=10]="NaN",wt[wt.TimeSeparator=11]="TimeSeparator",wt[wt.CurrencyDecimal=12]="CurrencyDecimal",wt[wt.CurrencyGroup=13]="CurrencyGroup",wt))();function gr(n,e){const t=Pi(n),i=t[Ke.NumberSymbols][e];if(typeof i>"u"){if(e===wt.CurrencyDecimal)return t[Ke.NumberSymbols][wt.Decimal];if(e===wt.CurrencyGroup)return t[Ke.NumberSymbols][wt.Group]}return i}const W2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Uw=22,Mc=".",Nu="0",G2=";",K2=",",Cp="#";function xp(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class oP{constructor(e,t,i,o){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ac=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,o){this._viewContainer=t,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((o,l,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new oP(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===l?void 0:l);else if(null!==l){const _=i.get(l);i.move(_,h),Gw(_,o)}});for(let o=0,l=i.length;o<l;o++){const _=i.get(o).context;_.index=o,_.count=l,_.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Gw(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(at(kr),at(bs),at(wc))},n.\u0275dir=Kt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gw(n,e){n.context.$implicit=e.item}let Tp=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new uP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(at(kr),at(bs))},n.\u0275dir=Kt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class uP{constructor(){this.$implicit=null,this.ngIf=null}}function Kw(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Le(e)}'.`)}let Yw=(()=>{class n{constructor(t){this._locale=t}transform(t,i,o){if(!function Pp(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale;try{return function X2(n,e,t){return function Sp(n,e,t,i,o,l,h=!1){let _="",w=!1;if(isFinite(n)){let k=function eP(n){let i,o,l,h,_,e=Math.abs(n)+"",t=0;for((o=e.indexOf(Mc))>-1&&(e=e.replace(Mc,"")),(l=e.search(/e/i))>0?(o<0&&(o=l),o+=+e.slice(l+1),e=e.substring(0,l)):o<0&&(o=e.length),l=0;e.charAt(l)===Nu;l++);if(l===(_=e.length))i=[0],o=1;else{for(_--;e.charAt(_)===Nu;)_--;for(o-=l,i=[],h=0;l<=_;l++,h++)i[h]=Number(e.charAt(l))}return o>Uw&&(i=i.splice(0,Uw-1),t=o-1,o=1),{digits:i,exponent:t,integerLen:o}}(n);h&&(k=function J2(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(k));let B=e.minInt,H=e.minFrac,J=e.maxFrac;if(l){const Be=l.match(W2);if(null===Be)throw new Error(`${l} is not a valid digit info`);const Se=Be[1],Je=Be[3],en=Be[5];null!=Se&&(B=xp(Se)),null!=Je&&(H=xp(Je)),null!=en?J=xp(en):null!=Je&&H>J&&(J=H)}!function tP(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,o=i.length-n.integerLen;const l=Math.min(Math.max(e,o),t);let h=l+n.integerLen,_=i[h];if(h>0){i.splice(Math.max(n.integerLen,h));for(let H=h;H<i.length;H++)i[H]=0}else{o=Math.max(0,o),n.integerLen=1,i.length=Math.max(1,h=l+1),i[0]=0;for(let H=1;H<h;H++)i[H]=0}if(_>=5)if(h-1<0){for(let H=0;H>h;H--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[h-1]++;for(;o<Math.max(0,l);o++)i.push(0);let w=0!==l;const k=e+n.integerLen,B=i.reduceRight(function(H,J,te,oe){return oe[te]=(J+=H)<10?J:J-10,w&&(0===oe[te]&&te>=k?oe.pop():w=!1),J>=10?1:0},0);B&&(i.unshift(B),n.integerLen++)}(k,H,J);let te=k.digits,oe=k.integerLen;const de=k.exponent;let ve=[];for(w=te.every(Be=>!Be);oe<B;oe++)te.unshift(0);for(;oe<0;oe++)te.unshift(0);oe>0?ve=te.splice(oe,te.length):(ve=te,te=[0]);const Ee=[];for(te.length>=e.lgSize&&Ee.unshift(te.splice(-e.lgSize,te.length).join(""));te.length>e.gSize;)Ee.unshift(te.splice(-e.gSize,te.length).join(""));te.length&&Ee.unshift(te.join("")),_=Ee.join(gr(t,i)),ve.length&&(_+=gr(t,o)+ve.join("")),de&&(_+=gr(t,wt.Exponential)+"+"+de)}else _=gr(t,wt.Infinity);return _=n<0&&!w?e.negPre+_+e.negSuf:e.posPre+_+e.posSuf,_}(n,function Ep(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(G2),o=i[0],l=i[1],h=-1!==o.indexOf(Mc)?o.split(Mc):[o.substring(0,o.lastIndexOf(Nu)+1),o.substring(o.lastIndexOf(Nu)+1)],_=h[0],w=h[1]||"";t.posPre=_.substring(0,_.indexOf(Cp));for(let B=0;B<w.length;B++){const H=w.charAt(B);H===Nu?t.minFrac=t.maxFrac=B+1:H===Cp?t.maxFrac=B+1:t.posSuf+=H}const k=_.split(K2);if(t.gSize=k[1]?k[1].length:0,t.lgSize=k[2]||k[1]?(k[2]||k[1]).length:0,l){const B=o.length-t.posPre.length-t.posSuf.length,H=l.indexOf(Cp);t.negPre=l.substring(0,H).replace(/'/g,""),t.negSuf=l.slice(H+B).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function vp(n,e){return Pi(n)[Ke.NumberFormats][e]}(e,Hi.Decimal),gr(e,wt.MinusSign)),e,wt.Group,wt.Decimal,t)}(function kp(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,i)}catch(l){throw function Rr(n,e){return new T(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(at(es,16))},n.\u0275pipe=Pn({name:"number",type:n,pure:!0,standalone:!0}),n})();let kP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({}),n})();const Xw="browser";let LP=(()=>{class n{}return n.\u0275prov=it({token:n,providedIn:"root",factory:()=>new BP($e(On),window)}),n})();class BP{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function VP(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Jw(this.window.history)||Jw(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Jw(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class dk extends d2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rp extends dk{static makeCurrent(){!function f2(n){pp||(pp=n)}(new Rp)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pk(){return Fu=Fu||document.querySelector("base"),Fu?Fu.getAttribute("href"):null}();return null==t?null:function gk(n){Oc=Oc||document.createElement("a"),Oc.setAttribute("href",n);const e=Oc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function iP(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[o,l]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Oc,Fu=null;const rb=new Ye("TRANSITION_ID"),_k=[{provide:dc,useFactory:function mk(n,e,t){return()=>{t.get(pc).donePromise.then(()=>{const i=Do(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[rb,On,Zr],multi:!0}];let yk=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();const Nc=new Ye("EventManagerPlugins");let Rc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,o){return this._findPluginFor(i).addEventListener(t,i,o)}addGlobalEventListener(t,i,o){return this._findPluginFor(i).addGlobalEventListener(t,i,o)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)($e(Nc),$e(kn))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();class sb{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const o=Do().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,i)}}let ob=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const o=this.usageCount;let l=o.get(t)??0;return l+=i,l>0?o.set(t,l):o.delete(t),l}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})(),Lu=(()=>{class n extends ob{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(l=>l.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const o=this.doc.createElement("style");o.textContent=i,t.appendChild(o);const l=this.styleRef.get(i);l?l.push(o):this.styleRef.set(i,[o])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)($e(On))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();const Fp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lp=/%COMP%/g,lb=new Ye("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function cb(n,e){return e.flat(100).map(t=>t.replace(Lp,n))}function hb(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fc=(()=>{class n{constructor(t,i,o,l){this.eventManager=t,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestory=l,this.rendererByCompId=new Map,this.defaultRenderer=new Bp(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const o=this.getOrCreateRenderer(t,i);return o instanceof pb?o.applyToHost(t):o instanceof Vp&&o.applyStyles(),o}getOrCreateRenderer(t,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const h=this.eventManager,_=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(i.encapsulation){case Li.Emulated:l=new pb(h,_,i,this.appId,w);break;case Li.ShadowDom:return new Dk(h,_,t,i);default:l=new Vp(h,_,i,w)}l.onDestroy=()=>o.delete(i.id),o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)($e(Rc),$e(Lu),$e(Au),$e(lb))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();class Bp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Fp[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(db(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(db(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,o){if(o){t=o+":"+t;const l=Fp[o];l?e.setAttributeNS(l,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const o=Fp[i];o?e.removeAttributeNS(o,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,o){o&(Vi.DashCase|Vi.Important)?e.style.setProperty(t,i,o&Vi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Vi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hb(i)):this.eventManager.addEventListener(e,t,hb(i))}}function db(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Dk extends Bp{constructor(e,t,i,o){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=cb(o.id,o.styles);for(const h of l){const _=document.createElement("style");_.textContent=h,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vp extends Bp{constructor(e,t,i,o,l=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=cb(l,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pb extends Vp{constructor(e,t,i,o,l){const h=o+"-"+i.id;super(e,t,i,l,h),this.contentAttr=function Sk(n){return"_ngcontent-%COMP%".replace(Lp,n)}(h),this.hostAttr=function Ek(n){return"_nghost-%COMP%".replace(Lp,n)}(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Ik=(()=>{class n extends sb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,o){return t.addEventListener(i,o,!1),()=>this.removeEventListener(t,i,o)}removeEventListener(t,i,o){return t.removeEventListener(i,o)}}return n.\u0275fac=function(t){return new(t||n)($e(On))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();const gb=["alt","control","meta","shift"],Tk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ak=(()=>{class n extends sb{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,o){const l=n.parseEventName(i),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Do().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const i=t.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let h="",_=i.indexOf("code");if(_>-1&&(i.splice(_,1),h="code."),gb.forEach(k=>{const B=i.indexOf(k);B>-1&&(i.splice(B,1),h+=k+".")}),h+=l,0!=i.length||0===l.length)return null;const w={};return w.domEventName=o,w.fullKey=h,w}static matchEventFullKeyCode(t,i){let o=Tk[t.key]||t.key,l="";return i.indexOf("code.")>-1&&(o=t.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),gb.forEach(h=>{h!==o&&(0,Mk[h])(t)&&(l+=h+".")}),l+=o,l===i)}static eventCallback(t,i,o){return l=>{n.matchEventFullKeyCode(l,t)&&o.runGuarded(()=>i(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)($e(On))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();const Nk=dw(l2,"browser",[{provide:ep,useValue:Xw},{provide:tw,useValue:function Pk(){Rp.makeCurrent()},multi:!0},{provide:On,useFactory:function Ok(){return function ux(n){Nf=n}(document),document},deps:[]}]),vb=new Ye(""),yb=[{provide:gc,useClass:class vk{addToWindow(e){_n.getAngularTestability=(i,o=!0)=>{const l=e.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},_n.getAllAngularTestabilities=()=>e.getAllTestabilities(),_n.getAllAngularRootElements=()=>e.getAllRootElements(),_n.frameworkStabilizers||(_n.frameworkStabilizers=[]),_n.frameworkStabilizers.push(i=>{const o=_n.getAllAngularTestabilities();let l=o.length,h=!1;const _=function(w){h=h||w,l--,0==l&&i(h)};o.forEach(function(w){w.whenStable(_)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Do().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:uw,useClass:rp,deps:[kn,sp,gc]},{provide:rp,useClass:rp,deps:[kn,sp,gc]}],wb=[{provide:Hf,useValue:"root"},{provide:vs,useFactory:function kk(){return new vs},deps:[]},{provide:Nc,useClass:Ik,multi:!0,deps:[On,kn,ep]},{provide:Nc,useClass:Ak,multi:!0,deps:[On]},{provide:Fc,useClass:Fc,deps:[Rc,Lu,Au,lb]},{provide:gu,useExisting:Fc},{provide:ob,useExisting:Lu},{provide:Lu,useClass:Lu,deps:[On]},{provide:Rc,useClass:Rc,deps:[Nc,kn]},{provide:class zP{},useClass:yk,deps:[]},[]];let bb=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Au,useValue:t.appId},{provide:rb,useExisting:Au},_k]}}}return n.\u0275fac=function(t){return new(t||n)($e(vb,12))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({providers:[...wb,...yb],imports:[kP,c2]}),n})(),Cb=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)($e(On))},n.\u0275prov=it({token:n,factory:function(t){let i=null;return i=t?new t:function Fk(){return new Cb($e(On))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let jp,Hp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(t){let i=null;return i=t?new(t||n):$e(xb),i},providedIn:"root"}),n})(),xb=(()=>{class n extends Hp{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case an.NONE:return i;case an.HTML:return Gr(i,"HTML")?Qi(i):O_(this._doc,String(i)).toString();case an.STYLE:return Gr(i,"Style")?Qi(i):i;case an.SCRIPT:if(Gr(i,"Script"))return Qi(i);throw new Error("unsafe value used in a script context");case an.URL:return Gr(i,"URL")?Qi(i):zl(String(i));case an.RESOURCE_URL:if(Gr(i,"ResourceURL"))return Qi(i);throw new Error(`unsafe value used in a resource URL context (see ${m})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${m})`)}}bypassSecurityTrustHtml(t){return function gx(n){return new lx(n)}(t)}bypassSecurityTrustStyle(t){return function mx(n){return new cx(n)}(t)}bypassSecurityTrustScript(t){return function _x(n){return new hx(n)}(t)}bypassSecurityTrustUrl(t){return function vx(n){return new fx(n)}(t)}bypassSecurityTrustResourceUrl(t){return function yx(n){return new dx(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)($e(On))},n.\u0275prov=it({token:n,factory:function(t){let i=null;return i=t?new t:function Uk(n){return new xb(n.get(On))}($e(Zr)),i},providedIn:"root"}),n})();try{jp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jp=!1}let Bu,Db=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function FP(n){return n===Xw}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)($e(ep))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lc(n){return function Hk(){if(null==Bu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bu=!0}))}finally{Bu=Bu||!1}return Bu}()?n:!!n.capture}function Tb(n){return Array.isArray(n)?n:[n]}function Mb(n){return n instanceof Kr?n.nativeElement:n}const{isArray:Jk}=Array,{getPrototypeOf:eO,prototype:tO,keys:nO}=Object;function Ab(n){if(1===n.length){const e=n[0];if(Jk(e))return{args:e,keys:null};if(function iO(n){return n&&"object"==typeof n&&eO(n)===tO}(e)){const t=nO(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:rO}=Array;function Pb(n){return Ze(e=>function sO(n,e){return rO(e)?n(...e):n(e)}(n,e))}function kb(n,e){return n.reduce((t,i,o)=>(t[i]=e[o],t),{})}function qp(...n){const e=fe(n),t=ye(n),{args:i,keys:o}=Ab(n);if(0===i.length)return ft([],e);const l=new Fe(function oO(n,e,t=Rn){return i=>{Ob(e,()=>{const{length:o}=n,l=new Array(o);let h=o,_=o;for(let w=0;w<o;w++)Ob(e,()=>{const k=ft(n[w],e);let B=!1;k.subscribe(Xt(i,H=>{l[w]=H,B||(B=!0,_--),_||i.next(t(l.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,e,o?h=>kb(o,h):Rn));return t?l.pipe(Pb(t)):l}function Ob(n,e,t){n?$(t,n,e):e()}function Vc(...n){return function aO(){return Y(1)}()(ft(n,fe(n)))}function Mo(n){return n<=0?()=>X:gn((e,t)=>{let i=0;e.subscribe(Xt(t,o=>{++i<=n&&(t.next(o),n<=i&&t.complete())}))})}function ts(n,e){return gn((t,i)=>{let o=0;t.subscribe(Xt(i,l=>n.call(e,l,o++)&&i.next(l)))})}class lO extends Ie{constructor(e,t){super()}schedule(e,t=0){return this}}const zc={setInterval(n,e,...t){const{delegate:i}=zc;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=zc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},Nb={now:()=>(Nb.delegate||Date).now(),delegate:void 0};class Vu{constructor(e,t=Vu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Vu.now=Nb.now;const fO=new class hO extends Vu{constructor(e,t=Vu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class cO extends lO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const o=this.id,l=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(l,o,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(l,this.id,t),this}requestAsyncId(e,t,i=0){return zc.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&zc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,i=!1;try{this.work(e)}catch(l){i=!0,o=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oi(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}});function Rb(...n){const e=fe(n);return gn((t,i)=>{(e?Vc(n,t,e):Vc(n,t)).subscribe(i)})}function pO(n){return gn((e,t)=>{M(n).subscribe(Xt(t,()=>t.complete(),Tn)),!t.closed&&e.subscribe(t)})}const Fb=new Set;let Ia,gO=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_O}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mO(n){if(!Fb.has(n))try{Ia||(Ia=document.createElement("style"),Ia.setAttribute("type","text/css"),document.head.appendChild(Ia)),Ia.sheet&&(Ia.sheet.insertRule(`@media ${n} {body{ }}`,0),Fb.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)($e(Db))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _O(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let vO=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ht}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Lb(Tb(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let l=qp(Lb(Tb(t)).map(h=>this._registerQuery(h).observable));return l=Vc(l.pipe(Mo(1)),l.pipe(function uO(n){return ts((e,t)=>n<=t)}(1),function dO(n,e=fO){return gn((t,i)=>{let o=null,l=null,h=null;const _=()=>{if(o){o.unsubscribe(),o=null;const k=l;l=null,i.next(k)}};function w(){const k=h+n,B=e.now();if(B<k)return o=this.schedule(void 0,k-B),void i.add(o);_()}t.subscribe(Xt(i,k=>{l=k,h=e.now(),o||(o=e.schedule(w,n),i.add(o))},()=>{_(),i.complete()},void 0,()=>{l=o=null}))})}(0))),l.pipe(Ze(h=>{const _={matches:!1,breakpoints:{}};return h.forEach(({matches:w,query:k})=>{_.matches=_.matches||w,_.breakpoints[k]=w}),_}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),l={observable:new Fe(h=>{const _=w=>this._zone.run(()=>h.next(w));return i.addListener(_),()=>{i.removeListener(_)}}).pipe(Rb(i),Ze(({matches:h})=>({query:t,matches:h})),pO(this._destroySubject)),mql:i};return this._queries.set(t,l),l}}return n.\u0275fac=function(t){return new(t||n)($e(gO),$e(kn))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lb(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Ub="cdk-high-contrast-black-on-white",Hb="cdk-high-contrast-white-on-black",Wp="cdk-high-contrast-active";let MO=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Lt(vO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(t):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Wp,Ub,Hb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Wp,Ub):2===i&&t.add(Wp,Hb)}}}return n.\u0275fac=function(t){return new(t||n)($e(Db),$e(On))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({}),n})();const OO=new Ye("mat-sanity-checks",{providedIn:"root",factory:function kO(){return!0}});let Wb=(()=>{class n{constructor(t,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function qk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)($e(MO),$e(OO,8),$e(On))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({imports:[jb,jb]}),n})();function NO(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}class FO{constructor(e,t,i,o=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Gb=Lc({passive:!0,capture:!0});class LO{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function $k(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((i,o)=>{(o===t||o.contains(t))&&i.forEach(l=>l.handleEvent(e))})}}addHandler(e,t,i,o){const l=this._events.get(t);if(l){const h=l.get(i);h?h.add(o):l.set(i,new Set([o]))}else this._events.set(t,new Map([[i,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Gb)})}removeHandler(e,t,i){const o=this._events.get(e);if(!o)return;const l=o.get(t);l&&(l.delete(i),0===l.size&&o.delete(t),0===o.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Gb)))}}const Kb={enterDuration:225,exitDuration:150},Zb=Lc({passive:!0,capture:!0}),Qb=["mousedown","touchstart"],Yb=["mouseup","mouseleave","touchend","touchcancel"];class Uc{constructor(e,t,i,o){this._target=e,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Mb(i))}fadeInRipple(e,t,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...Kb,...i.animation};i.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const h=i.radius||function VO(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+o*o)}(e,t,o),_=e-o.left,w=t-o.top,k=l.enterDuration,B=document.createElement("div");B.classList.add("mat-ripple-element"),B.style.left=_-h+"px",B.style.top=w-h+"px",B.style.height=2*h+"px",B.style.width=2*h+"px",null!=i.color&&(B.style.backgroundColor=i.color),B.style.transitionDuration=`${k}ms`,this._containerElement.appendChild(B);const H=window.getComputedStyle(B),te=H.transitionDuration,oe="none"===H.transitionProperty||"0s"===te||"0s, 0s"===te||0===o.width&&0===o.height,de=new FO(this,B,i,oe);B.style.transform="scale3d(1, 1, 1)",de.state=0,i.persistent||(this._mostRecentTransientRipple=de);let ve=null;return!oe&&(k||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ee=()=>this._finishRippleTransition(de),Be=()=>this._destroyRipple(de);B.addEventListener("transitionend",Ee),B.addEventListener("transitioncancel",Be),ve={onTransitionEnd:Ee,onTransitionCancel:Be}}),this._activeRipples.set(de,ve),(oe||!k)&&this._finishRippleTransition(de),de}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Kb,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Mb(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Qb.forEach(i=>{Uc._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Yb.forEach(t=>{this._triggerElement.addEventListener(t,this,Zb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function DO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function IO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Qb.forEach(t=>Uc._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Yb.forEach(t=>e.removeEventListener(t,this,Zb)))}}function lt(...n){return ft(n,fe(n))}function Ta(n,e){const t=Ut(n)?n:()=>n,i=o=>o.error(t());return new Fe(e?o=>e.schedule(i,0,o):i)}function si(n,e,t){const i=Ut(n)||e||t?{next:n,error:e,complete:t}:n;return i?gn((o,l)=>{var h;null===(h=i.subscribe)||void 0===h||h.call(i);let _=!0;o.subscribe(Xt(l,w=>{var k;null===(k=i.next)||void 0===k||k.call(i,w),l.next(w)},()=>{var w;_=!1,null===(w=i.complete)||void 0===w||w.call(i),l.complete()},w=>{var k;_=!1,null===(k=i.error)||void 0===k||k.call(i,w),l.error(w)},()=>{var w,k;_&&(null===(w=i.unsubscribe)||void 0===w||w.call(i)),null===(k=i.finalize)||void 0===k||k.call(i)}))}):Rn}function xs(n){return gn((e,t)=>{let l,i=null,o=!1;i=e.subscribe(Xt(t,void 0,void 0,h=>{l=M(n(h,xs(n)(e))),i?(i.unsubscribe(),i=null,l.subscribe(t)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(t))})}function Hc(n){return gn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ys(n,e){return Ut(e)?W(n,e,1):W(n,1)}Uc._eventManager=new LO;class Gp{}class Xs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),l=o.toLowerCase(),h=t.slice(i+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const o=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(_=>-1===l.indexOf(_)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class UO{encodeKey(e){return Jb(e)}encodeValue(e){return Jb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const jO=/%(\d[a-f0-9])/gi,$O={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jb(n){return encodeURIComponent(n).replace(jO,(e,t)=>$O[t]??e)}function jc(n){return`${n}`}class Js{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new UO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HO(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,_]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],w=t.get(h)||[];w.push(_),t.set(h,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],o=Array.isArray(i)?i.map(jc):[jc(i)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)?o.forEach(l=>{t.push({param:i,value:l,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Js({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(jc(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const o=i.indexOf(jc(e.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qO{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function e1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function t1(n){return typeof Blob<"u"&&n instanceof Blob}function n1(n){return typeof FormData<"u"&&n instanceof FormData}class Uu{constructor(e,t,i,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function WO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,l=o):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Xs),this.context||(this.context=new qO),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const _=t.indexOf("?");this.urlWithParams=t+(-1===_?"?":_<t.length-1?"&":"")+h}}else this.params=new Js,this.urlWithParams=t}serializeBody(){return null===this.body?null:e1(this.body)||t1(this.body)||n1(this.body)||function GO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Js?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||n1(this.body)?null:t1(this.body)?this.body.type||null:e1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Js?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,k=e.params||this.params;const B=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((H,J)=>H.set(J,e.setHeaders[J]),w)),e.setParams&&(k=Object.keys(e.setParams).reduce((H,J)=>H.set(J,e.setParams[J]),k)),new Uu(t,i,l,{params:k,headers:w,context:B,reportProgress:_,responseType:o,withCredentials:h})}}var mi=(()=>((mi=mi||{})[mi.Sent=0]="Sent",mi[mi.UploadProgress=1]="UploadProgress",mi[mi.ResponseHeader=2]="ResponseHeader",mi[mi.DownloadProgress=3]="DownloadProgress",mi[mi.Response=4]="Response",mi[mi.User=5]="User",mi))();class KO{constructor(e,t=200,i="OK"){this.headers=e.headers||new Xs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Kp extends KO{constructor(e={}){super(e),this.type=mi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Kp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Zp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qp=(()=>{class n{constructor(t){this.handler=t}request(t,i,o={}){let l;if(t instanceof Uu)l=t;else{let w,k;w=o.headers instanceof Xs?o.headers:new Xs(o.headers),o.params&&(k=o.params instanceof Js?o.params:new Js({fromObject:o.params})),l=new Uu(t,i,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:k,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=lt(l).pipe(Ys(w=>this.handler.handle(w)));if(t instanceof Uu||"events"===o.observe)return h;const _=h.pipe(ts(w=>w instanceof Kp));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return _.pipe(Ze(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return _.pipe(Ze(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return _.pipe(Ze(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return _.pipe(Ze(w=>w.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Js).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,Zp(o,i))}post(t,i,o={}){return this.request("POST",t,Zp(o,i))}put(t,i,o={}){return this.request("PUT",t,Zp(o,i))}}return n.\u0275fac=function(t){return new(t||n)($e(Gp))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();const aN=["*"];let qc;function Hu(n){return function uN(){if(void 0===qc&&(qc=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(qc=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return qc}()?.createHTML(n)||n}function h1(n){return Error(`Unable to find icon with the name "${n}"`)}function f1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function d1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ao{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Wc=(()=>{class n{constructor(t,i,o,l){this._httpClient=t,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(t,i,o){return this.addSvgIconInNamespace("",t,i,o)}addSvgIconLiteral(t,i,o){return this.addSvgIconLiteralInNamespace("",t,i,o)}addSvgIconInNamespace(t,i,o,l){return this._addSvgIconConfig(t,i,new Ao(o,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,o,l){const h=this._sanitizer.sanitize(an.HTML,o);if(!h)throw d1(o);const _=Hu(h);return this._addSvgIconConfig(t,i,new Ao("",_,l))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,o){return this._addSvgIconSetConfig(t,new Ao(i,null,o))}addSvgIconSetLiteralInNamespace(t,i,o){const l=this._sanitizer.sanitize(an.HTML,i);if(!l)throw d1(i);const h=Hu(l);return this._addSvgIconSetConfig(t,new Ao("",h,o))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(an.RESOURCE_URL,t);if(!i)throw f1(t);const o=this._cachedIconsByUrl.get(i);return o?lt(Gc(o)):this._loadSvgIconFromConfig(new Ao(t,null)).pipe(si(l=>this._cachedIconsByUrl.set(i,l)),Ze(l=>Gc(l)))}getNamedSvgIcon(t,i=""){const o=p1(i,t);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,t),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(i);return h?this._getSvgFromIconSetConfigs(t,h):Ta(h1(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?lt(Gc(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Ze(i=>Gc(i)))}_getSvgFromIconSetConfigs(t,i){const o=this._extractIconWithNameFromAnySet(t,i);return o?lt(o):function zO(...n){const e=ye(n),{args:t,keys:i}=Ab(n),o=new Fe(l=>{const{length:h}=t;if(!h)return void l.complete();const _=new Array(h);let w=h,k=h;for(let B=0;B<h;B++){let H=!1;M(t[B]).subscribe(Xt(l,J=>{H||(H=!0,k--),_[B]=J},()=>w--,void 0,()=>{(!w||!H)&&(k||l.next(i?kb(i,_):_),l.complete())}))}});return e?o.pipe(Pb(e)):o}(i.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(xs(_=>{const k=`Loading icon set URL: ${this._sanitizer.sanitize(an.RESOURCE_URL,h.url)} failed: ${_.message}`;return this._errorHandler.handleError(new Error(k)),lt(null)})))).pipe(Ze(()=>{const h=this._extractIconWithNameFromAnySet(t,i);if(!h)throw h1(t);return h}))}_extractIconWithNameFromAnySet(t,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const h=this._svgElementFromConfig(l),_=this._extractSvgIconFromSet(h,t,l.options);if(_)return _}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(si(i=>t.svgText=i),Ze(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?lt(null):this._fetchIcon(t).pipe(si(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,o){const l=t.querySelector(`[id="${i}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const _=this._svgElementFromString(Hu("<svg></svg>"));return _.appendChild(h),this._setSvgAttributes(_,o)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const i=this._svgElementFromString(Hu("<svg></svg>")),o=t.attributes;for(let l=0;l<o.length;l++){const{name:h,value:_}=o[l];"id"!==h&&i.setAttribute(h,_)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:o}=t,l=o?.withCredentials??!1;if(!this._httpClient)throw function lN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(an.RESOURCE_URL,i);if(!h)throw f1(i);const _=this._inProgressUrlFetches.get(h);if(_)return _;const w=this._httpClient.get(h,{responseType:"text",withCredentials:l}).pipe(Ze(k=>Hu(k)),Hc(()=>this._inProgressUrlFetches.delete(h)),mt());return this._inProgressUrlFetches.set(h,w),w}_addSvgIconConfig(t,i,o){return this._svgIconConfigs.set(p1(t,i),o),this}_addSvgIconSetConfig(t,i){const o=this._iconSetConfigs.get(t);return o?o.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,t);if(l)return hN(l)?new Ao(l.url,null,l.options):new Ao(l,null)}}}return n.\u0275fac=function(t){return new(t||n)($e(Qp,8),$e(Hp),$e(On,8),$e(vs))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gc(n){return n.cloneNode(!0)}function p1(n,e){return n+":"+e}function hN(n){return!(!n.url||!n.options)}const fN=NO(class{constructor(n){this._elementRef=n}}),dN=new Ye("MAT_ICON_DEFAULT_OPTIONS"),pN=new Ye("mat-icon-location",{providedIn:"root",factory:function gN(){const n=Lt(On),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),g1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],mN=g1.map(n=>`[${n}]`).join(", "),_N=/^url\(['"]?#(.*?)['"]?\)$/;let vN=(()=>{class n extends fN{get inline(){return this._inline}set inline(t){this._inline=function Yk(n){return null!=n&&"false"!=`${n}`}(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,o,l,h,_){super(t),this._iconRegistry=i,this._location=l,this._errorHandler=h,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ie.EMPTY,_&&(_.color&&(this.color=this.defaultColor=_.color),_.fontSet&&(this.fontSet=_.fontSet)),o||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=t.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>t.classList.remove(o)),i.forEach(o=>t.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(mN),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)g1.forEach(h=>{const _=i[l],w=_.getAttribute(h),k=w?w.match(_N):null;if(k){let B=o.get(_);B||(B=[],o.set(_,B)),B.push({name:h,value:k[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,o]=this._splitIconName(t);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(Mo(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(at(Kr),at(Wc),function iu(n){return function tE(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let o=0;for(;o<i;){const l=t[o];if(Em(l))break;if(0===l)o+=2;else if("number"==typeof l)for(o++;o<i&&"string"==typeof t[o];)o++;else{if(l===e)return t[o+1];o+=2}}}return null}(gi(),n)}("aria-hidden"),at(pN),at(vs),at(dN,8))},n.\u0275cmp=yn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(Ws("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ed("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[fd],ngContentSelectors:aN,decls:1,vars:0,template:function(t,i){1&t&&(function Kv(n){const e=Me()[Dn][Qn];if(!e.projection){const i=e.projection=ou(n?n.length:1,null),o=i.slice();let l=e.child;for(;null!==l;){const h=n?BI(l,n):0;null!==h&&(o[h]?o[h].projectionNext=l:i[h]=l,o[h]=l),l=l.next}}}(),function Zv(n,e=0,t){const i=Me(),o=Jt(),l=ca(o,Ge+n,16,null,t||null);null===l.projection&&(l.projection=e),Gh(),32!=(32&l.flags)&&function tx(n,e,t){w_(e[Nt],0,e,t,h_(n,t,e),g_(t.parent||e[Qn],t,e))}(o,i,l)}(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),yN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({imports:[Wb,Wb]}),n})();class Fr extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Kc=Wn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function m1(n){return new Fe(e=>{M(n()).subscribe(e)})}function Xp(){return gn((n,e)=>{let t=null;n._refCount++;const i=Xt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class _1 extends Fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ai(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ie;const t=this.getSubject();e.add(this.source.subscribe(Xt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ie.EMPTY)}return e}refCount(){return Xp()(this)}}function ns(n,e){return gn((t,i)=>{let o=null,l=0,h=!1;const _=()=>h&&!o&&i.complete();t.subscribe(Xt(i,w=>{o?.unsubscribe();let k=0;const B=l++;M(n(w,B)).subscribe(o=Xt(i,H=>i.next(e?e(w,H,B,k++):H),()=>{o=null,_()}))},()=>{h=!0,_()}))})}function Zc(n){return gn((e,t)=>{let i=!1;e.subscribe(Xt(t,o=>{i=!0,t.next(o)},()=>{i||t.next(n),t.complete()}))})}function v1(n=wN){return gn((e,t)=>{let i=!1;e.subscribe(Xt(t,o=>{i=!0,t.next(o)},()=>i?t.complete():t.error(n())))})}function wN(){return new Kc}function eo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ts((o,l)=>n(o,l,i)):Rn,Mo(1),t?Zc(e):v1(()=>new Kc))}function y1(n,e){return gn(function bN(n,e,t,i,o){return(l,h)=>{let _=t,w=e,k=0;l.subscribe(Xt(h,B=>{const H=k++;w=_?n(w,B,H):(_=!0,B),i&&h.next(w)},o&&(()=>{_&&h.next(w),h.complete()})))}}(n,e,arguments.length>=2,!0))}function Jp(n){return n<=0?()=>X:gn((e,t)=>{let i=[];e.subscribe(Xt(t,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)t.next(o);t.complete()},void 0,()=>{i=null}))})}function w1(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ts((o,l)=>n(o,l,i)):Rn,Jp(1),t?Zc(e):v1(()=>new Kc))}const kt="primary",ju=Symbol("RouteTitle");class EN{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pa(n){return new EN(n)}function xN(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const h=i[l],_=n[l];if(h.startsWith(":"))o[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function is(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!b1(n[o],e[o]))return!1;return!0}function b1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((o,l)=>i[l]===o)}return n===e}function C1(n){return Array.prototype.concat.apply([],n)}function S1(n){return n.length>0?n[n.length-1]:null}function _i(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function to(n){return jv(n)?n:tc(n)?ft(Promise.resolve(n)):lt(n)}const Qc=!1,IN={exact:function D1(n,e,t){if(!Po(n.segments,e.segments)||!Yc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!D1(n.children[i],e.children[i],t))return!1;return!0},subset:I1},E1={exact:function TN(n,e){return is(n,e)},subset:function MN(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>b1(n[t],e[t]))},ignored:()=>!0};function x1(n,e,t){return IN[t.paths](n.root,e.root,t.matrixParams)&&E1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function I1(n,e,t){return T1(n,e,e.segments,t)}function T1(n,e,t,i){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Po(o,t)||e.hasChildren()||!Yc(o,t,i))}if(n.segments.length===t.length){if(!Po(n.segments,t)||!Yc(n.segments,t,i))return!1;for(const o in e.children)if(!n.children[o]||!I1(n.children[o],e.children[o],i))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Po(n.segments,o)&&Yc(n.segments,o,i)&&n.children[kt])&&T1(n.children[kt],e,l,i)}}function Yc(n,e,t){return e.every((i,o)=>E1[t](n[o].parameters,i.parameters))}class no{constructor(e=new zt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pa(this.queryParams)),this._queryParamMap}toString(){return kN.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_i(t,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xc(this)}}class $u{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pa(this.parameters)),this._parameterMap}toString(){return P1(this)}}function Po(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(){return new eg},providedIn:"root"}),n})();class eg{parse(e){const t=new UN(e);return new no(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wu(e.root,!0)}`,i=function RN(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(o=>`${Jc(t)}=${Jc(o)}`).join("&"):`${Jc(t)}=${Jc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function ON(n){return encodeURI(n)}(e.fragment)}`:""}`}}const kN=new eg;function Xc(n){return n.segments.map(e=>P1(e)).join("/")}function Wu(n,e){if(!n.hasChildren())return Xc(n);if(e){const t=n.children[kt]?Wu(n.children[kt],!1):"",i=[];return _i(n.children,(o,l)=>{l!==kt&&i.push(`${l}:${Wu(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function PN(n,e){let t=[];return _i(n.children,(i,o)=>{o===kt&&(t=t.concat(e(i,o)))}),_i(n.children,(i,o)=>{o!==kt&&(t=t.concat(e(i,o)))}),t}(n,(i,o)=>o===kt?[Wu(n.children[kt],!1)]:[`${o}:${Wu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${Xc(n)}/${t[0]}`:`${Xc(n)}/(${t.join("//")})`}}function M1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(n){return M1(n).replace(/%3B/gi,";")}function tg(n){return M1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eh(n){return decodeURIComponent(n)}function A1(n){return eh(n.replace(/\+/g,"%20"))}function P1(n){return`${tg(n.path)}${function NN(n){return Object.keys(n).map(e=>`;${tg(e)}=${tg(n[e])}`).join("")}(n.parameters)}`}const FN=/^[^\/()?;=#]+/;function th(n){const e=n.match(FN);return e?e[0]:""}const LN=/^[^=?&#]+/,VN=/^[^&#]+/;class UN{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[kt]=new zt(e,t)),i}parseSegment(){const e=th(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,Qc);return this.capture(e),new $u(eh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=th(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=th(this.remaining);o&&(i=o,this.capture(i))}e[eh(t)]=eh(i)}parseQueryParam(e){const t=function BN(n){const e=n.match(LN);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const h=function zN(n){const e=n.match(VN);return e?e[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const o=A1(t),l=A1(i);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=th(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new T(4010,Qc);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=kt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[kt]:new zt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,Qc)}}function ng(n){return n.segments.length>0?new zt([],{[kt]:n}):n}function nh(n){const e={};for(const i of Object.keys(n.children)){const l=nh(n.children[i]);(l.segments.length>0||l.hasChildren())&&(e[i]=l)}return function HN(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}function ko(n){return n instanceof no}const ig=!1;function jN(n,e,t,i,o){if(0===t.length)return ka(e.root,e.root,e.root,i,o);const l=function F1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new R1(!0,0,n);let e=0,t=!1;const i=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const _={};return _i(l.outlets,(w,k)=>{_[k]="string"==typeof w?w.split("/"):w}),[...o,{outlets:_}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((_,w)=>{0==w&&"."===_||(0==w&&""===_?t=!0:".."===_?e++:""!=_&&o.push(_))}),o):[...o,l]},[]);return new R1(t,e,i)}(t);return l.toRoot()?ka(e.root,e.root,new zt([],{}),i,o):function h(w){const k=function qN(n,e,t,i){if(n.isAbsolute)return new Oa(e.root,!0,0);if(-1===i)return new Oa(t,t===e.root,0);return function L1(n,e,t){let i=n,o=e,l=t;for(;l>o;){if(l-=o,i=i.parent,!i)throw new T(4005,ig&&"Invalid number of '../'");o=i.segments.length}return new Oa(i,!1,o-l)}(t,i+(Gu(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,w),B=k.processChildren?Na(k.segmentGroup,k.index,l.commands):rg(k.segmentGroup,k.index,l.commands);return ka(e.root,k.segmentGroup,B,i,o)}(n.snapshot?._lastPathIndex)}function Gu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ku(n){return"object"==typeof n&&null!=n&&n.outlets}function ka(n,e,t,i,o){let h,l={};i&&_i(i,(w,k)=>{l[k]=Array.isArray(w)?w.map(B=>`${B}`):`${w}`}),h=n===e?t:N1(n,e,t);const _=ng(nh(h));return new no(_,l,o)}function N1(n,e,t){const i={};return _i(n.children,(o,l)=>{i[l]=o===e?t:N1(o,e,t)}),new zt(n.segments,i)}class R1{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Gu(i[0]))throw new T(4003,ig&&"Root segment cannot have matrix parameters");const o=i.find(Ku);if(o&&o!==S1(i))throw new T(4004,ig&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oa{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function rg(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return Na(n,e,t);const i=function GN(n,e,t){let i=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=t.length)return l;const h=n.segments[o],_=t[i];if(Ku(_))break;const w=`${_}`,k=i<t.length-1?t[i+1]:null;if(o>0&&void 0===w)break;if(w&&k&&"object"==typeof k&&void 0===k.outlets){if(!V1(w,k,h))return l;i+=2}else{if(!V1(w,{},h))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,e,t),o=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new zt(n.segments.slice(0,i.pathIndex),{});return l.children[kt]=new zt(n.segments.slice(i.pathIndex),n.children),Na(l,0,o)}return i.match&&0===o.length?new zt(n.segments,{}):i.match&&!n.hasChildren()?sg(n,e,t):i.match?Na(n,0,o):sg(n,e,t)}function Na(n,e,t){if(0===t.length)return new zt(n.segments,{});{const i=function WN(n){return Ku(n[0])?n[0].outlets:{[kt]:n}}(t),o={};return!i[kt]&&n.children[kt]&&1===n.numberOfChildren&&0===n.children[kt].segments.length?Na(n.children[kt],e,t):(_i(i,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=rg(n.children[h],e,l))}),_i(n.children,(l,h)=>{void 0===i[h]&&(o[h]=l)}),new zt(n.segments,o))}}function sg(n,e,t){const i=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Ku(l)){const w=KN(l.outlets);return new zt(i,w)}if(0===o&&Gu(t[0])){i.push(new $u(n.segments[e].path,B1(t[0]))),o++;continue}const h=Ku(l)?l.outlets[kt]:`${l}`,_=o<t.length-1?t[o+1]:null;h&&_&&Gu(_)?(i.push(new $u(h,B1(_))),o+=2):(i.push(new $u(h,{})),o++)}return new zt(i,{})}function KN(n){const e={};return _i(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=sg(new zt([],{}),0,t))}),e}function B1(n){const e={};return _i(n,(t,i)=>e[i]=`${t}`),e}function V1(n,e,t){return n==t.path&&is(e,t.parameters)}const Zu="imperative";class rs{constructor(e,t){this.id=e,this.url=t}}class og extends rs{constructor(e,t,i="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oo extends rs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ih extends rs{constructor(e,t,i,o){super(e,t),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rh extends rs{constructor(e,t,i,o){super(e,t),this.reason=i,this.code=o,this.type=16}}class ag extends rs{constructor(e,t,i,o){super(e,t),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZN extends rs{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QN extends rs{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YN extends rs{constructor(e,t,i,o,l){super(e,t),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XN extends rs{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JN extends rs{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eR{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tR{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nR{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iR{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rR{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sR{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z1{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let uR=(()=>{class n{createUrlTree(t,i,o,l,h,_){return jN(t||i.root,o,l,h,_)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})(),cR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(e){return uR.\u0275fac(e)},providedIn:"root"}),n})();class U1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ug(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ug(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return lg(e,this._root).map(t=>t.value)}}function ug(n,e){if(n===e.value)return e;for(const t of e.children){const i=ug(n,t);if(i)return i}return null}function lg(n,e){if(n===e.value)return[e];for(const t of e.children){const i=lg(n,t);if(i.length)return i.unshift(e),i}return[]}class Ds{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ra(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class H1 extends U1{constructor(e,t){super(e),this.snapshot=t,cg(this,e)}toString(){return this.snapshot.toString()}}function j1(n,e){const t=function hR(n,e){const h=new sh([],{},{},"",{},kt,e,null,n.root,-1,{});return new q1("",new Ds(h,[]))}(n,e),i=new Fr([new $u("",{})]),o=new Fr({}),l=new Fr({}),h=new Fr({}),_=new Fr(""),w=new Fa(i,o,h,_,l,kt,e,t.root);return w.snapshot=t.root,new H1(new Ds(w,[]),t)}class Fa{constructor(e,t,i,o,l,h,_,w){this.url=e,this.params=t,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=h,this.component=_,this.title=this.data?.pipe(Ze(k=>k[ju]))??lt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ze(e=>Pa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ze(e=>Pa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $1(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const o=t[i],l=t[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function fR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class sh{get title(){return this.data?.[ju]}constructor(e,t,i,o,l,h,_,w,k,B,H){this.url=e,this.params=t,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=h,this.component=_,this.routeConfig=w,this._urlSegment=k,this._lastPathIndex=B,this._resolve=H}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class q1 extends U1{constructor(e,t){super(t),this.url=e,cg(this,t)}toString(){return W1(this._root)}}function cg(n,e){e.value._routerState=n,e.children.forEach(t=>cg(n,t))}function W1(n){const e=n.children.length>0?` { ${n.children.map(W1).join(", ")} } `:"";return`${n.value}${e}`}function hg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,is(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),is(e.params,t.params)||n.params.next(t.params),function DN(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!is(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),is(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fg(n,e){const t=is(n.params,e.params)&&function AN(n,e){return Po(n,e)&&n.every((t,i)=>is(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fg(n.parent,e.parent))}function Qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const o=function pR(n,e,t){return e.children.map(i=>{for(const o of t.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return Qu(n,i,o);return Qu(n,i)})}(n,e,t);return new Ds(i,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(_=>Qu(n,_)),h}}const i=function gR(n){return new Fa(new Fr(n.url),new Fr(n.params),new Fr(n.queryParams),new Fr(n.fragment),new Fr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Qu(n,l));return new Ds(i,o)}}const dg="ngNavigationCancelingError";function G1(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=K1(!1,0,e);return o.url=t,o.navigationBehaviorOptions=i,o}function K1(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[dg]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Z1(n){return Q1(n)&&ko(n.url)}function Q1(n){return n&&n[dg]}class mR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yu,this.attachRef=null}}let Yu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const o=this.getOrCreateContext(t);o.outlet=i,this.contexts.set(t,o)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new mR,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oh=!1;let Y1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new ki,this.deactivateEvents=new ki,this.attachEvents=new ki,this.detachEvents=new ki,this.parentContexts=Lt(Yu),this.location=Lt(kr),this.changeDetector=Lt(_c),this.environmentInjector=Lt(_s)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:o}=t.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,oh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,oh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,oh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new T(4013,oh);this._activatedRoute=t;const o=this.location,h=t.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,w=new _R(t,_,o.injector);if(i&&function vR(n){return!!n.resolveComponentFactory}(i)){const k=i.resolveComponentFactory(h);this.activated=o.createComponent(k,o.length,w)}else this.activated=o.createComponent(h,{index:o.length,injector:w,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Kt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fo]}),n})();class _R{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Fa?this.route:e===Yu?this.childContexts:this.parent.get(e,t)}}let pg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["ng-component"]],standalone:!0,features:[gy],decls:1,vars:0,template:function(t,i){1&t&&bo(0,"router-outlet")},dependencies:[Y1],encapsulation:2}),n})();function X1(n,e){return n.providers&&!n._injector&&(n._injector=lc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mg(n){const e=n.children&&n.children.map(mg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=pg),t}function _r(n){return n.outlet||kt}function J1(n,e){const t=n.filter(i=>_r(i)===e);return t.push(...n.filter(i=>_r(i)!==e)),t}function Xu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class SR{constructor(e,t,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),hg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const o=Ra(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],i),delete o[h]}),_i(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(e,t,i){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=i.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,i);else l&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),o=i&&e.value.component?i.children:t,l=Ra(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(i&&i.outlet){const h=i.outlet.detach(),_=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),o=i&&e.value.component?i.children:t,l=Ra(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const o=Ra(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new sR(l.value.snapshot))}),e.children.length&&this.forwardEvent(new iR(e.value.snapshot))}activateRoutes(e,t,i){const o=e.value,l=t?t.value:null;if(hg(o),o===l)if(o.component){const h=i.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,i);else if(o.component){const h=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),hg(_.route.value),this.activateChildRoutes(e,null,h.children)}else{const _=Xu(o.snapshot),w=_?.get(pu)??null;h.attachRef=null,h.route=o,h.resolver=w,h.injector=_,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,i)}}class eC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ah{constructor(e,t){this.component=e,this.route=t}}function ER(n,e,t){const i=n._root;return Ju(i,e?e._root:null,t,[i.value])}function La(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Fh(n){return null!==zo(n)}(n)?e.get(n):n:i}function Ju(n,e,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ra(e);return n.children.forEach(h=>{(function DR(n,e,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const w=function IR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Po(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Po(n.url,e.url)||!is(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fg(n,e)||!is(n.queryParams,e.queryParams);default:return!fg(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new eC(i)):(l.data=h.data,l._resolvedData=h._resolvedData),Ju(n,e,l.component?_?_.children:null:t,i,o),w&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new ah(_.outlet.component,h))}else h&&el(e,_,o),o.canActivateChecks.push(new eC(i)),Ju(n,null,l.component?_?_.children:null:t,i,o)})(h,l[h.value.outlet],t,i.concat([h.value]),o),delete l[h.value.outlet]}),_i(l,(h,_)=>el(h,t.getContext(_),o)),o}function el(n,e,t){const i=Ra(n),o=n.value;_i(i,(l,h)=>{el(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new ah(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function tl(n){return"function"==typeof n}function _g(n){return n instanceof Kc||"EmptyError"===n?.name}const uh=Symbol("INITIAL_VALUE");function Ba(){return ns(n=>qp(n.map(e=>e.pipe(Mo(1),Rb(uh)))).pipe(Ze(e=>{for(const t of e)if(!0!==t){if(t===uh)return uh;if(!1===t||t instanceof no)return t}return!0}),ts(e=>e!==uh),Mo(1)))}function tC(n){return function fi(...n){return hn(n)}(si(e=>{if(ko(e))throw G1(0,e)}),Ze(e=>!0===e))}const vg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nC(n,e,t,i,o){const l=yg(n,e,t);return l.matched?function $R(n,e,t,i){const o=e.canMatch;return o&&0!==o.length?lt(o.map(h=>{const _=La(h,n);return to(function OR(n){return n&&tl(n.canMatch)}(_)?_.canMatch(e,t):n.runInContext(()=>_(e,t)))})).pipe(Ba(),tC()):lt(!0)}(i=X1(e,i),e,t).pipe(Ze(h=>!0===h?l:{...vg})):lt(l)}function yg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||xN)(t,n,e);if(!o)return{...vg};const l={};_i(o.posParams,(_,w)=>{l[w]=_.path});const h=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function lh(n,e,t,i){if(t.length>0&&function GR(n,e,t){return t.some(i=>ch(n,e,i)&&_r(i)!==kt)}(n,t,i)){const l=new zt(e,function WR(n,e,t,i){const o={};o[kt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&_r(l)!==kt){const h=new zt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[_r(l)]=h}return o}(n,e,i,new zt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function KR(n,e,t){return t.some(i=>ch(n,e,i))}(n,t,i)){const l=new zt(n.segments,function qR(n,e,t,i,o){const l={};for(const h of i)if(ch(n,t,h)&&!o[_r(h)]){const _=new zt([],{});_._sourceSegment=n,_._segmentIndexShift=e.length,l[_r(h)]=_}return{...o,...l}}(n,e,t,i,n.children));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const o=new zt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function ch(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function iC(n,e,t,i){return!!(_r(n)===i||i!==kt&&ch(e,t,n))&&("**"===n.path||yg(e,n,t).matched)}function rC(n,e,t){return 0===e.length&&!n.children[t]}const hh=!1;class fh{constructor(e){this.segmentGroup=e||null}}class sC{constructor(e){this.urlTree=e}}function nl(n){return Ta(new fh(n))}function oC(n){return Ta(new sC(n))}class XR{constructor(e,t,i,o,l){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=o,this.config=l,this.allowRedirects=!0}apply(){const e=lh(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,kt).pipe(Ze(l=>this.createUrlTree(nh(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xs(l=>{if(l instanceof sC)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof fh?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,kt).pipe(Ze(o=>this.createUrlTree(nh(o),e.queryParams,e.fragment))).pipe(xs(o=>{throw o instanceof fh?this.noMatchError(o):o}))}noMatchError(e){return new T(4002,hh)}createUrlTree(e,t,i){const o=ng(e);return new no(o,t,i)}expandSegmentGroup(e,t,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Ze(l=>new zt([],l))):this.expandSegment(e,i,t,i.segments,o,!0)}expandChildren(e,t,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return ft(o).pipe(Ys(l=>{const h=i.children[l],_=J1(t,l);return this.expandSegmentGroup(e,_,h,l).pipe(Ze(w=>({segment:w,outlet:l})))}),y1((l,h)=>(l[h.outlet]=h.segment,l),{}),w1())}expandSegment(e,t,i,o,l,h){return ft(i).pipe(Ys(_=>this.expandSegmentAgainstRoute(e,t,i,_,o,l,h).pipe(xs(k=>{if(k instanceof fh)return lt(null);throw k}))),eo(_=>!!_),xs((_,w)=>{if(_g(_))return rC(t,o,l)?lt(new zt([],{})):nl(t);throw _}))}expandSegmentAgainstRoute(e,t,i,o,l,h,_){return iC(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,o,l,h):nl(t):nl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,o){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oC(l):this.lineralizeSegments(i,l).pipe(W(h=>{const _=new zt(h,{});return this.expandSegment(e,_,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,o,l,h){const{matched:_,consumedSegments:w,remainingSegments:k,positionalParamSegments:B}=yg(t,o,l);if(!_)return nl(t);const H=this.applyRedirectCommands(w,o.redirectTo,B);return o.redirectTo.startsWith("/")?oC(H):this.lineralizeSegments(o,H).pipe(W(J=>this.expandSegment(e,t,i,J.concat(k),h,!1)))}matchSegmentAgainstRoute(e,t,i,o,l){return"**"===i.path?(e=X1(i,e),i.loadChildren?(i._loadedRoutes?lt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Ze(_=>(i._loadedRoutes=_.routes,i._loadedInjector=_.injector,new zt(o,{})))):lt(new zt(o,{}))):nC(t,i,o,e).pipe(ns(({matched:h,consumedSegments:_,remainingSegments:w})=>h?this.getChildConfig(e=i._injector??e,i,o).pipe(W(B=>{const H=B.injector??e,J=B.routes,{segmentGroup:te,slicedSegments:oe}=lh(t,_,w,J),de=new zt(te.segments,te.children);if(0===oe.length&&de.hasChildren())return this.expandChildren(H,J,de).pipe(Ze(Se=>new zt(_,Se)));if(0===J.length&&0===oe.length)return lt(new zt(_,{}));const ve=_r(i)===l;return this.expandSegment(H,de,J,oe,ve?kt:l,!0).pipe(Ze(Be=>new zt(_.concat(Be.segments),Be.children)))})):nl(t)))}getChildConfig(e,t,i){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function jR(n,e,t,i){const o=e.canLoad;return void 0===o||0===o.length?lt(!0):lt(o.map(h=>{const _=La(h,n);return to(function MR(n){return n&&tl(n.canLoad)}(_)?_.canLoad(e,t):n.runInContext(()=>_(e,t)))})).pipe(Ba(),tC())}(e,t,i).pipe(W(o=>o?this.configLoader.loadChildren(e,t).pipe(si(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function QR(n){return Ta(K1(hh,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],o=t.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return lt(i);if(o.numberOfChildren>1||!o.children[kt])return e.redirectTo,Ta(new T(4e3,hh));o=o.children[kt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,o){const l=this.createSegmentGroup(e,t.root,i,o);return new no(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return _i(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);i[l]=t[_]}else i[l]=o}),i}createSegmentGroup(e,t,i,o){const l=this.createSegments(e,t.segments,i,o);let h={};return _i(t.children,(_,w)=>{h[w]=this.createSegmentGroup(e,_,i,o)}),new zt(l,h)}createSegments(e,t,i,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,i))}findPosParam(e,t,i){const o=i[t.path.substring(1)];if(!o)throw new T(4001,hh);return o}findOrReturn(e,t){let i=0;for(const o of t){if(o.path===e.path)return t.splice(i),o;i++}return e}}class eF{}class iF{constructor(e,t,i,o,l,h,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=h,this.urlSerializer=_}recognize(){const e=lh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,kt).pipe(Ze(t=>{if(null===t)return null;const i=new sh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ds(i,t),l=new q1(this.url,o);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,i=$1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,o)}processChildren(e,t,i){return ft(Object.keys(i.children)).pipe(Ys(o=>{const l=i.children[o],h=J1(t,o);return this.processSegmentGroup(e,h,l,o)}),y1((o,l)=>o&&l?(o.push(...l),o):null),function CN(n,e=!1){return gn((t,i)=>{let o=0;t.subscribe(Xt(i,l=>{const h=n(l,o++);(h||e)&&i.next(l),!h&&i.complete()}))})}(o=>null!==o),Zc(null),w1(),Ze(o=>{if(null===o)return null;const l=uC(o);return function rF(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,i,o,l){return ft(t).pipe(Ys(h=>this.processSegmentAgainstRoute(h._injector??e,h,i,o,l)),eo(h=>!!h),xs(h=>{if(_g(h))return rC(i,o,l)?lt([]):lt(null);throw h}))}processSegmentAgainstRoute(e,t,i,o,l){if(t.redirectTo||!iC(t,i,o,l))return lt(null);let h;if("**"===t.path){const _=o.length>0?S1(o).parameters:{},w=cC(i)+o.length;h=lt({snapshot:new sh(o,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(t),_r(t),t.component??t._loadedComponent??null,t,lC(i),w,fC(t)),consumedSegments:[],remainingSegments:[]})}else h=nC(i,t,o,e).pipe(Ze(({matched:_,consumedSegments:w,remainingSegments:k,parameters:B})=>{if(!_)return null;const H=cC(i)+w.length;return{snapshot:new sh(w,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(t),_r(t),t.component??t._loadedComponent??null,t,lC(i),H,fC(t)),consumedSegments:w,remainingSegments:k}}));return h.pipe(ns(_=>{if(null===_)return lt(null);const{snapshot:w,consumedSegments:k,remainingSegments:B}=_;e=t._injector??e;const H=t._loadedInjector??e,J=function sF(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:te,slicedSegments:oe}=lh(i,k,B,J.filter(ve=>void 0===ve.redirectTo));if(0===oe.length&&te.hasChildren())return this.processChildren(H,J,te).pipe(Ze(ve=>null===ve?null:[new Ds(w,ve)]));if(0===J.length&&0===oe.length)return lt([new Ds(w,[])]);const de=_r(t)===l;return this.processSegment(H,J,te,oe,de?kt:l).pipe(Ze(ve=>null===ve?null:[new Ds(w,ve)]))}))}}function oF(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function uC(n){const e=[],t=new Set;for(const i of n){if(!oF(i)){e.push(i);continue}const o=e.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),t.add(o)):e.push(i)}for(const i of t){const o=uC(i.children);e.push(new Ds(i.value,o))}return e.filter(i=>!t.has(i))}function lC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function cC(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function hC(n){return n.data||{}}function fC(n){return n.resolve||{}}function dC(n){return"string"==typeof n.title||null===n.title}function wg(n){return ns(e=>{const t=n(e);return t?ft(t).pipe(Ze(()=>e)):lt(e)})}const Va=new Ye("ROUTES");let bg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Lt(iw)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=to(t.loadComponent()).pipe(Ze(gC),si(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Hc(()=>{this.componentLoaders.delete(t)})),o=new _1(i,()=>new ht).pipe(Xp());return this.componentLoaders.set(t,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return lt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ze(_=>{this.onLoadEndListener&&this.onLoadEndListener(i);let w,k,B=!1;Array.isArray(_)?k=_:(w=_.create(t).injector,k=C1(w.get(Va,[],pt.Self|pt.Optional)));return{routes:k.map(mg),injector:w}}),Hc(()=>{this.childrenLoaders.delete(i)})),h=new _1(l,()=>new ht).pipe(Xp());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(t){return to(t()).pipe(Ze(gC),W(i=>i instanceof dy||Array.isArray(i)?lt(i):ft(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gC(n){return function pF(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ph=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.configLoader=Lt(bg),this.environmentInjector=Lt(_s),this.urlSerializer=Lt(qu),this.rootContexts=Lt(Yu),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new tR(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new eR(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Fr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ts(i=>0!==i.id),Ze(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),ns(i=>{let o=!1,l=!1;return lt(i).pipe(si(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ns(h=>{const _=t.browserUrlTree.toString(),w=!t.navigated||h.extractedUrl.toString()!==_||_!==t.currentUrlTree.toString();if(!w&&"reload"!==(h.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const B="";return this.events.next(new rh(h.id,t.serializeUrl(i.rawUrl),B,0)),t.rawUrlTree=h.rawUrl,h.resolve(null),X}if(t.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return mC(h.source)&&(t.browserUrlTree=h.extractedUrl),lt(h).pipe(ns(B=>{const H=this.transitions?.getValue();return this.events.next(new og(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),H!==this.transitions?.getValue()?X:Promise.resolve(B)}),function JR(n,e,t,i){return ns(o=>function YR(n,e,t,i,o){return new XR(n,e,t,i,o).apply()}(n,e,t,o.extractedUrl,i).pipe(Ze(l=>({...o,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),si(B=>{this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects},i.urlAfterRedirects=B.urlAfterRedirects}),function uF(n,e,t,i,o){return W(l=>function nF(n,e,t,i,o,l,h="emptyOnly"){return new iF(n,e,t,i,o,h,l).recognize().pipe(ns(_=>null===_?function tF(n){return new Fe(e=>e.error(n))}(new eF):lt(_)))}(n,e,t,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,o).pipe(Ze(h=>({...l,targetSnapshot:h}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),si(B=>{if(i.targetSnapshot=B.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!B.extras.skipLocationChange){const J=t.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);t.setBrowserUrl(J,B)}t.browserUrlTree=B.urlAfterRedirects}const H=new ZN(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(H)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:B,extractedUrl:H,source:J,restoredState:te,extras:oe}=h,de=new og(B,this.urlSerializer.serialize(H),J,te);this.events.next(de);const ve=j1(H,this.rootComponentType).snapshot;return lt(i={...h,targetSnapshot:ve,urlAfterRedirects:H,extras:{...oe,skipLocationChange:!1,replaceUrl:!1}})}{const B="";return this.events.next(new rh(h.id,t.serializeUrl(i.extractedUrl),B,1)),t.rawUrlTree=h.rawUrl,h.resolve(null),X}}),si(h=>{const _=new QN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}),Ze(h=>i={...h,guards:ER(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function RR(n,e){return W(t=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?lt({...t,guardsResult:!0}):function FR(n,e,t,i){return ft(n).pipe(W(o=>function HR(n,e,t,i,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?lt(l.map(_=>{const w=Xu(e)??o,k=La(_,w);return to(function kR(n){return n&&tl(n.canDeactivate)}(k)?k.canDeactivate(n,e,t,i):w.runInContext(()=>k(n,e,t,i))).pipe(eo())})).pipe(Ba()):lt(!0)}(o.component,o.route,t,e,i)),eo(o=>!0!==o,!0))}(h,i,o,n).pipe(W(_=>_&&function TR(n){return"boolean"==typeof n}(_)?function LR(n,e,t,i){return ft(e).pipe(Ys(o=>Vc(function VR(n,e){return null!==n&&e&&e(new nR(n)),lt(!0)}(o.route.parent,i),function BR(n,e){return null!==n&&e&&e(new rR(n)),lt(!0)}(o.route,i),function UR(n,e,t){const i=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function xR(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>m1(()=>lt(h.guards.map(w=>{const k=Xu(h.node)??t,B=La(w,k);return to(function PR(n){return n&&tl(n.canActivateChild)}(B)?B.canActivateChild(i,n):k.runInContext(()=>B(i,n))).pipe(eo())})).pipe(Ba())));return lt(l).pipe(Ba())}(n,o.path,t),function zR(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const o=i.map(l=>m1(()=>{const h=Xu(e)??t,_=La(l,h);return to(function AR(n){return n&&tl(n.canActivate)}(_)?_.canActivate(e,n):h.runInContext(()=>_(e,n))).pipe(eo())}));return lt(o).pipe(Ba())}(n,o.route,t))),eo(o=>!0!==o,!0))}(i,l,n,e):lt(_)),Ze(_=>({...t,guardsResult:_})))})}(this.environmentInjector,h=>this.events.next(h)),si(h=>{if(i.guardsResult=h.guardsResult,ko(h.guardsResult))throw G1(0,h.guardsResult);const _=new YN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(_)}),ts(h=>!!h.guardsResult||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),wg(h=>{if(h.guards.canActivateChecks.length)return lt(h).pipe(si(_=>{const w=new XN(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}),ns(_=>{let w=!1;return lt(_).pipe(function lF(n,e){return W(t=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=t;if(!o.length)return lt(t);let l=0;return ft(o).pipe(Ys(h=>function cF(n,e,t,i){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!dC(o)&&(l[ju]=o.title),function hF(n,e,t,i){const o=function fF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return lt({});const l={};return ft(o).pipe(W(h=>function dF(n,e,t,i){const o=Xu(e)??i,l=La(n,o);return to(l.resolve?l.resolve(e,t):o.runInContext(()=>l(e,t)))}(n[h],e,t,i).pipe(eo(),si(_=>{l[h]=_}))),Jp(1),function SN(n){return Ze(()=>n)}(l),xs(h=>_g(h)?X:Ta(h)))}(l,n,e,i).pipe(Ze(h=>(n._resolvedData=h,n.data=$1(n,t).resolve,o&&dC(o)&&(n.data[ju]=o.title),null)))}(h.route,i,n,e)),si(()=>l++),Jp(1),W(h=>l===o.length?lt(t):X))})}(t.paramsInheritanceStrategy,this.environmentInjector),si({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),si(_=>{const w=new JN(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}))}),wg(h=>{const _=w=>{const k=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&k.push(this.configLoader.loadComponent(w.routeConfig).pipe(si(B=>{w.component=B}),Ze(()=>{})));for(const B of w.children)k.push(..._(B));return k};return qp(_(h.targetSnapshot.root)).pipe(Zc(),Mo(1))}),wg(()=>this.afterPreactivation()),Ze(h=>{const _=function dR(n,e,t){const i=Qu(n,e._root,t?t._root:void 0);return new H1(i,e)}(t.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:_}}),si(h=>{t.currentUrlTree=h.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),t.routerState=h.targetRouterState,"deferred"===t.urlUpdateStrategy&&(h.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,h),t.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>Ze(i=>(new SR(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,h=>this.events.next(h)),si({next:h=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Oo(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{o=!0}}),Hc(()=>{o||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xs(h=>{if(l=!0,Q1(h)){Z1(h)||(t.navigated=!0,t.restoreHistory(i,!0));const _=new ih(i.id,this.urlSerializer.serialize(i.extractedUrl),h.message,h.cancellationCode);if(this.events.next(_),Z1(h)){const w=t.urlHandlingStrategy.merge(h.url,t.rawUrlTree),k={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||mC(i.source)};t.scheduleNavigation(w,Zu,null,k,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const _=new ag(i.id,this.urlSerializer.serialize(i.extractedUrl),h,i.targetSnapshot??void 0);this.events.next(_);try{i.resolve(t.errorHandler(h))}catch(w){i.reject(w)}}return X}))}))}cancelNavigationTransition(t,i,o){const l=new ih(t.id,this.urlSerializer.serialize(t.extractedUrl),i,o);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mC(n){return n!==Zu}let _C=(()=>{class n{buildTitle(t){let i,o=t.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===kt);return i}getResolvedTitleForRoute(t){return t.data[ju]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(){return Lt(gF)},providedIn:"root"}),n})(),gF=(()=>{class n extends _C{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)($e(Cb))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(){return Lt(vF)},providedIn:"root"}),n})();class _F{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let vF=(()=>{class n extends _F{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=function Lm(n){return Ti(()=>{const e=n.prototype.constructor,t=e[$i]||lf(e),i=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==i;){const l=o[$i]||lf(o);if(l&&l!==t)return l;o=Object.getPrototypeOf(o)}return l=>new l})}(n)))(i||n)}}(),n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gh=new Ye("",{providedIn:"root",factory:()=>({})});let wF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:function(){return Lt(bF)},providedIn:"root"}),n})(),bF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CF(n){throw n}function SF(n,e,t){return e.parse("/")}const EF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Lt(AA),this.isNgZoneEnabled=!1,this.options=Lt(gh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||CF,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||SF,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Lt(wF),this.routeReuseStrategy=Lt(mF),this.urlCreationStrategy=Lt(cR),this.titleStrategy=Lt(_C),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=C1(Lt(Va,{optional:!0})??[]),this.navigationTransitions=Lt(ph),this.urlSerializer=Lt(qu),this.location=Lt(_p),this.isNgZoneEnabled=Lt(kn)instanceof kn&&kn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new no,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=j1(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,o){const l={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(l.state=w)}const _=this.parseUrl(t);this.scheduleNavigation(_,i,h,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(mg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:_,preserveFragment:w}=i,k=w?this.currentUrlTree.fragment:h;let B=null;switch(_){case"merge":B={...this.currentUrlTree.queryParams,...l};break;case"preserve":B=this.currentUrlTree.queryParams;break;default:B=l||null}return null!==B&&(B=this.removeEmptyProps(B)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,B,k??null)}navigateByUrl(t,i={skipLocationChange:!1}){const o=ko(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,Zu,null,i)}navigate(t,i={skipLocationChange:!1}){return function DF(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new T(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return i}isActive(t,i){let o;if(o=!0===i?{...EF}:!1===i?{...xF}:i,ko(t))return x1(this.currentUrlTree,t,o);const l=this.parseUrl(t);return x1(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((i,o)=>{const l=t[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(t,i,o,l,h){if(this.disposed)return Promise.resolve(!1);let _,w,k,B;return h?(_=h.resolve,w=h.reject,k=h.promise):k=new Promise((H,J)=>{_=H,w=J}),B="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:B,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:_,reject:w,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(H=>Promise.reject(H))}setBrowserUrl(t,i){const o=this.urlSerializer.serialize(t),l={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vC{}let MF=(()=>{class n{constructor(t,i,o,l,h){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(ts(t=>t instanceof Oo),Ys(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const o=[];for(const l of i){l.providers&&!l._injector&&(l._injector=lc(l.providers,t,`Route: ${l.path}`));const h=l._injector??t,_=l._loadedInjector??h;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?o.push(this.preloadConfig(h,l)):(l.children||l._loadedRoutes)&&o.push(this.processRoutes(_,l.children??l._loadedRoutes))}return ft(o).pipe(Y())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):lt(null);const l=o.pipe(W(h=>null===h?lt(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));return i.loadComponent&&!i._loadedComponent?ft([l,this.loader.loadComponent(i)]).pipe(Y()):l})}}return n.\u0275fac=function(t){return new(t||n)($e(er),$e(iw),$e(_s),$e(vC),$e(bg))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Eg=new Ye("");let yC=(()=>{class n{constructor(t,i,o,l,h={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=o,this.zone=l,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof og?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof z1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new z1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function fv(){throw new Error("invalid")}()},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();var tr=(()=>((tr=tr||{})[tr.COMPLETE=0]="COMPLETE",tr[tr.FAILED=1]="FAILED",tr[tr.REDIRECTING=2]="REDIRECTING",tr))();const za=!1;function io(n,e){return{\u0275kind:n,\u0275providers:e}}const xg=new Ye("",{providedIn:"root",factory:()=>!1});function bC(){const n=Lt(Zr);return e=>{const t=n.get(Pu);if(e!==t.components[0])return;const i=n.get(er),o=n.get(CC);1===n.get(Dg)&&i.initialNavigation(),n.get(SC,null,pt.Optional)?.setUpPreloading(),n.get(Eg,null,pt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const CC=new Ye(za?"bootstrap done indicator":"",{factory:()=>new ht}),Dg=new Ye(za?"initial navigation":"",{providedIn:"root",factory:()=>1});function NF(){let n=[];return n=za?[{provide:Hl,multi:!0,useFactory:()=>{const e=Lt(er);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function oR(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],io(1,n)}const SC=new Ye(za?"router preloader":"");function RF(n){return io(0,[{provide:SC,useExisting:MF},{provide:vC,useExisting:n}])}const il=!1,EC=new Ye(il?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),FF=[_p,{provide:qu,useClass:eg},er,Yu,{provide:Fa,useFactory:function wC(n){return n.routerState.root},deps:[er]},bg,il?{provide:xg,useValue:!0}:[]];function LF(){return new hw("Router",er)}let xC=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[FF,il&&i?.enableTracing?NF().\u0275providers:[],{provide:Va,multi:!0,useValue:t},{provide:EC,useFactory:UF,deps:[[er,new qs,new ta]]},{provide:gh,useValue:i||{}},i?.useHash?{provide:Io,useClass:_2}:{provide:Io,useClass:Nw},{provide:Eg,useFactory:()=>{const n=Lt(LP),e=Lt(kn),t=Lt(gh),i=Lt(ph),o=Lt(qu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yC(o,i,n,e,t)}},i?.preloadingStrategy?RF(i.preloadingStrategy).\u0275providers:[],{provide:hw,multi:!0,useFactory:LF},i?.initialNavigation?HF(i):[],[{provide:DC,useFactory:bC},{provide:cw,multi:!0,useExisting:DC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Va,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)($e(EC,8))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({imports:[pg]}),n})();function UF(n){if(il&&n)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function HF(n){return["disabled"===n.initialNavigation?io(3,[{provide:dc,multi:!0,useFactory:()=>{const e=Lt(er);return()=>{e.setUpLocationChangeListener()}}},{provide:Dg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?io(2,[{provide:Dg,useValue:0},{provide:dc,multi:!0,deps:[Zr],useFactory:e=>{const t=e.get(g2,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(er),l=e.get(CC);(function AF(n,e){n.events.pipe(ts(t=>t instanceof Oo||t instanceof ih||t instanceof ag||t instanceof rh),Ze(t=>t instanceof Oo||t instanceof rh?tr.COMPLETE:t instanceof ih&&(0===t.code||1===t.code)?tr.REDIRECTING:tr.FAILED),ts(t=>t!==tr.REDIRECTING),Mo(1)).subscribe(()=>{e()})})(o,()=>{i(!0)}),e.get(ph).afterPreactivation=()=>(i(!0),l.closed?lt(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const DC=new Ye(il?"Router Initializer":""),$F=[];let qF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({imports:[xC.forRoot($F),xC]}),n})();var bi=jt(946);class rl{constructor(e,t){this.P1=e,this.P2=t,this.v=t.subtract(e).normalize(),this.n=new bi.Point(this.v.y,-this.v.x),this.length=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),this.angleV=this.v.angle,this.angleN=this.n.angle,this.a=this.n.x,this.b=this.n.y,this.c=-(this.a*this.P1.x+this.b*this.P1.y),this.inputPositionPoint=this.getInputVector(10).point}getParallelLine(e){let t=new bi.Point(this.n.x,this.n.y);t.length=e;let i=new bi.Point(this.P1.x+t.x,this.P1.y-t.y),o=new bi.Point(this.P2.x+t.x,this.P2.y-t.y);return new rl(o,i)}drawRuler(e){return this.drawHalfRuler(this.P1,e)+" "+this.drawHalfRuler(this.P2,e)+" Z"}drawHalfRuler(e,t){let i=1;e===this.P2&&(i=-1);let o=new bi.Point(this.n.x,this.n.y),l=new bi.Point(this.n.x,this.n.y),h=new bi.Point(this.n.x,this.n.y),_=new bi.Point(this.v.x,this.v.y);o.length=t,l.length=t+5,h.length=t+10,_.length=i*(this.length/2-25);let w=new bi.Point(e.x+o.x,e.y-o.y),k=new bi.Point(e.x+l.x,e.y-l.y),B=new bi.Point(e.x+h.x,e.y-h.y),H=new bi.Point(k.x+_.x,k.y+_.y);return"M"+k.x+" "+k.y+" L"+w.x+" "+w.y+" L"+B.x+" "+B.y+"M"+k.x+" "+k.y+" L"+H.x+" "+H.y}getInputVector(e){let t=new bi.Point(this.n.x,this.n.y);t.length=e+27;let i=new bi.Point(this.P1.x+t.x,this.P1.y-t.y),o=new bi.Point(this.v.x,this.v.y);return o.length=this.length/2-25,{point:new bi.Point(i.x+o.x,i.y+o.y),angle:o.angle}}}class WF{constructor(e){this.baseLine=e,this.inputPositionPoint=this.getInputVector(55,25).point}drawRuler(e){return this.drawWholeRuler(this.baseLine.P1,e)+" Z"}drawHalfRuler(e,t){let i=1;e===this.baseLine.P2&&(i=-1);let o=this.baseLine.n.multiply(20),l=this.baseLine.n.multiply(20),h=this.baseLine.n.multiply(20),_=this.baseLine.v.multiply(20);o.length=t,l.length=t+5,h.length=t+10,_.length=i*(this.baseLine.length/2-25);let w=e.clone().add(o),k=e.clone().add(l),B=e.clone().add(h),H=k.clone().add(_);return"M"+k.x+" "+k.y+" L"+w.x+" "+w.y+" L"+B.x+" "+B.y+"M"+k.x+" "+k.y+" L"+H.x+" "+H.y}drawWholeRuler(e,t){let i=this.baseLine.n.multiply(20),o=this.baseLine.n.multiply(20),l=this.baseLine.n.multiply(20),h=this.baseLine.v.multiply(20);i.length=t,o.length=t+5,l.length=t+10,h.length=this.baseLine.length;let _=e.clone().add(i),w=e.clone().add(o),k=e.clone().add(l),B=w.clone().add(h),H=B.clone().subtract(i.clone().normalize().multiply(5)),J=B.clone().add(o.clone().normalize().multiply(5));return"M"+w.x+" "+w.y+" L"+_.x+" "+_.y+" L"+k.x+" "+k.y+"M"+w.x+" "+w.y+" L"+B.x+" "+B.y+" M"+H.x+" "+H.y+" L"+J.x+" "+J.y}getInputVector(e,t){let i=this.baseLine.n;i.length=e;let o=this.baseLine.P1.clone().add(i),l=this.baseLine.v;return l.length=this.baseLine.length/2-t,{point:o.clone().add(l),angle:l.angle}}}class GF{constructor(e,t){this.startPoint=e,this.endPoint=t,this.isInputMode=!1,this.setWall()}setWall(){this.innerLine=new rl(this.startPoint,this.endPoint),this.outerStartPoint=this.getOuterStartPoint(),this.outerEndPoint=this.getOuterEndPoint(),this.outherLine=new rl(this.outerStartPoint.clone(),this.outerEndPoint.clone())}reSetWall(){this.drawWall(),this.setRuler()}getOuterStartPoint(){const e=this.innerLine.n.clone().multiply(10),t=this.innerLine.v.clone().normalize().multiply(-10);return this.startPoint.clone().add(e).add(t)}getOuterEndPoint(){const e=this.innerLine.n.clone().multiply(10),t=this.innerLine.v.clone().normalize().multiply(10);return this.endPoint.clone().add(e).add(t)}drawWall(){this.wall=this.startPoint.x+","+this.startPoint.y+" "+this.endPoint.x+","+this.endPoint.y+" "+this.outerEndPoint.x+","+this.outerEndPoint.y+" "+this.outerStartPoint.x+","+this.outerStartPoint.y}setRuler(){this.ruler=new WF(this.innerLine)}}var Is=jt(956);let IC=(()=>{class n{constructor(){}getIntersection(t,i){return new Is.Point((t.b*i.c-i.b*t.c)/(t.a*i.b-i.a*t.b),(t.c*i.a-i.c*t.a)/(t.a*i.b-i.a*t.b))}getParallelLine(t,i){let o=new Is.Point(i.n.x,i.n.y);o.length=t;let l=new Is.Point(i.P1.x+o.x,i.P1.y-o.y),h=new Is.Point(i.P2.x+o.x,i.P2.y-o.y);return new rl(h,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ig=(()=>{class n{constructor(t){this.helpersService=t,this.pointArray=[new Is.Point(100,100),new Is.Point(600,100),new Is.Point(600,600),new Is.Point(350,850),new Is.Point(100,600)],this.reDrawSubject=new ht}}return n.\u0275fac=function(t){return new(t||n)($e(IC))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KF=["app-walls",""];function ZF(n,e){1&n&&(qr(),bo(0,"polygon")),2&n&&Ws("points",e.$implicit.wall)}let QF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["","app-walls",""]],inputs:{walls:"walls"},attrs:KF,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(qr(),Ui(0,"g"),Gs(1,ZF,1,1,"polygon",0),Xi()),2&t&&(Mr(1),pr("ngForOf",i.walls))},dependencies:[Ac],styles:["polygon[_ngcontent-%COMP%]{fill:gray;stroke:#000;stroke-width:1}polygon[_ngcontent-%COMP%]:hover{cursor:pointer;fill:#5b5b5b}"]}),n})();const YF=["app-rulers",""];function XF(n,e){1&n&&(qr(),bo(0,"path",2)),2&n&&Ws("d",e.$implicit.ruler.drawRuler(20))}function JF(n,e){if(1&n&&(Ui(0,"div",10),rc(1),Fd(2,"number"),Xi()),2&n){const t=Ji(2).$implicit;Mr(1),Dd(Ld(2,1,t.innerLine.length,"1.0-0"))}}function eL(n,e){if(1&n){const t=ec();qr(),Jh(),Ui(0,"div")(1,"div",7)(2,"mat-icon",8),Co("mousedown",function(){return fs(t),ds(Ji(2).onClose())}),rc(3,"close"),Xi(),Ui(4,"mat-icon",8),Co("mousedown",function(){fs(t);const o=Ji().index,l=md(4);return ds(Ji().onDone(o,l))}),rc(5,"done"),Xi()(),Gs(6,JF,3,4,"div",9),Xi()}if(2&n){const t=Ji().$implicit;Mr(6),pr("ngIf",!t.isInputMode)}}function tL(n,e){if(1&n){const t=ec();qr(),Ui(0,"foreignObject",null,3),Gs(2,eL,7,1,"div",4),Jh(),Ui(3,"input",5,6),Co("click",function(){const l=fs(t).$implicit,h=md(1);return ds(Ji().onClickInput(l,h))})("blur",function(){return fs(t),ds(Ji().onBlurInput())}),Fd(5,"number"),Xi()()}if(2&n){const t=e.$implicit;gd("transform","\n      rotate(\n        ",t.ruler.getInputVector(10,25).angle,",\n        ",t.ruler.inputPositionPoint.x,",\n        ",t.ruler.inputPositionPoint.y,"\n      )\n    "),Ws("height",50)("width",50)("x",t.ruler.inputPositionPoint.x)("y",t.ruler.inputPositionPoint.y),Mr(2),pr("ngIf",t.isInputMode),Mr(1),pr("value",Ld(5,9,t.innerLine.length,"1.0-0"))}}let nL=(()=>{class n{constructor(t,i){this.roomService=t,this.cdr=i}ngAfterViewInit(){this.cdr.detectChanges()}onClickInput(t,i){t.isInputMode=!0,console.log(i),i.setAttribute("transform","rotate(0deg, wall.ruler.inputPositionPoint.x, wall.ruler.inputPositionPoint.y)")}onBlurInput(){this.onClose()}onClose(){this.roomService.reDrawSubject.next("")}onDone(t,i){let o=t-1;o<0&&(o=this.walls.length-1),this.roomService.pointArray[t]=this.roomService.pointArray[o].clone().add(this.walls[t].innerLine.v.normalize().multiply(+i.value)),this.roomService.reDrawSubject.next("")}}return n.\u0275fac=function(t){return new(t||n)(at(Ig),at(_c))},n.\u0275cmp=yn({type:n,selectors:[["","app-rulers",""]],inputs:{walls:"walls"},attrs:YF,decls:3,vars:2,consts:[["stroke","black","fill","none",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["stroke","black","fill","none"],["fObj",""],[4,"ngIf"],["type","text",3,"value","click","blur"],["input",""],["id","ok",1,"panel"],[3,"mousedown"],["class","wall-value",4,"ngIf"],[1,"wall-value"]],template:function(t,i){1&t&&(qr(),Ui(0,"g"),Gs(1,XF,1,1,"path",0),Gs(2,tL,6,12,"foreignObject",1),Xi()),2&t&&(Mr(1),pr("ngForOf",i.walls),Mr(1),pr("ngForOf",i.walls))},dependencies:[Ac,Tp,vN,Yw],styles:["input[_ngcontent-%COMP%]{width:40px;height:12px;padding:4px;border:1px solid black;margin:0;text-align:center}.wall-value[_ngcontent-%COMP%]{text-align:center}.panel[_ngcontent-%COMP%]{background-color:#cbcbcb;width:100%;height:25px}"]}),n})();const iL=["svgEl"],rL=["app-resize",""];function sL(n,e){if(1&n){const t=ec();qr(),Ui(0,"circle",3,4),Co("mousedown",function(o){const h=fs(t).$implicit;return ds(Ji().onMouseDown(o,h))})("mouseup",function(){return fs(t),ds(Ji().onMouseUp())})("touchstart",function(o){const h=fs(t).$implicit;return ds(Ji().onTouchStart(o,h))})("touchend",function(){return fs(t),ds(Ji().onTouchEnd())}),Xi()}if(2&n){const t=e.$implicit;Ws("cx",t.x)("cy",t.y)}}let oL=(()=>{class n{constructor(t,i){this.renderer=t,this.roomService=i,this.draggingPoint=null,this.isDraggingPoint=!1,this.isDragging=!1}ngOnInit(){this.svgEl=this.svgElRef.nativeElement}onMouseDown(t,i){t.preventDefault(),this.isDragging=!0,this.activateMoveListener("mousemove",i)}onTouchStart(t,i){t.preventDefault(),this.isDragging=!0,this.activateMoveListener("touchmove",i)}activateMoveListener(t,i){console.log(i),this.mouseMoveListener=this.renderer.listen(window,t,o=>{if(this.isDragging){if(this.svgElArr=[this.svgEl.parentElement.parentElement.getBoundingClientRect().x,this.svgEl.parentElement.parentElement.getBoundingClientRect().y],console.log(this.svgElArr),"mousemove"==t)console.log(o),console.log(this.svgElArr),i.x=o.pageX-this.svgElArr[0],i.y=o.pageY-this.svgElArr[1];else{const l=o.touches[0];i.x=l.pageX-this.svgElArr[0],i.y=l.pageY-this.svgElArr[1]}this.roomService.reDrawSubject.next("")}})}onMouseUp(){this.stopDragging()}onTouchEnd(){this.stopDragging()}stopDragging(){this.isDragging=!1,this.mouseMoveListener&&this.mouseMoveListener()}}return n.\u0275fac=function(t){return new(t||n)(at(mu),at(Ig))},n.\u0275cmp=yn({type:n,selectors:[["","app-resize",""]],viewQuery:function(t,i){if(1&t&&ky(iL,7),2&t){let o;Wd(o=function Gd(){return function uA(n,e){return n[_e].queries[e].queryList}(Me(),_m())}())&&(i.svgElRef=o.first)}},attrs:rL,decls:3,vars:1,consts:[["id","svgEl"],["svgEl",""],["r","8","draggable","true",3,"mousedown","mouseup","touchstart","touchend",4,"ngFor","ngForOf"],["r","8","draggable","true",3,"mousedown","mouseup","touchstart","touchend"],["image",""]],template:function(t,i){1&t&&(qr(),Ui(0,"g",0,1),Gs(2,sL,2,2,"circle",2),Xi()),2&t&&(Mr(2),pr("ngForOf",i.roomService.pointArray))},dependencies:[Ac],styles:["circle[_ngcontent-%COMP%]{fill:#58ace400;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:hover{fill:#58ace4;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:active{fill:#58ace4;cursor:crosshair;touch-action:none}"]}),n})();function aL(n,e){if(1&n&&(Ui(0,"div",1),qr(),Ui(1,"svg",2),bo(2,"g",3)(3,"g",4)(4,"g",5),Xi()()),2&n){const t=Ji();Mr(2),pr("walls",t.walls),Mr(1),pr("walls",t.walls)}}let uL=(()=>{class n{constructor(t,i){this.roomService=t,this.helperService=i,this.isLoaded=!1,this.walls=[],this.drawWalls()}ngOnInit(){this.isLoaded=!0,this.roomService.reDrawSubject.subscribe(t=>{this.drawWalls()})}drawWalls(){const t=[];for(let i=0;i<this.roomService.pointArray.length;i++){let o=i-1;-1===o&&(o=this.roomService.pointArray.length-1);const h=new GF(this.roomService.pointArray[o],this.roomService.pointArray[i]);t.push(h)}this.reCalcOuterPoints(t),this.walls=t}reCalcOuterPoints(t){for(let i=0;i<t.length;i++){let o=i-1;-1==o&&(o=t.length-1);let l=i+1;l==t.length&&(l=0);let h=this.helperService.getIntersection(t[o].outherLine,t[i].outherLine),_=this.helperService.getIntersection(t[i].outherLine,t[l].outherLine);console.log(t[i].outerStartPoint),console.log(h),console.log(t[i].outerEndPoint),console.log(_),t[i].outerStartPoint=h,t[i].outerEndPoint=_,t[i].reSetWall()}}}return n.\u0275fac=function(t){return new(t||n)(at(Ig),at(IC))},n.\u0275cmp=yn({type:n,selectors:[["app-room"]],decls:1,vars:1,consts:[["id","container",4,"ngIf"],["id","container"],["width","1000","height","1000"],["app-walls","",3,"walls"],["app-rulers","",3,"walls"],["app-resize",""]],template:function(t,i){1&t&&Gs(0,aL,5,2,"div",0),2&t&&pr("ngIf",i.isLoaded)},dependencies:[Tp,QF,nL,oL],styles:["#container[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})(),lL=(()=>{class n{constructor(){this.title="PlanMyKitchen"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=yn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&bo(0,"app-room")},dependencies:[uL]}),n})();class TC{}class cL{}const Ts="*";function MC(n,e=null){return{type:2,steps:n,options:e}}function AC(n){return{type:6,styles:n,offset:null}}function PC(n){Promise.resolve().then(n)}class sl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class kC{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,o=0;const l=this.players.length;0==l?PC(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++i==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,_)=>Math.max(h,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(o)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Tg="!";function OC(n){return new T(3e3,!1)}function qL(){return typeof window<"u"&&typeof window.document<"u"}function Mg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ro(n){switch(n.length){case 0:return new sl;case 1:return n[0];default:return new kC(n)}}function NC(n,e,t,i,o=new Map,l=new Map){const h=[],_=[];let w=-1,k=null;if(i.forEach(B=>{const H=B.get("offset"),J=H==w,te=J&&k||new Map;B.forEach((oe,de)=>{let ve=de,Ee=oe;if("offset"!==de)switch(ve=e.normalizePropertyName(ve,h),Ee){case Tg:Ee=o.get(de);break;case Ts:Ee=l.get(de);break;default:Ee=e.normalizeStyleValue(de,ve,Ee,h)}te.set(ve,Ee)}),J||_.push(te),k=te,w=H}),h.length)throw function OL(n){return new T(3502,!1)}();return _}function Ag(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Pg(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Pg(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Pg(t,"destroy",n)))}}function Pg(n,e,t){const l=kg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function kg(n,e,t,i,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:o,totalTime:l,disabled:!!h}}function nr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function RC(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Og=(n,e)=>!1,FC=(n,e,t)=>[],LC=null;function Ng(n){const e=n.parentNode||n.host;return e===LC?null:e}(Mg()||typeof Element<"u")&&(qL()?(LC=(()=>document.documentElement)(),Og=(n,e)=>{for(;e;){if(e===n)return!0;e=Ng(e)}return!1}):Og=(n,e)=>n.contains(e),FC=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let No=null,BC=!1;const VC=Og,zC=FC;let UC=(()=>{class n{validateStyleProperty(t){return function GL(n){No||(No=function KL(){return typeof document<"u"?document.body:null}()||{},BC=!!No.style&&"WebkitAppearance"in No.style);let e=!0;return No.style&&!function WL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in No.style,!e&&BC&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in No.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return VC(t,i)}getParentElement(t){return Ng(t)}query(t,i,o){return zC(t,i,o)}computeStyle(t,i,o){return o||""}animate(t,i,o,l,h,_=[],w){return new sl(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})(),Rg=(()=>{class n{}return n.NOOP=new UC,n})();const ZL=1e3,Fg="ng-enter",mh="ng-leave",_h="ng-trigger",vh=".ng-trigger",jC="ng-animating",Lg=".ng-animating";function Ms(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Bg(parseFloat(e[1]),e[2])}function Bg(n,e){return"s"===e?n*ZL:n}function yh(n,e,t){return n.hasOwnProperty("duration")?n:function YL(n,e,t){let o,l=0,h="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return e.push(OC()),{duration:0,delay:0,easing:""};o=Bg(parseFloat(_[1]),_[2]);const w=_[3];null!=w&&(l=Bg(parseFloat(w),_[4]));const k=_[5];k&&(h=k)}else o=n;if(!t){let _=!1,w=e.length;o<0&&(e.push(function hL(){return new T(3100,!1)}()),_=!0),l<0&&(e.push(function fL(){return new T(3101,!1)}()),_=!0),_&&e.splice(w,0,OC())}return{duration:o,delay:l,easing:h}}(n,e,t)}function ol(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $C(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function so(n,e=new Map,t){if(t)for(let[i,o]of t)e.set(i,o);for(let[i,o]of n)e.set(i,o);return e}function WC(n,e,t){return t?e+":"+t+";":""}function GC(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=WC(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=WC(0,t3(t),n.style[t]));n.setAttribute("style",e)}function ss(n,e,t){n.style&&(e.forEach((i,o)=>{const l=zg(o);t&&!t.has(o)&&t.set(o,n.style[l]),n.style[l]=i}),Mg()&&GC(n))}function Ro(n,e){n.style&&(e.forEach((t,i)=>{const o=zg(i);n.style[o]=""}),Mg()&&GC(n))}function al(n){return Array.isArray(n)?1==n.length?n[0]:MC(n):n}const Vg=new RegExp("{{\\s*(.+?)\\s*}}","g");function KC(n){let e=[];if("string"==typeof n){let t;for(;t=Vg.exec(n);)e.push(t[1]);Vg.lastIndex=0}return e}function ul(n,e,t){const i=n.toString(),o=i.replace(Vg,(l,h)=>{let _=e[h];return null==_&&(t.push(function pL(n){return new T(3003,!1)}()),_=""),_.toString()});return o==i?n:o}function wh(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const e3=/-+([a-z0-9])/g;function zg(n){return n.replace(e3,(...e)=>e[1].toUpperCase())}function t3(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ir(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gL(n){return new T(3004,!1)}()}}function ZC(n,e){return window.getComputedStyle(n)[e]}const Sh="*";function u3(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function l3(n,e,t){if(":"==n[0]){const w=function c3(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function ML(n){return new T(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function TL(n){return new T(3015,!1)}()),e;const o=i[1],l=i[2],h=i[3];e.push(QC(o,h));"<"==l[0]&&!(o==Sh&&h==Sh)&&e.push(QC(h,o))}(i,t,e)):t.push(n),t}const Eh=new Set(["true","1"]),xh=new Set(["false","0"]);function QC(n,e){const t=Eh.has(n)||xh.has(n),i=Eh.has(e)||xh.has(e);return(o,l)=>{let h=n==Sh||n==o,_=e==Sh||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?Eh.has(n):xh.has(n)),!_&&i&&"boolean"==typeof l&&(_=l?Eh.has(e):xh.has(e)),h&&_}}const h3=new RegExp("s*:selfs*,?","g");function Ug(n,e,t,i){return new f3(n).build(e,t,i)}class f3{constructor(e){this._driver=e}build(e,t,i){const o=new g3(t);return this._resetContextStyleTimingState(o),ir(this,al(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push(function _L(){return new T(3006,!1)}()),e.definitions.forEach(_=>{if(this._resetContextStyleTimingState(t),0==_.type){const w=_,k=w.name;k.toString().split(/\s*,\s*/).forEach(B=>{w.name=B,l.push(this.visitState(w,t))}),w.name=k}else if(1==_.type){const w=this.visitTransition(_,t);i+=w.queryCount,o+=w.depCount,h.push(w)}else t.errors.push(function vL(){return new T(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:h,queryCount:i,depCount:o,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,h=o||{};i.styles.forEach(_=>{_ instanceof Map&&_.forEach(w=>{KC(w).forEach(k=>{h.hasOwnProperty(k)||l.add(k)})})}),l.size&&(wh(l.values()),t.errors.push(function yL(n,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:i,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ir(this,al(e.animation),t);return{type:1,matchers:u3(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Fo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ir(this,i,t)),options:Fo(e.options)}}visitGroup(e,t){const i=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=i;const _=ir(this,h,t);return o=Math.max(o,t.currentTime),_});return t.currentTime=o,{type:3,steps:l,options:Fo(e.options)}}visitAnimate(e,t){const i=function _3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Hg(yh(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Hg(0,0,"");return l.dynamic=!0,l.strValue=t,l}const o=yh(t,e);return Hg(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let o,l=e.styles?e.styles:AC({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,_=!1;if(!h){_=!0;const k={};i.easing&&(k.easing=i.easing),h=AC(k)}t.currentTime+=i.duration+i.delay;const w=this.visitStyle(h,t);w.isEmptyStep=_,o=w}return t.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let _ of o)"string"==typeof _?_===Ts?i.push(_):t.errors.push(new T(3002,!1)):i.push($C(_));let l=!1,h=null;return i.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(h=_.get("easing"),_.delete("easing")),!l))for(let w of _.values())if(w.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:h,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(h=>{"string"!=typeof h&&h.forEach((_,w)=>{const k=t.collectedStyles.get(t.currentQuerySelector),B=k.get(w);let H=!0;B&&(l!=o&&l>=B.startTime&&o<=B.endTime&&(t.errors.push(function bL(n,e,t,i,o){return new T(3010,!1)}()),H=!1),l=B.startTime),H&&k.set(w,{startTime:l,endTime:o}),t.options&&function JL(n,e,t){const i=e.params||{},o=KC(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||t.push(function dL(n){return new T(3001,!1)}())})}(_,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function CL(){return new T(3011,!1)}()),i;let l=0;const h=[];let _=!1,w=!1,k=0;const B=e.steps.map(Ee=>{const Be=this._makeStyleAst(Ee,t);let Se=null!=Be.offset?Be.offset:function m3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Be.styles),Je=0;return null!=Se&&(l++,Je=Be.offset=Se),w=w||Je<0||Je>1,_=_||Je<k,k=Je,h.push(Je),Be});w&&t.errors.push(function SL(){return new T(3012,!1)}()),_&&t.errors.push(function EL(){return new T(3200,!1)}());const H=e.steps.length;let J=0;l>0&&l<H?t.errors.push(function xL(){return new T(3202,!1)}()):0==l&&(J=1/(H-1));const te=H-1,oe=t.currentTime,de=t.currentAnimateTimings,ve=de.duration;return B.forEach((Ee,Be)=>{const Se=J>0?Be==te?1:J*Be:h[Be],Je=Se*ve;t.currentTime=oe+de.delay+Je,de.duration=Je,this._validateStyleAst(Ee,t),Ee.offset=Se,i.styles.push(Ee)}),i}visitReference(e,t){return{type:8,animation:ir(this,al(e.animation),t),options:Fo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fo(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function d3(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(h3,"")),n=n.replace(/@\*/g,vh).replace(/@\w+/g,t=>vh+"-"+t.slice(1)).replace(/:animating/g,Lg),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,nr(t.collectedStyles,t.currentQuerySelector,new Map);const _=ir(this,al(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:_,originalSelector:e.selector,options:Fo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function DL(){return new T(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:yh(e.timings,t.errors,!0);return{type:12,animation:ir(this,al(e.animation),t),timings:i,options:null}}}class g3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fo(n){return n?(n=ol(n)).params&&(n.params=function p3(n){return n?ol(n):null}(n.params)):n={},n}function Hg(n,e,t){return{duration:n,delay:e,easing:t}}function jg(n,e,t,i,o,l,h=null,_=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:_}}class Dh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const w3=new RegExp(":enter","g"),C3=new RegExp(":leave","g");function $g(n,e,t,i,o,l=new Map,h=new Map,_,w,k=[]){return(new S3).buildKeyframes(n,e,t,i,o,l,h,_,w,k)}class S3{buildKeyframes(e,t,i,o,l,h,_,w,k,B=[]){k=k||new Dh;const H=new qg(e,t,k,o,l,B,[]);H.options=w;const J=w.delay?Ms(w.delay):0;H.currentTimeline.delayNextStep(J),H.currentTimeline.setStyles([h],null,H.errors,w),ir(this,i,H);const te=H.timelines.filter(oe=>oe.containsAnimation());if(te.length&&_.size){let oe;for(let de=te.length-1;de>=0;de--){const ve=te[de];if(ve.element===t){oe=ve;break}}oe&&!oe.allowOnlyTimelineStyles()&&oe.setStyles([_],null,H.errors,w)}return te.length?te.map(oe=>oe.buildKeyframes()):[jg(t,[],[],[],0,J,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(i,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const o of e){const l=o?.delay;if(l){const h="number"==typeof l?l:Ms(ul(l,o?.params??{},t.errors));i.delayNextStep(h)}}}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const h=null!=i.duration?Ms(i.duration):null,_=null!=i.delay?Ms(i.delay):null;return 0!==h&&e.forEach(w=>{const k=t.appendInstructionToTimeline(w,h,_);l=Math.max(l,k.duration+k.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ir(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ih);const h=Ms(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>ir(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Ms(e.options.delay):0;e.steps.forEach(h=>{const _=t.createSubContext(e.options);l&&_.delayNextStep(l),ir(this,h,_),o=Math.max(o,_.currentTimeline.currentTime),i.push(_.currentTimeline)}),i.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return yh(t.params?ul(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,o=t.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,o=t.currentTimeline.duration,l=i.duration,_=t.createSubContext().currentTimeline;_.easing=i.easing,e.styles.forEach(w=>{_.forwardTime((w.offset||0)*l),_.setStyles(w.styles,w.easing,t.errors,t.options),_.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(_),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?Ms(o.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ih);let h=i;const _=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=_.length;let w=null;_.forEach((k,B)=>{t.currentQueryIndex=B;const H=t.createSubContext(e.options,k);l&&H.delayNextStep(l),k===t.element&&(w=H.currentTimeline),ir(this,e.animation,H),H.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,H.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),_=h*(t.currentQueryTotal-1);let w=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":w=_-w;break;case"full":w=i.currentStaggerTime}const B=t.currentTimeline;w&&B.delayNextStep(w);const H=B.currentTime;ir(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=o.currentTime-H+(o.startTime-i.currentTimeline.startTime)}}const Ih={};class qg{constructor(e,t,i,o,l,h,_,w){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ih,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new Th(this._driver,t,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let o=this.options;null!=i.duration&&(o.duration=Ms(i.duration)),null!=i.delay&&(o.delay=Ms(i.delay));const l=i.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(_=>{(!t||!h.hasOwnProperty(_))&&(h[_]=ul(l[_],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(o=>{i[o]=t[o]})}}return e}createSubContext(e=null,t,i){const o=t||this.element,l=new qg(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ih,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},l=new E3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,o,l,h){let _=[];if(o&&_.push(this.element),e.length>0){e=(e=e.replace(w3,"."+this._enterClassName)).replace(C3,"."+this._leaveClassName);let k=this._driver.query(this.element,e,1!=i);0!==i&&(k=i<0?k.slice(k.length+i,k.length):k.slice(0,i)),_.push(...k)}return!l&&0==_.length&&h.push(function IL(n){return new T(3014,!1)}()),_}}class Th{constructor(e,t,i,o){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Th(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ts),this._currentKeyframe.set(t,Ts);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,o){t&&this._previousKeyframe.set("easing",t);const l=o&&o.params||{},h=function x3(n,e){const t=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||e.keys();for(let l of i)t.set(l,Ts)}else so(o,t)}),t}(e,this._globalTimelineStyles);for(let[_,w]of h){const k=ul(w,l,i);this._pendingStyles.set(_,k),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??Ts),this._updateStyle(_,k)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const o=this._styleSummary.get(i);(!o||t.time>o.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((_,w)=>{const k=so(_,new Map,this._backFill);k.forEach((B,H)=>{B===Tg?e.add(H):B===Ts&&t.add(H)}),i||k.set("offset",w/this.duration),o.push(k)});const l=e.size?wh(e.values()):[],h=t.size?wh(t.values()):[];if(i){const _=o[0],w=new Map(_);_.set("offset",0),w.set("offset",1),o=[_,w]}return jg(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class E3 extends Th{constructor(e,t,i,o,l,h,_=!1){super(e,t,h.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=_,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=i+t,_=t/h,w=so(e[0]);w.set("offset",0),l.push(w);const k=so(e[0]);k.set("offset",JC(_)),l.push(k);const B=e.length-1;for(let H=1;H<=B;H++){let J=so(e[H]);const te=J.get("offset");J.set("offset",JC((t+te*i)/h)),l.push(J)}i=h,t=0,o="",e=l}return jg(this.element,e,this.preStyleProps,this.postStyleProps,i,t,o,!0)}}function JC(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Wg{}const D3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I3 extends Wg{normalizePropertyName(e,t){return zg(e)}normalizeStyleValue(e,t,i,o){let l="";const h=i.toString().trim();if(D3.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const _=i.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&o.push(function mL(n,e){return new T(3005,!1)}())}return h+l}}function eS(n,e,t,i,o,l,h,_,w,k,B,H,J){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:i,toStyles:h,timelines:_,queriedElements:w,preStyleProps:k,postStyleProps:B,totalTime:H,errors:J}}const Gg={};class tS{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,o){return function T3(n,e,t,i,o){return n.some(l=>l(e,t,i,o))}(this.ast.matchers,e,t,i,o)}buildStyles(e,t,i){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,i):new Map}build(e,t,i,o,l,h,_,w,k,B){const H=[],J=this.ast.options&&this.ast.options.params||Gg,oe=this.buildStyles(i,_&&_.params||Gg,H),de=w&&w.params||Gg,ve=this.buildStyles(o,de,H),Ee=new Set,Be=new Map,Se=new Map,Je="void"===o,en={params:M3(de,J),delay:this.ast.options?.delay},rn=B?[]:$g(e,t,this.ast.animation,l,h,oe,ve,en,k,H);let Ci=0;if(rn.forEach(Ps=>{Ci=Math.max(Ps.duration+Ps.delay,Ci)}),H.length)return eS(t,this._triggerName,i,o,Je,oe,ve,[],[],Be,Se,Ci,H);rn.forEach(Ps=>{const ks=Ps.element,mS=nr(Be,ks,new Set);Ps.preStyleProps.forEach(Lo=>mS.add(Lo));const cl=nr(Se,ks,new Set);Ps.postStyleProps.forEach(Lo=>cl.add(Lo)),ks!==t&&Ee.add(ks)});const As=wh(Ee.values());return eS(t,this._triggerName,i,o,Je,oe,ve,rn,As,Be,Se,Ci)}}function M3(n,e){const t=ol(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class A3{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,o=ol(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!==h&&(o[l]=h)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,_)=>{h&&(h=ul(h,o,t));const w=this.normalizer.normalizePropertyName(_,t);h=this.normalizer.normalizeStyleValue(_,w,h,t),i.set(_,h)})}),i}}class k3{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new A3(o.style,o.options&&o.options.params||{},i))}),nS(this.states,"true","1"),nS(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new tS(e,o,this.states))}),this.fallbackTransition=function O3(n,e,t){return new tS(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,_)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,o){return this.transitionFactories.find(h=>h.match(e,t,i,o))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function nS(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const N3=new Dh;class R3{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=[],l=Ug(this._driver,t,i,o);if(i.length)throw function NL(n){return new T(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,i){const o=e.element,l=NC(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const o=[],l=this._animations.get(e);let h;const _=new Map;if(l?(h=$g(this._driver,t,l,Fg,mh,new Map,new Map,i,N3,o),h.forEach(B=>{const H=nr(_,B.element,new Map);B.postStyleProps.forEach(J=>H.set(J,null))})):(o.push(function RL(){return new T(3300,!1)}()),h=[]),o.length)throw function FL(n){return new T(3504,!1)}();_.forEach((B,H)=>{B.forEach((J,te)=>{B.set(te,this._driver.computeStyle(H,te,Ts))})});const k=ro(h.map(B=>{const H=_.get(B.element);return this._buildPlayer(B,new Map,H)}));return this._playersById.set(e,k),k.onDestroy(()=>this.destroy(e)),this.players.push(k),k}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function LL(n){return new T(3301,!1)}();return t}listen(e,t,i,o){const l=kg(t,"","","");return Ag(this._getPlayer(e),i,l,o),()=>{}}command(e,t,i,o){if("register"==i)return void this.register(e,o[0]);if("create"==i)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const iS="ng-animate-queued",Kg="ng-animate-disabled",z3=[],rS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vr="__ng_removed";class Zg{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function q3(n){return n??null}(i?e.value:e),i){const l=ol(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(o=>{null==i[o]&&(i[o]=t[o])})}}}const ll="void",Qg=new Zg(ll);class H3{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yr(t,this._hostClassName)}listen(e,t,i,o){if(!this._triggers.has(t))throw function BL(n,e){return new T(3302,!1)}();if(null==i||0==i.length)throw function VL(n){return new T(3303,!1)}();if(!function W3(n){return"start"==n||"done"==n}(i))throw function zL(n,e){return new T(3400,!1)}();const l=nr(this._elementListeners,e,[]),h={name:t,phase:i,callback:o};l.push(h);const _=nr(this._engine.statesByElement,e,new Map);return _.has(t)||(yr(e,_h),yr(e,_h+"-"+t),_.set(t,Qg)),()=>{this._engine.afterFlush(()=>{const w=l.indexOf(h);w>=0&&l.splice(w,1),this._triggers.has(t)||_.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function UL(n){return new T(3401,!1)}();return t}trigger(e,t,i,o=!0){const l=this._getTrigger(t),h=new Yg(this.id,t,e);let _=this._engine.statesByElement.get(e);_||(yr(e,_h),yr(e,_h+"-"+t),this._engine.statesByElement.set(e,_=new Map));let w=_.get(t);const k=new Zg(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&w&&k.absorbOptions(w.options),_.set(t,k),w||(w=Qg),k.value!==ll&&w.value===k.value){if(!function Z3(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(w.params,k.params)){const de=[],ve=l.matchStyles(w.value,w.params,de),Ee=l.matchStyles(k.value,k.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{Ro(e,ve),ss(e,Ee)})}return}const J=nr(this._engine.playersByElement,e,[]);J.forEach(de=>{de.namespaceId==this.id&&de.triggerName==t&&de.queued&&de.destroy()});let te=l.matchTransition(w.value,k.value,e,k.params),oe=!1;if(!te){if(!o)return;te=l.fallbackTransition,oe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:te,fromState:w,toState:k,player:h,isFallbackTransition:oe}),oe||(yr(e,iS),h.onStart(()=>{Ua(e,iS)})),h.onDone(()=>{let de=this.players.indexOf(h);de>=0&&this.players.splice(de,1);const ve=this._engine.playersByElement.get(e);if(ve){let Ee=ve.indexOf(h);Ee>=0&&ve.splice(Ee,1)}}),this.players.push(h),J.push(h),h}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,vh,!0);i.forEach(o=>{if(o[vr])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,o){const l=this._engine.statesByElement.get(e),h=new Map;if(l){const _=[];if(l.forEach((w,k)=>{if(h.set(k,w.value),this._triggers.has(k)){const B=this.trigger(e,k,ll,o);B&&_.push(B)}}),_.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,h),i&&ro(_).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const w=this._triggers.get(h).fallbackTransition,k=i.get(h)||Qg,B=new Zg(ll),H=new Yg(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:w,fromState:k,toState:B,player:H,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(i.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[vr];(!l||l===rS)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){yr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,h=this._elementListeners.get(l);h&&h.forEach(_=>{if(_.name==i.triggerName){const w=kg(l,i.triggerName,i.fromState.value,i.toState.value);w._data=e,Ag(i.player,_.phase,w,_.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(i)}),this._queue=[],t.sort((i,o)=>{const l=i.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class j3{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new H3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let h=!1,_=this.driver.getParentElement(t);for(;_;){const w=o.get(_);if(w){const k=i.indexOf(w);i.splice(k+1,0,e),h=!0;break}_=this.driver.getParentElement(_)}h||i.unshift(e)}else i.push(e);return o.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let o=this._namespaceLookup[e];o&&o.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let o of i.values())if(o.namespaceId){const l=this._fetchNamespace(o.namespaceId);l&&t.add(l)}return t}trigger(e,t,i,o){if(Mh(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,o),!0}return!1}insertNode(e,t,i,o){if(!Mh(t))return;const l=t[vr];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,i)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yr(e,Kg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ua(e,Kg))}removeNode(e,t,i,o){if(Mh(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),i){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,i,o,l){this.collectedLeaveElements.push(t),t[vr]={namespaceId:e,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,o,l){return Mh(t)?this._fetchNamespace(e).listen(t,i,o,l):()=>{}}_buildInstruction(e,t,i,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,vh,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Lg,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ro(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[vr];if(t&&t.setForRemoval){if(e[vr]=rS,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Kg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)yr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ro(t).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(e){throw function HL(n){return new T(3402,!1)}()}_flushAnimations(e,t){const i=new Dh,o=[],l=new Map,h=[],_=new Map,w=new Map,k=new Map,B=new Set;this.disabledNodes.forEach(rt=>{B.add(rt);const yt=this.driver.query(rt,".ng-animate-queued",!0);for(let St=0;St<yt.length;St++)B.add(yt[St])});const H=this.bodyNode,J=Array.from(this.statesByElement.keys()),te=aS(J,this.collectedEnterElements),oe=new Map;let de=0;te.forEach((rt,yt)=>{const St=Fg+de++;oe.set(yt,St),rt.forEach(tn=>yr(tn,St))});const ve=[],Ee=new Set,Be=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const yt=this.collectedLeaveElements[rt],St=yt[vr];St&&St.setForRemoval&&(ve.push(yt),Ee.add(yt),St.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(tn=>Ee.add(tn)):Be.add(yt))}const Se=new Map,Je=aS(J,Array.from(Ee));Je.forEach((rt,yt)=>{const St=mh+de++;Se.set(yt,St),rt.forEach(tn=>yr(tn,St))}),e.push(()=>{te.forEach((rt,yt)=>{const St=oe.get(yt);rt.forEach(tn=>Ua(tn,St))}),Je.forEach((rt,yt)=>{const St=Se.get(yt);rt.forEach(tn=>Ua(tn,St))}),ve.forEach(rt=>{this.processLeaveNode(rt)})});const en=[],rn=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(St=>{const tn=St.player,hi=St.element;if(en.push(tn),this.collectedEnterElements.length){const Si=hi[vr];if(Si&&Si.setForMove){if(Si.previousTriggersValues&&Si.previousTriggersValues.has(St.triggerName)){const Bo=Si.previousTriggersValues.get(St.triggerName),wr=this.statesByElement.get(St.element);if(wr&&wr.has(St.triggerName)){const kh=wr.get(St.triggerName);kh.value=Bo,wr.set(St.triggerName,kh)}}return void tn.destroy()}}const os=!H||!this.driver.containsElement(H,hi),rr=Se.get(hi),oo=oe.get(hi),zn=this._buildInstruction(St,i,oo,rr,os);if(zn.errors&&zn.errors.length)return void rn.push(zn);if(os)return tn.onStart(()=>Ro(hi,zn.fromStyles)),tn.onDestroy(()=>ss(hi,zn.toStyles)),void o.push(tn);if(St.isFallbackTransition)return tn.onStart(()=>Ro(hi,zn.fromStyles)),tn.onDestroy(()=>ss(hi,zn.toStyles)),void o.push(tn);const yS=[];zn.timelines.forEach(Si=>{Si.stretchStartingKeyframe=!0,this.disabledNodes.has(Si.element)||yS.push(Si)}),zn.timelines=yS,i.append(hi,zn.timelines),h.push({instruction:zn,player:tn,element:hi}),zn.queriedElements.forEach(Si=>nr(_,Si,[]).push(tn)),zn.preStyleProps.forEach((Si,Bo)=>{if(Si.size){let wr=w.get(Bo);wr||w.set(Bo,wr=new Set),Si.forEach((kh,em)=>wr.add(em))}}),zn.postStyleProps.forEach((Si,Bo)=>{let wr=k.get(Bo);wr||k.set(Bo,wr=new Set),Si.forEach((kh,em)=>wr.add(em))})});if(rn.length){const rt=[];rn.forEach(yt=>{rt.push(function jL(n,e){return new T(3505,!1)}())}),en.forEach(yt=>yt.destroy()),this.reportError(rt)}const Ci=new Map,As=new Map;h.forEach(rt=>{const yt=rt.element;i.has(yt)&&(As.set(yt,yt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Ci))}),o.forEach(rt=>{const yt=rt.element;this._getPreviousPlayers(yt,!1,rt.namespaceId,rt.triggerName,null).forEach(tn=>{nr(Ci,yt,[]).push(tn),tn.destroy()})});const Ps=ve.filter(rt=>lS(rt,w,k)),ks=new Map;oS(ks,this.driver,Be,k,Ts).forEach(rt=>{lS(rt,w,k)&&Ps.push(rt)});const cl=new Map;te.forEach((rt,yt)=>{oS(cl,this.driver,new Set(rt),w,Tg)}),Ps.forEach(rt=>{const yt=ks.get(rt),St=cl.get(rt);ks.set(rt,new Map([...Array.from(yt?.entries()??[]),...Array.from(St?.entries()??[])]))});const Lo=[],_S=[],vS={};h.forEach(rt=>{const{element:yt,player:St,instruction:tn}=rt;if(i.has(yt)){if(B.has(yt))return St.onDestroy(()=>ss(yt,tn.toStyles)),St.disabled=!0,St.overrideTotalTime(tn.totalTime),void o.push(St);let hi=vS;if(As.size>1){let rr=yt;const oo=[];for(;rr=rr.parentNode;){const zn=As.get(rr);if(zn){hi=zn;break}oo.push(rr)}oo.forEach(zn=>As.set(zn,hi))}const os=this._buildAnimation(St.namespaceId,tn,Ci,l,cl,ks);if(St.setRealPlayer(os),hi===vS)Lo.push(St);else{const rr=this.playersByElement.get(hi);rr&&rr.length&&(St.parentPlayer=ro(rr)),o.push(St)}}else Ro(yt,tn.fromStyles),St.onDestroy(()=>ss(yt,tn.toStyles)),_S.push(St),B.has(yt)&&o.push(St)}),_S.forEach(rt=>{const yt=l.get(rt.element);if(yt&&yt.length){const St=ro(yt);rt.setRealPlayer(St)}}),o.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<ve.length;rt++){const yt=ve[rt],St=yt[vr];if(Ua(yt,mh),St&&St.hasAnimation)continue;let tn=[];if(_.size){let os=_.get(yt);os&&os.length&&tn.push(...os);let rr=this.driver.query(yt,Lg,!0);for(let oo=0;oo<rr.length;oo++){let zn=_.get(rr[oo]);zn&&zn.length&&tn.push(...zn)}}const hi=tn.filter(os=>!os.destroyed);hi.length?G3(this,yt,hi):this.processLeaveNode(yt)}return ve.length=0,Lo.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const yt=this.players.indexOf(rt);this.players.splice(yt,1)}),rt.play()}),Lo}elementContainsData(e,t){let i=!1;const o=t[vr];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,o,l){let h=[];if(t){const _=this.playersByQueriedElement.get(e);_&&(h=_)}else{const _=this.playersByElement.get(e);if(_){const w=!l||l==ll;_.forEach(k=>{k.queued||!w&&k.triggerName!=o||h.push(k)})}}return(i||o)&&(h=h.filter(_=>!(i&&i!=_.namespaceId||o&&o!=_.triggerName))),h}_beforeAnimationBuild(e,t,i){const l=t.element,h=t.isRemovalTransition?void 0:e,_=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const k=w.element,B=k!==l,H=nr(i,k,[]);this._getPreviousPlayers(k,B,h,_,t.toState).forEach(te=>{const oe=te.getRealPlayer();oe.beforeDestroy&&oe.beforeDestroy(),te.destroy(),H.push(te)})}Ro(l,t.fromStyles)}_buildAnimation(e,t,i,o,l,h){const _=t.triggerName,w=t.element,k=[],B=new Set,H=new Set,J=t.timelines.map(oe=>{const de=oe.element;B.add(de);const ve=de[vr];if(ve&&ve.removedBeforeQueried)return new sl(oe.duration,oe.delay);const Ee=de!==w,Be=function K3(n){const e=[];return uS(n,e),e}((i.get(de)||z3).map(Ci=>Ci.getRealPlayer())).filter(Ci=>!!Ci.element&&Ci.element===de),Se=l.get(de),Je=h.get(de),en=NC(0,this._normalizer,0,oe.keyframes,Se,Je),rn=this._buildPlayer(oe,en,Be);if(oe.subTimeline&&o&&H.add(de),Ee){const Ci=new Yg(e,_,de);Ci.setRealPlayer(rn),k.push(Ci)}return rn});k.forEach(oe=>{nr(this.playersByQueriedElement,oe.element,[]).push(oe),oe.onDone(()=>function $3(n,e,t){let i=n.get(e);if(i){if(i.length){const o=i.indexOf(t);i.splice(o,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,oe.element,oe))}),B.forEach(oe=>yr(oe,jC));const te=ro(J);return te.onDestroy(()=>{B.forEach(oe=>Ua(oe,jC)),ss(w,t.toStyles)}),H.forEach(oe=>{nr(o,oe,[]).push(te)}),te}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new sl(e.duration,e.delay)}}class Yg{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new sl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(o=>Ag(e,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){nr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Mh(n){return n&&1===n.nodeType}function sS(n,e){const t=n.style.display;return n.style.display=e??"none",t}function oS(n,e,t,i,o){const l=[];t.forEach(w=>l.push(sS(w)));const h=[];i.forEach((w,k)=>{const B=new Map;w.forEach(H=>{const J=e.computeStyle(k,H,o);B.set(H,J),(!J||0==J.length)&&(k[vr]=U3,h.push(k))}),n.set(k,B)});let _=0;return t.forEach(w=>sS(w,l[_++])),h}function aS(n,e){const t=new Map;if(n.forEach(_=>t.set(_,[])),0==e.length)return t;const i=1,o=new Set(e),l=new Map;function h(_){if(!_)return i;let w=l.get(_);if(w)return w;const k=_.parentNode;return w=t.has(k)?k:o.has(k)?i:h(k),l.set(_,w),w}return e.forEach(_=>{const w=h(_);w!==i&&t.get(w).push(_)}),t}function yr(n,e){n.classList?.add(e)}function Ua(n,e){n.classList?.remove(e)}function G3(n,e,t){ro(t).onDone(()=>n.processLeaveNode(e))}function uS(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof kC?uS(i.players,e):e.push(i)}}function lS(n,e,t){const i=t.get(n);if(!i)return!1;let o=e.get(n);return o?i.forEach(l=>o.add(l)):e.set(n,i),t.delete(n),!0}class Ah{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new j3(e,t,i),this._timelineEngine=new R3(e,t,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,i,o,l){const h=e+"-"+o;let _=this._triggerCache[h];if(!_){const w=[],k=[],B=Ug(this._driver,l,w,k);if(w.length)throw function kL(n,e){return new T(3404,!1)}();_=function P3(n,e,t){return new k3(n,e,t)}(o,B,this._normalizer),this._triggerCache[h]=_}this._transitionEngine.registerTrigger(t,o,_)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,o){this._transitionEngine.insertNode(e,t,i,o)}onRemove(e,t,i,o){this._transitionEngine.removeNode(e,t,o||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,o){if("@"==i.charAt(0)){const[l,h]=RC(i);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,i,o)}listen(e,t,i,o,l){if("@"==i.charAt(0)){const[h,_]=RC(i);return this._timelineEngine.listen(h,t,_,l)}return this._transitionEngine.listen(e,t,i,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Y3=(()=>{class n{constructor(t,i,o){this._element=t,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ss(this._element,this._initialStyles),this._endStyles&&(ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ro(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ro(this._element,this._endStyles),this._endStyles=null),ss(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Xg(n){let e=null;return n.forEach((t,i)=>{(function X3(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class cS{constructor(e,t,i,o){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&e.set(o,this._finished?i:ZC(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class J3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VC(e,t)}getParentElement(e){return Ng(e)}query(e,t,i){return zC(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,o,l,h=[]){const w={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(w.easing=l);const k=new Map,B=h.filter(te=>te instanceof cS);(function n3(n,e){return 0===n||0===e})(i,o)&&B.forEach(te=>{te.currentSnapshot.forEach((oe,de)=>k.set(de,oe))});let H=function XL(n){return n.length?n[0]instanceof Map?n:n.map(e=>$C(e)):[]}(t).map(te=>so(te));H=function r3(n,e,t){if(t.size&&e.length){let i=e[0],o=[];if(t.forEach((l,h)=>{i.has(h)||o.push(h),i.set(h,l)}),o.length)for(let l=1;l<e.length;l++){let h=e[l];o.forEach(_=>h.set(_,ZC(n,_)))}}return e}(e,H,k);const J=function Q3(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Xg(e[0]),e.length>1&&(i=Xg(e[e.length-1]))):e instanceof Map&&(t=Xg(e)),t||i?new Y3(n,t,i):null}(e,H);return new cS(e,H,w,J)}}let e5=(()=>{class n extends TC{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Li.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?MC(t):t;return hS(this._renderer,null,i,"register",[o]),new t5(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)($e(gu),$e(On))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();class t5 extends cL{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new n5(this._id,e,t||{},this._renderer)}}class n5{constructor(e,t,i,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hS(n,e,t,i,o){return n.setProperty(e,`@@${t}:${i}`,o)}const fS="@.disabled";let i5=(()=>{class n{constructor(t,i,o){this.delegate=t,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,h)=>{const _=h?.parentNode(l);_&&h.removeChild(_,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let B=this._rendererCache.get(l);return B||(B=new dS("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,B)),B}const h=i.id,_=i.id+"-"+this._currentId;this._currentId++,this.engine.register(_,t);const w=B=>{Array.isArray(B)?B.forEach(w):this.engine.registerTrigger(h,_,t,B.name,B)};return i.data.animation.forEach(w),new r5(this,_,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,o){t>=0&&t<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,_]=l;h(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)($e(gu),$e(Ah),$e(kn))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})();class dS{constructor(e,t,i,o){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,o=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==fS?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class r5 extends dS{constructor(e,t,i,o,l){super(t,i,o,l),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fS?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const o=function s5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),h="";return"@"!=l.charAt(0)&&([l,h]=function o5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,_=>{this.factory.scheduleListenerCallback(_._data||-1,i,_)})}return this.delegate.listen(e,t,i)}}const pS=[{provide:TC,useClass:e5},{provide:Wg,useFactory:function u5(){return new I3}},{provide:Ah,useClass:(()=>{class n extends Ah{constructor(t,i,o,l){super(t.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)($e(On),$e(Rg),$e(Wg),$e(Pu))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})()},{provide:gu,useFactory:function l5(n,e,t){return new i5(n,e,t)},deps:[Fc,Ah,kn]}],Jg=[{provide:Rg,useFactory:()=>new J3},{provide:nw,useValue:"BrowserAnimations"},...pS],gS=[{provide:Rg,useClass:UC},{provide:nw,useValue:"NoopAnimations"},...pS];let c5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?gS:Jg}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Fi({providers:Jg,imports:[bb]}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zt({type:n,bootstrap:[lL]}),n.\u0275inj=Fi({imports:[bb,qF,c5,yN]}),n})();Nk().bootstrapModule(h5).catch(n=>console.error(n))},77:function(sr,Lr){!function(jt){"use strict";var Ut=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Wn=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],oi="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u0870-\u0887\u0889-\u088e\u08a0-\u08c9\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c5d\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cdd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u1711\u171f-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4c\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ca\ua7d0\ua7d1\ua7d3\ua7d5-\ua7d9\ua7f2-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",Ie={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Te="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Dt={5:Te,"5module":Te+" export import",6:Te+" const class extends export import super"},ie=/^in(stanceof)?$/,se=new RegExp("["+oi+"]"),Jn=new RegExp("["+oi+"\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0898-\u089f\u08ca-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3c\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0cf3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ece\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u180f-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf-\u1ace\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");function In(m,T){for(var j=65536,G=0;G<T.length;G+=2){if((j+=T[G])>m)return!1;if((j+=T[G+1])>=m)return!0}return!1}function Tn(m,T){return m<65?36===m:m<91||(m<97?95===m:m<123||(m<=65535?m>=170&&se.test(String.fromCharCode(m)):!1!==T&&In(m,Wn)))}function pn(m,T){return m<48?36===m:m<58||!(m<65)&&(m<91||(m<97?95===m:m<123||(m<=65535?m>=170&&Jn.test(String.fromCharCode(m)):!1!==T&&(In(m,Wn)||In(m,Ut)))))}var je=function(T,j){void 0===j&&(j={}),this.label=T,this.keyword=j.keyword,this.beforeExpr=!!j.beforeExpr,this.startsExpr=!!j.startsExpr,this.isLoop=!!j.isLoop,this.isAssign=!!j.isAssign,this.prefix=!!j.prefix,this.postfix=!!j.postfix,this.binop=j.binop||null,this.updateContext=null};function _t(m,T){return new je(m,{beforeExpr:!0,binop:T})}var le={beforeExpr:!0},ae={startsExpr:!0},We={};function Ae(m,T){return void 0===T&&(T={}),T.keyword=m,We[m]=new je(m,T)}var Q={num:new je("num",ae),regexp:new je("regexp",ae),string:new je("string",ae),name:new je("name",ae),privateId:new je("privateId",ae),eof:new je("eof"),bracketL:new je("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new je("]"),braceL:new je("{",{beforeExpr:!0,startsExpr:!0}),braceR:new je("}"),parenL:new je("(",{beforeExpr:!0,startsExpr:!0}),parenR:new je(")"),comma:new je(",",le),semi:new je(";",le),colon:new je(":",le),dot:new je("."),question:new je("?",le),questionDot:new je("?."),arrow:new je("=>",le),template:new je("template"),invalidTemplate:new je("invalidTemplate"),ellipsis:new je("...",le),backQuote:new je("`",ae),dollarBraceL:new je("${",{beforeExpr:!0,startsExpr:!0}),eq:new je("=",{beforeExpr:!0,isAssign:!0}),assign:new je("_=",{beforeExpr:!0,isAssign:!0}),incDec:new je("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new je("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:_t("||",1),logicalAND:_t("&&",2),bitwiseOR:_t("|",3),bitwiseXOR:_t("^",4),bitwiseAND:_t("&",5),equality:_t("==/!=/===/!==",6),relational:_t("</>/<=/>=",7),bitShift:_t("<</>>/>>>",8),plusMin:new je("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:_t("%",10),star:_t("*",10),slash:_t("/",10),starstar:new je("**",{beforeExpr:!0}),coalesce:_t("??",1),_break:Ae("break"),_case:Ae("case",le),_catch:Ae("catch"),_continue:Ae("continue"),_debugger:Ae("debugger"),_default:Ae("default",le),_do:Ae("do",{isLoop:!0,beforeExpr:!0}),_else:Ae("else",le),_finally:Ae("finally"),_for:Ae("for",{isLoop:!0}),_function:Ae("function",ae),_if:Ae("if"),_return:Ae("return",le),_switch:Ae("switch"),_throw:Ae("throw",le),_try:Ae("try"),_var:Ae("var"),_const:Ae("const"),_while:Ae("while",{isLoop:!0}),_with:Ae("with"),_new:Ae("new",{beforeExpr:!0,startsExpr:!0}),_this:Ae("this",ae),_super:Ae("super",ae),_class:Ae("class",ae),_extends:Ae("extends",le),_export:Ae("export"),_import:Ae("import",ae),_null:Ae("null",ae),_true:Ae("true",ae),_false:Ae("false",ae),_in:Ae("in",{beforeExpr:!0,binop:7}),_instanceof:Ae("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ae("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ae("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ae("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},tt=/\r\n?|\n|\u2028|\u2029/,$t=new RegExp(tt.source,"g");function gt(m){return 10===m||13===m||8232===m||8233===m}function un(m,T,j){void 0===j&&(j=m.length);for(var G=T;G<j;G++){var ee=m.charCodeAt(G);if(gt(ee))return G<j-1&&13===ee&&10===m.charCodeAt(G+1)?G+2:G+1}return-1}var ct=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,et=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Un=Object.prototype,Nn=Un.hasOwnProperty,Cn=Un.toString,Rn=Object.hasOwn||function(m,T){return Nn.call(m,T)},fi=Array.isArray||function(m){return"[object Array]"===Cn.call(m)};function hn(m){return new RegExp("^(?:"+m.replace(/ /g,"|")+")$")}function Fe(m){return m<=65535?String.fromCharCode(m):(m-=65536,String.fromCharCode(55296+(m>>10),56320+(1023&m)))}var ot=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Re=function(T,j){this.line=T,this.column=j};Re.prototype.offset=function(T){return new Re(this.line,this.column+T)};var Pe=function(T,j,G){this.start=j,this.end=G,null!==T.sourceFile&&(this.source=T.sourceFile)};function Fn(m,T){for(var j=1,G=0;;){var ee=un(m,G,T);if(ee<0)return new Re(j,T-G);++j,G=ee}}var ht={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},bt=!1;function ai(m){var T={};for(var j in ht)T[j]=m&&Rn(m,j)?m[j]:ht[j];if("latest"===T.ecmaVersion?T.ecmaVersion=1e8:null==T.ecmaVersion?(!bt&&"object"==typeof console&&console.warn&&(bt=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),T.ecmaVersion=11):T.ecmaVersion>=2015&&(T.ecmaVersion-=2009),null==T.allowReserved&&(T.allowReserved=T.ecmaVersion<5),(!m||null==m.allowHashBang)&&(T.allowHashBang=T.ecmaVersion>=14),fi(T.onToken)){var G=T.onToken;T.onToken=function(ee){return G.push(ee)}}return fi(T.onComment)&&(T.onComment=function gn(m,T){return function(j,G,ee,me,be,Oe){var He={type:j?"Block":"Line",value:G,start:ee,end:me};m.locations&&(He.loc=new Pe(this,be,Oe)),m.ranges&&(He.range=[ee,me]),T.push(He)}}(T,T.onComment)),T}var Ei=2,Ze=4,sn=8,fn=257|Ei;function br(m,T){return Ei|(m?Ze:0)|(T?sn:0)}var mn=function(T,j,G){this.options=T=ai(T),this.sourceFile=T.sourceFile,this.keywords=hn(Dt[T.ecmaVersion>=6?6:"module"===T.sourceType?"5module":5]);var ee="";!0!==T.allowReserved&&(ee=Ie[T.ecmaVersion>=6?6:5===T.ecmaVersion?5:3],"module"===T.sourceType&&(ee+=" await")),this.reservedWords=hn(ee);var me=(ee?ee+" ":"")+Ie.strict;this.reservedWordsStrict=hn(me),this.reservedWordsStrictBind=hn(me+" "+Ie.strictBind),this.input=String(j),this.containsEsc=!1,G?(this.pos=G,this.lineStart=this.input.lastIndexOf("\n",G-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(tt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=Q.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===T.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&T.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},qt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};mn.prototype.parse=function(){var T=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(T)},qt.inFunction.get=function(){return(this.currentVarScope().flags&Ei)>0},qt.inGenerator.get=function(){return(this.currentVarScope().flags&sn)>0&&!this.currentVarScope().inClassFieldInit},qt.inAsync.get=function(){return(this.currentVarScope().flags&Ze)>0&&!this.currentVarScope().inClassFieldInit},qt.canAwait.get=function(){for(var m=this.scopeStack.length-1;m>=0;m--){var T=this.scopeStack[m];if(T.inClassFieldInit||256&T.flags)return!1;if(T.flags&Ei)return(T.flags&Ze)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},qt.allowSuper.get=function(){var m=this.currentThisScope();return(64&m.flags)>0||m.inClassFieldInit||this.options.allowSuperOutsideMethod},qt.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},qt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},qt.allowNewDotTarget.get=function(){var m=this.currentThisScope();return(m.flags&(256|Ei))>0||m.inClassFieldInit},qt.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},mn.extend=function(){for(var T=[],j=arguments.length;j--;)T[j]=arguments[j];for(var G=this,ee=0;ee<T.length;ee++)G=T[ee](G);return G},mn.parse=function(T,j){return new this(j,T).parse()},mn.parseExpressionAt=function(T,j,G){var ee=new this(G,T,j);return ee.nextToken(),ee.parseExpression()},mn.tokenizer=function(T,j){return new this(j,T)},Object.defineProperties(mn.prototype,qt);var Rt=mn.prototype,dn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Rt.strictDirective=function(m){if(this.options.ecmaVersion<5)return!1;for(;;){et.lastIndex=m,m+=et.exec(this.input)[0].length;var T=dn.exec(this.input.slice(m));if(!T)return!1;if("use strict"===(T[1]||T[2])){et.lastIndex=m+T[0].length;var j=et.exec(this.input),G=j.index+j[0].length,ee=this.input.charAt(G);return";"===ee||"}"===ee||tt.test(j[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(ee)||"!"===ee&&"="===this.input.charAt(G+1))}et.lastIndex=m+=T[0].length,m+=et.exec(this.input)[0].length,";"===this.input[m]&&m++}},Rt.eat=function(m){return this.type===m&&(this.next(),!0)},Rt.isContextual=function(m){return this.type===Q.name&&this.value===m&&!this.containsEsc},Rt.eatContextual=function(m){return!!this.isContextual(m)&&(this.next(),!0)},Rt.expectContextual=function(m){this.eatContextual(m)||this.unexpected()},Rt.canInsertSemicolon=function(){return this.type===Q.eof||this.type===Q.braceR||tt.test(this.input.slice(this.lastTokEnd,this.start))},Rt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Rt.semicolon=function(){!this.eat(Q.semi)&&!this.insertSemicolon()&&this.unexpected()},Rt.afterTrailingComma=function(m,T){if(this.type===m)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),T||this.next(),!0},Rt.expect=function(m){this.eat(m)||this.unexpected()},Rt.unexpected=function(m){this.raise(m??this.start,"Unexpected token")};var cn=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Rt.checkPatternErrors=function(m,T){if(m){m.trailingComma>-1&&this.raiseRecoverable(m.trailingComma,"Comma is not permitted after the rest element");var j=T?m.parenthesizedAssign:m.parenthesizedBind;j>-1&&this.raiseRecoverable(j,T?"Assigning to rvalue":"Parenthesized pattern")}},Rt.checkExpressionErrors=function(m,T){if(!m)return!1;var j=m.shorthandAssign,G=m.doubleProto;if(!T)return j>=0||G>=0;j>=0&&this.raise(j,"Shorthand property assignments are valid only in destructuring patterns"),G>=0&&this.raiseRecoverable(G,"Redefinition of __proto__ property")},Rt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Rt.isSimpleAssignTarget=function(m){return"ParenthesizedExpression"===m.type?this.isSimpleAssignTarget(m.expression):"Identifier"===m.type||"MemberExpression"===m.type};var Ve=mn.prototype;Ve.parseTopLevel=function(m){var T=Object.create(null);for(m.body||(m.body=[]);this.type!==Q.eof;){var j=this.parseStatement(null,!0,T);m.body.push(j)}if(this.inModule)for(var G=0,ee=Object.keys(this.undefinedExports);G<ee.length;G+=1){var me=ee[G];this.raiseRecoverable(this.undefinedExports[me].start,"Export '"+me+"' is not defined")}return this.adaptDirectivePrologue(m.body),this.next(),m.sourceType=this.options.sourceType,this.finishNode(m,"Program")};var u={kind:"loop"},r={kind:"switch"};Ve.isLet=function(m){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;et.lastIndex=this.pos;var T=et.exec(this.input),j=this.pos+T[0].length,G=this.input.charCodeAt(j);if(91===G||92===G)return!0;if(m)return!1;if(123===G||G>55295&&G<56320)return!0;if(Tn(G,!0)){for(var ee=j+1;pn(G=this.input.charCodeAt(ee),!0);)++ee;if(92===G||G>55295&&G<56320)return!0;var me=this.input.slice(j,ee);if(!ie.test(me))return!0}return!1},Ve.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;et.lastIndex=this.pos;var j,m=et.exec(this.input),T=this.pos+m[0].length;return!(tt.test(this.input.slice(this.pos,T))||"function"!==this.input.slice(T,T+8)||T+8!==this.input.length&&(pn(j=this.input.charCodeAt(T+8))||j>55295&&j<56320))},Ve.parseStatement=function(m,T,j){var me,G=this.type,ee=this.startNode();switch(this.isLet(m)&&(G=Q._var,me="let"),G){case Q._break:case Q._continue:return this.parseBreakContinueStatement(ee,G.keyword);case Q._debugger:return this.parseDebuggerStatement(ee);case Q._do:return this.parseDoStatement(ee);case Q._for:return this.parseForStatement(ee);case Q._function:return m&&(this.strict||"if"!==m&&"label"!==m)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(ee,!1,!m);case Q._class:return m&&this.unexpected(),this.parseClass(ee,!0);case Q._if:return this.parseIfStatement(ee);case Q._return:return this.parseReturnStatement(ee);case Q._switch:return this.parseSwitchStatement(ee);case Q._throw:return this.parseThrowStatement(ee);case Q._try:return this.parseTryStatement(ee);case Q._const:case Q._var:return me=me||this.value,m&&"var"!==me&&this.unexpected(),this.parseVarStatement(ee,me);case Q._while:return this.parseWhileStatement(ee);case Q._with:return this.parseWithStatement(ee);case Q.braceL:return this.parseBlock(!0,ee);case Q.semi:return this.parseEmptyStatement(ee);case Q._export:case Q._import:if(this.options.ecmaVersion>10&&G===Q._import){et.lastIndex=this.pos;var be=et.exec(this.input),He=this.input.charCodeAt(this.pos+be[0].length);if(40===He||46===He)return this.parseExpressionStatement(ee,this.parseExpression())}return this.options.allowImportExportEverywhere||(T||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),G===Q._import?this.parseImport(ee):this.parseExport(ee,j);default:if(this.isAsyncFunction())return m&&this.unexpected(),this.next(),this.parseFunctionStatement(ee,!0,!m);var st=this.value,Pt=this.parseExpression();return G===Q.name&&"Identifier"===Pt.type&&this.eat(Q.colon)?this.parseLabeledStatement(ee,st,Pt,m):this.parseExpressionStatement(ee,Pt)}},Ve.parseBreakContinueStatement=function(m,T){var j="break"===T;this.next(),this.eat(Q.semi)||this.insertSemicolon()?m.label=null:this.type!==Q.name?this.unexpected():(m.label=this.parseIdent(),this.semicolon());for(var G=0;G<this.labels.length;++G){var ee=this.labels[G];if((null==m.label||ee.name===m.label.name)&&(null!=ee.kind&&(j||"loop"===ee.kind)||m.label&&j))break}return G===this.labels.length&&this.raise(m.start,"Unsyntactic "+T),this.finishNode(m,j?"BreakStatement":"ContinueStatement")},Ve.parseDebuggerStatement=function(m){return this.next(),this.semicolon(),this.finishNode(m,"DebuggerStatement")},Ve.parseDoStatement=function(m){return this.next(),this.labels.push(u),m.body=this.parseStatement("do"),this.labels.pop(),this.expect(Q._while),m.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(Q.semi):this.semicolon(),this.finishNode(m,"DoWhileStatement")},Ve.parseForStatement=function(m){this.next();var T=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(u),this.enterScope(0),this.expect(Q.parenL),this.type===Q.semi)return T>-1&&this.unexpected(T),this.parseFor(m,null);var j=this.isLet();if(this.type===Q._var||this.type===Q._const||j){var G=this.startNode(),ee=j?"let":this.value;return this.next(),this.parseVar(G,!0,ee),this.finishNode(G,"VariableDeclaration"),(this.type===Q._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===G.declarations.length?(this.options.ecmaVersion>=9&&(this.type===Q._in?T>-1&&this.unexpected(T):m.await=T>-1),this.parseForIn(m,G)):(T>-1&&this.unexpected(T),this.parseFor(m,G))}var me=this.isContextual("let"),be=!1,Oe=new cn,He=this.parseExpression(!(T>-1)||"await",Oe);return this.type===Q._in||(be=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===Q._in?T>-1&&this.unexpected(T):m.await=T>-1),me&&be&&this.raise(He.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(He,!1,Oe),this.checkLValPattern(He),this.parseForIn(m,He)):(this.checkExpressionErrors(Oe,!0),T>-1&&this.unexpected(T),this.parseFor(m,He))},Ve.parseFunctionStatement=function(m,T,j){return this.next(),this.parseFunction(m,a|(j?0:c),!1,T)},Ve.parseIfStatement=function(m){return this.next(),m.test=this.parseParenExpression(),m.consequent=this.parseStatement("if"),m.alternate=this.eat(Q._else)?this.parseStatement("if"):null,this.finishNode(m,"IfStatement")},Ve.parseReturnStatement=function(m){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(Q.semi)||this.insertSemicolon()?m.argument=null:(m.argument=this.parseExpression(),this.semicolon()),this.finishNode(m,"ReturnStatement")},Ve.parseSwitchStatement=function(m){this.next(),m.discriminant=this.parseParenExpression(),m.cases=[],this.expect(Q.braceL),this.labels.push(r),this.enterScope(0);for(var T,j=!1;this.type!==Q.braceR;)if(this.type===Q._case||this.type===Q._default){var G=this.type===Q._case;T&&this.finishNode(T,"SwitchCase"),m.cases.push(T=this.startNode()),T.consequent=[],this.next(),G?T.test=this.parseExpression():(j&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),j=!0,T.test=null),this.expect(Q.colon)}else T||this.unexpected(),T.consequent.push(this.parseStatement(null));return this.exitScope(),T&&this.finishNode(T,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(m,"SwitchStatement")},Ve.parseThrowStatement=function(m){return this.next(),tt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),m.argument=this.parseExpression(),this.semicolon(),this.finishNode(m,"ThrowStatement")};var s=[];Ve.parseTryStatement=function(m){if(this.next(),m.block=this.parseBlock(),m.handler=null,this.type===Q._catch){var T=this.startNode();if(this.next(),this.eat(Q.parenL)){T.param=this.parseBindingAtom();var j="Identifier"===T.param.type;this.enterScope(j?32:0),this.checkLValPattern(T.param,j?4:2),this.expect(Q.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),T.param=null,this.enterScope(0);T.body=this.parseBlock(!1),this.exitScope(),m.handler=this.finishNode(T,"CatchClause")}return m.finalizer=this.eat(Q._finally)?this.parseBlock():null,!m.handler&&!m.finalizer&&this.raise(m.start,"Missing catch or finally clause"),this.finishNode(m,"TryStatement")},Ve.parseVarStatement=function(m,T){return this.next(),this.parseVar(m,!1,T),this.semicolon(),this.finishNode(m,"VariableDeclaration")},Ve.parseWhileStatement=function(m){return this.next(),m.test=this.parseParenExpression(),this.labels.push(u),m.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(m,"WhileStatement")},Ve.parseWithStatement=function(m){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),m.object=this.parseParenExpression(),m.body=this.parseStatement("with"),this.finishNode(m,"WithStatement")},Ve.parseEmptyStatement=function(m){return this.next(),this.finishNode(m,"EmptyStatement")},Ve.parseLabeledStatement=function(m,T,j,G){for(var ee=0,me=this.labels;ee<me.length;ee+=1)me[ee].name===T&&this.raise(j.start,"Label '"+T+"' is already declared");for(var Oe=this.type.isLoop?"loop":this.type===Q._switch?"switch":null,He=this.labels.length-1;He>=0;He--){var st=this.labels[He];if(st.statementStart!==m.start)break;st.statementStart=this.start,st.kind=Oe}return this.labels.push({name:T,kind:Oe,statementStart:this.start}),m.body=this.parseStatement(G?-1===G.indexOf("label")?G+"label":G:"label"),this.labels.pop(),m.label=j,this.finishNode(m,"LabeledStatement")},Ve.parseExpressionStatement=function(m,T){return m.expression=T,this.semicolon(),this.finishNode(m,"ExpressionStatement")},Ve.parseBlock=function(m,T,j){for(void 0===m&&(m=!0),void 0===T&&(T=this.startNode()),T.body=[],this.expect(Q.braceL),m&&this.enterScope(0);this.type!==Q.braceR;){var G=this.parseStatement(null);T.body.push(G)}return j&&(this.strict=!1),this.next(),m&&this.exitScope(),this.finishNode(T,"BlockStatement")},Ve.parseFor=function(m,T){return m.init=T,this.expect(Q.semi),m.test=this.type===Q.semi?null:this.parseExpression(),this.expect(Q.semi),m.update=this.type===Q.parenR?null:this.parseExpression(),this.expect(Q.parenR),m.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(m,"ForStatement")},Ve.parseForIn=function(m,T){var j=this.type===Q._in;return this.next(),"VariableDeclaration"===T.type&&null!=T.declarations[0].init&&(!j||this.options.ecmaVersion<8||this.strict||"var"!==T.kind||"Identifier"!==T.declarations[0].id.type)&&this.raise(T.start,(j?"for-in":"for-of")+" loop variable declaration may not have an initializer"),m.left=T,m.right=j?this.parseExpression():this.parseMaybeAssign(),this.expect(Q.parenR),m.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(m,j?"ForInStatement":"ForOfStatement")},Ve.parseVar=function(m,T,j){for(m.declarations=[],m.kind=j;;){var G=this.startNode();if(this.parseVarId(G,j),this.eat(Q.eq)?G.init=this.parseMaybeAssign(T):"const"!==j||this.type===Q._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===G.id.type||T&&(this.type===Q._in||this.isContextual("of"))?G.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),m.declarations.push(this.finishNode(G,"VariableDeclarator")),!this.eat(Q.comma))break}return m},Ve.parseVarId=function(m,T){m.id=this.parseBindingAtom(),this.checkLValPattern(m.id,"var"===T?1:2,!1)};var a=1,c=2;function d(m,T){var j=T.key.name,G=m[j],ee="true";return"MethodDefinition"===T.type&&("get"===T.kind||"set"===T.kind)&&(ee=(T.static?"s":"i")+T.kind),"iget"===G&&"iset"===ee||"iset"===G&&"iget"===ee||"sget"===G&&"sset"===ee||"sset"===G&&"sget"===ee?(m[j]="true",!1):!!G||(m[j]=ee,!1)}function p(m,T){var G=m.key;return!m.computed&&("Identifier"===G.type&&G.name===T||"Literal"===G.type&&G.value===T)}Ve.parseFunction=function(m,T,j,G,ee){this.initFunction(m),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!G)&&(this.type===Q.star&&T&c&&this.unexpected(),m.generator=this.eat(Q.star)),this.options.ecmaVersion>=8&&(m.async=!!G),T&a&&(m.id=4&T&&this.type!==Q.name?null:this.parseIdent(),m.id&&!(T&c)&&this.checkLValSimple(m.id,this.strict||m.generator||m.async?this.treatFunctionsAsVar?1:2:3));var me=this.yieldPos,be=this.awaitPos,Oe=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(br(m.async,m.generator)),T&a||(m.id=this.type===Q.name?this.parseIdent():null),this.parseFunctionParams(m),this.parseFunctionBody(m,j,!1,ee),this.yieldPos=me,this.awaitPos=be,this.awaitIdentPos=Oe,this.finishNode(m,T&a?"FunctionDeclaration":"FunctionExpression")},Ve.parseFunctionParams=function(m){this.expect(Q.parenL),m.params=this.parseBindingList(Q.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Ve.parseClass=function(m,T){this.next();var j=this.strict;this.strict=!0,this.parseClassId(m,T),this.parseClassSuper(m);var G=this.enterClassBody(),ee=this.startNode(),me=!1;for(ee.body=[],this.expect(Q.braceL);this.type!==Q.braceR;){var be=this.parseClassElement(null!==m.superClass);be&&(ee.body.push(be),"MethodDefinition"===be.type&&"constructor"===be.kind?(me&&this.raise(be.start,"Duplicate constructor in the same class"),me=!0):be.key&&"PrivateIdentifier"===be.key.type&&d(G,be)&&this.raiseRecoverable(be.key.start,"Identifier '#"+be.key.name+"' has already been declared"))}return this.strict=j,this.next(),m.body=this.finishNode(ee,"ClassBody"),this.exitClassBody(),this.finishNode(m,T?"ClassDeclaration":"ClassExpression")},Ve.parseClassElement=function(m){if(this.eat(Q.semi))return null;var T=this.options.ecmaVersion,j=this.startNode(),G="",ee=!1,me=!1,be="method",Oe=!1;if(this.eatContextual("static")){if(T>=13&&this.eat(Q.braceL))return this.parseClassStaticBlock(j),j;this.isClassElementNameStart()||this.type===Q.star?Oe=!0:G="static"}if(j.static=Oe,!G&&T>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==Q.star||this.canInsertSemicolon()?G="async":me=!0),!G&&(T>=9||!me)&&this.eat(Q.star)&&(ee=!0),!G&&!me&&!ee){var He=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?be=He:G=He)}if(G?(j.computed=!1,j.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),j.key.name=G,this.finishNode(j.key,"Identifier")):this.parseClassElementName(j),T<13||this.type===Q.parenL||"method"!==be||ee||me){var st=!j.static&&p(j,"constructor"),Pt=st&&m;st&&"method"!==be&&this.raise(j.key.start,"Constructor can't have get/set modifier"),j.kind=st?"constructor":be,this.parseClassMethod(j,ee,me,Pt)}else this.parseClassField(j);return j},Ve.isClassElementNameStart=function(){return this.type===Q.name||this.type===Q.privateId||this.type===Q.num||this.type===Q.string||this.type===Q.bracketL||this.type.keyword},Ve.parseClassElementName=function(m){this.type===Q.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),m.computed=!1,m.key=this.parsePrivateIdent()):this.parsePropertyName(m)},Ve.parseClassMethod=function(m,T,j,G){var ee=m.key;"constructor"===m.kind?(T&&this.raise(ee.start,"Constructor can't be a generator"),j&&this.raise(ee.start,"Constructor can't be an async method")):m.static&&p(m,"prototype")&&this.raise(ee.start,"Classes may not have a static property named prototype");var me=m.value=this.parseMethod(T,j,G);return"get"===m.kind&&0!==me.params.length&&this.raiseRecoverable(me.start,"getter should have no params"),"set"===m.kind&&1!==me.params.length&&this.raiseRecoverable(me.start,"setter should have exactly one param"),"set"===m.kind&&"RestElement"===me.params[0].type&&this.raiseRecoverable(me.params[0].start,"Setter cannot use rest params"),this.finishNode(m,"MethodDefinition")},Ve.parseClassField=function(m){if(p(m,"constructor")?this.raise(m.key.start,"Classes can't have a field named 'constructor'"):m.static&&p(m,"prototype")&&this.raise(m.key.start,"Classes can't have a static field named 'prototype'"),this.eat(Q.eq)){var T=this.currentThisScope(),j=T.inClassFieldInit;T.inClassFieldInit=!0,m.value=this.parseMaybeAssign(),T.inClassFieldInit=j}else m.value=null;return this.semicolon(),this.finishNode(m,"PropertyDefinition")},Ve.parseClassStaticBlock=function(m){m.body=[];var T=this.labels;for(this.labels=[],this.enterScope(320);this.type!==Q.braceR;){var j=this.parseStatement(null);m.body.push(j)}return this.next(),this.exitScope(),this.labels=T,this.finishNode(m,"StaticBlock")},Ve.parseClassId=function(m,T){this.type===Q.name?(m.id=this.parseIdent(),T&&this.checkLValSimple(m.id,2,!1)):(!0===T&&this.unexpected(),m.id=null)},Ve.parseClassSuper=function(m){m.superClass=this.eat(Q._extends)?this.parseExprSubscripts(null,!1):null},Ve.enterClassBody=function(){var m={declared:Object.create(null),used:[]};return this.privateNameStack.push(m),m.declared},Ve.exitClassBody=function(){for(var m=this.privateNameStack.pop(),T=m.declared,j=m.used,G=this.privateNameStack.length,ee=0===G?null:this.privateNameStack[G-1],me=0;me<j.length;++me){var be=j[me];Rn(T,be.name)||(ee?ee.used.push(be):this.raiseRecoverable(be.start,"Private field '#"+be.name+"' must be declared in an enclosing class"))}},Ve.parseExport=function(m,T){if(this.next(),this.eat(Q.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(m.exported=this.parseModuleExportName(),this.checkExport(T,m.exported,this.lastTokStart)):m.exported=null),this.expectContextual("from"),this.type!==Q.string&&this.unexpected(),m.source=this.parseExprAtom(),this.semicolon(),this.finishNode(m,"ExportAllDeclaration");if(this.eat(Q._default)){var j;if(this.checkExport(T,"default",this.lastTokStart),this.type===Q._function||(j=this.isAsyncFunction())){var G=this.startNode();this.next(),j&&this.next(),m.declaration=this.parseFunction(G,4|a,!1,j)}else if(this.type===Q._class){var ee=this.startNode();m.declaration=this.parseClass(ee,"nullableID")}else m.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(m,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())m.declaration=this.parseStatement(null),"VariableDeclaration"===m.declaration.type?this.checkVariableExport(T,m.declaration.declarations):this.checkExport(T,m.declaration.id,m.declaration.id.start),m.specifiers=[],m.source=null;else{if(m.declaration=null,m.specifiers=this.parseExportSpecifiers(T),this.eatContextual("from"))this.type!==Q.string&&this.unexpected(),m.source=this.parseExprAtom();else{for(var me=0,be=m.specifiers;me<be.length;me+=1){var Oe=be[me];this.checkUnreserved(Oe.local),this.checkLocalExport(Oe.local),"Literal"===Oe.local.type&&this.raise(Oe.local.start,"A string literal cannot be used as an exported binding without `from`.")}m.source=null}this.semicolon()}return this.finishNode(m,"ExportNamedDeclaration")},Ve.checkExport=function(m,T,j){m&&("string"!=typeof T&&(T="Identifier"===T.type?T.name:T.value),Rn(m,T)&&this.raiseRecoverable(j,"Duplicate export '"+T+"'"),m[T]=!0)},Ve.checkPatternExport=function(m,T){var j=T.type;if("Identifier"===j)this.checkExport(m,T,T.start);else if("ObjectPattern"===j)for(var G=0,ee=T.properties;G<ee.length;G+=1)this.checkPatternExport(m,ee[G]);else if("ArrayPattern"===j)for(var be=0,Oe=T.elements;be<Oe.length;be+=1){var He=Oe[be];He&&this.checkPatternExport(m,He)}else"Property"===j?this.checkPatternExport(m,T.value):"AssignmentPattern"===j?this.checkPatternExport(m,T.left):"RestElement"===j?this.checkPatternExport(m,T.argument):"ParenthesizedExpression"===j&&this.checkPatternExport(m,T.expression)},Ve.checkVariableExport=function(m,T){if(m)for(var j=0,G=T;j<G.length;j+=1)this.checkPatternExport(m,G[j].id)},Ve.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Ve.parseExportSpecifiers=function(m){var T=[],j=!0;for(this.expect(Q.braceL);!this.eat(Q.braceR);){if(j)j=!1;else if(this.expect(Q.comma),this.afterTrailingComma(Q.braceR))break;var G=this.startNode();G.local=this.parseModuleExportName(),G.exported=this.eatContextual("as")?this.parseModuleExportName():G.local,this.checkExport(m,G.exported,G.exported.start),T.push(this.finishNode(G,"ExportSpecifier"))}return T},Ve.parseImport=function(m){return this.next(),this.type===Q.string?(m.specifiers=s,m.source=this.parseExprAtom()):(m.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),m.source=this.type===Q.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(m,"ImportDeclaration")},Ve.parseImportSpecifiers=function(){var m=[],T=!0;if(this.type===Q.name){var j=this.startNode();if(j.local=this.parseIdent(),this.checkLValSimple(j.local,2),m.push(this.finishNode(j,"ImportDefaultSpecifier")),!this.eat(Q.comma))return m}if(this.type===Q.star){var G=this.startNode();return this.next(),this.expectContextual("as"),G.local=this.parseIdent(),this.checkLValSimple(G.local,2),m.push(this.finishNode(G,"ImportNamespaceSpecifier")),m}for(this.expect(Q.braceL);!this.eat(Q.braceR);){if(T)T=!1;else if(this.expect(Q.comma),this.afterTrailingComma(Q.braceR))break;var ee=this.startNode();ee.imported=this.parseModuleExportName(),this.eatContextual("as")?ee.local=this.parseIdent():(this.checkUnreserved(ee.imported),ee.local=ee.imported),this.checkLValSimple(ee.local,2),m.push(this.finishNode(ee,"ImportSpecifier"))}return m},Ve.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===Q.string){var m=this.parseLiteral(this.value);return ot.test(m.value)&&this.raise(m.start,"An export name cannot include a lone surrogate."),m}return this.parseIdent(!0)},Ve.adaptDirectivePrologue=function(m){for(var T=0;T<m.length&&this.isDirectiveCandidate(m[T]);++T)m[T].directive=m[T].expression.raw.slice(1,-1)},Ve.isDirectiveCandidate=function(m){return this.options.ecmaVersion>=5&&"ExpressionStatement"===m.type&&"Literal"===m.expression.type&&"string"==typeof m.expression.value&&('"'===this.input[m.start]||"'"===this.input[m.start])};var g=mn.prototype;g.toAssignable=function(m,T,j){if(this.options.ecmaVersion>=6&&m)switch(m.type){case"Identifier":this.inAsync&&"await"===m.name&&this.raise(m.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":m.type="ObjectPattern",j&&this.checkPatternErrors(j,!0);for(var G=0,ee=m.properties;G<ee.length;G+=1){var me=ee[G];this.toAssignable(me,T),"RestElement"===me.type&&("ArrayPattern"===me.argument.type||"ObjectPattern"===me.argument.type)&&this.raise(me.argument.start,"Unexpected token")}break;case"Property":"init"!==m.kind&&this.raise(m.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(m.value,T);break;case"ArrayExpression":m.type="ArrayPattern",j&&this.checkPatternErrors(j,!0),this.toAssignableList(m.elements,T);break;case"SpreadElement":m.type="RestElement",this.toAssignable(m.argument,T),"AssignmentPattern"===m.argument.type&&this.raise(m.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==m.operator&&this.raise(m.left.end,"Only '=' operator can be used for specifying default value."),m.type="AssignmentPattern",delete m.operator,this.toAssignable(m.left,T);break;case"ParenthesizedExpression":this.toAssignable(m.expression,T,j);break;case"ChainExpression":this.raiseRecoverable(m.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!T)break;default:this.raise(m.start,"Assigning to rvalue")}else j&&this.checkPatternErrors(j,!0);return m},g.toAssignableList=function(m,T){for(var j=m.length,G=0;G<j;G++){var ee=m[G];ee&&this.toAssignable(ee,T)}if(j){var me=m[j-1];6===this.options.ecmaVersion&&T&&me&&"RestElement"===me.type&&"Identifier"!==me.argument.type&&this.unexpected(me.argument.start)}return m},g.parseSpread=function(m){var T=this.startNode();return this.next(),T.argument=this.parseMaybeAssign(!1,m),this.finishNode(T,"SpreadElement")},g.parseRestBinding=function(){var m=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==Q.name&&this.unexpected(),m.argument=this.parseBindingAtom(),this.finishNode(m,"RestElement")},g.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case Q.bracketL:var m=this.startNode();return this.next(),m.elements=this.parseBindingList(Q.bracketR,!0,!0),this.finishNode(m,"ArrayPattern");case Q.braceL:return this.parseObj(!0)}return this.parseIdent()},g.parseBindingList=function(m,T,j){for(var G=[],ee=!0;!this.eat(m);)if(ee?ee=!1:this.expect(Q.comma),T&&this.type===Q.comma)G.push(null);else{if(j&&this.afterTrailingComma(m))break;if(this.type===Q.ellipsis){var me=this.parseRestBinding();this.parseBindingListItem(me),G.push(me),this.type===Q.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(m);break}var be=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(be),G.push(be)}return G},g.parseBindingListItem=function(m){return m},g.parseMaybeDefault=function(m,T,j){if(j=j||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(Q.eq))return j;var G=this.startNodeAt(m,T);return G.left=j,G.right=this.parseMaybeAssign(),this.finishNode(G,"AssignmentPattern")},g.checkLValSimple=function(m,T,j){void 0===T&&(T=0);var G=0!==T;switch(m.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(m.name)&&this.raiseRecoverable(m.start,(G?"Binding ":"Assigning to ")+m.name+" in strict mode"),G&&(2===T&&"let"===m.name&&this.raiseRecoverable(m.start,"let is disallowed as a lexically bound name"),j&&(Rn(j,m.name)&&this.raiseRecoverable(m.start,"Argument name clash"),j[m.name]=!0),5!==T&&this.declareName(m.name,T,m.start));break;case"ChainExpression":this.raiseRecoverable(m.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":G&&this.raiseRecoverable(m.start,"Binding member expression");break;case"ParenthesizedExpression":return G&&this.raiseRecoverable(m.start,"Binding parenthesized expression"),this.checkLValSimple(m.expression,T,j);default:this.raise(m.start,(G?"Binding":"Assigning to")+" rvalue")}},g.checkLValPattern=function(m,T,j){switch(void 0===T&&(T=0),m.type){case"ObjectPattern":for(var G=0,ee=m.properties;G<ee.length;G+=1)this.checkLValInnerPattern(ee[G],T,j);break;case"ArrayPattern":for(var be=0,Oe=m.elements;be<Oe.length;be+=1){var He=Oe[be];He&&this.checkLValInnerPattern(He,T,j)}break;default:this.checkLValSimple(m,T,j)}},g.checkLValInnerPattern=function(m,T,j){switch(void 0===T&&(T=0),m.type){case"Property":this.checkLValInnerPattern(m.value,T,j);break;case"AssignmentPattern":this.checkLValPattern(m.left,T,j);break;case"RestElement":this.checkLValPattern(m.argument,T,j);break;default:this.checkLValPattern(m,T,j)}};var v=function(T,j,G,ee,me){this.token=T,this.isExpr=!!j,this.preserveSpace=!!G,this.override=ee,this.generator=!!me},y={b_stat:new v("{",!1),b_expr:new v("{",!0),b_tmpl:new v("${",!1),p_stat:new v("(",!1),p_expr:new v("(",!0),q_tmpl:new v("`",!0,!0,function(m){return m.tryReadTemplateToken()}),f_stat:new v("function",!1),f_expr:new v("function",!0),f_expr_gen:new v("function",!0,!1,null,!0),f_gen:new v("function",!1,!1,null,!0)},S=mn.prototype;S.initialContext=function(){return[y.b_stat]},S.curContext=function(){return this.context[this.context.length-1]},S.braceIsBlock=function(m){var T=this.curContext();return T===y.f_expr||T===y.f_stat||(m!==Q.colon||T!==y.b_stat&&T!==y.b_expr?m===Q._return||m===Q.name&&this.exprAllowed?tt.test(this.input.slice(this.lastTokEnd,this.start)):m===Q._else||m===Q.semi||m===Q.eof||m===Q.parenR||m===Q.arrow||(m===Q.braceL?T===y.b_stat:m!==Q._var&&m!==Q._const&&m!==Q.name&&!this.exprAllowed):!T.isExpr)},S.inGeneratorContext=function(){for(var m=this.context.length-1;m>=1;m--){var T=this.context[m];if("function"===T.token)return T.generator}return!1},S.updateContext=function(m){var T,j=this.type;j.keyword&&m===Q.dot?this.exprAllowed=!1:(T=j.updateContext)?T.call(this,m):this.exprAllowed=j.beforeExpr},S.overrideContext=function(m){this.curContext()!==m&&(this.context[this.context.length-1]=m)},Q.parenR.updateContext=Q.braceR.updateContext=function(){if(1!==this.context.length){var m=this.context.pop();m===y.b_stat&&"function"===this.curContext().token&&(m=this.context.pop()),this.exprAllowed=!m.isExpr}else this.exprAllowed=!0},Q.braceL.updateContext=function(m){this.context.push(this.braceIsBlock(m)?y.b_stat:y.b_expr),this.exprAllowed=!0},Q.dollarBraceL.updateContext=function(){this.context.push(y.b_tmpl),this.exprAllowed=!0},Q.parenL.updateContext=function(m){this.context.push(m===Q._if||m===Q._for||m===Q._with||m===Q._while?y.p_stat:y.p_expr),this.exprAllowed=!0},Q.incDec.updateContext=function(){},Q._function.updateContext=Q._class.updateContext=function(m){!m.beforeExpr||m===Q._else||m===Q.semi&&this.curContext()!==y.p_stat||m===Q._return&&tt.test(this.input.slice(this.lastTokEnd,this.start))||(m===Q.colon||m===Q.braceL)&&this.curContext()===y.b_stat?this.context.push(y.f_stat):this.context.push(y.f_expr),this.exprAllowed=!1},Q.backQuote.updateContext=function(){this.curContext()===y.q_tmpl?this.context.pop():this.context.push(y.q_tmpl),this.exprAllowed=!1},Q.star.updateContext=function(m){if(m===Q._function){var T=this.context.length-1;this.context[T]=this.context[T]===y.f_expr?y.f_expr_gen:y.f_gen}this.exprAllowed=!0},Q.name.updateContext=function(m){var T=!1;this.options.ecmaVersion>=6&&m!==Q.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(T=!0),this.exprAllowed=T};var b=mn.prototype;function C(m){return"MemberExpression"===m.type&&"PrivateIdentifier"===m.property.type||"ChainExpression"===m.type&&C(m.expression)}b.checkPropClash=function(m,T,j){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===m.type||this.options.ecmaVersion>=6&&(m.computed||m.method||m.shorthand))){var ee,G=m.key;switch(G.type){case"Identifier":ee=G.name;break;case"Literal":ee=String(G.value);break;default:return}var me=m.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===ee&&"init"===me&&(T.proto&&(j?j.doubleProto<0&&(j.doubleProto=G.start):this.raiseRecoverable(G.start,"Redefinition of __proto__ property")),T.proto=!0));var be=T[ee="$"+ee];be?("init"===me?this.strict&&be.init||be.get||be.set:be.init||be[me])&&this.raiseRecoverable(G.start,"Redefinition of property"):be=T[ee]={init:!1,get:!1,set:!1},be[me]=!0}},b.parseExpression=function(m,T){var j=this.start,G=this.startLoc,ee=this.parseMaybeAssign(m,T);if(this.type===Q.comma){var me=this.startNodeAt(j,G);for(me.expressions=[ee];this.eat(Q.comma);)me.expressions.push(this.parseMaybeAssign(m,T));return this.finishNode(me,"SequenceExpression")}return ee},b.parseMaybeAssign=function(m,T,j){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(m);this.exprAllowed=!1}var G=!1,ee=-1,me=-1,be=-1;T?(ee=T.parenthesizedAssign,me=T.trailingComma,be=T.doubleProto,T.parenthesizedAssign=T.trailingComma=-1):(T=new cn,G=!0);var Oe=this.start,He=this.startLoc;(this.type===Q.parenL||this.type===Q.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===m);var st=this.parseMaybeConditional(m,T);if(j&&(st=j.call(this,st,Oe,He)),this.type.isAssign){var Pt=this.startNodeAt(Oe,He);return Pt.operator=this.value,this.type===Q.eq&&(st=this.toAssignable(st,!1,T)),G||(T.parenthesizedAssign=T.trailingComma=T.doubleProto=-1),T.shorthandAssign>=st.start&&(T.shorthandAssign=-1),this.type===Q.eq?this.checkLValPattern(st):this.checkLValSimple(st),Pt.left=st,this.next(),Pt.right=this.parseMaybeAssign(m),be>-1&&(T.doubleProto=be),this.finishNode(Pt,"AssignmentExpression")}return G&&this.checkExpressionErrors(T,!0),ee>-1&&(T.parenthesizedAssign=ee),me>-1&&(T.trailingComma=me),st},b.parseMaybeConditional=function(m,T){var j=this.start,G=this.startLoc,ee=this.parseExprOps(m,T);if(this.checkExpressionErrors(T))return ee;if(this.eat(Q.question)){var me=this.startNodeAt(j,G);return me.test=ee,me.consequent=this.parseMaybeAssign(),this.expect(Q.colon),me.alternate=this.parseMaybeAssign(m),this.finishNode(me,"ConditionalExpression")}return ee},b.parseExprOps=function(m,T){var j=this.start,G=this.startLoc,ee=this.parseMaybeUnary(T,!1,!1,m);return this.checkExpressionErrors(T)||ee.start===j&&"ArrowFunctionExpression"===ee.type?ee:this.parseExprOp(ee,j,G,-1,m)},b.parseExprOp=function(m,T,j,G,ee){var me=this.type.binop;if(null!=me&&(!ee||this.type!==Q._in)&&me>G){var be=this.type===Q.logicalOR||this.type===Q.logicalAND,Oe=this.type===Q.coalesce;Oe&&(me=Q.logicalAND.binop);var He=this.value;this.next();var st=this.start,Pt=this.startLoc,Sn=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,ee),st,Pt,me,ee),vi=this.buildBinary(T,j,m,Sn,He,be||Oe);return(be&&this.type===Q.coalesce||Oe&&(this.type===Q.logicalOR||this.type===Q.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(vi,T,j,G,ee)}return m},b.buildBinary=function(m,T,j,G,ee,me){"PrivateIdentifier"===G.type&&this.raise(G.start,"Private identifier can only be left side of binary expression");var be=this.startNodeAt(m,T);return be.left=j,be.operator=ee,be.right=G,this.finishNode(be,me?"LogicalExpression":"BinaryExpression")},b.parseMaybeUnary=function(m,T,j,G){var be,ee=this.start,me=this.startLoc;if(this.isContextual("await")&&this.canAwait)be=this.parseAwait(G),T=!0;else if(this.type.prefix){var Oe=this.startNode(),He=this.type===Q.incDec;Oe.operator=this.value,Oe.prefix=!0,this.next(),Oe.argument=this.parseMaybeUnary(null,!0,He,G),this.checkExpressionErrors(m,!0),He?this.checkLValSimple(Oe.argument):this.strict&&"delete"===Oe.operator&&"Identifier"===Oe.argument.type?this.raiseRecoverable(Oe.start,"Deleting local variable in strict mode"):"delete"===Oe.operator&&C(Oe.argument)?this.raiseRecoverable(Oe.start,"Private fields can not be deleted"):T=!0,be=this.finishNode(Oe,He?"UpdateExpression":"UnaryExpression")}else if(T||this.type!==Q.privateId){if(be=this.parseExprSubscripts(m,G),this.checkExpressionErrors(m))return be;for(;this.type.postfix&&!this.canInsertSemicolon();){var st=this.startNodeAt(ee,me);st.operator=this.value,st.prefix=!1,st.argument=be,this.checkLValSimple(be),this.next(),be=this.finishNode(st,"UpdateExpression")}}else(G||0===this.privateNameStack.length)&&this.unexpected(),be=this.parsePrivateIdent(),this.type!==Q._in&&this.unexpected();return j||!this.eat(Q.starstar)?be:T?void this.unexpected(this.lastTokStart):this.buildBinary(ee,me,be,this.parseMaybeUnary(null,!1,!1,G),"**",!1)},b.parseExprSubscripts=function(m,T){var j=this.start,G=this.startLoc,ee=this.parseExprAtom(m,T);if("ArrowFunctionExpression"===ee.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return ee;var me=this.parseSubscripts(ee,j,G,!1,T);return m&&"MemberExpression"===me.type&&(m.parenthesizedAssign>=me.start&&(m.parenthesizedAssign=-1),m.parenthesizedBind>=me.start&&(m.parenthesizedBind=-1),m.trailingComma>=me.start&&(m.trailingComma=-1)),me},b.parseSubscripts=function(m,T,j,G,ee){for(var me=this.options.ecmaVersion>=8&&"Identifier"===m.type&&"async"===m.name&&this.lastTokEnd===m.end&&!this.canInsertSemicolon()&&m.end-m.start==5&&this.potentialArrowAt===m.start,be=!1;;){var Oe=this.parseSubscript(m,T,j,G,me,be,ee);if(Oe.optional&&(be=!0),Oe===m||"ArrowFunctionExpression"===Oe.type){if(be){var He=this.startNodeAt(T,j);He.expression=Oe,Oe=this.finishNode(He,"ChainExpression")}return Oe}m=Oe}},b.parseSubscript=function(m,T,j,G,ee,me,be){var Oe=this.options.ecmaVersion>=11,He=Oe&&this.eat(Q.questionDot);G&&He&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var st=this.eat(Q.bracketL);if(st||He&&this.type!==Q.parenL&&this.type!==Q.backQuote||this.eat(Q.dot)){var Pt=this.startNodeAt(T,j);Pt.object=m,st?(Pt.property=this.parseExpression(),this.expect(Q.bracketR)):Pt.property=this.type===Q.privateId&&"Super"!==m.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),Pt.computed=!!st,Oe&&(Pt.optional=He),m=this.finishNode(Pt,"MemberExpression")}else if(!G&&this.eat(Q.parenL)){var Sn=new cn,vi=this.yieldPos,En=this.awaitPos,ti=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Di=this.parseExprList(Q.parenR,this.options.ecmaVersion>=8,!1,Sn);if(ee&&!He&&!this.canInsertSemicolon()&&this.eat(Q.arrow))return this.checkPatternErrors(Sn,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=vi,this.awaitPos=En,this.awaitIdentPos=ti,this.parseArrowExpression(this.startNodeAt(T,j),Di,!0,be);this.checkExpressionErrors(Sn,!0),this.yieldPos=vi||this.yieldPos,this.awaitPos=En||this.awaitPos,this.awaitIdentPos=ti||this.awaitIdentPos;var ui=this.startNodeAt(T,j);ui.callee=m,ui.arguments=Di,Oe&&(ui.optional=He),m=this.finishNode(ui,"CallExpression")}else if(this.type===Q.backQuote){(He||me)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ri=this.startNodeAt(T,j);Ri.tag=m,Ri.quasi=this.parseTemplate({isTagged:!0}),m=this.finishNode(Ri,"TaggedTemplateExpression")}return m},b.parseExprAtom=function(m,T){this.type===Q.slash&&this.readRegexp();var j,G=this.potentialArrowAt===this.start;switch(this.type){case Q._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),j=this.startNode(),this.next(),this.type===Q.parenL&&!this.allowDirectSuper&&this.raise(j.start,"super() call outside constructor of a subclass"),this.type!==Q.dot&&this.type!==Q.bracketL&&this.type!==Q.parenL&&this.unexpected(),this.finishNode(j,"Super");case Q._this:return j=this.startNode(),this.next(),this.finishNode(j,"ThisExpression");case Q.name:var ee=this.start,me=this.startLoc,be=this.containsEsc,Oe=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!be&&"async"===Oe.name&&!this.canInsertSemicolon()&&this.eat(Q._function))return this.overrideContext(y.f_expr),this.parseFunction(this.startNodeAt(ee,me),0,!1,!0,T);if(G&&!this.canInsertSemicolon()){if(this.eat(Q.arrow))return this.parseArrowExpression(this.startNodeAt(ee,me),[Oe],!1,T);if(this.options.ecmaVersion>=8&&"async"===Oe.name&&this.type===Q.name&&!be&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return Oe=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(Q.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(ee,me),[Oe],!0,T)}return Oe;case Q.regexp:var He=this.value;return(j=this.parseLiteral(He.value)).regex={pattern:He.pattern,flags:He.flags},j;case Q.num:case Q.string:return this.parseLiteral(this.value);case Q._null:case Q._true:case Q._false:return(j=this.startNode()).value=this.type===Q._null?null:this.type===Q._true,j.raw=this.type.keyword,this.next(),this.finishNode(j,"Literal");case Q.parenL:var st=this.start,Pt=this.parseParenAndDistinguishExpression(G,T);return m&&(m.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Pt)&&(m.parenthesizedAssign=st),m.parenthesizedBind<0&&(m.parenthesizedBind=st)),Pt;case Q.bracketL:return j=this.startNode(),this.next(),j.elements=this.parseExprList(Q.bracketR,!0,!0,m),this.finishNode(j,"ArrayExpression");case Q.braceL:return this.overrideContext(y.b_expr),this.parseObj(!1,m);case Q._function:return j=this.startNode(),this.next(),this.parseFunction(j,0);case Q._class:return this.parseClass(this.startNode(),!1);case Q._new:return this.parseNew();case Q.backQuote:return this.parseTemplate();case Q._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},b.parseExprImport=function(){var m=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var T=this.parseIdent(!0);switch(this.type){case Q.parenL:return this.parseDynamicImport(m);case Q.dot:return m.meta=T,this.parseImportMeta(m);default:this.unexpected()}},b.parseDynamicImport=function(m){if(this.next(),m.source=this.parseMaybeAssign(),!this.eat(Q.parenR)){var T=this.start;this.eat(Q.comma)&&this.eat(Q.parenR)?this.raiseRecoverable(T,"Trailing comma is not allowed in import()"):this.unexpected(T)}return this.finishNode(m,"ImportExpression")},b.parseImportMeta=function(m){this.next();var T=this.containsEsc;return m.property=this.parseIdent(!0),"meta"!==m.property.name&&this.raiseRecoverable(m.property.start,"The only valid meta property for import is 'import.meta'"),T&&this.raiseRecoverable(m.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(m.start,"Cannot use 'import.meta' outside a module"),this.finishNode(m,"MetaProperty")},b.parseLiteral=function(m){var T=this.startNode();return T.value=m,T.raw=this.input.slice(this.start,this.end),110===T.raw.charCodeAt(T.raw.length-1)&&(T.bigint=T.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(T,"Literal")},b.parseParenExpression=function(){this.expect(Q.parenL);var m=this.parseExpression();return this.expect(Q.parenR),m},b.parseParenAndDistinguishExpression=function(m,T){var ee,j=this.start,G=this.startLoc,me=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var ti,be=this.start,Oe=this.startLoc,He=[],st=!0,Pt=!1,Sn=new cn,vi=this.yieldPos,En=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==Q.parenR;){if(st?st=!1:this.expect(Q.comma),me&&this.afterTrailingComma(Q.parenR,!0)){Pt=!0;break}if(this.type===Q.ellipsis){ti=this.start,He.push(this.parseParenItem(this.parseRestBinding())),this.type===Q.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}He.push(this.parseMaybeAssign(!1,Sn,this.parseParenItem))}var Di=this.lastTokEnd,ui=this.lastTokEndLoc;if(this.expect(Q.parenR),m&&!this.canInsertSemicolon()&&this.eat(Q.arrow))return this.checkPatternErrors(Sn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=vi,this.awaitPos=En,this.parseParenArrowList(j,G,He,T);(!He.length||Pt)&&this.unexpected(this.lastTokStart),ti&&this.unexpected(ti),this.checkExpressionErrors(Sn,!0),this.yieldPos=vi||this.yieldPos,this.awaitPos=En||this.awaitPos,He.length>1?((ee=this.startNodeAt(be,Oe)).expressions=He,this.finishNodeAt(ee,"SequenceExpression",Di,ui)):ee=He[0]}else ee=this.parseParenExpression();if(this.options.preserveParens){var Ri=this.startNodeAt(j,G);return Ri.expression=ee,this.finishNode(Ri,"ParenthesizedExpression")}return ee},b.parseParenItem=function(m){return m},b.parseParenArrowList=function(m,T,j,G){return this.parseArrowExpression(this.startNodeAt(m,T),j,!1,G)};var D=[];b.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var m=this.startNode(),T=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(Q.dot)){m.meta=T;var j=this.containsEsc;return m.property=this.parseIdent(!0),"target"!==m.property.name&&this.raiseRecoverable(m.property.start,"The only valid meta property for new is 'new.target'"),j&&this.raiseRecoverable(m.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(m.start,"'new.target' can only be used in functions and class static block"),this.finishNode(m,"MetaProperty")}var G=this.start,ee=this.startLoc,me=this.type===Q._import;return m.callee=this.parseSubscripts(this.parseExprAtom(),G,ee,!0,!1),me&&"ImportExpression"===m.callee.type&&this.raise(G,"Cannot use new with import()"),m.arguments=this.eat(Q.parenL)?this.parseExprList(Q.parenR,this.options.ecmaVersion>=8,!1):D,this.finishNode(m,"NewExpression")},b.parseTemplateElement=function(m){var T=m.isTagged,j=this.startNode();return this.type===Q.invalidTemplate?(T||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),j.value={raw:this.value,cooked:null}):j.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),j.tail=this.type===Q.backQuote,this.finishNode(j,"TemplateElement")},b.parseTemplate=function(m){void 0===m&&(m={});var T=m.isTagged;void 0===T&&(T=!1);var j=this.startNode();this.next(),j.expressions=[];var G=this.parseTemplateElement({isTagged:T});for(j.quasis=[G];!G.tail;)this.type===Q.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(Q.dollarBraceL),j.expressions.push(this.parseExpression()),this.expect(Q.braceR),j.quasis.push(G=this.parseTemplateElement({isTagged:T}));return this.next(),this.finishNode(j,"TemplateLiteral")},b.isAsyncProp=function(m){return!m.computed&&"Identifier"===m.key.type&&"async"===m.key.name&&(this.type===Q.name||this.type===Q.num||this.type===Q.string||this.type===Q.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===Q.star)&&!tt.test(this.input.slice(this.lastTokEnd,this.start))},b.parseObj=function(m,T){var j=this.startNode(),G=!0,ee={};for(j.properties=[],this.next();!this.eat(Q.braceR);){if(G)G=!1;else if(this.expect(Q.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(Q.braceR))break;var me=this.parseProperty(m,T);m||this.checkPropClash(me,ee,T),j.properties.push(me)}return this.finishNode(j,m?"ObjectPattern":"ObjectExpression")},b.parseProperty=function(m,T){var G,ee,me,be,j=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(Q.ellipsis))return m?(j.argument=this.parseIdent(!1),this.type===Q.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(j,"RestElement")):(j.argument=this.parseMaybeAssign(!1,T),this.type===Q.comma&&T&&T.trailingComma<0&&(T.trailingComma=this.start),this.finishNode(j,"SpreadElement"));this.options.ecmaVersion>=6&&(j.method=!1,j.shorthand=!1,(m||T)&&(me=this.start,be=this.startLoc),m||(G=this.eat(Q.star)));var Oe=this.containsEsc;return this.parsePropertyName(j),!m&&!Oe&&this.options.ecmaVersion>=8&&!G&&this.isAsyncProp(j)?(ee=!0,G=this.options.ecmaVersion>=9&&this.eat(Q.star),this.parsePropertyName(j)):ee=!1,this.parsePropertyValue(j,m,G,ee,me,be,T,Oe),this.finishNode(j,"Property")},b.parsePropertyValue=function(m,T,j,G,ee,me,be,Oe){if((j||G)&&this.type===Q.colon&&this.unexpected(),this.eat(Q.colon))m.value=T?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,be),m.kind="init";else if(this.options.ecmaVersion>=6&&this.type===Q.parenL)T&&this.unexpected(),m.kind="init",m.method=!0,m.value=this.parseMethod(j,G);else if(T||Oe||!(this.options.ecmaVersion>=5)||m.computed||"Identifier"!==m.key.type||"get"!==m.key.name&&"set"!==m.key.name||this.type===Q.comma||this.type===Q.braceR||this.type===Q.eq)this.options.ecmaVersion>=6&&!m.computed&&"Identifier"===m.key.type?((j||G)&&this.unexpected(),this.checkUnreserved(m.key),"await"===m.key.name&&!this.awaitIdentPos&&(this.awaitIdentPos=ee),m.kind="init",T?m.value=this.parseMaybeDefault(ee,me,this.copyNode(m.key)):this.type===Q.eq&&be?(be.shorthandAssign<0&&(be.shorthandAssign=this.start),m.value=this.parseMaybeDefault(ee,me,this.copyNode(m.key))):m.value=this.copyNode(m.key),m.shorthand=!0):this.unexpected();else if((j||G)&&this.unexpected(),m.kind=m.key.name,this.parsePropertyName(m),m.value=this.parseMethod(!1),m.value.params.length!==("get"===m.kind?0:1)){this.raiseRecoverable(m.value.start,"get"===m.kind?"getter should have no params":"setter should have exactly one param")}else"set"===m.kind&&"RestElement"===m.value.params[0].type&&this.raiseRecoverable(m.value.params[0].start,"Setter cannot use rest params")},b.parsePropertyName=function(m){if(this.options.ecmaVersion>=6){if(this.eat(Q.bracketL))return m.computed=!0,m.key=this.parseMaybeAssign(),this.expect(Q.bracketR),m.key;m.computed=!1}return m.key=this.type===Q.num||this.type===Q.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},b.initFunction=function(m){m.id=null,this.options.ecmaVersion>=6&&(m.generator=m.expression=!1),this.options.ecmaVersion>=8&&(m.async=!1)},b.parseMethod=function(m,T,j){var G=this.startNode(),ee=this.yieldPos,me=this.awaitPos,be=this.awaitIdentPos;return this.initFunction(G),this.options.ecmaVersion>=6&&(G.generator=m),this.options.ecmaVersion>=8&&(G.async=!!T),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|br(T,G.generator)|(j?128:0)),this.expect(Q.parenL),G.params=this.parseBindingList(Q.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(G,!1,!0,!1),this.yieldPos=ee,this.awaitPos=me,this.awaitIdentPos=be,this.finishNode(G,"FunctionExpression")},b.parseArrowExpression=function(m,T,j,G){var ee=this.yieldPos,me=this.awaitPos,be=this.awaitIdentPos;return this.enterScope(16|br(j,!1)),this.initFunction(m),this.options.ecmaVersion>=8&&(m.async=!!j),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,m.params=this.toAssignableList(T,!0),this.parseFunctionBody(m,!0,!1,G),this.yieldPos=ee,this.awaitPos=me,this.awaitIdentPos=be,this.finishNode(m,"ArrowFunctionExpression")},b.parseFunctionBody=function(m,T,j,G){var me=this.strict,be=!1;if(T&&this.type!==Q.braceL)m.body=this.parseMaybeAssign(G),m.expression=!0,this.checkParams(m,!1);else{var Oe=this.options.ecmaVersion>=7&&!this.isSimpleParamList(m.params);(!me||Oe)&&(be=this.strictDirective(this.end))&&Oe&&this.raiseRecoverable(m.start,"Illegal 'use strict' directive in function with non-simple parameter list");var He=this.labels;this.labels=[],be&&(this.strict=!0),this.checkParams(m,!me&&!be&&!T&&!j&&this.isSimpleParamList(m.params)),this.strict&&m.id&&this.checkLValSimple(m.id,5),m.body=this.parseBlock(!1,void 0,be&&!me),m.expression=!1,this.adaptDirectivePrologue(m.body.body),this.labels=He}this.exitScope()},b.isSimpleParamList=function(m){for(var T=0,j=m;T<j.length;T+=1)if("Identifier"!==j[T].type)return!1;return!0},b.checkParams=function(m,T){for(var j=Object.create(null),G=0,ee=m.params;G<ee.length;G+=1)this.checkLValInnerPattern(ee[G],1,T?null:j)},b.parseExprList=function(m,T,j,G){for(var ee=[],me=!0;!this.eat(m);){if(me)me=!1;else if(this.expect(Q.comma),T&&this.afterTrailingComma(m))break;var be=void 0;j&&this.type===Q.comma?be=null:this.type===Q.ellipsis?(be=this.parseSpread(G),G&&this.type===Q.comma&&G.trailingComma<0&&(G.trailingComma=this.start)):be=this.parseMaybeAssign(!1,G),ee.push(be)}return ee},b.checkUnreserved=function(m){var T=m.start,j=m.end,G=m.name;this.inGenerator&&"yield"===G&&this.raiseRecoverable(T,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===G&&this.raiseRecoverable(T,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===G&&this.raiseRecoverable(T,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===G||"await"===G)&&this.raise(T,"Cannot use "+G+" in class static initialization block"),this.keywords.test(G)&&this.raise(T,"Unexpected keyword '"+G+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(T,j).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(G)&&(!this.inAsync&&"await"===G&&this.raiseRecoverable(T,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(T,"The keyword '"+G+"' is reserved"))},b.parseIdent=function(m){var T=this.startNode();return this.type===Q.name?T.name=this.value:this.type.keyword?(T.name=this.type.keyword,("class"===T.name||"function"===T.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop()):this.unexpected(),this.next(!!m),this.finishNode(T,"Identifier"),m||(this.checkUnreserved(T),"await"===T.name&&!this.awaitIdentPos&&(this.awaitIdentPos=T.start)),T},b.parsePrivateIdent=function(){var m=this.startNode();return this.type===Q.privateId?m.name=this.value:this.unexpected(),this.next(),this.finishNode(m,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(m.start,"Private field '#"+m.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(m),m},b.parseYield=function(m){this.yieldPos||(this.yieldPos=this.start);var T=this.startNode();return this.next(),this.type===Q.semi||this.canInsertSemicolon()||this.type!==Q.star&&!this.type.startsExpr?(T.delegate=!1,T.argument=null):(T.delegate=this.eat(Q.star),T.argument=this.parseMaybeAssign(m)),this.finishNode(T,"YieldExpression")},b.parseAwait=function(m){this.awaitPos||(this.awaitPos=this.start);var T=this.startNode();return this.next(),T.argument=this.parseMaybeUnary(null,!0,!1,m),this.finishNode(T,"AwaitExpression")};var N=mn.prototype;N.raise=function(m,T){var j=Fn(this.input,m),G=new SyntaxError(T+=" ("+j.line+":"+j.column+")");throw G.pos=m,G.loc=j,G.raisedAt=this.pos,G},N.raiseRecoverable=N.raise,N.curPosition=function(){if(this.options.locations)return new Re(this.curLine,this.pos-this.lineStart)};var O=mn.prototype,P=function(T){this.flags=T,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};O.enterScope=function(m){this.scopeStack.push(new P(m))},O.exitScope=function(){this.scopeStack.pop()},O.treatFunctionsAsVarInScope=function(m){return m.flags&Ei||!this.inModule&&1&m.flags},O.declareName=function(m,T,j){var G=!1;if(2===T){var ee=this.currentScope();G=ee.lexical.indexOf(m)>-1||ee.functions.indexOf(m)>-1||ee.var.indexOf(m)>-1,ee.lexical.push(m),this.inModule&&1&ee.flags&&delete this.undefinedExports[m]}else if(4===T)this.currentScope().lexical.push(m);else if(3===T){var be=this.currentScope();G=this.treatFunctionsAsVar?be.lexical.indexOf(m)>-1:be.lexical.indexOf(m)>-1||be.var.indexOf(m)>-1,be.functions.push(m)}else for(var Oe=this.scopeStack.length-1;Oe>=0;--Oe){var He=this.scopeStack[Oe];if(He.lexical.indexOf(m)>-1&&!(32&He.flags&&He.lexical[0]===m)||!this.treatFunctionsAsVarInScope(He)&&He.functions.indexOf(m)>-1){G=!0;break}if(He.var.push(m),this.inModule&&1&He.flags&&delete this.undefinedExports[m],He.flags&fn)break}G&&this.raiseRecoverable(j,"Identifier '"+m+"' has already been declared")},O.checkLocalExport=function(m){-1===this.scopeStack[0].lexical.indexOf(m.name)&&-1===this.scopeStack[0].var.indexOf(m.name)&&(this.undefinedExports[m.name]=m)},O.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},O.currentVarScope=function(){for(var m=this.scopeStack.length-1;;m--){var T=this.scopeStack[m];if(T.flags&fn)return T}},O.currentThisScope=function(){for(var m=this.scopeStack.length-1;;m--){var T=this.scopeStack[m];if(T.flags&fn&&!(16&T.flags))return T}};var I=function(T,j,G){this.type="",this.start=j,this.end=0,T.options.locations&&(this.loc=new Pe(T,G)),T.options.directSourceFile&&(this.sourceFile=T.options.directSourceFile),T.options.ranges&&(this.range=[j,0])},x=mn.prototype;function E(m,T,j,G){return m.type=T,m.end=j,this.options.locations&&(m.loc.end=G),this.options.ranges&&(m.range[1]=j),m}x.startNode=function(){return new I(this,this.start,this.startLoc)},x.startNodeAt=function(m,T){return new I(this,m,T)},x.finishNode=function(m,T){return E.call(this,m,T,this.lastTokEnd,this.lastTokEndLoc)},x.finishNodeAt=function(m,T,j,G){return E.call(this,m,T,j,G)},x.copyNode=function(m){var T=new I(this,m.start,this.startLoc);for(var j in m)T[j]=m[j];return T};var m,T,M="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",R=M+" Extended_Pictographic",F=R+" EBase EComp EMod EPres ExtPict",U={9:M,10:R,11:R,12:F,13:F,14:F},K="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",$="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",q=$+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",W=q+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Y=W+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",X=Y+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ce={9:$,10:q,11:W,12:Y,13:X,14:X+" Kawi Nag_Mundari Nagm"},ge={};for(var ye=0,fe=[9,10,11,12,13,14];ye<fe.length;ye+=1)T=void 0,(T=ge[m=fe[ye]]={binary:hn(U[m]+" "+K),nonBinary:{General_Category:hn(K),Script:hn(ce[m])}}).nonBinary.Script_Extensions=T.nonBinary.Script,T.nonBinary.gc=T.nonBinary.General_Category,T.nonBinary.sc=T.nonBinary.Script,T.nonBinary.scx=T.nonBinary.Script_Extensions;var he=mn.prototype,Ce=function(T){this.parser=T,this.validFlags="gim"+(T.options.ecmaVersion>=6?"uy":"")+(T.options.ecmaVersion>=9?"s":"")+(T.options.ecmaVersion>=13?"d":""),this.unicodeProperties=ge[T.options.ecmaVersion>=14?14:T.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function De(m){return 36===m||m>=40&&m<=43||46===m||63===m||m>=91&&m<=94||m>=123&&m<=125}function ze(m){return m>=65&&m<=90||m>=97&&m<=122}function Ft(m){return ze(m)||95===m}function ft(m){return Ft(m)||At(m)}function At(m){return m>=48&&m<=57}function mt(m){return m>=48&&m<=57||m>=65&&m<=70||m>=97&&m<=102}function dt(m){return m>=65&&m<=70?m-65+10:m>=97&&m<=102?m-97+10:m-48}function nt(m){return m>=48&&m<=55}Ce.prototype.reset=function(T,j,G){var ee=-1!==G.indexOf("u");this.start=0|T,this.source=j+"",this.flags=G,this.switchU=ee&&this.parser.options.ecmaVersion>=6,this.switchN=ee&&this.parser.options.ecmaVersion>=9},Ce.prototype.raise=function(T){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+T)},Ce.prototype.at=function(T,j){void 0===j&&(j=!1);var G=this.source,ee=G.length;if(T>=ee)return-1;var me=G.charCodeAt(T);if(!j&&!this.switchU||me<=55295||me>=57344||T+1>=ee)return me;var be=G.charCodeAt(T+1);return be>=56320&&be<=57343?(me<<10)+be-56613888:me},Ce.prototype.nextIndex=function(T,j){void 0===j&&(j=!1);var G=this.source,ee=G.length;if(T>=ee)return ee;var be,me=G.charCodeAt(T);return!j&&!this.switchU||me<=55295||me>=57344||T+1>=ee||(be=G.charCodeAt(T+1))<56320||be>57343?T+1:T+2},Ce.prototype.current=function(T){return void 0===T&&(T=!1),this.at(this.pos,T)},Ce.prototype.lookahead=function(T){return void 0===T&&(T=!1),this.at(this.nextIndex(this.pos,T),T)},Ce.prototype.advance=function(T){void 0===T&&(T=!1),this.pos=this.nextIndex(this.pos,T)},Ce.prototype.eat=function(T,j){return void 0===j&&(j=!1),this.current(j)===T&&(this.advance(j),!0)},he.validateRegExpFlags=function(m){for(var T=m.validFlags,j=m.flags,G=0;G<j.length;G++){var ee=j.charAt(G);-1===T.indexOf(ee)&&this.raise(m.start,"Invalid regular expression flag"),j.indexOf(ee,G+1)>-1&&this.raise(m.start,"Duplicate regular expression flag")}},he.validateRegExpPattern=function(m){this.regexp_pattern(m),!m.switchN&&this.options.ecmaVersion>=9&&m.groupNames.length>0&&(m.switchN=!0,this.regexp_pattern(m))},he.regexp_pattern=function(m){m.pos=0,m.lastIntValue=0,m.lastStringValue="",m.lastAssertionIsQuantifiable=!1,m.numCapturingParens=0,m.maxBackReference=0,m.groupNames.length=0,m.backReferenceNames.length=0,this.regexp_disjunction(m),m.pos!==m.source.length&&(m.eat(41)&&m.raise("Unmatched ')'"),(m.eat(93)||m.eat(125))&&m.raise("Lone quantifier brackets")),m.maxBackReference>m.numCapturingParens&&m.raise("Invalid escape");for(var T=0,j=m.backReferenceNames;T<j.length;T+=1)-1===m.groupNames.indexOf(j[T])&&m.raise("Invalid named capture referenced")},he.regexp_disjunction=function(m){for(this.regexp_alternative(m);m.eat(124);)this.regexp_alternative(m);this.regexp_eatQuantifier(m,!0)&&m.raise("Nothing to repeat"),m.eat(123)&&m.raise("Lone quantifier brackets")},he.regexp_alternative=function(m){for(;m.pos<m.source.length&&this.regexp_eatTerm(m););},he.regexp_eatTerm=function(m){return this.regexp_eatAssertion(m)?(m.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(m)&&m.switchU&&m.raise("Invalid quantifier"),!0):!!(m.switchU?this.regexp_eatAtom(m):this.regexp_eatExtendedAtom(m))&&(this.regexp_eatQuantifier(m),!0)},he.regexp_eatAssertion=function(m){var T=m.pos;if(m.lastAssertionIsQuantifiable=!1,m.eat(94)||m.eat(36))return!0;if(m.eat(92)){if(m.eat(66)||m.eat(98))return!0;m.pos=T}if(m.eat(40)&&m.eat(63)){var j=!1;if(this.options.ecmaVersion>=9&&(j=m.eat(60)),m.eat(61)||m.eat(33))return this.regexp_disjunction(m),m.eat(41)||m.raise("Unterminated group"),m.lastAssertionIsQuantifiable=!j,!0}return m.pos=T,!1},he.regexp_eatQuantifier=function(m,T){return void 0===T&&(T=!1),!!this.regexp_eatQuantifierPrefix(m,T)&&(m.eat(63),!0)},he.regexp_eatQuantifierPrefix=function(m,T){return m.eat(42)||m.eat(43)||m.eat(63)||this.regexp_eatBracedQuantifier(m,T)},he.regexp_eatBracedQuantifier=function(m,T){var j=m.pos;if(m.eat(123)){var G=0,ee=-1;if(this.regexp_eatDecimalDigits(m)&&(G=m.lastIntValue,m.eat(44)&&this.regexp_eatDecimalDigits(m)&&(ee=m.lastIntValue),m.eat(125)))return-1!==ee&&ee<G&&!T&&m.raise("numbers out of order in {} quantifier"),!0;m.switchU&&!T&&m.raise("Incomplete quantifier"),m.pos=j}return!1},he.regexp_eatAtom=function(m){return this.regexp_eatPatternCharacters(m)||m.eat(46)||this.regexp_eatReverseSolidusAtomEscape(m)||this.regexp_eatCharacterClass(m)||this.regexp_eatUncapturingGroup(m)||this.regexp_eatCapturingGroup(m)},he.regexp_eatReverseSolidusAtomEscape=function(m){var T=m.pos;if(m.eat(92)){if(this.regexp_eatAtomEscape(m))return!0;m.pos=T}return!1},he.regexp_eatUncapturingGroup=function(m){var T=m.pos;if(m.eat(40)){if(m.eat(63)&&m.eat(58)){if(this.regexp_disjunction(m),m.eat(41))return!0;m.raise("Unterminated group")}m.pos=T}return!1},he.regexp_eatCapturingGroup=function(m){if(m.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(m):63===m.current()&&m.raise("Invalid group"),this.regexp_disjunction(m),m.eat(41))return m.numCapturingParens+=1,!0;m.raise("Unterminated group")}return!1},he.regexp_eatExtendedAtom=function(m){return m.eat(46)||this.regexp_eatReverseSolidusAtomEscape(m)||this.regexp_eatCharacterClass(m)||this.regexp_eatUncapturingGroup(m)||this.regexp_eatCapturingGroup(m)||this.regexp_eatInvalidBracedQuantifier(m)||this.regexp_eatExtendedPatternCharacter(m)},he.regexp_eatInvalidBracedQuantifier=function(m){return this.regexp_eatBracedQuantifier(m,!0)&&m.raise("Nothing to repeat"),!1},he.regexp_eatSyntaxCharacter=function(m){var T=m.current();return!!De(T)&&(m.lastIntValue=T,m.advance(),!0)},he.regexp_eatPatternCharacters=function(m){for(var T=m.pos,j=0;-1!==(j=m.current())&&!De(j);)m.advance();return m.pos!==T},he.regexp_eatExtendedPatternCharacter=function(m){var T=m.current();return!(-1===T||36===T||T>=40&&T<=43||46===T||63===T||91===T||94===T||124===T||(m.advance(),0))},he.regexp_groupSpecifier=function(m){if(m.eat(63)){if(this.regexp_eatGroupName(m))return-1!==m.groupNames.indexOf(m.lastStringValue)&&m.raise("Duplicate capture group name"),void m.groupNames.push(m.lastStringValue);m.raise("Invalid group")}},he.regexp_eatGroupName=function(m){if(m.lastStringValue="",m.eat(60)){if(this.regexp_eatRegExpIdentifierName(m)&&m.eat(62))return!0;m.raise("Invalid capture group name")}return!1},he.regexp_eatRegExpIdentifierName=function(m){if(m.lastStringValue="",this.regexp_eatRegExpIdentifierStart(m)){for(m.lastStringValue+=Fe(m.lastIntValue);this.regexp_eatRegExpIdentifierPart(m);)m.lastStringValue+=Fe(m.lastIntValue);return!0}return!1},he.regexp_eatRegExpIdentifierStart=function(m){var T=m.pos,j=this.options.ecmaVersion>=11,G=m.current(j);return m.advance(j),92===G&&this.regexp_eatRegExpUnicodeEscapeSequence(m,j)&&(G=m.lastIntValue),function ke(m){return Tn(m,!0)||36===m||95===m}(G)?(m.lastIntValue=G,!0):(m.pos=T,!1)},he.regexp_eatRegExpIdentifierPart=function(m){var T=m.pos,j=this.options.ecmaVersion>=11,G=m.current(j);return m.advance(j),92===G&&this.regexp_eatRegExpUnicodeEscapeSequence(m,j)&&(G=m.lastIntValue),function Ne(m){return pn(m,!0)||36===m||95===m||8204===m||8205===m}(G)?(m.lastIntValue=G,!0):(m.pos=T,!1)},he.regexp_eatAtomEscape=function(m){return!!(this.regexp_eatBackReference(m)||this.regexp_eatCharacterClassEscape(m)||this.regexp_eatCharacterEscape(m)||m.switchN&&this.regexp_eatKGroupName(m))||(m.switchU&&(99===m.current()&&m.raise("Invalid unicode escape"),m.raise("Invalid escape")),!1)},he.regexp_eatBackReference=function(m){var T=m.pos;if(this.regexp_eatDecimalEscape(m)){var j=m.lastIntValue;if(m.switchU)return j>m.maxBackReference&&(m.maxBackReference=j),!0;if(j<=m.numCapturingParens)return!0;m.pos=T}return!1},he.regexp_eatKGroupName=function(m){if(m.eat(107)){if(this.regexp_eatGroupName(m))return m.backReferenceNames.push(m.lastStringValue),!0;m.raise("Invalid named reference")}return!1},he.regexp_eatCharacterEscape=function(m){return this.regexp_eatControlEscape(m)||this.regexp_eatCControlLetter(m)||this.regexp_eatZero(m)||this.regexp_eatHexEscapeSequence(m)||this.regexp_eatRegExpUnicodeEscapeSequence(m,!1)||!m.switchU&&this.regexp_eatLegacyOctalEscapeSequence(m)||this.regexp_eatIdentityEscape(m)},he.regexp_eatCControlLetter=function(m){var T=m.pos;if(m.eat(99)){if(this.regexp_eatControlLetter(m))return!0;m.pos=T}return!1},he.regexp_eatZero=function(m){return 48===m.current()&&!At(m.lookahead())&&(m.lastIntValue=0,m.advance(),!0)},he.regexp_eatControlEscape=function(m){var T=m.current();return 116===T?(m.lastIntValue=9,m.advance(),!0):110===T?(m.lastIntValue=10,m.advance(),!0):118===T?(m.lastIntValue=11,m.advance(),!0):102===T?(m.lastIntValue=12,m.advance(),!0):114===T&&(m.lastIntValue=13,m.advance(),!0)},he.regexp_eatControlLetter=function(m){var T=m.current();return!!ze(T)&&(m.lastIntValue=T%32,m.advance(),!0)},he.regexp_eatRegExpUnicodeEscapeSequence=function(m,T){void 0===T&&(T=!1);var j=m.pos,G=T||m.switchU;if(m.eat(117)){if(this.regexp_eatFixedHexDigits(m,4)){var ee=m.lastIntValue;if(G&&ee>=55296&&ee<=56319){var me=m.pos;if(m.eat(92)&&m.eat(117)&&this.regexp_eatFixedHexDigits(m,4)){var be=m.lastIntValue;if(be>=56320&&be<=57343)return m.lastIntValue=1024*(ee-55296)+(be-56320)+65536,!0}m.pos=me,m.lastIntValue=ee}return!0}if(G&&m.eat(123)&&this.regexp_eatHexDigits(m)&&m.eat(125)&&function Ue(m){return m>=0&&m<=1114111}(m.lastIntValue))return!0;G&&m.raise("Invalid unicode escape"),m.pos=j}return!1},he.regexp_eatIdentityEscape=function(m){if(m.switchU)return!!this.regexp_eatSyntaxCharacter(m)||!!m.eat(47)&&(m.lastIntValue=47,!0);var T=m.current();return!(99===T||m.switchN&&107===T||(m.lastIntValue=T,m.advance(),0))},he.regexp_eatDecimalEscape=function(m){m.lastIntValue=0;var T=m.current();if(T>=49&&T<=57){do{m.lastIntValue=10*m.lastIntValue+(T-48),m.advance()}while((T=m.current())>=48&&T<=57);return!0}return!1},he.regexp_eatCharacterClassEscape=function(m){var T=m.current();if(function Xe(m){return 100===m||68===m||115===m||83===m||119===m||87===m}(T))return m.lastIntValue=-1,m.advance(),!0;if(m.switchU&&this.options.ecmaVersion>=9&&(80===T||112===T)){if(m.lastIntValue=-1,m.advance(),m.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(m)&&m.eat(125))return!0;m.raise("Invalid property name")}return!1},he.regexp_eatUnicodePropertyValueExpression=function(m){var T=m.pos;if(this.regexp_eatUnicodePropertyName(m)&&m.eat(61)){var j=m.lastStringValue;if(this.regexp_eatUnicodePropertyValue(m))return this.regexp_validateUnicodePropertyNameAndValue(m,j,m.lastStringValue),!0}return m.pos=T,!!this.regexp_eatLoneUnicodePropertyNameOrValue(m)&&(this.regexp_validateUnicodePropertyNameOrValue(m,m.lastStringValue),!0)},he.regexp_validateUnicodePropertyNameAndValue=function(m,T,j){Rn(m.unicodeProperties.nonBinary,T)||m.raise("Invalid property name"),m.unicodeProperties.nonBinary[T].test(j)||m.raise("Invalid property value")},he.regexp_validateUnicodePropertyNameOrValue=function(m,T){m.unicodeProperties.binary.test(T)||m.raise("Invalid property name")},he.regexp_eatUnicodePropertyName=function(m){var T=0;for(m.lastStringValue="";Ft(T=m.current());)m.lastStringValue+=Fe(T),m.advance();return""!==m.lastStringValue},he.regexp_eatUnicodePropertyValue=function(m){var T=0;for(m.lastStringValue="";ft(T=m.current());)m.lastStringValue+=Fe(T),m.advance();return""!==m.lastStringValue},he.regexp_eatLoneUnicodePropertyNameOrValue=function(m){return this.regexp_eatUnicodePropertyValue(m)},he.regexp_eatCharacterClass=function(m){if(m.eat(91)){if(m.eat(94),this.regexp_classRanges(m),m.eat(93))return!0;m.raise("Unterminated character class")}return!1},he.regexp_classRanges=function(m){for(;this.regexp_eatClassAtom(m);){var T=m.lastIntValue;if(m.eat(45)&&this.regexp_eatClassAtom(m)){var j=m.lastIntValue;m.switchU&&(-1===T||-1===j)&&m.raise("Invalid character class"),-1!==T&&-1!==j&&T>j&&m.raise("Range out of order in character class")}}},he.regexp_eatClassAtom=function(m){var T=m.pos;if(m.eat(92)){if(this.regexp_eatClassEscape(m))return!0;if(m.switchU){var j=m.current();(99===j||nt(j))&&m.raise("Invalid class escape"),m.raise("Invalid escape")}m.pos=T}var G=m.current();return 93!==G&&(m.lastIntValue=G,m.advance(),!0)},he.regexp_eatClassEscape=function(m){var T=m.pos;if(m.eat(98))return m.lastIntValue=8,!0;if(m.switchU&&m.eat(45))return m.lastIntValue=45,!0;if(!m.switchU&&m.eat(99)){if(this.regexp_eatClassControlLetter(m))return!0;m.pos=T}return this.regexp_eatCharacterClassEscape(m)||this.regexp_eatCharacterEscape(m)},he.regexp_eatClassControlLetter=function(m){var T=m.current();return!(!At(T)&&95!==T||(m.lastIntValue=T%32,m.advance(),0))},he.regexp_eatHexEscapeSequence=function(m){var T=m.pos;if(m.eat(120)){if(this.regexp_eatFixedHexDigits(m,2))return!0;m.switchU&&m.raise("Invalid escape"),m.pos=T}return!1},he.regexp_eatDecimalDigits=function(m){var T=m.pos,j=0;for(m.lastIntValue=0;At(j=m.current());)m.lastIntValue=10*m.lastIntValue+(j-48),m.advance();return m.pos!==T},he.regexp_eatHexDigits=function(m){var T=m.pos,j=0;for(m.lastIntValue=0;mt(j=m.current());)m.lastIntValue=16*m.lastIntValue+dt(j),m.advance();return m.pos!==T},he.regexp_eatLegacyOctalEscapeSequence=function(m){if(this.regexp_eatOctalDigit(m)){var T=m.lastIntValue;if(this.regexp_eatOctalDigit(m)){var j=m.lastIntValue;m.lastIntValue=T<=3&&this.regexp_eatOctalDigit(m)?64*T+8*j+m.lastIntValue:8*T+j}else m.lastIntValue=T;return!0}return!1},he.regexp_eatOctalDigit=function(m){var T=m.current();return nt(T)?(m.lastIntValue=T-48,m.advance(),!0):(m.lastIntValue=0,!1)},he.regexp_eatFixedHexDigits=function(m,T){var j=m.pos;m.lastIntValue=0;for(var G=0;G<T;++G){var ee=m.current();if(!mt(ee))return m.pos=j,!1;m.lastIntValue=16*m.lastIntValue+dt(ee),m.advance()}return!0};var Vt=function(T){this.type=T.type,this.value=T.value,this.start=T.start,this.end=T.end,T.options.locations&&(this.loc=new Pe(T,T.startLoc,T.endLoc)),T.options.ranges&&(this.range=[T.start,T.end])},Le=mn.prototype;function Hn(m){return"function"!=typeof BigInt?null:BigInt(m.replace(/_/g,""))}Le.next=function(m){!m&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Vt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Le.getToken=function(){return this.next(),new Vt(this)},typeof Symbol<"u"&&(Le[Symbol.iterator]=function(){var m=this;return{next:function(){var T=m.getToken();return{done:T.type===Q.eof,value:T}}}}),Le.nextToken=function(){var m=this.curContext();return(!m||!m.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(Q.eof):m.override?m.override(this):void this.readToken(this.fullCharCodeAtPos())},Le.readToken=function(m){return Tn(m,this.options.ecmaVersion>=6)||92===m?this.readWord():this.getTokenFromCode(m)},Le.fullCharCodeAtPos=function(){var m=this.input.charCodeAt(this.pos);if(m<=55295||m>=56320)return m;var T=this.input.charCodeAt(this.pos+1);return T<=56319||T>=57344?m:(m<<10)+T-56613888},Le.skipBlockComment=function(){var m=this.options.onComment&&this.curPosition(),T=this.pos,j=this.input.indexOf("*/",this.pos+=2);if(-1===j&&this.raise(this.pos-2,"Unterminated comment"),this.pos=j+2,this.options.locations)for(var G=void 0,ee=T;(G=un(this.input,ee,this.pos))>-1;)++this.curLine,ee=this.lineStart=G;this.options.onComment&&this.options.onComment(!0,this.input.slice(T+2,j),T,this.pos,m,this.curPosition())},Le.skipLineComment=function(m){for(var T=this.pos,j=this.options.onComment&&this.curPosition(),G=this.input.charCodeAt(this.pos+=m);this.pos<this.input.length&&!gt(G);)G=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(T+m,this.pos),T,this.pos,j,this.curPosition())},Le.skipSpace=function(){e:for(;this.pos<this.input.length;){var m=this.input.charCodeAt(this.pos);switch(m){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(m>8&&m<14||m>=5760&&ct.test(String.fromCharCode(m))))break e;++this.pos}}},Le.finishToken=function(m,T){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var j=this.type;this.type=m,this.value=T,this.updateContext(j)},Le.readToken_dot=function(){var m=this.input.charCodeAt(this.pos+1);if(m>=48&&m<=57)return this.readNumber(!0);var T=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===m&&46===T?(this.pos+=3,this.finishToken(Q.ellipsis)):(++this.pos,this.finishToken(Q.dot))},Le.readToken_slash=function(){var m=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===m?this.finishOp(Q.assign,2):this.finishOp(Q.slash,1)},Le.readToken_mult_modulo_exp=function(m){var T=this.input.charCodeAt(this.pos+1),j=1,G=42===m?Q.star:Q.modulo;return this.options.ecmaVersion>=7&&42===m&&42===T&&(++j,G=Q.starstar,T=this.input.charCodeAt(this.pos+2)),61===T?this.finishOp(Q.assign,j+1):this.finishOp(G,j)},Le.readToken_pipe_amp=function(m){var T=this.input.charCodeAt(this.pos+1);return T===m?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Q.assign,3):this.finishOp(124===m?Q.logicalOR:Q.logicalAND,2):61===T?this.finishOp(Q.assign,2):this.finishOp(124===m?Q.bitwiseOR:Q.bitwiseAND,1)},Le.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(Q.assign,2):this.finishOp(Q.bitwiseXOR,1)},Le.readToken_plus_min=function(m){var T=this.input.charCodeAt(this.pos+1);return T===m?45!==T||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!tt.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(Q.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===T?this.finishOp(Q.assign,2):this.finishOp(Q.plusMin,1)},Le.readToken_lt_gt=function(m){var T=this.input.charCodeAt(this.pos+1),j=1;return T===m?(j=62===m&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+j)?this.finishOp(Q.assign,j+1):this.finishOp(Q.bitShift,j)):33!==T||60!==m||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===T&&(j=2),this.finishOp(Q.relational,j)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Le.readToken_eq_excl=function(m){var T=this.input.charCodeAt(this.pos+1);return 61===T?this.finishOp(Q.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===m&&62===T&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(Q.arrow)):this.finishOp(61===m?Q.eq:Q.prefix,1)},Le.readToken_question=function(){var m=this.options.ecmaVersion;if(m>=11){var T=this.input.charCodeAt(this.pos+1);if(46===T){var j=this.input.charCodeAt(this.pos+2);if(j<48||j>57)return this.finishOp(Q.questionDot,2)}if(63===T)return m>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Q.assign,3):this.finishOp(Q.coalesce,2)}return this.finishOp(Q.question,1)},Le.readToken_numberSign=function(){var T=35;if(this.options.ecmaVersion>=13&&(++this.pos,Tn(T=this.fullCharCodeAtPos(),!0)||92===T))return this.finishToken(Q.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Fe(T)+"'")},Le.getTokenFromCode=function(m){switch(m){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(Q.parenL);case 41:return++this.pos,this.finishToken(Q.parenR);case 59:return++this.pos,this.finishToken(Q.semi);case 44:return++this.pos,this.finishToken(Q.comma);case 91:return++this.pos,this.finishToken(Q.bracketL);case 93:return++this.pos,this.finishToken(Q.bracketR);case 123:return++this.pos,this.finishToken(Q.braceL);case 125:return++this.pos,this.finishToken(Q.braceR);case 58:return++this.pos,this.finishToken(Q.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(Q.backQuote);case 48:var T=this.input.charCodeAt(this.pos+1);if(120===T||88===T)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===T||79===T)return this.readRadixNumber(8);if(98===T||66===T)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(m);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(m);case 124:case 38:return this.readToken_pipe_amp(m);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(m);case 60:case 62:return this.readToken_lt_gt(m);case 61:case 33:return this.readToken_eq_excl(m);case 63:return this.readToken_question();case 126:return this.finishOp(Q.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Fe(m)+"'")},Le.finishOp=function(m,T){var j=this.input.slice(this.pos,this.pos+T);return this.pos+=T,this.finishToken(m,j)},Le.readRegexp=function(){for(var m,T,j=this.pos;;){this.pos>=this.input.length&&this.raise(j,"Unterminated regular expression");var G=this.input.charAt(this.pos);if(tt.test(G)&&this.raise(j,"Unterminated regular expression"),m)m=!1;else{if("["===G)T=!0;else if("]"===G&&T)T=!1;else if("/"===G&&!T)break;m="\\"===G}++this.pos}var ee=this.input.slice(j,this.pos);++this.pos;var me=this.pos,be=this.readWord1();this.containsEsc&&this.unexpected(me);var Oe=this.regexpState||(this.regexpState=new Ce(this));Oe.reset(j,ee,be),this.validateRegExpFlags(Oe),this.validateRegExpPattern(Oe);var He=null;try{He=new RegExp(ee,be)}catch{}return this.finishToken(Q.regexp,{pattern:ee,flags:be,value:He})},Le.readInt=function(m,T,j){for(var G=this.options.ecmaVersion>=12&&void 0===T,ee=j&&48===this.input.charCodeAt(this.pos),me=this.pos,be=0,Oe=0,He=0,st=T??1/0;He<st;++He,++this.pos){var Pt=this.input.charCodeAt(this.pos),Sn=void 0;if(G&&95===Pt)ee&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===Oe&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===He&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Oe=Pt;else{if((Sn=Pt>=97?Pt-97+10:Pt>=65?Pt-65+10:Pt>=48&&Pt<=57?Pt-48:1/0)>=m)break;Oe=Pt,be=be*m+Sn}}return G&&95===Oe&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===me||null!=T&&this.pos-me!==T?null:be},Le.readRadixNumber=function(m){var T=this.pos;this.pos+=2;var j=this.readInt(m);return null==j&&this.raise(this.start+2,"Expected number in radix "+m),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(j=Hn(this.input.slice(T,this.pos)),++this.pos):Tn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Q.num,j)},Le.readNumber=function(m){var T=this.pos;!m&&null===this.readInt(10,void 0,!0)&&this.raise(T,"Invalid number");var j=this.pos-T>=2&&48===this.input.charCodeAt(T);j&&this.strict&&this.raise(T,"Invalid number");var G=this.input.charCodeAt(this.pos);if(!j&&!m&&this.options.ecmaVersion>=11&&110===G){var ee=Hn(this.input.slice(T,this.pos));return++this.pos,Tn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Q.num,ee)}j&&/[89]/.test(this.input.slice(T,this.pos))&&(j=!1),46===G&&!j&&(++this.pos,this.readInt(10),G=this.input.charCodeAt(this.pos)),(69===G||101===G)&&!j&&((43===(G=this.input.charCodeAt(++this.pos))||45===G)&&++this.pos,null===this.readInt(10)&&this.raise(T,"Invalid number")),Tn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var me=function Mn(m,T){return T?parseInt(m,8):parseFloat(m.replace(/_/g,""))}(this.input.slice(T,this.pos),j);return this.finishToken(Q.num,me)},Le.readCodePoint=function(){var T;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var j=++this.pos;T=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,T>1114111&&this.invalidStringToken(j,"Code point out of bounds")}else T=this.readHexChar(4);return T},Le.readString=function(m){for(var T="",j=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var G=this.input.charCodeAt(this.pos);if(G===m)break;92===G?(T+=this.input.slice(j,this.pos),T+=this.readEscapedChar(!1),j=this.pos):8232===G||8233===G?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(gt(G)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return T+=this.input.slice(j,this.pos++),this.finishToken(Q.string,T)};var vn={};Le.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(m){if(m!==vn)throw m;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Le.invalidStringToken=function(m,T){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw vn;this.raise(m,T)},Le.readTmplToken=function(){for(var m="",T=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var j=this.input.charCodeAt(this.pos);if(96===j||36===j&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==Q.template&&this.type!==Q.invalidTemplate?(m+=this.input.slice(T,this.pos),this.finishToken(Q.template,m)):36===j?(this.pos+=2,this.finishToken(Q.dollarBraceL)):(++this.pos,this.finishToken(Q.backQuote));if(92===j)m+=this.input.slice(T,this.pos),m+=this.readEscapedChar(!0),T=this.pos;else if(gt(j)){switch(m+=this.input.slice(T,this.pos),++this.pos,j){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:m+="\n";break;default:m+=String.fromCharCode(j)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),T=this.pos}else++this.pos}},Le.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(Q.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Le.readEscapedChar=function(m){var T=this.input.charCodeAt(++this.pos);switch(++this.pos,T){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Fe(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),m&&this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string");default:if(T>=48&&T<=55){var G=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],ee=parseInt(G,8);return ee>255&&(G=G.slice(0,-1),ee=parseInt(G,8)),this.pos+=G.length-1,T=this.input.charCodeAt(this.pos),("0"!==G||56===T||57===T)&&(this.strict||m)&&this.invalidStringToken(this.pos-1-G.length,m?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(ee)}return gt(T)?"":String.fromCharCode(T)}},Le.readHexChar=function(m){var T=this.pos,j=this.readInt(16,m);return null===j&&this.invalidStringToken(T,"Bad character escape sequence"),j},Le.readWord1=function(){this.containsEsc=!1;for(var m="",T=!0,j=this.pos,G=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ee=this.fullCharCodeAtPos();if(pn(ee,G))this.pos+=ee<=65535?1:2;else{if(92!==ee)break;this.containsEsc=!0,m+=this.input.slice(j,this.pos);var me=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var be=this.readCodePoint();(T?Tn:pn)(be,G)||this.invalidStringToken(me,"Invalid Unicode escape"),m+=Fe(be),j=this.pos}T=!1}return m+this.input.slice(j,this.pos)},Le.readWord=function(){var m=this.readWord1(),T=Q.name;return this.keywords.test(m)&&(T=We[m]),this.finishToken(T,m)};mn.acorn={Parser:mn,version:"8.8.2",defaultOptions:ht,Position:Re,SourceLocation:Pe,getLineInfo:Fn,Node:I,TokenType:je,tokTypes:Q,keywordTypes:We,TokContext:v,tokContexts:y,isIdentifierChar:pn,isIdentifierStart:Tn,Token:Vt,isNewLine:gt,lineBreak:tt,lineBreakG:$t,nonASCIIwhitespace:ct},jt.Node=I,jt.Parser=mn,jt.Position=Re,jt.SourceLocation=Pe,jt.TokContext=v,jt.Token=Vt,jt.TokenType=je,jt.defaultOptions=ht,jt.getLineInfo=Fn,jt.isIdentifierChar=pn,jt.isIdentifierStart=Tn,jt.isNewLine=gt,jt.keywordTypes=We,jt.lineBreak=tt,jt.lineBreakG=$t,jt.nonASCIIwhitespace=ct,jt.parse=function on(m,T){return mn.parse(m,T)},jt.parseExpressionAt=function An(m,T,j){return mn.parseExpressionAt(m,T,j)},jt.tokContexts=y,jt.tokTypes=Q,jt.tokenizer=function ei(m,T){return mn.tokenizer(m,T)},jt.version="8.8.2"}(Lr)},956:function(sr,Lr,jt){var Ut,Wn;(function(oi,Ie){var Te=(oi=oi||jt(158)).window,Dt=oi.document,ie=new function(){var u=/^(statics|enumerable|beans|preserve)$/,r=[],s=r.slice,a=Object.create,c=Object.getOwnPropertyDescriptor,f=Object.defineProperty,d=r.forEach||function(b,C){for(var D=0,N=this.length;D<N;D++)b.call(C,this[D],D,this)},p=function(b,C){for(var D in this)this.hasOwnProperty(D)&&b.call(C,this[D],D,this)},g=Object.assign||function(b){for(var C=1,D=arguments.length;C<D;C++){var N=arguments[C];for(var O in N)N.hasOwnProperty(O)&&(b[O]=N[O])}return b},v=function(b,C,D){if(b){var N=c(b,"length");(N&&"number"==typeof N.value?d:p).call(b,C,D=D||b)}return D};function y(b,C,D,N,O){var P={};function I(L,F){"string"==typeof(F=F||(F=c(C,L))&&(F.get?F:F.value))&&"#"===F[0]&&(F=b[F.substring(1)]||F);var K,V="function"==typeof F,z=F,U=O||V&&!F.base?F&&F.get?L in b:b[L]:null;(!O||!U)&&(V&&U&&(F.base=U),V&&!1!==N&&(K=L.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(P[K[3].toLowerCase()+K[4]]=K[2]),(!z||V||!z.get||"function"!=typeof z.get||!S.isPlainObject(z))&&(z={value:z,writable:!0}),(c(b,L)||{configurable:!0}).configurable&&(z.configurable=!0,z.enumerable=D??!K),f(b,L,z))}if(C){for(var x in C)C.hasOwnProperty(x)&&!u.test(x)&&I(x);for(var x in P){var E=P[x],M=b["set"+E],R=b["get"+E]||M&&b["is"+E];R&&(!0===N||0===R.length)&&I(x,{get:R,set:M})}}return b}function S(){for(var b=0,C=arguments.length;b<C;b++){var D=arguments[b];D&&g(this,D)}return this}return y(S,{inject:function(b){if(b){var C=!0===b.statics?b:b.statics,D=b.beans,N=b.preserve;C!==b&&y(this.prototype,b,b.enumerable,D,N),y(this,C,null,D,N)}for(var O=1,P=arguments.length;O<P;O++)this.inject(arguments[O]);return this},extend:function(){for(var C,D,O,b=this,N=0,P=arguments.length;N<P&&(!C||!D);N++)O=arguments[N],C=C||O.initialize,D=D||O.prototype;return C=C||function(){b.apply(this,arguments)},D=C.prototype=D||a(this.prototype),f(D,"constructor",{value:C,writable:!0,configurable:!0}),y(C,this),arguments.length&&this.inject.apply(C,arguments),C.base=b,C}}).inject({enumerable:!1,initialize:S,set:S,inject:function(){for(var b=0,C=arguments.length;b<C;b++){var D=arguments[b];D&&y(this,D,D.enumerable,D.beans,D.preserve)}return this},extend:function(){var b=a(this);return b.inject.apply(b,arguments)},each:function(b,C){return v(this,b,C)},clone:function(){return new this.constructor(this)},statics:{set:g,each:v,create:a,define:f,describe:c,clone:function(b){return g(new b.constructor,b)},isPlainObject:function(b){var C=null!=b&&b.constructor;return C&&(C===Object||C===S||"Object"===C.name)},pick:function(b,C){return b!==Ie?b:C},slice:function(b,C,D){return s.call(b,C,D)}}})};sr.exports=ie,ie.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+ie.each(this,function(u,r){if(!/^_/.test(r)){var s=typeof u;this.push(r+": "+("number"===s?pn.instance.number(u):"string"===s?"'"+u+"'":u))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(u){return ie.importJSON(u,this)},exportJSON:function(u){return ie.exportJSON(this,u)},toJSON:function(){return ie.serialize(this)},set:function(u,r){return u&&ie.filter(this,u,r,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function u(){var r=u.base.apply(this,arguments),s=r.prototype._class;return s&&!ie.exports[s]&&(ie.exports[s]=r),r},equals:function(u,r){if(u===r)return!0;if(u&&u.equals)return u.equals(r);if(r&&r.equals)return r.equals(u);if(u&&r&&"object"==typeof u&&"object"==typeof r){if(Array.isArray(u)&&Array.isArray(r)){if((s=u.length)!==r.length)return!1;for(;s--;)if(!ie.equals(u[s],r[s]))return!1}else{var s,a=Object.keys(u);if((s=a.length)!==Object.keys(r).length)return!1;for(;s--;){var c=a[s];if(!r.hasOwnProperty(c)||!ie.equals(u[c],r[c]))return!1}}return!0}return!1},read:function(u,r,s,a){if(this===ie){var c=this.peek(u,r);return u.__index++,c}var f=this.prototype,d=f._readIndex,p=r||d&&u.__index||0,g=u.length,v=u[p];if(a=a||g-p,v instanceof this||s&&s.readNull&&null==v&&a<=1)return d&&(u.__index=p+1),v&&s&&s.clone?v.clone():v;if(v=ie.create(f),d&&(v.__read=!0),v=v.initialize.apply(v,p>0||p+a<g?ie.slice(u,p,p+a):u)||v,d){u.__index=p+v.__read;var y=v.__filtered;y&&(u.__filtered=y,v.__filtered=Ie),v.__read=Ie}return v},peek:function(u,r){return u[u.__index=r||u.__index||0]},remain:function(u){return u.length-(u.__index||0)},readList:function(u,r,s,a){for(var f,c=[],d=r||0,p=a?d+a:u.length,g=d;g<p;g++)c.push(Array.isArray(f=u[g])?this.read(f,0,s):this.read(u,g,s,1));return c},readNamed:function(u,r,s,a,c){var f=this.getNamed(u,r),d=f!==Ie;if(d){var p=u.__filtered;if(!p){var g=this.getSource(u);(p=u.__filtered=ie.create(g)).__unfiltered=g}p[r]=Ie}return this.read(d?[f]:u,s,a,c)},readSupported:function(u,r){var s=this.getSource(u),a=this,c=!1;return s&&Object.keys(s).forEach(function(f){if(f in r){var d=a.readNamed(u,f);d!==Ie&&(r[f]=d),c=!0}}),c},getSource:function(u){var r=u.__source;if(r===Ie){var s=1===u.length&&u[0];r=u.__source=s&&ie.isPlainObject(s)?s:null}return r},getNamed:function(u,r){var s=this.getSource(u);if(s)return r?s[r]:u.__filtered||s},hasNamed:function(u,r){return!!this.getNamed(u,r)},filter:function(u,r,s,a){var c;function f(y){if(!(s&&y in s||c&&y in c)){var S=r[y];S!==Ie&&(u[y]=S)}}if(a){for(var g,d={},p=0,v=a.length;p<v;p++)(g=a[p])in r&&(f(g),d[g]=!0);c=d}return Object.keys(r.__unfiltered||r).forEach(f),u},isPlainValue:function(u,r){return ie.isPlainObject(u)||Array.isArray(u)||r&&"string"==typeof u},serialize:function(u,r,s,a){r=r||{};var f,c=!a;if(c&&(r.formatter=new pn(r.precision),a={length:0,definitions:{},references:{},add:function(S,b){var C="#"+S._id,D=this.references[C];if(!D){this.length++;var N=b.call(S),O=S._class;O&&N[0]!==O&&N.unshift(O),this.definitions[C]=N,D=this.references[C]=[C]}return D}}),u&&u._serialize){f=u._serialize(r,a);var d=u._class;d&&!u._compactSerialize&&(c||!s)&&f[0]!==d&&f.unshift(d)}else if(Array.isArray(u)){f=[];for(var p=0,g=u.length;p<g;p++)f[p]=ie.serialize(u[p],r,s,a)}else if(ie.isPlainObject(u)){f={};var v=Object.keys(u);for(p=0,g=v.length;p<g;p++){var y=v[p];f[y]=ie.serialize(u[y],r,s,a)}}else f="number"==typeof u?r.formatter.number(u,r.precision):u;return c&&a.length>0?[["dictionary",a.definitions],f]:f},deserialize:function(u,r,s,a,c){var f=u,d=!s,p=d&&u&&u.length&&"dictionary"===u[0][0];if(s=s||{},Array.isArray(u)){var g=u[0],v="dictionary"===g;if(1==u.length&&/^#/.test(g))return s.dictionary[g];f=[];for(var y=(g=ie.exports[g])?1:0,S=u.length;y<S;y++)f.push(ie.deserialize(u[y],r,s,v,p));if(g){var b=f;f=r?r(g,b,d||c):new g(b)}}else if(ie.isPlainObject(u))for(var C in f={},a&&(s.dictionary=f),u)f[C]=ie.deserialize(u[C],r,s);return p?f[1]:f},exportJSON:function(u,r){var s=ie.serialize(u,r);return r&&0==r.asString?s:JSON.stringify(s)},importJSON:function(u,r){return ie.deserialize("string"==typeof u?JSON.parse(u):u,function(s,a,c){var f=c&&r&&r.constructor===s,d=f?r:ie.create(s.prototype);if(1===a.length&&d instanceof ct&&(f||!(d instanceof Un))){var p=a[0];ie.isPlainObject(p)&&(p.insert=!1,f&&(a=a.concat([ct.INSERT])))}return(f?d.set:s).apply(d,a),f&&(r=null),d})},push:function(u,r){var s=r.length;if(s<4096)u.push.apply(u,r);else{var a=u.length;u.length+=s;for(var c=0;c<s;c++)u[a+c]=r[c]}return u},splice:function(u,r,s,a){var c=r&&r.length,f=s===Ie;(s=f?u.length:s)>u.length&&(s=u.length);for(var d=0;d<c;d++)r[d]._index=s+d;if(f)return ie.push(u,r),[];var p=[s,a];r&&ie.push(p,r);for(var g=u.splice.apply(u,p),v=(d=0,g.length);d<v;d++)g[d]._index=Ie;for(d=s+c,v=u.length;d<v;d++)u[d]._index=d;return g},capitalize:function(u){return u.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(u){return u.replace(/-(.)/g,function(r,s){return s.toUpperCase()})},hyphenate:function(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var se={on:function(u,r){if("string"!=typeof u)ie.each(u,function(f,d){this.on(d,f)},this);else{var s=this._eventTypes,a=s&&s[u],c=this._callbacks=this._callbacks||{};-1===(c=c[u]=c[u]||[]).indexOf(r)&&(c.push(r),a&&a.install&&1===c.length&&a.install.call(this,u))}return this},off:function(u,r){if("string"==typeof u){var f,s=this._eventTypes,a=s&&s[u],c=this._callbacks&&this._callbacks[u];return c&&(!r||-1!==(f=c.indexOf(r))&&1===c.length?(a&&a.uninstall&&a.uninstall.call(this,u),delete this._callbacks[u]):-1!==f&&c.splice(f,1)),this}ie.each(u,function(d,p){this.off(p,d)},this)},once:function(u,r){return this.on(u,function s(){r.apply(this,arguments),this.off(u,s)})},emit:function(u,r){var s=this._callbacks&&this._callbacks[u];if(!s)return!1;var a=ie.slice(arguments,1),c=r&&r.target&&!r.currentTarget;s=s.slice(),c&&(r.currentTarget=this);for(var f=0,d=s.length;f<d;f++)if(0==s[f].apply(this,a)){r&&r.stop&&r.stop();break}return c&&delete r.currentTarget,!0},responds:function(u){return!(!this._callbacks||!this._callbacks[u])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(u){var r=this._eventTypes,s=this._callbacks,a=u?"install":"uninstall";if(r)for(var c in s)if(s[c].length>0){var f=r[c],d=f&&f[a];d&&d.call(this,c)}},statics:{inject:function u(r){var s=r._events;if(s){var a={};ie.each(s,function(c,f){var d="string"==typeof c,p=d?c:f,g=ie.capitalize(p),v=p.substring(2).toLowerCase();a[v]=d?{}:c,p="_"+p,r["get"+g]=function(){return this[p]},r["set"+g]=function(y){var S=this[p];S&&this.off(v,S),y&&this.on(v,y),this[p]=y}}),r._eventTypes=a}return u.base.apply(this,arguments)}}},Jn=ie.extend({_class:"PaperScope",initialize:function u(){Ve=this,this.settings=new ie({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=u._id++,u._scopes[this._id]=this;var r=u.prototype;if(!this.support){var s=qt.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:Rt.nativeModes},qt.release(s)}if(!this.agent){var a=oi.navigator.userAgent.toLowerCase(),c=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],f="darwin"===c?"mac":c,d=r.agent=r.browser={platform:f};f&&(d[f]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(p,g,v,y,S){if(!d.chrome){var b="opera"===g?y:/^(node|trident)$/.test(g)?S:v;d.version=b,d.versionNumber=parseFloat(b),d.name=g={trident:"msie",jsdom:"node"}[g]||g,d[g]=!0}}),d.chrome&&delete d.webkit,d.atom&&delete d.chrome}},version:"0.12.17",getView:function(){var u=this.project;return u&&u._view},getPaper:function(){return this},execute:function(u,r){},install:function(u){var r=this;for(var s in ie.each(["project","view","tool"],function(a){ie.define(u,a,{configurable:!0,get:function(){return r[a]}})}),this)!/^_/.test(s)&&this[s]&&(u[s]=this[s])},setup:function(u){return Ve=this,this.project=new un(u),this},createCanvas:function(u,r){return qt.getCanvas(u,r)},activate:function(){Ve=this},clear:function(){for(var u=this.projects,r=this.tools,s=u.length-1;s>=0;s--)u[s].remove();for(s=r.length-1;s>=0;s--)r[s].remove()},remove:function(){this.clear(),delete Jn._scopes[this._id]},statics:new function(){function u(r){return r+="Attribute",function(s,a){return s[r](a)||s[r]("data-paper-"+a)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:u("get"),hasAttribute:u("has")}}}),In=ie.extend(se,{initialize:function(u){this._scope=Ve,this._index=this._scope[this._list].push(this)-1,(u||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var u=this._scope[this._reference];return u&&u!==this&&u.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",u),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(ie.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Tn={findItemBoundsCollisions:function(u,r,s){function a(d){for(var p=new Array(d.length),g=0;g<d.length;g++){var v=d[g].getBounds();p[g]=[v.left,v.top,v.right,v.bottom]}return p}var c=a(u),f=r&&r!==u?a(r):c;return this.findBoundsCollisions(c,f,s||0)},findCurveBoundsCollisions:function(u,r,s,a){function c(b){for(var C=Math.min,D=Math.max,N=new Array(b.length),O=0;O<b.length;O++){var P=b[O];N[O]=[C(P[0],P[2],P[4],P[6]),C(P[1],P[3],P[5],P[7]),D(P[0],P[2],P[4],P[6]),D(P[1],P[3],P[5],P[7])]}return N}var f=c(u),d=r&&r!==u?c(r):f;if(a){for(var p=this.findBoundsCollisions(f,d,s||0,!1,!0),g=this.findBoundsCollisions(f,d,s||0,!0,!0),v=[],y=0,S=p.length;y<S;y++)v[y]={hor:p[y],ver:g[y]};return v}return this.findBoundsCollisions(f,d,s||0)},findBoundsCollisions:function(u,r,s,a,c){var f=!r||u===r,d=f?u:u.concat(r),p=u.length,g=d.length;function v(ce,ge,we){for(var ye=0,fe=ce.length;ye<fe;){var pe=fe+ye>>>1;d[ce[pe]][ge]<we?ye=pe+1:fe=pe}return ye-1}for(var y=a?1:0,S=y+2,b=a?0:1,C=b+2,D=new Array(g),N=0;N<g;N++)D[N]=N;D.sort(function(ce,ge){return d[ce][y]-d[ge][y]});var O=[],P=new Array(p);for(N=0;N<g;N++){var I=D[N],x=d[I],E=f?I:I-p,M=I<p,R=f||!M,L=M?[]:null;if(O.length){var F=v(O,S,x[y]-s)+1;if(O.splice(0,F),f&&c){L=L.concat(O);for(var V=0;V<O.length;V++)P[z=O[V]].push(E)}else{var U=x[C],K=x[b];for(V=0;V<O.length;V++){var z,$=d[z=O[V]],q=z<p,W=f||z>=p;(c||(M&&W||R&&q)&&U>=$[b]-s&&K<=$[C]+s)&&(M&&W&&L.push(f?z:z-p),R&&q&&P[z].push(E))}}}if(M&&(u===r&&L.push(I),P[I]=L),O.length){var X=v(O,S,x[S]);O.splice(X+1,0,I)}else O.push(I)}for(N=0;N<P.length;N++){var ne=P[N];ne&&ne.sort(function(ge,we){return ge-we})}return P}},pn=ie.extend({initialize:function(u){this.precision=ie.pick(u,5),this.multiplier=Math.pow(10,this.precision)},number:function(u){return this.precision<16?Math.round(u*this.multiplier)/this.multiplier:u},pair:function(u,r,s){return this.number(u)+(s||",")+this.number(r)},point:function(u,r){return this.number(u.x)+(r||",")+this.number(u.y)},size:function(u,r){return this.number(u.width)+(r||",")+this.number(u.height)},rectangle:function(u,r){return this.point(u,r)+(r||",")+this.size(u,r)}});pn.instance=new pn;var je=new function(){var u=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,a=Math.sqrt,c=Math.pow,f=Math.log2||function(S){return Math.log(S)*Math.LOG2E},d=1e-12,p=112e-18;function g(S,b,C){return S<b?b:S>C?C:S}function v(S,b,C){function D(F){var V=134217729*F,U=F-V+V;return[U,F-U]}var N=b*b-S*C,O=b*b+S*C;if(3*s(N)<O){var P=D(S),I=D(b),x=D(C),E=b*b,R=S*C;N=E-R+(I[0]*I[0]-E+2*I[0]*I[1]+I[1]*I[1]-(P[0]*x[0]-R+P[0]*x[1]+P[1]*x[0]+P[1]*x[1]))}return N}function y(){var S=Math.max.apply(Math,arguments);return S&&(S<1e-8||S>1e8)?c(2,-Math.round(f(S))):0}return{EPSILON:d,MACHINE_EPSILON:p,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(a(2)-1)/3,isZero:function(S){return S>=-d&&S<=d},isMachineZero:function(S){return S>=-p&&S<=p},clamp:g,integrate:function(S,b,C,D){for(var N=u[D-2],O=r[D-2],P=.5*(C-b),I=P+b,x=0,E=D+1>>1,M=1&D?O[x++]*S(I):0;x<E;){var R=P*N[x];M+=O[x++]*(S(I+R)+S(I-R))}return P*M},findRoot:function(S,b,C,D,N,O,P){for(var I=0;I<O;I++){var x=S(C),E=x/b(C),M=C-E;if(s(E)<P){C=M;break}x>0?(N=C,C=M<=D?.5*(D+N):M):(D=C,C=M>=N?.5*(D+N):M)}return g(C,D,N)},solveQuadratic:function(S,b,C,D,N,O){var P,I=1/0;if(s(S)<d){if(s(b)<d)return s(C)<d?-1:0;P=-C/b}else{var x=v(S,b*=-.5,C);if(x&&s(x)<p){var E=y(s(S),s(b),s(C));E&&(x=v(S*=E,b*=E,C*=E))}if(x>=-p){var M=x<0?0:a(x),R=b+(b<0?-M:M);0===R?I=-(P=C/S):(P=R/S,I=C/R)}}var L=0,F=null==N,V=N-d,z=O+d;return isFinite(P)&&(F||P>V&&P<z)&&(D[L++]=F?P:g(P,N,O)),I!==P&&isFinite(I)&&(F||I>V&&I<z)&&(D[L++]=F?I:g(I,N,O)),L},solveCubic:function(S,b,C,D,N,O,P){var x,E,M,R,L,I=y(s(S),s(b),s(C),s(D));function F(X){var ne=S*(x=X);R=(ne+(E=ne+b))*x+(M=E*x+C),L=M*x+D}if(I&&(S*=I,b*=I,C*=I,D*=I),s(S)<d)S=b,E=C,M=D,x=1/0;else if(s(D)<d)E=b,M=C,x=0;else{F(-b/S/3);var V=L/S,z=c(s(V),1/3),U=V<0?-1:1,K=-R/S,$=K>0?1.324717957244746*Math.max(z,a(K)):z,q=x-U*$;if(q!==x){do{F(q),q=0===R?x:x-L/R/(1+p)}while(U*q>U*x);s(S)*x*x>s(D/x)&&(E=((M=-D/x)-C)/x)}}var W=je.solveQuadratic(S,E,M,N,O,P),Y=null==O;return isFinite(x)&&(0===W||W>0&&x!==N[0]&&x!==N[1])&&(Y||x>O-d&&x<P+d)&&(N[W++]=Y?x:g(x,O,P)),W}}},_t={_id:1,_pools:{},get:function(u){if(u){var r=this._pools[u];return r||(r=this._pools[u]={_id:1}),r._id++}return this._id++}},le=ie.extend({_class:"Point",_readIndex:!0,initialize:function(r,s){var a=typeof r,c=this.__read,f=0;if("number"===a){var d="number"==typeof s;this._set(r,d?s:r),c&&(f=d?2:1)}else if("undefined"===a||null===r)this._set(0,0),c&&(f=null===r?1:0);else{var p="string"===a?r.split(/[\s,]+/)||[]:r;f=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"x"in p?this._set(p.x||0,p.y||0):"width"in p?this._set(p.width||0,p.height||0):"angle"in p?(this._set(p.length||0,0),this.setAngle(p.angle||0)):(this._set(0,0),f=0)}return c&&(this.__read=f),this},set:"#initialize",_set:function(u,r){return this.x=u,this.y=r,this},equals:function(u){return this===u||u&&(this.x===u.x&&this.y===u.y||Array.isArray(u)&&this.x===u[0]&&this.y===u[1])||!1},clone:function(){return new le(this.x,this.y)},toString:function(){var u=pn.instance;return"{ x: "+u.number(this.x)+", y: "+u.number(this.y)+" }"},_serialize:function(u){var r=u.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(u){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*u,Math.sin(r)*u)}else{var s=u/this.getLength();je.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(u){this.setAngleInRadians.call(this,u*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var u=le.read(arguments),r=this.getLength()*u.getLength();if(je.isZero(r))return NaN;var s=this.dot(u)/r;return Math.acos(s<-1?-1:s>1?1:s)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(u){if(this._angle=u,!this.isZero()){var r=this.getLength();this._set(Math.cos(u)*r,Math.sin(u)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var u=le.read(arguments);return 180*Math.atan2(this.cross(u),this.dot(u))/Math.PI},getDistance:function(){var u=arguments,r=le.read(u),s=r.x-this.x,a=r.y-this.y,c=s*s+a*a;return ie.read(u)?c:Math.sqrt(c)},normalize:function(u){u===Ie&&(u=1);var r=this.getLength(),s=0!==r?u/r:0,a=new le(this.x*s,this.y*s);return s>=0&&(a._angle=this._angle),a},rotate:function(u,r){if(0===u)return this.clone();u=u*Math.PI/180;var s=r?this.subtract(r):this,a=Math.sin(u),c=Math.cos(u);return s=new le(s.x*c-s.y*a,s.x*a+s.y*c),r?s.add(r):s},transform:function(u){return u?u._transformPoint(this):this},add:function(){var u=le.read(arguments);return new le(this.x+u.x,this.y+u.y)},subtract:function(){var u=le.read(arguments);return new le(this.x-u.x,this.y-u.y)},multiply:function(){var u=le.read(arguments);return new le(this.x*u.x,this.y*u.y)},divide:function(){var u=le.read(arguments);return new le(this.x/u.x,this.y/u.y)},modulo:function(){var u=le.read(arguments);return new le(this.x%u.x,this.y%u.y)},negate:function(){return new le(-this.x,-this.y)},isInside:function(){return Q.read(arguments).contains(this)},isClose:function(){var u=arguments,r=le.read(u),s=ie.read(u);return this.getDistance(r)<=s},isCollinear:function(){var u=le.read(arguments);return le.isCollinear(this.x,this.y,u.x,u.y)},isColinear:"#isCollinear",isOrthogonal:function(){var u=le.read(arguments);return le.isOrthogonal(this.x,this.y,u.x,u.y)},isZero:function(){var u=je.isZero;return u(this.x)&&u(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(u){return this.x*(u>1&&u<4?-1:1)>=0&&this.y*(u>2?-1:1)>=0},dot:function(){var u=le.read(arguments);return this.x*u.x+this.y*u.y},cross:function(){var u=le.read(arguments);return this.x*u.y-this.y*u.x},project:function(){var u=le.read(arguments),r=u.isZero()?0:this.dot(u)/u.dot(u);return new le(u.x*r,u.y*r)},statics:{min:function(){var u=arguments,r=le.read(u),s=le.read(u);return new le(Math.min(r.x,s.x),Math.min(r.y,s.y))},max:function(){var u=arguments,r=le.read(u),s=le.read(u);return new le(Math.max(r.x,s.x),Math.max(r.y,s.y))},random:function(){return new le(Math.random(),Math.random())},isCollinear:function(u,r,s,a){return Math.abs(u*a-r*s)<=1e-8*Math.sqrt((u*u+r*r)*(s*s+a*a))},isOrthogonal:function(u,r,s,a){return Math.abs(u*s+r*a)<=1e-8*Math.sqrt((u*u+r*r)*(s*s+a*a))}}},ie.each(["round","ceil","floor","abs"],function(u){var r=Math[u];this[u]=function(){return new le(r(this.x),r(this.y))}},{})),ae=le.extend({initialize:function(r,s,a,c){this._x=r,this._y=s,this._owner=a,this._setter=c},_set:function(u,r,s){return this._x=u,this._y=r,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(u){this._x=u,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(u){this._y=u,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(u){this._owner._changeSelection(this._getSelection(),u)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),We=ie.extend({_class:"Size",_readIndex:!0,initialize:function(r,s){var a=typeof r,c=this.__read,f=0;if("number"===a){var d="number"==typeof s;this._set(r,d?s:r),c&&(f=d?2:1)}else if("undefined"===a||null===r)this._set(0,0),c&&(f=null===r?1:0);else{var p="string"===a?r.split(/[\s,]+/)||[]:r;f=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"width"in p?this._set(p.width||0,p.height||0):"x"in p?this._set(p.x||0,p.y||0):(this._set(0,0),f=0)}return c&&(this.__read=f),this},set:"#initialize",_set:function(u,r){return this.width=u,this.height=r,this},equals:function(u){return u===this||u&&(this.width===u.width&&this.height===u.height||Array.isArray(u)&&this.width===u[0]&&this.height===u[1])||!1},clone:function(){return new We(this.width,this.height)},toString:function(){var u=pn.instance;return"{ width: "+u.number(this.width)+", height: "+u.number(this.height)+" }"},_serialize:function(u){var r=u.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var u=We.read(arguments);return new We(this.width+u.width,this.height+u.height)},subtract:function(){var u=We.read(arguments);return new We(this.width-u.width,this.height-u.height)},multiply:function(){var u=We.read(arguments);return new We(this.width*u.width,this.height*u.height)},divide:function(){var u=We.read(arguments);return new We(this.width/u.width,this.height/u.height)},modulo:function(){var u=We.read(arguments);return new We(this.width%u.width,this.height%u.height)},negate:function(){return new We(-this.width,-this.height)},isZero:function(){var u=je.isZero;return u(this.width)&&u(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(u,r){return new We(Math.min(u.width,r.width),Math.min(u.height,r.height))},max:function(u,r){return new We(Math.max(u.width,r.width),Math.max(u.height,r.height))},random:function(){return new We(Math.random(),Math.random())}}},ie.each(["round","ceil","floor","abs"],function(u){var r=Math[u];this[u]=function(){return new We(r(this.width),r(this.height))}},{})),Ae=We.extend({initialize:function(r,s,a,c){this._width=r,this._height=s,this._owner=a,this._setter=c},_set:function(u,r,s){return this._width=u,this._height=r,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(u){this._width=u,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(u){this._height=u,this._owner[this._setter](this)}}),Q=ie.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(r,s,a,c){var p,f=arguments,d=typeof r;if("number"===d?(this._set(r,s,a,c),p=4):"undefined"===d||null===r?(this._set(0,0,0,0),p=null===r?1:0):1===f.length&&(Array.isArray(r)?(this._set.apply(this,r),p=1):r.x!==Ie||r.width!==Ie?(this._set(r.x||0,r.y||0,r.width||0,r.height||0),p=1):r.from===Ie&&r.to===Ie&&(this._set(0,0,0,0),ie.readSupported(f,this)&&(p=1))),p===Ie){var b,C,g=le.readNamed(f,"from"),v=ie.peek(f),y=g.x,S=g.y;if(v&&v.x!==Ie||ie.hasNamed(f,"to")){var D=le.readNamed(f,"to");(b=D.x-y)<0&&(y=D.x,b=-b),(C=D.y-S)<0&&(S=D.y,C=-C)}else{var N=We.read(f);b=N.width,C=N.height}this._set(y,S,b,C),p=f.__index}var O=f.__filtered;return O&&(this.__filtered=O),this.__read&&(this.__read=p),this},set:"#initialize",_set:function(u,r,s,a){return this.x=u,this.y=r,this.width=s,this.height=a,this},clone:function(){return new Q(this.x,this.y,this.width,this.height)},equals:function(u){var r=ie.isPlainValue(u)?Q.read(arguments):u;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var u=pn.instance;return"{ x: "+u.number(this.x)+", y: "+u.number(this.y)+", width: "+u.number(this.width)+", height: "+u.number(this.height)+" }"},_serialize:function(u){var r=u.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(u){return new(u?le:ae)(this.x,this.y,this,"setPoint")},setPoint:function(){var u=le.read(arguments);this.x=u.x,this.y=u.y},getSize:function(u){return new(u?We:Ae)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var u=We.read(arguments),r=this._sx,s=this._sy,a=u.width,c=u.height;r&&(this.x+=(this.width-a)*r),s&&(this.y+=(this.height-c)*s),this.width=a,this.height=c,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(u){if(!this._fw){var r=u-this.x;this.width-=.5===this._sx?2*r:r}this.x=u,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(u){if(!this._fh){var r=u-this.y;this.height-=.5===this._sy?2*r:r}this.y=u,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(u){if(!this._fw){var r=u-this.x;this.width=.5===this._sx?2*r:r}this.x=u-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(u){if(!this._fh){var r=u-this.y;this.height=.5===this._sy?2*r:r}this.y=u-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(u){this._fw||.5===this._sx?this.x=u-this.width/2:(this._sx&&(this.x+=2*(u-this.x)*this._sx),this.width=2*(u-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(u){this._fh||.5===this._sy?this.y=u-this.height/2:(this._sy&&(this.y+=2*(u-this.y)*this._sy),this.height=2*(u-this.y)),this._sy=.5,this._fh=0},getCenter:function(u){return new(u?le:ae)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var u=le.read(arguments);return this.setCenterX(u.x),this.setCenterY(u.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(u){return u&&u.width!==Ie||4===(Array.isArray(u)?u:arguments).length?this._containsRectangle(Q.read(arguments)):this._containsPoint(le.read(arguments))},_containsPoint:function(u){var r=u.x,s=u.y;return r>=this.x&&s>=this.y&&r<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(u){var r=u.x,s=u.y;return r>=this.x&&s>=this.y&&r+u.width<=this.x+this.width&&s+u.height<=this.y+this.height},intersects:function(){var u=Q.read(arguments),r=ie.read(arguments)||0;return u.x+u.width>this.x-r&&u.y+u.height>this.y-r&&u.x<this.x+this.width+r&&u.y<this.y+this.height+r},intersect:function(){var u=Q.read(arguments),r=Math.max(this.x,u.x),s=Math.max(this.y,u.y),a=Math.min(this.x+this.width,u.x+u.width),c=Math.min(this.y+this.height,u.y+u.height);return new Q(r,s,a-r,c-s)},unite:function(){var u=Q.read(arguments),r=Math.min(this.x,u.x),s=Math.min(this.y,u.y),a=Math.max(this.x+this.width,u.x+u.width),c=Math.max(this.y+this.height,u.y+u.height);return new Q(r,s,a-r,c-s)},include:function(){var u=le.read(arguments),r=Math.min(this.x,u.x),s=Math.min(this.y,u.y),a=Math.max(this.x+this.width,u.x),c=Math.max(this.y+this.height,u.y);return new Q(r,s,a-r,c-s)},expand:function(){var u=We.read(arguments),r=u.width,s=u.height;return new Q(this.x-r/2,this.y-s/2,this.width+r,this.height+s)},scale:function(u,r){return this.expand(this.width*u-this.width,this.height*(r===Ie?u:r)-this.height)}},ie.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(u,r){var s=u.join(""),a=/^[RL]/.test(s);r>=4&&(u[1]+=a?"Y":"X");var c=u[a?0:1],f=u[a?1:0],d="get"+c,p="get"+f,g="set"+c,v="set"+f,S="set"+s;this["get"+s]=function(b){return new(b?le:ae)(this[d](),this[p](),this,S)},this[S]=function(){var b=le.read(arguments);this[g](b.x),this[v](b.y)}},{beans:!0})),tt=Q.extend({initialize:function(r,s,a,c,f,d){this._set(r,s,a,c,!0),this._owner=f,this._setter=d},_set:function(u,r,s,a,c){return this._x=u,this._y=r,this._width=s,this._height=a,c||this._owner[this._setter](this),this}},new function(){var u=Q.prototype;return ie.each(["x","y","width","height"],function(r){var s=ie.capitalize(r),a="_"+r;this["get"+s]=function(){return this[a]},this["set"+s]=function(c){this[a]=c,this._dontNotify||this._owner[this._setter](this)}},ie.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var s="set"+r;this[s]=function(){this._dontNotify=!0,u[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(r){var s=this._owner;s._changeSelection&&s._changeSelection(2,r)}}))}),$t=ie.extend({_class:"Matrix",initialize:function u(r,s){var a=arguments,c=a.length,f=!0;if(c>=6?this._set.apply(this,a):1===c||2===c?r instanceof u?this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,s):Array.isArray(r)?this._set.apply(this,s?r.concat([s]):r):f=!1:c?f=!1:this.reset(),!f)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(u,r,s,a,c,f,d){return this._a=u,this._b=r,this._c=s,this._d=a,this._tx=c,this._ty=f,d||this._changed(),this},_serialize:function(u,r){return ie.serialize(this.getValues(),u,!0,r)},_changed:function(){var u=this._owner;u&&(u._applyMatrix?u.transform(null,!0):u._changed(25))},clone:function(){return new $t(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(u){return u===this||u&&this._a===u._a&&this._b===u._b&&this._c===u._c&&this._d===u._d&&this._tx===u._tx&&this._ty===u._ty},toString:function(){var u=pn.instance;return"[["+[u.number(this._a),u.number(this._c),u.number(this._tx)].join(", ")+"], ["+[u.number(this._b),u.number(this._d),u.number(this._ty)].join(", ")+"]]"},reset:function(u){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,u||this._changed(),this},apply:function(u,r){var s=this._owner;return!!s&&(s.transform(null,ie.pick(u,!0),r),this.isIdentity())},translate:function(){var u=le.read(arguments),r=u.x,s=u.y;return this._tx+=r*this._a+s*this._c,this._ty+=r*this._b+s*this._d,this._changed(),this},scale:function(){var u=arguments,r=le.read(u),s=le.read(u,0,{readNull:!0});return s&&this.translate(s),this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(u){u*=Math.PI/180;var r=le.read(arguments,1),s=r.x,a=r.y,c=Math.cos(u),f=Math.sin(u),d=s-s*c+a*f,p=a-s*f-a*c,g=this._a,v=this._b,y=this._c,S=this._d;return this._a=c*g+f*y,this._b=c*v+f*S,this._c=-f*g+c*y,this._d=-f*v+c*S,this._tx+=d*g+p*y,this._ty+=d*v+p*S,this._changed(),this},shear:function(){var u=arguments,r=le.read(u),s=le.read(u,0,{readNull:!0});s&&this.translate(s);var a=this._a,c=this._b;return this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*a,this._d+=r.x*c,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var u=arguments,r=le.read(u),s=le.read(u,0,{readNull:!0}),a=Math.PI/180,c=new le(Math.tan(r.x*a),Math.tan(r.y*a));return this.shear(c,s)},append:function(u,r){if(u){var s=this._a,a=this._b,c=this._c,f=this._d,d=u._a,p=u._c,g=u._b,v=u._d,y=u._tx,S=u._ty;this._a=d*s+g*c,this._c=p*s+v*c,this._b=d*a+g*f,this._d=p*a+v*f,this._tx+=y*s+S*c,this._ty+=y*a+S*f,r||this._changed()}return this},prepend:function(u,r){if(u){var s=this._a,a=this._b,c=this._c,f=this._d,d=this._tx,p=this._ty,g=u._a,v=u._c,y=u._b,S=u._d,b=u._tx,C=u._ty;this._a=g*s+v*a,this._c=g*c+v*f,this._b=y*s+S*a,this._d=y*c+S*f,this._tx=g*d+v*p+b,this._ty=y*d+S*p+C,r||this._changed()}return this},appended:function(u){return this.clone().append(u)},prepended:function(u){return this.clone().prepend(u)},invert:function(){var u=this._a,r=this._b,s=this._c,a=this._d,c=this._tx,f=this._ty,d=u*a-r*s,p=null;return d&&!isNaN(d)&&isFinite(c)&&isFinite(f)&&(this._a=a/d,this._b=-r/d,this._c=-s/d,this._d=u/d,this._tx=(s*f-a*c)/d,this._ty=(r*c-u*f)/d,p=this),p},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new $t(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var u=this._a*this._d-this._c*this._b;return u&&!isNaN(u)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(u,r,s){return arguments.length<3?this._transformPoint(le.read(arguments)):this._transformCoordinates(u,r,s)},_transformPoint:function(u,r,s){var a=u.x,c=u.y;return r||(r=new le),r._set(a*this._a+c*this._c+this._tx,a*this._b+c*this._d+this._ty,s)},_transformCoordinates:function(u,r,s){for(var a=0,c=2*s;a<c;a+=2){var f=u[a],d=u[a+1];r[a]=f*this._a+d*this._c+this._tx,r[a+1]=f*this._b+d*this._d+this._ty}return r},_transformCorners:function(u){var r=u.x,s=u.y,a=r+u.width,c=s+u.height,f=[r,s,a,s,a,c,r,c];return this._transformCoordinates(f,f,4)},_transformBounds:function(u,r,s){for(var a=this._transformCorners(u),c=a.slice(0,2),f=c.slice(),d=2;d<8;d++){var p=a[d],g=1&d;p<c[g]?c[g]=p:p>f[g]&&(f[g]=p)}return r||(r=new Q),r._set(c[0],c[1],f[0]-c[0],f[1]-c[1],s)},inverseTransform:function(){return this._inverseTransform(le.read(arguments))},_inverseTransform:function(u,r,s){var a=this._a,c=this._b,f=this._c,d=this._d,p=this._tx,g=this._ty,v=a*d-c*f,y=null;if(v&&!isNaN(v)&&isFinite(p)&&isFinite(g)){var S=u.x-this._tx,b=u.y-this._ty;r||(r=new le),y=r._set((S*d-b*f)/v,(b*a-S*c)/v,s)}return y},decompose:function(){var g,v,y,u=this._a,r=this._b,s=this._c,a=this._d,c=u*a-r*s,f=Math.sqrt,d=Math.atan2,p=180/Math.PI;if(0!==u||0!==r){var S=f(u*u+r*r);g=Math.acos(u/S)*(r>0?1:-1),v=[S,c/S],y=[d(u*s+r*a,S*S),0]}else if(0!==s||0!==a){var b=f(s*s+a*a);g=Math.asin(s/b)*(a>0?1:-1),v=[c/b,b],y=[0,d(u*s+r*a,b*b)]}else g=0,y=v=[0,0];return{translation:this.getTranslation(),rotation:g*p,scaling:new le(v),skewing:new le(y[0]*p,y[1]*p)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new le(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(u){this.isIdentity()||u.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},ie.each(["a","b","c","d","tx","ty"],function(u){var r=ie.capitalize(u),s="_"+u;this["get"+r]=function(){return this[s]},this["set"+r]=function(a){this[s]=a,this._changed()}},{})),gt=ie.extend({_class:"Line",initialize:function(r,s,a,c,f){var d=!1;arguments.length>=4?(this._px=r,this._py=s,this._vx=a,this._vy=c,d=f):(this._px=r.x,this._py=r.y,this._vx=s.x,this._vy=s.y,d=a),d||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new le(this._px,this._py)},getVector:function(){return new le(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(u,r){return gt.intersect(this._px,this._py,this._vx,this._vy,u._px,u._py,u._vx,u._vy,!0,r)},getSide:function(u,r){return gt.getSide(this._px,this._py,this._vx,this._vy,u.x,u.y,!0,r)},getDistance:function(u){return Math.abs(this.getSignedDistance(u))},getSignedDistance:function(u){return gt.getSignedDistance(this._px,this._py,this._vx,this._vy,u.x,u.y,!0)},isCollinear:function(u){return le.isCollinear(this._vx,this._vy,u._vx,u._vy)},isOrthogonal:function(u){return le.isOrthogonal(this._vx,this._vy,u._vx,u._vy)},statics:{intersect:function(u,r,s,a,c,f,d,p,g,v){g||(s-=u,a-=r,d-=c,p-=f);var y=s*p-a*d;if(!je.isMachineZero(y)){var S=u-c,b=r-f,C=(d*b-p*S)/y,D=(s*b-a*S)/y,O=-1e-12,P=1+1e-12;if(v||O<C&&C<P&&O<D&&D<P)return v||(C=C<=0?0:C>=1?1:C),new le(u+C*s,r+C*a)}},getSide:function(u,r,s,a,c,f,d,p){d||(s-=u,a-=r);var g=c-u,y=g*a-(f-r)*s;return!p&&je.isMachineZero(y)&&(y=(g*s+g*s)/(s*s+a*a))>=0&&y<=1&&(y=0),y<0?-1:y>0?1:0},getSignedDistance:function(u,r,s,a,c,f,d){return d||(s-=u,a-=r),0===s?a>0?c-u:u-c:0===a?s<0?f-r:r-f:((c-u)*a-(f-r)*s)/(a>s?a*Math.sqrt(1+s*s/(a*a)):s*Math.sqrt(1+a*a/(s*s)))},getDistance:function(u,r,s,a,c,f,d){return Math.abs(gt.getSignedDistance(u,r,s,a,c,f,d))}}}),un=In.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(r){In.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ji(null,null,this),this._view=Et.create(this,r||qt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(u,r){return ie.serialize(this._children,u,!0,r)},_changed:function(u,r){if(1&u){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var a=this._changes;if(a&&r){var c=this._changesById,f=r._id,d=c[f];d?d.flags|=u:a.push(c[f]={item:r,flags:u})}},clear:function(){for(var u=this._children,r=u.length-1;r>=0;r--)u[r].remove()},isEmpty:function(){return!this._children.length},remove:function u(){return!!u.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(u){this._currentStyle.set(u)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Un({project:this,insert:!0})},getSymbolDefinitions:function(){var u=[],r={};return this.getItems({class:Rn,match:function(s){var a=s._definition,c=a._id;return r[c]||(r[c]=!0,u.push(a)),!1}}),u},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var u=this._selectionItems,r=[];for(var s in u){var a=u[s],c=a._selection;1&c&&a.isInserted()?r.push(a):c||this._updateSelection(a)}return r},_updateSelection:function(u){var r=u._id,s=this._selectionItems;u._selection?s[r]!==u&&(this._selectionCount++,s[r]=u):s[r]===u&&(this._selectionCount--,delete s[r])},selectAll:function(){for(var u=this._children,r=0,s=u.length;r<s;r++)u[r].setFullySelected(!0)},deselectAll:function(){var u=this._selectionItems;for(var r in u)u[r].setFullySelected(!1)},addLayer:function(u){return this.insertLayer(Ie,u)},insertLayer:function(u,r){if(r instanceof Un){r._remove(!1,!0),ie.splice(this._children,[r],u,0),r._setProject(this,!0);var s=r._name;s&&r.setName(s),this._changes&&r._changed(5),this._activeLayer||(this._activeLayer=r)}else r=null;return r},_insertItem:function(u,r,s){return r=this.insertLayer(u,r)||(this._activeLayer||this._insertItem(Ie,new Un(ct.NO_INSERT),!0)).insertChild(u,r),s&&r.activate&&r.activate(),r},getItems:function(u){return ct._getItems(this,u)},getItem:function(u){return ct._getItems(this,u,null,null,!0)[0]||null},importJSON:function(u){this.activate();var r=this._activeLayer;return ie.importJSON(u,r&&r.isEmpty()&&r)},removeOn:function(u){var r=this._removeSets;if(r){"mouseup"===u&&(r.mousedrag=null);var s=r[u];if(s){for(var a in s){var c=s[a];for(var f in r){var d=r[f];d&&d!=s&&delete d[c._id]}c.remove()}r[u]=null}}},draw:function(u,r,s){this._updateVersion++,u.save(),r.applyToContext(u);for(var a=this._children,c=new ie({offset:new le(0,0),pixelRatio:s,viewMatrix:r.isIdentity()?null:r,matrices:[new $t],updateMatrix:!0}),f=0,d=a.length;f<d;f++)a[f].draw(u,c);if(u.restore(),this._selectionCount>0){u.save(),u.strokeWidth=1;var p=this._selectionItems,g=this._scope.settings.handleSize,v=this._updateVersion;for(var y in p)p[y]._drawSelection(u,r,g,p,v);u.restore()}}}),ct=ie.extend(se,{statics:{extend:function u(r){return r._serializeFields&&(r._serializeFields=ie.set({},this.prototype._serializeFields,r._serializeFields)),u.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new $t,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var u=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return ie.each(u,function(r){this._events[r]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:u}})},{initialize:function(){},_initialize:function(u,r){var s=u&&ie.isPlainObject(u),a=s&&!0===u.internal,c=this._matrix=new $t,f=s&&u.project||Ve.project,d=Ve.settings;return this._id=a?null:_t.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&d.applyMatrix,r&&c.translate(r),c._owner=this,this._style=new ji(f._currentStyle,this,f),a||s&&0==u.insert||!d.insertItems&&(!s||1!=u.insert)?this._setProject(f):(s&&u.parent||f)._insertItem(Ie,this,!0),s&&u!==ct.NO_INSERT&&u!==ct.INSERT&&this.set(u,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(u,r){var s={},a=this;function c(f){for(var d in f){var p=a[d];ie.equals(p,"leading"===d?1.2*f.fontSize:f[d])||(s[d]=ie.serialize(p,u,"data"!==d,r))}}return c(this._serializeFields),this instanceof et||c(this._style._defaults),[this._class,s]},_changed:function(u){var r=this._symbol,s=this._parent||r,a=this._project;8&u&&(this._bounds=this._position=this._decomposed=Ie),16&u&&(this._globalMatrix=Ie),s&&72&u&&ct._clearBoundsCache(s),2&u&&ct._clearBoundsCache(this),a&&a._changed(u,this),r&&r._changed(u)},getId:function(){return this._id},getName:function(){return this._name},setName:function(u){if(this._name&&this._removeNamed(),u===+u+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(u&&r){var s=r._children,a=r._namedChildren;(a[u]=a[u]||[]).push(this),u in s||(s[u]=this)}this._name=u||Ie,this._changed(256)},getStyle:function(){return this._style},setStyle:function(u){this.getStyle().set(u)}},ie.each(["locked","visible","blendMode","opacity","guide"],function(u){var r=ie.capitalize(u),s="_"+u,a={locked:256,visible:265};this["get"+r]=function(){return this[s]},this["set"+r]=function(c){c!=this[s]&&(this[s]=c,this._changed(a[u]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(u){if(u!==this._selection){this._selection=u;var r=this._project;r&&(r._updateSelection(this),this._changed(257))}},_changeSelection:function(u,r){var s=this._selection;this.setSelection(r?s|u:s&~u)},isSelected:function(){if(this._selectChildren)for(var u=this._children,r=0,s=u.length;r<s;r++)if(u[r].isSelected())return!0;return!!(1&this._selection)},setSelected:function(u){if(this._selectChildren)for(var r=this._children,s=0,a=r.length;s<a;s++)r[s].setSelected(u);this._changeSelection(1,u)},isFullySelected:function(){var u=this._children,r=!!(1&this._selection);if(u&&r){for(var s=0,a=u.length;s<a;s++)if(!u[s].isFullySelected())return!1;return!0}return r},setFullySelected:function(u){var r=this._children;if(r)for(var s=0,a=r.length;s<a;s++)r[s].setFullySelected(u);this._changeSelection(1,u)},isClipMask:function(){return this._clipMask},setClipMask:function(u){this._clipMask!=(u=!!u)&&(this._clipMask=u,u&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(u){this._data=u},getPosition:function(u){var r=u?le:ae,s=this._position||(this._position=this._getPositionFromBounds());return new r(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(le.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(u){return this._pivot?this._matrix._transformPoint(this._pivot):(u||this.getBounds()).getCenter(!0)},getPivot:function(){var u=this._pivot;return u?new ae(u.x,u.y,this,"setPivot"):null},setPivot:function(){this._pivot=le.read(arguments,0,{clone:!0,readNull:!0}),this._position=Ie}},ie.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(u,r){this[r]=function(s){return this.getBounds(s,u)}},{beans:!0,getBounds:function(u,r){var s=r||u instanceof $t,a=ie.set({},s?r:u,this._boundsOptions);(!a.stroke||this.getStrokeScaling())&&(a.cacheItem=this);var c=this._getCachedBounds(s&&u,a).rect;return arguments.length?c:new tt(c.x,c.y,c.width,c.height,this,"setBounds")},setBounds:function(){var u=Q.read(arguments),r=this.getBounds(),s=this._matrix,a=new $t,c=u.getCenter();a.translate(c),(u.width!=r.width||u.height!=r.height)&&(s.isInvertible()||(s.set(s._backup||(new $t).translate(s.getTranslation())),r=this.getBounds()),a.scale(0!==r.width?u.width/r.width:0,0!==r.height?u.height/r.height:0)),c=r.getCenter(),a.translate(-c.x,-c.y),this.transform(a)},_getBounds:function(u,r){var s=this._children;return s&&s.length?(ct._updateBoundsCache(this,r.cacheItem),ct._getBounds(s,u,r)):new Q},_getBoundsCacheKey:function(u,r){return[u.stroke?1:0,u.handle?1:0,r?1:0].join("")},_getCachedBounds:function(u,r,s){u=u&&u._orNullIfIdentity();var a=r.internal&&!s,c=r.cacheItem,f=a?null:this._matrix._orNullIfIdentity(),d=c&&(!u||u.equals(f))&&this._getBoundsCacheKey(r,a),p=this._bounds;if(ct._updateBoundsCache(this._parent||this._symbol,c),d&&p&&d in p)return{rect:(g=p[d]).rect.clone(),nonscaling:g.nonscaling};var v=this._getBounds(u||f,r),y=v.rect||v,S=this._style,b=v.nonscaling||S.hasStroke()&&!S.getStrokeScaling();if(d){p||(this._bounds=p={});var g=p[d]={rect:y.clone(),nonscaling:b,internal:a}}return{rect:y,nonscaling:b}},_getStrokeMatrix:function(u,r){var s=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,a=s?s.getViewMatrix().invert():u;return a&&a._shiftless()},statics:{_updateBoundsCache:function(u,r){if(u&&r){var s=r._id,a=u._boundsCache=u._boundsCache||{ids:{},list:[]};a.ids[s]||(a.list.push(r),a.ids[s]=r)}},_clearBoundsCache:function(u){var r=u._boundsCache;if(r){u._bounds=u._position=u._boundsCache=Ie;for(var s=0,a=r.list,c=a.length;s<c;s++){var f=a[s];f!==u&&(f._bounds=f._position=Ie,f._boundsCache&&ct._clearBoundsCache(f))}}},_getBounds:function(u,r,s){var a=1/0,c=-a,f=a,d=c,p=!1;s=s||{};for(var g=0,v=u.length;g<v;g++){var y=u[g];if(y._visible&&!y.isEmpty(!0)){var S=y._getCachedBounds(r&&r.appended(y._matrix),s,!0),b=S.rect;a=Math.min(b.x,a),f=Math.min(b.y,f),c=Math.max(b.x+b.width,c),d=Math.max(b.y+b.height,d),S.nonscaling&&(p=!0)}}return{rect:isFinite(a)?new Q(a,f,c-a,d-f):new Q,nonscaling:p}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var u=this._decompose();return u?u.rotation:0},setRotation:function(u){var r=this.getRotation();if(null!=r&&null!=u){var s=this._decomposed;this.rotate(u-r),s&&(s.rotation=u,this._decomposed=s)}},getScaling:function(){var u=this._decompose(),r=u&&u.scaling;return new ae(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var u=this.getScaling(),r=le.read(arguments,0,{clone:!0,readNull:!0});if(u&&r&&!u.equals(r)){var s=this.getRotation(),a=this._decomposed,c=new $t,f=je.isZero;if(f(u.x)||f(u.y))c.translate(a.translation),s&&c.rotate(s),c.scale(r.x,r.y),this._matrix.set(c);else{var d=this.getPosition(!0);c.translate(d),s&&c.rotate(s),c.scale(r.x/u.x,r.y/u.y),s&&c.rotate(-s),c.translate(d.negate()),this.transform(c)}a&&(a.scaling=r,this._decomposed=a)}},getMatrix:function(){return this._matrix},setMatrix:function(){var u=this._matrix;u.set.apply(u,arguments)},getGlobalMatrix:function(u){var r=this._globalMatrix;if(r)for(var s=this._parent,a=[];s;){if(!s._globalMatrix){r=null;for(var c=0,f=a.length;c<f;c++)a[c]._globalMatrix=null;break}a.push(s),s=s._parent}return r||(r=this._globalMatrix=this._matrix.clone(),(s=this._parent)&&r.prepend(s.getGlobalMatrix(!0))),u?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(u){(this._applyMatrix=this._canApplyMatrix&&!!u)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(u,r){if(this._project!==u){this._project&&this._installEvents(!1),this._project=u;for(var s=this._children,a=0,c=s&&s.length;a<c;a++)s[a]._setProject(u);r=!0}r&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function u(r){u.base.call(this,r);for(var s=this._children,a=0,c=s&&s.length;a<c;a++)s[a]._installEvents(r)},getLayer:function(){for(var u=this;u=u._parent;)if(u instanceof Un)return u;return null},getParent:function(){return this._parent},setParent:function(u){return u.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(u){this.removeChildren(),this.addChildren(u)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var u=this._getOwner();return u&&u._children[this._index+1]||null},getPreviousSibling:function(){var u=this._getOwner();return u&&u._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(u){return u===this||u&&this._class===u._class&&this._style.equals(u._style)&&this._matrix.equals(u._matrix)&&this._locked===u._locked&&this._visible===u._visible&&this._blendMode===u._blendMode&&this._opacity===u._opacity&&this._clipMask===u._clipMask&&this._guide===u._guide&&this._equals(u)||!1},_equals:function(u){return ie.equals(this._children,u._children)},clone:function(u){var r=new this.constructor(ct.NO_INSERT),s=this._children,a=ie.pick(u?u.insert:Ie,u===Ie||!0===u),c=ie.pick(u?u.deep:Ie,!0);s&&r.copyAttributes(this),(!s||c)&&r.copyContent(this),s||r.copyAttributes(this),a&&r.insertAbove(this);var f=this._name,d=this._parent;if(f&&d){s=d._children;for(var p=f,g=1;s[f];)f=p+" "+g++;f!==p&&r.setName(f)}return r},copyContent:function(u){for(var r=u._children,s=0,a=r&&r.length;s<a;s++)this.addChild(r[s].clone(!1),!0)},copyAttributes:function(u,r){this.setStyle(u._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],a=0,c=s.length;a<c;a++){var f=s[a];u.hasOwnProperty(f)&&(this[f]=u[f])}r||this._matrix.set(u._matrix,!0),this.setApplyMatrix(u._applyMatrix),this.setPivot(u._pivot),this.setSelection(u._selection);var d=u._data,p=u._name;this._data=d?ie.clone(d):null,p&&this.setName(p)},rasterize:function(u,r){var s,a,c;ie.isPlainObject(u)?(s=u.resolution,a=u.insert,c=u.raster):(s=u,a=r),c||(c=new Cn(ct.NO_INSERT));var f=this.getStrokeBounds(),d=(s||this.getView().getResolution())/72,p=f.getTopLeft().floor(),g=f.getBottomRight().ceil(),v=new We(g.subtract(p)),y=v.multiply(d);if(c.setSize(y,!0),!y.isZero()){var S=c.getContext(!0),b=(new $t).scale(d).translate(p.negate());S.save(),b.applyToContext(S),this.draw(S,new ie({matrices:[b]})),S.restore()}return c._matrix.set((new $t).translate(p.add(v.divide(2))).scale(1/d)),(a===Ie||a)&&c.insertAbove(this),c},contains:function(){var u=this._matrix;return u.isInvertible()&&!!this._contains(u._inverseTransform(le.read(arguments)))},_contains:function(u){var r=this._children;if(r){for(var s=r.length-1;s>=0;s--)if(r[s].contains(u))return!0;return!1}return u.isInside(this.getInternalBounds())},isInside:function(){return Q.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new ht.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(u,r){return u instanceof ct&&this._asPathItem().getIntersections(u._asPathItem(),null,r,!0).length>0}},new function(){function u(){var a=arguments;return this._hitTest(le.read(a),hn.getOptions(a))}function r(){var a=arguments,c=le.read(a),f=hn.getOptions(a),d=[];return this._hitTest(c,new ie({all:d},f)),d}function s(a,c,f,d){var p=this._children;if(p)for(var g=p.length-1;g>=0;g--){var v=p[g],y=v!==d&&v._hitTest(a,c,f);if(y&&!c.all)return y}return null}return un.inject({hitTest:u,hitTestAll:r,_hitTest:s}),{hitTest:u,hitTestAll:r,_hitTestChildren:s}},{_hitTest:function(u,r,s){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var a=this._matrix,c=s?s.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),f=Math.max(r.tolerance,1e-12),d=r._tolerancePadding=new We(ht._getStrokePadding(f,a._shiftless().invert()));if(!(u=a._inverseTransform(u))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(d.multiply(2))._containsPoint(u))return null;var y,S,p=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==ie.hyphenate(this._class)||r.class&&!(this instanceof r.class)),g=r.match,v=this;function b(x){return x&&g&&!g(x)&&(x=null),x&&r.all&&r.all.push(x),x}function C(x,E){var M=E?y["get"+E]():v.getPosition();if(u.subtract(M).divide(d).length<=1)return new hn(x,v,{name:E?ie.hyphenate(E):x,point:M})}var D=r.position,N=r.center,O=r.bounds;if(p&&this._parent&&(D||N||O)){if((N||O)&&(y=this.getInternalBounds()),!(S=D&&C("position")||N&&C("center","Center"))&&O)for(var P=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],I=0;I<8&&!S;I++)S=C("bounds",P[I]);S=b(S)}return S||(S=this._hitTestChildren(u,r,c)||p&&b(this._hitTestSelf(u,r,c,this.getStrokeScaling()?null:c._shiftless().invert()))||null),S&&S.point&&(S.point=a.transform(S.point)),S},_hitTestSelf:function(u,r){if(r.fill&&this.hasFill()&&this._contains(u))return new hn("fill",this)},matches:function(u,r){var a=typeof u;if("object"===a){for(var c in u)if(u.hasOwnProperty(c)&&!this.matches(c,u[c]))return!1;return!0}if("function"===a)return u(this);if("match"===u)return r(this);var f=/^(empty|editable)$/.test(u)?this["is"+ie.capitalize(u)]():"type"===u?ie.hyphenate(this._class):this[u];if("class"===u){if("function"==typeof r)return this instanceof r;f=this._class}if("function"==typeof r)return!!r(f);if(r){if(r.test)return r.test(f);if(ie.isPlainObject(r))return function s(d,p){for(var g in d)if(d.hasOwnProperty(g)){var v=d[g],y=p[g];if(ie.isPlainObject(v)&&ie.isPlainObject(y)){if(!s(v,y))return!1}else if(!ie.equals(v,y))return!1}return!0}(r,f)}return ie.equals(f,r)},getItems:function(u){return ct._getItems(this,u,this._matrix)},getItem:function(u){return ct._getItems(this,u,this._matrix,null,!0)[0]||null},statics:{_getItems:function u(r,s,a,c,f){if(!c){var d="object"==typeof s&&s,p=d&&d.overlapping,g=d&&d.inside,b=(v=p||g)&&Q.read([v]);c={items:[],recursive:d&&!1!==d.recursive,inside:!!g,overlapping:!!p,rect:b,path:p&&new ht.Rectangle({rectangle:b,insert:!1})},d&&(s=ie.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var y=r._children,S=c.items;a=(b=c.rect)&&(a||new $t);for(var C=0,D=y&&y.length;C<D;C++){var N=y[C],O=a&&a.appended(N._matrix),P=!0;if(b){var v=N.getBounds(O);if(!b.intersects(v))continue;b.contains(v)||c.overlapping&&(v.contains(b)||c.path.intersects(N,O))||(P=!1)}if(P&&N.matches(s)&&(S.push(N),f)||(!1!==c.recursive&&u(N,s,O,c,f),f&&S.length>0))break}return S}}},{importJSON:function(u){var r=ie.importJSON(u,this);return r!==this?this.addChild(r):r},addChild:function(u){return this.insertChild(Ie,u)},insertChild:function(u,r){var s=r?this.insertChildren(u,[r]):null;return s&&s[0]},addChildren:function(u){return this.insertChildren(this._children.length,u)},insertChildren:function(u,r){var s=this._children;if(s&&r&&r.length>0){for(var a={},c=(r=ie.slice(r)).length-1;c>=0;c--){var d=(f=r[c])&&f._id;!f||a[d]?r.splice(c,1):(f._remove(!1,!0),a[d]=!0)}ie.splice(s,r,u,0);for(var p=this._project,g=p._changes,v=(c=0,r.length);c<v;c++){var f,y=(f=r[c])._name;f._parent=this,f._setProject(p,!0),y&&f.setName(y),g&&f._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(u,r){var s=u&&u._getOwner(),a=u!==this&&s?this:null;return a&&(a._remove(!1,!0),s._insertItem(u._index+r,a)),a},insertAbove:function(u){return this._insertAt(u,1)},insertBelow:function(u){return this._insertAt(u,0)},sendToBack:function(){var u=this._getOwner();return u?u._insertItem(0,this):null},bringToFront:function(){var u=this._getOwner();return u?u._insertItem(Ie,this):null},appendTop:"#addChild",appendBottom:function(u){return this.insertChild(0,u)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(u){return u._insertItem(Ie,this)},copyTo:function(u){return this.clone(!1).addTo(u)},reduce:function(u){var r=this._children;if(r&&1===r.length){var s=r[0].reduce(u);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var u=this._getOwner();if(u){var r=u._children,s=u._namedChildren,a=this._name,c=s[a],f=c?c.indexOf(this):-1;-1!==f&&(r[a]==this&&delete r[a],c.splice(f,1),c.length?r[a]=c[0]:delete s[a])}},_remove:function(u,r){var s=this._getOwner(),a=this._project,c=this._index;return this._style&&this._style._dispose(),!!s&&(this._name&&this._removeNamed(),null!=c&&(a._activeLayer===this&&(a._activeLayer=this.getNextSibling()||this.getPreviousSibling()),ie.splice(s._children,null,c,1)),this._installEvents(!1),u&&a._changes&&this._changed(5),r&&s._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(u){var r=u&&u.insertBelow(this);return r&&this.remove(),r},removeChildren:function(u,r){if(!this._children)return null;u=u||0,r=ie.pick(r,this._children.length);for(var s=ie.splice(this._children,null,u,r-u),a=s.length-1;a>=0;a--)s[a]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var u=0,r=this._children.length;u<r;u++)this._children[u]._index=u;this._changed(11)}},isEmpty:function(u){var r=this._children,s=r?r.length:0;if(u){for(var a=0;a<s;a++)if(!r[a].isEmpty(u))return!1;return!0}return!s},isEditable:function(){for(var u=this;u;){if(!u._visible||u._locked)return!1;u=u._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(u){function r(d){var p=[];do{p.unshift(d)}while(d=d._parent);return p}for(var s=r(this),a=r(u),c=0,f=Math.min(s.length,a.length);c<f;c++)if(s[c]!=a[c])return s[c]._index<a[c]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(u){return-1===this._getOrder(u)},isBelow:function(u){return 1===this._getOrder(u)},isParent:function(u){return this._parent===u},isChild:function(u){return u&&u._parent===this},isDescendant:function(u){for(var r=this;r=r._parent;)if(r===u)return!0;return!1},isAncestor:function(u){return!!u&&u.isDescendant(this)},isSibling:function(u){return this._parent===u._parent},isGroupedWith:function(u){for(var r=this._parent;r;){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&u.isDescendant(r))return!0;r=r._parent}return!1}},ie.each(["rotate","scale","shear","skew"],function(u){var r="rotate"===u;this[u]=function(){var s=arguments,a=(r?ie:le).read(s),c=le.read(s,0,{readNull:!0});return this.transform((new $t)[u](a,c||this.getPosition(!0)))}},{translate:function(){var u=new $t;return this.transform(u.translate.apply(u,arguments))},transform:function(u,r,s){var a=this._matrix,c=u&&!u.isIdentity(),f=s&&this._canApplyMatrix||this._applyMatrix&&(c||!a.isIdentity()||r&&this._children);if(!c&&!f)return this;if(c){!u.isInvertible()&&a.isInvertible()&&(a._backup=a.getValues()),a.prepend(u,!0);var d=this._style,p=d.getFillColor(!0),g=d.getStrokeColor(!0);p&&p.transform(u),g&&g.transform(u)}if(f&&(f=this._transformContent(a,r,s))){var v=this._pivot;v&&a._transformPoint(v,v,!0),a.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var y=this._bounds,S=this._position;(c||f)&&this._changed(25);var b=c&&y&&u.decompose();if(b&&b.skewing.isZero()&&b.rotation%90==0){for(var C in y){var D=y[C];if(D.nonscaling)delete y[C];else if(f||!D.internal){var N=D.rect;u._transformBounds(N,N)}}this._bounds=y;var O=y[this._getBoundsCacheKey(this._boundsOptions||{})];O&&(this._position=this._getPositionFromBounds(O.rect))}else c&&S&&this._pivot&&(this._position=u._transformPoint(S,S));return this},_transformContent:function(u,r,s){var a=this._children;if(a){for(var c=0,f=a.length;c<f;c++)a[c].transform(u,r,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(le.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(le.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(le.read(arguments))},localToParent:function(){return this._matrix._transformPoint(le.read(arguments))},fitBounds:function(u,r){u=Q.read(arguments);var s=this.getBounds(),a=s.height/s.width,c=u.height/u.width,f=(r?a>c:a<c)?u.width/s.width:u.height/s.height,d=new Q(new le,new We(s.width*f,s.height*f));d.setCenter(u.getCenter()),this.setBounds(d)}}),{_setStyles:function(u,r,s){var a=this._style,c=this._matrix;if(a.hasFill()&&(u.fillStyle=a.getFillColor().toCanvasStyle(u,c)),a.hasStroke()){u.strokeStyle=a.getStrokeColor().toCanvasStyle(u,c),u.lineWidth=a.getStrokeWidth();var f=a.getStrokeJoin(),d=a.getStrokeCap(),p=a.getMiterLimit();if(f&&(u.lineJoin=f),d&&(u.lineCap=d),p&&(u.miterLimit=p),Ve.support.nativeDash){var g=a.getDashArray(),v=a.getDashOffset();g&&g.length&&("setLineDash"in u?(u.setLineDash(g),u.lineDashOffset=v):(u.mozDash=g,u.mozDashOffset=v))}}if(a.hasShadow()){var y=r.pixelRatio||1,S=s._shiftless().prepend((new $t).scale(y,y)),b=S.transform(new le(a.getShadowBlur(),0)),C=S.transform(this.getShadowOffset());u.shadowColor=a.getShadowColor().toCanvasStyle(u),u.shadowBlur=b.getLength(),u.shadowOffsetX=C.x,u.shadowOffsetY=C.y}},draw:function(u,r,s){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var c=r.matrices,f=r.viewMatrix,d=this._matrix,p=c[c.length-1].appended(d);if(p.isInvertible()){f=f?f.appended(p):p,c.push(p),r.updateMatrix&&(this._globalMatrix=p);var D,N,O,g=this._blendMode,v=je.clamp(this._opacity,0,1),y="normal"===g,S=Rt.nativeModes[g],b=y&&1===v||r.dontStart||r.clip||(S||y&&v<1)&&this._canComposite(),C=r.pixelRatio||1;if(!b){var P=this.getStrokeBounds(f);if(!P.width||!P.height)return void c.pop();O=r.offset,N=r.offset=P.getTopLeft().floor(),D=u,u=qt.getContext(P.getSize().ceil().add(1).multiply(C)),1!==C&&u.scale(C,C)}u.save();var I=s?s.appended(d):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,x=!b&&r.clipItem,E=!I||x;if(b?(u.globalAlpha=v,S&&(u.globalCompositeOperation=g)):E&&u.translate(-N.x,-N.y),E&&(b?d:f).applyToContext(u),x&&r.clipItem.draw(u,r.extend({clip:!0})),I){u.setTransform(C,0,0,C,0,0);var M=r.offset;M&&u.translate(-M.x,-M.y)}this._draw(u,r,f,I),u.restore(),c.pop(),r.clip&&!r.dontFinish&&u.clip(this.getFillRule()),b||(Rt.process(g,u,D,v,N.subtract(O).multiply(C)),qt.release(u),r.offset=O)}}},_isUpdated:function(u){var r=this._parent;if(r instanceof bt)return r._isUpdated(u);var s=this._updateVersion===u;return!s&&r&&r._visible&&r._isUpdated(u)&&(this._updateVersion=u,s=!0),s},_drawSelection:function(u,r,s,a,c){var f=this._selection,d=1&f,p=2&f||d&&this._selectBounds,g=4&f;if(this._drawSelected||(d=!1),(d||p||g)&&this._isUpdated(c)){var v,y=this.getSelectedColor(!0)||(v=this.getLayer())&&v.getSelectedColor(!0),S=r.appended(this.getGlobalMatrix(!0)),b=s/2;if(u.strokeStyle=u.fillStyle=y?y.toCanvasStyle(u):"#009dec",d&&this._drawSelected(u,S,a),g){var C=this.getPosition(!0),D=this._parent,N=D?D.localToGlobal(C):C,O=N.x,P=N.y;u.beginPath(),u.arc(O,P,b,0,2*Math.PI,!0),u.stroke();for(var I=[[0,-1],[1,0],[0,1],[-1,0]],x=b,E=s+1,M=0;M<4;M++){var R=I[M],L=R[0],F=R[1];u.moveTo(O+L*x,P+F*x),u.lineTo(O+L*E,P+F*E),u.stroke()}}if(p){var V=S._transformCorners(this.getInternalBounds());for(u.beginPath(),M=0;M<8;M++)u[M?"lineTo":"moveTo"](V[M],V[++M]);for(u.closePath(),u.stroke(),M=0;M<8;M++)u.fillRect(V[M]-b,V[++M]-b,s,s)}}},_canComposite:function(){return!1}},ie.each(["down","drag","up","move"],function(u){this["removeOn"+ie.capitalize(u)]=function(){var r={};return r[u]=!0,this.removeOn(r)}},{removeOn:function(u){for(var r in u)if(u[r]){var s="mouse"+r,a=this._project,c=a._removeSets=a._removeSets||{};c[s]=c[s]||{},c[s][this._id]=this}return this}}),{tween:function(u,r,s){s||(s=r,r=u,u=null,s||(s=r,r=null));var f=null!=s&&("number"==typeof s?s:s.duration),d=new us(this,u,r,f,s&&s.easing,s&&s.start);return f&&this.on("frame",function p(g){d._handleFrame(1e3*g.time),d.running||this.off("frame",p)}),d},tweenTo:function(u,r){return this.tween(null,u,r)},tweenFrom:function(u,r){return this.tween(u,null,r)}}),et=ct.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||this.addChildren(Array.isArray(r)?r:arguments)},_changed:function u(r){u.base.call(this,r),2050&r&&(this._clipItem=Ie)},_getClipItem:function(){var u=this._clipItem;if(u===Ie){u=null;for(var r=this._children,s=0,a=r.length;s<a;s++)if(r[s]._clipMask){u=r[s];break}this._clipItem=u}return u},isClipped:function(){return!!this._getClipItem()},setClipped:function(u){var r=this.getFirstChild();r&&r.setClipMask(u)},_getBounds:function u(r,s){var a=this._getClipItem();return a?a._getCachedBounds(a._matrix.prepended(r),ie.set({},s,{stroke:!1})):u.base.call(this,r,s)},_hitTestChildren:function u(r,s,a){var c=this._getClipItem();return(!c||c.contains(r))&&u.base.call(this,r,s,a,c)},_draw:function(u,r){var s=r.clip,a=!s&&this._getClipItem();r=r.extend({clipItem:a,clip:!1}),s?(u.beginPath(),r.dontStart=r.dontFinish=!0):a&&a.draw(u,r.extend({clip:!0}));for(var c=this._children,f=0,d=c.length;f<d;f++){var p=c[f];p!==a&&p.draw(u,r)}}}),Un=et.extend({_class:"Layer",initialize:function(){et.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function u(){return this._parent?u.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Nn=ct.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(r,s){this._initialize(r,s)},_equals:function(u){return this._type===u._type&&this._size.equals(u._size)&&ie.equals(this._radius,u._radius)},copyContent:function(u){this.setType(u._type),this.setSize(u._size),this.setRadius(u._radius)},getType:function(){return this._type},setType:function(u){this._type=u},getShape:"#getType",setShape:"#setType",getSize:function(){var u=this._size;return new Ae(u.width,u.height,this,"setSize")},setSize:function(){var u=We.read(arguments);if(this._size){if(!this._size.equals(u)){var r=this._type,s=u.width,a=u.height;"rectangle"===r?this._radius.set(We.min(this._radius,u.divide(2).abs())):"circle"===r?(s=a=(s+a)/2,this._radius=s/2):"ellipse"===r&&this._radius._set(s/2,a/2),this._size._set(s,a),this._changed(9)}}else this._size=u.clone()},getRadius:function(){var u=this._radius;return"circle"===this._type?u:new Ae(u.width,u.height,this,"setRadius")},setRadius:function(u){var r=this._type;if("circle"===r){if(u===this._radius)return;var s=2*u;this._radius=u,this._size._set(s,s)}else if(u=We.read(arguments),this._radius){if(this._radius.equals(u))return;this._radius.set(u),"rectangle"===r?(s=We.max(this._size,u.multiply(2)),this._size.set(s)):"ellipse"===r&&this._size._set(2*u.width,2*u.height)}else this._radius=u.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(u){var r=new(ht[ie.capitalize(this._type)])({center:new le,size:this._size,radius:this._radius,insert:!1});return r.copyAttributes(this),Ve.settings.applyMatrix&&r.setApplyMatrix(!0),(u===Ie||u)&&r.insertAbove(this),r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(u,r,s,a){var c=this._style,f=c.hasFill(),d=c.hasStroke(),p=r.dontFinish||r.clip,g=!a;if(f||d||p){var v=this._type,y=this._radius,S="circle"===v;if(r.dontStart||u.beginPath(),g&&S)u.arc(0,0,y,0,2*Math.PI,!0);else{var b=S?y:y.width,C=S?y:y.height,D=this._size,N=D.width,O=D.height;if(g&&"rectangle"===v&&0===b&&0===C)u.rect(-N/2,-O/2,N,O);else{var P=N/2,I=O/2,x=.44771525016920644,E=b*x,M=C*x,R=[-P,-I+C,-P,-I+M,-P+E,-I,-P+b,-I,P-b,-I,P-E,-I,P,-I+M,P,-I+C,P,I-C,P,I-M,P-E,I,P-b,I,-P+b,I,-P+E,I,-P,I-M,-P,I-C];a&&a.transform(R,R,32),u.moveTo(R[0],R[1]),u.bezierCurveTo(R[2],R[3],R[4],R[5],R[6],R[7]),P!==b&&u.lineTo(R[8],R[9]),u.bezierCurveTo(R[10],R[11],R[12],R[13],R[14],R[15]),I!==C&&u.lineTo(R[16],R[17]),u.bezierCurveTo(R[18],R[19],R[20],R[21],R[22],R[23]),P!==b&&u.lineTo(R[24],R[25]),u.bezierCurveTo(R[26],R[27],R[28],R[29],R[30],R[31])}}u.closePath()}!p&&(f||d)&&(this._setStyles(u,r,s),f&&(u.fill(c.getFillRule()),u.shadowColor="rgba(0,0,0,0)"),d&&u.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(u,r){var s=new Q(this._size).setCenter(0,0),a=this._style,c=r.stroke&&a.hasStroke()&&a.getStrokeWidth();return u&&(s=u._transformBounds(s)),c?s.expand(ht._getStrokePadding(c,this._getStrokeMatrix(u,r))):s}},new function(){function u(s,a,c){var f=s._radius;if(!f.isZero())for(var d=s._size.divide(2),p=1;p<=4;p++){var g=new le(p>1&&p<4?-1:1,p>2?-1:1),v=g.multiply(d),y=v.subtract(g.multiply(f));if(new Q(c?v.add(g.multiply(c)):v,y).contains(a))return{point:y,quadrant:p}}}function r(s,a,c,f){var d=s.divide(a);return(!f||d.isInQuadrant(f))&&d.subtract(d.normalize()).multiply(a).divide(c).length<=1}return{_contains:function s(a){if("rectangle"===this._type){var c=u(this,a);return c?a.subtract(c.point).divide(this._radius).getLength()<=1:s.base.call(this,a)}return a.divide(this.size).getLength()<=.5},_hitTestSelf:function s(a,c,f,d){var p=!1,g=this._style,v=c.stroke&&g.hasStroke(),y=c.fill&&g.hasFill();if(v||y){var S=this._type,b=this._radius,C=v?g.getStrokeWidth()/2:0,D=c._tolerancePadding.add(ht._getStrokePadding(C,!g.getStrokeScaling()&&d));if("rectangle"===S){var N=D.multiply(2),O=u(this,a,N);if(O)p=r(a.subtract(O.point),b,D,O.quadrant);else{var P=new Q(this._size).setCenter(0,0),I=P.expand(N),x=P.expand(N.negate());p=I._containsPoint(a)&&!x._containsPoint(a)}}else p=r(a,b,D)}return p?new hn(v?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function u(r,s,a,c,f){var d=ie.create(Nn.prototype);return d._type=r,d._size=a,d._radius=c,d._initialize(ie.getNamed(f),s),d}return{Circle:function(){var r=arguments,s=le.readNamed(r,"center"),a=ie.readNamed(r,"radius");return u("circle",s,new We(2*a),a,r)},Rectangle:function(){var r=arguments,s=Q.readNamed(r,"rectangle"),a=We.min(We.readNamed(r,"radius"),s.getSize(!0).divide(2));return u("rectangle",s.getCenter(!0),s.getSize(!0),a,r)},Ellipse:function(){var r=arguments,s=Nn._readEllipse(r),a=s.radius;return u("ellipse",s.center,a.multiply(2),a,r)},_readEllipse:function(r){var s,a;if(ie.hasNamed(r,"radius"))s=le.readNamed(r,"center"),a=We.readNamed(r,"radius");else{var c=Q.readNamed(r,"rectangle");s=c.getCenter(!0),a=c.getSize(!0).divide(2)}return{center:s,radius:a}}}}}),Cn=ct.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(r,s){if(!this._initialize(r,s!==Ie&&le.read(arguments))){var a,c=typeof r,f="string"===c?Dt.getElementById(r):"object"===c?r:null;if(f&&f!==ct.NO_INSERT)if(f.getContext||null!=f.naturalHeight)a=f;else if(f){var d=We.read(arguments);d.isZero()||(a=qt.getCanvas(d))}a?this.setImage(a):this.setSource(r)}this._size||(this._size=new We,this._loaded=!1)},_equals:function(u){return this.getSource()===u.getSource()},copyContent:function(u){var r=u._image,s=u._canvas;if(r)this._setImage(r);else if(s){var a=qt.getCanvas(u._size);a.getContext("2d").drawImage(s,0,0),this._setImage(a)}this._crossOrigin=u._crossOrigin},getSize:function(){var u=this._size;return new Ae(u?u.width:0,u?u.height:0,this,"setSize")},setSize:function(u,r){var s=We.read(arguments);if(s.equals(this._size))r&&this.clear();else if(s.width>0&&s.height>0){var a=!r&&this.getElement();this._setImage(qt.getCanvas(s)),a&&this.getContext(!0).drawImage(a,0,0,s.width,s.height)}else this._canvas&&qt.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(u){this.setSize(u,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(u){this.setSize(this.getWidth(),u)},getLoaded:function(){return this._loaded},isEmpty:function(){var u=this._size;return!u||0===u.width&&0===u.height},getResolution:function(){var u=this._matrix,r=new le(0,0).transform(u),s=new le(1,0).transform(u).subtract(r),a=new le(0,1).transform(u).subtract(r);return new We(72/s.getLength(),72/a.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(u){var r=this;function s(a){var c=r.getView(),f=a&&a.type||"load";c&&r.responds(f)&&(Ve=c._scope,r.emit(f,new br(a)))}this._setImage(u),this._loaded?setTimeout(s,0):u&&It.add(u,{load:function(a){r._setImage(u),s(a)},error:s})},_setImage:function(u){this._canvas&&qt.release(this._canvas),u&&u.getContext?(this._image=null,this._canvas=u,this._loaded=!0):(this._image=u,this._canvas=null,this._loaded=!!(u&&u.src&&u.complete)),this._size=new We(u?u.naturalWidth||u.width:0,u?u.naturalHeight||u.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var u=qt.getContext(this._size);try{this._image&&u.drawImage(this._image,0,0),this._canvas=u.canvas}catch{qt.release(u)}}return this._canvas},setCanvas:"#setImage",getContext:function(u){return this._context||(this._context=this.getCanvas().getContext("2d")),u&&(this._image=null,this._changed(1025)),this._context},setContext:function(u){this._context=u},getSource:function(){var u=this._image;return u&&u.src||this.toDataURL()},setSource:function(u){var r=new oi.Image,s=this._crossOrigin;s&&(r.crossOrigin=s),u&&(r.src=u),this.setImage(r)},getCrossOrigin:function(){var u=this._image;return u&&u.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(u){this._crossOrigin=u;var r=this._image;r&&(r.crossOrigin=u)},getSmoothing:function(){return this._smoothing},setSmoothing:function(u){this._smoothing="string"==typeof u?u:u?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var u=Q.read(arguments),r=qt.getContext(u.getSize());return r.drawImage(this.getCanvas(),u.x,u.y,u.width,u.height,0,0,u.width,u.height),r.canvas},getSubRaster:function(){var u=Q.read(arguments),r=new Cn(ct.NO_INSERT);return r._setImage(this.getSubCanvas(u)),r.translate(u.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var u=this._image,r=u&&u.src;if(/^data:/.test(r))return r;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(u){var r=le.read(arguments,1);this.getContext(!0).drawImage(u,r.x,r.y)},getAverageColor:function(u){var r,s;if(u?u instanceof Fn?(s=u,r=u.getBounds()):"object"==typeof u&&("width"in u?r=new Q(u):"x"in u&&(r=new Q(u.x-.5,u.y-.5,1,1))):r=this.getBounds(),!r)return null;var c=Math.min(r.width,32),f=Math.min(r.height,32),d=Cn._sampleContext;d?d.clearRect(0,0,33,33):d=Cn._sampleContext=qt.getContext(new We(32)),d.save();var p=(new $t).scale(c/r.width,f/r.height).translate(-r.x,-r.y);p.applyToContext(d),s&&s.draw(d,new ie({clip:!0,matrices:[p]})),this._matrix.applyToContext(d);var g=this.getElement(),v=this._size;g&&d.drawImage(g,-v.width/2,-v.height/2),d.restore();for(var y=d.getImageData(.5,.5,Math.ceil(c),Math.ceil(f)).data,S=[0,0,0],b=0,C=0,D=y.length;C<D;C+=4){var N=y[C+3];b+=N,S[0]+=y[C]*(N/=255),S[1]+=y[C+1]*N,S[2]+=y[C+2]*N}for(C=0;C<3;C++)S[C]/=b;return b?Ze.read(S):null},getPixel:function(){var u=le.read(arguments),r=this.getContext().getImageData(u.x,u.y,1,1).data;return new Ze("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var u=arguments,r=le.read(u),s=Ze.read(u),a=s._convert("rgb"),c=s._alpha,f=this.getContext(!0),d=f.createImageData(1,1),p=d.data;p[0]=255*a[0],p[1]=255*a[1],p[2]=255*a[2],p[3]=null!=c?255*c:255,f.putImageData(d,r.x,r.y)},clear:function(){var u=this._size;this.getContext(!0).clearRect(0,0,u.width+1,u.height+1)},createImageData:function(){var u=We.read(arguments);return this.getContext().createImageData(u.width,u.height)},getImageData:function(){var u=Q.read(arguments);return u.isEmpty()&&(u=new Q(this._size)),this.getContext().getImageData(u.x,u.y,u.width,u.height)},putImageData:function(u){var r=le.read(arguments,1);this.getContext(!0).putImageData(u,r.x,r.y)},setImageData:function(u){this.setSize(u),this.getContext(!0).putImageData(u,0,0)},_getBounds:function(u,r){var s=new Q(this._size).setCenter(0,0);return u?u._transformBounds(s):s},_hitTestSelf:function(u){if(this._contains(u)){var r=this;return new hn("pixel",r,{offset:u.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(u,r,s){var a=this.getElement();if(a&&a.width>0&&a.height>0){u.globalAlpha=je.clamp(this._opacity,0,1),this._setStyles(u,r,s);var c=this._smoothing,f="off"===c;ln.setPrefixed(u,f?"imageSmoothingEnabled":"imageSmoothingQuality",!f&&c),u.drawImage(a,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Rn=ct.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(r,s){this._initialize(r,s!==Ie&&le.read(arguments,1))||this.setDefinition(r instanceof fi?r:new fi(r))},_equals:function(u){return this._definition===u._definition},copyContent:function(u){this.setDefinition(u._definition)},getDefinition:function(){return this._definition},setDefinition:function(u){this._definition=u,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(u,r){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(u),r)},_hitTestSelf:function(u,r,s){var a=r.extend({all:!1}),c=this._definition._item._hitTest(u,a,s);return c&&(c.item=this),c},_draw:function(u,r){this._definition._item.draw(u,r)}}),fi=ie.extend({_class:"SymbolDefinition",initialize:function(r,s){this._id=_t.get(),this.project=Ve.project,r&&this.setItem(r,s)},_serialize:function(u,r){return r.add(this,function(){return ie.serialize([this._class,this._item],u,!1,r)})},_changed:function(u){8&u&&ct._clearBoundsCache(this),1&u&&this.project._changed(u)},getItem:function(){return this._item},setItem:function(u,r){u._symbol&&(u=u.clone()),this._item&&(this._item._symbol=null),this._item=u,u.remove(),u.setSelected(!1),r||u.setPosition(new le),u._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(u){return new Rn(this,u)},clone:function(){return new fi(this._item.clone(!1))},equals:function(u){return u===this||u&&this._item.equals(u._item)||!1}}),hn=ie.extend({_class:"HitResult",initialize:function(r,s,a){this.type=r,this.item=s,a&&this.inject(a)},statics:{getOptions:function(u){var r=u&&ie.read(u);return new ie({type:null,tolerance:Ve.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),Fe=ie.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(r,s,a,c,f,d){var g,v,y,S,p=arguments.length;p>0&&(null==r||"object"==typeof r?1===p&&r&&"point"in r?(g=r.point,v=r.handleIn,y=r.handleOut,S=r.selection):(g=r,v=s,y=a,S=c):(g=[r,s],v=a!==Ie?[a,c]:null,y=f!==Ie?[f,d]:null)),new ot(g,this,"_point"),new ot(v,this,"_handleIn"),new ot(y,this,"_handleOut"),S&&this.setSelection(S)},_serialize:function(u,r){var s=this._point,a=this._selection,c=a||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return a&&c.push(a),ie.serialize(c,u,!0,r)},_changed:function(u){var r=this._path;if(r){var c,s=r._curves,a=this._index;s&&((!u||u===this._point||u===this._handleIn)&&(c=a>0?s[a-1]:r._closed?s[s.length-1]:null)&&c._changed(),(!u||u===this._point||u===this._handleOut)&&(c=s[a])&&c._changed()),r._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(le.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(le.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(le.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var u=this._handleIn,r=this._handleOut;return!u.isZero()&&!r.isZero()&&u.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(u){var r=this._selection,s=this._path;this._selection=u=u||0,s&&u!==r&&(s._updateSelection(this,r,u),s._changed(257))},_changeSelection:function(u,r){var s=this._selection;this.setSelection(r?s|u:s&~u)},isSelected:function(){return!!(7&this._selection)},setSelected:function(u){this._changeSelection(7,u)},getIndex:function(){return this._index!==Ie?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var u=this._path,r=this._index;return u?(r>0&&!u._closed&&r===u._segments.length-1&&r--,u.getCurves()[r]||null):null},getLocation:function(){var u=this.getCurve();return u?new Pe(u,this===u._segment1?0:1):null},getNext:function(){var u=this._path&&this._path._segments;return u&&(u[this._index+1]||this._path._closed&&u[0])||null},smooth:function(u,r,s){var a=u||{},c=a.type,f=a.factor,d=this.getPrevious(),p=this.getNext(),g=(d||this)._point,v=this._point,y=(p||this)._point,S=g.getDistance(v),b=v.getDistance(y);if(c&&"catmull-rom"!==c){if("geometric"!==c)throw new Error("Smoothing method '"+c+"' not supported.");if(d&&p){var E=g.subtract(y),M=f===Ie?.4:f,R=M*S/(S+b);r||this.setHandleIn(E.multiply(R)),s||this.setHandleOut(E.multiply(R-M))}}else{var x,C=f===Ie?.5:f,D=Math.pow(S,C),N=D*D,O=Math.pow(b,C),P=O*O;if(!r&&d){var I=2*P+3*O*D+N;this.setHandleIn(0!=(x=3*O*(O+D))?new le((P*g._x+I*v._x-N*y._x)/x-v._x,(P*g._y+I*v._y-N*y._y)/x-v._y):new le)}if(!s&&p)I=2*N+3*D*O+P,this.setHandleOut(0!=(x=3*D*(D+O))?new le((N*y._x+I*v._x-P*g._x)/x-v._x,(N*y._y+I*v._y-P*g._y)/x-v._y):new le)}},getPrevious:function(){var u=this._path&&this._path._segments;return u&&(u[this._index-1]||this._path._closed&&u[u.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var u=this._path;return u&&this._index===u._segments.length-1||!1},reverse:function(){var u=this._handleIn,r=this._handleOut,s=u.clone();u.set(r),r.set(s)},reversed:function(){return new Fe(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Fe(this._point,this._handleIn,this._handleOut)},equals:function(u){return u===this||u&&this._class===u._class&&this._point.equals(u._point)&&this._handleIn.equals(u._handleIn)&&this._handleOut.equals(u._handleOut)||!1},toString:function(){var u=["point: "+this._point];return this._handleIn.isZero()||u.push("handleIn: "+this._handleIn),this._handleOut.isZero()||u.push("handleOut: "+this._handleOut),"{ "+u.join(", ")+" }"},transform:function(u){this._transformCoordinates(u,new Array(6),!0),this._changed()},interpolate:function(u,r,s){var a=1-s,c=s,f=u._point,d=r._point,p=u._handleIn,g=r._handleIn,v=r._handleOut,y=u._handleOut;this._point._set(a*f._x+c*d._x,a*f._y+c*d._y,!0),this._handleIn._set(a*p._x+c*g._x,a*p._y+c*g._y,!0),this._handleOut._set(a*y._x+c*v._x,a*y._y+c*v._y,!0),this._changed()},_transformCoordinates:function(u,r,s){var a=this._point,c=s&&this._handleIn.isZero()?null:this._handleIn,f=s&&this._handleOut.isZero()?null:this._handleOut,d=a._x,p=a._y,g=2;return r[0]=d,r[1]=p,c&&(r[g++]=c._x+d,r[g++]=c._y+p),f&&(r[g++]=f._x+d,r[g++]=f._y+p),u&&(u._transformCoordinates(r,r,g/2),d=r[0],p=r[1],s?(a._x=d,a._y=p,g=2,c&&(c._x=r[g++]-d,c._y=r[g++]-p),f&&(f._x=r[g++]-d,f._y=r[g++]-p)):(c||(r[g++]=d,r[g++]=p),f||(r[g++]=d,r[g++]=p))),r}}),ot=le.extend({initialize:function(r,s,a){var c,f,d;if(r)if((c=r[0])!==Ie)f=r[1];else{var p=r;(c=p.x)===Ie&&(c=(p=le.read(arguments)).x),f=p.y,d=p.selected}else c=f=0;this._x=c,this._y=f,this._owner=s,s[a]=this,d&&this.setSelected(!0)},_set:function(u,r){return this._x=u,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(u){this._x=u,this._owner._changed(this)},getY:function(){return this._y},setY:function(u){this._y=u,this._owner._changed(this)},isZero:function(){var u=je.isZero;return u(this._x)&&u(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(u){this._owner._changeSelection(this._getSelection(),u)},_getSelection:function(){var u=this._owner;return this===u._point?1:this===u._handleIn?2:this===u._handleOut?4:0}}),Re=ie.extend({_class:"Curve",beans:!0,initialize:function(r,s,a,c,f,d,p,g){var y,S,b,C,D,N,v=arguments.length;3===v?(this._path=r,y=s,S=a):v?1===v?"segment1"in r?(y=new Fe(r.segment1),S=new Fe(r.segment2)):"point1"in r?(b=r.point1,D=r.handle1,N=r.handle2,C=r.point2):Array.isArray(r)&&(b=[r[0],r[1]],C=[r[6],r[7]],D=[r[2]-r[0],r[3]-r[1]],N=[r[4]-r[6],r[5]-r[7]]):2===v?(y=new Fe(r),S=new Fe(s)):4===v?(b=r,D=s,N=a,C=c):8===v&&(b=[r,s],C=[p,g],D=[a-r,c-s],N=[f-p,d-g]):(y=new Fe,S=new Fe),this._segment1=y||new Fe(b,null,D),this._segment2=S||new Fe(C,N,null)},_serialize:function(u,r){return ie.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],u,!0,r)},_changed:function(){this._length=this._bounds=Ie},clone:function(){return new Re(this._segment1,this._segment2)},toString:function(){var u=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||u.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||u.push("handle2: "+this._segment2._handleIn),u.push("point2: "+this._segment2._point),"{ "+u.join(", ")+" }"},classify:function(){return Re.classify(this.getValues())},remove:function(){var u=!1;if(this._path){var r=this._segment2,s=r._handleOut;(u=r.remove())&&this._segment1._handleOut.set(s)}return u},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(le.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(le.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(le.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(le.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var u=this._path&&this._path._curves;return u&&(u[this._segment1._index+1]||this._path._closed&&u[0])||null},getPrevious:function(){var u=this._path&&this._path._curves;return u&&(u[this._segment1._index-1]||this._path._closed&&u[u.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var u=this._path;return u&&this._segment1._index===u._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(u){this.getPoint1().setSelected(u),this.getHandle1().setSelected(u),this.getHandle2().setSelected(u),this.getPoint2().setSelected(u)},getValues:function(u){return Re.getValues(this._segment1,this._segment2,u)},getPoints:function(){for(var u=this.getValues(),r=[],s=0;s<8;s+=2)r.push(new le(u[s],u[s+1]));return r}},{getLength:function(){return null==this._length&&(this._length=Re.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Re.getArea(this.getValues())},getLine:function(){return new gt(this._segment1._point,this._segment2._point)},getPart:function(u,r){return new Re(Re.getPart(this.getValues(),u,r))},getPartLength:function(u,r){return Re.getLength(this.getValues(),u,r)},divideAt:function(u){return this.divideAtTime(u&&u.curve===this?u.time:this.getTimeAt(u))},divideAtTime:function(u,r){var c=null;if(u>=1e-8&&u<=.99999999){var f=Re.subdivide(this.getValues(),u),d=f[0],p=f[1],g=r||this.hasHandles(),v=this._segment1,y=this._segment2,S=this._path;g&&(v._handleOut._set(d[2]-d[0],d[3]-d[1]),y._handleIn._set(p[4]-p[6],p[5]-p[7]));var b=d[6],C=d[7],D=new Fe(new le(b,C),g&&new le(d[4]-b,d[5]-C),g&&new le(p[2]-b,p[3]-C));S?(S.insert(v._index+1,D),c=this.getNext()):(this._segment2=D,this._changed(),c=new Re(D,y))}return c},splitAt:function(u){var r=this._path;return r?r.splitAt(u):null},splitAtTime:function(u){return this.splitAt(this.getLocationAtTime(u))},divide:function(u,r){return this.divideAtTime(u===Ie?.5:r?u:this.getTimeAt(u))},split:function(u,r){return this.splitAtTime(u===Ie?.5:r?u:this.getTimeAt(u))},reversed:function(){return new Re(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(u,r,s,a){var c=u._point,f=u._handleOut,d=r._handleIn,p=r._point,g=c.x,v=c.y,y=p.x,S=p.y,b=a?[g,v,g,v,y,S,y,S]:[g,v,g+f._x,v+f._y,y+d._x,S+d._y,y,S];return s&&s._transformCoordinates(b,b,4),b},subdivide:function(u,r){var s=u[0],a=u[1],c=u[2],f=u[3],d=u[4],p=u[5],g=u[6],v=u[7];r===Ie&&(r=.5);var y=1-r,S=y*s+r*c,b=y*a+r*f,C=y*c+r*d,D=y*f+r*p,N=y*d+r*g,O=y*p+r*v,P=y*S+r*C,I=y*b+r*D,x=y*C+r*N,E=y*D+r*O,M=y*P+r*x,R=y*I+r*E;return[[s,a,S,b,P,I,M,R],[M,R,x,E,N,O,g,v]]},getMonoCurves:function(u,r){var s=[],a=r?0:1,c=u[a+0],f=u[a+2],d=u[a+4],p=u[a+6];if(c>=f==f>=d&&f>=d==d>=p||Re.isStraight(u))s.push(u);else{var C=[],D=je.solveQuadratic(3*(f-d)-c+p,2*(c+d)-4*f,f-c,C,1e-8,.99999999);if(D){C.sort();var N=C[0],O=Re.subdivide(u,N);s.push(O[0]),D>1&&(O=Re.subdivide(O[1],N=(C[1]-N)/(1-N)),s.push(O[0])),s.push(O[1])}else s.push(u)}return s},solveCubic:function(u,r,s,a,c,f){var d=u[r],p=u[r+2],g=u[r+4],v=u[r+6],y=0;if(!(d<s&&v<s&&p<s&&g<s||d>s&&v>s&&p>s&&g>s)){var S=3*(p-d),b=3*(g-p)-S;y=je.solveCubic(v-d-S-b,b,S,d-s,a,c,f)}return y},getTimeOf:function(u,r){var s=new le(u[0],u[1]),a=new le(u[6],u[7]),f=1e-7;if(null===(r.isClose(s,1e-12)?0:r.isClose(a,1e-12)?1:null))for(var p=[r.x,r.y],g=[],v=0;v<2;v++)for(var y=Re.solveCubic(u,v,p[v],g,0,1),S=0;S<y;S++){var b=g[S];if(r.isClose(Re.getPoint(u,b),f))return b}return r.isClose(s,f)?0:r.isClose(a,f)?1:null},getNearestTime:function(u,r){if(Re.isStraight(u)){var s=u[0],a=u[1],d=u[6]-s,p=u[7]-a,g=d*d+p*p;if(0===g)return 0;var v=((r.x-s)*d+(r.y-a)*p)/g;return v<1e-12?0:v>.999999999999?1:Re.getTimeOf(u,new le(s+v*d,a+v*p))}var S=1/0,b=0;function C(O){if(O>=0&&O<=1){var P=r.getDistance(Re.getPoint(u,O),!0);if(P<S)return S=P,b=O,!0}}for(var D=0;D<=100;D++)C(D/100);for(var N=.005;N>1e-8;)!C(b-N)&&!C(b+N)&&(N/=2);return b},getPart:function(u,r,s){var a=r>s;if(a){var c=r;r=s,s=c}return r>0&&(u=Re.subdivide(u,r)[1]),s<1&&(u=Re.subdivide(u,(s-r)/(1-r))[0]),a?[u[6],u[7],u[4],u[5],u[2],u[3],u[0],u[1]]:u},isFlatEnough:function(u,r){var s=u[0],a=u[1],g=u[6],v=u[7],y=3*u[2]-2*s-g,S=3*u[3]-2*a-v,b=3*u[4]-2*g-s,C=3*u[5]-2*v-a;return Math.max(y*y,b*b)+Math.max(S*S,C*C)<=16*r*r},getArea:function(u){var r=u[0],s=u[1],a=u[2],c=u[3],f=u[4],d=u[5],p=u[6],g=u[7];return 3*((g-s)*(a+f)-(p-r)*(c+d)+c*(r-f)-a*(s-d)+g*(f+r/3)-p*(d+s/3))/20},getBounds:function(u){for(var r=u.slice(0,2),s=r.slice(),a=[0,0],c=0;c<2;c++)Re._addBounds(u[c],u[c+2],u[c+4],u[c+6],c,0,r,s,a);return new Q(r[0],r[1],s[0]-r[0],s[1]-r[1])},_addBounds:function(u,r,s,a,c,f,d,p,g){function v(M,R){var L=M-R,F=M+R;L<d[c]&&(d[c]=L),F>p[c]&&(p[c]=F)}var y=d[c]+(f/=2),S=p[c]-f;if(u<y||r<y||s<y||a<y||u>S||r>S||s>S||a>S)if(r<u!=r<a&&s<u!=s<a)v(u,0),v(a,0);else{var N=je.solveQuadratic(3*(r-s)-u+a,2*(u+s)-4*r,r-u,g);v(a,0);for(var I=0;I<N;I++){var x=g[I],E=1-x;1e-8<=x&&x<=.99999999&&v(E*E*E*u+3*E*E*x*r+3*E*x*x*s+x*x*x*a,f)}}}}},ie.each(["getBounds","getStrokeBounds","getHandleBounds"],function(u){this[u]=function(){this._bounds||(this._bounds={});var r=this._bounds[u];return r||(r=this._bounds[u]=ht[u]([this._segment1,this._segment2],!1,this._path)),r.clone()}},{}),ie.each({isStraight:function(u,r,s,a){if(r.isZero()&&s.isZero())return!0;var c=a.subtract(u);if(c.isZero())return!1;if(c.isCollinear(r)&&c.isCollinear(s)){var f=new gt(u,a);if(f.getDistance(u.add(r))<1e-7&&f.getDistance(a.add(s))<1e-7){var p=c.dot(c),g=c.dot(r)/p,v=c.dot(s)/p;return g>=0&&g<=1&&v<=0&&v>=-1}}return!1},isLinear:function(u,r,s,a){var c=a.subtract(u).divide(3);return r.equals(c)&&s.negate().equals(c)}},function(u,r){this[r]=function(s){var a=this._segment1,c=this._segment2;return u(a._point,a._handleOut,c._handleIn,c._point,s)},this.statics[r]=function(s,a){var c=s[0],f=s[1],d=s[6],p=s[7];return u(new le(c,f),new le(s[2]-c,s[3]-f),new le(s[4]-d,s[5]-p),new le(d,p),a)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(u){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(u||0)},isCollinear:function(u){return u&&this.isStraight()&&u.isStraight()&&this.getLine().isCollinear(u.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(u,r){return this.getLocationAtTime(r?u:this.getTimeAt(u))},getLocationAtTime:function(u){return null!=u&&u>=0&&u<=1?new Pe(this,u):null},getTimeAt:function(u,r){return Re.getTimeAt(this.getValues(),u,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var u=le.read(arguments);return u.isZero()?[]:Re.getTimesWithTangent(this.getValues(),u)},getOffsetAtTime:function(u){return this.getPartLength(0,u)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(le.read(arguments)))},getOffsetOf:function(){var u=this.getLocationOf.apply(this,arguments);return u?u.getOffset():null},getTimeOf:function(){return Re.getTimeOf(this.getValues(),le.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var u=le.read(arguments),r=this.getValues(),s=Re.getNearestTime(r,u),a=Re.getPoint(r,s);return new Pe(this,s,a,null,u.getDistance(a))},getNearestPoint:function(){var u=this.getNearestLocation.apply(this,arguments);return u&&u.getPoint()}},new function(){var u=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return ie.each(u,function(r){this[r+"At"]=function(s,a){var c=this.getValues();return Re[r](c,a?s:Re.getTimeAt(c,s))},this[r+"AtTime"]=function(s){return Re[r](this.getValues(),s)}},{statics:{_evaluateMethods:u}})},new function(){function u(a){var c=a[0],f=a[1],d=a[2],p=a[3],g=a[4],v=a[5],b=9*(d-g)+3*(a[6]-c),C=6*(c+g)-12*d,D=3*(d-c),N=9*(p-v)+3*(a[7]-f),O=6*(f+v)-12*p,P=3*(p-f);return function(I){var x=(b*I+C)*I+D,E=(N*I+O)*I+P;return Math.sqrt(x*x+E*E)}}function r(a,c){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(c-a))))}function s(a,c,f,d){if(null==c||c<0||c>1)return null;var p=a[0],g=a[1],v=a[2],y=a[3],S=a[4],b=a[5],C=a[6],D=a[7],N=je.isZero;N(v-p)&&N(y-g)&&(v=p,y=g),N(S-C)&&N(b-D)&&(S=C,b=D);var R,L,O=3*(v-p),P=3*(S-v)-O,I=C-p-O-P,x=3*(y-g),E=3*(b-y)-x,M=D-g-x-E;if(0===f)R=0===c?p:1===c?C:((I*c+P)*c+O)*c+p,L=0===c?g:1===c?D:((M*c+E)*c+x)*c+g;else{var F=1e-8,V=1-F;if(c<F?(R=O,L=x):c>V?(R=3*(C-S),L=3*(D-b)):(R=(3*I*c+2*P)*c+O,L=(3*M*c+2*E)*c+x),d){0===R&&0===L&&(c<F||c>V)&&(R=S-v,L=b-y);var z=Math.sqrt(R*R+L*L);z&&(R/=z,L/=z)}if(3===f){S=6*I*c+2*P,b=6*M*c+2*E;var U=Math.pow(R*R+L*L,1.5);R=0!==U?(R*b-L*S)/U:0,L=0}}return 2===f?new le(L,-R):new le(R,L)}return{statics:{classify:function(a){var c=a[0],f=a[1],d=a[2],p=a[3],g=a[4],v=a[5],y=a[6],S=a[7],C=d*(f-S)+p*(y-c)+c*S-f*y,N=3*(g*(p-f)+v*(c-d)+d*f-p*c),O=N-C,P=O-C+(c*(S-v)+f*(g-y)+y*v-S*g),I=Math.sqrt(P*P+O*O+N*N),x=0!==I?1/I:0,E=je.isZero,M="serpentine";function R(z,U,K){var $=U!==Ie,q=$&&U>0&&U<1,W=$&&K>0&&K<1;return $&&(!(q||W)||"loop"===z&&!(q&&W))&&(z="arch",q=W=!1),{type:z,roots:q||W?q&&W?U<K?[U,K]:[K,U]:[q?U:K]:null}}if(O*=x,N*=x,E(P*=x))return E(O)?R(E(N)?"line":"quadratic"):R(M,N/(3*O));var L=3*O*O-4*P*N;if(E(L))return R("cusp",O/(2*P));var F=L>0?Math.sqrt(L/3):Math.sqrt(-L),V=2*P;return R(L>0?M:"loop",(O+F)/V,(O-F)/V)},getLength:function(a,c,f,d){if(c===Ie&&(c=0),f===Ie&&(f=1),Re.isStraight(a)){var p=a;f<1&&(p=Re.subdivide(p,f)[0],c/=f),c>0&&(p=Re.subdivide(p,c)[1]);var g=p[6]-p[0],v=p[7]-p[1];return Math.sqrt(g*g+v*v)}return je.integrate(d||u(a),c,f,r(c,f))},getTimeAt:function(a,c,f){if(f===Ie&&(f=c<0?1:0),0===c)return f;var d=Math.abs,g=c>0,v=g?f:0,y=g?1:f,S=u(a),b=Re.getLength(a,v,y,S),C=d(c)-b;if(d(C)<1e-12)return g?y:v;if(C>1e-12)return null;var N=0;return je.findRoot(function O(P){return N+=je.integrate(S,f,P,r(f,P)),f=P,N-c},S,f+c/b,v,y,32,1e-12)},getPoint:function(a,c){return s(a,c,0,!1)},getTangent:function(a,c){return s(a,c,1,!0)},getWeightedTangent:function(a,c){return s(a,c,1,!1)},getNormal:function(a,c){return s(a,c,2,!0)},getWeightedNormal:function(a,c){return s(a,c,2,!1)},getCurvature:function(a,c){return s(a,c,3,!1).x},getPeaks:function(a){var c=a[0],f=a[1],d=a[2],p=a[3],g=a[4],v=a[5],b=3*d-c-3*g+a[6],C=3*c-6*d+3*g,D=-3*c+3*d,N=3*p-f-3*v+a[7],O=3*f-6*p+3*v,P=-3*f+3*p,E=[];return je.solveCubic(9*(b*b+N*N),9*(b*C+O*N),2*(C*C+O*O)+3*(D*b+P*N),D*C+O*P,E,1e-8,.99999999),E.sort()}}}},new function(){function u(C,D,N,O,P,I,x){var E=!x&&N.getPrevious()===P,M=!x&&N!==P&&N.getNext()===P,R=1e-8,L=1-R;if(null!==O&&O>=(E?R:0)&&O<=(M?L:1)&&null!==I&&I>=(M?R:0)&&I<=(E?L:1)){var F=new Pe(N,O,null,x),V=new Pe(P,I,null,x);F._intersection=V,V._intersection=F,(!D||D(F))&&Pe.insert(C,F,!0)}}function r(C,D,N,O,P,I,x,E,M,R,L,F,V){if(++M>=4096||++E>=40)return M;var ke,Ne,U=D[0],K=D[1],$=D[6],q=D[7],W=gt.getSignedDistance,Y=W(U,K,$,q,D[2],D[3]),X=W(U,K,$,q,D[4],D[5]),ne=Y*X>0?3/4:4/9,ce=ne*Math.min(0,Y,X),ge=ne*Math.max(0,Y,X),we=W(U,K,$,q,C[0],C[1]),ye=W(U,K,$,q,C[2],C[3]),fe=W(U,K,$,q,C[4],C[5]),pe=W(U,K,$,q,C[6],C[7]),he=function s(C,D,N,O){var L,P=[0,C],I=[1/3,D],x=[2/3,N],E=[1,O],M=D-(2*C+O)/3,R=N-(C+2*O)/3;if(M*R<0)L=[[P,I,E],[P,x,E]];else{var F=M/R;L=[F>=2?[P,I,E]:F<=.5?[P,x,E]:[P,I,x,E],[P,E]]}return(M||R)<0?L.reverse():L}(we,ye,fe,pe),Ce=he[0],De=he[1];if(0===Y&&0===X&&0===we&&0===ye&&0===fe&&0===pe||null==(ke=a(Ce,De,ce,ge))||null==(Ne=a(Ce.reverse(),De.reverse(),ce,ge)))return M;var ze=R+(L-R)*ke,Ue=R+(L-R)*Ne;if(Math.max(V-F,Ue-ze)<1e-9){var Xe=(ze+Ue)/2,Ft=(F+V)/2;u(P,I,x?O:N,x?Ft:Xe,x?N:O,x?Xe:Ft)}else{C=Re.getPart(C,ke,Ne);var ft=V-F;if(Ne-ke>.8)if(Ue-ze>ft)M=r(D,(At=Re.subdivide(C,.5))[0],O,N,P,I,!x,E,M,F,V,ze,Xe=(ze+Ue)/2),M=r(D,At[1],O,N,P,I,!x,E,M,F,V,Xe,Ue);else{var At;M=r((At=Re.subdivide(D,.5))[0],C,O,N,P,I,!x,E,M,F,Ft=(F+V)/2,ze,Ue),M=r(At[1],C,O,N,P,I,!x,E,M,Ft,V,ze,Ue)}else M=0===ft||ft>=1e-9?r(D,C,O,N,P,I,!x,E,M,F,V,ze,Ue):r(C,D,N,O,P,I,x,E,M,ze,Ue,F,V)}return M}function a(C,D,N,O){return C[0][1]<N?c(C,!0,N):D[0][1]>O?c(D,!1,O):C[0][0]}function c(C,D,N){for(var O=C[0][0],P=C[0][1],I=1,x=C.length;I<x;I++){var E=C[I][0],M=C[I][1];if(D?M>=N:M<=N)return M===N?E:O+(N-P)*(E-O)/(M-P);O=E,P=M}return null}function f(C,D,N,O,P){var I=je.isZero;if(I(O)&&I(P)){var x=Re.getTimeOf(C,new le(D,N));return null===x?[]:[x]}for(var E=Math.atan2(-P,O),M=Math.sin(E),R=Math.cos(E),L=[],F=[],V=0;V<8;V+=2){var z=C[V]-D,U=C[V+1]-N;L.push(z*R-U*M,z*M+U*R)}return Re.solveCubic(L,1,0,F,0,1),F}function d(C,D,N,O,P,I,x){for(var E=D[0],M=D[1],F=f(C,E,M,D[6]-E,D[7]-M),V=0,z=F.length;V<z;V++){var U=F[V],K=Re.getPoint(C,U),$=Re.getTimeOf(D,K);null!==$&&u(P,I,x?O:N,x?$:U,x?N:O,x?U:$)}}function p(C,D,N,O,P,I){var x=gt.intersect(C[0],C[1],C[6],C[7],D[0],D[1],D[6],D[7]);x&&u(P,I,N,Re.getTimeOf(C,x),O,Re.getTimeOf(D,x))}function g(C,D,N,O,P,I){var x=1e-12,E=Math.min,M=Math.max;if(M(C[0],C[2],C[4],C[6])+x>E(D[0],D[2],D[4],D[6])&&E(C[0],C[2],C[4],C[6])-x<M(D[0],D[2],D[4],D[6])&&M(C[1],C[3],C[5],C[7])+x>E(D[1],D[3],D[5],D[7])&&E(C[1],C[3],C[5],C[7])-x<M(D[1],D[3],D[5],D[7])){var R=S(C,D);if(R)for(var L=0;L<2;L++){var F=R[L];u(P,I,N,F[0],O,F[1],!0)}else{var V=Re.isStraight(C),z=Re.isStraight(D),U=V&&z,K=V&&!z,$=P.length;if((U?p:V||z?d:r)(K?D:C,K?C:D,K?O:N,K?N:O,P,I,K,0,0,0,1,0,1),!U||P.length===$)for(L=0;L<4;L++){var q=L>>1,W=1&L,Y=6*q,X=6*W,ne=new le(C[Y],C[Y+1]),ce=new le(D[X],D[X+1]);ne.isClose(ce,x)&&u(P,I,N,q,O,W)}}}return P}function v(C,D,N,O){var P=Re.classify(C);if("loop"===P.type){var I=P.roots;u(N,O,D,I[0],D,I[1])}return N}function S(C,D){function N(pe){var he=pe[6]-pe[0],Ce=pe[7]-pe[1];return he*he+Ce*Ce}var O=Math.abs,P=gt.getDistance,x=1e-7,E=Re.isStraight(C),M=Re.isStraight(D),R=E&&M,L=N(C)<N(D),F=L?D:C,V=L?C:D,z=F[0],U=F[1],K=F[6]-z,$=F[7]-U;if(P(z,U,K,$,V[0],V[1],!0)<x&&P(z,U,K,$,V[6],V[7],!0)<x)!R&&P(z,U,K,$,F[2],F[3],!0)<x&&P(z,U,K,$,F[4],F[5],!0)<x&&P(z,U,K,$,V[2],V[3],!0)<x&&P(z,U,K,$,V[4],V[5],!0)<x&&(E=M=R=!0);else if(R)return null;if(E^M)return null;for(var q=[C,D],W=[],Y=0;Y<4&&W.length<2;Y++){var X=1&Y,ne=1^X,ce=Y>>1,ge=Re.getTimeOf(q[X],new le(q[ne][ce?6:0],q[ne][ce?7:1]));if(null!=ge){var we=X?[ce,ge]:[ge,ce];(!W.length||O(we[0]-W[0][0])>1e-8&&O(we[1]-W[0][1])>1e-8)&&W.push(we)}if(Y>2&&!W.length)break}if(2!==W.length)W=null;else if(!R){var ye=Re.getPart(C,W[0][0],W[1][0]),fe=Re.getPart(D,W[0][1],W[1][1]);(O(fe[2]-ye[2])>x||O(fe[3]-ye[3])>x||O(fe[4]-ye[4])>x||O(fe[5]-ye[5])>x)&&(W=null)}return W}return{getIntersections:function(C){var D=this.getValues(),N=C&&C!==this&&C.getValues();return N?g(D,N,this,C,[]):v(D,this,[])},statics:{getOverlaps:S,getIntersections:function y(C,D,N,O,P,I){var E=!D;E&&(D=C);for(var M=C.length,R=D.length,L=new Array(M),F=E?L:new Array(R),V=[],z=0;z<M;z++)L[z]=C[z].getValues(O);if(!E)for(z=0;z<R;z++)F[z]=D[z].getValues(P);for(var U=Tn.findCurveBoundsCollisions(L,F,1e-7),K=0;K<M;K++){var $=C[K],q=L[K];E&&v(q,$,V,N);var W=U[K];if(W)for(var Y=0;Y<W.length;Y++){if(I&&V.length)return V;var X=W[Y];(!E||X>K)&&g(q,F[X],$,D[X],V,N)}}return V},getCurveLineIntersections:f,getTimesWithTangent:function b(C,D){var N=C[0],O=C[1],P=C[2],I=C[3],x=C[4],E=C[5],M=C[6],R=C[7],L=D.normalize(),F=L.x,V=L.y,z=3*M-9*x+9*P-3*N,U=3*R-9*E+9*I-3*O,K=6*x-12*P+6*N,$=6*E-12*I+6*O,q=3*P-3*N,W=3*I-3*O,Y=2*z*V-2*U*F,X=[];if(Math.abs(Y)<je.CURVETIME_EPSILON){if(0!=(Y=z*$-U*K)){var ce=-(z*W-U*q)/Y;ce>=0&&ce<=1&&X.push(ce)}}else{var ge=(K*K-4*z*q)*V*V+(-2*K*$+4*U*q+4*z*W)*F*V+($*$-4*U*W)*F*F,we=K*V-$*F;if(ge>=0&&0!=Y){var ye=Math.sqrt(ge),fe=-(we+ye)/Y,pe=(-we+ye)/Y;fe>=0&&fe<=1&&X.push(fe),pe>=0&&pe<=1&&X.push(pe)}}return X}}}}),Pe=ie.extend({_class:"CurveLocation",initialize:function(r,s,a,c,f){if(s>=.99999999){var d=r.getNext();d&&(s=0,r=d)}this._setCurve(r),this._time=s,this._point=a||r.getPointAtTime(s),this._overlap=c,this._distance=f,this._intersection=this._next=this._previous=null},_setPath:function(u){this._path=u,this._version=u?u._version:0},_setCurve:function(u){this._setPath(u._path),this._curve=u,this._segment=null,this._segment1=u._segment1,this._segment2=u._segment2},_setSegment:function(u){var r=u.getCurve();r?this._setCurve(r):(this._setPath(u._path),this._segment1=u,this._segment2=null),this._segment=u,this._time=u===this._segment1?0:1,this._point=u._point.clone()},getSegment:function(){var u=this._segment;if(!u){var r=this.getCurve(),s=this.getTime();0===s?u=r._segment1:1===s?u=r._segment2:null!=s&&(u=r.getPartLength(0,s)<r.getPartLength(s,1)?r._segment1:r._segment2),this._segment=u}return u},getCurve:function(){var u=this._path,r=this;function s(a){var c=a&&a.getCurve();if(c&&null!=(r._time=c.getTimeOf(r._point)))return r._setCurve(c),c}return u&&u._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var u=this.getCurve();return u&&u._path},getIndex:function(){var u=this.getCurve();return u&&u.getIndex()},getTime:function(){var u=this.getCurve(),r=this._time;return u&&null==r?this._time=u.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var u=this._offset;if(null==u){u=0;var r=this.getPath(),s=this.getIndex();if(r&&null!=s)for(var a=r.getCurves(),c=0;c<s;c++)u+=a[c].getLength();this._offset=u+=this.getCurveOffset()}return u},getCurveOffset:function(){var u=this._curveOffset;if(null==u){var r=this.getCurve(),s=this.getTime();this._curveOffset=u=null!=s&&r&&r.getPartLength(0,s)}return u},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var u=this.getCurve(),r=u&&u.divideAtTime(this.getTime());return r&&this._setSegment(r._segment1),r},split:function(){var u=this.getCurve(),r=u._path,s=u&&u.splitAtTime(this.getTime());return s&&this._setSegment(r.getLastSegment()),s},equals:function(u,r){var s=this===u;if(!s&&u instanceof Pe){var a=this.getCurve(),c=u.getCurve(),f=a._path;if(f===c._path){var p=Math.abs,v=p(this.getOffset()-u.getOffset()),y=!r&&this._intersection,S=!r&&u._intersection;s=(v<1e-7||f&&p(f.getLength()-v)<1e-7)&&(!y&&!S||y&&S&&y.equals(S,!0))}}return s},toString:function(){var u=[],r=this.getPoint(),s=pn.instance;r&&u.push("point: "+r);var a=this.getIndex();null!=a&&u.push("index: "+a);var c=this.getTime();return null!=c&&u.push("time: "+s.number(c)),null!=this._distance&&u.push("distance: "+s.number(this._distance)),"{ "+u.join(", ")+" }"},isTouching:function(){var u=this._intersection;if(u&&this.getTangent().isCollinear(u.getTangent())){var r=this.getCurve(),s=u.getCurve();return!(r.isStraight()&&s.isStraight()&&r.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var u=this._intersection;if(!u)return!1;var r=this.getTime(),s=u.getTime(),a=1e-8,c=1-a,f=r>=a&&r<=c,d=s>=a&&s<=c;if(f&&d)return!this.isTouching();var p=this.getCurve(),g=p&&r<a?p.getPrevious():p,v=u.getCurve(),y=v&&s<a?v.getPrevious():v;if(r>c&&(p=p.getNext()),s>c&&(v=v.getNext()),!(g&&p&&y&&v))return!1;var S=[];function b(F,V){var z=F.getValues(),U=Re.classify(z).roots||Re.getPeaks(z),K=U.length,$=Re.getLength(z,V&&K?U[K-1]:0,!V&&K?U[0]:1);S.push(K?$:$/32)}function C(F,V,z){return V<z?F>V&&F<z:F>V||F<z}f||(b(g,!0),b(p,!1)),d||(b(y,!0),b(v,!1));var D=this.getPoint(),N=Math.min.apply(Math,S),O=f?p.getTangentAtTime(r):p.getPointAt(N).subtract(D),P=f?O.negate():g.getPointAt(-N).subtract(D),I=d?v.getTangentAtTime(s):v.getPointAt(N).subtract(D),x=d?I.negate():y.getPointAt(-N).subtract(D),E=P.getAngle(),M=O.getAngle(),R=x.getAngle(),L=I.getAngle();return!!(f?C(E,R,L)^C(M,R,L)&&C(E,L,R)^C(M,L,R):C(R,E,M)^C(L,E,M)&&C(R,M,E)^C(L,M,E))},hasOverlap:function(){return!!this._overlap}},ie.each(Re._evaluateMethods,function(u){var r=u+"At";this[u]=function(){var s=this.getCurve(),a=this.getTime();return null!=a&&s&&s[r](a,!0)}},{preserve:!0}),new function(){function u(r,s,a){var c=r.length,f=0,d=c-1;function p(D,N){for(var O=D+N;O>=-1&&O<=c;O+=N){var P=r[(O%c+c)%c];if(!s.getPoint().isClose(P.getPoint(),1e-7))break;if(s.equals(P))return P}return null}for(;f<=d;){var y,g=f+d>>>1,v=r[g];if(a&&(y=s.equals(v)?v:p(g,-1)||p(g,1)))return s._overlap&&(y._overlap=y._intersection._overlap=!0),y;var S=s.getPath(),b=v.getPath();(S!==b?S._id-b._id:s.getIndex()+s.getTime()-(v.getIndex()+v.getTime()))<0?d=g-1:f=g+1}return r.splice(f,0,s),s}return{statics:{insert:u,expand:function(r){for(var s=r.slice(),a=r.length-1;a>=0;a--)u(s,r[a]._intersection,!1);return s}}}}),Fn=ct.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(u){var r,s,a;if(ie.isPlainObject(u)?(s=u.segments,r=u.pathData):Array.isArray(u)?s=u:"string"==typeof u&&(r=u),s){var c=s[0];a=c&&Array.isArray(c[0])}else r&&(a=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r));return new(a?bt:ht)(u)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(u){this.isClockwise()!=(u=!!u)&&this.reverse()},setPathData:function(u){var s,c,f,r=u&&u.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,d=new le,p=new le;function g(x,E){var M=+s[x];return a&&(M+=d[E]),M}function v(x){return new le(g(x,"x"),g(x+1,"y"))}this.clear();for(var y=0,S=r&&r.length;y<S;y++){var b=r[y],C=b[0],D=C.toLowerCase(),N=(s=b.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&s.length;switch(a=C===D,"z"===c&&!/[mz]/.test(D)&&this.moveTo(d),D){case"m":case"l":for(var O="m"===D,P=0;P<N;P+=2)this[O?"moveTo":"lineTo"](d=v(P)),O&&(p=d,O=!1);f=d;break;case"h":case"v":var I="h"===D?"x":"y";for(d=d.clone(),P=0;P<N;P++)d[I]=g(P,I),this.lineTo(d);f=d;break;case"c":for(P=0;P<N;P+=6)this.cubicCurveTo(v(P),f=v(P+2),d=v(P+4));break;case"s":for(P=0;P<N;P+=4)this.cubicCurveTo(/[cs]/.test(c)?d.multiply(2).subtract(f):d,f=v(P),d=v(P+2)),c=D;break;case"q":for(P=0;P<N;P+=4)this.quadraticCurveTo(f=v(P),d=v(P+2));break;case"t":for(P=0;P<N;P+=2)this.quadraticCurveTo(f=/[qt]/.test(c)?d.multiply(2).subtract(f):d,d=v(P)),c=D;break;case"a":for(P=0;P<N;P+=7)this.arcTo(d=v(P+5),new We(+s[P],+s[P+1]),+s[P+2],+s[P+4],+s[P+3]);break;case"z":this.closePath(1e-12),d=p}c=D}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(u){var r=u.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(u):{};return r.onPath||!!("evenodd"===this.getFillRule()?1&r.windingL||1&r.windingR:r.winding)},getIntersections:function(u,r,s,a){var c=this===u||!u,f=this._matrix._orNullIfIdentity(),d=c?f:(s||u._matrix)._orNullIfIdentity();return c||this.getBounds(f).intersects(u.getBounds(d),1e-12)?Re.getIntersections(this.getCurves(),!c&&u.getCurves(),r,f,d,a):[]},getCrossings:function(u){return this.getIntersections(u,function(r){return r.isCrossing()})},getNearestLocation:function(){for(var u=le.read(arguments),r=this.getCurves(),s=1/0,a=null,c=0,f=r.length;c<f;c++){var d=r[c].getNearestLocation(u);d._distance<s&&(s=d._distance,a=d)}return a},getNearestPoint:function(){var u=this.getNearestLocation.apply(this,arguments);return u&&u.getPoint()},interpolate:function(u,r,s){var a=!this._children,c=a?"_segments":"_children",f=u[c],d=r[c],p=this[c];if(!f||!d||f.length!==d.length)throw new Error("Invalid operands in interpolate() call: "+u+", "+r);var g=p.length,v=d.length;if(g<v)for(var y=a?Fe:ht,S=g;S<v;S++)this.add(new y);else g>v&&this[a?"removeSegments":"removeChildren"](v,g);for(S=0;S<v;S++)p[S].interpolate(f[S],d[S],s);a&&(this.setClosed(u._closed),this._changed(9))},compare:function(u){var r=!1;if(u){var s=this._children||[this],a=u._children?u._children.slice():[u],c=s.length,f=a.length,d=[],p=0;r=!0;for(var g=Tn.findItemBoundsCollisions(s,a,je.GEOMETRIC_EPSILON),v=c-1;v>=0&&r;v--){var y=s[v];r=!1;var S=g[v];if(S)for(var b=S.length-1;b>=0&&!r;b--)y.compare(a[S[b]])&&(d[S[b]]||(d[S[b]]=!0,p++),r=!0)}r=r&&p===f}return r}}),ht=Fn.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(r){this._closed=!1,this._segments=[],this._version=0;var s=arguments,a=Array.isArray(r)?"object"==typeof r[0]?r:s:!r||r.size!==Ie||r.x===Ie&&r.point===Ie?null:s;a&&a.length>0?this.setSegments(a):(this._curves=Ie,this._segmentSelection=0,!a&&"string"==typeof r&&(this.setPathData(r),r=null)),this._initialize(!a&&r)},_equals:function(u){return this._closed===u._closed&&ie.equals(this._segments,u._segments)},copyContent:function(u){this.setSegments(u._segments),this._closed=u._closed},_changed:function u(r){if(u.base.call(this,r),8&r){if(this._length=this._area=Ie,32&r)this._version++;else if(this._curves)for(var s=0,a=this._curves.length;s<a;s++)this._curves[s]._changed()}else 64&r&&(this._bounds=Ie)},getStyle:function(){var u=this._parent;return(u instanceof bt?u:this)._style},getSegments:function(){return this._segments},setSegments:function(u){var r=this.isFullySelected(),s=u&&u.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=Ie,s){var a=u[s-1];"boolean"==typeof a&&(this.setClosed(a),s--),this._add(Fe.readList(u,0,{},s))}r&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var u=this._curves,r=this._segments;if(!u){var s=this._countCurves();u=this._curves=new Array(s);for(var a=0;a<s;a++)u[a]=new Re(this,r[a],r[a+1]||r[0])}return u},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var u=this.getCurves();return u[u.length-1]},isClosed:function(){return this._closed},setClosed:function(u){if(this._closed!=(u=!!u)){if(this._closed=u,this._curves){var r=this._curves.length=this._countCurves();u&&(this._curves[r-1]=new Re(this,this._segments[r-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(u,r){var p,g,v,y,S,b,C,D,s=this._segments,a=s.length,c=new pn(r),f=new Array(6),d=!0,N=[];function O(I,x){if(I._transformCoordinates(u,f),p=f[0],g=f[1],d)N.push("M"+c.pair(p,g)),d=!1;else if(b=f[3],(S=f[2])===p&&b===g&&C===v&&D===y){if(!x){var E=p-v,M=g-y;N.push(0===E?"v"+c.number(M):0===M?"h"+c.number(E):"l"+c.pair(E,M))}}else N.push("c"+c.pair(C-v,D-y)+" "+c.pair(S-v,b-y)+" "+c.pair(p-v,g-y));v=p,y=g,C=f[4],D=f[5]}if(!a)return"";for(var P=0;P<a;P++)O(s[P]);return this._closed&&a>0&&(O(s[0],!0),N.push("z")),N.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(u){for(var r=this._segments,s=new Array(6),a=0,c=r.length;a<c;a++)r[a]._transformCoordinates(u,s,!0);return!0},_add:function(u,d){for(var s=this._segments,a=this._curves,c=u.length,f=null==d,p=(d=f?s.length:d,0);p<c;p++){var g=u[p];g._path&&(g=u[p]=g.clone()),g._path=this,g._index=d+p,g._selection&&this._updateSelection(g,0,g._selection)}if(f)ie.push(s,u);else{s.splice.apply(s,[d,0].concat(u)),p=d+c;for(var v=s.length;p<v;p++)s[p]._index=p}if(a){var y=this._countCurves(),S=d>0&&d+c-1===y?d-1:d,b=S,C=Math.min(S+c,y);for(u._curves&&(a.splice.apply(a,[S,0].concat(u._curves)),b+=u._curves.length),p=b;p<C;p++)a.splice(p,0,new Re(this,null,null));this._adjustCurves(S,C)}return this._changed(41),u},_adjustCurves:function(u,r){for(var c,s=this._segments,a=this._curves,f=u;f<r;f++)(c=a[f])._path=this,c._segment1=s[f],c._segment2=s[f+1]||s[0],c._changed();(c=a[this._closed&&!u?s.length-1:u-1])&&(c._segment2=s[u]||s[0],c._changed()),(c=a[r])&&(c._segment1=s[r],c._changed())},_countCurves:function(){var u=this._segments.length;return!this._closed&&u>0?u-1:u},add:function(u){var r=arguments;return r.length>1&&"number"!=typeof u?this._add(Fe.readList(r)):this._add([Fe.read(r)])[0]},insert:function(u,r){var s=arguments;return s.length>2&&"number"!=typeof r?this._add(Fe.readList(s,1),u):this._add([Fe.read(s,1)],u)[0]},addSegment:function(){return this._add([Fe.read(arguments)])[0]},insertSegment:function(u){return this._add([Fe.read(arguments,1)],u)[0]},addSegments:function(u){return this._add(Fe.readList(u))},insertSegments:function(u,r){return this._add(Fe.readList(r),u)},removeSegment:function(u){return this.removeSegments(u,u+1)[0]||null},removeSegments:function(u,r,s){u=u||0,r=ie.pick(r,this._segments.length);var a=this._segments,c=this._curves,f=a.length,d=a.splice(u,r-u),p=d.length;if(!p)return d;for(var g=0;g<p;g++){var v=d[g];v._selection&&this._updateSelection(v,v._selection,0),v._index=v._path=null}g=u;for(var y=a.length;g<y;g++)a[g]._index=g;if(c){var S=u>0&&r===f+(this._closed?1:0)?u-1:u;for(g=(c=c.splice(S,p)).length-1;g>=0;g--)c[g]._path=null;s&&(d._curves=c.slice(1)),this._adjustCurves(S,S)}return this._changed(41),d},clear:"#removeSegments",hasHandles:function(){for(var u=this._segments,r=0,s=u.length;r<s;r++)if(u[r].hasHandles())return!0;return!1},clearHandles:function(){for(var u=this._segments,r=0,s=u.length;r<s;r++)u[r].clearHandles()},getLength:function(){if(null==this._length){for(var u=this.getCurves(),r=0,s=0,a=u.length;s<a;s++)r+=u[s].getLength();this._length=r}return this._length},getArea:function(){var u=this._area;if(null==u){var r=this._segments,s=this._closed;u=0;for(var a=0,c=r.length;a<c;a++){var f=a+1===c;u+=Re.getArea(Re.getValues(r[a],r[f?0:a+1],null,f&&!s))}this._area=u}return u},isFullySelected:function(){var u=this._segments.length;return this.isSelected()&&u>0&&this._segmentSelection===7*u},setFullySelected:function(u){u&&this._selectSegments(!0),this.setSelected(u)},setSelection:function u(r){1&r||this._selectSegments(!1),u.base.call(this,r)},_selectSegments:function(u){var r=this._segments,s=r.length,a=u?7:0;this._segmentSelection=a*s;for(var c=0;c<s;c++)r[c]._selection=a},_updateSelection:function(u,r,s){u._selection=s,(this._segmentSelection+=s-r)>0&&this.setSelected(!0)},divideAt:function(u){var s,r=this.getLocationAt(u);return r&&(s=r.getCurve().divideAt(r.getCurveOffset()))?s._segment1:null},splitAt:function(u){var r=this.getLocationAt(u),s=r&&r.index,a=r&&r.time;a>.99999999&&(s++,a=0);var d=this.getCurves();if(s>=0&&s<d.length){a>=1e-8&&d[s++].divideAtTime(a);var g,p=this.removeSegments(s,this._segments.length,!0);return this._closed?(this.setClosed(!1),g=this):((g=new ht(ct.NO_INSERT)).insertAbove(this),g.copyAttributes(this)),g._add(p,0),this.addSegment(p[0]),g}return null},split:function(u,r){var s,a=r===Ie?u:(s=this.getCurves()[u])&&s.getLocationAtTime(r);return null!=a?this.splitAt(a):null},join:function(u,r){var s=r||0;if(u&&u!==this){var a=u._segments,c=this.getLastSegment(),f=u.getLastSegment();if(!f)return this;c&&c._point.isClose(f._point,s)&&u.reverse();var d=u.getFirstSegment();if(c&&c._point.isClose(d._point,s))c.setHandleOut(d._handleOut),this._add(a.slice(1));else{var p=this.getFirstSegment();p&&p._point.isClose(d._point,s)&&u.reverse(),f=u.getLastSegment(),p&&p._point.isClose(f._point,s)?(p.setHandleIn(f._handleIn),this._add(a.slice(0,a.length-1),0)):this._add(a.slice())}u._closed&&this._add([a[0]]),u.remove()}var g=this.getFirstSegment(),v=this.getLastSegment();return g!==v&&g._point.isClose(v._point,s)&&(g.setHandleIn(v._handleIn),v.remove(),this.setClosed(!0)),this},reduce:function(u){for(var r=this.getCurves(),s=u&&u.simplify,a=s?1e-7:0,c=r.length-1;c>=0;c--){var f=r[c];!f.hasHandles()&&(!f.hasLength(a)||s&&f.isCollinear(f.getNext()))&&f.remove()}return this},reverse:function(){this._segments.reverse();for(var u=0,r=this._segments.length;u<r;u++){var s=this._segments[u],a=s._handleIn;s._handleIn=s._handleOut,s._handleOut=a,s._index=u}this._curves=null,this._changed(9)},flatten:function(u){for(var s=new ai(this,u||.25,256,!0).parts,a=s.length,c=[],f=0;f<a;f++)c.push(new Fe(s[f].curve.slice(0,2)));!this._closed&&a>0&&c.push(new Fe(s[a-1].curve.slice(6))),this.setSegments(c)},simplify:function(u){var r=new gn(this).fit(u||2.5);return r&&this.setSegments(r),!!r},smooth:function(u){var r=this,s=u||{},a=s.type||"asymmetric",c=this._segments,f=c.length,d=this._closed;function p(Ce,De){var ke=Ce&&Ce.index;if(null!=ke){var Ne=Ce.path;if(Ne&&Ne!==r)throw new Error(Ce._class+" "+ke+" of "+Ne+" is not part of "+r);De&&Ce instanceof Re&&ke++}else ke="number"==typeof Ce?Ce:De;return Math.min(ke<0&&d?ke%f:ke<0?ke+f:ke,f-1)}var g=d&&s.from===Ie&&s.to===Ie,v=p(s.from,0),y=p(s.to,f-1);if(v>y)if(d)v-=f;else{var S=v;v=y,y=S}if(/^(?:asymmetric|continuous)$/.test(a)){var b="asymmetric"===a,C=Math.min,D=y-v+1,N=D-1,O=g?C(D,4):1,P=O,I=O,x=[];if(d||(P=C(1,v),I=C(1,f-y-1)),(N+=P+I)<=1)return;for(var E=0,M=v-P;E<=N;E++,M++)x[E]=c[(M<0?M+f:M)%f]._point;var R=x[0]._x+2*x[1]._x,L=x[0]._y+2*x[1]._y,F=2,V=N-1,z=[R],U=[L],K=[F],$=[],q=[];for(E=1;E<N;E++){var W=E<V,ne=W?4:b?3:8,ce=W?2:b?0:1,ge=(W||b?1:2)/F;F=K[E]=(W?4:b?2:7)-ge,R=z[E]=ne*x[E]._x+ce*x[E+1]._x-ge*R,L=U[E]=ne*x[E]._y+ce*x[E+1]._y-ge*L}for($[V]=z[V]/K[V],q[V]=U[V]/K[V],E=N-2;E>=0;E--)$[E]=(z[E]-$[E+1])/K[E],q[E]=(U[E]-q[E+1])/K[E];$[N]=(3*x[N]._x-$[V])/2,q[N]=(3*x[N]._y-q[V])/2,E=P;var we=N-I;for(M=v;E<=we;E++,M++){var ye=c[M<0?M+f:M],fe=ye._point,pe=$[E]-fe._x,he=q[E]-fe._y;(g||E<we)&&ye.setHandleOut(pe,he),(g||E>P)&&ye.setHandleIn(-pe,-he)}}else for(E=v;E<=y;E++)c[E<0?E+f:E].smooth(s,!g&&E===v,!g&&E===y)},toShape:function(u){if(!this._closed)return null;var s,a,c,f,r=this._segments;function d(b,C){var D=r[b],N=D.getNext(),O=r[C],P=O.getNext();return D._handleOut.isZero()&&N._handleIn.isZero()&&O._handleOut.isZero()&&P._handleIn.isZero()&&N._point.subtract(D._point).isCollinear(P._point.subtract(O._point))}function g(b){var C=r[b],D=C.getNext(),N=C._handleOut,O=D._handleIn,P=.5522847498307936;if(N.isOrthogonal(O)){var I=C._point,x=D._point,E=new gt(I,N,!0).intersect(new gt(x,O,!0),!0);return E&&je.isZero(N.getLength()/E.subtract(I).getLength()-P)&&je.isZero(O.getLength()/E.subtract(x).getLength()-P)}return!1}function v(b,C){return r[b]._point.getDistance(r[C]._point)}if(!this.hasHandles()&&4===r.length&&d(0,2)&&d(1,3)&&function p(b){var C=r[b],D=C.getPrevious(),N=C.getNext();return D._handleOut.isZero()&&C._handleIn.isZero()&&C._handleOut.isZero()&&N._handleIn.isZero()&&C._point.subtract(D._point).isOrthogonal(N._point.subtract(C._point))}(1)?(s=Nn.Rectangle,a=new We(v(0,3),v(0,1)),f=r[1]._point.add(r[2]._point).divide(2)):8===r.length&&g(0)&&g(2)&&g(4)&&g(6)&&d(1,5)&&d(3,7)?(s=Nn.Rectangle,c=(a=new We(v(1,6),v(0,3))).subtract(new We(v(0,7),v(1,2))).divide(2),f=r[3]._point.add(r[4]._point).divide(2)):4===r.length&&g(0)&&g(1)&&g(2)&&g(3)&&(je.isZero(v(0,2)-v(1,3))?(s=Nn.Circle,c=v(0,2)/2):(s=Nn.Ellipse,c=new We(v(2,0)/2,v(3,1)/2)),f=r[1]._point),s){var y=this.getPosition(!0),S=new s({center:y,size:a,radius:c,insert:!1});return S.copyAttributes(this,!0),S._matrix.prepend(this._matrix),S.rotate(f.subtract(y).getAngle()+90),(u===Ie||u)&&S.insertAbove(this),S}return null},toPath:"#clone",compare:function u(r){if(!r||r instanceof bt)return u.base.call(this,r);var s=this.getCurves(),a=r.getCurves(),c=s.length,f=a.length;if(!c||!f)return c==f;for(var v,S,d=s[0].getValues(),p=[],g=0,y=0,b=0;b<f;b++){var O=a[b].getValues();if(p.push(O),C=Re.getOverlaps(d,O)){v=!b&&C[0][0]>0?f-1:b,S=C[0][1];break}}var P,D=Math.abs;for(O=p[v];d&&O;){var C;if((C=Re.getOverlaps(d,O))&&D(C[0][0]-y)<1e-8){1===(y=C[1][0])&&(d=++g<c?s[g].getValues():null,y=0);var x=C[0][1];if(D(x-S)<1e-8){if(P||(P=[v,x]),1===(S=C[1][1])&&(++v>=f&&(v=0),O=p[v]||a[v].getValues(),S=0),!d)return P[0]===v&&P[1]===S;continue}}break}return!1},_hitTestSelf:function(u,r,s,a){var S,b,C,D,N,O,c=this,f=this.getStyle(),d=this._segments,p=d.length,g=this._closed,v=r._tolerancePadding,y=v,P=r.stroke&&f.hasStroke(),I=r.fill&&f.hasFill(),x=r.curves,E=P?f.getStrokeWidth()/2:I&&r.tolerance>0||x?0:null;function M($,q){return u.subtract($).divide(q).length<=1}function R($,q,W){if(!r.selected||q.isSelected()){var Y=$._point;if(q!==Y&&(q=q.add(Y)),M(q,y))return new hn(W,c,{segment:$,point:q})}}function L($,q){return(q||r.segments)&&R($,$._point,"segment")||!q&&r.handles&&(R($,$._handleIn,"handle-in")||R($,$._handleOut,"handle-out"))}function F($){D.add($)}function V($){var W,q=g||$._index>0&&$._index<p-1;return"round"===(q?S:b)?M($._point,y):(D=new ht({internal:!0,closed:!0}),q?$.isSmooth()||ht._addBevelJoin($,S,E,C,null,a,F,!0):"square"===b&&ht._addSquareCap($,b,E,null,a,F,!0),D.isEmpty()?void 0:D.contains(u)||(W=D.getNearestLocation(u))&&M(W.getPoint(),v))}if(null!==E&&(E>0?(S=f.getStrokeJoin(),b=f.getStrokeCap(),C=f.getMiterLimit(),y=y.add(ht._getStrokePadding(E,a))):S=b="round"),!r.ends||r.segments||g){if(r.segments||r.handles)for(var z=0;z<p;z++)if(O=L(d[z]))return O}else if(O=L(d[0],!0)||L(d[p-1],!0))return O;if(null!==E){if(N=this.getNearestLocation(u)){var U=N.getTime();0===U||1===U&&p>1?V(N.getSegment())||(N=null):M(N.getPoint(),y)||(N=null)}if(!N&&"miter"===S&&p>1)for(z=0;z<p;z++){var K=d[z];if(u.getDistance(K._point)<=C*E&&V(K)){N=K.getLocation();break}}}return!N&&I&&this._contains(u)||N&&!P&&!x?new hn("fill",this):N?new hn(P?"stroke":"curve",this,{location:N,point:N.getPoint()}):null}},ie.each(Re._evaluateMethods,function(u){this[u+"At"]=function(r){var s=this.getLocationAt(r);return s&&s[u]()}},{beans:!1,getLocationOf:function(){for(var u=le.read(arguments),r=this.getCurves(),s=0,a=r.length;s<a;s++){var c=r[s].getLocationOf(u);if(c)return c}return null},getOffsetOf:function(){var u=this.getLocationOf.apply(this,arguments);return u?u.getOffset():null},getLocationAt:function(u){if("number"==typeof u){for(var r=this.getCurves(),s=0,a=0,c=r.length;a<c;a++){var f=s,d=r[a];if((s+=d.getLength())>u)return d.getLocationAt(u-f)}if(r.length>0&&u<=this.getLength())return new Pe(r[r.length-1],1)}else if(u&&u.getPath&&u.getPath()===this)return u;return null},getOffsetsWithTangent:function(){var u=le.read(arguments);if(u.isZero())return[];for(var r=[],s=0,a=this.getCurves(),c=0,f=a.length;c<f;c++){for(var d=a[c],p=d.getTimesWithTangent(u),g=0,v=p.length;g<v;g++){var y=s+d.getOffsetAtTime(p[g]);r.indexOf(y)<0&&r.push(y)}s+=d.length}return r}}),new function(){function r(s,a,c){var v,y,S,b,C,D,N,O,f=a._segments,d=f.length,p=new Array(6),g=!0;function P(x){if(c)x._transformCoordinates(c,p),v=p[0],y=p[1];else{var E=x._point;v=E._x,y=E._y}var M;g?(s.moveTo(v,y),g=!1):(c?(C=p[2],D=p[3]):(C=v+(M=x._handleIn)._x,D=y+M._y),C===v&&D===y&&N===S&&O===b?s.lineTo(v,y):s.bezierCurveTo(N,O,C,D,v,y)),S=v,b=y,c?(N=p[4],O=p[5]):(N=S+(M=x._handleOut)._x,O=b+M._y)}for(var I=0;I<d;I++)P(f[I]);a._closed&&d>0&&P(f[0])}return{_draw:function(s,a,c,f){var d=a.dontStart,p=a.dontFinish||a.clip,g=this.getStyle(),v=g.hasFill(),y=g.hasStroke(),S=g.getDashArray(),b=!Ve.support.nativeDash&&y&&S&&S.length;function C(x){return S[(x%b+b)%b]}if(d||s.beginPath(),(v||y&&!b||p)&&(r(s,this,f),this._closed&&s.closePath()),!p&&(v||y)&&(this._setStyles(s,a,c),v&&(s.fill(g.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),y)){if(b){d||s.beginPath();for(var P,D=new ai(this,.25,32,!1,f),N=D.length,O=-g.getDashOffset(),I=0;O>0;)O-=C(I--)+C(I--);for(;O<N;)P=O+C(I++),(O>0||P>0)&&D.drawPart(s,Math.max(O,0),Math.max(P,0)),O=P+C(I++)}s.stroke()}},_drawSelected:function(s,a){s.beginPath(),r(s,this,a),s.stroke(),function u(s,a,c,f){if(!(f<=0))for(var y,S,d=f/2,p=f-2,g=d-1,v=new Array(6),C=0,D=a.length;C<D;C++){var N=a[C],O=N._selection;if(N._transformCoordinates(c,v),y=v[0],S=v[1],2&O&&b(2),4&O&&b(4),s.fillRect(y-d,S-d,f,f),p>0&&!(1&O)){var P=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(y-g,S-g,p,p),s.fillStyle=P}}function b(I){var x=v[I],E=v[I+1];(y!=x||S!=E)&&(s.beginPath(),s.moveTo(y,S),s.lineTo(x,E),s.stroke(),s.beginPath(),s.arc(x,E,d,0,2*Math.PI,!0),s.fill())}}(s,this._segments,a,Ve.settings.handleSize)}}},new function(){function u(r){var s=r._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var r=this._segments;1===r.length&&this.removeSegment(0),r.length||this._add([new Fe(le.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Fe(le.read(arguments))])},cubicCurveTo:function(){var r=arguments,s=le.read(r),a=le.read(r),c=le.read(r),f=u(this);f.setHandleOut(s.subtract(f._point)),this._add([new Fe(c,a.subtract(c))])},quadraticCurveTo:function(){var r=arguments,s=le.read(r),a=le.read(r),c=u(this)._point;this.cubicCurveTo(s.add(c.subtract(s).multiply(1/3)),s.add(a.subtract(s).multiply(1/3)),a)},curveTo:function(){var r=arguments,s=le.read(r),a=le.read(r),c=ie.pick(ie.read(r),.5),f=1-c,d=u(this)._point,p=s.subtract(d.multiply(f*f)).subtract(a.multiply(c*c)).divide(2*c*f);if(p.isNaN())throw new Error("Cannot put a curve through points with parameter = "+c);this.quadraticCurveTo(p,a)},arcTo:function(){var y,S,b,C,r=arguments,s=Math.abs,a=Math.sqrt,c=u(this),f=c._point,d=le.read(r),g=ie.peek(r);if("boolean"==typeof(v=ie.pick(g,!0)))var p=(D=f.add(d).divide(2)).add(D.subtract(f).rotate(v?-90:90));else if(ie.remain(r)<=2)p=d,d=le.read(r);else if(!f.equals(d)){var N=We.read(r),O=je.isZero;if(O(N.width)||O(N.height))return this.lineTo(d);var P=ie.read(r),v=!!ie.read(r),I=!!ie.read(r),D=f.add(d).divide(2),E=(x=f.subtract(D).rotate(-P)).x,M=x.y,R=s(N.width),L=s(N.height),F=R*R,V=L*L,z=E*E,U=M*M,K=a(z/F+U/V);if(K>1&&(F=(R*=K)*R,V=(L*=K)*L),s(K=(F*V-F*U-V*z)/(F*U+V*z))<1e-12&&(K=0),K<0)throw new Error("Cannot create an arc with the given arguments");y=new le(R*M/L,-L*E/R).multiply((I===v?-1:1)*a(K)).rotate(P).add(D),S=(b=(C=(new $t).translate(y).rotate(P).scale(R,L))._inverseTransform(f)).getDirectedAngle(C._inverseTransform(d)),!v&&S>0?S-=360:v&&S<0&&(S+=360)}if(p){var $=new gt(f.add(p).divide(2),p.subtract(f).rotate(90),!0),q=new gt(p.add(d).divide(2),d.subtract(p).rotate(90),!0),W=new gt(f,d),Y=W.getSide(p);if(!(y=$.intersect(q,!0))){if(!Y)return this.lineTo(d);throw new Error("Cannot create an arc with the given arguments")}S=(b=f.subtract(y)).getDirectedAngle(d.subtract(y));var X=W.getSide(y,!0);0===X?S=Y*s(S):Y===X&&(S+=S<0?360:-360)}if(S){for(var ce=s(S),ge=ce>=360?4:Math.ceil((ce-1e-5)/90),we=S/ge,ye=we*Math.PI/360,fe=4/3*Math.sin(ye)/(1+Math.cos(ye)),pe=[],he=0;he<=ge;he++){var x=d,Ce=null;if(he<ge&&(Ce=b.rotate(90).multiply(fe),C?(x=C._transformPoint(b),Ce=C._transformPoint(b.add(Ce)).subtract(x)):x=y.add(b)),he){var De=b.rotate(-90).multiply(fe);C&&(De=C._transformPoint(b.add(De)).subtract(x)),pe.push(new Fe(x,De,Ce))}else c.setHandleOut(Ce);b=b.rotate(we)}this._add(pe)}},lineBy:function(){var r=le.read(arguments),s=u(this)._point;this.lineTo(s.add(r))},curveBy:function(){var r=arguments,s=le.read(r),a=le.read(r),c=ie.read(r),f=u(this)._point;this.curveTo(f.add(s),f.add(a),c)},cubicCurveBy:function(){var r=arguments,s=le.read(r),a=le.read(r),c=le.read(r),f=u(this)._point;this.cubicCurveTo(f.add(s),f.add(a),f.add(c))},quadraticCurveBy:function(){var r=arguments,s=le.read(r),a=le.read(r),c=u(this)._point;this.quadraticCurveTo(c.add(s),c.add(a))},arcBy:function(){var r=arguments,s=u(this)._point,a=s.add(le.read(r)),c=ie.pick(ie.peek(r),!0);this.arcTo(a,"boolean"==typeof c?c:s.add(le.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(u,r){return ht[r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,u,r)},statics:{getBounds:function(u,r,s,a,c,f){var d=u[0];if(!d)return new Q;var p=new Array(6),g=d._transformCoordinates(a,new Array(6)),v=g.slice(0,2),y=v.slice(),S=new Array(2);function b(N){N._transformCoordinates(a,p);for(var O=0;O<2;O++)Re._addBounds(g[O],g[O+4],p[O+2],p[O],O,f?f[O]:0,v,y,S);var P=g;g=p,p=P}for(var C=1,D=u.length;C<D;C++)b(u[C]);return r&&b(d),new Q(v[0],v[1],y[0]-v[0],y[1]-v[1])},getStrokeBounds:function(u,r,s,a,c){var f=s.getStyle(),d=f.hasStroke(),p=f.getStrokeWidth(),g=d&&s._getStrokeMatrix(a,c),v=d&&ht._getStrokePadding(p,g),y=ht.getBounds(u,r,s,a,c,v);if(!d)return y;var S=p/2,b=f.getStrokeJoin(),C=f.getStrokeCap(),D=f.getMiterLimit(),N=new Q(new We(v));function O(R){y=y.include(R)}function P(R){y=y.unite(N.setCenter(R._point.transform(a)))}function I(R,L){"round"===L||R.isSmooth()?P(R):ht._addBevelJoin(R,L,S,D,a,g,O)}function x(R,L){"round"===L?P(R):ht._addSquareCap(R,L,S,a,g,O)}var E=u.length-(r?0:1);if(E>0){for(var M=1;M<E;M++)I(u[M],b);r?I(u[0],b):(x(u[0],C),x(u[u.length-1],C))}return y},_getStrokePadding:function(u,r){if(!r)return[u,u];var s=new le(u,0).transform(r),a=new le(0,u).transform(r),c=s.getAngleInRadians(),f=s.getLength(),d=a.getLength(),p=Math.sin(c),g=Math.cos(c),v=Math.tan(c),y=Math.atan2(d*v,f),S=Math.atan2(d,v*f);return[Math.abs(f*Math.cos(y)*g+d*Math.sin(y)*p),Math.abs(d*Math.sin(S)*g+f*Math.cos(S)*p)]},_addBevelJoin:function(u,r,s,a,c,f,d,p){var g=u.getCurve(),v=g.getPrevious(),y=g.getPoint1().transform(c),S=v.getNormalAtTime(1).multiply(s).transform(f),b=g.getNormalAtTime(0).multiply(s).transform(f),C=S.getDirectedAngle(b);if((C<0||C>=180)&&(S=S.negate(),b=b.negate()),p&&d(y),d(y.add(S)),"miter"===r){var D=new gt(y.add(S),new le(-S.y,S.x),!0).intersect(new gt(y.add(b),new le(-b.y,b.x),!0),!0);D&&y.getDistance(D)<=a*s&&d(D)}d(y.add(b))},_addSquareCap:function(u,r,s,a,c,f,d){var p=u._point.transform(a),g=u.getLocation(),v=g.getNormal().multiply(0===g.getTime()?s:-s).transform(c);"square"===r&&(d&&(f(p.subtract(v)),f(p.add(v))),p=p.add(v.rotate(-90))),f(p.add(v)),f(p.subtract(v))},getHandleBounds:function(u,r,s,a,c){var p,g,f=s.getStyle();if(c.stroke&&f.hasStroke()){var v=s._getStrokeMatrix(a,c),y=f.getStrokeWidth()/2,S=y;"miter"===f.getStrokeJoin()&&(S=y*f.getMiterLimit()),"square"===f.getStrokeCap()&&(S=Math.max(S,y*Math.SQRT2)),p=ht._getStrokePadding(y,v),g=ht._getStrokePadding(S,v)}for(var b=new Array(6),C=1/0,D=-C,N=C,O=D,P=0,I=u.length;P<I;P++){u[P]._transformCoordinates(a,b);for(var E=0;E<6;E+=2){var M=E?p:g,R=M?M[0]:0,L=M?M[1]:0,F=b[E],V=b[E+1],z=F-R,U=F+R,K=V-L,$=V+L;z<C&&(C=z),U>D&&(D=U),K<N&&(N=K),$>O&&(O=$)}}return new Q(C,N,D-C,O-N)}}});ht.inject({statics:new function(){var u=.5522847498307936,r=[new Fe([-1,0],[0,u],[0,-u]),new Fe([0,-1],[-u,0],[u,0]),new Fe([1,0],[0,-u],[0,u]),new Fe([0,1],[u,0],[-u,0])];function s(c,f,d){var p=ie.getNamed(d),g=new ht(p&&(1==p.insert?ct.INSERT:0==p.insert?ct.NO_INSERT:null));return g._add(c),g._closed=f,g.set(p,ct.INSERT)}function a(c,f,d){for(var p=new Array(4),g=0;g<4;g++){var v=r[g];p[g]=new Fe(v._point.multiply(f).add(c),v._handleIn.multiply(f),v._handleOut.multiply(f))}return s(p,!0,d)}return{Line:function(){var c=arguments;return s([new Fe(le.readNamed(c,"from")),new Fe(le.readNamed(c,"to"))],!1,c)},Circle:function(){var c=arguments,f=le.readNamed(c,"center"),d=ie.readNamed(c,"radius");return a(f,new We(d),c)},Rectangle:function(){var S,c=arguments,f=Q.readNamed(c,"rectangle"),d=We.readNamed(c,"radius",0,{readNull:!0}),p=f.getBottomLeft(!0),g=f.getTopLeft(!0),v=f.getTopRight(!0),y=f.getBottomRight(!0);if(!d||d.isZero())S=[new Fe(p),new Fe(g),new Fe(v),new Fe(y)];else{var b=(d=We.min(d,f.getSize(!0).divide(2))).width,C=d.height,D=b*u,N=C*u;S=[new Fe(p.add(b,0),null,[-D,0]),new Fe(p.subtract(0,C),[0,N]),new Fe(g.add(0,C),null,[0,-N]),new Fe(g.add(b,0),[-D,0],null),new Fe(v.subtract(b,0),null,[D,0]),new Fe(v.add(0,C),[0,-N],null),new Fe(y.subtract(0,C),null,[0,N]),new Fe(y.subtract(b,0),[D,0])]}return s(S,!0,c)},RoundRectangle:"#Rectangle",Ellipse:function(){var c=arguments,f=Nn._readEllipse(c);return a(f.center,f.radius,c)},Oval:"#Ellipse",Arc:function(){var c=arguments,f=le.readNamed(c,"from"),d=le.readNamed(c,"through"),p=le.readNamed(c,"to"),g=ie.getNamed(c),v=new ht(g&&0==g.insert&&ct.NO_INSERT);return v.moveTo(f),v.arcTo(d,p),v.set(g)},RegularPolygon:function(){for(var c=arguments,f=le.readNamed(c,"center"),d=ie.readNamed(c,"sides"),p=ie.readNamed(c,"radius"),g=360/d,v=d%3==0,y=new le(0,v?-p:p),S=v?-1:.5,b=new Array(d),C=0;C<d;C++)b[C]=new Fe(f.add(y.rotate((C+S)*g)));return s(b,!0,c)},Star:function(){for(var c=arguments,f=le.readNamed(c,"center"),d=2*ie.readNamed(c,"points"),p=ie.readNamed(c,"radius1"),g=ie.readNamed(c,"radius2"),v=360/d,y=new le(0,-1),S=new Array(d),b=0;b<d;b++)S[b]=new Fe(f.add(y.rotate(v*b).multiply(b%2?g:p)));return s(S,!0,c)}}}});var bt=Fn.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||("string"==typeof r?this.setPathData(r):this.addChildren(Array.isArray(r)?r:arguments))},insertChildren:function u(r,s){var a=s,c=a[0];c&&"number"==typeof c[0]&&(a=[a]);for(var f=s.length-1;f>=0;f--){var d=a[f];a===s&&!(d instanceof ht)&&(a=ie.slice(a)),Array.isArray(d)?a[f]=new ht({segments:d,insert:!1}):d instanceof bt&&(a.splice.apply(a,[f,1].concat(d.removeChildren())),d.remove())}return u.base.call(this,r,a)},reduce:function u(r){for(var s=this._children,a=s.length-1;a>=0;a--)(c=s[a].reduce(r)).isEmpty()&&c.remove();var c;return s.length?u.base.call(this):((c=new ht(ct.NO_INSERT)).copyAttributes(this),c.insertAbove(this),this.remove(),c)},isClosed:function(){for(var u=this._children,r=0,s=u.length;r<s;r++)if(!u[r]._closed)return!1;return!0},setClosed:function(u){for(var r=this._children,s=0,a=r.length;s<a;s++)r[s].setClosed(u)},getFirstSegment:function(){var u=this.getFirstChild();return u&&u.getFirstSegment()},getLastSegment:function(){var u=this.getLastChild();return u&&u.getLastSegment()},getCurves:function(){for(var u=this._children,r=[],s=0,a=u.length;s<a;s++)ie.push(r,u[s].getCurves());return r},getFirstCurve:function(){var u=this.getFirstChild();return u&&u.getFirstCurve()},getLastCurve:function(){var u=this.getLastChild();return u&&u.getLastCurve()},getArea:function(){for(var u=this._children,r=0,s=0,a=u.length;s<a;s++)r+=u[s].getArea();return r},getLength:function(){for(var u=this._children,r=0,s=0,a=u.length;s<a;s++)r+=u[s].getLength();return r},getPathData:function(u,r){for(var s=this._children,a=[],c=0,f=s.length;c<f;c++){var d=s[c],p=d._matrix;a.push(d.getPathData(u&&!p.isIdentity()?u.appended(p):u,r))}return a.join("")},_hitTestChildren:function u(r,s,a){return u.base.call(this,r,s.class===ht||"path"===s.type?s:ie.set({},s,{fill:!1}),a)},_draw:function(u,r,s,a){var c=this._children;if(c.length){r=r.extend({dontStart:!0,dontFinish:!0}),u.beginPath();for(var f=0,d=c.length;f<d;f++)c[f].draw(u,r,a);if(!r.clip){this._setStyles(u,r,s);var p=this._style;p.hasFill()&&(u.fill(p.getFillRule()),u.shadowColor="rgba(0,0,0,0)"),p.hasStroke()&&u.stroke()}}},_drawSelected:function(u,r,s){for(var a=this._children,c=0,f=a.length;c<f;c++){var d=a[c],p=d._matrix;s[d._id]||d._drawSelected(u,p.isIdentity()?r:r.appended(p))}}},new function(){function u(r,s){var a=r._children;if(s&&!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return ie.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var s=u(this,!0);s[r].apply(s,arguments)}},{moveTo:function(){var r=u(this),s=r&&r.isEmpty()?r:new ht(ct.NO_INSERT);s!==r&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var r=u(this,!0),s=r&&r.getLastSegment(),a=le.read(arguments);this.moveTo(s?a.add(s._point):a)},closePath:function(r){u(this,!0).closePath(r)}})},ie.each(["reverse","flatten","simplify","smooth"],function(u){this[u]=function(r){for(var a,s=this._children,c=0,f=s.length;c<f;c++)a=s[c][u](r)||a;return a}},{}));Fn.inject(new function(){var u=Math.min,r=Math.max,s=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function c(P){return P._children||[P]}function f(P,I){var x=P.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(I){for(var E=c(x),M=0,R=E.length;M<R;M++)!(P=E[M])._closed&&!P.isEmpty()&&(P.closePath(1e-12),P.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0));x=x.resolveCrossings().reorient("nonzero"===x.getFillRule(),!0)}return x}function d(P,I,x,E,M){var R=new bt(ct.NO_INSERT);return R.addChildren(P,!0),R=R.reduce({simplify:I}),M&&0==M.insert||R.insertAbove(E&&x.isSibling(E)&&x.getIndex()<E.getIndex()?E:x),R.copyAttributes(x,!0),R}function p(P){return P.hasOverlap()||P.isCrossing()}function g(P,I,x,E){if(E&&(0==E.trace||E.stroke)&&/^(subtract|intersect)$/.test(x))return v(P,I,x);var M=f(P,!0),R=I&&P!==I&&f(I,!0),L=a[x];L[x]=!0,R&&(L.subtract||L.exclude)^R.isClockwise()^M.isClockwise()&&R.reverse();var $,F=C(Pe.expand(M.getIntersections(R,p))),V=c(M),z=R&&c(R),U=[],K=[];function q(Ce){for(var De=0,ke=Ce.length;De<ke;De++){var Ne=Ce[De];ie.push(U,Ne._segments),ie.push(K,Ne.getCurves()),Ne._overlapsOnly=!0}}function W(Ce){for(var De=[],ke=0,Ne=Ce&&Ce.length;ke<Ne;ke++)De.push(K[Ce[ke]]);return De}if(F.length){q(V),z&&q(z);for(var Y=new Array(K.length),X=0,ne=K.length;X<ne;X++)Y[X]=K[X].getValues();var ce=Tn.findCurveBoundsCollisions(Y,Y,0,!0),ge={};for(X=0;X<K.length;X++){var we=K[X],ye=we._path._id;(ge[ye]=ge[ye]||{})[we.getIndex()]={hor:W(ce[X].hor),ver:W(ce[X].ver)}}for(X=0,ne=F.length;X<ne;X++)N(F[X]._segment,M,R,ge,L);for(X=0,ne=U.length;X<ne;X++){var pe=U[X],he=pe._intersection;pe._winding||N(pe,M,R,ge,L),he&&he._overlap||(pe._path._overlapsOnly=!1)}$=O(U,L)}else $=b(z?V.concat(z):V.slice(),function(Ce){return!!L[Ce]});return d($,!0,P,I,E)}function v(P,I,x){var E=f(P),M=f(I),R=E.getIntersections(M,p),L="subtract"===x,F="divide"===x,V={},z=[];function U(q){if(!V[q._id]&&(F||M.contains(q.getPointAt(q.getLength()/2))^L))return z.unshift(q),V[q._id]=!0}for(var K=R.length-1;K>=0;K--){var $=R[K].split();$&&(U($)&&$.getFirstSegment().setHandleIn(0,0),E.getLastSegment().setHandleOut(0,0))}return U(E),d(z,!1,P,I)}function y(P,I){for(var x=P;x;){if(x===I)return;x=x._previous}for(;P._next&&P._next!==I;)P=P._next;if(!P._next){for(;I._previous;)I=I._previous;P._next=I,I._previous=P}}function S(P){for(var I=P.length-1;I>=0;I--)P[I].clearHandles()}function b(P,I,x){var E=P&&P.length;if(E){var M=ie.each(P,function(ce,ge){this[ce._id]={container:null,winding:ce.isClockwise()?1:-1,index:ge}},{}),R=P.slice().sort(function(ce,ge){return s(ge.getArea())-s(ce.getArea())}),L=R[0],F=Tn.findItemBoundsCollisions(R,null,je.GEOMETRIC_EPSILON);null==x&&(x=L.isClockwise());for(var V=0;V<E;V++){var z=R[V],U=M[z._id],K=0,$=F[V];if($)for(var q=null,W=$.length-1;W>=0;W--)if($[W]<V){q=q||z.getInteriorPoint();var Y=R[$[W]];if(Y.contains(q)){var X=M[Y._id];U.winding+=K=X.winding,U.container=X.exclude?X.container:Y;break}}if(I(U.winding)===I(K))U.exclude=!0,P[U.index]=null;else{var ne=U.container;z.setClockwise(ne?!ne.isClockwise():x)}}}return P}function C(P,I,x){var z,U,K,E=I&&[],L=!1,F=x||[],V=x&&{};function $(De){return De._path._id+"."+De._segment1._index}for(var q=(x&&x.length)-1;q>=0;q--)(W=x[q])._path&&(V[$(W)]=!0);for(q=P.length-1;q>=0;q--){var W,ge,Y=P[q],X=Y._time,ne=X,ce=I&&!I(Y);if((W=Y._curve)&&(W!==U?(L=!W.hasHandles()||V&&V[$(W)],z=[],K=null,U=W):K>=1e-8&&(X/=K)),ce)z&&z.push(Y);else{if(I&&E.unshift(Y),K=ne,X<1e-8)ge=W._segment1;else if(X>.99999999)ge=W._segment2;else{var we=W.divideAtTime(X,!0);L&&F.push(W,we),ge=we._segment1;for(var ye=z.length-1;ye>=0;ye--){var fe=z[ye];fe._time=(fe._time-X)/(1-X)}}Y._setSegment(ge);var pe=ge._intersection,he=Y._intersection;if(pe){y(pe,he);for(var Ce=pe;Ce;)y(Ce._intersection,pe),Ce=Ce._next}else ge._intersection=he}}return x||S(F),E||P}function D(P,I,x,E,M){var pe,he,R=Array.isArray(I)?I:I[x?"hor":"ver"],L=x?1:0,F=1^L,V=[P.x,P.y],z=V[L],U=V[F],$=1e-6,q=z-1e-9,W=z+1e-9,Y=0,X=0,ne=0,ce=0,ge=!1,we=!1,ye=1,fe=[];function Ce(mt){var dt=mt[F+0],nt=mt[F+6];if(!(U<u(dt,nt)||U>r(dt,nt))){var Vt=mt[L+0],Le=mt[L+2],Mn=mt[L+4],Hn=mt[L+6];if(dt===nt)return void((Vt<W&&Hn>q||Hn<W&&Vt>q)&&(ge=!0));var vn=U===dt?0:U===nt||q>r(Vt,Le,Mn,Hn)||W<u(Vt,Le,Mn,Hn)?1:Re.solveCubic(mt,F,U,fe,0,1)>0?fe[0]:1,qe=0===vn?Vt:1===vn?Hn:Re.getPoint(mt,vn)[x?"y":"x"],on=dt>nt?1:-1,ei=pe[L+6];return U!==dt?(qe<q?ne+=on:qe>W?ce+=on:ge=!0,qe>z-$&&qe<z+$&&(ye/=2)):(on!==(pe[F]>pe[F+6]?1:-1)?Vt<q?ne+=on:Vt>W&&(ce+=on):Vt!=ei&&(ei<W&&qe>W?(ce+=on,ge=!0):ei>q&&qe<q&&(ne+=on,ge=!0)),ye/=4),pe=mt,!M&&qe>q&&qe<W&&0===Re.getTangent(mt,vn)[x?"x":"y"]&&D(P,I,!x,E,!0)}}function De(mt){var dt=mt[F+0],nt=mt[F+2],Vt=mt[F+4],Le=mt[F+6];if(U<=r(dt,nt,Vt,Le)&&U>=u(dt,nt,Vt,Le))for(var An,Mn=mt[L+0],Hn=mt[L+2],vn=mt[L+4],qe=mt[L+6],on=q>r(Mn,Hn,vn,qe)||W<u(Mn,Hn,vn,qe)?[mt]:Re.getMonoCurves(mt,x),ei=0,m=on.length;ei<m;ei++)if(An=Ce(on[ei]))return An}for(var ke=0,Ne=R.length;ke<Ne;ke++){var Ft,ze=R[ke],Ue=ze._path,Xe=ze.getValues();if(!(ke&&R[ke-1]._path===Ue||(pe=null,Ue._closed||(he=Re.getValues(Ue.getLastCurve().getSegment2(),ze.getSegment1(),null,!E),he[F]!==he[F+6]&&(pe=he)),pe))){pe=Xe;for(var ft=Ue.getLastCurve();ft&&ft!==ze;){var At=ft.getValues();if(At[F]!==At[F+6]){pe=At;break}ft=ft.getPrevious()}}if(Ft=De(Xe))return Ft;if(ke+1===Ne||R[ke+1]._path!==Ue){if(he&&(Ft=De(he)))return Ft;ge&&!ne&&!ce&&(ne=ce=Ue.isClockwise(E)^x?1:-1),Y+=ne,X+=ce,ne=ce=0,ge&&(we=!0,ge=!1),he=null}}return Y=s(Y),X=s(X),{winding:r(Y,X),windingL:Y,windingR:X,quality:ye,onPath:we}}function N(P,I,x,E,M){var R=[],L=P,F=0;do{if(V=P.getCurve()){var z=V.getLength();R.push({segment:P,curve:V,length:z}),F+=z}P=P.getNext()}while(P&&!P._intersection&&P!==L);for(var U=[.5,.25,.75],K={winding:0,quality:-1},W=0;W<U.length&&K.quality<.5;W++){z=F*U[W];for(var Y=0,X=R.length;Y<X;Y++){var ne=R[Y],ce=ne.length;if(z<=ce){var V,ge=(V=ne.curve)._path,we=ge._parent,ye=we instanceof bt?we:ge,fe=je.clamp(V.getTimeAt(z),.001,.999),pe=V.getPointAtTime(fe),he=s(V.getTangentAtTime(fe).y)<Math.SQRT1_2,Ce=null;if(M.subtract&&x){var ke=(ye===I?x:I)._getWinding(pe,he,!0);if(ye===I&&ke.winding||ye===x&&!ke.winding){if(ke.quality<1)continue;Ce={winding:0,quality:1}}}(Ce=Ce||D(pe,E[ge._id][V.getIndex()],he,!0)).quality>K.quality&&(K=Ce);break}z-=ce}}for(Y=R.length-1;Y>=0;Y--)R[Y].segment._winding=K}function O(P,I){var E,x=[];function M(Ne){var ze;return!(!Ne||Ne._visited||I&&(!I[(ze=Ne._winding||{}).winding]||I.unite&&2===ze.winding&&ze.windingL&&ze.windingR))}function R(Ne){if(Ne)for(var ze=0,Ue=E.length;ze<Ue;ze++)if(Ne===E[ze])return!0;return!1}function L(Ne){for(var ze=Ne._segments,Ue=0,Xe=ze.length;Ue<Xe;Ue++)ze[Ue]._visited=!0}function F(Ne,ze){var Ue=Ne._intersection,Xe=Ue,Ft=[];function ft(At,mt){for(;At&&At!==mt;){var dt=At._segment,nt=dt&&dt._path;if(nt){var Vt=dt.getNext()||nt.getFirstSegment(),Le=Vt._intersection;dt!==Ne&&(R(dt)||R(Vt)||Vt&&M(dt)&&(M(Vt)||Le&&M(Le._segment)))&&Ft.push(dt),ze&&E.push(dt)}At=At._next}}if(ze&&(E=[Ne]),Ue){for(ft(Ue);Ue&&Ue._previous;)Ue=Ue._previous;ft(Ue,Xe)}return Ft}P.sort(function(Ne,ze){var Ue=Ne._intersection,Xe=ze._intersection,Ft=!(!Ue||!Ue._overlap),At=Ne._path,mt=ze._path;return Ft^!(!Xe||!Xe._overlap)?Ft?1:-1:!Ue^!Xe?Ue?1:-1:At!==mt?At._id-mt._id:Ne._index-ze._index});for(var V=0,z=P.length;V<z;V++){var X,ne,ce,U=P[V],K=M(U),$=null,q=!1,W=!0,Y=[];if(K&&U._path._overlapsOnly){var ge=U._path,we=U._intersection._segment._path;ge.compare(we)&&(ge.getArea()&&x.push(ge.clone(!1)),L(ge),L(we),K=!1)}for(;K;){var ye=!$,fe=F(U,ye),pe=fe.shift(),he=!(q=!ye&&(R(U)||R(pe)))&&pe;if(ye&&($=new ht(ct.NO_INSERT),X=null),q){(U.isFirst()||U.isLast())&&(W=U._path._closed),U._visited=!0;break}if(he&&X&&(Y.push(X),X=null),X||(he&&fe.push(U),X={start:$._segments.length,crossings:fe,visited:ne=[],handleIn:ce}),he&&(U=pe),!M(U)){$.removeSegments(X.start);for(var Ce=0,De=ne.length;Ce<De;Ce++)ne[Ce]._visited=!1;ne.length=0;do{(!(U=X&&X.crossings.shift())||!U._path)&&(U=null,(X=Y.pop())&&(ne=X.visited,ce=X.handleIn))}while(X&&!M(U));if(!U)break}var ke=U.getNext();$.add(new Fe(U._point,ce,ke&&U._handleOut)),U._visited=!0,ne.push(U),U=ke||U._path.getFirstSegment(),ce=ke&&ke._handleIn}q&&(W&&($.getFirstSegment().setHandleIn(ce),$.setClosed(W)),0!==$.getArea()&&x.push($))}return x}return{_getWinding:function(P,I,x){return D(P,this.getCurves(),I,x)},unite:function(P,I){return g(this,P,"unite",I)},intersect:function(P,I){return g(this,P,"intersect",I)},subtract:function(P,I){return g(this,P,"subtract",I)},exclude:function(P,I){return g(this,P,"exclude",I)},divide:function(P,I){return I&&(0==I.trace||I.stroke)?v(this,P,"divide"):d([this.subtract(P,I),this.intersect(P,I)],!0,this,P,I)},resolveCrossings:function(){var P=this._children,I=P||[this];function x(X,ne){var ce=X&&X._intersection;return ce&&ce._overlap&&ce._path===ne}var E=!1,M=!1,R=this.getIntersections(null,function(X){return X.hasOverlap()&&(E=!0)||X.isCrossing()&&(M=!0)}),L=E&&M&&[];if(R=Pe.expand(R),E)for(var F=C(R,function(X){return X.hasOverlap()},L),V=F.length-1;V>=0;V--){var z=F[V],U=z._path,K=z._segment,$=K.getPrevious(),q=K.getNext();x($,U)&&x(q,U)&&(K.remove(),$._handleOut._set(0,0),q._handleIn._set(0,0),$!==K&&!$.getCurve().hasLength()&&(q._handleIn.set($._handleIn),$.remove()))}M&&(C(R,E&&function(X){var ne=X.getCurve(),ce=X.getSegment(),ge=X._intersection,we=ge._curve,ye=ge._segment;if(ne&&we&&ne._path&&we._path)return!0;ce&&(ce._intersection=null),ye&&(ye._intersection=null)},L),L&&S(L),I=O(ie.each(I,function(X){ie.push(this,X._segments)},[])));var Y,W=I.length;return W>1&&P?(I!==P&&this.setChildren(I),Y=this):1===W&&!P&&(I[0]!==this&&this.setSegments(I[0].removeSegments()),Y=this),Y||((Y=new bt(ct.NO_INSERT)).addChildren(I),(Y=Y.reduce()).copyAttributes(this),this.replaceWith(Y)),Y},reorient:function(P,I){var x=this._children;return x&&x.length?this.setChildren(b(this.removeChildren(),function(E){return!!(P?E:1&E)},I)):I!==Ie&&this.setClockwise(I),this},getInteriorPoint:function(){var I=this.getBounds().getCenter(!0);if(!this.contains(I)){for(var x=this.getCurves(),E=I.y,M=[],R=[],L=0,F=x.length;L<F;L++){var V=x[L].getValues(),z=V[1],U=V[3],K=V[5],$=V[7];if(E>=u(z,U,K,$)&&E<=r(z,U,K,$))for(var q=Re.getMonoCurves(V),W=0,Y=q.length;W<Y;W++){var X=q[W],ne=X[1],ce=X[7];if(ne!==ce&&(E>=ne&&E<=ce||E>=ce&&E<=ne)){var ge=E===ne?X[0]:E===ce?X[6]:1===Re.solveCubic(X,1,E,R,0,1)?Re.getPoint(X,R[0]).x:(X[0]+X[6])/2;M.push(ge)}}}M.length>1&&(M.sort(function(we,ye){return we-ye}),I.x=(M[0]+M[1])/2)}return I}}});var ai=ie.extend({_class:"PathFlattener",initialize:function(u,r,s,a,c){var S,f=[],d=[],p=0,g=1/(s||32),v=u._segments,y=v[0];function b(O,P){var I=Re.getValues(O,P,c);f.push(I),C(I,O._index,0,1)}function C(O,P,I,x){if(!(x-I>g)||a&&Re.isStraight(O)||Re.isFlatEnough(O,r||.25)){var R=O[6]-O[0],L=O[7]-O[1],F=Math.sqrt(R*R+L*L);F>0&&d.push({offset:p+=F,curve:O,index:P,time:x})}else{var E=Re.subdivide(O,.5),M=(I+x)/2;C(E[0],P,I,M),C(E[1],P,M,x)}}for(var D=1,N=v.length;D<N;D++)b(y,S=v[D]),y=S;u._closed&&b(S||y,v[0]),this.curves=f,this.parts=d,this.length=p,this.index=0},_get:function(u){for(var c,r=this.parts,s=r.length,f=this.index;c=f,f&&!(r[--f].offset<u););for(;c<s;c++){var d=r[c];if(d.offset>=u){this.index=c;var p=r[c-1],g=p&&p.index===d.index?p.time:0,v=p?p.offset:0;return{index:d.index,time:g+(d.time-g)*(u-v)/(d.offset-v)}}}return{index:r[s-1].index,time:1}},drawPart:function(u,r,s){for(var a=this._get(r),c=this._get(s),f=a.index,d=c.index;f<=d;f++){var p=Re.getPart(this.curves[f],f===a.index?a.time:0,f===c.index?c.time:1);f===a.index&&u.moveTo(p[0],p[1]),u.bezierCurveTo.apply(u,p.slice(2))}}},ie.each(Re._evaluateMethods,function(u){this[u+"At"]=function(r){var s=this._get(r);return Re[u](this.curves[s.index],s.time)}},{})),gn=ie.extend({initialize:function(u){for(var f,r=this.points=[],s=u._segments,a=u._closed,c=0,d=s.length;c<d;c++){var p=s[c].point;(!f||!f.equals(p))&&r.push(f=p.clone())}a&&(r.unshift(r[r.length-1]),r.push(r[1])),this.closed=a},fit:function(u){var r=this.points,s=r.length,a=null;return s>0&&(a=[new Fe(r[0])],s>1&&(this.fitCubic(a,u,0,s-1,r[1].subtract(r[0]),r[s-2].subtract(r[s-1])),this.closed&&(a.shift(),a.pop()))),a},fitCubic:function(u,r,s,a,c,f){var d=this.points;if(a-s!=1){for(var b,y=this.chordLengthParameterize(s,a),S=Math.max(r,r*r),C=!0,D=0;D<=4;D++){var N=this.generateBezier(s,a,y,c,f),O=this.findMaxError(s,a,N,y);if(O.error<r&&C)return void this.addCurve(u,N);if(b=O.index,O.error>=S)break;C=this.reparameterize(s,a,y,N),S=O.error}var P=d[b-1].subtract(d[b+1]);this.fitCubic(u,r,s,b,c,P),this.fitCubic(u,r,b,a,P.negate(),f)}else{var p=d[s],g=d[a],v=p.getDistance(g)/3;this.addCurve(u,[p,p.add(c.normalize(v)),g.add(f.normalize(v)),g])}},addCurve:function(u,r){u[u.length-1].setHandleOut(r[1].subtract(r[0])),u.push(new Fe(r[3],r[2].subtract(r[3])))},generateBezier:function(u,r,s,a,c){for(var f=1e-12,d=Math.abs,p=this.points,g=p[u],v=p[r],y=[[0,0],[0,0]],S=[0,0],b=0,C=r-u+1;b<C;b++){var D=s[b],N=1-D,O=3*D*N,P=N*N*N,I=O*N,x=O*D,E=D*D*D,M=a.normalize(I),R=c.normalize(x),L=p[u+b].subtract(g.multiply(P+I)).subtract(v.multiply(x+E));y[0][0]+=M.dot(M),y[0][1]+=M.dot(R),y[1][0]=y[0][1],y[1][1]+=R.dot(R),S[0]+=M.dot(L),S[1]+=R.dot(L)}var V,z,F=y[0][0]*y[1][1]-y[1][0]*y[0][1];if(d(F)>f)V=(S[0]*y[1][1]-S[1]*y[0][1])/F,z=(y[0][0]*S[1]-y[1][0]*S[0])/F;else{var $=y[0][0]+y[0][1],q=y[1][0]+y[1][1];V=z=d($)>f?S[0]/$:d(q)>f?S[1]/q:0}var X,ne,W=v.getDistance(g),Y=f*W;if(V<Y||z<Y)V=z=W/3;else{var ce=v.subtract(g);X=a.normalize(V),ne=c.normalize(z),X.dot(ce)-ne.dot(ce)>W*W&&(V=z=W/3,X=ne=null)}return[g,g.add(X||a.normalize(V)),v.add(ne||c.normalize(z)),v]},reparameterize:function(u,r,s,a){for(var c=u;c<=r;c++)s[c-u]=this.findRoot(a,this.points[c],s[c-u]);c=1;for(var f=s.length;c<f;c++)if(s[c]<=s[c-1])return!1;return!0},findRoot:function(u,r,s){for(var a=[],c=[],f=0;f<=2;f++)a[f]=u[f+1].subtract(u[f]).multiply(3);for(f=0;f<=1;f++)c[f]=a[f+1].subtract(a[f]).multiply(2);var d=this.evaluate(3,u,s),p=this.evaluate(2,a,s),g=this.evaluate(1,c,s),v=d.subtract(r),y=p.dot(p)+v.dot(g);return je.isMachineZero(y)?s:s-v.dot(p)/y},evaluate:function(u,r,s){for(var a=r.slice(),c=1;c<=u;c++)for(var f=0;f<=u-c;f++)a[f]=a[f].multiply(1-s).add(a[f+1].multiply(s));return a[0]},chordLengthParameterize:function(u,r){for(var s=[0],a=u+1;a<=r;a++)s[a-u]=s[a-u-1]+this.points[a].getDistance(this.points[a-1]);a=1;for(var c=r-u;a<=c;a++)s[a]/=s[c];return s},findMaxError:function(u,r,s,a){for(var c=Math.floor((r-u+1)/2),f=0,d=u+1;d<r;d++){var g=this.evaluate(3,s,a[d-u]).subtract(this.points[d]),v=g.x*g.x+g.y*g.y;v>=f&&(f=v,c=d)}return{error:f,index:c}}}),Xt=ct.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(r){this._content="",this._lines=[];var s=r&&ie.isPlainObject(r)&&r.x===Ie&&r.y===Ie;this._initialize(s&&r,!s&&le.read(arguments))},_equals:function(u){return this._content===u._content},copyContent:function(u){this.setContent(u._content)},getContent:function(){return this._content},setContent:function(u){this._content=""+u,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ei=Xt.extend({_class:"PointText",initialize:function(){Xt.apply(this,arguments)},getPoint:function(){var u=this._matrix.getTranslation();return new ae(u.x,u.y,this,"setPoint")},setPoint:function(){var u=le.read(arguments);this.translate(u.subtract(this._matrix.getTranslation()))},_draw:function(u,r,s){if(this._content){this._setStyles(u,r,s);var a=this._lines,c=this._style,f=c.hasFill(),d=c.hasStroke(),p=c.getLeading(),g=u.shadowColor;u.font=c.getFontStyle(),u.textAlign=c.getJustification();for(var v=0,y=a.length;v<y;v++){u.shadowColor=g;var S=a[v];f&&(u.fillText(S,0,0),u.shadowColor="rgba(0,0,0,0)"),d&&u.strokeText(S,0,0),u.translate(0,p)}}},_getBounds:function(u,r){var s=this._style,a=this._lines,c=a.length,f=s.getJustification(),d=s.getLeading(),p=this.getView().getTextWidth(s.getFontStyle(),a),g=0;"left"!==f&&(g-=p/("center"===f?2:1));var v=new Q(g,c?-.75*d:0,p,c*d);return u?u._transformBounds(v,v):v}}),Ze=ie.extend(new function(){var a,u={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},s={transparent:[0,0,0,0]},f=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],d={"rgb-hsb":function(p,g,v){var y=Math.max(p,g,v),b=y-Math.min(p,g,v);return[0===b?0:60*(y==p?(g-v)/b+(g<v?6:0):y==g?(v-p)/b+2:(p-g)/b+4),0===y?0:b/y,y]},"hsb-rgb":function(p,g,v){var S,y=(p=(p/60%6+6)%6)-(S=Math.floor(p)),b=[v,v*(1-g),v*(1-g*y),v*(1-g*(1-y))];return[b[(S=f[S])[0]],b[S[1]],b[S[2]]]},"rgb-hsl":function(p,g,v){var y=Math.max(p,g,v),S=Math.min(p,g,v),b=y-S,C=0===b,N=(y+S)/2;return[C?0:60*(y==p?(g-v)/b+(g<v?6:0):y==g?(v-p)/b+2:(p-g)/b+4),C?0:N<.5?b/(y+S):b/(2-y-S),N]},"hsl-rgb":function(p,g,v){if(0===g)return[v,v,v];for(var y=[(p=(p/360%1+1)%1)+1/3,p,p-1/3],S=v<.5?v*(1+g):v+g-v*g,b=2*v-S,C=[],D=0;D<3;D++){var N=y[D];N<0&&(N+=1),N>1&&(N-=1),C[D]=6*N<1?b+6*(S-b)*N:2*N<1?S:3*N<2?b+(S-b)*(2/3-N)*6:b}return C},"rgb-gray":function(p,g,v){return[.2989*p+.587*g+.114*v]},"gray-rgb":function(p){return[p,p,p]},"gray-hsb":function(p){return[0,0,p]},"gray-hsl":function(p){return[0,0,p]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return ie.each(u,function(p,g){r[g]=[],ie.each(p,function(v,y){var S=ie.capitalize(v),b=/^(hue|saturation)$/.test(v),C=r[g][y]="gradient"===g?"gradient"===v?function(D){var N=this._components[0];return N!==(D=sn.read(Array.isArray(D)?D:arguments,0,{readNull:!0}))&&(N&&N._removeOwner(this),D&&D._addOwner(this)),D}:function(){return le.read(arguments,0,{readNull:"highlight"===v,clone:!0})}:function(D){return null==D||isNaN(D)?0:+D};this["get"+S]=function(){return this._type===g||b&&/^hs[bl]$/.test(this._type)?this._components[y]:this._convert(g)[y]},this["set"+S]=function(D){this._type!==g&&!(b&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(g),this._properties=u[g],this._type=g),this._components[y]=C.call(this,D),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function p(g){var b,C,D,N,v=arguments,y=this.__read,S=0;Array.isArray(g)&&(g=(v=g)[0]);var O=null!=g&&typeof g;if("string"===O&&g in u&&(b=g,g=v[1],Array.isArray(g)?(C=g,D=v[2]):(y&&(S=1),v=ie.slice(v,1),O=typeof g)),!C){if(N="number"===O?v:"object"===O&&null!=g.length?g:null){b||(b=N.length>=3?"rgb":"gray");var P=u[b].length;D=N[P],y&&(S+=N===arguments?P+(null!=D?1:0):1),N.length>P&&(N=ie.slice(N,0,P))}else if("string"===O){var I=function c(p){var y,g=p.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||p.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),v="rgb";if(g){var S=g[4]?4:3;y=new Array(S);for(var b=0;b<S;b++){var C=g[b+1];y[b]=parseInt(1==C.length?C+C:C,16)/255}}else if(g=p.match(/^(rgb|hsl)a?\((.*)\)$/)){v=g[1],y=g[2].trim().split(/[,\s]+/g);for(var D="hsl"===v,N=(b=0,Math.min(y.length,4));b<N;b++){var O=y[b];if(C=parseFloat(O),D)if(0===b){var P=O.match(/([a-z]*)$/)[1];C*={turn:360,rad:180/Math.PI,grad:.9}[P]||1}else b<3&&(C/=100);else b<3&&(C/=/%$/.test(O)?100:255);y[b]=C}}else{var I=s[p];if(!I)if(Te){a||((a=qt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),a.fillStyle="rgba(0,0,0,0)",a.fillStyle=p,a.fillRect(0,0,1,1);var x=a.getImageData(0,0,1,1).data;I=s[p]=[x[0]/255,x[1]/255,x[2]/255]}else I=[0,0,0];y=I.slice()}return[v,y]}(g);b=I[0],4===(C=I[1]).length&&(D=C[3],C.length--)}else if("object"===O)if(g.constructor===p){if(b=g._type,C=g._components.slice(),D=g._alpha,"gradient"===b)for(var x=1,E=C.length;x<E;x++){var M=C[x];M&&(C[x]=M.clone())}}else if(g.constructor===sn)b="gradient",N=v;else{var R=u[b="hue"in g?"lightness"in g?"hsl":"hsb":"gradient"in g||"stops"in g||"radial"in g?"gradient":"gray"in g?"gray":"rgb"],L=r[b];for(this._components=C=[],x=0,E=R.length;x<E;x++)null==(F=g[R[x]])&&!x&&"gradient"===b&&"stops"in g&&(F={stops:g.stops,radial:g.radial}),null!=(F=L[x].call(this,F))&&(C[x]=F);D=g.alpha}y&&b&&(S=1)}if(this._type=b||"rgb",!C)for(this._components=C=[],x=0,E=(L=r[this._type]).length;x<E;x++){var F;null!=(F=L[x].call(this,N&&N[x]))&&(C[x]=F)}return this._components=C,this._properties=u[this._type],this._alpha=D,y&&(this.__read=S),this},set:"#initialize",_serialize:function(p,g){var v=this.getComponents();return ie.serialize(/^(gray|rgb)$/.test(this._type)?v:[this._type].concat(v),p,!0,g)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(p){var g;return this._type===p?this._components.slice():(g=d[this._type+"-"+p])?g.apply(this,this._components):d["rgb-"+p].apply(this,d[this._type+"-rgb"].apply(this,this._components))},convert:function(p){return new Ze(p,this._convert(p),this._alpha)},getType:function(){return this._type},setType:function(p){this._components=this._convert(p),this._properties=u[p],this._type=p},getComponents:function(){var p=this._components.slice();return null!=this._alpha&&p.push(this._alpha),p},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(p){this._alpha=null==p?null:Math.min(Math.max(p,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(p){var g=ie.isPlainValue(p,!0)?Ze.read(arguments):p;return g===this||g&&this._class===g._class&&this._type===g._type&&this.getAlpha()===g.getAlpha()&&ie.equals(this._components,g._components)||!1},toString:function(){for(var p=this._properties,g=[],v="gradient"===this._type,y=pn.instance,S=0,b=p.length;S<b;S++){var C=this._components[S];null!=C&&g.push(p[S]+": "+(v?C:y.number(C)))}return null!=this._alpha&&g.push("alpha: "+y.number(this._alpha)),"{ "+g.join(", ")+" }"},toCSS:function(p){var g=this._convert("rgb"),v=p||null==this._alpha?1:this._alpha;function y(S){return Math.round(255*(S<0?0:S>1?1:S))}return g=[y(g[0]),y(g[1]),y(g[2])],v<1&&g.push(v<0?0:v),p?"#"+((1<<24)+(g[0]<<16)+(g[1]<<8)+g[2]).toString(16).slice(1):(4==g.length?"rgba(":"rgb(")+g.join(",")+")"},toCanvasStyle:function(p,g){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var O,v=this._components,y=v[0],S=y._stops,b=v[1],C=v[2],D=v[3],N=g&&g.inverted();if(N&&(b=N._transformPoint(b),C=N._transformPoint(C),D&&(D=N._transformPoint(D))),y._radial){var P=C.getDistance(b);if(D){var I=D.subtract(b);I.getLength()>P&&(D=b.add(I.normalize(P-.1)))}var x=D||b;O=p.createRadialGradient(x.x,x.y,0,b.x,b.y,P)}else O=p.createLinearGradient(b.x,b.y,C.x,C.y);for(var E=0,M=S.length;E<M;E++){var R=S[E];O.addColorStop(R._offset??E/(M-1),R._color.toCanvasStyle())}return this._canvasStyle=O},transform:function(p){if("gradient"===this._type){for(var g=this._components,v=1,y=g.length;v<y;v++){var S=g[v];p._transformPoint(S,S,!0)}this._changed()}},statics:{_types:u,random:function(){var p=Math.random;return new Ze(p(),p(),p())},_setOwner:function(p,g,v){return p&&(p._owner&&g&&p._owner!==g&&(p=p.clone()),!p._owner^!g&&(p._owner=g||null,p._setter=v||null)),p}}})},new function(){return ie.each({add:function(r,s){return r+s},subtract:function(r,s){return r-s},multiply:function(r,s){return r*s},divide:function(r,s){return r/s}},function(r,s){this[s]=function(a){a=Ze.read(arguments);for(var c=this._type,f=this._components,d=a._convert(c),p=0,g=f.length;p<g;p++)d[p]=r(f[p],d[p]);return new Ze(c,d,null!=this._alpha?r(this._alpha,a.getAlpha()):null)}},{})}),sn=ie.extend({_class:"Gradient",initialize:function(r,s){this._id=_t.get(),r&&ie.isPlainObject(r)&&(this.set(r),r=s=null),null==this._stops&&this.setStops(r||["white","black"]),null==this._radial&&this.setRadial("string"==typeof s&&"radial"===s||s||!1)},_serialize:function(u,r){return r.add(this,function(){return ie.serialize([this._stops,this._radial],u,!0,r)})},_changed:function(){for(var u=0,r=this._owners&&this._owners.length;u<r;u++)this._owners[u]._changed()},_addOwner:function(u){this._owners||(this._owners=[]),this._owners.push(u)},_removeOwner:function(u){var r=this._owners?this._owners.indexOf(u):-1;-1!=r&&(this._owners.splice(r,1),this._owners.length||(this._owners=Ie))},clone:function(){for(var u=[],r=0,s=this._stops.length;r<s;r++)u[r]=this._stops[r].clone();return new sn(u,this._radial)},getStops:function(){return this._stops},setStops:function(u){if(u.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var s=0,a=r.length;s<a;s++)r[s]._owner=Ie;for(s=0,a=(r=this._stops=or.readList(u,0,{clone:!0})).length;s<a;s++)r[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(u){this._radial=u,this._changed()},equals:function(u){if(u===this)return!0;if(u&&this._class===u._class){var r=this._stops,s=u._stops,a=r.length;if(a===s.length){for(var c=0;c<a;c++)if(!r[c].equals(s[c]))return!1;return!0}}return!1}}),or=ie.extend({_class:"GradientStop",initialize:function(r,s){var a=r,c=s;"object"==typeof r&&s===Ie&&(Array.isArray(r)&&"number"!=typeof r[0]?(a=r[0],c=r[1]):("color"in r||"offset"in r||"rampPoint"in r)&&(a=r.color,c=r.offset||r.rampPoint||0)),this.setColor(a),this.setOffset(c)},clone:function(){return new or(this._color.clone(),this._offset)},_serialize:function(u,r){var s=this._color,a=this._offset;return ie.serialize(null==a?[s]:[s,a],u,!0,r)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(u){this._offset=u,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Ze._setOwner(this._color,null),this._color=Ze._setOwner(Ze.read(arguments,0),this,"setColor"),this._changed()},equals:function(u){return u===this||u&&this._class===u._class&&this._color.equals(u._color)&&this._offset==u._offset||!1}}),ji=ie.extend(new function(){var u={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new le,selectedColor:null},r=ie.set({},u,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=ie.set({},r,{fillColor:new Ze}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},c={beans:!0},f={_class:"Style",beans:!0,initialize:function(p,g,v){this._values={},this._owner=g,this._project=g&&g._project||v||Ve.project,this._defaults=!g||g instanceof et?r:g instanceof Xt?s:u,p&&this.set(p)}};return ie.each(r,function(d,p){var g=/Color$/.test(p),v="shadowOffset"===p,y=ie.capitalize(p),S=a[p],b="set"+y,C="get"+y;f[b]=function(D){var N=this._owner,O=N&&N._children,P=O&&O.length>0&&!(N instanceof bt);if(P)for(var I=0,x=O.length;I<x;I++)O[I]._style[b](D);if(("selectedColor"===p||!P)&&p in this._defaults){var E=this._values[p];E!==D&&(g&&(E&&(Ze._setOwner(E,null),E._canvasStyle=null),D&&D.constructor===Ze&&(D=Ze._setOwner(D,N,P&&b))),this._values[p]=D,N&&N._changed(S||129))}},f[C]=function(D){var N=this._owner,O=N&&N._children,P=O&&O.length>0&&!(N instanceof bt);if(P&&!D)for(var x=0,E=O.length;x<E;x++){var M=O[x]._style[C]();if(x){if(!ie.equals(I,M))return Ie}else I=M}else if(p in this._defaults){var I;if((I=this._values[p])===Ie)(I=this._defaults[p])&&I.clone&&(I=I.clone());else{var R=g?Ze:v?le:null;R&&(!I||I.constructor!==R)&&(this._values[p]=I=R.read([I],0,{readNull:!0,clone:!0}))}}return I&&g&&(I=Ze._setOwner(I,N,P&&b)),I},c[C]=function(D){return this._style[C](D)},c[b]=function(D){this._style[b](D)}}),ie.each({Font:"FontFamily",WindingRule:"FillRule"},function(d,p){var g="get"+p,v="set"+p;f[g]=c[g]="#get"+d,f[v]=c[v]="#set"+d}),ct.inject(c),f},{set:function(u){var r=u instanceof ji,s=r?u._values:u;if(s)for(var a in s)if(a in this._defaults){var c=s[a];this[a]=c&&r&&c.clone?c.clone():c}},equals:function(u){function r(s,a,c){var f=s._values,d=a._values,p=a._defaults;for(var g in f){var y=d[g];if(!(c&&g in d||ie.equals(f[g],y===Ie?p[g]:y)))return!1}return!0}return u===this||u&&this._class===u._class&&r(this,u)&&r(u,this,!0)||!1},_dispose:function(){var u;(u=this.getFillColor())&&(u._canvasStyle=null),(u=this.getStrokeColor())&&(u._canvasStyle=null),(u=this.getShadowColor())&&(u._canvasStyle=null)},hasFill:function(){var u=this.getFillColor();return!!u&&u.alpha>0},hasStroke:function(){var u=this.getStrokeColor();return!!u&&u.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var u=this.getShadowColor();return!!u&&u.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var u=this.getFontSize();return this.getFontWeight()+" "+u+(/[a-z]/i.test(u+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function u(){var r=u.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),r??1.2*s}}),ln=new function(){function u(r,s,a,c){for(var f=["","webkit","moz","Moz","ms","o"],d=s[0].toUpperCase()+s.substring(1),p=0;p<6;p++){var g=f[p],v=g?g+d:s;if(v in r){if(!a)return r[v];r[v]=c;break}}}return{getStyles:function(r){var s=r&&9!==r.nodeType?r.ownerDocument:r,a=s&&s.defaultView;return a&&a.getComputedStyle(r,"")},getBounds:function(r,s){var d,a=r.ownerDocument,c=a.body,f=a.documentElement;try{d=r.getBoundingClientRect()}catch{d={left:0,top:0,width:0,height:0}}var p=d.left-(f.clientLeft||c.clientLeft||0),g=d.top-(f.clientTop||c.clientTop||0);if(!s){var v=a.defaultView;p+=v.pageXOffset||f.scrollLeft||c.scrollLeft,g+=v.pageYOffset||f.scrollTop||c.scrollTop}return new Q(p,g,d.width,d.height)},getViewportBounds:function(r){var s=r.ownerDocument,a=s.defaultView,c=s.documentElement;return new Q(0,0,a.innerWidth||c.clientWidth,a.innerHeight||c.clientHeight)},getOffset:function(r,s){return ln.getBounds(r,s).getPoint()},getSize:function(r){return ln.getBounds(r,!0).getSize()},isInvisible:function(r){return ln.getSize(r).equals(new We(0,0))},isInView:function(r){return!ln.isInvisible(r)&&ln.getViewportBounds(r).intersects(ln.getBounds(r,!0))},isInserted:function(r){return Dt.body.contains(r)},getPrefixed:function(r,s){return r&&u(r,s)},setPrefixed:function(r,s,a){if("object"==typeof s)for(var c in s)u(r,c,!0,s[c]);else u(r,s,!0,a)}}},It={add:function(u,r){if(u)for(var s in r)for(var a=r[s],c=s.split(/[\s,]+/g),f=0,d=c.length;f<d;f++){var p=c[f];u.addEventListener(p,a,u===Dt&&("touchstart"===p||"touchmove"===p)&&{passive:!1})}},remove:function(u,r){if(u)for(var s in r)for(var a=r[s],c=s.split(/[\s,]+/g),f=0,d=c.length;f<d;f++)u.removeEventListener(c[f],a,!1)},getPoint:function(u){var r=u.targetTouches?u.targetTouches.length?u.targetTouches[0]:u.changedTouches[0]:u;return new le(r.pageX||r.clientX+Dt.documentElement.scrollLeft,r.pageY||r.clientY+Dt.documentElement.scrollTop)},getTarget:function(u){return u.target||u.srcElement},getRelatedTarget:function(u){return u.relatedTarget||u.toElement},getOffset:function(u,r){return It.getPoint(u).subtract(ln.getOffset(r||It.getTarget(u)))}};It.requestAnimationFrame=new function(){var a,u=ln.getPrefixed(Te,"requestAnimationFrame"),r=!1,s=[];function c(){var f=s;s=[];for(var d=0,p=f.length;d<p;d++)f[d]();(r=u&&s.length)&&u(c)}return function(f){s.push(f),u?r||(u(c),r=!0):a||(a=setInterval(c,16.666666666666668))}};var Et=ie.extend(se,{_class:"View",initialize:function u(r,s){function a(S){return s[S]||parseInt(s.getAttribute(S),10)}function c(){var S=ln.getSize(s);return S.isNaN()||S.isZero()?new We(a("width"),a("height")):S}var f;if(Te&&s){this._id=s.getAttribute("id"),null==this._id&&s.setAttribute("id",this._id="paper-view-"+u._id++),It.add(s,this._viewEvents);var d="none";if(ln.setPrefixed(s.style,{userDrag:d,userSelect:d,touchCallout:d,contentZooming:d,tapHighlightColor:"rgba(0,0,0,0)"}),Jn.hasAttribute(s,"resize")){var p=this;It.add(Te,this._windowEvents={resize:function(){p.setViewSize(c())}})}if(f=c(),Jn.hasAttribute(s,"stats")&&typeof Stats<"u"){this._stats=new Stats;var g=this._stats.domElement,v=g.style,y=ln.getOffset(s);v.position="absolute",v.left=y.x+"px",v.top=y.y+"px",Dt.body.appendChild(g)}}else f=new We(s),s=null;this._project=r,this._scope=r._scope,this._element=s,this._pixelRatio||(this._pixelRatio=Te&&Te.devicePixelRatio||1),this._setElementSize(f.width,f.height),this._viewSize=f,u._views.push(this),u._viewsById[this._id]=this,(this._matrix=new $t)._owner=this,u._focused||(u._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ve.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Et._focused===this&&(Et._focused=null),Et._views.splice(Et._views.indexOf(this),1),delete Et._viewsById[this._id];var u=this._project;return u._view===this&&(u._view=null),It.remove(this._element,this._viewEvents),It.remove(Te,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:ie.each(ct._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(u){this[u]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(u){this._autoUpdate=u,u&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var u=this;It.requestAnimationFrame(function(){if(u._requested=!1,u._animate){u.requestUpdate();var r=u._element;(!ln.getPrefixed(Dt,"hidden")||"true"===Jn.getAttribute(r,"keepalive"))&&ln.isInView(r)&&u._handleFrame()}u._autoUpdate&&u.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ve=this._scope;var u=Date.now()/1e3,r=this._last?u-this._last:0;this._last=u,this.emit("frame",new ie({delta:r,time:this._time+=r,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(u,r){var s=this._frameItems;r?(s[u._id]={item:u,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete s[u._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(u){for(var r in this._frameItems){var s=this._frameItems[r];s.item.emit("frame",new ie(u,{time:s.time+=u.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=Ie},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var u=this._viewSize;return new Ae(u.width,u.height,this,"setViewSize")},setViewSize:function(){var u=We.read(arguments),r=u.subtract(this._viewSize);r.isZero()||(this._setElementSize(u.width,u.height),this._viewSize.set(u),this._changed(),this.emit("resize",{size:u,delta:r}),this._autoUpdate&&this.update())},_setElementSize:function(u,r){var s=this._element;s&&(s.width!==u&&(s.width=u),s.height!==r&&(s.height=r))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new Q(new le,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return ln.isInView(this._element)},isInserted:function(){return ln.isInserted(this._element)},getPixelSize:function(u){var s,r=this._element;if(r){var a=r.parentNode,c=Dt.createElement("div");c.style.fontSize=u,a.appendChild(c),s=parseFloat(ln.getStyles(c).fontSize),a.removeChild(c)}else s=parseFloat(s);return s},getTextWidth:function(u,r){return 0}},ie.each(["rotate","scale","shear","skew"],function(u){var r="rotate"===u;this[u]=function(){var s=arguments,a=(r?ie:le).read(s),c=le.read(s,0,{readNull:!0});return this.transform((new $t)[u](a,c||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var u=new $t;return this.transform(u.translate.apply(u,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var u=le.read(arguments);this.translate(this.getCenter().subtract(u))},getZoom:function(){var u=this._decompose().scaling;return(u.x+u.y)/2},setZoom:function(u){this.transform((new $t).scale(u/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(u){var r=this.getRotation();null!=r&&null!=u&&this.rotate(u-r)},getScaling:function(){var u=this._decompose().scaling;return new ae(u.x,u.y,this,"setScaling")},setScaling:function(){var u=this.getScaling(),r=le.read(arguments,0,{clone:!0,readNull:!0});u&&r&&this.scale(r.x/u.x,r.y/u.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var u=this._matrix;u.set.apply(u,arguments)},transform:function(u){this._matrix.append(u)},scrollBy:function(){this.translate(le.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(le.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(le.read(arguments))},getEventPoint:function(u){return this.viewToProject(It.getOffset(u,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(u,r){return Dt&&"string"==typeof r&&(r=Dt.getElementById(r)),new(Te?fn:Et)(u,r)}}},new function(){if(Te){var u,r,g,v,y,s=!1,a=!1,p=Te.navigator;p.pointerEnabled||p.msPointerEnabled?(g="pointerdown MSPointerDown",v="pointermove MSPointerMove",y="pointerup pointercancel MSPointerUp MSPointerCancel"):(g="touchstart",v="touchmove",y="touchend touchcancel","ontouchstart"in Te&&p.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(g+=" mousedown",v+=" mousemove",y+=" mouseup"));var S={},b={mouseout:function($){var q=Et._focused,W=It.getRelatedTarget($);if(q&&(!W||"HTML"===W.nodeName)){var Y=It.getOffset($,q._element),X=Y.x,ne=Math.abs,ce=ne(X),we=ce-(1<<25);Y.x=ne(we)<ce?we*(X<0?-1:1):X,d(q,$,q.viewToProject(Y))}},scroll:f};S[g]=function($){var q=Et._focused=c($);s||(s=!0,q._handleMouseEvent("mousedown",$))},b[v]=function($){var q=Et._focused;if(!a){var W=c($);W?q!==W&&(q&&d(q,$),u||(u=q),q=Et._focused=r=W):r&&r===q&&(u&&!u.isInserted()&&(u=null),q=Et._focused=u,u=null,f())}q&&d(q,$)},b[g]=function(){a=!0},b[y]=function($){var q=Et._focused;q&&s&&q._handleMouseEvent("mouseup",$),a=s=!1},It.add(Dt,b),It.add(Te,{load:f});var I,x,E,M,R,L,F,V,C=!1,D=!1,N={doubleclick:"click",mousedrag:"mousemove"},O=!1,K={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:S,_handleMouseEvent:function($,q,W){var Y=this._itemEvents,X=Y.native[$],ne="mousemove"===$,ce=this._scope.tool,ge=this;function we(ke){return Y.virtual[ke]||ge.responds(ke)||ce&&ce.responds(ke)}ne&&s&&we("mousedrag")&&($="mousedrag"),W||(W=this.getEventPoint(q));var ye=this.getBounds().contains(W),fe=X&&ye&&ge._project.hitTest(W,{tolerance:0,fill:!0,stroke:!0}),pe=fe&&fe.item||null,he=!1,Ce={};if(Ce[$.substr(5)]=!0,X&&pe!==M&&(M&&z(M,null,"mouseleave",q,W),pe&&z(pe,null,"mouseenter",q,W),M=pe),O^ye&&(z(this,null,ye?"mouseenter":"mouseleave",q,W),he=!0),(ye||Ce.drag)&&!W.equals(x)&&(U(this,pe,ne?$:"mousemove",q,W,x),he=!0),O=ye,Ce.down&&ye||Ce.up&&I){if(U(this,pe,$,q,W,I),Ce.down){if(V=pe===L&&Date.now()-F<300,E=L=pe,!D&&pe){for(var De=pe;De&&!De.responds("mousedrag");)De=De._parent;De&&(R=pe)}I=W}else Ce.up&&(!D&&pe===E&&(F=Date.now(),U(this,pe,V?"doubleclick":"click",q,W,I),V=!1),E=R=null);O=!1,he=!0}x=W,he&&ce&&(C=ce._handleMouseEvent($,q,W,Ce)||C),!1!==q.cancelable&&(C&&!Ce.move||Ce.down&&we("mouseup"))&&q.preventDefault()},_handleKeyEvent:function($,q,W,Y){var ce,X=this._scope,ne=X.tool;function ge(we){we.responds($)&&(Ve=X,we.emit($,ce=ce||new ar($,q,W,Y)))}this.isVisible()&&(ge(this),ne&&ne.responds($)&&ge(ne))},_countItemEvent:function($,q){var W=this._itemEvents,Y=W.native,X=W.virtual;for(var ne in K)Y[ne]=(Y[ne]||0)+(K[ne][$]||0)*q;X[$]=(X[$]||0)+q},statics:{updateFocus:f,_resetState:function(){s=a=C=O=!1,u=r=I=x=E=M=R=L=F=V=null}}}}function c($){var q=It.getTarget($);return q.getAttribute&&Et._viewsById[q.getAttribute("id")]}function f(){var $=Et._focused;if(!$||!$.isVisible())for(var q=0,W=Et._views.length;q<W;q++)if(($=Et._views[q]).isVisible()){Et._focused=r=$;break}}function d($,q,W){$._handleMouseEvent("mousemove",q,W)}function z($,q,W,Y,X,ne,ce){var we,ge=!1;function ye(fe,pe){if(fe.responds(pe)){if(we||(we=new xi(pe,Y,X,q||fe,ne?X.subtract(ne):null)),fe.emit(pe,we)&&(C=!0,we.prevented&&(D=!0),we.stopped))return ge=!0}else{var he=N[pe];if(he)return ye(fe,he)}}for(;$&&$!==ce&&!ye($,W);)$=$._parent;return ge}function U($,q,W,Y,X,ne){return $._project.removeOn(W),D=C=!1,R&&z(R,null,W,Y,X,ne)||q&&q!==R&&!q.isDescendant(R)&&z(q,null,"mousedrag"===W?"mousemove":W,Y,X,ne,R)||z($,R||q||$,W,Y,X,ne)}}),fn=Et.extend({_class:"CanvasView",initialize:function(r,s){if(!(s instanceof Te.HTMLCanvasElement)){var a=We.read(arguments,1);if(a.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+ie.slice(arguments,1));s=qt.getCanvas(a)}var c=this._context=s.getContext("2d");if(c.save(),this._pixelRatio=1,!/^off|false$/.test(Jn.getAttribute(s,"hidpi"))){var f=Te.devicePixelRatio||1,d=ln.getPrefixed(c,"backingStorePixelRatio")||1;this._pixelRatio=f/d}Et.call(this,r,s),this._needsUpdate=!0},remove:function u(){return this._context.restore(),u.base.call(this)},_setElementSize:function u(r,s){var a=this._pixelRatio;if(u.base.call(this,r*a,s*a),1!==a){var c=this._element,f=this._context;if(!Jn.hasAttribute(c,"resize")){var d=c.style;d.width=r+"px",d.height=s+"px"}f.restore(),f.save(),f.scale(a,a)}},getContext:function(){return this._context},getPixelSize:function u(r){var a,s=Ve.agent;if(s&&s.firefox)a=u.base.call(this,r);else{var c=this._context,f=c.font;c.font=r+" serif",a=parseFloat(c.font),c.font=f}return a},getTextWidth:function(u,r){var s=this._context,a=s.font,c=0;s.font=u;for(var f=0,d=r.length;f<d;f++)c=Math.max(c,s.measureText(r[f]).width);return s.font=a,c},update:function(){if(!this._needsUpdate)return!1;var u=this._project,r=this._context,s=this._viewSize;return r.clearRect(0,0,s.width+1,s.height+1),u&&u.draw(r,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),br=ie.extend({_class:"Event",initialize:function(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return as.modifiers}}),ar=br.extend({_class:"KeyEvent",initialize:function(r,s,a,c){this.type=r,this.event=s,this.key=a,this.character=c},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),as=new function(){var c,f,u={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},s={},a={},d=new ie({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var v=Ve&&Ve.agent;return v&&v.mac?this.meta:this.control}}});function p(v){var y=v.key||v.keyIdentifier;return y=/^U\+/.test(y)?String.fromCharCode(parseInt(y.substr(2),16)):/^Arrow[A-Z]/.test(y)?y.substr(5):"Unidentified"===y||y===Ie?String.fromCharCode(v.keyCode):y,u[y]||(y.length>1?ie.hyphenate(y):y.toLowerCase())}function g(v,y,S,b){var N,D=Et._focused;if(s[y]=v,v?a[y]=S:delete a[y],y.length>1&&(N=ie.camelize(y))in d){d[N]=v;var O=Ve&&Ve.agent;if("meta"===N&&O&&O.mac)if(v)c={};else{for(var P in c)P in a&&g(!1,P,c[P],b);c=null}}else v&&c&&(c[y]=S);D&&D._handleKeyEvent(v?"keydown":"keyup",b,y,S)}return It.add(Dt,{keydown:function(v){var y=p(v),S=Ve&&Ve.agent;y.length>1||S&&S.chrome&&(v.altKey||S.mac&&v.metaKey||!S.mac&&v.ctrlKey)?g(!0,y,r[y]||(y.length>1?"":y),v):f=y},keypress:function(v){if(f){var y=p(v),S=v.charCode,b=S>=32?String.fromCharCode(S):y.length>1?"":y;y!==f&&(y=b.toLowerCase()),g(!0,y,b,v),f=null}},keyup:function(v){var y=p(v);y in a&&g(!1,y,a[y],v)}}),It.add(Te,{blur:function(v){for(var y in a)g(!1,y,a[y],v)}}),{modifiers:d,isDown:function(v){return!!s[v]}}},xi=br.extend({_class:"MouseEvent",initialize:function(r,s,a,c,f){this.type=r,this.event=s,this.point=a,this.target=c,this.delta=f},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Os=br.extend({_class:"ToolEvent",_item:null,initialize:function(r,s,a){this.tool=r,this.type=s,this.event=a},_choosePoint:function(u,r){return u||(r?r.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(u){this._point=u},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(u){this._lastPoint=u},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(u){this._downPoint=u},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(u){this._middlePoint=u},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(u){this._delta=u},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(u){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=u},getItem:function(){if(!this._item){var u=this.tool._scope.project.hitTest(this.getPoint());if(u){for(var r=u.item,s=r._parent;/^(Group|CompoundPath)$/.test(s._class);)r=s,s=s._parent;this._item=r}}return this._item},setItem:function(u){this._item=u},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),us=(In.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(r){In.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(u){this._minDistance=u,null!=u&&null!=this._maxDistance&&u>this._maxDistance&&(this._maxDistance=u)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(u){this._maxDistance=u,null!=this._minDistance&&null!=u&&u<this._minDistance&&(this._minDistance=u)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(u){this._minDistance=this._maxDistance=u},_handleMouseEvent:function(u,r,s,a){Ve=this._scope,a.drag&&!this.responds(u)&&(u="mousemove");var c=a.move||a.drag,f=this.responds(u),d=this.minDistance,p=this.maxDistance,g=!1,v=this;function y(b,C){var D=s,N=c?v._point:v._downPoint||D;if(c){if(v._moveCount>=0&&D.equals(N))return!1;if(N&&(null!=b||null!=C)){var O=D.subtract(N),P=O.getLength();if(P<(b||0))return!1;C&&(D=N.add(O.normalize(Math.min(P,C))))}v._moveCount++}return v._point=D,v._lastPoint=N||D,a.down&&(v._moveCount=-1,v._downPoint=D,v._downCount++),!0}function S(){f&&(g=v.emit(u,new Os(v,u,r))||g)}if(a.down)y(),S();else if(a.up)y(null,p),S();else if(f)for(;y(d,p);)S();return g}}),ie.extend(se,{_class:"Tween",statics:{easings:new ie({linear:function(u){return u},easeInQuad:function(u){return u*u},easeOutQuad:function(u){return u*(2-u)},easeInOutQuad:function(u){return u<.5?2*u*u:2*(2-u)*u-1},easeInCubic:function(u){return u*u*u},easeOutCubic:function(u){return--u*u*u+1},easeInOutCubic:function(u){return u<.5?4*u*u*u:(u-1)*(2*u-2)*(2*u-2)+1},easeInQuart:function(u){return u*u*u*u},easeOutQuart:function(u){return 1- --u*u*u*u},easeInOutQuart:function(u){return u<.5?8*u*u*u*u:1-8*--u*u*u*u},easeInQuint:function(u){return u*u*u*u*u},easeOutQuint:function(u){return 1+--u*u*u*u*u},easeInOutQuint:function(u){return u<.5?16*u*u*u*u*u:1+16*--u*u*u*u*u}})},initialize:function u(r,s,a,c,f,d){this.object=r;var p=typeof f,g="function"===p;this.type=g?p:"string"===p?f:"linear",this.easing=g?f:u.easings[this.type],this.duration=c,this.running=!1,this._then=null,this._startTime=null;var v=s||a;this._keys=v?Object.keys(v):[],this._parsedKeys=this._parseKeys(this._keys),this._from=v&&this._getState(s),this._to=v&&this._getState(a),!1!==d&&this.start()},then:function(u){return this._then=u,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(u){if(this.running){u>=1&&(u=1,this.running=!1);for(var r=this.easing(u),s=this._keys,a=function(y){return"function"==typeof y?y(r,u):y},c=0,f=s&&s.length;c<f;c++){var d=s[c],p=a(this._from[d]),g=a(this._to[d]),v=p&&g&&p.__add&&g.__add?g.__subtract(p).__multiply(r).__add(p):(g-p)*r+p;this._setProperty(this._parsedKeys[d],v)}this.responds("update")&&this.emit("update",new ie({progress:u,factor:r})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(u){var r=this._startTime,s=r?(u-r)/this.duration:0;r||(this._startTime=u),this.update(s)},_getState:function(u){for(var r=this._keys,s={},a=0,c=r.length;a<c;a++){var g,f=r[a],d=this._parsedKeys[f],p=this._getProperty(d);if(u){var v=this._resolveValue(p,u[f]);this._setProperty(d,v),g=(g=this._getProperty(d))&&g.clone?g.clone():g,this._setProperty(d,p)}else g=p&&p.clone?p.clone():p;s[f]=g}return s},_resolveValue:function(u,r){if(r){if(Array.isArray(r)&&2===r.length){var s=r[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(u,s[0],r[1]):r}if("string"==typeof r){var a=r.match(/^[+\-*/]=(.*)/);if(a){var c=JSON.parse(a[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(u,r[0],c)}}}return r},_calculate:function(u,r,s){return Ve.PaperScript.calculateBinary(u,r,s)},_parseKeys:function(u){for(var r={},s=0,a=u.length;s<a;s++){var c=u[s],f=c.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[c]=f.split("/")}return r},_getProperty:function(u,r){for(var s=this.object,a=0,c=u.length-(r||0);a<c&&s;a++)s=s[u[a]];return s},_setProperty:function(u,r){var s=this._getProperty(u,1);s&&(s[u[u.length-1]]=r)}})),mn={request:function(u){var r=new oi.XMLHttpRequest;return r.open((u.method||"get").toUpperCase(),u.url,ie.pick(u.async,!0)),u.mimeType&&r.overrideMimeType(u.mimeType),r.onload=function(){var s=r.status;0===s||200===s?u.onLoad&&u.onLoad.call(r,r.responseText):r.onerror()},r.onerror=function(){var s=r.status,a='Could not load "'+u.url+'" (Status: '+s+")";if(!u.onError)throw new Error(a);u.onError(a,s)},r.send(null)}},qt=ie.exports.CanvasProvider={canvases:[],getCanvas:function(u,r,s){if(!Te)return null;var a,c=!0;"object"==typeof u&&(r=u.height,u=u.width),this.canvases.length?a=this.canvases.pop():(a=Dt.createElement("canvas"),c=!1);var f=a.getContext("2d",s||{});if(!f)throw new Error("Canvas "+a+" is unable to provide a 2D context.");return a.width===u&&a.height===r?c&&f.clearRect(0,0,u+1,r+1):(a.width=u,a.height=r),f.save(),a},getContext:function(u,r,s){var a=this.getCanvas(u,r,s);return a?a.getContext("2d",s||{}):null},release:function(u){var r=u&&u.canvas?u.canvas:u;r&&r.getContext&&(r.getContext("2d").restore(),this.canvases.push(r))}},Rt=new function(){var a,c,f,d,p,g,v,y,S,b,C,u=Math.min,r=Math.max,s=Math.abs;function D(M,R,L){return.2989*M+.587*R+.114*L}function N(M,R,L,z){var V=z-D(M,R,L),U=(z=D(S=M+V,b=R+V,C=L+V),u(S,b,C)),K=r(S,b,C);if(U<0){var $=z-U;S=z+(S-z)*z/$,b=z+(b-z)*z/$,C=z+(C-z)*z/$}if(K>255){var q=255-z,W=K-z;S=z+(S-z)*q/W,b=z+(b-z)*q/W,C=z+(C-z)*q/W}}function O(M,R,L){return r(M,R,L)-u(M,R,L)}function P(M,R,L,F){var K,V=[M,R,L],z=r(M,R,L),U=u(M,R,L);K=0===u(U=U===M?0:U===R?1:2,z=z===M?0:z===R?1:2)?1===r(U,z)?2:1:0,V[z]>V[U]?(V[K]=(V[K]-V[U])*F/(V[z]-V[U]),V[z]=F):V[K]=V[z]=0,V[U]=0,S=V[0],b=V[1],C=V[2]}var I={multiply:function(){S=p*a/255,b=g*c/255,C=v*f/255},screen:function(){S=p+a-p*a/255,b=g+c-g*c/255,C=v+f-v*f/255},overlay:function(){S=p<128?2*p*a/255:255-2*(255-p)*(255-a)/255,b=g<128?2*g*c/255:255-2*(255-g)*(255-c)/255,C=v<128?2*v*f/255:255-2*(255-v)*(255-f)/255},"soft-light":function(){var M=a*p/255;S=M+p*(255-(255-p)*(255-a)/255-M)/255,b=(M=c*g/255)+g*(255-(255-g)*(255-c)/255-M)/255,C=(M=f*v/255)+v*(255-(255-v)*(255-f)/255-M)/255},"hard-light":function(){S=a<128?2*a*p/255:255-2*(255-a)*(255-p)/255,b=c<128?2*c*g/255:255-2*(255-c)*(255-g)/255,C=f<128?2*f*v/255:255-2*(255-f)*(255-v)/255},"color-dodge":function(){S=0===p?0:255===a?255:u(255,255*p/(255-a)),b=0===g?0:255===c?255:u(255,255*g/(255-c)),C=0===v?0:255===f?255:u(255,255*v/(255-f))},"color-burn":function(){S=255===p?255:0===a?0:r(0,255-255*(255-p)/a),b=255===g?255:0===c?0:r(0,255-255*(255-g)/c),C=255===v?255:0===f?0:r(0,255-255*(255-v)/f)},darken:function(){S=p<a?p:a,b=g<c?g:c,C=v<f?v:f},lighten:function(){S=p>a?p:a,b=g>c?g:c,C=v>f?v:f},difference:function(){(S=p-a)<0&&(S=-S),(b=g-c)<0&&(b=-b),(C=v-f)<0&&(C=-C)},exclusion:function(){S=p+a*(255-p-p)/255,b=g+c*(255-g-g)/255,C=v+f*(255-v-v)/255},hue:function(){P(a,c,f,O(p,g,v)),N(S,b,C,D(p,g,v))},saturation:function(){P(p,g,v,O(a,c,f)),N(S,b,C,D(p,g,v))},luminosity:function(){N(p,g,v,D(a,c,f))},color:function(){N(a,c,f,D(p,g,v))},add:function(){S=u(p+a,255),b=u(g+c,255),C=u(v+f,255)},subtract:function(){S=r(p-a,0),b=r(g-c,0),C=r(v-f,0)},average:function(){S=(p+a)/2,b=(g+c)/2,C=(v+f)/2},negation:function(){S=255-s(255-a-p),b=255-s(255-c-g),C=255-s(255-f-v)}},x=this.nativeModes=ie.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(M){this[M]=!0},{}),E=qt.getContext(1,1,{willReadFrequently:!0});E&&(ie.each(I,function(M,R){var L="darken"===R,F=!1;E.save();try{E.fillStyle=L?"#300":"#a00",E.fillRect(0,0,1,1),E.globalCompositeOperation=R,E.globalCompositeOperation===R&&(E.fillStyle=L?"#a00":"#300",E.fillRect(0,0,1,1),F=E.getImageData(0,0,1,1).data[0]!==L?170:51)}catch{}E.restore(),x[R]=F}),qt.release(E)),this.process=function(M,R,L,F,V){var z=R.canvas,U="normal"===M;if(U||x[M])L.save(),L.setTransform(1,0,0,1,0,0),L.globalAlpha=F,U||(L.globalCompositeOperation=M),L.drawImage(z,V.x,V.y),L.restore();else{var K=I[M];if(!K)return;for(var $=L.getImageData(V.x,V.y,z.width,z.height),q=$.data,W=R.getImageData(0,0,z.width,z.height).data,Y=0,X=q.length;Y<X;Y+=4){a=W[Y],p=q[Y],c=W[Y+1],g=q[Y+1],f=W[Y+2],v=q[Y+2],d=W[Y+3],y=q[Y+3],K();var ne=d*F/255,ce=1-ne;q[Y]=ne*S+ce*p,q[Y+1]=ne*b+ce*g,q[Y+2]=ne*C+ce*v,q[Y+3]=d*F+ce*y}L.putImageData($,V.x,V.y)}}},dn=new function(){var u="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",a={href:s,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function d(p,g,v){for(var y in g){var S=g[y],b=a[y];"number"==typeof S&&v&&(S=v.number(S)),b?p.setAttributeNS(b,y,S):p.setAttribute(y,S)}return p}return{svg:u,xmlns:r,xlink:s,create:function c(p,g,v){return d(Dt.createElementNS(u,p),g,v)},get:function f(p,g){var v=a[g],y=v?p.getAttributeNS(v,g):p.getAttribute(g);return"null"===y?null:y},set:d}},cn=ie.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(u,r){return!r&&(u instanceof Fn||u instanceof Nn||u instanceof Xt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(u,r){var s=ie.capitalize(r),a=u[2];this[r]={type:u[1],property:r,attribute:u[0],toSVG:a,fromSVG:a&&ie.each(a,function(c,f){this[c]=f},{}),exportFilter:u[3],get:"get"+s,set:"set"+s}},{});new function(){var u;function r(I,x,E){var L,M=new ie,R=I.getTranslation();if(x&&(I.isInvertible()?(L=(I=I._shiftless())._inverseTransform(R),R=null):L=new le,M[E?"cx":"x"]=L.x,M[E?"cy":"y"]=L.y),!I.isIdentity()){var F=I.decompose();if(F){var V=[],z=F.rotation,U=F.scaling,K=F.skewing;R&&!R.isZero()&&V.push("translate("+u.point(R)+")"),z&&V.push("rotate("+u.number(z)+")"),(!je.isZero(U.x-1)||!je.isZero(U.y-1))&&V.push("scale("+u.point(U)+")"),K.x&&V.push("skewX("+u.number(K.x)+")"),K.y&&V.push("skewY("+u.number(K.y)+")"),M.transform=V.join(" ")}else M.transform="matrix("+I.getValues().join(",")+")"}return M}function s(I,x){for(var E=r(I._matrix),M=I._children,R=dn.create("g",E,u),L=0,F=M.length;L<F;L++){var V=M[L],z=O(V,x);if(z)if(V.isClipMask()){var U=dn.create("clipPath");U.appendChild(z),D(V,U,"clip"),dn.set(R,{"clip-path":"url(#"+U.id+")"})}else R.appendChild(z)}return R}function f(I){var x=I._type,E=I._radius,M=r(I._matrix,!0,"rectangle"!==x);if("rectangle"===x){x="rect";var R=I._size,L=R.width,F=R.height;M.x-=L/2,M.y-=F/2,M.width=L,M.height=F,E.isZero()&&(E=null)}return E&&("circle"===x?M.r=E:(M.rx=E.width,M.ry=E.height)),dn.create(x,M,u)}var b,y={Group:s,Layer:s,Raster:function a(I,x){var E=r(I._matrix,!0),M=I.getSize(),R=I.getImage();return E.x-=M.width/2,E.y-=M.height/2,E.width=M.width,E.height=M.height,E.href=0==x.embedImages&&R&&R.src||I.toDataURL(),dn.create("image",E,u)},Path:function c(I,x){var E=x.matchShapes;if(E){var M=I.toShape(!1);if(M)return f(M)}var F,R=I._segments,L=R.length,V=r(I._matrix);if(E&&L>=2&&!I.hasHandles())if(L>2){F=I._closed?"polygon":"polyline";for(var z=[],U=0;U<L;U++)z.push(u.point(R[U]._point));V.points=z.join(" ")}else{F="line";var K=R[0]._point,$=R[1]._point;V.set({x1:K.x,y1:K.y,x2:$.x,y2:$.y})}else F="path",V.d=I.getPathData(null,x.precision);return dn.create(F,V,u)},Shape:f,CompoundPath:function d(I,x){var E=r(I._matrix),M=I.getPathData(null,x.precision);return M&&(E.d=M),dn.create("path",E,u)},SymbolItem:function p(I,x){var E=r(I._matrix,!0),M=I._definition,R=C(M,"symbol"),L=M._item,F=L.getStrokeBounds();return R||((R=dn.create("symbol",{viewBox:u.rectangle(F)})).appendChild(O(L,x)),D(M,R,"symbol")),E.href="#"+R.id,E.x+=F.x,E.y+=F.y,E.width=F.width,E.height=F.height,E.overflow="visible",dn.create("use",E,u)},PointText:function v(I){var x=dn.create("text",r(I._matrix,!0),u);return x.textContent=I._content,x}};function C(I,x){return b||(b={ids:{},svgs:{}}),I&&b.svgs[x+"-"+(I._id||I.__id||(I.__id=_t.get("svg")))]}function D(I,x,E){b||C();var M=b.ids[E]=(b.ids[E]||0)+1;x.id=E+"-"+M,b.svgs[E+"-"+(I._id||I.__id)]=x}function N(I,x){var E=I,M=null;if(b){for(var R in E="svg"===I.nodeName.toLowerCase()&&I,b.svgs)M||(E||(E=dn.create("svg")).appendChild(I),M=E.insertBefore(dn.create("defs"),E.firstChild)),M.appendChild(b.svgs[R]);b=null}return x.asString?(new oi.XMLSerializer).serializeToString(E):E}function O(I,x,E){var M=y[I._class],R=M&&M(I,x);if(R){var L=x.onExport;L&&(R=L(I,R,x)||R);var F=JSON.stringify(I._data);F&&"{}"!==F&&"null"!==F&&R.setAttribute("data-paper-data",F)}return R&&function S(I,x,E){var M={},R=!E&&I.getParent(),L=[];return null!=I._name&&(M.id=I._name),ie.each(cn,function(F){var V=F.get,z=F.type,U=I[V]();if(F.exportFilter?F.exportFilter(I,U):!R||!ie.equals(R[V](),U)){if("color"===z&&null!=U){var K=U.getAlpha();K<1&&(M[F.attribute+"-opacity"]=K)}"style"===z?L.push(F.attribute+": "+U):M[F.attribute]=null==U?"none":"color"===z?U.gradient?function g(I){var x=C(I,"color");if(!x){var F,E=I.getGradient(),M=E._radial,R=I.getOrigin(),L=I.getDestination();if(M){F={cx:R.x,cy:R.y,r:R.getDistance(L)};var V=I.getHighlight();V&&(F.fx=V.x,F.fy=V.y)}else F={x1:R.x,y1:R.y,x2:L.x,y2:L.y};F.gradientUnits="userSpaceOnUse",x=dn.create((M?"radial":"linear")+"Gradient",F,u);for(var z=E._stops,U=0,K=z.length;U<K;U++){var $=z[U],q=$._color,W=q.getAlpha();F={offset:$._offset??U/(K-1)},q&&(F["stop-color"]=q.toCSS(!0)),W<1&&(F["stop-opacity"]=W),x.appendChild(dn.create("stop",F,u))}D(I,x,"color")}return"url(#"+x.id+")"}(U):U.toCSS(!0):"array"===z?U.join(","):"lookup"===z?F.toSVG[U]:U}}),L.length&&(M.style=L.join(";")),1===M.opacity&&delete M.opacity,I._visible||(M.visibility="hidden"),dn.set(x,M,u)}(I,R,E)}function P(I){return I||(I={}),u=new pn(I.precision),I}ct.inject({exportSVG:function(I){return N(O(this,I=P(I),!0),I)}}),un.inject({exportSVG:function(I){I=P(I);var x=this._children,E=this.getView(),M=ie.pick(I.bounds,"view"),R=I.matrix||"view"===M&&E._matrix,L=R&&$t.read([R]),F="view"===M?new Q([0,0],E.getViewSize()):"content"===M?ct._getBounds(x,L,{stroke:!0}).rect:Q.read([M],0,{readNull:!0}),V={version:"1.1",xmlns:dn.svg,"xmlns:xlink":dn.xlink};F&&(V.width=F.width,V.height=F.height,(F.x||0===F.x||F.y||0===F.y)&&(V.viewBox=u.rectangle(F)));var z=dn.create("svg",V,u),U=z;L&&!L.isIdentity()&&(U=z.appendChild(dn.create("g",r(L),u)));for(var K=0,$=x.length;K<$;K++)U.appendChild(O(x[K],I,!0));return N(z,I)}})},new function(){var r,u={};function s(x,E,M,R,L,F){var V=dn.get(x,E)||F,z=null==V?R?null:M?"":0:M?V:parseFloat(V);return/%\s*$/.test(V)?z/100*(L?1:r[/x|^width/.test(E)?"width":"height"]):z}function a(x,E,M,R,L,F,V){return E=s(x,E||"x",!1,R,L,F),M=s(x,M||"y",!1,R,L,V),!R||null!=E&&null!=M?new le(E,M):null}function c(x,E,M,R,L){return E=s(x,E||"width",!1,R,L),M=s(x,M||"height",!1,R,L),!R||null!=E&&null!=M?new We(E,M):null}function f(x,E,M){return"none"===x?null:"number"===E?parseFloat(x):"array"===E?x?x.split(/[\s,]+/g).map(parseFloat):[]:"color"===E?O(x)||x:"lookup"===E?M[x]:x}function d(x,E,M,R){var L=x.childNodes,F="clippath"===E,V="defs"===E,z=new et,U=z._project,K=U._currentStyle,$=[];if(!F&&!V&&(z=N(z,x,R),U._currentStyle=z._style.clone()),R)for(var q=x.querySelectorAll("defs"),W=0,Y=q.length;W<Y;W++)P(q[W],M,!1);for(W=0,Y=L.length;W<Y;W++){var ne,X=L[W];1===X.nodeType&&!/^defs$/i.test(X.nodeName)&&(ne=P(X,M,!1))&&!(ne instanceof fi)&&$.push(ne)}return z.addChildren($),F&&(z=N(z.reduce(),x,R)),U._currentStyle=K,(F||V)&&(z.remove(),z=null),z}function p(x,E){for(var M=x.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),R=[],L=0,F=M.length;L<F;L+=2)R.push(new le(parseFloat(M[L]),parseFloat(M[L+1])));var V=new ht(R);return"polygon"===E&&V.closePath(),V}function v(x,E){var L,M=(s(x,"href",!0)||"").substring(1),R="radialgradient"===E;if(M)(L=u[M].getGradient())._radial^R&&((L=L.clone())._radial=R);else{for(var F=x.childNodes,V=[],z=0,U=F.length;z<U;z++){var K=F[z];1===K.nodeType&&V.push(N(new or,K))}L=new sn(V,R)}var $,q,W,Y="userSpaceOnUse"!==s(x,"gradientUnits",!0);return R?(q=($=a(x,"cx","cy",!1,Y,"50%","50%")).add(s(x,"r",!1,!1,Y,"50%"),0),W=a(x,"fx","fy",!0,Y)):($=a(x,"x1","y1",!1,Y,"0%","0%"),q=a(x,"x2","y2",!1,Y,"100%","0%")),N(new Ze(L,$,q,W),x)._scaleToBounds=Y,null}var y={"#document":function(x,E,M,R){for(var L=x.childNodes,F=0,V=L.length;F<V;F++){var z=L[F];if(1===z.nodeType)return P(z,M,R)}},g:d,svg:d,clippath:d,polygon:p,polyline:p,path:function g(x){return Fn.create(x.getAttribute("d"))},lineargradient:v,radialgradient:v,image:function(x){var E=new Cn(s(x,"href",!0));return E.on("load",function(){var M=c(x);this.setSize(M);var R=a(x).add(M.divide(2));this._matrix.append((new $t).translate(R))}),E},symbol:function(x,E,M,R){return new fi(d(x,E,M,R),!0)},defs:d,use:function(x){var E=(s(x,"href",!0)||"").substring(1),M=u[E],R=a(x);return M?M instanceof fi?M.place(R):M.clone().translate(R):null},circle:function(x){return new Nn.Circle(a(x,"cx","cy"),s(x,"r"))},ellipse:function(x){return new Nn.Ellipse({center:a(x,"cx","cy"),radius:c(x,"rx","ry")})},rect:function(x){return new Nn.Rectangle(new Q(a(x),c(x)),c(x,"rx","ry"))},line:function(x){return new ht.Line(a(x,"x1","y1"),a(x,"x2","y2"))},text:function(x){var E=new Ei(a(x).add(a(x,"dx","dy")));return E.setContent(x.textContent.trim()||""),E},switch:d};function S(x,E,M,R){if(x.transform){for(var L=(R.getAttribute(M)||"").split(/\)\s*/g),F=new $t,V=0,z=L.length;V<z;V++){var U=L[V];if(!U)break;for(var K=U.split(/\(\s*/),$=K[0],q=K[1].split(/[\s,]+/g),W=0,Y=q.length;W<Y;W++)q[W]=parseFloat(q[W]);switch($){case"matrix":F.append(new $t(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":F.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":F.translate(q[0],q[1]||0);break;case"scale":F.scale(q);break;case"skewX":F.skew(q[0],0);break;case"skewY":F.skew(0,q[0])}}x.transform(F)}}function b(x,E,M){var R="fill-opacity"===M?"getFillColor":"getStrokeColor",L=x[R]&&x[R]();L&&L.setAlpha(parseFloat(E))}var C=ie.set(ie.each(cn,function(x){this[x.attribute]=function(E,M){if(E[x.set]&&(E[x.set](f(M,x.type,x.fromSVG)),"color"===x.type)){var R=E[x.get]();if(R&&R._scaleToBounds){var L=E.getBounds();R.transform((new $t).translate(L.getPoint()).scale(L.getSize()))}}}},{}),{id:function(x,E){u[E]=x,x.setName&&x.setName(E)},"clip-path":function(x,E){var M=O(E);if(M){if((M=M.clone()).setClipMask(!0),!(x instanceof et))return new et(M,x);x.insertChild(0,M)}},gradientTransform:S,transform:S,"fill-opacity":b,"stroke-opacity":b,visibility:function(x,E){x.setVisible&&x.setVisible("visible"===E)},display:function(x,E){x.setVisible&&x.setVisible(null!==E)},"stop-color":function(x,E){x.setColor&&x.setColor(E)},"stop-opacity":function(x,E){x._color&&x._color.setAlpha(parseFloat(E))},offset:function(x,E){if(x.setOffset){var M=E.match(/(.*)%$/);x.setOffset(M?M[1]/100:parseFloat(E))}},viewBox:function(x,E,M,R,L){var z,F=new Q(f(E,"array")),V=c(R,null,null,!0);if(x instanceof et){var K=V?V.divide(F.getSize()):1,U=(new $t).scale(K).translate(F.getPoint().negate());z=x}else x instanceof fi&&(V&&F.setSize(V),z=x._item);if(z){if("visible"!==D(R,"overflow",L)){var $=new Nn.Rectangle(F);$.setClipMask(!0),z.addChild($)}U&&z.transform(U)}}});function D(x,E,M){var R=x.attributes[E],L=R&&R.value;if(!L&&x.style){var F=ie.camelize(E);!(L=x.style[F])&&M.node[F]!==M.parent[F]&&(L=M.node[F])}return L?"none"===L?null:L:Ie}function N(x,E,M){var R=E.parentNode,L={node:ln.getStyles(E)||{},parent:!M&&!/^defs$/i.test(R.tagName)&&ln.getStyles(R)||{}};return ie.each(C,function(F,V){var z=D(E,V,L);x=z!==Ie&&F(x,z,V,E,L)||x}),x}function O(x){var E=x&&x.match(/\((?:["'#]*)([^"')]+)/),M=E&&E[1],R=M&&u[Te?M.replace(Te.location.href.split("#")[0]+"#",""):M];return R&&R._scaleToBounds&&((R=R.clone())._scaleToBounds=!0),R}function P(x,E,M){var V,z,U,R=x.nodeName.toLowerCase(),L="#document"!==R,F=Dt.body;M&&L&&(r=Ve.getView().getSize(),r=c(x,null,null,!0)||r,V=dn.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),z=x.parentNode,U=x.nextSibling,V.appendChild(x),F.appendChild(V));var K=Ve.settings,$=K.applyMatrix,q=K.insertItems;K.applyMatrix=!1,K.insertItems=!1;var W=y[R],Y=W&&W(x,R,E,M)||null;if(K.insertItems=q,K.applyMatrix=$,Y){L&&!(Y instanceof et)&&(Y=N(Y,x,M));var X=E.onImport,ne=L&&x.getAttribute("data-paper-data");X&&(Y=X(x,Y,E)||Y),E.expandShapes&&Y instanceof Nn&&(Y.remove(),Y=Y.toPath()),ne&&(Y._data=JSON.parse(ne))}return V&&(F.removeChild(V),z&&(U?z.insertBefore(x,U):z.appendChild(x))),M&&(u={},Y&&ie.pick(E.applyMatrix,$)&&Y.matrix.apply(!0,!0)),Y}function I(x,E,M){if(!x)return null;E="function"==typeof E?{onLoad:E}:E||{};var R=Ve,L=null;function F(K){try{var $="object"==typeof K?K:(new oi.DOMParser).parseFromString(K.trim(),"image/svg+xml");if(!$.nodeName)throw $=null,new Error("Unsupported SVG source: "+x);Ve=R,L=P($,E,!0),(!E||!1!==E.insert)&&M._insertItem(Ie,L);var q=E.onLoad;q&&q(L,K)}catch(W){V(W)}}function V(K,$){var q=E.onError;if(!q)throw new Error(K);q(K,$)}if("string"!=typeof x||/^[\s\S]*</.test(x)){if(typeof File<"u"&&x instanceof File){var U=new FileReader;return U.onload=function(){F(U.result)},U.onerror=function(){V(U.error)},U.readAsText(x)}F(x)}else{var z=Dt.getElementById(x);z?F(z):mn.request({url:x,async:!0,onLoad:F,onError:V})}return L}ct.inject({importSVG:function(x,E){return I(x,E,this)}}),un.inject({importSVG:function(x,E){return this.activate(),I(x,E,this)}})};var Ve=new(Jn.inject(ie.exports,{Base:ie,Numerical:je,Key:as,DomEvent:It,DomElement:ln,document:Dt,window:Te,Symbol:fi,PlacedSymbol:Rn}));return Ve.agent.node&&jt(858)(Ve),(Wn="function"==typeof(Ut=Ve)?Ut.call(Lr,jt,Lr,sr):Ut)!==Ie&&(sr.exports=Wn),Ve}).call(this,"object"==typeof self?self:null)},946:function(sr,Lr,jt){var Ut,Wn,Ni;(function(Ie,Te){var Dt=(Ie=Ie||jt(158)).window,ie=Ie.document,se=new function(){var r=/^(statics|enumerable|beans|preserve)$/,s=[],a=s.slice,c=Object.create,f=Object.getOwnPropertyDescriptor,d=Object.defineProperty,p=s.forEach||function(C,D){for(var N=0,O=this.length;N<O;N++)C.call(D,this[N],N,this)},g=function(C,D){for(var N in this)this.hasOwnProperty(N)&&C.call(D,this[N],N,this)},v=Object.assign||function(C){for(var D=1,N=arguments.length;D<N;D++){var O=arguments[D];for(var P in O)O.hasOwnProperty(P)&&(C[P]=O[P])}return C},y=function(C,D,N){if(C){var O=f(C,"length");(O&&"number"==typeof O.value?p:g).call(C,D,N=N||C)}return N};function S(C,D,N,O,P){var I={};function x(F,V){"string"==typeof(V=V||(V=f(D,F))&&(V.get?V:V.value))&&"#"===V[0]&&(V=C[V.substring(1)]||V);var $,z="function"==typeof V,U=V,K=P||z&&!V.base?V&&V.get?F in C:C[F]:null;(!P||!K)&&(z&&K&&(V.base=K),z&&!1!==O&&($=F.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(I[$[3].toLowerCase()+$[4]]=$[2]),(!U||z||!U.get||"function"!=typeof U.get||!b.isPlainObject(U))&&(U={value:U,writable:!0}),(f(C,F)||{configurable:!0}).configurable&&(U.configurable=!0,U.enumerable=N??!$),d(C,F,U))}if(D){for(var E in D)D.hasOwnProperty(E)&&!r.test(E)&&x(E);for(var E in I){var M=I[E],R=C["set"+M],L=C["get"+M]||R&&C["is"+M];L&&(!0===O||0===L.length)&&x(E,{get:L,set:R})}}return C}function b(){for(var C=0,D=arguments.length;C<D;C++){var N=arguments[C];N&&v(this,N)}return this}return S(b,{inject:function(C){if(C){var D=!0===C.statics?C:C.statics,N=C.beans,O=C.preserve;D!==C&&S(this.prototype,C,C.enumerable,N,O),S(this,D,null,N,O)}for(var P=1,I=arguments.length;P<I;P++)this.inject(arguments[P]);return this},extend:function(){for(var D,N,P,C=this,O=0,I=arguments.length;O<I&&(!D||!N);O++)P=arguments[O],D=D||P.initialize,N=N||P.prototype;return D=D||function(){C.apply(this,arguments)},N=D.prototype=N||c(this.prototype),d(N,"constructor",{value:D,writable:!0,configurable:!0}),S(D,this),arguments.length&&this.inject.apply(D,arguments),D.base=C,D}}).inject({enumerable:!1,initialize:b,set:b,inject:function(){for(var C=0,D=arguments.length;C<D;C++){var N=arguments[C];N&&S(this,N,N.enumerable,N.beans,N.preserve)}return this},extend:function(){var C=c(this);return C.inject.apply(C,arguments)},each:function(C,D){return y(this,C,D)},clone:function(){return new this.constructor(this)},statics:{set:v,each:y,create:c,define:d,describe:f,clone:function(C){return v(new C.constructor,C)},isPlainObject:function(C){var D=null!=C&&C.constructor;return D&&(D===Object||D===b||"Object"===D.name)},pick:function(C,D){return C!==Te?C:D},slice:function(C,D,N){return a.call(C,D,N)}}})};sr.exports=se,se.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+se.each(this,function(r,s){if(!/^_/.test(s)){var a=typeof r;this.push(s+": "+("number"===a?je.instance.number(r):"string"===a?"'"+r+"'":r))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(r){return se.importJSON(r,this)},exportJSON:function(r){return se.exportJSON(this,r)},toJSON:function(){return se.serialize(this)},set:function(r,s){return r&&se.filter(this,r,s,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function r(){var s=r.base.apply(this,arguments),a=s.prototype._class;return a&&!se.exports[a]&&(se.exports[a]=s),s},equals:function(r,s){if(r===s)return!0;if(r&&r.equals)return r.equals(s);if(s&&s.equals)return s.equals(r);if(r&&s&&"object"==typeof r&&"object"==typeof s){if(Array.isArray(r)&&Array.isArray(s)){if((a=r.length)!==s.length)return!1;for(;a--;)if(!se.equals(r[a],s[a]))return!1}else{var a,c=Object.keys(r);if((a=c.length)!==Object.keys(s).length)return!1;for(;a--;){var f=c[a];if(!s.hasOwnProperty(f)||!se.equals(r[f],s[f]))return!1}}return!0}return!1},read:function(r,s,a,c){if(this===se){var f=this.peek(r,s);return r.__index++,f}var d=this.prototype,p=d._readIndex,g=s||p&&r.__index||0,v=r.length,y=r[g];if(c=c||v-g,y instanceof this||a&&a.readNull&&null==y&&c<=1)return p&&(r.__index=g+1),y&&a&&a.clone?y.clone():y;if(y=se.create(d),p&&(y.__read=!0),y=y.initialize.apply(y,g>0||g+c<v?se.slice(r,g,g+c):r)||y,p){r.__index=g+y.__read;var S=y.__filtered;S&&(r.__filtered=S,y.__filtered=Te),y.__read=Te}return y},peek:function(r,s){return r[r.__index=s||r.__index||0]},remain:function(r){return r.length-(r.__index||0)},readList:function(r,s,a,c){for(var d,f=[],p=s||0,g=c?p+c:r.length,v=p;v<g;v++)f.push(Array.isArray(d=r[v])?this.read(d,0,a):this.read(r,v,a,1));return f},readNamed:function(r,s,a,c,f){var d=this.getNamed(r,s),p=d!==Te;if(p){var g=r.__filtered;if(!g){var v=this.getSource(r);(g=r.__filtered=se.create(v)).__unfiltered=v}g[s]=Te}return this.read(p?[d]:r,a,c,f)},readSupported:function(r,s){var a=this.getSource(r),c=this,f=!1;return a&&Object.keys(a).forEach(function(d){if(d in s){var p=c.readNamed(r,d);p!==Te&&(s[d]=p),f=!0}}),f},getSource:function(r){var s=r.__source;if(s===Te){var a=1===r.length&&r[0];s=r.__source=a&&se.isPlainObject(a)?a:null}return s},getNamed:function(r,s){var a=this.getSource(r);if(a)return s?a[s]:r.__filtered||a},hasNamed:function(r,s){return!!this.getNamed(r,s)},filter:function(r,s,a,c){var f;function d(S){if(!(a&&S in a||f&&S in f)){var b=s[S];b!==Te&&(r[S]=b)}}if(c){for(var v,p={},g=0,y=c.length;g<y;g++)(v=c[g])in s&&(d(v),p[v]=!0);f=p}return Object.keys(s.__unfiltered||s).forEach(d),r},isPlainValue:function(r,s){return se.isPlainObject(r)||Array.isArray(r)||s&&"string"==typeof r},serialize:function(r,s,a,c){s=s||{};var d,f=!c;if(f&&(s.formatter=new je(s.precision),c={length:0,definitions:{},references:{},add:function(b,C){var D="#"+b._id,N=this.references[D];if(!N){this.length++;var O=C.call(b),P=b._class;P&&O[0]!==P&&O.unshift(P),this.definitions[D]=O,N=this.references[D]=[D]}return N}}),r&&r._serialize){d=r._serialize(s,c);var p=r._class;p&&!r._compactSerialize&&(f||!a)&&d[0]!==p&&d.unshift(p)}else if(Array.isArray(r)){d=[];for(var g=0,v=r.length;g<v;g++)d[g]=se.serialize(r[g],s,a,c)}else if(se.isPlainObject(r)){d={};var y=Object.keys(r);for(g=0,v=y.length;g<v;g++){var S=y[g];d[S]=se.serialize(r[S],s,a,c)}}else d="number"==typeof r?s.formatter.number(r,s.precision):r;return f&&c.length>0?[["dictionary",c.definitions],d]:d},deserialize:function(r,s,a,c,f){var d=r,p=!a,g=p&&r&&r.length&&"dictionary"===r[0][0];if(a=a||{},Array.isArray(r)){var v=r[0],y="dictionary"===v;if(1==r.length&&/^#/.test(v))return a.dictionary[v];d=[];for(var S=(v=se.exports[v])?1:0,b=r.length;S<b;S++)d.push(se.deserialize(r[S],s,a,y,g));if(v){var C=d;d=s?s(v,C,p||f):new v(C)}}else if(se.isPlainObject(r))for(var D in d={},c&&(a.dictionary=d),r)d[D]=se.deserialize(r[D],s,a);return g?d[1]:d},exportJSON:function(r,s){var a=se.serialize(r,s);return s&&0==s.asString?a:JSON.stringify(a)},importJSON:function(r,s){return se.deserialize("string"==typeof r?JSON.parse(r):r,function(a,c,f){var d=f&&s&&s.constructor===a,p=d?s:se.create(a.prototype);if(1===c.length&&p instanceof et&&(d||!(p instanceof Nn))){var g=c[0];se.isPlainObject(g)&&(g.insert=!1,d&&(c=c.concat([et.INSERT])))}return(d?p.set:a).apply(p,c),d&&(s=null),p})},push:function(r,s){var a=s.length;if(a<4096)r.push.apply(r,s);else{var c=r.length;r.length+=a;for(var f=0;f<a;f++)r[c+f]=s[f]}return r},splice:function(r,s,a,c){var f=s&&s.length,d=a===Te;(a=d?r.length:a)>r.length&&(a=r.length);for(var p=0;p<f;p++)s[p]._index=a+p;if(d)return se.push(r,s),[];var g=[a,c];s&&se.push(g,s);for(var v=r.splice.apply(r,g),y=(p=0,v.length);p<y;p++)v[p]._index=Te;for(p=a+f,y=r.length;p<y;p++)r[p]._index=p;return v},capitalize:function(r){return r.replace(/\b[a-z]/g,function(s){return s.toUpperCase()})},camelize:function(r){return r.replace(/-(.)/g,function(s,a){return a.toUpperCase()})},hyphenate:function(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var Jn={on:function(r,s){if("string"!=typeof r)se.each(r,function(d,p){this.on(p,d)},this);else{var a=this._eventTypes,c=a&&a[r],f=this._callbacks=this._callbacks||{};-1===(f=f[r]=f[r]||[]).indexOf(s)&&(f.push(s),c&&c.install&&1===f.length&&c.install.call(this,r))}return this},off:function(r,s){if("string"==typeof r){var d,a=this._eventTypes,c=a&&a[r],f=this._callbacks&&this._callbacks[r];return f&&(!s||-1!==(d=f.indexOf(s))&&1===f.length?(c&&c.uninstall&&c.uninstall.call(this,r),delete this._callbacks[r]):-1!==d&&f.splice(d,1)),this}se.each(r,function(p,g){this.off(g,p)},this)},once:function(r,s){return this.on(r,function a(){s.apply(this,arguments),this.off(r,a)})},emit:function(r,s){var a=this._callbacks&&this._callbacks[r];if(!a)return!1;var c=se.slice(arguments,1),f=s&&s.target&&!s.currentTarget;a=a.slice(),f&&(s.currentTarget=this);for(var d=0,p=a.length;d<p;d++)if(0==a[d].apply(this,c)){s&&s.stop&&s.stop();break}return f&&delete s.currentTarget,!0},responds:function(r){return!(!this._callbacks||!this._callbacks[r])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(r){var s=this._eventTypes,a=this._callbacks,c=r?"install":"uninstall";if(s)for(var f in a)if(a[f].length>0){var d=s[f],p=d&&d[c];p&&p.call(this,f)}},statics:{inject:function r(s){var a=s._events;if(a){var c={};se.each(a,function(f,d){var p="string"==typeof f,g=p?f:d,v=se.capitalize(g),y=g.substring(2).toLowerCase();c[y]=p?{}:f,g="_"+g,s["get"+v]=function(){return this[g]},s["set"+v]=function(S){var b=this[g];b&&this.off(y,b),S&&this.on(y,S),this[g]=S}}),s._eventTypes=c}return r.base.apply(this,arguments)}}},In=se.extend({_class:"PaperScope",initialize:function r(){u=this,this.settings=new se({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=r._id++,r._scopes[this._id]=this;var s=r.prototype;if(!this.support){var a=Rt.getContext(1,1)||{};s.support={nativeDash:"setLineDash"in a||"mozDash"in a,nativeBlendModes:dn.nativeModes},Rt.release(a)}if(!this.agent){var c=Ie.navigator.userAgent.toLowerCase(),f=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(c)||[])[0],d="darwin"===f?"mac":f,p=s.agent=s.browser={platform:d};d&&(p[d]=!0),c.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(g,v,y,S,b){if(!p.chrome){var C="opera"===v?S:/^(node|trident)$/.test(v)?b:y;p.version=C,p.versionNumber=parseFloat(C),p.name=v={trident:"msie",jsdom:"node"}[v]||v,p[v]=!0}}),p.chrome&&delete p.webkit,p.atom&&delete p.chrome}},version:"0.12.17",getView:function(){var r=this.project;return r&&r._view},getPaper:function(){return this},execute:function(r,s){var a=u.PaperScript.execute(r,this,s);return fn.updateFocus(),a},install:function(r){var s=this;for(var a in se.each(["project","view","tool"],function(c){se.define(r,c,{configurable:!0,get:function(){return s[c]}})}),this)!/^_/.test(a)&&this[a]&&(r[a]=this[a])},setup:function(r){return u=this,this.project=new ct(r),this},createCanvas:function(r,s){return Rt.getCanvas(r,s)},activate:function(){u=this},clear:function(){for(var r=this.projects,s=this.tools,a=r.length-1;a>=0;a--)r[a].remove();for(a=s.length-1;a>=0;a--)s[a].remove()},remove:function(){this.clear(),delete In._scopes[this._id]},statics:new function(){function r(s){return s+="Attribute",function(a,c){return a[s](c)||a[s]("data-paper-"+c)}}return{_scopes:{},_id:0,get:function(s){return this._scopes[s]||null},getAttribute:r("get"),hasAttribute:r("has")}}}),Tn=se.extend(Jn,{initialize:function(r){this._scope=u,this._index=this._scope[this._list].push(this)-1,(r||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var r=this._scope[this._reference];return r&&r!==this&&r.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",r),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(se.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),pn={findItemBoundsCollisions:function(r,s,a){function c(p){for(var g=new Array(p.length),v=0;v<p.length;v++){var y=p[v].getBounds();g[v]=[y.left,y.top,y.right,y.bottom]}return g}var f=c(r),d=s&&s!==r?c(s):f;return this.findBoundsCollisions(f,d,a||0)},findCurveBoundsCollisions:function(r,s,a,c){function f(C){for(var D=Math.min,N=Math.max,O=new Array(C.length),P=0;P<C.length;P++){var I=C[P];O[P]=[D(I[0],I[2],I[4],I[6]),D(I[1],I[3],I[5],I[7]),N(I[0],I[2],I[4],I[6]),N(I[1],I[3],I[5],I[7])]}return O}var d=f(r),p=s&&s!==r?f(s):d;if(c){for(var g=this.findBoundsCollisions(d,p,a||0,!1,!0),v=this.findBoundsCollisions(d,p,a||0,!0,!0),y=[],S=0,b=g.length;S<b;S++)y[S]={hor:g[S],ver:v[S]};return y}return this.findBoundsCollisions(d,p,a||0)},findBoundsCollisions:function(r,s,a,c,f){var d=!s||r===s,p=d?r:r.concat(s),g=r.length,v=p.length;function y(ge,we,ye){for(var fe=0,pe=ge.length;fe<pe;){var he=pe+fe>>>1;p[ge[he]][we]<ye?fe=he+1:pe=he}return fe-1}for(var S=c?1:0,b=S+2,C=c?0:1,D=C+2,N=new Array(v),O=0;O<v;O++)N[O]=O;N.sort(function(ge,we){return p[ge][S]-p[we][S]});var P=[],I=new Array(g);for(O=0;O<v;O++){var x=N[O],E=p[x],M=d?x:x-g,R=x<g,L=d||!R,F=R?[]:null;if(P.length){var V=y(P,b,E[S]-a)+1;if(P.splice(0,V),d&&f){F=F.concat(P);for(var z=0;z<P.length;z++)I[U=P[z]].push(M)}else{var K=E[D],$=E[C];for(z=0;z<P.length;z++){var U,q=p[U=P[z]],W=U<g,Y=d||U>=g;(f||(R&&Y||L&&W)&&K>=q[C]-a&&$<=q[D]+a)&&(R&&Y&&F.push(d?U:U-g),L&&W&&I[U].push(M))}}}if(R&&(r===s&&F.push(x),I[x]=F),P.length){var ne=y(P,b,E[b]);P.splice(ne+1,0,x)}else P.push(x)}for(O=0;O<I.length;O++){var ce=I[O];ce&&ce.sort(function(we,ye){return we-ye})}return I}},je=se.extend({initialize:function(r){this.precision=se.pick(r,5),this.multiplier=Math.pow(10,this.precision)},number:function(r){return this.precision<16?Math.round(r*this.multiplier)/this.multiplier:r},pair:function(r,s,a){return this.number(r)+(a||",")+this.number(s)},point:function(r,s){return this.number(r.x)+(s||",")+this.number(r.y)},size:function(r,s){return this.number(r.width)+(s||",")+this.number(r.height)},rectangle:function(r,s){return this.point(r,s)+(s||",")+this.size(r,s)}});je.instance=new je;var _t=new function(){var r=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],s=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],a=Math.abs,c=Math.sqrt,f=Math.pow,d=Math.log2||function(b){return Math.log(b)*Math.LOG2E},p=1e-12,g=112e-18;function v(b,C,D){return b<C?C:b>D?D:b}function y(b,C,D){function N(V){var z=134217729*V,K=V-z+z;return[K,V-K]}var O=C*C-b*D,P=C*C+b*D;if(3*a(O)<P){var I=N(b),x=N(C),E=N(D),M=C*C,L=b*D;O=M-L+(x[0]*x[0]-M+2*x[0]*x[1]+x[1]*x[1]-(I[0]*E[0]-L+I[0]*E[1]+I[1]*E[0]+I[1]*E[1]))}return O}function S(){var b=Math.max.apply(Math,arguments);return b&&(b<1e-8||b>1e8)?f(2,-Math.round(d(b))):0}return{EPSILON:p,MACHINE_EPSILON:g,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(c(2)-1)/3,isZero:function(b){return b>=-p&&b<=p},isMachineZero:function(b){return b>=-g&&b<=g},clamp:v,integrate:function(b,C,D,N){for(var O=r[N-2],P=s[N-2],I=.5*(D-C),x=I+C,E=0,M=N+1>>1,R=1&N?P[E++]*b(x):0;E<M;){var L=I*O[E];R+=P[E++]*(b(x+L)+b(x-L))}return I*R},findRoot:function(b,C,D,N,O,P,I){for(var x=0;x<P;x++){var E=b(D),M=E/C(D),R=D-M;if(a(M)<I){D=R;break}E>0?(O=D,D=R<=N?.5*(N+O):R):(N=D,D=R>=O?.5*(N+O):R)}return v(D,N,O)},solveQuadratic:function(b,C,D,N,O,P){var I,x=1/0;if(a(b)<p){if(a(C)<p)return a(D)<p?-1:0;I=-D/C}else{var E=y(b,C*=-.5,D);if(E&&a(E)<g){var M=S(a(b),a(C),a(D));M&&(E=y(b*=M,C*=M,D*=M))}if(E>=-g){var R=E<0?0:c(E),L=C+(C<0?-R:R);0===L?x=-(I=D/b):(I=L/b,x=D/L)}}var F=0,V=null==O,z=O-p,U=P+p;return isFinite(I)&&(V||I>z&&I<U)&&(N[F++]=V?I:v(I,O,P)),x!==I&&isFinite(x)&&(V||x>z&&x<U)&&(N[F++]=V?x:v(x,O,P)),F},solveCubic:function(b,C,D,N,O,P,I){var E,M,R,L,F,x=S(a(b),a(C),a(D),a(N));function V(ne){var ce=b*(E=ne);L=(ce+(M=ce+C))*E+(R=M*E+D),F=R*E+N}if(x&&(b*=x,C*=x,D*=x,N*=x),a(b)<p)b=C,M=D,R=N,E=1/0;else if(a(N)<p)M=C,R=D,E=0;else{V(-C/b/3);var z=F/b,U=f(a(z),1/3),K=z<0?-1:1,$=-L/b,q=$>0?1.324717957244746*Math.max(U,c($)):U,W=E-K*q;if(W!==E){do{V(W),W=0===L?E:E-F/L/(1+g)}while(K*W>K*E);a(b)*E*E>a(N/E)&&(M=((R=-N/E)-D)/E)}}var Y=_t.solveQuadratic(b,M,R,O,P,I),X=null==P;return isFinite(E)&&(0===Y||Y>0&&E!==O[0]&&E!==O[1])&&(X||E>P-p&&E<I+p)&&(O[Y++]=X?E:v(E,P,I)),Y}}},le={_id:1,_pools:{},get:function(r){if(r){var s=this._pools[r];return s||(s=this._pools[r]={_id:1}),s._id++}return this._id++}},ae=se.extend({_class:"Point",_readIndex:!0,initialize:function(s,a){var c=typeof s,f=this.__read,d=0;if("number"===c){var p="number"==typeof a;this._set(s,p?a:s),f&&(d=p?2:1)}else if("undefined"===c||null===s)this._set(0,0),f&&(d=null===s?1:0);else{var g="string"===c?s.split(/[\s,]+/)||[]:s;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"x"in g?this._set(g.x||0,g.y||0):"width"in g?this._set(g.width||0,g.height||0):"angle"in g?(this._set(g.length||0,0),this.setAngle(g.angle||0)):(this._set(0,0),d=0)}return f&&(this.__read=d),this},set:"#initialize",_set:function(r,s){return this.x=r,this.y=s,this},equals:function(r){return this===r||r&&(this.x===r.x&&this.y===r.y||Array.isArray(r)&&this.x===r[0]&&this.y===r[1])||!1},clone:function(){return new ae(this.x,this.y)},toString:function(){var r=je.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+" }"},_serialize:function(r){var s=r.formatter;return[s.number(this.x),s.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(r){if(this.isZero()){var s=this._angle||0;this._set(Math.cos(s)*r,Math.sin(s)*r)}else{var a=r/this.getLength();_t.isZero(a)&&this.getAngle(),this._set(this.x*a,this.y*a)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(r){this.setAngleInRadians.call(this,r*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var r=ae.read(arguments),s=this.getLength()*r.getLength();if(_t.isZero(s))return NaN;var a=this.dot(r)/s;return Math.acos(a<-1?-1:a>1?1:a)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(r){if(this._angle=r,!this.isZero()){var s=this.getLength();this._set(Math.cos(r)*s,Math.sin(r)*s)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var r=ae.read(arguments);return 180*Math.atan2(this.cross(r),this.dot(r))/Math.PI},getDistance:function(){var r=arguments,s=ae.read(r),a=s.x-this.x,c=s.y-this.y,f=a*a+c*c;return se.read(r)?f:Math.sqrt(f)},normalize:function(r){r===Te&&(r=1);var s=this.getLength(),a=0!==s?r/s:0,c=new ae(this.x*a,this.y*a);return a>=0&&(c._angle=this._angle),c},rotate:function(r,s){if(0===r)return this.clone();r=r*Math.PI/180;var a=s?this.subtract(s):this,c=Math.sin(r),f=Math.cos(r);return a=new ae(a.x*f-a.y*c,a.x*c+a.y*f),s?a.add(s):a},transform:function(r){return r?r._transformPoint(this):this},add:function(){var r=ae.read(arguments);return new ae(this.x+r.x,this.y+r.y)},subtract:function(){var r=ae.read(arguments);return new ae(this.x-r.x,this.y-r.y)},multiply:function(){var r=ae.read(arguments);return new ae(this.x*r.x,this.y*r.y)},divide:function(){var r=ae.read(arguments);return new ae(this.x/r.x,this.y/r.y)},modulo:function(){var r=ae.read(arguments);return new ae(this.x%r.x,this.y%r.y)},negate:function(){return new ae(-this.x,-this.y)},isInside:function(){return tt.read(arguments).contains(this)},isClose:function(){var r=arguments,s=ae.read(r),a=se.read(r);return this.getDistance(s)<=a},isCollinear:function(){var r=ae.read(arguments);return ae.isCollinear(this.x,this.y,r.x,r.y)},isColinear:"#isCollinear",isOrthogonal:function(){var r=ae.read(arguments);return ae.isOrthogonal(this.x,this.y,r.x,r.y)},isZero:function(){var r=_t.isZero;return r(this.x)&&r(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(r){return this.x*(r>1&&r<4?-1:1)>=0&&this.y*(r>2?-1:1)>=0},dot:function(){var r=ae.read(arguments);return this.x*r.x+this.y*r.y},cross:function(){var r=ae.read(arguments);return this.x*r.y-this.y*r.x},project:function(){var r=ae.read(arguments),s=r.isZero()?0:this.dot(r)/r.dot(r);return new ae(r.x*s,r.y*s)},statics:{min:function(){var r=arguments,s=ae.read(r),a=ae.read(r);return new ae(Math.min(s.x,a.x),Math.min(s.y,a.y))},max:function(){var r=arguments,s=ae.read(r),a=ae.read(r);return new ae(Math.max(s.x,a.x),Math.max(s.y,a.y))},random:function(){return new ae(Math.random(),Math.random())},isCollinear:function(r,s,a,c){return Math.abs(r*c-s*a)<=1e-8*Math.sqrt((r*r+s*s)*(a*a+c*c))},isOrthogonal:function(r,s,a,c){return Math.abs(r*a+s*c)<=1e-8*Math.sqrt((r*r+s*s)*(a*a+c*c))}}},se.each(["round","ceil","floor","abs"],function(r){var s=Math[r];this[r]=function(){return new ae(s(this.x),s(this.y))}},{})),We=ae.extend({initialize:function(s,a,c,f){this._x=s,this._y=a,this._owner=c,this._setter=f},_set:function(r,s,a){return this._x=r,this._y=s,a||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),Ae=se.extend({_class:"Size",_readIndex:!0,initialize:function(s,a){var c=typeof s,f=this.__read,d=0;if("number"===c){var p="number"==typeof a;this._set(s,p?a:s),f&&(d=p?2:1)}else if("undefined"===c||null===s)this._set(0,0),f&&(d=null===s?1:0);else{var g="string"===c?s.split(/[\s,]+/)||[]:s;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"width"in g?this._set(g.width||0,g.height||0):"x"in g?this._set(g.x||0,g.y||0):(this._set(0,0),d=0)}return f&&(this.__read=d),this},set:"#initialize",_set:function(r,s){return this.width=r,this.height=s,this},equals:function(r){return r===this||r&&(this.width===r.width&&this.height===r.height||Array.isArray(r)&&this.width===r[0]&&this.height===r[1])||!1},clone:function(){return new Ae(this.width,this.height)},toString:function(){var r=je.instance;return"{ width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var s=r.formatter;return[s.number(this.width),s.number(this.height)]},add:function(){var r=Ae.read(arguments);return new Ae(this.width+r.width,this.height+r.height)},subtract:function(){var r=Ae.read(arguments);return new Ae(this.width-r.width,this.height-r.height)},multiply:function(){var r=Ae.read(arguments);return new Ae(this.width*r.width,this.height*r.height)},divide:function(){var r=Ae.read(arguments);return new Ae(this.width/r.width,this.height/r.height)},modulo:function(){var r=Ae.read(arguments);return new Ae(this.width%r.width,this.height%r.height)},negate:function(){return new Ae(-this.width,-this.height)},isZero:function(){var r=_t.isZero;return r(this.width)&&r(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(r,s){return new Ae(Math.min(r.width,s.width),Math.min(r.height,s.height))},max:function(r,s){return new Ae(Math.max(r.width,s.width),Math.max(r.height,s.height))},random:function(){return new Ae(Math.random(),Math.random())}}},se.each(["round","ceil","floor","abs"],function(r){var s=Math[r];this[r]=function(){return new Ae(s(this.width),s(this.height))}},{})),Q=Ae.extend({initialize:function(s,a,c,f){this._width=s,this._height=a,this._owner=c,this._setter=f},_set:function(r,s,a){return this._width=r,this._height=s,a||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(r){this._width=r,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(r){this._height=r,this._owner[this._setter](this)}}),tt=se.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(s,a,c,f){var g,d=arguments,p=typeof s;if("number"===p?(this._set(s,a,c,f),g=4):"undefined"===p||null===s?(this._set(0,0,0,0),g=null===s?1:0):1===d.length&&(Array.isArray(s)?(this._set.apply(this,s),g=1):s.x!==Te||s.width!==Te?(this._set(s.x||0,s.y||0,s.width||0,s.height||0),g=1):s.from===Te&&s.to===Te&&(this._set(0,0,0,0),se.readSupported(d,this)&&(g=1))),g===Te){var C,D,v=ae.readNamed(d,"from"),y=se.peek(d),S=v.x,b=v.y;if(y&&y.x!==Te||se.hasNamed(d,"to")){var N=ae.readNamed(d,"to");(C=N.x-S)<0&&(S=N.x,C=-C),(D=N.y-b)<0&&(b=N.y,D=-D)}else{var O=Ae.read(d);C=O.width,D=O.height}this._set(S,b,C,D),g=d.__index}var P=d.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=g),this},set:"#initialize",_set:function(r,s,a,c){return this.x=r,this.y=s,this.width=a,this.height=c,this},clone:function(){return new tt(this.x,this.y,this.width,this.height)},equals:function(r){var s=se.isPlainValue(r)?tt.read(arguments):r;return s===this||s&&this.x===s.x&&this.y===s.y&&this.width===s.width&&this.height===s.height||!1},toString:function(){var r=je.instance;return"{ x: "+r.number(this.x)+", y: "+r.number(this.y)+", width: "+r.number(this.width)+", height: "+r.number(this.height)+" }"},_serialize:function(r){var s=r.formatter;return[s.number(this.x),s.number(this.y),s.number(this.width),s.number(this.height)]},getPoint:function(r){return new(r?ae:We)(this.x,this.y,this,"setPoint")},setPoint:function(){var r=ae.read(arguments);this.x=r.x,this.y=r.y},getSize:function(r){return new(r?Ae:Q)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var r=Ae.read(arguments),s=this._sx,a=this._sy,c=r.width,f=r.height;s&&(this.x+=(this.width-c)*s),a&&(this.y+=(this.height-f)*a),this.width=c,this.height=f,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(r){if(!this._fw){var s=r-this.x;this.width-=.5===this._sx?2*s:s}this.x=r,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(r){if(!this._fh){var s=r-this.y;this.height-=.5===this._sy?2*s:s}this.y=r,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(r){if(!this._fw){var s=r-this.x;this.width=.5===this._sx?2*s:s}this.x=r-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(r){if(!this._fh){var s=r-this.y;this.height=.5===this._sy?2*s:s}this.y=r-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(r){this._fw||.5===this._sx?this.x=r-this.width/2:(this._sx&&(this.x+=2*(r-this.x)*this._sx),this.width=2*(r-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(r){this._fh||.5===this._sy?this.y=r-this.height/2:(this._sy&&(this.y+=2*(r-this.y)*this._sy),this.height=2*(r-this.y)),this._sy=.5,this._fh=0},getCenter:function(r){return new(r?ae:We)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var r=ae.read(arguments);return this.setCenterX(r.x),this.setCenterY(r.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(r){return r&&r.width!==Te||4===(Array.isArray(r)?r:arguments).length?this._containsRectangle(tt.read(arguments)):this._containsPoint(ae.read(arguments))},_containsPoint:function(r){var s=r.x,a=r.y;return s>=this.x&&a>=this.y&&s<=this.x+this.width&&a<=this.y+this.height},_containsRectangle:function(r){var s=r.x,a=r.y;return s>=this.x&&a>=this.y&&s+r.width<=this.x+this.width&&a+r.height<=this.y+this.height},intersects:function(){var r=tt.read(arguments),s=se.read(arguments)||0;return r.x+r.width>this.x-s&&r.y+r.height>this.y-s&&r.x<this.x+this.width+s&&r.y<this.y+this.height+s},intersect:function(){var r=tt.read(arguments),s=Math.max(this.x,r.x),a=Math.max(this.y,r.y),c=Math.min(this.x+this.width,r.x+r.width),f=Math.min(this.y+this.height,r.y+r.height);return new tt(s,a,c-s,f-a)},unite:function(){var r=tt.read(arguments),s=Math.min(this.x,r.x),a=Math.min(this.y,r.y),c=Math.max(this.x+this.width,r.x+r.width),f=Math.max(this.y+this.height,r.y+r.height);return new tt(s,a,c-s,f-a)},include:function(){var r=ae.read(arguments),s=Math.min(this.x,r.x),a=Math.min(this.y,r.y),c=Math.max(this.x+this.width,r.x),f=Math.max(this.y+this.height,r.y);return new tt(s,a,c-s,f-a)},expand:function(){var r=Ae.read(arguments),s=r.width,a=r.height;return new tt(this.x-s/2,this.y-a/2,this.width+s,this.height+a)},scale:function(r,s){return this.expand(this.width*r-this.width,this.height*(s===Te?r:s)-this.height)}},se.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(r,s){var a=r.join(""),c=/^[RL]/.test(a);s>=4&&(r[1]+=c?"Y":"X");var f=r[c?0:1],d=r[c?1:0],p="get"+f,g="get"+d,v="set"+f,y="set"+d,b="set"+a;this["get"+a]=function(C){return new(C?ae:We)(this[p](),this[g](),this,b)},this[b]=function(){var C=ae.read(arguments);this[v](C.x),this[y](C.y)}},{beans:!0})),$t=tt.extend({initialize:function(s,a,c,f,d,p){this._set(s,a,c,f,!0),this._owner=d,this._setter=p},_set:function(r,s,a,c,f){return this._x=r,this._y=s,this._width=a,this._height=c,f||this._owner[this._setter](this),this}},new function(){var r=tt.prototype;return se.each(["x","y","width","height"],function(s){var a=se.capitalize(s),c="_"+s;this["get"+a]=function(){return this[c]},this["set"+a]=function(f){this[c]=f,this._dontNotify||this._owner[this._setter](this)}},se.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(s){var a="set"+s;this[a]=function(){this._dontNotify=!0,r[a].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(s){var a=this._owner;a._changeSelection&&a._changeSelection(2,s)}}))}),gt=se.extend({_class:"Matrix",initialize:function r(s,a){var c=arguments,f=c.length,d=!0;if(f>=6?this._set.apply(this,c):1===f||2===f?s instanceof r?this._set(s._a,s._b,s._c,s._d,s._tx,s._ty,a):Array.isArray(s)?this._set.apply(this,a?s.concat([a]):s):d=!1:f?d=!1:this.reset(),!d)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(r,s,a,c,f,d,p){return this._a=r,this._b=s,this._c=a,this._d=c,this._tx=f,this._ty=d,p||this._changed(),this},_serialize:function(r,s){return se.serialize(this.getValues(),r,!0,s)},_changed:function(){var r=this._owner;r&&(r._applyMatrix?r.transform(null,!0):r._changed(25))},clone:function(){return new gt(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(r){return r===this||r&&this._a===r._a&&this._b===r._b&&this._c===r._c&&this._d===r._d&&this._tx===r._tx&&this._ty===r._ty},toString:function(){var r=je.instance;return"[["+[r.number(this._a),r.number(this._c),r.number(this._tx)].join(", ")+"], ["+[r.number(this._b),r.number(this._d),r.number(this._ty)].join(", ")+"]]"},reset:function(r){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,r||this._changed(),this},apply:function(r,s){var a=this._owner;return!!a&&(a.transform(null,se.pick(r,!0),s),this.isIdentity())},translate:function(){var r=ae.read(arguments),s=r.x,a=r.y;return this._tx+=s*this._a+a*this._c,this._ty+=s*this._b+a*this._d,this._changed(),this},scale:function(){var r=arguments,s=ae.read(r),a=ae.read(r,0,{readNull:!0});return a&&this.translate(a),this._a*=s.x,this._b*=s.x,this._c*=s.y,this._d*=s.y,a&&this.translate(a.negate()),this._changed(),this},rotate:function(r){r*=Math.PI/180;var s=ae.read(arguments,1),a=s.x,c=s.y,f=Math.cos(r),d=Math.sin(r),p=a-a*f+c*d,g=c-a*d-c*f,v=this._a,y=this._b,S=this._c,b=this._d;return this._a=f*v+d*S,this._b=f*y+d*b,this._c=-d*v+f*S,this._d=-d*y+f*b,this._tx+=p*v+g*S,this._ty+=p*y+g*b,this._changed(),this},shear:function(){var r=arguments,s=ae.read(r),a=ae.read(r,0,{readNull:!0});a&&this.translate(a);var c=this._a,f=this._b;return this._a+=s.y*this._c,this._b+=s.y*this._d,this._c+=s.x*c,this._d+=s.x*f,a&&this.translate(a.negate()),this._changed(),this},skew:function(){var r=arguments,s=ae.read(r),a=ae.read(r,0,{readNull:!0}),c=Math.PI/180,f=new ae(Math.tan(s.x*c),Math.tan(s.y*c));return this.shear(f,a)},append:function(r,s){if(r){var a=this._a,c=this._b,f=this._c,d=this._d,p=r._a,g=r._c,v=r._b,y=r._d,S=r._tx,b=r._ty;this._a=p*a+v*f,this._c=g*a+y*f,this._b=p*c+v*d,this._d=g*c+y*d,this._tx+=S*a+b*f,this._ty+=S*c+b*d,s||this._changed()}return this},prepend:function(r,s){if(r){var a=this._a,c=this._b,f=this._c,d=this._d,p=this._tx,g=this._ty,v=r._a,y=r._c,S=r._b,b=r._d,C=r._tx,D=r._ty;this._a=v*a+y*c,this._c=v*f+y*d,this._b=S*a+b*c,this._d=S*f+b*d,this._tx=v*p+y*g+C,this._ty=S*p+b*g+D,s||this._changed()}return this},appended:function(r){return this.clone().append(r)},prepended:function(r){return this.clone().prepend(r)},invert:function(){var r=this._a,s=this._b,a=this._c,c=this._d,f=this._tx,d=this._ty,p=r*c-s*a,g=null;return p&&!isNaN(p)&&isFinite(f)&&isFinite(d)&&(this._a=c/p,this._b=-s/p,this._c=-a/p,this._d=r/p,this._tx=(a*d-c*f)/p,this._ty=(s*f-r*d)/p,g=this),g},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new gt(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var r=this._a*this._d-this._c*this._b;return r&&!isNaN(r)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(r,s,a){return arguments.length<3?this._transformPoint(ae.read(arguments)):this._transformCoordinates(r,s,a)},_transformPoint:function(r,s,a){var c=r.x,f=r.y;return s||(s=new ae),s._set(c*this._a+f*this._c+this._tx,c*this._b+f*this._d+this._ty,a)},_transformCoordinates:function(r,s,a){for(var c=0,f=2*a;c<f;c+=2){var d=r[c],p=r[c+1];s[c]=d*this._a+p*this._c+this._tx,s[c+1]=d*this._b+p*this._d+this._ty}return s},_transformCorners:function(r){var s=r.x,a=r.y,c=s+r.width,f=a+r.height,d=[s,a,c,a,c,f,s,f];return this._transformCoordinates(d,d,4)},_transformBounds:function(r,s,a){for(var c=this._transformCorners(r),f=c.slice(0,2),d=f.slice(),p=2;p<8;p++){var g=c[p],v=1&p;g<f[v]?f[v]=g:g>d[v]&&(d[v]=g)}return s||(s=new tt),s._set(f[0],f[1],d[0]-f[0],d[1]-f[1],a)},inverseTransform:function(){return this._inverseTransform(ae.read(arguments))},_inverseTransform:function(r,s,a){var c=this._a,f=this._b,d=this._c,p=this._d,g=this._tx,v=this._ty,y=c*p-f*d,S=null;if(y&&!isNaN(y)&&isFinite(g)&&isFinite(v)){var b=r.x-this._tx,C=r.y-this._ty;s||(s=new ae),S=s._set((b*p-C*d)/y,(C*c-b*f)/y,a)}return S},decompose:function(){var v,y,S,r=this._a,s=this._b,a=this._c,c=this._d,f=r*c-s*a,d=Math.sqrt,p=Math.atan2,g=180/Math.PI;if(0!==r||0!==s){var b=d(r*r+s*s);v=Math.acos(r/b)*(s>0?1:-1),y=[b,f/b],S=[p(r*a+s*c,b*b),0]}else if(0!==a||0!==c){var C=d(a*a+c*c);v=Math.asin(a/C)*(c>0?1:-1),y=[f/C,C],S=[0,p(r*a+s*c,C*C)]}else v=0,S=y=[0,0];return{translation:this.getTranslation(),rotation:v*g,scaling:new ae(y),skewing:new ae(S[0]*g,S[1]*g)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ae(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(r){this.isIdentity()||r.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},se.each(["a","b","c","d","tx","ty"],function(r){var s=se.capitalize(r),a="_"+r;this["get"+s]=function(){return this[a]},this["set"+s]=function(c){this[a]=c,this._changed()}},{})),un=se.extend({_class:"Line",initialize:function(s,a,c,f,d){var p=!1;arguments.length>=4?(this._px=s,this._py=a,this._vx=c,this._vy=f,p=d):(this._px=s.x,this._py=s.y,this._vx=a.x,this._vy=a.y,p=c),p||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ae(this._px,this._py)},getVector:function(){return new ae(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(r,s){return un.intersect(this._px,this._py,this._vx,this._vy,r._px,r._py,r._vx,r._vy,!0,s)},getSide:function(r,s){return un.getSide(this._px,this._py,this._vx,this._vy,r.x,r.y,!0,s)},getDistance:function(r){return Math.abs(this.getSignedDistance(r))},getSignedDistance:function(r){return un.getSignedDistance(this._px,this._py,this._vx,this._vy,r.x,r.y,!0)},isCollinear:function(r){return ae.isCollinear(this._vx,this._vy,r._vx,r._vy)},isOrthogonal:function(r){return ae.isOrthogonal(this._vx,this._vy,r._vx,r._vy)},statics:{intersect:function(r,s,a,c,f,d,p,g,v,y){v||(a-=r,c-=s,p-=f,g-=d);var S=a*g-c*p;if(!_t.isMachineZero(S)){var b=r-f,C=s-d,D=(p*C-g*b)/S,N=(a*C-c*b)/S,P=-1e-12,I=1+1e-12;if(y||P<D&&D<I&&P<N&&N<I)return y||(D=D<=0?0:D>=1?1:D),new ae(r+D*a,s+D*c)}},getSide:function(r,s,a,c,f,d,p,g){p||(a-=r,c-=s);var v=f-r,S=v*c-(d-s)*a;return!g&&_t.isMachineZero(S)&&(S=(v*a+v*a)/(a*a+c*c))>=0&&S<=1&&(S=0),S<0?-1:S>0?1:0},getSignedDistance:function(r,s,a,c,f,d,p){return p||(a-=r,c-=s),0===a?c>0?f-r:r-f:0===c?a<0?d-s:s-d:((f-r)*c-(d-s)*a)/(c>a?c*Math.sqrt(1+a*a/(c*c)):a*Math.sqrt(1+c*c/(a*a)))},getDistance:function(r,s,a,c,f,d,p){return Math.abs(un.getSignedDistance(r,s,a,c,f,d,p))}}}),ct=Tn.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(s){Tn.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ln(null,null,this),this._view=fn.create(this,s||Rt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(r,s){return se.serialize(this._children,r,!0,s)},_changed:function(r,s){if(1&r){var a=this._view;a&&(a._needsUpdate=!0,!a._requested&&a._autoUpdate&&a.requestUpdate())}var c=this._changes;if(c&&s){var f=this._changesById,d=s._id,p=f[d];p?p.flags|=r:c.push(f[d]={item:s,flags:r})}},clear:function(){for(var r=this._children,s=r.length-1;s>=0;s--)r[s].remove()},isEmpty:function(){return!this._children.length},remove:function r(){return!!r.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(r){this._currentStyle.set(r)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Nn({project:this,insert:!0})},getSymbolDefinitions:function(){var r=[],s={};return this.getItems({class:fi,match:function(a){var c=a._definition,f=c._id;return s[f]||(s[f]=!0,r.push(c)),!1}}),r},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var r=this._selectionItems,s=[];for(var a in r){var c=r[a],f=c._selection;1&f&&c.isInserted()?s.push(c):f||this._updateSelection(c)}return s},_updateSelection:function(r){var s=r._id,a=this._selectionItems;r._selection?a[s]!==r&&(this._selectionCount++,a[s]=r):a[s]===r&&(this._selectionCount--,delete a[s])},selectAll:function(){for(var r=this._children,s=0,a=r.length;s<a;s++)r[s].setFullySelected(!0)},deselectAll:function(){var r=this._selectionItems;for(var s in r)r[s].setFullySelected(!1)},addLayer:function(r){return this.insertLayer(Te,r)},insertLayer:function(r,s){if(s instanceof Nn){s._remove(!1,!0),se.splice(this._children,[s],r,0),s._setProject(this,!0);var a=s._name;a&&s.setName(a),this._changes&&s._changed(5),this._activeLayer||(this._activeLayer=s)}else s=null;return s},_insertItem:function(r,s,a){return s=this.insertLayer(r,s)||(this._activeLayer||this._insertItem(Te,new Nn(et.NO_INSERT),!0)).insertChild(r,s),a&&s.activate&&s.activate(),s},getItems:function(r){return et._getItems(this,r)},getItem:function(r){return et._getItems(this,r,null,null,!0)[0]||null},importJSON:function(r){this.activate();var s=this._activeLayer;return se.importJSON(r,s&&s.isEmpty()&&s)},removeOn:function(r){var s=this._removeSets;if(s){"mouseup"===r&&(s.mousedrag=null);var a=s[r];if(a){for(var c in a){var f=a[c];for(var d in s){var p=s[d];p&&p!=a&&delete p[f._id]}f.remove()}s[r]=null}}},draw:function(r,s,a){this._updateVersion++,r.save(),s.applyToContext(r);for(var c=this._children,f=new se({offset:new ae(0,0),pixelRatio:a,viewMatrix:s.isIdentity()?null:s,matrices:[new gt],updateMatrix:!0}),d=0,p=c.length;d<p;d++)c[d].draw(r,f);if(r.restore(),this._selectionCount>0){r.save(),r.strokeWidth=1;var g=this._selectionItems,v=this._scope.settings.handleSize,y=this._updateVersion;for(var S in g)g[S]._drawSelection(r,s,v,g,y);r.restore()}}}),et=se.extend(Jn,{statics:{extend:function r(s){return s._serializeFields&&(s._serializeFields=se.set({},this.prototype._serializeFields,s._serializeFields)),r.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new gt,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var r=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return se.each(r,function(s){this._events[s]={install:function(a){this.getView()._countItemEvent(a,1)},uninstall:function(a){this.getView()._countItemEvent(a,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:r}})},{initialize:function(){},_initialize:function(r,s){var a=r&&se.isPlainObject(r),c=a&&!0===r.internal,f=this._matrix=new gt,d=a&&r.project||u.project,p=u.settings;return this._id=c?null:le.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&p.applyMatrix,s&&f.translate(s),f._owner=this,this._style=new ln(d._currentStyle,this,d),c||a&&0==r.insert||!p.insertItems&&(!a||1!=r.insert)?this._setProject(d):(a&&r.parent||d)._insertItem(Te,this,!0),a&&r!==et.NO_INSERT&&r!==et.INSERT&&this.set(r,{internal:!0,insert:!0,project:!0,parent:!0}),a},_serialize:function(r,s){var a={},c=this;function f(d){for(var p in d){var g=c[p];se.equals(g,"leading"===p?1.2*d.fontSize:d[p])||(a[p]=se.serialize(g,r,"data"!==p,s))}}return f(this._serializeFields),this instanceof Un||f(this._style._defaults),[this._class,a]},_changed:function(r){var s=this._symbol,a=this._parent||s,c=this._project;8&r&&(this._bounds=this._position=this._decomposed=Te),16&r&&(this._globalMatrix=Te),a&&72&r&&et._clearBoundsCache(a),2&r&&et._clearBoundsCache(this),c&&c._changed(r,this),s&&s._changed(r)},getId:function(){return this._id},getName:function(){return this._name},setName:function(r){if(this._name&&this._removeNamed(),r===+r+"")throw new Error("Names consisting only of numbers are not supported.");var s=this._getOwner();if(r&&s){var a=s._children,c=s._namedChildren;(c[r]=c[r]||[]).push(this),r in a||(a[r]=this)}this._name=r||Te,this._changed(256)},getStyle:function(){return this._style},setStyle:function(r){this.getStyle().set(r)}},se.each(["locked","visible","blendMode","opacity","guide"],function(r){var s=se.capitalize(r),a="_"+r,c={locked:256,visible:265};this["get"+s]=function(){return this[a]},this["set"+s]=function(f){f!=this[a]&&(this[a]=f,this._changed(c[r]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(r){if(r!==this._selection){this._selection=r;var s=this._project;s&&(s._updateSelection(this),this._changed(257))}},_changeSelection:function(r,s){var a=this._selection;this.setSelection(s?a|r:a&~r)},isSelected:function(){if(this._selectChildren)for(var r=this._children,s=0,a=r.length;s<a;s++)if(r[s].isSelected())return!0;return!!(1&this._selection)},setSelected:function(r){if(this._selectChildren)for(var s=this._children,a=0,c=s.length;a<c;a++)s[a].setSelected(r);this._changeSelection(1,r)},isFullySelected:function(){var r=this._children,s=!!(1&this._selection);if(r&&s){for(var a=0,c=r.length;a<c;a++)if(!r[a].isFullySelected())return!1;return!0}return s},setFullySelected:function(r){var s=this._children;if(s)for(var a=0,c=s.length;a<c;a++)s[a].setFullySelected(r);this._changeSelection(1,r)},isClipMask:function(){return this._clipMask},setClipMask:function(r){this._clipMask!=(r=!!r)&&(this._clipMask=r,r&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(r){this._data=r},getPosition:function(r){var s=r?ae:We,a=this._position||(this._position=this._getPositionFromBounds());return new s(a.x,a.y,this,"setPosition")},setPosition:function(){this.translate(ae.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(r){return this._pivot?this._matrix._transformPoint(this._pivot):(r||this.getBounds()).getCenter(!0)},getPivot:function(){var r=this._pivot;return r?new We(r.x,r.y,this,"setPivot"):null},setPivot:function(){this._pivot=ae.read(arguments,0,{clone:!0,readNull:!0}),this._position=Te}},se.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(r,s){this[s]=function(a){return this.getBounds(a,r)}},{beans:!0,getBounds:function(r,s){var a=s||r instanceof gt,c=se.set({},a?s:r,this._boundsOptions);(!c.stroke||this.getStrokeScaling())&&(c.cacheItem=this);var f=this._getCachedBounds(a&&r,c).rect;return arguments.length?f:new $t(f.x,f.y,f.width,f.height,this,"setBounds")},setBounds:function(){var r=tt.read(arguments),s=this.getBounds(),a=this._matrix,c=new gt,f=r.getCenter();c.translate(f),(r.width!=s.width||r.height!=s.height)&&(a.isInvertible()||(a.set(a._backup||(new gt).translate(a.getTranslation())),s=this.getBounds()),c.scale(0!==s.width?r.width/s.width:0,0!==s.height?r.height/s.height:0)),f=s.getCenter(),c.translate(-f.x,-f.y),this.transform(c)},_getBounds:function(r,s){var a=this._children;return a&&a.length?(et._updateBoundsCache(this,s.cacheItem),et._getBounds(a,r,s)):new tt},_getBoundsCacheKey:function(r,s){return[r.stroke?1:0,r.handle?1:0,s?1:0].join("")},_getCachedBounds:function(r,s,a){r=r&&r._orNullIfIdentity();var c=s.internal&&!a,f=s.cacheItem,d=c?null:this._matrix._orNullIfIdentity(),p=f&&(!r||r.equals(d))&&this._getBoundsCacheKey(s,c),g=this._bounds;if(et._updateBoundsCache(this._parent||this._symbol,f),p&&g&&p in g)return{rect:(v=g[p]).rect.clone(),nonscaling:v.nonscaling};var y=this._getBounds(r||d,s),S=y.rect||y,b=this._style,C=y.nonscaling||b.hasStroke()&&!b.getStrokeScaling();if(p){g||(this._bounds=g={});var v=g[p]={rect:S.clone(),nonscaling:C,internal:c}}return{rect:S,nonscaling:C}},_getStrokeMatrix:function(r,s){var a=this.getStrokeScaling()?null:s&&s.internal?this:this._parent||this._symbol&&this._symbol._item,c=a?a.getViewMatrix().invert():r;return c&&c._shiftless()},statics:{_updateBoundsCache:function(r,s){if(r&&s){var a=s._id,c=r._boundsCache=r._boundsCache||{ids:{},list:[]};c.ids[a]||(c.list.push(s),c.ids[a]=s)}},_clearBoundsCache:function(r){var s=r._boundsCache;if(s){r._bounds=r._position=r._boundsCache=Te;for(var a=0,c=s.list,f=c.length;a<f;a++){var d=c[a];d!==r&&(d._bounds=d._position=Te,d._boundsCache&&et._clearBoundsCache(d))}}},_getBounds:function(r,s,a){var c=1/0,f=-c,d=c,p=f,g=!1;a=a||{};for(var v=0,y=r.length;v<y;v++){var S=r[v];if(S._visible&&!S.isEmpty(!0)){var b=S._getCachedBounds(s&&s.appended(S._matrix),a,!0),C=b.rect;c=Math.min(C.x,c),d=Math.min(C.y,d),f=Math.max(C.x+C.width,f),p=Math.max(C.y+C.height,p),b.nonscaling&&(g=!0)}}return{rect:isFinite(c)?new tt(c,d,f-c,p-d):new tt,nonscaling:g}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var r=this._decompose();return r?r.rotation:0},setRotation:function(r){var s=this.getRotation();if(null!=s&&null!=r){var a=this._decomposed;this.rotate(r-s),a&&(a.rotation=r,this._decomposed=a)}},getScaling:function(){var r=this._decompose(),s=r&&r.scaling;return new We(s?s.x:1,s?s.y:1,this,"setScaling")},setScaling:function(){var r=this.getScaling(),s=ae.read(arguments,0,{clone:!0,readNull:!0});if(r&&s&&!r.equals(s)){var a=this.getRotation(),c=this._decomposed,f=new gt,d=_t.isZero;if(d(r.x)||d(r.y))f.translate(c.translation),a&&f.rotate(a),f.scale(s.x,s.y),this._matrix.set(f);else{var p=this.getPosition(!0);f.translate(p),a&&f.rotate(a),f.scale(s.x/r.x,s.y/r.y),a&&f.rotate(-a),f.translate(p.negate()),this.transform(f)}c&&(c.scaling=s,this._decomposed=c)}},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},getGlobalMatrix:function(r){var s=this._globalMatrix;if(s)for(var a=this._parent,c=[];a;){if(!a._globalMatrix){s=null;for(var f=0,d=c.length;f<d;f++)c[f]._globalMatrix=null;break}c.push(a),a=a._parent}return s||(s=this._globalMatrix=this._matrix.clone(),(a=this._parent)&&s.prepend(a.getGlobalMatrix(!0))),r?s:s.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(r){(this._applyMatrix=this._canApplyMatrix&&!!r)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(r,s){if(this._project!==r){this._project&&this._installEvents(!1),this._project=r;for(var a=this._children,c=0,f=a&&a.length;c<f;c++)a[c]._setProject(r);s=!0}s&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function r(s){r.base.call(this,s);for(var a=this._children,c=0,f=a&&a.length;c<f;c++)a[c]._installEvents(s)},getLayer:function(){for(var r=this;r=r._parent;)if(r instanceof Nn)return r;return null},getParent:function(){return this._parent},setParent:function(r){return r.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(r){this.removeChildren(),this.addChildren(r)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var r=this._getOwner();return r&&r._children[this._index+1]||null},getPreviousSibling:function(){var r=this._getOwner();return r&&r._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(r){return r===this||r&&this._class===r._class&&this._style.equals(r._style)&&this._matrix.equals(r._matrix)&&this._locked===r._locked&&this._visible===r._visible&&this._blendMode===r._blendMode&&this._opacity===r._opacity&&this._clipMask===r._clipMask&&this._guide===r._guide&&this._equals(r)||!1},_equals:function(r){return se.equals(this._children,r._children)},clone:function(r){var s=new this.constructor(et.NO_INSERT),a=this._children,c=se.pick(r?r.insert:Te,r===Te||!0===r),f=se.pick(r?r.deep:Te,!0);a&&s.copyAttributes(this),(!a||f)&&s.copyContent(this),a||s.copyAttributes(this),c&&s.insertAbove(this);var d=this._name,p=this._parent;if(d&&p){a=p._children;for(var g=d,v=1;a[d];)d=g+" "+v++;d!==g&&s.setName(d)}return s},copyContent:function(r){for(var s=r._children,a=0,c=s&&s.length;a<c;a++)this.addChild(s[a].clone(!1),!0)},copyAttributes:function(r,s){this.setStyle(r._style);for(var a=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],c=0,f=a.length;c<f;c++){var d=a[c];r.hasOwnProperty(d)&&(this[d]=r[d])}s||this._matrix.set(r._matrix,!0),this.setApplyMatrix(r._applyMatrix),this.setPivot(r._pivot),this.setSelection(r._selection);var p=r._data,g=r._name;this._data=p?se.clone(p):null,g&&this.setName(g)},rasterize:function(r,s){var a,c,f;se.isPlainObject(r)?(a=r.resolution,c=r.insert,f=r.raster):(a=r,c=s),f||(f=new Rn(et.NO_INSERT));var d=this.getStrokeBounds(),p=(a||this.getView().getResolution())/72,g=d.getTopLeft().floor(),v=d.getBottomRight().ceil(),y=new Ae(v.subtract(g)),S=y.multiply(p);if(f.setSize(S,!0),!S.isZero()){var b=f.getContext(!0),C=(new gt).scale(p).translate(g.negate());b.save(),C.applyToContext(b),this.draw(b,new se({matrices:[C]})),b.restore()}return f._matrix.set((new gt).translate(g.add(y.divide(2))).scale(1/p)),(c===Te||c)&&f.insertAbove(this),f},contains:function(){var r=this._matrix;return r.isInvertible()&&!!this._contains(r._inverseTransform(ae.read(arguments)))},_contains:function(r){var s=this._children;if(s){for(var a=s.length-1;a>=0;a--)if(s[a].contains(r))return!0;return!1}return r.isInside(this.getInternalBounds())},isInside:function(){return tt.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new bt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(r,s){return r instanceof et&&this._asPathItem().getIntersections(r._asPathItem(),null,s,!0).length>0}},new function(){function r(){var c=arguments;return this._hitTest(ae.read(c),Fe.getOptions(c))}function s(){var c=arguments,f=ae.read(c),d=Fe.getOptions(c),p=[];return this._hitTest(f,new se({all:p},d)),p}function a(c,f,d,p){var g=this._children;if(g)for(var v=g.length-1;v>=0;v--){var y=g[v],S=y!==p&&y._hitTest(c,f,d);if(S&&!f.all)return S}return null}return ct.inject({hitTest:r,hitTestAll:s,_hitTest:a}),{hitTest:r,hitTestAll:s,_hitTestChildren:a}},{_hitTest:function(r,s,a){if(this._locked||!this._visible||this._guide&&!s.guides||this.isEmpty())return null;var c=this._matrix,f=a?a.appended(c):this.getGlobalMatrix().prepend(this.getView()._matrix),d=Math.max(s.tolerance,1e-12),p=s._tolerancePadding=new Ae(bt._getStrokePadding(d,c._shiftless().invert()));if(!(r=c._inverseTransform(r))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(p.multiply(2))._containsPoint(r))return null;var S,b,g=!(s.guides&&!this._guide||s.selected&&!this.isSelected()||s.type&&s.type!==se.hyphenate(this._class)||s.class&&!(this instanceof s.class)),v=s.match,y=this;function C(E){return E&&v&&!v(E)&&(E=null),E&&s.all&&s.all.push(E),E}function D(E,M){var R=M?S["get"+M]():y.getPosition();if(r.subtract(R).divide(p).length<=1)return new Fe(E,y,{name:M?se.hyphenate(M):E,point:R})}var N=s.position,O=s.center,P=s.bounds;if(g&&this._parent&&(N||O||P)){if((O||P)&&(S=this.getInternalBounds()),!(b=N&&D("position")||O&&D("center","Center"))&&P)for(var I=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!b;x++)b=D("bounds",I[x]);b=C(b)}return b||(b=this._hitTestChildren(r,s,f)||g&&C(this._hitTestSelf(r,s,f,this.getStrokeScaling()?null:f._shiftless().invert()))||null),b&&b.point&&(b.point=c.transform(b.point)),b},_hitTestSelf:function(r,s){if(s.fill&&this.hasFill()&&this._contains(r))return new Fe("fill",this)},matches:function(r,s){var c=typeof r;if("object"===c){for(var f in r)if(r.hasOwnProperty(f)&&!this.matches(f,r[f]))return!1;return!0}if("function"===c)return r(this);if("match"===r)return s(this);var d=/^(empty|editable)$/.test(r)?this["is"+se.capitalize(r)]():"type"===r?se.hyphenate(this._class):this[r];if("class"===r){if("function"==typeof s)return this instanceof s;d=this._class}if("function"==typeof s)return!!s(d);if(s){if(s.test)return s.test(d);if(se.isPlainObject(s))return function a(p,g){for(var v in p)if(p.hasOwnProperty(v)){var y=p[v],S=g[v];if(se.isPlainObject(y)&&se.isPlainObject(S)){if(!a(y,S))return!1}else if(!se.equals(y,S))return!1}return!0}(s,d)}return se.equals(d,s)},getItems:function(r){return et._getItems(this,r,this._matrix)},getItem:function(r){return et._getItems(this,r,this._matrix,null,!0)[0]||null},statics:{_getItems:function r(s,a,c,f,d){if(!f){var p="object"==typeof a&&a,g=p&&p.overlapping,v=p&&p.inside,C=(y=g||v)&&tt.read([y]);f={items:[],recursive:p&&!1!==p.recursive,inside:!!v,overlapping:!!g,rect:C,path:g&&new bt.Rectangle({rectangle:C,insert:!1})},p&&(a=se.filter({},a,{recursive:!0,inside:!0,overlapping:!0}))}var S=s._children,b=f.items;c=(C=f.rect)&&(c||new gt);for(var D=0,N=S&&S.length;D<N;D++){var O=S[D],P=c&&c.appended(O._matrix),I=!0;if(C){var y=O.getBounds(P);if(!C.intersects(y))continue;C.contains(y)||f.overlapping&&(y.contains(C)||f.path.intersects(O,P))||(I=!1)}if(I&&O.matches(a)&&(b.push(O),d)||(!1!==f.recursive&&r(O,a,P,f,d),d&&b.length>0))break}return b}}},{importJSON:function(r){var s=se.importJSON(r,this);return s!==this?this.addChild(s):s},addChild:function(r){return this.insertChild(Te,r)},insertChild:function(r,s){var a=s?this.insertChildren(r,[s]):null;return a&&a[0]},addChildren:function(r){return this.insertChildren(this._children.length,r)},insertChildren:function(r,s){var a=this._children;if(a&&s&&s.length>0){for(var c={},f=(s=se.slice(s)).length-1;f>=0;f--){var p=(d=s[f])&&d._id;!d||c[p]?s.splice(f,1):(d._remove(!1,!0),c[p]=!0)}se.splice(a,s,r,0);for(var g=this._project,v=g._changes,y=(f=0,s.length);f<y;f++){var d,S=(d=s[f])._name;d._parent=this,d._setProject(g,!0),S&&d.setName(S),v&&d._changed(5)}this._changed(11)}else s=null;return s},_insertItem:"#insertChild",_insertAt:function(r,s){var a=r&&r._getOwner(),c=r!==this&&a?this:null;return c&&(c._remove(!1,!0),a._insertItem(r._index+s,c)),c},insertAbove:function(r){return this._insertAt(r,1)},insertBelow:function(r){return this._insertAt(r,0)},sendToBack:function(){var r=this._getOwner();return r?r._insertItem(0,this):null},bringToFront:function(){var r=this._getOwner();return r?r._insertItem(Te,this):null},appendTop:"#addChild",appendBottom:function(r){return this.insertChild(0,r)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(r){return r._insertItem(Te,this)},copyTo:function(r){return this.clone(!1).addTo(r)},reduce:function(r){var s=this._children;if(s&&1===s.length){var a=s[0].reduce(r);return this._parent?(a.insertAbove(this),this.remove()):a.remove(),a}return this},_removeNamed:function(){var r=this._getOwner();if(r){var s=r._children,a=r._namedChildren,c=this._name,f=a[c],d=f?f.indexOf(this):-1;-1!==d&&(s[c]==this&&delete s[c],f.splice(d,1),f.length?s[c]=f[0]:delete a[c])}},_remove:function(r,s){var a=this._getOwner(),c=this._project,f=this._index;return this._style&&this._style._dispose(),!!a&&(this._name&&this._removeNamed(),null!=f&&(c._activeLayer===this&&(c._activeLayer=this.getNextSibling()||this.getPreviousSibling()),se.splice(a._children,null,f,1)),this._installEvents(!1),r&&c._changes&&this._changed(5),s&&a._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(r){var s=r&&r.insertBelow(this);return s&&this.remove(),s},removeChildren:function(r,s){if(!this._children)return null;r=r||0,s=se.pick(s,this._children.length);for(var a=se.splice(this._children,null,r,s-r),c=a.length-1;c>=0;c--)a[c]._remove(!0,!1);return a.length>0&&this._changed(11),a},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var r=0,s=this._children.length;r<s;r++)this._children[r]._index=r;this._changed(11)}},isEmpty:function(r){var s=this._children,a=s?s.length:0;if(r){for(var c=0;c<a;c++)if(!s[c].isEmpty(r))return!1;return!0}return!a},isEditable:function(){for(var r=this;r;){if(!r._visible||r._locked)return!1;r=r._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(r){function s(p){var g=[];do{g.unshift(p)}while(p=p._parent);return g}for(var a=s(this),c=s(r),f=0,d=Math.min(a.length,c.length);f<d;f++)if(a[f]!=c[f])return a[f]._index<c[f]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(r){return-1===this._getOrder(r)},isBelow:function(r){return 1===this._getOrder(r)},isParent:function(r){return this._parent===r},isChild:function(r){return r&&r._parent===this},isDescendant:function(r){for(var s=this;s=s._parent;)if(s===r)return!0;return!1},isAncestor:function(r){return!!r&&r.isDescendant(this)},isSibling:function(r){return this._parent===r._parent},isGroupedWith:function(r){for(var s=this._parent;s;){if(s._parent&&/^(Group|Layer|CompoundPath)$/.test(s._class)&&r.isDescendant(s))return!0;s=s._parent}return!1}},se.each(["rotate","scale","shear","skew"],function(r){var s="rotate"===r;this[r]=function(){var a=arguments,c=(s?se:ae).read(a),f=ae.read(a,0,{readNull:!0});return this.transform((new gt)[r](c,f||this.getPosition(!0)))}},{translate:function(){var r=new gt;return this.transform(r.translate.apply(r,arguments))},transform:function(r,s,a){var c=this._matrix,f=r&&!r.isIdentity(),d=a&&this._canApplyMatrix||this._applyMatrix&&(f||!c.isIdentity()||s&&this._children);if(!f&&!d)return this;if(f){!r.isInvertible()&&c.isInvertible()&&(c._backup=c.getValues()),c.prepend(r,!0);var p=this._style,g=p.getFillColor(!0),v=p.getStrokeColor(!0);g&&g.transform(r),v&&v.transform(r)}if(d&&(d=this._transformContent(c,s,a))){var y=this._pivot;y&&c._transformPoint(y,y,!0),c.reset(!0),a&&this._canApplyMatrix&&(this._applyMatrix=!0)}var S=this._bounds,b=this._position;(f||d)&&this._changed(25);var C=f&&S&&r.decompose();if(C&&C.skewing.isZero()&&C.rotation%90==0){for(var D in S){var N=S[D];if(N.nonscaling)delete S[D];else if(d||!N.internal){var O=N.rect;r._transformBounds(O,O)}}this._bounds=S;var P=S[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else f&&b&&this._pivot&&(this._position=r._transformPoint(b,b));return this},_transformContent:function(r,s,a){var c=this._children;if(c){for(var f=0,d=c.length;f<d;f++)c[f].transform(r,s,a);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ae.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ae.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ae.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ae.read(arguments))},fitBounds:function(r,s){r=tt.read(arguments);var a=this.getBounds(),c=a.height/a.width,f=r.height/r.width,d=(s?c>f:c<f)?r.width/a.width:r.height/a.height,p=new tt(new ae,new Ae(a.width*d,a.height*d));p.setCenter(r.getCenter()),this.setBounds(p)}}),{_setStyles:function(r,s,a){var c=this._style,f=this._matrix;if(c.hasFill()&&(r.fillStyle=c.getFillColor().toCanvasStyle(r,f)),c.hasStroke()){r.strokeStyle=c.getStrokeColor().toCanvasStyle(r,f),r.lineWidth=c.getStrokeWidth();var d=c.getStrokeJoin(),p=c.getStrokeCap(),g=c.getMiterLimit();if(d&&(r.lineJoin=d),p&&(r.lineCap=p),g&&(r.miterLimit=g),u.support.nativeDash){var v=c.getDashArray(),y=c.getDashOffset();v&&v.length&&("setLineDash"in r?(r.setLineDash(v),r.lineDashOffset=y):(r.mozDash=v,r.mozDashOffset=y))}}if(c.hasShadow()){var S=s.pixelRatio||1,b=a._shiftless().prepend((new gt).scale(S,S)),C=b.transform(new ae(c.getShadowBlur(),0)),D=b.transform(this.getShadowOffset());r.shadowColor=c.getShadowColor().toCanvasStyle(r),r.shadowBlur=C.getLength(),r.shadowOffsetX=D.x,r.shadowOffsetY=D.y}},draw:function(r,s,a){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var f=s.matrices,d=s.viewMatrix,p=this._matrix,g=f[f.length-1].appended(p);if(g.isInvertible()){d=d?d.appended(g):g,f.push(g),s.updateMatrix&&(this._globalMatrix=g);var N,O,P,v=this._blendMode,y=_t.clamp(this._opacity,0,1),S="normal"===v,b=dn.nativeModes[v],C=S&&1===y||s.dontStart||s.clip||(b||S&&y<1)&&this._canComposite(),D=s.pixelRatio||1;if(!C){var I=this.getStrokeBounds(d);if(!I.width||!I.height)return void f.pop();P=s.offset,O=s.offset=I.getTopLeft().floor(),N=r,r=Rt.getContext(I.getSize().ceil().add(1).multiply(D)),1!==D&&r.scale(D,D)}r.save();var x=a?a.appended(p):this._canScaleStroke&&!this.getStrokeScaling(!0)&&d,E=!C&&s.clipItem,M=!x||E;if(C?(r.globalAlpha=y,b&&(r.globalCompositeOperation=v)):M&&r.translate(-O.x,-O.y),M&&(C?p:d).applyToContext(r),E&&s.clipItem.draw(r,s.extend({clip:!0})),x){r.setTransform(D,0,0,D,0,0);var R=s.offset;R&&r.translate(-R.x,-R.y)}this._draw(r,s,d,x),r.restore(),f.pop(),s.clip&&!s.dontFinish&&r.clip(this.getFillRule()),C||(dn.process(v,r,N,y,O.subtract(P).multiply(D)),Rt.release(r),s.offset=P)}}},_isUpdated:function(r){var s=this._parent;if(s instanceof ai)return s._isUpdated(r);var a=this._updateVersion===r;return!a&&s&&s._visible&&s._isUpdated(r)&&(this._updateVersion=r,a=!0),a},_drawSelection:function(r,s,a,c,f){var d=this._selection,p=1&d,g=2&d||p&&this._selectBounds,v=4&d;if(this._drawSelected||(p=!1),(p||g||v)&&this._isUpdated(f)){var y,S=this.getSelectedColor(!0)||(y=this.getLayer())&&y.getSelectedColor(!0),b=s.appended(this.getGlobalMatrix(!0)),C=a/2;if(r.strokeStyle=r.fillStyle=S?S.toCanvasStyle(r):"#009dec",p&&this._drawSelected(r,b,c),v){var D=this.getPosition(!0),N=this._parent,O=N?N.localToGlobal(D):D,P=O.x,I=O.y;r.beginPath(),r.arc(P,I,C,0,2*Math.PI,!0),r.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],E=C,M=a+1,R=0;R<4;R++){var L=x[R],F=L[0],V=L[1];r.moveTo(P+F*E,I+V*E),r.lineTo(P+F*M,I+V*M),r.stroke()}}if(g){var z=b._transformCorners(this.getInternalBounds());for(r.beginPath(),R=0;R<8;R++)r[R?"lineTo":"moveTo"](z[R],z[++R]);for(r.closePath(),r.stroke(),R=0;R<8;R++)r.fillRect(z[R]-C,z[++R]-C,a,a)}}},_canComposite:function(){return!1}},se.each(["down","drag","up","move"],function(r){this["removeOn"+se.capitalize(r)]=function(){var s={};return s[r]=!0,this.removeOn(s)}},{removeOn:function(r){for(var s in r)if(r[s]){var a="mouse"+s,c=this._project,f=c._removeSets=c._removeSets||{};f[a]=f[a]||{},f[a][this._id]=this}return this}}),{tween:function(r,s,a){a||(a=s,s=r,r=null,a||(a=s,s=null));var d=null!=a&&("number"==typeof a?a:a.duration),p=new mn(this,r,s,d,a&&a.easing,a&&a.start);return d&&this.on("frame",function g(v){p._handleFrame(1e3*v.time),p.running||this.off("frame",g)}),p},tweenTo:function(r,s){return this.tween(null,r,s)},tweenFrom:function(r,s){return this.tween(r,null,s)}}),Un=et.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||this.addChildren(Array.isArray(s)?s:arguments)},_changed:function r(s){r.base.call(this,s),2050&s&&(this._clipItem=Te)},_getClipItem:function(){var r=this._clipItem;if(r===Te){r=null;for(var s=this._children,a=0,c=s.length;a<c;a++)if(s[a]._clipMask){r=s[a];break}this._clipItem=r}return r},isClipped:function(){return!!this._getClipItem()},setClipped:function(r){var s=this.getFirstChild();s&&s.setClipMask(r)},_getBounds:function r(s,a){var c=this._getClipItem();return c?c._getCachedBounds(c._matrix.prepended(s),se.set({},a,{stroke:!1})):r.base.call(this,s,a)},_hitTestChildren:function r(s,a,c){var f=this._getClipItem();return(!f||f.contains(s))&&r.base.call(this,s,a,c,f)},_draw:function(r,s){var a=s.clip,c=!a&&this._getClipItem();s=s.extend({clipItem:c,clip:!1}),a?(r.beginPath(),s.dontStart=s.dontFinish=!0):c&&c.draw(r,s.extend({clip:!0}));for(var f=this._children,d=0,p=f.length;d<p;d++){var g=f[d];g!==c&&g.draw(r,s)}}}),Nn=Un.extend({_class:"Layer",initialize:function(){Un.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function r(){return this._parent?r.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Cn=et.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(s,a){this._initialize(s,a)},_equals:function(r){return this._type===r._type&&this._size.equals(r._size)&&se.equals(this._radius,r._radius)},copyContent:function(r){this.setType(r._type),this.setSize(r._size),this.setRadius(r._radius)},getType:function(){return this._type},setType:function(r){this._type=r},getShape:"#getType",setShape:"#setType",getSize:function(){var r=this._size;return new Q(r.width,r.height,this,"setSize")},setSize:function(){var r=Ae.read(arguments);if(this._size){if(!this._size.equals(r)){var s=this._type,a=r.width,c=r.height;"rectangle"===s?this._radius.set(Ae.min(this._radius,r.divide(2).abs())):"circle"===s?(a=c=(a+c)/2,this._radius=a/2):"ellipse"===s&&this._radius._set(a/2,c/2),this._size._set(a,c),this._changed(9)}}else this._size=r.clone()},getRadius:function(){var r=this._radius;return"circle"===this._type?r:new Q(r.width,r.height,this,"setRadius")},setRadius:function(r){var s=this._type;if("circle"===s){if(r===this._radius)return;var a=2*r;this._radius=r,this._size._set(a,a)}else if(r=Ae.read(arguments),this._radius){if(this._radius.equals(r))return;this._radius.set(r),"rectangle"===s?(a=Ae.max(this._size,r.multiply(2)),this._size.set(a)):"ellipse"===s&&this._size._set(2*r.width,2*r.height)}else this._radius=r.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(r){var s=new(bt[se.capitalize(this._type)])({center:new ae,size:this._size,radius:this._radius,insert:!1});return s.copyAttributes(this),u.settings.applyMatrix&&s.setApplyMatrix(!0),(r===Te||r)&&s.insertAbove(this),s},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(r,s,a,c){var f=this._style,d=f.hasFill(),p=f.hasStroke(),g=s.dontFinish||s.clip,v=!c;if(d||p||g){var y=this._type,S=this._radius,b="circle"===y;if(s.dontStart||r.beginPath(),v&&b)r.arc(0,0,S,0,2*Math.PI,!0);else{var C=b?S:S.width,D=b?S:S.height,N=this._size,O=N.width,P=N.height;if(v&&"rectangle"===y&&0===C&&0===D)r.rect(-O/2,-P/2,O,P);else{var I=O/2,x=P/2,E=.44771525016920644,M=C*E,R=D*E,L=[-I,-x+D,-I,-x+R,-I+M,-x,-I+C,-x,I-C,-x,I-M,-x,I,-x+R,I,-x+D,I,x-D,I,x-R,I-M,x,I-C,x,-I+C,x,-I+M,x,-I,x-R,-I,x-D];c&&c.transform(L,L,32),r.moveTo(L[0],L[1]),r.bezierCurveTo(L[2],L[3],L[4],L[5],L[6],L[7]),I!==C&&r.lineTo(L[8],L[9]),r.bezierCurveTo(L[10],L[11],L[12],L[13],L[14],L[15]),x!==D&&r.lineTo(L[16],L[17]),r.bezierCurveTo(L[18],L[19],L[20],L[21],L[22],L[23]),I!==C&&r.lineTo(L[24],L[25]),r.bezierCurveTo(L[26],L[27],L[28],L[29],L[30],L[31])}}r.closePath()}!g&&(d||p)&&(this._setStyles(r,s,a),d&&(r.fill(f.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),p&&r.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(r,s){var a=new tt(this._size).setCenter(0,0),c=this._style,f=s.stroke&&c.hasStroke()&&c.getStrokeWidth();return r&&(a=r._transformBounds(a)),f?a.expand(bt._getStrokePadding(f,this._getStrokeMatrix(r,s))):a}},new function(){function r(a,c,f){var d=a._radius;if(!d.isZero())for(var p=a._size.divide(2),g=1;g<=4;g++){var v=new ae(g>1&&g<4?-1:1,g>2?-1:1),y=v.multiply(p),S=y.subtract(v.multiply(d));if(new tt(f?y.add(v.multiply(f)):y,S).contains(c))return{point:S,quadrant:g}}}function s(a,c,f,d){var p=a.divide(c);return(!d||p.isInQuadrant(d))&&p.subtract(p.normalize()).multiply(c).divide(f).length<=1}return{_contains:function a(c){if("rectangle"===this._type){var f=r(this,c);return f?c.subtract(f.point).divide(this._radius).getLength()<=1:a.base.call(this,c)}return c.divide(this.size).getLength()<=.5},_hitTestSelf:function a(c,f,d,p){var g=!1,v=this._style,y=f.stroke&&v.hasStroke(),S=f.fill&&v.hasFill();if(y||S){var b=this._type,C=this._radius,D=y?v.getStrokeWidth()/2:0,N=f._tolerancePadding.add(bt._getStrokePadding(D,!v.getStrokeScaling()&&p));if("rectangle"===b){var O=N.multiply(2),P=r(this,c,O);if(P)g=s(c.subtract(P.point),C,N,P.quadrant);else{var I=new tt(this._size).setCenter(0,0),x=I.expand(O),E=I.expand(O.negate());g=x._containsPoint(c)&&!E._containsPoint(c)}}else g=s(c,C,N)}return g?new Fe(y?"stroke":"fill",this):a.base.apply(this,arguments)}}},{statics:new function(){function r(s,a,c,f,d){var p=se.create(Cn.prototype);return p._type=s,p._size=c,p._radius=f,p._initialize(se.getNamed(d),a),p}return{Circle:function(){var s=arguments,a=ae.readNamed(s,"center"),c=se.readNamed(s,"radius");return r("circle",a,new Ae(2*c),c,s)},Rectangle:function(){var s=arguments,a=tt.readNamed(s,"rectangle"),c=Ae.min(Ae.readNamed(s,"radius"),a.getSize(!0).divide(2));return r("rectangle",a.getCenter(!0),a.getSize(!0),c,s)},Ellipse:function(){var s=arguments,a=Cn._readEllipse(s),c=a.radius;return r("ellipse",a.center,c.multiply(2),c,s)},_readEllipse:function(s){var a,c;if(se.hasNamed(s,"radius"))a=ae.readNamed(s,"center"),c=Ae.readNamed(s,"radius");else{var f=tt.readNamed(s,"rectangle");a=f.getCenter(!0),c=f.getSize(!0).divide(2)}return{center:a,radius:c}}}}}),Rn=et.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(s,a){if(!this._initialize(s,a!==Te&&ae.read(arguments))){var c,f=typeof s,d="string"===f?ie.getElementById(s):"object"===f?s:null;if(d&&d!==et.NO_INSERT)if(d.getContext||null!=d.naturalHeight)c=d;else if(d){var p=Ae.read(arguments);p.isZero()||(c=Rt.getCanvas(p))}c?this.setImage(c):this.setSource(s)}this._size||(this._size=new Ae,this._loaded=!1)},_equals:function(r){return this.getSource()===r.getSource()},copyContent:function(r){var s=r._image,a=r._canvas;if(s)this._setImage(s);else if(a){var c=Rt.getCanvas(r._size);c.getContext("2d").drawImage(a,0,0),this._setImage(c)}this._crossOrigin=r._crossOrigin},getSize:function(){var r=this._size;return new Q(r?r.width:0,r?r.height:0,this,"setSize")},setSize:function(r,s){var a=Ae.read(arguments);if(a.equals(this._size))s&&this.clear();else if(a.width>0&&a.height>0){var c=!s&&this.getElement();this._setImage(Rt.getCanvas(a)),c&&this.getContext(!0).drawImage(c,0,0,a.width,a.height)}else this._canvas&&Rt.release(this._canvas),this._size=a.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(r){this.setSize(r,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(r){this.setSize(this.getWidth(),r)},getLoaded:function(){return this._loaded},isEmpty:function(){var r=this._size;return!r||0===r.width&&0===r.height},getResolution:function(){var r=this._matrix,s=new ae(0,0).transform(r),a=new ae(1,0).transform(r).subtract(s),c=new ae(0,1).transform(r).subtract(s);return new Ae(72/a.getLength(),72/c.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(r){var s=this;function a(c){var f=s.getView(),d=c&&c.type||"load";f&&s.responds(d)&&(u=f._scope,s.emit(d,new ar(c)))}this._setImage(r),this._loaded?setTimeout(a,0):r&&Et.add(r,{load:function(c){s._setImage(r),a(c)},error:a})},_setImage:function(r){this._canvas&&Rt.release(this._canvas),r&&r.getContext?(this._image=null,this._canvas=r,this._loaded=!0):(this._image=r,this._canvas=null,this._loaded=!!(r&&r.src&&r.complete)),this._size=new Ae(r?r.naturalWidth||r.width:0,r?r.naturalHeight||r.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var r=Rt.getContext(this._size);try{this._image&&r.drawImage(this._image,0,0),this._canvas=r.canvas}catch{Rt.release(r)}}return this._canvas},setCanvas:"#setImage",getContext:function(r){return this._context||(this._context=this.getCanvas().getContext("2d")),r&&(this._image=null,this._changed(1025)),this._context},setContext:function(r){this._context=r},getSource:function(){var r=this._image;return r&&r.src||this.toDataURL()},setSource:function(r){var s=new Ie.Image,a=this._crossOrigin;a&&(s.crossOrigin=a),r&&(s.src=r),this.setImage(s)},getCrossOrigin:function(){var r=this._image;return r&&r.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(r){this._crossOrigin=r;var s=this._image;s&&(s.crossOrigin=r)},getSmoothing:function(){return this._smoothing},setSmoothing:function(r){this._smoothing="string"==typeof r?r:r?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var r=tt.read(arguments),s=Rt.getContext(r.getSize());return s.drawImage(this.getCanvas(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),s.canvas},getSubRaster:function(){var r=tt.read(arguments),s=new Rn(et.NO_INSERT);return s._setImage(this.getSubCanvas(r)),s.translate(r.getCenter().subtract(this.getSize().divide(2))),s._matrix.prepend(this._matrix),s.insertAbove(this),s},toDataURL:function(){var r=this._image,s=r&&r.src;if(/^data:/.test(s))return s;var a=this.getCanvas();return a?a.toDataURL.apply(a,arguments):null},drawImage:function(r){var s=ae.read(arguments,1);this.getContext(!0).drawImage(r,s.x,s.y)},getAverageColor:function(r){var s,a;if(r?r instanceof ht?(a=r,s=r.getBounds()):"object"==typeof r&&("width"in r?s=new tt(r):"x"in r&&(s=new tt(r.x-.5,r.y-.5,1,1))):s=this.getBounds(),!s)return null;var f=Math.min(s.width,32),d=Math.min(s.height,32),p=Rn._sampleContext;p?p.clearRect(0,0,33,33):p=Rn._sampleContext=Rt.getContext(new Ae(32)),p.save();var g=(new gt).scale(f/s.width,d/s.height).translate(-s.x,-s.y);g.applyToContext(p),a&&a.draw(p,new se({clip:!0,matrices:[g]})),this._matrix.applyToContext(p);var v=this.getElement(),y=this._size;v&&p.drawImage(v,-y.width/2,-y.height/2),p.restore();for(var S=p.getImageData(.5,.5,Math.ceil(f),Math.ceil(d)).data,b=[0,0,0],C=0,D=0,N=S.length;D<N;D+=4){var O=S[D+3];C+=O,b[0]+=S[D]*(O/=255),b[1]+=S[D+1]*O,b[2]+=S[D+2]*O}for(D=0;D<3;D++)b[D]/=C;return C?sn.read(b):null},getPixel:function(){var r=ae.read(arguments),s=this.getContext().getImageData(r.x,r.y,1,1).data;return new sn("rgb",[s[0]/255,s[1]/255,s[2]/255],s[3]/255)},setPixel:function(){var r=arguments,s=ae.read(r),a=sn.read(r),c=a._convert("rgb"),f=a._alpha,d=this.getContext(!0),p=d.createImageData(1,1),g=p.data;g[0]=255*c[0],g[1]=255*c[1],g[2]=255*c[2],g[3]=null!=f?255*f:255,d.putImageData(p,s.x,s.y)},clear:function(){var r=this._size;this.getContext(!0).clearRect(0,0,r.width+1,r.height+1)},createImageData:function(){var r=Ae.read(arguments);return this.getContext().createImageData(r.width,r.height)},getImageData:function(){var r=tt.read(arguments);return r.isEmpty()&&(r=new tt(this._size)),this.getContext().getImageData(r.x,r.y,r.width,r.height)},putImageData:function(r){var s=ae.read(arguments,1);this.getContext(!0).putImageData(r,s.x,s.y)},setImageData:function(r){this.setSize(r),this.getContext(!0).putImageData(r,0,0)},_getBounds:function(r,s){var a=new tt(this._size).setCenter(0,0);return r?r._transformBounds(a):a},_hitTestSelf:function(r){if(this._contains(r)){var s=this;return new Fe("pixel",s,{offset:r.add(s._size.divide(2)).round(),color:{get:function(){return s.getPixel(this.offset)}}})}},_draw:function(r,s,a){var c=this.getElement();if(c&&c.width>0&&c.height>0){r.globalAlpha=_t.clamp(this._opacity,0,1),this._setStyles(r,s,a);var f=this._smoothing,d="off"===f;It.setPrefixed(r,d?"imageSmoothingEnabled":"imageSmoothingQuality",!d&&f),r.drawImage(c,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),fi=et.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(s,a){this._initialize(s,a!==Te&&ae.read(arguments,1))||this.setDefinition(s instanceof hn?s:new hn(s))},_equals:function(r){return this._definition===r._definition},copyContent:function(r){this.setDefinition(r._definition)},getDefinition:function(){return this._definition},setDefinition:function(r){this._definition=r,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(r,s){var a=this._definition._item;return a._getCachedBounds(a._matrix.prepended(r),s)},_hitTestSelf:function(r,s,a){var c=s.extend({all:!1}),f=this._definition._item._hitTest(r,c,a);return f&&(f.item=this),f},_draw:function(r,s){this._definition._item.draw(r,s)}}),hn=se.extend({_class:"SymbolDefinition",initialize:function(s,a){this._id=le.get(),this.project=u.project,s&&this.setItem(s,a)},_serialize:function(r,s){return s.add(this,function(){return se.serialize([this._class,this._item],r,!1,s)})},_changed:function(r){8&r&&et._clearBoundsCache(this),1&r&&this.project._changed(r)},getItem:function(){return this._item},setItem:function(r,s){r._symbol&&(r=r.clone()),this._item&&(this._item._symbol=null),this._item=r,r.remove(),r.setSelected(!1),s||r.setPosition(new ae),r._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(r){return new fi(this,r)},clone:function(){return new hn(this._item.clone(!1))},equals:function(r){return r===this||r&&this._item.equals(r._item)||!1}}),Fe=se.extend({_class:"HitResult",initialize:function(s,a,c){this.type=s,this.item=a,c&&this.inject(c)},statics:{getOptions:function(r){var s=r&&se.read(r);return new se({type:null,tolerance:u.settings.hitTolerance,fill:!s,stroke:!s,segments:!s,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},s)}}}),ot=se.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(s,a,c,f,d,p){var v,y,S,b,g=arguments.length;g>0&&(null==s||"object"==typeof s?1===g&&s&&"point"in s?(v=s.point,y=s.handleIn,S=s.handleOut,b=s.selection):(v=s,y=a,S=c,b=f):(v=[s,a],y=c!==Te?[c,f]:null,S=d!==Te?[d,p]:null)),new Re(v,this,"_point"),new Re(y,this,"_handleIn"),new Re(S,this,"_handleOut"),b&&this.setSelection(b)},_serialize:function(r,s){var a=this._point,c=this._selection,f=c||this.hasHandles()?[a,this._handleIn,this._handleOut]:a;return c&&f.push(c),se.serialize(f,r,!0,s)},_changed:function(r){var s=this._path;if(s){var f,a=s._curves,c=this._index;a&&((!r||r===this._point||r===this._handleIn)&&(f=c>0?a[c-1]:s._closed?a[a.length-1]:null)&&f._changed(),(!r||r===this._point||r===this._handleOut)&&(f=a[c])&&f._changed()),s._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ae.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ae.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ae.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var r=this._handleIn,s=this._handleOut;return!r.isZero()&&!s.isZero()&&r.isCollinear(s)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(r){var s=this._selection,a=this._path;this._selection=r=r||0,a&&r!==s&&(a._updateSelection(this,s,r),a._changed(257))},_changeSelection:function(r,s){var a=this._selection;this.setSelection(s?a|r:a&~r)},isSelected:function(){return!!(7&this._selection)},setSelected:function(r){this._changeSelection(7,r)},getIndex:function(){return this._index!==Te?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var r=this._path,s=this._index;return r?(s>0&&!r._closed&&s===r._segments.length-1&&s--,r.getCurves()[s]||null):null},getLocation:function(){var r=this.getCurve();return r?new Fn(r,this===r._segment1?0:1):null},getNext:function(){var r=this._path&&this._path._segments;return r&&(r[this._index+1]||this._path._closed&&r[0])||null},smooth:function(r,s,a){var c=r||{},f=c.type,d=c.factor,p=this.getPrevious(),g=this.getNext(),v=(p||this)._point,y=this._point,S=(g||this)._point,b=v.getDistance(y),C=y.getDistance(S);if(f&&"catmull-rom"!==f){if("geometric"!==f)throw new Error("Smoothing method '"+f+"' not supported.");if(p&&g){var M=v.subtract(S),R=d===Te?.4:d,L=R*b/(b+C);s||this.setHandleIn(M.multiply(L)),a||this.setHandleOut(M.multiply(L-R))}}else{var E,D=d===Te?.5:d,N=Math.pow(b,D),O=N*N,P=Math.pow(C,D),I=P*P;if(!s&&p){var x=2*I+3*P*N+O;this.setHandleIn(0!=(E=3*P*(P+N))?new ae((I*v._x+x*y._x-O*S._x)/E-y._x,(I*v._y+x*y._y-O*S._y)/E-y._y):new ae)}if(!a&&g)x=2*O+3*N*P+I,this.setHandleOut(0!=(E=3*N*(N+P))?new ae((O*S._x+x*y._x-I*v._x)/E-y._x,(O*S._y+x*y._y-I*v._y)/E-y._y):new ae)}},getPrevious:function(){var r=this._path&&this._path._segments;return r&&(r[this._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var r=this._path;return r&&this._index===r._segments.length-1||!1},reverse:function(){var r=this._handleIn,s=this._handleOut,a=r.clone();r.set(s),s.set(a)},reversed:function(){return new ot(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new ot(this._point,this._handleIn,this._handleOut)},equals:function(r){return r===this||r&&this._class===r._class&&this._point.equals(r._point)&&this._handleIn.equals(r._handleIn)&&this._handleOut.equals(r._handleOut)||!1},toString:function(){var r=["point: "+this._point];return this._handleIn.isZero()||r.push("handleIn: "+this._handleIn),this._handleOut.isZero()||r.push("handleOut: "+this._handleOut),"{ "+r.join(", ")+" }"},transform:function(r){this._transformCoordinates(r,new Array(6),!0),this._changed()},interpolate:function(r,s,a){var c=1-a,f=a,d=r._point,p=s._point,g=r._handleIn,v=s._handleIn,y=s._handleOut,S=r._handleOut;this._point._set(c*d._x+f*p._x,c*d._y+f*p._y,!0),this._handleIn._set(c*g._x+f*v._x,c*g._y+f*v._y,!0),this._handleOut._set(c*S._x+f*y._x,c*S._y+f*y._y,!0),this._changed()},_transformCoordinates:function(r,s,a){var c=this._point,f=a&&this._handleIn.isZero()?null:this._handleIn,d=a&&this._handleOut.isZero()?null:this._handleOut,p=c._x,g=c._y,v=2;return s[0]=p,s[1]=g,f&&(s[v++]=f._x+p,s[v++]=f._y+g),d&&(s[v++]=d._x+p,s[v++]=d._y+g),r&&(r._transformCoordinates(s,s,v/2),p=s[0],g=s[1],a?(c._x=p,c._y=g,v=2,f&&(f._x=s[v++]-p,f._y=s[v++]-g),d&&(d._x=s[v++]-p,d._y=s[v++]-g)):(f||(s[v++]=p,s[v++]=g),d||(s[v++]=p,s[v++]=g))),s}}),Re=ae.extend({initialize:function(s,a,c){var f,d,p;if(s)if((f=s[0])!==Te)d=s[1];else{var g=s;(f=g.x)===Te&&(f=(g=ae.read(arguments)).x),d=g.y,p=g.selected}else f=d=0;this._x=f,this._y=d,this._owner=a,a[c]=this,p&&this.setSelected(!0)},_set:function(r,s){return this._x=r,this._y=s,this._owner._changed(this),this},getX:function(){return this._x},setX:function(r){this._x=r,this._owner._changed(this)},getY:function(){return this._y},setY:function(r){this._y=r,this._owner._changed(this)},isZero:function(){var r=_t.isZero;return r(this._x)&&r(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(r){this._owner._changeSelection(this._getSelection(),r)},_getSelection:function(){var r=this._owner;return this===r._point?1:this===r._handleIn?2:this===r._handleOut?4:0}}),Pe=se.extend({_class:"Curve",beans:!0,initialize:function(s,a,c,f,d,p,g,v){var S,b,C,D,N,O,y=arguments.length;3===y?(this._path=s,S=a,b=c):y?1===y?"segment1"in s?(S=new ot(s.segment1),b=new ot(s.segment2)):"point1"in s?(C=s.point1,N=s.handle1,O=s.handle2,D=s.point2):Array.isArray(s)&&(C=[s[0],s[1]],D=[s[6],s[7]],N=[s[2]-s[0],s[3]-s[1]],O=[s[4]-s[6],s[5]-s[7]]):2===y?(S=new ot(s),b=new ot(a)):4===y?(C=s,N=a,O=c,D=f):8===y&&(C=[s,a],D=[g,v],N=[c-s,f-a],O=[d-g,p-v]):(S=new ot,b=new ot),this._segment1=S||new ot(C,null,N),this._segment2=b||new ot(D,O,null)},_serialize:function(r,s){return se.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],r,!0,s)},_changed:function(){this._length=this._bounds=Te},clone:function(){return new Pe(this._segment1,this._segment2)},toString:function(){var r=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||r.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||r.push("handle2: "+this._segment2._handleIn),r.push("point2: "+this._segment2._point),"{ "+r.join(", ")+" }"},classify:function(){return Pe.classify(this.getValues())},remove:function(){var r=!1;if(this._path){var s=this._segment2,a=s._handleOut;(r=s.remove())&&this._segment1._handleOut.set(a)}return r},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ae.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ae.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ae.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ae.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index+1]||this._path._closed&&r[0])||null},getPrevious:function(){var r=this._path&&this._path._curves;return r&&(r[this._segment1._index-1]||this._path._closed&&r[r.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var r=this._path;return r&&this._segment1._index===r._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(r){this.getPoint1().setSelected(r),this.getHandle1().setSelected(r),this.getHandle2().setSelected(r),this.getPoint2().setSelected(r)},getValues:function(r){return Pe.getValues(this._segment1,this._segment2,r)},getPoints:function(){for(var r=this.getValues(),s=[],a=0;a<8;a+=2)s.push(new ae(r[a],r[a+1]));return s}},{getLength:function(){return null==this._length&&(this._length=Pe.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Pe.getArea(this.getValues())},getLine:function(){return new un(this._segment1._point,this._segment2._point)},getPart:function(r,s){return new Pe(Pe.getPart(this.getValues(),r,s))},getPartLength:function(r,s){return Pe.getLength(this.getValues(),r,s)},divideAt:function(r){return this.divideAtTime(r&&r.curve===this?r.time:this.getTimeAt(r))},divideAtTime:function(r,s){var f=null;if(r>=1e-8&&r<=.99999999){var d=Pe.subdivide(this.getValues(),r),p=d[0],g=d[1],v=s||this.hasHandles(),y=this._segment1,S=this._segment2,b=this._path;v&&(y._handleOut._set(p[2]-p[0],p[3]-p[1]),S._handleIn._set(g[4]-g[6],g[5]-g[7]));var C=p[6],D=p[7],N=new ot(new ae(C,D),v&&new ae(p[4]-C,p[5]-D),v&&new ae(g[2]-C,g[3]-D));b?(b.insert(y._index+1,N),f=this.getNext()):(this._segment2=N,this._changed(),f=new Pe(N,S))}return f},splitAt:function(r){var s=this._path;return s?s.splitAt(r):null},splitAtTime:function(r){return this.splitAt(this.getLocationAtTime(r))},divide:function(r,s){return this.divideAtTime(r===Te?.5:s?r:this.getTimeAt(r))},split:function(r,s){return this.splitAtTime(r===Te?.5:s?r:this.getTimeAt(r))},reversed:function(){return new Pe(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(r,s,a,c){var f=r._point,d=r._handleOut,p=s._handleIn,g=s._point,v=f.x,y=f.y,S=g.x,b=g.y,C=c?[v,y,v,y,S,b,S,b]:[v,y,v+d._x,y+d._y,S+p._x,b+p._y,S,b];return a&&a._transformCoordinates(C,C,4),C},subdivide:function(r,s){var a=r[0],c=r[1],f=r[2],d=r[3],p=r[4],g=r[5],v=r[6],y=r[7];s===Te&&(s=.5);var S=1-s,b=S*a+s*f,C=S*c+s*d,D=S*f+s*p,N=S*d+s*g,O=S*p+s*v,P=S*g+s*y,I=S*b+s*D,x=S*C+s*N,E=S*D+s*O,M=S*N+s*P,R=S*I+s*E,L=S*x+s*M;return[[a,c,b,C,I,x,R,L],[R,L,E,M,O,P,v,y]]},getMonoCurves:function(r,s){var a=[],c=s?0:1,f=r[c+0],d=r[c+2],p=r[c+4],g=r[c+6];if(f>=d==d>=p&&d>=p==p>=g||Pe.isStraight(r))a.push(r);else{var D=[],N=_t.solveQuadratic(3*(d-p)-f+g,2*(f+p)-4*d,d-f,D,1e-8,.99999999);if(N){D.sort();var O=D[0],P=Pe.subdivide(r,O);a.push(P[0]),N>1&&(P=Pe.subdivide(P[1],O=(D[1]-O)/(1-O)),a.push(P[0])),a.push(P[1])}else a.push(r)}return a},solveCubic:function(r,s,a,c,f,d){var p=r[s],g=r[s+2],v=r[s+4],y=r[s+6],S=0;if(!(p<a&&y<a&&g<a&&v<a||p>a&&y>a&&g>a&&v>a)){var b=3*(g-p),C=3*(v-g)-b;S=_t.solveCubic(y-p-b-C,C,b,p-a,c,f,d)}return S},getTimeOf:function(r,s){var a=new ae(r[0],r[1]),c=new ae(r[6],r[7]),d=1e-7;if(null===(s.isClose(a,1e-12)?0:s.isClose(c,1e-12)?1:null))for(var g=[s.x,s.y],v=[],y=0;y<2;y++)for(var S=Pe.solveCubic(r,y,g[y],v,0,1),b=0;b<S;b++){var C=v[b];if(s.isClose(Pe.getPoint(r,C),d))return C}return s.isClose(a,d)?0:s.isClose(c,d)?1:null},getNearestTime:function(r,s){if(Pe.isStraight(r)){var a=r[0],c=r[1],p=r[6]-a,g=r[7]-c,v=p*p+g*g;if(0===v)return 0;var y=((s.x-a)*p+(s.y-c)*g)/v;return y<1e-12?0:y>.999999999999?1:Pe.getTimeOf(r,new ae(a+y*p,c+y*g))}var b=1/0,C=0;function D(P){if(P>=0&&P<=1){var I=s.getDistance(Pe.getPoint(r,P),!0);if(I<b)return b=I,C=P,!0}}for(var N=0;N<=100;N++)D(N/100);for(var O=.005;O>1e-8;)!D(C-O)&&!D(C+O)&&(O/=2);return C},getPart:function(r,s,a){var c=s>a;if(c){var f=s;s=a,a=f}return s>0&&(r=Pe.subdivide(r,s)[1]),a<1&&(r=Pe.subdivide(r,(a-s)/(1-s))[0]),c?[r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]]:r},isFlatEnough:function(r,s){var a=r[0],c=r[1],v=r[6],y=r[7],S=3*r[2]-2*a-v,b=3*r[3]-2*c-y,C=3*r[4]-2*v-a,D=3*r[5]-2*y-c;return Math.max(S*S,C*C)+Math.max(b*b,D*D)<=16*s*s},getArea:function(r){var s=r[0],a=r[1],c=r[2],f=r[3],d=r[4],p=r[5],g=r[6],v=r[7];return 3*((v-a)*(c+d)-(g-s)*(f+p)+f*(s-d)-c*(a-p)+v*(d+s/3)-g*(p+a/3))/20},getBounds:function(r){for(var s=r.slice(0,2),a=s.slice(),c=[0,0],f=0;f<2;f++)Pe._addBounds(r[f],r[f+2],r[f+4],r[f+6],f,0,s,a,c);return new tt(s[0],s[1],a[0]-s[0],a[1]-s[1])},_addBounds:function(r,s,a,c,f,d,p,g,v){function y(R,L){var F=R-L,V=R+L;F<p[f]&&(p[f]=F),V>g[f]&&(g[f]=V)}var S=p[f]+(d/=2),b=g[f]-d;if(r<S||s<S||a<S||c<S||r>b||s>b||a>b||c>b)if(s<r!=s<c&&a<r!=a<c)y(r,0),y(c,0);else{var O=_t.solveQuadratic(3*(s-a)-r+c,2*(r+a)-4*s,s-r,v);y(c,0);for(var x=0;x<O;x++){var E=v[x],M=1-E;1e-8<=E&&E<=.99999999&&y(M*M*M*r+3*M*M*E*s+3*M*E*E*a+E*E*E*c,d)}}}}},se.each(["getBounds","getStrokeBounds","getHandleBounds"],function(r){this[r]=function(){this._bounds||(this._bounds={});var s=this._bounds[r];return s||(s=this._bounds[r]=bt[r]([this._segment1,this._segment2],!1,this._path)),s.clone()}},{}),se.each({isStraight:function(r,s,a,c){if(s.isZero()&&a.isZero())return!0;var f=c.subtract(r);if(f.isZero())return!1;if(f.isCollinear(s)&&f.isCollinear(a)){var d=new un(r,c);if(d.getDistance(r.add(s))<1e-7&&d.getDistance(c.add(a))<1e-7){var g=f.dot(f),v=f.dot(s)/g,y=f.dot(a)/g;return v>=0&&v<=1&&y<=0&&y>=-1}}return!1},isLinear:function(r,s,a,c){var f=c.subtract(r).divide(3);return s.equals(f)&&a.negate().equals(f)}},function(r,s){this[s]=function(a){var c=this._segment1,f=this._segment2;return r(c._point,c._handleOut,f._handleIn,f._point,a)},this.statics[s]=function(a,c){var f=a[0],d=a[1],p=a[6],g=a[7];return r(new ae(f,d),new ae(a[2]-f,a[3]-d),new ae(a[4]-p,a[5]-g),new ae(p,g),c)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(r){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(r||0)},isCollinear:function(r){return r&&this.isStraight()&&r.isStraight()&&this.getLine().isCollinear(r.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(r,s){return this.getLocationAtTime(s?r:this.getTimeAt(r))},getLocationAtTime:function(r){return null!=r&&r>=0&&r<=1?new Fn(this,r):null},getTimeAt:function(r,s){return Pe.getTimeAt(this.getValues(),r,s)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var r=ae.read(arguments);return r.isZero()?[]:Pe.getTimesWithTangent(this.getValues(),r)},getOffsetAtTime:function(r){return this.getPartLength(0,r)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ae.read(arguments)))},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getTimeOf:function(){return Pe.getTimeOf(this.getValues(),ae.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var r=ae.read(arguments),s=this.getValues(),a=Pe.getNearestTime(s,r),c=Pe.getPoint(s,a);return new Fn(this,a,c,null,r.getDistance(c))},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()}},new function(){var r=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return se.each(r,function(s){this[s+"At"]=function(a,c){var f=this.getValues();return Pe[s](f,c?a:Pe.getTimeAt(f,a))},this[s+"AtTime"]=function(a){return Pe[s](this.getValues(),a)}},{statics:{_evaluateMethods:r}})},new function(){function r(c){var f=c[0],d=c[1],p=c[2],g=c[3],v=c[4],y=c[5],C=9*(p-v)+3*(c[6]-f),D=6*(f+v)-12*p,N=3*(p-f),O=9*(g-y)+3*(c[7]-d),P=6*(d+y)-12*g,I=3*(g-d);return function(x){var E=(C*x+D)*x+N,M=(O*x+P)*x+I;return Math.sqrt(E*E+M*M)}}function s(c,f){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(f-c))))}function a(c,f,d,p){if(null==f||f<0||f>1)return null;var g=c[0],v=c[1],y=c[2],S=c[3],b=c[4],C=c[5],D=c[6],N=c[7],O=_t.isZero;O(y-g)&&O(S-v)&&(y=g,S=v),O(b-D)&&O(C-N)&&(b=D,C=N);var L,F,P=3*(y-g),I=3*(b-y)-P,x=D-g-P-I,E=3*(S-v),M=3*(C-S)-E,R=N-v-E-M;if(0===d)L=0===f?g:1===f?D:((x*f+I)*f+P)*f+g,F=0===f?v:1===f?N:((R*f+M)*f+E)*f+v;else{var V=1e-8,z=1-V;if(f<V?(L=P,F=E):f>z?(L=3*(D-b),F=3*(N-C)):(L=(3*x*f+2*I)*f+P,F=(3*R*f+2*M)*f+E),p){0===L&&0===F&&(f<V||f>z)&&(L=b-y,F=C-S);var U=Math.sqrt(L*L+F*F);U&&(L/=U,F/=U)}if(3===d){b=6*x*f+2*I,C=6*R*f+2*M;var K=Math.pow(L*L+F*F,1.5);L=0!==K?(L*C-F*b)/K:0,F=0}}return 2===d?new ae(F,-L):new ae(L,F)}return{statics:{classify:function(c){var f=c[0],d=c[1],p=c[2],g=c[3],v=c[4],y=c[5],S=c[6],b=c[7],D=p*(d-b)+g*(S-f)+f*b-d*S,O=3*(v*(g-d)+y*(f-p)+p*d-g*f),P=O-D,I=P-D+(f*(b-y)+d*(v-S)+S*y-b*v),x=Math.sqrt(I*I+P*P+O*O),E=0!==x?1/x:0,M=_t.isZero,R="serpentine";function L(U,K,$){var q=K!==Te,W=q&&K>0&&K<1,Y=q&&$>0&&$<1;return q&&(!(W||Y)||"loop"===U&&!(W&&Y))&&(U="arch",W=Y=!1),{type:U,roots:W||Y?W&&Y?K<$?[K,$]:[$,K]:[W?K:$]:null}}if(P*=E,O*=E,M(I*=E))return M(P)?L(M(O)?"line":"quadratic"):L(R,O/(3*P));var F=3*P*P-4*I*O;if(M(F))return L("cusp",P/(2*I));var V=F>0?Math.sqrt(F/3):Math.sqrt(-F),z=2*I;return L(F>0?R:"loop",(P+V)/z,(P-V)/z)},getLength:function(c,f,d,p){if(f===Te&&(f=0),d===Te&&(d=1),Pe.isStraight(c)){var g=c;d<1&&(g=Pe.subdivide(g,d)[0],f/=d),f>0&&(g=Pe.subdivide(g,f)[1]);var v=g[6]-g[0],y=g[7]-g[1];return Math.sqrt(v*v+y*y)}return _t.integrate(p||r(c),f,d,s(f,d))},getTimeAt:function(c,f,d){if(d===Te&&(d=f<0?1:0),0===f)return d;var p=Math.abs,v=f>0,y=v?d:0,S=v?1:d,b=r(c),C=Pe.getLength(c,y,S,b),D=p(f)-C;if(p(D)<1e-12)return v?S:y;if(D>1e-12)return null;var O=0;return _t.findRoot(function P(I){return O+=_t.integrate(b,d,I,s(d,I)),d=I,O-f},b,d+f/C,y,S,32,1e-12)},getPoint:function(c,f){return a(c,f,0,!1)},getTangent:function(c,f){return a(c,f,1,!0)},getWeightedTangent:function(c,f){return a(c,f,1,!1)},getNormal:function(c,f){return a(c,f,2,!0)},getWeightedNormal:function(c,f){return a(c,f,2,!1)},getCurvature:function(c,f){return a(c,f,3,!1).x},getPeaks:function(c){var f=c[0],d=c[1],p=c[2],g=c[3],v=c[4],y=c[5],C=3*p-f-3*v+c[6],D=3*f-6*p+3*v,N=-3*f+3*p,O=3*g-d-3*y+c[7],P=3*d-6*g+3*y,I=-3*d+3*g,M=[];return _t.solveCubic(9*(C*C+O*O),9*(C*D+P*O),2*(D*D+P*P)+3*(N*C+I*O),N*D+P*I,M,1e-8,.99999999),M.sort()}}}},new function(){function r(D,N,O,P,I,x,E){var M=!E&&O.getPrevious()===I,R=!E&&O!==I&&O.getNext()===I,L=1e-8,F=1-L;if(null!==P&&P>=(M?L:0)&&P<=(R?F:1)&&null!==x&&x>=(R?L:0)&&x<=(M?F:1)){var V=new Fn(O,P,null,E),z=new Fn(I,x,null,E);V._intersection=z,z._intersection=V,(!N||N(V))&&Fn.insert(D,V,!0)}}function s(D,N,O,P,I,x,E,M,R,L,F,V,z){if(++R>=4096||++M>=40)return R;var Ne,ze,K=N[0],$=N[1],q=N[6],W=N[7],Y=un.getSignedDistance,X=Y(K,$,q,W,N[2],N[3]),ne=Y(K,$,q,W,N[4],N[5]),ce=X*ne>0?3/4:4/9,ge=ce*Math.min(0,X,ne),we=ce*Math.max(0,X,ne),ye=Y(K,$,q,W,D[0],D[1]),fe=Y(K,$,q,W,D[2],D[3]),pe=Y(K,$,q,W,D[4],D[5]),he=Y(K,$,q,W,D[6],D[7]),Ce=function a(D,N,O,P){var F,I=[0,D],x=[1/3,N],E=[2/3,O],M=[1,P],R=N-(2*D+P)/3,L=O-(D+2*P)/3;if(R*L<0)F=[[I,x,M],[I,E,M]];else{var V=R/L;F=[V>=2?[I,x,M]:V<=.5?[I,E,M]:[I,x,E,M],[I,M]]}return(R||L)<0?F.reverse():F}(ye,fe,pe,he),De=Ce[0],ke=Ce[1];if(0===X&&0===ne&&0===ye&&0===fe&&0===pe&&0===he||null==(Ne=c(De,ke,ge,we))||null==(ze=c(De.reverse(),ke.reverse(),ge,we)))return R;var Ue=L+(F-L)*Ne,Xe=L+(F-L)*ze;if(Math.max(z-V,Xe-Ue)<1e-9){var Ft=(Ue+Xe)/2,ft=(V+z)/2;r(I,x,E?P:O,E?ft:Ft,E?O:P,E?Ft:ft)}else{D=Pe.getPart(D,Ne,ze);var At=z-V;if(ze-Ne>.8)if(Xe-Ue>At)R=s(N,(mt=Pe.subdivide(D,.5))[0],P,O,I,x,!E,M,R,V,z,Ue,Ft=(Ue+Xe)/2),R=s(N,mt[1],P,O,I,x,!E,M,R,V,z,Ft,Xe);else{var mt;R=s((mt=Pe.subdivide(N,.5))[0],D,P,O,I,x,!E,M,R,V,ft=(V+z)/2,Ue,Xe),R=s(mt[1],D,P,O,I,x,!E,M,R,ft,z,Ue,Xe)}else R=0===At||At>=1e-9?s(N,D,P,O,I,x,!E,M,R,V,z,Ue,Xe):s(D,N,O,P,I,x,E,M,R,Ue,Xe,V,z)}return R}function c(D,N,O,P){return D[0][1]<O?f(D,!0,O):N[0][1]>P?f(N,!1,P):D[0][0]}function f(D,N,O){for(var P=D[0][0],I=D[0][1],x=1,E=D.length;x<E;x++){var M=D[x][0],R=D[x][1];if(N?R>=O:R<=O)return R===O?M:P+(O-I)*(M-P)/(R-I);P=M,I=R}return null}function d(D,N,O,P,I){var x=_t.isZero;if(x(P)&&x(I)){var E=Pe.getTimeOf(D,new ae(N,O));return null===E?[]:[E]}for(var M=Math.atan2(-I,P),R=Math.sin(M),L=Math.cos(M),F=[],V=[],z=0;z<8;z+=2){var U=D[z]-N,K=D[z+1]-O;F.push(U*L-K*R,U*R+K*L)}return Pe.solveCubic(F,1,0,V,0,1),V}function p(D,N,O,P,I,x,E){for(var M=N[0],R=N[1],V=d(D,M,R,N[6]-M,N[7]-R),z=0,U=V.length;z<U;z++){var K=V[z],$=Pe.getPoint(D,K),q=Pe.getTimeOf(N,$);null!==q&&r(I,x,E?P:O,E?q:K,E?O:P,E?K:q)}}function g(D,N,O,P,I,x){var E=un.intersect(D[0],D[1],D[6],D[7],N[0],N[1],N[6],N[7]);E&&r(I,x,O,Pe.getTimeOf(D,E),P,Pe.getTimeOf(N,E))}function v(D,N,O,P,I,x){var E=1e-12,M=Math.min,R=Math.max;if(R(D[0],D[2],D[4],D[6])+E>M(N[0],N[2],N[4],N[6])&&M(D[0],D[2],D[4],D[6])-E<R(N[0],N[2],N[4],N[6])&&R(D[1],D[3],D[5],D[7])+E>M(N[1],N[3],N[5],N[7])&&M(D[1],D[3],D[5],D[7])-E<R(N[1],N[3],N[5],N[7])){var L=b(D,N);if(L)for(var F=0;F<2;F++){var V=L[F];r(I,x,O,V[0],P,V[1],!0)}else{var z=Pe.isStraight(D),U=Pe.isStraight(N),K=z&&U,$=z&&!U,q=I.length;if((K?g:z||U?p:s)($?N:D,$?D:N,$?P:O,$?O:P,I,x,$,0,0,0,1,0,1),!K||I.length===q)for(F=0;F<4;F++){var W=F>>1,Y=1&F,X=6*W,ne=6*Y,ce=new ae(D[X],D[X+1]),ge=new ae(N[ne],N[ne+1]);ce.isClose(ge,E)&&r(I,x,O,W,P,Y)}}}return I}function y(D,N,O,P){var I=Pe.classify(D);if("loop"===I.type){var x=I.roots;r(O,P,N,x[0],N,x[1])}return O}function b(D,N){function O(he){var Ce=he[6]-he[0],De=he[7]-he[1];return Ce*Ce+De*De}var P=Math.abs,I=un.getDistance,E=1e-7,M=Pe.isStraight(D),R=Pe.isStraight(N),L=M&&R,F=O(D)<O(N),V=F?N:D,z=F?D:N,U=V[0],K=V[1],$=V[6]-U,q=V[7]-K;if(I(U,K,$,q,z[0],z[1],!0)<E&&I(U,K,$,q,z[6],z[7],!0)<E)!L&&I(U,K,$,q,V[2],V[3],!0)<E&&I(U,K,$,q,V[4],V[5],!0)<E&&I(U,K,$,q,z[2],z[3],!0)<E&&I(U,K,$,q,z[4],z[5],!0)<E&&(M=R=L=!0);else if(L)return null;if(M^R)return null;for(var W=[D,N],Y=[],X=0;X<4&&Y.length<2;X++){var ne=1&X,ce=1^ne,ge=X>>1,we=Pe.getTimeOf(W[ne],new ae(W[ce][ge?6:0],W[ce][ge?7:1]));if(null!=we){var ye=ne?[ge,we]:[we,ge];(!Y.length||P(ye[0]-Y[0][0])>1e-8&&P(ye[1]-Y[0][1])>1e-8)&&Y.push(ye)}if(X>2&&!Y.length)break}if(2!==Y.length)Y=null;else if(!L){var fe=Pe.getPart(D,Y[0][0],Y[1][0]),pe=Pe.getPart(N,Y[0][1],Y[1][1]);(P(pe[2]-fe[2])>E||P(pe[3]-fe[3])>E||P(pe[4]-fe[4])>E||P(pe[5]-fe[5])>E)&&(Y=null)}return Y}return{getIntersections:function(D){var N=this.getValues(),O=D&&D!==this&&D.getValues();return O?v(N,O,this,D,[]):y(N,this,[])},statics:{getOverlaps:b,getIntersections:function S(D,N,O,P,I,x){var M=!N;M&&(N=D);for(var R=D.length,L=N.length,F=new Array(R),V=M?F:new Array(L),z=[],U=0;U<R;U++)F[U]=D[U].getValues(P);if(!M)for(U=0;U<L;U++)V[U]=N[U].getValues(I);for(var K=pn.findCurveBoundsCollisions(F,V,1e-7),$=0;$<R;$++){var q=D[$],W=F[$];M&&y(W,q,z,O);var Y=K[$];if(Y)for(var X=0;X<Y.length;X++){if(x&&z.length)return z;var ne=Y[X];(!M||ne>$)&&v(W,V[ne],q,N[ne],z,O)}}return z},getCurveLineIntersections:d,getTimesWithTangent:function C(D,N){var O=D[0],P=D[1],I=D[2],x=D[3],E=D[4],M=D[5],R=D[6],L=D[7],F=N.normalize(),V=F.x,z=F.y,U=3*R-9*E+9*I-3*O,K=3*L-9*M+9*x-3*P,$=6*E-12*I+6*O,q=6*M-12*x+6*P,W=3*I-3*O,Y=3*x-3*P,X=2*U*z-2*K*V,ne=[];if(Math.abs(X)<_t.CURVETIME_EPSILON){if(0!=(X=U*q-K*$)){var ge=-(U*Y-K*W)/X;ge>=0&&ge<=1&&ne.push(ge)}}else{var we=($*$-4*U*W)*z*z+(-2*$*q+4*K*W+4*U*Y)*V*z+(q*q-4*K*Y)*V*V,ye=$*z-q*V;if(we>=0&&0!=X){var fe=Math.sqrt(we),pe=-(ye+fe)/X,he=(-ye+fe)/X;pe>=0&&pe<=1&&ne.push(pe),he>=0&&he<=1&&ne.push(he)}}return ne}}}}),Fn=se.extend({_class:"CurveLocation",initialize:function(s,a,c,f,d){if(a>=.99999999){var p=s.getNext();p&&(a=0,s=p)}this._setCurve(s),this._time=a,this._point=c||s.getPointAtTime(a),this._overlap=f,this._distance=d,this._intersection=this._next=this._previous=null},_setPath:function(r){this._path=r,this._version=r?r._version:0},_setCurve:function(r){this._setPath(r._path),this._curve=r,this._segment=null,this._segment1=r._segment1,this._segment2=r._segment2},_setSegment:function(r){var s=r.getCurve();s?this._setCurve(s):(this._setPath(r._path),this._segment1=r,this._segment2=null),this._segment=r,this._time=r===this._segment1?0:1,this._point=r._point.clone()},getSegment:function(){var r=this._segment;if(!r){var s=this.getCurve(),a=this.getTime();0===a?r=s._segment1:1===a?r=s._segment2:null!=a&&(r=s.getPartLength(0,a)<s.getPartLength(a,1)?s._segment1:s._segment2),this._segment=r}return r},getCurve:function(){var r=this._path,s=this;function a(c){var f=c&&c.getCurve();if(f&&null!=(s._time=f.getTimeOf(s._point)))return s._setCurve(f),f}return r&&r._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||a(this._segment)||a(this._segment1)||a(this._segment2.getPrevious())},getPath:function(){var r=this.getCurve();return r&&r._path},getIndex:function(){var r=this.getCurve();return r&&r.getIndex()},getTime:function(){var r=this.getCurve(),s=this._time;return r&&null==s?this._time=r.getTimeOf(this._point):s},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var r=this._offset;if(null==r){r=0;var s=this.getPath(),a=this.getIndex();if(s&&null!=a)for(var c=s.getCurves(),f=0;f<a;f++)r+=c[f].getLength();this._offset=r+=this.getCurveOffset()}return r},getCurveOffset:function(){var r=this._curveOffset;if(null==r){var s=this.getCurve(),a=this.getTime();this._curveOffset=r=null!=a&&s&&s.getPartLength(0,a)}return r},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var r=this.getCurve(),s=r&&r.divideAtTime(this.getTime());return s&&this._setSegment(s._segment1),s},split:function(){var r=this.getCurve(),s=r._path,a=r&&r.splitAtTime(this.getTime());return a&&this._setSegment(s.getLastSegment()),a},equals:function(r,s){var a=this===r;if(!a&&r instanceof Fn){var c=this.getCurve(),f=r.getCurve(),d=c._path;if(d===f._path){var g=Math.abs,y=g(this.getOffset()-r.getOffset()),S=!s&&this._intersection,b=!s&&r._intersection;a=(y<1e-7||d&&g(d.getLength()-y)<1e-7)&&(!S&&!b||S&&b&&S.equals(b,!0))}}return a},toString:function(){var r=[],s=this.getPoint(),a=je.instance;s&&r.push("point: "+s);var c=this.getIndex();null!=c&&r.push("index: "+c);var f=this.getTime();return null!=f&&r.push("time: "+a.number(f)),null!=this._distance&&r.push("distance: "+a.number(this._distance)),"{ "+r.join(", ")+" }"},isTouching:function(){var r=this._intersection;if(r&&this.getTangent().isCollinear(r.getTangent())){var s=this.getCurve(),a=r.getCurve();return!(s.isStraight()&&a.isStraight()&&s.getLine().intersect(a.getLine()))}return!1},isCrossing:function(){var r=this._intersection;if(!r)return!1;var s=this.getTime(),a=r.getTime(),c=1e-8,f=1-c,d=s>=c&&s<=f,p=a>=c&&a<=f;if(d&&p)return!this.isTouching();var g=this.getCurve(),v=g&&s<c?g.getPrevious():g,y=r.getCurve(),S=y&&a<c?y.getPrevious():y;if(s>f&&(g=g.getNext()),a>f&&(y=y.getNext()),!(v&&g&&S&&y))return!1;var b=[];function C(V,z){var U=V.getValues(),K=Pe.classify(U).roots||Pe.getPeaks(U),$=K.length,q=Pe.getLength(U,z&&$?K[$-1]:0,!z&&$?K[0]:1);b.push($?q:q/32)}function D(V,z,U){return z<U?V>z&&V<U:V>z||V<U}d||(C(v,!0),C(g,!1)),p||(C(S,!0),C(y,!1));var N=this.getPoint(),O=Math.min.apply(Math,b),P=d?g.getTangentAtTime(s):g.getPointAt(O).subtract(N),I=d?P.negate():v.getPointAt(-O).subtract(N),x=p?y.getTangentAtTime(a):y.getPointAt(O).subtract(N),E=p?x.negate():S.getPointAt(-O).subtract(N),M=I.getAngle(),R=P.getAngle(),L=E.getAngle(),F=x.getAngle();return!!(d?D(M,L,F)^D(R,L,F)&&D(M,F,L)^D(R,F,L):D(L,M,R)^D(F,M,R)&&D(L,R,M)^D(F,R,M))},hasOverlap:function(){return!!this._overlap}},se.each(Pe._evaluateMethods,function(r){var s=r+"At";this[r]=function(){var a=this.getCurve(),c=this.getTime();return null!=c&&a&&a[s](c,!0)}},{preserve:!0}),new function(){function r(s,a,c){var f=s.length,d=0,p=f-1;function g(N,O){for(var P=N+O;P>=-1&&P<=f;P+=O){var I=s[(P%f+f)%f];if(!a.getPoint().isClose(I.getPoint(),1e-7))break;if(a.equals(I))return I}return null}for(;d<=p;){var S,v=d+p>>>1,y=s[v];if(c&&(S=a.equals(y)?y:g(v,-1)||g(v,1)))return a._overlap&&(S._overlap=S._intersection._overlap=!0),S;var b=a.getPath(),C=y.getPath();(b!==C?b._id-C._id:a.getIndex()+a.getTime()-(y.getIndex()+y.getTime()))<0?p=v-1:d=v+1}return s.splice(d,0,a),a}return{statics:{insert:r,expand:function(s){for(var a=s.slice(),c=s.length-1;c>=0;c--)r(a,s[c]._intersection,!1);return a}}}}),ht=et.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(r){var s,a,c;if(se.isPlainObject(r)?(a=r.segments,s=r.pathData):Array.isArray(r)?a=r:"string"==typeof r&&(s=r),a){var f=a[0];c=f&&Array.isArray(f[0])}else s&&(c=(s.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(s));return new(c?ai:bt)(r)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(r){this.isClockwise()!=(r=!!r)&&this.reverse()},setPathData:function(r){var a,f,d,s=r&&r.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),c=!1,p=new ae,g=new ae;function v(E,M){var R=+a[E];return c&&(R+=p[M]),R}function y(E){return new ae(v(E,"x"),v(E+1,"y"))}this.clear();for(var S=0,b=s&&s.length;S<b;S++){var C=s[S],D=C[0],N=D.toLowerCase(),O=(a=C.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&a.length;switch(c=D===N,"z"===f&&!/[mz]/.test(N)&&this.moveTo(p),N){case"m":case"l":for(var P="m"===N,I=0;I<O;I+=2)this[P?"moveTo":"lineTo"](p=y(I)),P&&(g=p,P=!1);d=p;break;case"h":case"v":var x="h"===N?"x":"y";for(p=p.clone(),I=0;I<O;I++)p[x]=v(I,x),this.lineTo(p);d=p;break;case"c":for(I=0;I<O;I+=6)this.cubicCurveTo(y(I),d=y(I+2),p=y(I+4));break;case"s":for(I=0;I<O;I+=4)this.cubicCurveTo(/[cs]/.test(f)?p.multiply(2).subtract(d):p,d=y(I),p=y(I+2)),f=N;break;case"q":for(I=0;I<O;I+=4)this.quadraticCurveTo(d=y(I),p=y(I+2));break;case"t":for(I=0;I<O;I+=2)this.quadraticCurveTo(d=/[qt]/.test(f)?p.multiply(2).subtract(d):p,p=y(I)),f=N;break;case"a":for(I=0;I<O;I+=7)this.arcTo(p=y(I+5),new Ae(+a[I],+a[I+1]),+a[I+2],+a[I+4],+a[I+3]);break;case"z":this.closePath(1e-12),p=g}f=N}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(r){var s=r.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(r):{};return s.onPath||!!("evenodd"===this.getFillRule()?1&s.windingL||1&s.windingR:s.winding)},getIntersections:function(r,s,a,c){var f=this===r||!r,d=this._matrix._orNullIfIdentity(),p=f?d:(a||r._matrix)._orNullIfIdentity();return f||this.getBounds(d).intersects(r.getBounds(p),1e-12)?Pe.getIntersections(this.getCurves(),!f&&r.getCurves(),s,d,p,c):[]},getCrossings:function(r){return this.getIntersections(r,function(s){return s.isCrossing()})},getNearestLocation:function(){for(var r=ae.read(arguments),s=this.getCurves(),a=1/0,c=null,f=0,d=s.length;f<d;f++){var p=s[f].getNearestLocation(r);p._distance<a&&(a=p._distance,c=p)}return c},getNearestPoint:function(){var r=this.getNearestLocation.apply(this,arguments);return r&&r.getPoint()},interpolate:function(r,s,a){var c=!this._children,f=c?"_segments":"_children",d=r[f],p=s[f],g=this[f];if(!d||!p||d.length!==p.length)throw new Error("Invalid operands in interpolate() call: "+r+", "+s);var v=g.length,y=p.length;if(v<y)for(var S=c?ot:bt,b=v;b<y;b++)this.add(new S);else v>y&&this[c?"removeSegments":"removeChildren"](y,v);for(b=0;b<y;b++)g[b].interpolate(d[b],p[b],a);c&&(this.setClosed(r._closed),this._changed(9))},compare:function(r){var s=!1;if(r){var a=this._children||[this],c=r._children?r._children.slice():[r],f=a.length,d=c.length,p=[],g=0;s=!0;for(var v=pn.findItemBoundsCollisions(a,c,_t.GEOMETRIC_EPSILON),y=f-1;y>=0&&s;y--){var S=a[y];s=!1;var b=v[y];if(b)for(var C=b.length-1;C>=0&&!s;C--)S.compare(c[b[C]])&&(p[b[C]]||(p[b[C]]=!0,g++),s=!0)}s=s&&g===d}return s}}),bt=ht.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(s){this._closed=!1,this._segments=[],this._version=0;var a=arguments,c=Array.isArray(s)?"object"==typeof s[0]?s:a:!s||s.size!==Te||s.x===Te&&s.point===Te?null:a;c&&c.length>0?this.setSegments(c):(this._curves=Te,this._segmentSelection=0,!c&&"string"==typeof s&&(this.setPathData(s),s=null)),this._initialize(!c&&s)},_equals:function(r){return this._closed===r._closed&&se.equals(this._segments,r._segments)},copyContent:function(r){this.setSegments(r._segments),this._closed=r._closed},_changed:function r(s){if(r.base.call(this,s),8&s){if(this._length=this._area=Te,32&s)this._version++;else if(this._curves)for(var a=0,c=this._curves.length;a<c;a++)this._curves[a]._changed()}else 64&s&&(this._bounds=Te)},getStyle:function(){var r=this._parent;return(r instanceof ai?r:this)._style},getSegments:function(){return this._segments},setSegments:function(r){var s=this.isFullySelected(),a=r&&r.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=Te,a){var c=r[a-1];"boolean"==typeof c&&(this.setClosed(c),a--),this._add(ot.readList(r,0,{},a))}s&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var r=this._curves,s=this._segments;if(!r){var a=this._countCurves();r=this._curves=new Array(a);for(var c=0;c<a;c++)r[c]=new Pe(this,s[c],s[c+1]||s[0])}return r},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var r=this.getCurves();return r[r.length-1]},isClosed:function(){return this._closed},setClosed:function(r){if(this._closed!=(r=!!r)){if(this._closed=r,this._curves){var s=this._curves.length=this._countCurves();r&&(this._curves[s-1]=new Pe(this,this._segments[s-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(r,s){var g,v,y,S,b,C,D,N,a=this._segments,c=a.length,f=new je(s),d=new Array(6),p=!0,O=[];function P(x,E){if(x._transformCoordinates(r,d),g=d[0],v=d[1],p)O.push("M"+f.pair(g,v)),p=!1;else if(C=d[3],(b=d[2])===g&&C===v&&D===y&&N===S){if(!E){var M=g-y,R=v-S;O.push(0===M?"v"+f.number(R):0===R?"h"+f.number(M):"l"+f.pair(M,R))}}else O.push("c"+f.pair(D-y,N-S)+" "+f.pair(b-y,C-S)+" "+f.pair(g-y,v-S));y=g,S=v,D=d[4],N=d[5]}if(!c)return"";for(var I=0;I<c;I++)P(a[I]);return this._closed&&c>0&&(P(a[0],!0),O.push("z")),O.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(r){for(var s=this._segments,a=new Array(6),c=0,f=s.length;c<f;c++)s[c]._transformCoordinates(r,a,!0);return!0},_add:function(r,p){for(var a=this._segments,c=this._curves,f=r.length,d=null==p,g=(p=d?a.length:p,0);g<f;g++){var v=r[g];v._path&&(v=r[g]=v.clone()),v._path=this,v._index=p+g,v._selection&&this._updateSelection(v,0,v._selection)}if(d)se.push(a,r);else{a.splice.apply(a,[p,0].concat(r)),g=p+f;for(var y=a.length;g<y;g++)a[g]._index=g}if(c){var S=this._countCurves(),b=p>0&&p+f-1===S?p-1:p,C=b,D=Math.min(b+f,S);for(r._curves&&(c.splice.apply(c,[b,0].concat(r._curves)),C+=r._curves.length),g=C;g<D;g++)c.splice(g,0,new Pe(this,null,null));this._adjustCurves(b,D)}return this._changed(41),r},_adjustCurves:function(r,s){for(var f,a=this._segments,c=this._curves,d=r;d<s;d++)(f=c[d])._path=this,f._segment1=a[d],f._segment2=a[d+1]||a[0],f._changed();(f=c[this._closed&&!r?a.length-1:r-1])&&(f._segment2=a[r]||a[0],f._changed()),(f=c[s])&&(f._segment1=a[s],f._changed())},_countCurves:function(){var r=this._segments.length;return!this._closed&&r>0?r-1:r},add:function(r){var s=arguments;return s.length>1&&"number"!=typeof r?this._add(ot.readList(s)):this._add([ot.read(s)])[0]},insert:function(r,s){var a=arguments;return a.length>2&&"number"!=typeof s?this._add(ot.readList(a,1),r):this._add([ot.read(a,1)],r)[0]},addSegment:function(){return this._add([ot.read(arguments)])[0]},insertSegment:function(r){return this._add([ot.read(arguments,1)],r)[0]},addSegments:function(r){return this._add(ot.readList(r))},insertSegments:function(r,s){return this._add(ot.readList(s),r)},removeSegment:function(r){return this.removeSegments(r,r+1)[0]||null},removeSegments:function(r,s,a){r=r||0,s=se.pick(s,this._segments.length);var c=this._segments,f=this._curves,d=c.length,p=c.splice(r,s-r),g=p.length;if(!g)return p;for(var v=0;v<g;v++){var y=p[v];y._selection&&this._updateSelection(y,y._selection,0),y._index=y._path=null}v=r;for(var S=c.length;v<S;v++)c[v]._index=v;if(f){var b=r>0&&s===d+(this._closed?1:0)?r-1:r;for(v=(f=f.splice(b,g)).length-1;v>=0;v--)f[v]._path=null;a&&(p._curves=f.slice(1)),this._adjustCurves(b,b)}return this._changed(41),p},clear:"#removeSegments",hasHandles:function(){for(var r=this._segments,s=0,a=r.length;s<a;s++)if(r[s].hasHandles())return!0;return!1},clearHandles:function(){for(var r=this._segments,s=0,a=r.length;s<a;s++)r[s].clearHandles()},getLength:function(){if(null==this._length){for(var r=this.getCurves(),s=0,a=0,c=r.length;a<c;a++)s+=r[a].getLength();this._length=s}return this._length},getArea:function(){var r=this._area;if(null==r){var s=this._segments,a=this._closed;r=0;for(var c=0,f=s.length;c<f;c++){var d=c+1===f;r+=Pe.getArea(Pe.getValues(s[c],s[d?0:c+1],null,d&&!a))}this._area=r}return r},isFullySelected:function(){var r=this._segments.length;return this.isSelected()&&r>0&&this._segmentSelection===7*r},setFullySelected:function(r){r&&this._selectSegments(!0),this.setSelected(r)},setSelection:function r(s){1&s||this._selectSegments(!1),r.base.call(this,s)},_selectSegments:function(r){var s=this._segments,a=s.length,c=r?7:0;this._segmentSelection=c*a;for(var f=0;f<a;f++)s[f]._selection=c},_updateSelection:function(r,s,a){r._selection=a,(this._segmentSelection+=a-s)>0&&this.setSelected(!0)},divideAt:function(r){var a,s=this.getLocationAt(r);return s&&(a=s.getCurve().divideAt(s.getCurveOffset()))?a._segment1:null},splitAt:function(r){var s=this.getLocationAt(r),a=s&&s.index,c=s&&s.time;c>.99999999&&(a++,c=0);var p=this.getCurves();if(a>=0&&a<p.length){c>=1e-8&&p[a++].divideAtTime(c);var v,g=this.removeSegments(a,this._segments.length,!0);return this._closed?(this.setClosed(!1),v=this):((v=new bt(et.NO_INSERT)).insertAbove(this),v.copyAttributes(this)),v._add(g,0),this.addSegment(g[0]),v}return null},split:function(r,s){var a,c=s===Te?r:(a=this.getCurves()[r])&&a.getLocationAtTime(s);return null!=c?this.splitAt(c):null},join:function(r,s){var a=s||0;if(r&&r!==this){var c=r._segments,f=this.getLastSegment(),d=r.getLastSegment();if(!d)return this;f&&f._point.isClose(d._point,a)&&r.reverse();var p=r.getFirstSegment();if(f&&f._point.isClose(p._point,a))f.setHandleOut(p._handleOut),this._add(c.slice(1));else{var g=this.getFirstSegment();g&&g._point.isClose(p._point,a)&&r.reverse(),d=r.getLastSegment(),g&&g._point.isClose(d._point,a)?(g.setHandleIn(d._handleIn),this._add(c.slice(0,c.length-1),0)):this._add(c.slice())}r._closed&&this._add([c[0]]),r.remove()}var v=this.getFirstSegment(),y=this.getLastSegment();return v!==y&&v._point.isClose(y._point,a)&&(v.setHandleIn(y._handleIn),y.remove(),this.setClosed(!0)),this},reduce:function(r){for(var s=this.getCurves(),a=r&&r.simplify,c=a?1e-7:0,f=s.length-1;f>=0;f--){var d=s[f];!d.hasHandles()&&(!d.hasLength(c)||a&&d.isCollinear(d.getNext()))&&d.remove()}return this},reverse:function(){this._segments.reverse();for(var r=0,s=this._segments.length;r<s;r++){var a=this._segments[r],c=a._handleIn;a._handleIn=a._handleOut,a._handleOut=c,a._index=r}this._curves=null,this._changed(9)},flatten:function(r){for(var a=new gn(this,r||.25,256,!0).parts,c=a.length,f=[],d=0;d<c;d++)f.push(new ot(a[d].curve.slice(0,2)));!this._closed&&c>0&&f.push(new ot(a[c-1].curve.slice(6))),this.setSegments(f)},simplify:function(r){var s=new Xt(this).fit(r||2.5);return s&&this.setSegments(s),!!s},smooth:function(r){var s=this,a=r||{},c=a.type||"asymmetric",f=this._segments,d=f.length,p=this._closed;function g(De,ke){var Ne=De&&De.index;if(null!=Ne){var ze=De.path;if(ze&&ze!==s)throw new Error(De._class+" "+Ne+" of "+ze+" is not part of "+s);ke&&De instanceof Pe&&Ne++}else Ne="number"==typeof De?De:ke;return Math.min(Ne<0&&p?Ne%d:Ne<0?Ne+d:Ne,d-1)}var v=p&&a.from===Te&&a.to===Te,y=g(a.from,0),S=g(a.to,d-1);if(y>S)if(p)y-=d;else{var b=y;y=S,S=b}if(/^(?:asymmetric|continuous)$/.test(c)){var C="asymmetric"===c,D=Math.min,N=S-y+1,O=N-1,P=v?D(N,4):1,I=P,x=P,E=[];if(p||(I=D(1,y),x=D(1,d-S-1)),(O+=I+x)<=1)return;for(var M=0,R=y-I;M<=O;M++,R++)E[M]=f[(R<0?R+d:R)%d]._point;var L=E[0]._x+2*E[1]._x,F=E[0]._y+2*E[1]._y,V=2,z=O-1,U=[L],K=[F],$=[V],q=[],W=[];for(M=1;M<O;M++){var Y=M<z,ce=Y?4:C?3:8,ge=Y?2:C?0:1,we=(Y||C?1:2)/V;V=$[M]=(Y?4:C?2:7)-we,L=U[M]=ce*E[M]._x+ge*E[M+1]._x-we*L,F=K[M]=ce*E[M]._y+ge*E[M+1]._y-we*F}for(q[z]=U[z]/$[z],W[z]=K[z]/$[z],M=O-2;M>=0;M--)q[M]=(U[M]-q[M+1])/$[M],W[M]=(K[M]-W[M+1])/$[M];q[O]=(3*E[O]._x-q[z])/2,W[O]=(3*E[O]._y-W[z])/2,M=I;var ye=O-x;for(R=y;M<=ye;M++,R++){var fe=f[R<0?R+d:R],pe=fe._point,he=q[M]-pe._x,Ce=W[M]-pe._y;(v||M<ye)&&fe.setHandleOut(he,Ce),(v||M>I)&&fe.setHandleIn(-he,-Ce)}}else for(M=y;M<=S;M++)f[M<0?M+d:M].smooth(a,!v&&M===y,!v&&M===S)},toShape:function(r){if(!this._closed)return null;var a,c,f,d,s=this._segments;function p(C,D){var N=s[C],O=N.getNext(),P=s[D],I=P.getNext();return N._handleOut.isZero()&&O._handleIn.isZero()&&P._handleOut.isZero()&&I._handleIn.isZero()&&O._point.subtract(N._point).isCollinear(I._point.subtract(P._point))}function v(C){var D=s[C],N=D.getNext(),O=D._handleOut,P=N._handleIn,I=.5522847498307936;if(O.isOrthogonal(P)){var x=D._point,E=N._point,M=new un(x,O,!0).intersect(new un(E,P,!0),!0);return M&&_t.isZero(O.getLength()/M.subtract(x).getLength()-I)&&_t.isZero(P.getLength()/M.subtract(E).getLength()-I)}return!1}function y(C,D){return s[C]._point.getDistance(s[D]._point)}if(!this.hasHandles()&&4===s.length&&p(0,2)&&p(1,3)&&function g(C){var D=s[C],N=D.getPrevious(),O=D.getNext();return N._handleOut.isZero()&&D._handleIn.isZero()&&D._handleOut.isZero()&&O._handleIn.isZero()&&D._point.subtract(N._point).isOrthogonal(O._point.subtract(D._point))}(1)?(a=Cn.Rectangle,c=new Ae(y(0,3),y(0,1)),d=s[1]._point.add(s[2]._point).divide(2)):8===s.length&&v(0)&&v(2)&&v(4)&&v(6)&&p(1,5)&&p(3,7)?(a=Cn.Rectangle,f=(c=new Ae(y(1,6),y(0,3))).subtract(new Ae(y(0,7),y(1,2))).divide(2),d=s[3]._point.add(s[4]._point).divide(2)):4===s.length&&v(0)&&v(1)&&v(2)&&v(3)&&(_t.isZero(y(0,2)-y(1,3))?(a=Cn.Circle,f=y(0,2)/2):(a=Cn.Ellipse,f=new Ae(y(2,0)/2,y(3,1)/2)),d=s[1]._point),a){var S=this.getPosition(!0),b=new a({center:S,size:c,radius:f,insert:!1});return b.copyAttributes(this,!0),b._matrix.prepend(this._matrix),b.rotate(d.subtract(S).getAngle()+90),(r===Te||r)&&b.insertAbove(this),b}return null},toPath:"#clone",compare:function r(s){if(!s||s instanceof ai)return r.base.call(this,s);var a=this.getCurves(),c=s.getCurves(),f=a.length,d=c.length;if(!f||!d)return f==d;for(var y,b,p=a[0].getValues(),g=[],v=0,S=0,C=0;C<d;C++){var P=c[C].getValues();if(g.push(P),D=Pe.getOverlaps(p,P)){y=!C&&D[0][0]>0?d-1:C,b=D[0][1];break}}var I,N=Math.abs;for(P=g[y];p&&P;){var D;if((D=Pe.getOverlaps(p,P))&&N(D[0][0]-S)<1e-8){1===(S=D[1][0])&&(p=++v<f?a[v].getValues():null,S=0);var E=D[0][1];if(N(E-b)<1e-8){if(I||(I=[y,E]),1===(b=D[1][1])&&(++y>=d&&(y=0),P=g[y]||c[y].getValues(),b=0),!p)return I[0]===y&&I[1]===b;continue}}break}return!1},_hitTestSelf:function(r,s,a,c){var b,C,D,N,O,P,f=this,d=this.getStyle(),p=this._segments,g=p.length,v=this._closed,y=s._tolerancePadding,S=y,I=s.stroke&&d.hasStroke(),x=s.fill&&d.hasFill(),E=s.curves,M=I?d.getStrokeWidth()/2:x&&s.tolerance>0||E?0:null;function R(q,W){return r.subtract(q).divide(W).length<=1}function L(q,W,Y){if(!s.selected||W.isSelected()){var X=q._point;if(W!==X&&(W=W.add(X)),R(W,S))return new Fe(Y,f,{segment:q,point:W})}}function F(q,W){return(W||s.segments)&&L(q,q._point,"segment")||!W&&s.handles&&(L(q,q._handleIn,"handle-in")||L(q,q._handleOut,"handle-out"))}function V(q){N.add(q)}function z(q){var Y,W=v||q._index>0&&q._index<g-1;return"round"===(W?b:C)?R(q._point,S):(N=new bt({internal:!0,closed:!0}),W?q.isSmooth()||bt._addBevelJoin(q,b,M,D,null,c,V,!0):"square"===C&&bt._addSquareCap(q,C,M,null,c,V,!0),N.isEmpty()?void 0:N.contains(r)||(Y=N.getNearestLocation(r))&&R(Y.getPoint(),y))}if(null!==M&&(M>0?(b=d.getStrokeJoin(),C=d.getStrokeCap(),D=d.getMiterLimit(),S=S.add(bt._getStrokePadding(M,c))):b=C="round"),!s.ends||s.segments||v){if(s.segments||s.handles)for(var U=0;U<g;U++)if(P=F(p[U]))return P}else if(P=F(p[0],!0)||F(p[g-1],!0))return P;if(null!==M){if(O=this.getNearestLocation(r)){var K=O.getTime();0===K||1===K&&g>1?z(O.getSegment())||(O=null):R(O.getPoint(),S)||(O=null)}if(!O&&"miter"===b&&g>1)for(U=0;U<g;U++){var $=p[U];if(r.getDistance($._point)<=D*M&&z($)){O=$.getLocation();break}}}return!O&&x&&this._contains(r)||O&&!I&&!E?new Fe("fill",this):O?new Fe(I?"stroke":"curve",this,{location:O,point:O.getPoint()}):null}},se.each(Pe._evaluateMethods,function(r){this[r+"At"]=function(s){var a=this.getLocationAt(s);return a&&a[r]()}},{beans:!1,getLocationOf:function(){for(var r=ae.read(arguments),s=this.getCurves(),a=0,c=s.length;a<c;a++){var f=s[a].getLocationOf(r);if(f)return f}return null},getOffsetOf:function(){var r=this.getLocationOf.apply(this,arguments);return r?r.getOffset():null},getLocationAt:function(r){if("number"==typeof r){for(var s=this.getCurves(),a=0,c=0,f=s.length;c<f;c++){var d=a,p=s[c];if((a+=p.getLength())>r)return p.getLocationAt(r-d)}if(s.length>0&&r<=this.getLength())return new Fn(s[s.length-1],1)}else if(r&&r.getPath&&r.getPath()===this)return r;return null},getOffsetsWithTangent:function(){var r=ae.read(arguments);if(r.isZero())return[];for(var s=[],a=0,c=this.getCurves(),f=0,d=c.length;f<d;f++){for(var p=c[f],g=p.getTimesWithTangent(r),v=0,y=g.length;v<y;v++){var S=a+p.getOffsetAtTime(g[v]);s.indexOf(S)<0&&s.push(S)}a+=p.length}return s}}),new function(){function s(a,c,f){var y,S,b,C,D,N,O,P,d=c._segments,p=d.length,g=new Array(6),v=!0;function I(E){if(f)E._transformCoordinates(f,g),y=g[0],S=g[1];else{var M=E._point;y=M._x,S=M._y}var R;v?(a.moveTo(y,S),v=!1):(f?(D=g[2],N=g[3]):(D=y+(R=E._handleIn)._x,N=S+R._y),D===y&&N===S&&O===b&&P===C?a.lineTo(y,S):a.bezierCurveTo(O,P,D,N,y,S)),b=y,C=S,f?(O=g[4],P=g[5]):(O=b+(R=E._handleOut)._x,P=C+R._y)}for(var x=0;x<p;x++)I(d[x]);c._closed&&p>0&&I(d[0])}return{_draw:function(a,c,f,d){var p=c.dontStart,g=c.dontFinish||c.clip,v=this.getStyle(),y=v.hasFill(),S=v.hasStroke(),b=v.getDashArray(),C=!u.support.nativeDash&&S&&b&&b.length;function D(E){return b[(E%C+C)%C]}if(p||a.beginPath(),(y||S&&!C||g)&&(s(a,this,d),this._closed&&a.closePath()),!g&&(y||S)&&(this._setStyles(a,c,f),y&&(a.fill(v.getFillRule()),a.shadowColor="rgba(0,0,0,0)"),S)){if(C){p||a.beginPath();for(var I,N=new gn(this,.25,32,!1,d),O=N.length,P=-v.getDashOffset(),x=0;P>0;)P-=D(x--)+D(x--);for(;P<O;)I=P+D(x++),(P>0||I>0)&&N.drawPart(a,Math.max(P,0),Math.max(I,0)),P=I+D(x++)}a.stroke()}},_drawSelected:function(a,c){a.beginPath(),s(a,this,c),a.stroke(),function r(a,c,f,d){if(!(d<=0))for(var S,b,p=d/2,g=d-2,v=p-1,y=new Array(6),D=0,N=c.length;D<N;D++){var O=c[D],P=O._selection;if(O._transformCoordinates(f,y),S=y[0],b=y[1],2&P&&C(2),4&P&&C(4),a.fillRect(S-p,b-p,d,d),g>0&&!(1&P)){var I=a.fillStyle;a.fillStyle="#ffffff",a.fillRect(S-v,b-v,g,g),a.fillStyle=I}}function C(x){var E=y[x],M=y[x+1];(S!=E||b!=M)&&(a.beginPath(),a.moveTo(S,b),a.lineTo(E,M),a.stroke(),a.beginPath(),a.arc(E,M,p,0,2*Math.PI,!0),a.fill())}}(a,this._segments,c,u.settings.handleSize)}}},new function(){function r(s){var a=s._segments;if(!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return{moveTo:function(){var s=this._segments;1===s.length&&this.removeSegment(0),s.length||this._add([new ot(ae.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ot(ae.read(arguments))])},cubicCurveTo:function(){var s=arguments,a=ae.read(s),c=ae.read(s),f=ae.read(s),d=r(this);d.setHandleOut(a.subtract(d._point)),this._add([new ot(f,c.subtract(f))])},quadraticCurveTo:function(){var s=arguments,a=ae.read(s),c=ae.read(s),f=r(this)._point;this.cubicCurveTo(a.add(f.subtract(a).multiply(1/3)),a.add(c.subtract(a).multiply(1/3)),c)},curveTo:function(){var s=arguments,a=ae.read(s),c=ae.read(s),f=se.pick(se.read(s),.5),d=1-f,p=r(this)._point,g=a.subtract(p.multiply(d*d)).subtract(c.multiply(f*f)).divide(2*f*d);if(g.isNaN())throw new Error("Cannot put a curve through points with parameter = "+f);this.quadraticCurveTo(g,c)},arcTo:function(){var S,b,C,D,s=arguments,a=Math.abs,c=Math.sqrt,f=r(this),d=f._point,p=ae.read(s),v=se.peek(s);if("boolean"==typeof(y=se.pick(v,!0)))var g=(N=d.add(p).divide(2)).add(N.subtract(d).rotate(y?-90:90));else if(se.remain(s)<=2)g=p,p=ae.read(s);else if(!d.equals(p)){var O=Ae.read(s),P=_t.isZero;if(P(O.width)||P(O.height))return this.lineTo(p);var I=se.read(s),y=!!se.read(s),x=!!se.read(s),N=d.add(p).divide(2),M=(E=d.subtract(N).rotate(-I)).x,R=E.y,L=a(O.width),F=a(O.height),V=L*L,z=F*F,U=M*M,K=R*R,$=c(U/V+K/z);if($>1&&(V=(L*=$)*L,z=(F*=$)*F),a($=(V*z-V*K-z*U)/(V*K+z*U))<1e-12&&($=0),$<0)throw new Error("Cannot create an arc with the given arguments");S=new ae(L*R/F,-F*M/L).multiply((x===y?-1:1)*c($)).rotate(I).add(N),b=(C=(D=(new gt).translate(S).rotate(I).scale(L,F))._inverseTransform(d)).getDirectedAngle(D._inverseTransform(p)),!y&&b>0?b-=360:y&&b<0&&(b+=360)}if(g){var q=new un(d.add(g).divide(2),g.subtract(d).rotate(90),!0),W=new un(g.add(p).divide(2),p.subtract(g).rotate(90),!0),Y=new un(d,p),X=Y.getSide(g);if(!(S=q.intersect(W,!0))){if(!X)return this.lineTo(p);throw new Error("Cannot create an arc with the given arguments")}b=(C=d.subtract(S)).getDirectedAngle(p.subtract(S));var ne=Y.getSide(S,!0);0===ne?b=X*a(b):X===ne&&(b+=b<0?360:-360)}if(b){for(var ge=a(b),we=ge>=360?4:Math.ceil((ge-1e-5)/90),ye=b/we,fe=ye*Math.PI/360,pe=4/3*Math.sin(fe)/(1+Math.cos(fe)),he=[],Ce=0;Ce<=we;Ce++){var E=p,De=null;if(Ce<we&&(De=C.rotate(90).multiply(pe),D?(E=D._transformPoint(C),De=D._transformPoint(C.add(De)).subtract(E)):E=S.add(C)),Ce){var ke=C.rotate(-90).multiply(pe);D&&(ke=D._transformPoint(C.add(ke)).subtract(E)),he.push(new ot(E,ke,De))}else f.setHandleOut(De);C=C.rotate(ye)}this._add(he)}},lineBy:function(){var s=ae.read(arguments),a=r(this)._point;this.lineTo(a.add(s))},curveBy:function(){var s=arguments,a=ae.read(s),c=ae.read(s),f=se.read(s),d=r(this)._point;this.curveTo(d.add(a),d.add(c),f)},cubicCurveBy:function(){var s=arguments,a=ae.read(s),c=ae.read(s),f=ae.read(s),d=r(this)._point;this.cubicCurveTo(d.add(a),d.add(c),d.add(f))},quadraticCurveBy:function(){var s=arguments,a=ae.read(s),c=ae.read(s),f=r(this)._point;this.quadraticCurveTo(f.add(a),f.add(c))},arcBy:function(){var s=arguments,a=r(this)._point,c=a.add(ae.read(s)),f=se.pick(se.peek(s),!0);this.arcTo(c,"boolean"==typeof f?f:a.add(ae.read(s)))},closePath:function(s){this.setClosed(!0),this.join(this,s)}}},{_getBounds:function(r,s){return bt[s.handle?"getHandleBounds":s.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,r,s)},statics:{getBounds:function(r,s,a,c,f,d){var p=r[0];if(!p)return new tt;var g=new Array(6),v=p._transformCoordinates(c,new Array(6)),y=v.slice(0,2),S=y.slice(),b=new Array(2);function C(O){O._transformCoordinates(c,g);for(var P=0;P<2;P++)Pe._addBounds(v[P],v[P+4],g[P+2],g[P],P,d?d[P]:0,y,S,b);var I=v;v=g,g=I}for(var D=1,N=r.length;D<N;D++)C(r[D]);return s&&C(p),new tt(y[0],y[1],S[0]-y[0],S[1]-y[1])},getStrokeBounds:function(r,s,a,c,f){var d=a.getStyle(),p=d.hasStroke(),g=d.getStrokeWidth(),v=p&&a._getStrokeMatrix(c,f),y=p&&bt._getStrokePadding(g,v),S=bt.getBounds(r,s,a,c,f,y);if(!p)return S;var b=g/2,C=d.getStrokeJoin(),D=d.getStrokeCap(),N=d.getMiterLimit(),O=new tt(new Ae(y));function P(L){S=S.include(L)}function I(L){S=S.unite(O.setCenter(L._point.transform(c)))}function x(L,F){"round"===F||L.isSmooth()?I(L):bt._addBevelJoin(L,F,b,N,c,v,P)}function E(L,F){"round"===F?I(L):bt._addSquareCap(L,F,b,c,v,P)}var M=r.length-(s?0:1);if(M>0){for(var R=1;R<M;R++)x(r[R],C);s?x(r[0],C):(E(r[0],D),E(r[r.length-1],D))}return S},_getStrokePadding:function(r,s){if(!s)return[r,r];var a=new ae(r,0).transform(s),c=new ae(0,r).transform(s),f=a.getAngleInRadians(),d=a.getLength(),p=c.getLength(),g=Math.sin(f),v=Math.cos(f),y=Math.tan(f),S=Math.atan2(p*y,d),b=Math.atan2(p,y*d);return[Math.abs(d*Math.cos(S)*v+p*Math.sin(S)*g),Math.abs(p*Math.sin(b)*v+d*Math.cos(b)*g)]},_addBevelJoin:function(r,s,a,c,f,d,p,g){var v=r.getCurve(),y=v.getPrevious(),S=v.getPoint1().transform(f),b=y.getNormalAtTime(1).multiply(a).transform(d),C=v.getNormalAtTime(0).multiply(a).transform(d),D=b.getDirectedAngle(C);if((D<0||D>=180)&&(b=b.negate(),C=C.negate()),g&&p(S),p(S.add(b)),"miter"===s){var N=new un(S.add(b),new ae(-b.y,b.x),!0).intersect(new un(S.add(C),new ae(-C.y,C.x),!0),!0);N&&S.getDistance(N)<=c*a&&p(N)}p(S.add(C))},_addSquareCap:function(r,s,a,c,f,d,p){var g=r._point.transform(c),v=r.getLocation(),y=v.getNormal().multiply(0===v.getTime()?a:-a).transform(f);"square"===s&&(p&&(d(g.subtract(y)),d(g.add(y))),g=g.add(y.rotate(-90))),d(g.add(y)),d(g.subtract(y))},getHandleBounds:function(r,s,a,c,f){var g,v,d=a.getStyle();if(f.stroke&&d.hasStroke()){var y=a._getStrokeMatrix(c,f),S=d.getStrokeWidth()/2,b=S;"miter"===d.getStrokeJoin()&&(b=S*d.getMiterLimit()),"square"===d.getStrokeCap()&&(b=Math.max(b,S*Math.SQRT2)),g=bt._getStrokePadding(S,y),v=bt._getStrokePadding(b,y)}for(var C=new Array(6),D=1/0,N=-D,O=D,P=N,I=0,x=r.length;I<x;I++){r[I]._transformCoordinates(c,C);for(var M=0;M<6;M+=2){var R=M?g:v,L=R?R[0]:0,F=R?R[1]:0,V=C[M],z=C[M+1],U=V-L,K=V+L,$=z-F,q=z+F;U<D&&(D=U),K>N&&(N=K),$<O&&(O=$),q>P&&(P=q)}}return new tt(D,O,N-D,P-O)}}});bt.inject({statics:new function(){var r=.5522847498307936,s=[new ot([-1,0],[0,r],[0,-r]),new ot([0,-1],[-r,0],[r,0]),new ot([1,0],[0,-r],[0,r]),new ot([0,1],[r,0],[-r,0])];function a(f,d,p){var g=se.getNamed(p),v=new bt(g&&(1==g.insert?et.INSERT:0==g.insert?et.NO_INSERT:null));return v._add(f),v._closed=d,v.set(g,et.INSERT)}function c(f,d,p){for(var g=new Array(4),v=0;v<4;v++){var y=s[v];g[v]=new ot(y._point.multiply(d).add(f),y._handleIn.multiply(d),y._handleOut.multiply(d))}return a(g,!0,p)}return{Line:function(){var f=arguments;return a([new ot(ae.readNamed(f,"from")),new ot(ae.readNamed(f,"to"))],!1,f)},Circle:function(){var f=arguments,d=ae.readNamed(f,"center"),p=se.readNamed(f,"radius");return c(d,new Ae(p),f)},Rectangle:function(){var b,f=arguments,d=tt.readNamed(f,"rectangle"),p=Ae.readNamed(f,"radius",0,{readNull:!0}),g=d.getBottomLeft(!0),v=d.getTopLeft(!0),y=d.getTopRight(!0),S=d.getBottomRight(!0);if(!p||p.isZero())b=[new ot(g),new ot(v),new ot(y),new ot(S)];else{var C=(p=Ae.min(p,d.getSize(!0).divide(2))).width,D=p.height,N=C*r,O=D*r;b=[new ot(g.add(C,0),null,[-N,0]),new ot(g.subtract(0,D),[0,O]),new ot(v.add(0,D),null,[0,-O]),new ot(v.add(C,0),[-N,0],null),new ot(y.subtract(C,0),null,[N,0]),new ot(y.add(0,D),[0,-O],null),new ot(S.subtract(0,D),null,[0,O]),new ot(S.subtract(C,0),[N,0])]}return a(b,!0,f)},RoundRectangle:"#Rectangle",Ellipse:function(){var f=arguments,d=Cn._readEllipse(f);return c(d.center,d.radius,f)},Oval:"#Ellipse",Arc:function(){var f=arguments,d=ae.readNamed(f,"from"),p=ae.readNamed(f,"through"),g=ae.readNamed(f,"to"),v=se.getNamed(f),y=new bt(v&&0==v.insert&&et.NO_INSERT);return y.moveTo(d),y.arcTo(p,g),y.set(v)},RegularPolygon:function(){for(var f=arguments,d=ae.readNamed(f,"center"),p=se.readNamed(f,"sides"),g=se.readNamed(f,"radius"),v=360/p,y=p%3==0,S=new ae(0,y?-g:g),b=y?-1:.5,C=new Array(p),D=0;D<p;D++)C[D]=new ot(d.add(S.rotate((D+b)*v)));return a(C,!0,f)},Star:function(){for(var f=arguments,d=ae.readNamed(f,"center"),p=2*se.readNamed(f,"points"),g=se.readNamed(f,"radius1"),v=se.readNamed(f,"radius2"),y=360/p,S=new ae(0,-1),b=new Array(p),C=0;C<p;C++)b[C]=new ot(d.add(S.rotate(y*C).multiply(C%2?v:g)));return a(b,!0,f)}}}});var ai=ht.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||("string"==typeof s?this.setPathData(s):this.addChildren(Array.isArray(s)?s:arguments))},insertChildren:function r(s,a){var c=a,f=c[0];f&&"number"==typeof f[0]&&(c=[c]);for(var d=a.length-1;d>=0;d--){var p=c[d];c===a&&!(p instanceof bt)&&(c=se.slice(c)),Array.isArray(p)?c[d]=new bt({segments:p,insert:!1}):p instanceof ai&&(c.splice.apply(c,[d,1].concat(p.removeChildren())),p.remove())}return r.base.call(this,s,c)},reduce:function r(s){for(var a=this._children,c=a.length-1;c>=0;c--)(f=a[c].reduce(s)).isEmpty()&&f.remove();var f;return a.length?r.base.call(this):((f=new bt(et.NO_INSERT)).copyAttributes(this),f.insertAbove(this),this.remove(),f)},isClosed:function(){for(var r=this._children,s=0,a=r.length;s<a;s++)if(!r[s]._closed)return!1;return!0},setClosed:function(r){for(var s=this._children,a=0,c=s.length;a<c;a++)s[a].setClosed(r)},getFirstSegment:function(){var r=this.getFirstChild();return r&&r.getFirstSegment()},getLastSegment:function(){var r=this.getLastChild();return r&&r.getLastSegment()},getCurves:function(){for(var r=this._children,s=[],a=0,c=r.length;a<c;a++)se.push(s,r[a].getCurves());return s},getFirstCurve:function(){var r=this.getFirstChild();return r&&r.getFirstCurve()},getLastCurve:function(){var r=this.getLastChild();return r&&r.getLastCurve()},getArea:function(){for(var r=this._children,s=0,a=0,c=r.length;a<c;a++)s+=r[a].getArea();return s},getLength:function(){for(var r=this._children,s=0,a=0,c=r.length;a<c;a++)s+=r[a].getLength();return s},getPathData:function(r,s){for(var a=this._children,c=[],f=0,d=a.length;f<d;f++){var p=a[f],g=p._matrix;c.push(p.getPathData(r&&!g.isIdentity()?r.appended(g):r,s))}return c.join("")},_hitTestChildren:function r(s,a,c){return r.base.call(this,s,a.class===bt||"path"===a.type?a:se.set({},a,{fill:!1}),c)},_draw:function(r,s,a,c){var f=this._children;if(f.length){s=s.extend({dontStart:!0,dontFinish:!0}),r.beginPath();for(var d=0,p=f.length;d<p;d++)f[d].draw(r,s,c);if(!s.clip){this._setStyles(r,s,a);var g=this._style;g.hasFill()&&(r.fill(g.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),g.hasStroke()&&r.stroke()}}},_drawSelected:function(r,s,a){for(var c=this._children,f=0,d=c.length;f<d;f++){var p=c[f],g=p._matrix;a[p._id]||p._drawSelected(r,g.isIdentity()?s:s.appended(g))}}},new function(){function r(s,a){var c=s._children;if(a&&!c.length)throw new Error("Use a moveTo() command first");return c[c.length-1]}return se.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(s){this[s]=function(){var a=r(this,!0);a[s].apply(a,arguments)}},{moveTo:function(){var s=r(this),a=s&&s.isEmpty()?s:new bt(et.NO_INSERT);a!==s&&this.addChild(a),a.moveTo.apply(a,arguments)},moveBy:function(){var s=r(this,!0),a=s&&s.getLastSegment(),c=ae.read(arguments);this.moveTo(a?c.add(a._point):c)},closePath:function(s){r(this,!0).closePath(s)}})},se.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(s){for(var c,a=this._children,f=0,d=a.length;f<d;f++)c=a[f][r](s)||c;return c}},{}));ht.inject(new function(){var r=Math.min,s=Math.max,a=Math.abs,c={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function f(I){return I._children||[I]}function d(I,x){var E=I.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var M=f(E),R=0,L=M.length;R<L;R++)!(I=M[R])._closed&&!I.isEmpty()&&(I.closePath(1e-12),I.getFirstSegment().setHandleIn(0,0),I.getLastSegment().setHandleOut(0,0));E=E.resolveCrossings().reorient("nonzero"===E.getFillRule(),!0)}return E}function p(I,x,E,M,R){var L=new ai(et.NO_INSERT);return L.addChildren(I,!0),L=L.reduce({simplify:x}),R&&0==R.insert||L.insertAbove(M&&E.isSibling(M)&&E.getIndex()<M.getIndex()?M:E),L.copyAttributes(E,!0),L}function g(I){return I.hasOverlap()||I.isCrossing()}function v(I,x,E,M){if(M&&(0==M.trace||M.stroke)&&/^(subtract|intersect)$/.test(E))return y(I,x,E);var R=d(I,!0),L=x&&I!==x&&d(x,!0),F=c[E];F[E]=!0,L&&(F.subtract||F.exclude)^L.isClockwise()^R.isClockwise()&&L.reverse();var q,V=D(Fn.expand(R.getIntersections(L,g))),z=f(R),U=L&&f(L),K=[],$=[];function W(De){for(var ke=0,Ne=De.length;ke<Ne;ke++){var ze=De[ke];se.push(K,ze._segments),se.push($,ze.getCurves()),ze._overlapsOnly=!0}}function Y(De){for(var ke=[],Ne=0,ze=De&&De.length;Ne<ze;Ne++)ke.push($[De[Ne]]);return ke}if(V.length){W(z),U&&W(U);for(var X=new Array($.length),ne=0,ce=$.length;ne<ce;ne++)X[ne]=$[ne].getValues();var ge=pn.findCurveBoundsCollisions(X,X,0,!0),we={};for(ne=0;ne<$.length;ne++){var ye=$[ne],fe=ye._path._id;(we[fe]=we[fe]||{})[ye.getIndex()]={hor:Y(ge[ne].hor),ver:Y(ge[ne].ver)}}for(ne=0,ce=V.length;ne<ce;ne++)O(V[ne]._segment,R,L,we,F);for(ne=0,ce=K.length;ne<ce;ne++){var he=K[ne],Ce=he._intersection;he._winding||O(he,R,L,we,F),Ce&&Ce._overlap||(he._path._overlapsOnly=!1)}q=P(K,F)}else q=C(U?z.concat(U):z.slice(),function(De){return!!F[De]});return p(q,!0,I,x,M)}function y(I,x,E){var M=d(I),R=d(x),L=M.getIntersections(R,g),F="subtract"===E,V="divide"===E,z={},U=[];function K(W){if(!z[W._id]&&(V||R.contains(W.getPointAt(W.getLength()/2))^F))return U.unshift(W),z[W._id]=!0}for(var $=L.length-1;$>=0;$--){var q=L[$].split();q&&(K(q)&&q.getFirstSegment().setHandleIn(0,0),M.getLastSegment().setHandleOut(0,0))}return K(M),p(U,!1,I,x)}function S(I,x){for(var E=I;E;){if(E===x)return;E=E._previous}for(;I._next&&I._next!==x;)I=I._next;if(!I._next){for(;x._previous;)x=x._previous;I._next=x,x._previous=I}}function b(I){for(var x=I.length-1;x>=0;x--)I[x].clearHandles()}function C(I,x,E){var M=I&&I.length;if(M){var R=se.each(I,function(ge,we){this[ge._id]={container:null,winding:ge.isClockwise()?1:-1,index:we}},{}),L=I.slice().sort(function(ge,we){return a(we.getArea())-a(ge.getArea())}),F=L[0],V=pn.findItemBoundsCollisions(L,null,_t.GEOMETRIC_EPSILON);null==E&&(E=F.isClockwise());for(var z=0;z<M;z++){var U=L[z],K=R[U._id],$=0,q=V[z];if(q)for(var W=null,Y=q.length-1;Y>=0;Y--)if(q[Y]<z){W=W||U.getInteriorPoint();var X=L[q[Y]];if(X.contains(W)){var ne=R[X._id];K.winding+=$=ne.winding,K.container=ne.exclude?ne.container:X;break}}if(x(K.winding)===x($))K.exclude=!0,I[K.index]=null;else{var ce=K.container;U.setClockwise(ce?!ce.isClockwise():E)}}}return I}function D(I,x,E){var U,K,$,M=x&&[],F=!1,V=E||[],z=E&&{};function q(ke){return ke._path._id+"."+ke._segment1._index}for(var W=(E&&E.length)-1;W>=0;W--)(Y=E[W])._path&&(z[q(Y)]=!0);for(W=I.length-1;W>=0;W--){var Y,we,X=I[W],ne=X._time,ce=ne,ge=x&&!x(X);if((Y=X._curve)&&(Y!==K?(F=!Y.hasHandles()||z&&z[q(Y)],U=[],$=null,K=Y):$>=1e-8&&(ne/=$)),ge)U&&U.push(X);else{if(x&&M.unshift(X),$=ce,ne<1e-8)we=Y._segment1;else if(ne>.99999999)we=Y._segment2;else{var ye=Y.divideAtTime(ne,!0);F&&V.push(Y,ye),we=ye._segment1;for(var fe=U.length-1;fe>=0;fe--){var pe=U[fe];pe._time=(pe._time-ne)/(1-ne)}}X._setSegment(we);var he=we._intersection,Ce=X._intersection;if(he){S(he,Ce);for(var De=he;De;)S(De._intersection,he),De=De._next}else we._intersection=Ce}}return E||b(V),M||I}function N(I,x,E,M,R){var he,Ce,L=Array.isArray(x)?x:x[E?"hor":"ver"],F=E?1:0,V=1^F,z=[I.x,I.y],U=z[F],K=z[V],q=1e-6,W=U-1e-9,Y=U+1e-9,X=0,ne=0,ce=0,ge=0,we=!1,ye=!1,fe=1,pe=[];function De(dt){var nt=dt[V+0],Vt=dt[V+6];if(!(K<r(nt,Vt)||K>s(nt,Vt))){var Le=dt[F+0],Mn=dt[F+2],Hn=dt[F+4],vn=dt[F+6];if(nt===Vt)return void((Le<Y&&vn>W||vn<Y&&Le>W)&&(we=!0));var qe=K===nt?0:K===Vt||W>s(Le,Mn,Hn,vn)||Y<r(Le,Mn,Hn,vn)?1:Pe.solveCubic(dt,V,K,pe,0,1)>0?pe[0]:1,on=0===qe?Le:1===qe?vn:Pe.getPoint(dt,qe)[E?"y":"x"],An=nt>Vt?1:-1,m=he[F+6];return K!==nt?(on<W?ce+=An:on>Y?ge+=An:we=!0,on>U-q&&on<U+q&&(fe/=2)):(An!==(he[V]>he[V+6]?1:-1)?Le<W?ce+=An:Le>Y&&(ge+=An):Le!=m&&(m<Y&&on>Y?(ge+=An,we=!0):m>W&&on<W&&(ce+=An,we=!0)),fe/=4),he=dt,!R&&on>W&&on<Y&&0===Pe.getTangent(dt,qe)[E?"x":"y"]&&N(I,x,!E,M,!0)}}function ke(dt){var nt=dt[V+0],Vt=dt[V+2],Le=dt[V+4],Mn=dt[V+6];if(K<=s(nt,Vt,Le,Mn)&&K>=r(nt,Vt,Le,Mn))for(var ei,Hn=dt[F+0],vn=dt[F+2],qe=dt[F+4],on=dt[F+6],An=W>s(Hn,vn,qe,on)||Y<r(Hn,vn,qe,on)?[dt]:Pe.getMonoCurves(dt,E),m=0,T=An.length;m<T;m++)if(ei=De(An[m]))return ei}for(var Ne=0,ze=L.length;Ne<ze;Ne++){var ft,Ue=L[Ne],Xe=Ue._path,Ft=Ue.getValues();if(!(Ne&&L[Ne-1]._path===Xe||(he=null,Xe._closed||(Ce=Pe.getValues(Xe.getLastCurve().getSegment2(),Ue.getSegment1(),null,!M),Ce[V]!==Ce[V+6]&&(he=Ce)),he))){he=Ft;for(var At=Xe.getLastCurve();At&&At!==Ue;){var mt=At.getValues();if(mt[V]!==mt[V+6]){he=mt;break}At=At.getPrevious()}}if(ft=ke(Ft))return ft;if(Ne+1===ze||L[Ne+1]._path!==Xe){if(Ce&&(ft=ke(Ce)))return ft;we&&!ce&&!ge&&(ce=ge=Xe.isClockwise(M)^E?1:-1),X+=ce,ne+=ge,ce=ge=0,we&&(ye=!0,we=!1),Ce=null}}return X=a(X),ne=a(ne),{winding:s(X,ne),windingL:X,windingR:ne,quality:fe,onPath:ye}}function O(I,x,E,M,R){var L=[],F=I,V=0;do{if(z=I.getCurve()){var U=z.getLength();L.push({segment:I,curve:z,length:U}),V+=U}I=I.getNext()}while(I&&!I._intersection&&I!==F);for(var K=[.5,.25,.75],$={winding:0,quality:-1},Y=0;Y<K.length&&$.quality<.5;Y++){U=V*K[Y];for(var X=0,ne=L.length;X<ne;X++){var ce=L[X],ge=ce.length;if(U<=ge){var z,we=(z=ce.curve)._path,ye=we._parent,fe=ye instanceof ai?ye:we,pe=_t.clamp(z.getTimeAt(U),.001,.999),he=z.getPointAtTime(pe),Ce=a(z.getTangentAtTime(pe).y)<Math.SQRT1_2,De=null;if(R.subtract&&E){var Ne=(fe===x?E:x)._getWinding(he,Ce,!0);if(fe===x&&Ne.winding||fe===E&&!Ne.winding){if(Ne.quality<1)continue;De={winding:0,quality:1}}}(De=De||N(he,M[we._id][z.getIndex()],Ce,!0)).quality>$.quality&&($=De);break}U-=ge}}for(X=L.length-1;X>=0;X--)L[X].segment._winding=$}function P(I,x){var M,E=[];function R(ze){var Ue;return!(!ze||ze._visited||x&&(!x[(Ue=ze._winding||{}).winding]||x.unite&&2===Ue.winding&&Ue.windingL&&Ue.windingR))}function L(ze){if(ze)for(var Ue=0,Xe=M.length;Ue<Xe;Ue++)if(ze===M[Ue])return!0;return!1}function F(ze){for(var Ue=ze._segments,Xe=0,Ft=Ue.length;Xe<Ft;Xe++)Ue[Xe]._visited=!0}function V(ze,Ue){var Xe=ze._intersection,Ft=Xe,ft=[];function At(mt,dt){for(;mt&&mt!==dt;){var nt=mt._segment,Vt=nt&&nt._path;if(Vt){var Le=nt.getNext()||Vt.getFirstSegment(),Mn=Le._intersection;nt!==ze&&(L(nt)||L(Le)||Le&&R(nt)&&(R(Le)||Mn&&R(Mn._segment)))&&ft.push(nt),Ue&&M.push(nt)}mt=mt._next}}if(Ue&&(M=[ze]),Xe){for(At(Xe);Xe&&Xe._previous;)Xe=Xe._previous;At(Xe,Ft)}return ft}I.sort(function(ze,Ue){var Xe=ze._intersection,Ft=Ue._intersection,ft=!(!Xe||!Xe._overlap),mt=ze._path,dt=Ue._path;return ft^!(!Ft||!Ft._overlap)?ft?1:-1:!Xe^!Ft?Xe?1:-1:mt!==dt?mt._id-dt._id:ze._index-Ue._index});for(var z=0,U=I.length;z<U;z++){var ne,ce,ge,K=I[z],$=R(K),q=null,W=!1,Y=!0,X=[];if($&&K._path._overlapsOnly){var we=K._path,ye=K._intersection._segment._path;we.compare(ye)&&(we.getArea()&&E.push(we.clone(!1)),F(we),F(ye),$=!1)}for(;$;){var fe=!q,pe=V(K,fe),he=pe.shift(),Ce=!(W=!fe&&(L(K)||L(he)))&&he;if(fe&&(q=new bt(et.NO_INSERT),ne=null),W){(K.isFirst()||K.isLast())&&(Y=K._path._closed),K._visited=!0;break}if(Ce&&ne&&(X.push(ne),ne=null),ne||(Ce&&pe.push(K),ne={start:q._segments.length,crossings:pe,visited:ce=[],handleIn:ge}),Ce&&(K=he),!R(K)){q.removeSegments(ne.start);for(var De=0,ke=ce.length;De<ke;De++)ce[De]._visited=!1;ce.length=0;do{(!(K=ne&&ne.crossings.shift())||!K._path)&&(K=null,(ne=X.pop())&&(ce=ne.visited,ge=ne.handleIn))}while(ne&&!R(K));if(!K)break}var Ne=K.getNext();q.add(new ot(K._point,ge,Ne&&K._handleOut)),K._visited=!0,ce.push(K),K=Ne||K._path.getFirstSegment(),ge=Ne&&Ne._handleIn}W&&(Y&&(q.getFirstSegment().setHandleIn(ge),q.setClosed(Y)),0!==q.getArea()&&E.push(q))}return E}return{_getWinding:function(I,x,E){return N(I,this.getCurves(),x,E)},unite:function(I,x){return v(this,I,"unite",x)},intersect:function(I,x){return v(this,I,"intersect",x)},subtract:function(I,x){return v(this,I,"subtract",x)},exclude:function(I,x){return v(this,I,"exclude",x)},divide:function(I,x){return x&&(0==x.trace||x.stroke)?y(this,I,"divide"):p([this.subtract(I,x),this.intersect(I,x)],!0,this,I,x)},resolveCrossings:function(){var I=this._children,x=I||[this];function E(ne,ce){var ge=ne&&ne._intersection;return ge&&ge._overlap&&ge._path===ce}var M=!1,R=!1,L=this.getIntersections(null,function(ne){return ne.hasOverlap()&&(M=!0)||ne.isCrossing()&&(R=!0)}),F=M&&R&&[];if(L=Fn.expand(L),M)for(var V=D(L,function(ne){return ne.hasOverlap()},F),z=V.length-1;z>=0;z--){var U=V[z],K=U._path,$=U._segment,q=$.getPrevious(),W=$.getNext();E(q,K)&&E(W,K)&&($.remove(),q._handleOut._set(0,0),W._handleIn._set(0,0),q!==$&&!q.getCurve().hasLength()&&(W._handleIn.set(q._handleIn),q.remove()))}R&&(D(L,M&&function(ne){var ce=ne.getCurve(),ge=ne.getSegment(),we=ne._intersection,ye=we._curve,fe=we._segment;if(ce&&ye&&ce._path&&ye._path)return!0;ge&&(ge._intersection=null),fe&&(fe._intersection=null)},F),F&&b(F),x=P(se.each(x,function(ne){se.push(this,ne._segments)},[])));var X,Y=x.length;return Y>1&&I?(x!==I&&this.setChildren(x),X=this):1===Y&&!I&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),X=this),X||((X=new ai(et.NO_INSERT)).addChildren(x),(X=X.reduce()).copyAttributes(this),this.replaceWith(X)),X},reorient:function(I,x){var E=this._children;return E&&E.length?this.setChildren(C(this.removeChildren(),function(M){return!!(I?M:1&M)},x)):x!==Te&&this.setClockwise(x),this},getInteriorPoint:function(){var x=this.getBounds().getCenter(!0);if(!this.contains(x)){for(var E=this.getCurves(),M=x.y,R=[],L=[],F=0,V=E.length;F<V;F++){var z=E[F].getValues(),U=z[1],K=z[3],$=z[5],q=z[7];if(M>=r(U,K,$,q)&&M<=s(U,K,$,q))for(var W=Pe.getMonoCurves(z),Y=0,X=W.length;Y<X;Y++){var ne=W[Y],ce=ne[1],ge=ne[7];if(ce!==ge&&(M>=ce&&M<=ge||M>=ge&&M<=ce)){var we=M===ce?ne[0]:M===ge?ne[6]:1===Pe.solveCubic(ne,1,M,L,0,1)?Pe.getPoint(ne,L[0]).x:(ne[0]+ne[6])/2;R.push(we)}}}R.length>1&&(R.sort(function(ye,fe){return ye-fe}),x.x=(R[0]+R[1])/2)}return x}}});var gn=se.extend({_class:"PathFlattener",initialize:function(r,s,a,c,f){var b,d=[],p=[],g=0,v=1/(a||32),y=r._segments,S=y[0];function C(P,I){var x=Pe.getValues(P,I,f);d.push(x),D(x,P._index,0,1)}function D(P,I,x,E){if(!(E-x>v)||c&&Pe.isStraight(P)||Pe.isFlatEnough(P,s||.25)){var L=P[6]-P[0],F=P[7]-P[1],V=Math.sqrt(L*L+F*F);V>0&&p.push({offset:g+=V,curve:P,index:I,time:E})}else{var M=Pe.subdivide(P,.5),R=(x+E)/2;D(M[0],I,x,R),D(M[1],I,R,E)}}for(var N=1,O=y.length;N<O;N++)C(S,b=y[N]),S=b;r._closed&&C(b||S,y[0]),this.curves=d,this.parts=p,this.length=g,this.index=0},_get:function(r){for(var f,s=this.parts,a=s.length,d=this.index;f=d,d&&!(s[--d].offset<r););for(;f<a;f++){var p=s[f];if(p.offset>=r){this.index=f;var g=s[f-1],v=g&&g.index===p.index?g.time:0,y=g?g.offset:0;return{index:p.index,time:v+(p.time-v)*(r-y)/(p.offset-y)}}}return{index:s[a-1].index,time:1}},drawPart:function(r,s,a){for(var c=this._get(s),f=this._get(a),d=c.index,p=f.index;d<=p;d++){var g=Pe.getPart(this.curves[d],d===c.index?c.time:0,d===f.index?f.time:1);d===c.index&&r.moveTo(g[0],g[1]),r.bezierCurveTo.apply(r,g.slice(2))}}},se.each(Pe._evaluateMethods,function(r){this[r+"At"]=function(s){var a=this._get(s);return Pe[r](this.curves[a.index],a.time)}},{})),Xt=se.extend({initialize:function(r){for(var d,s=this.points=[],a=r._segments,c=r._closed,f=0,p=a.length;f<p;f++){var g=a[f].point;(!d||!d.equals(g))&&s.push(d=g.clone())}c&&(s.unshift(s[s.length-1]),s.push(s[1])),this.closed=c},fit:function(r){var s=this.points,a=s.length,c=null;return a>0&&(c=[new ot(s[0])],a>1&&(this.fitCubic(c,r,0,a-1,s[1].subtract(s[0]),s[a-2].subtract(s[a-1])),this.closed&&(c.shift(),c.pop()))),c},fitCubic:function(r,s,a,c,f,d){var p=this.points;if(c-a!=1){for(var C,S=this.chordLengthParameterize(a,c),b=Math.max(s,s*s),D=!0,N=0;N<=4;N++){var O=this.generateBezier(a,c,S,f,d),P=this.findMaxError(a,c,O,S);if(P.error<s&&D)return void this.addCurve(r,O);if(C=P.index,P.error>=b)break;D=this.reparameterize(a,c,S,O),b=P.error}var I=p[C-1].subtract(p[C+1]);this.fitCubic(r,s,a,C,f,I),this.fitCubic(r,s,C,c,I.negate(),d)}else{var g=p[a],v=p[c],y=g.getDistance(v)/3;this.addCurve(r,[g,g.add(f.normalize(y)),v.add(d.normalize(y)),v])}},addCurve:function(r,s){r[r.length-1].setHandleOut(s[1].subtract(s[0])),r.push(new ot(s[3],s[2].subtract(s[3])))},generateBezier:function(r,s,a,c,f){for(var d=1e-12,p=Math.abs,g=this.points,v=g[r],y=g[s],S=[[0,0],[0,0]],b=[0,0],C=0,D=s-r+1;C<D;C++){var N=a[C],O=1-N,P=3*N*O,I=O*O*O,x=P*O,E=P*N,M=N*N*N,R=c.normalize(x),L=f.normalize(E),F=g[r+C].subtract(v.multiply(I+x)).subtract(y.multiply(E+M));S[0][0]+=R.dot(R),S[0][1]+=R.dot(L),S[1][0]=S[0][1],S[1][1]+=L.dot(L),b[0]+=R.dot(F),b[1]+=L.dot(F)}var z,U,V=S[0][0]*S[1][1]-S[1][0]*S[0][1];if(p(V)>d)z=(b[0]*S[1][1]-b[1]*S[0][1])/V,U=(S[0][0]*b[1]-S[1][0]*b[0])/V;else{var q=S[0][0]+S[0][1],W=S[1][0]+S[1][1];z=U=p(q)>d?b[0]/q:p(W)>d?b[1]/W:0}var ne,ce,Y=y.getDistance(v),X=d*Y;if(z<X||U<X)z=U=Y/3;else{var ge=y.subtract(v);ne=c.normalize(z),ce=f.normalize(U),ne.dot(ge)-ce.dot(ge)>Y*Y&&(z=U=Y/3,ne=ce=null)}return[v,v.add(ne||c.normalize(z)),y.add(ce||f.normalize(U)),y]},reparameterize:function(r,s,a,c){for(var f=r;f<=s;f++)a[f-r]=this.findRoot(c,this.points[f],a[f-r]);f=1;for(var d=a.length;f<d;f++)if(a[f]<=a[f-1])return!1;return!0},findRoot:function(r,s,a){for(var c=[],f=[],d=0;d<=2;d++)c[d]=r[d+1].subtract(r[d]).multiply(3);for(d=0;d<=1;d++)f[d]=c[d+1].subtract(c[d]).multiply(2);var p=this.evaluate(3,r,a),g=this.evaluate(2,c,a),v=this.evaluate(1,f,a),y=p.subtract(s),S=g.dot(g)+y.dot(v);return _t.isMachineZero(S)?a:a-y.dot(g)/S},evaluate:function(r,s,a){for(var c=s.slice(),f=1;f<=r;f++)for(var d=0;d<=r-f;d++)c[d]=c[d].multiply(1-a).add(c[d+1].multiply(a));return c[0]},chordLengthParameterize:function(r,s){for(var a=[0],c=r+1;c<=s;c++)a[c-r]=a[c-r-1]+this.points[c].getDistance(this.points[c-1]);c=1;for(var f=s-r;c<=f;c++)a[c]/=a[f];return a},findMaxError:function(r,s,a,c){for(var f=Math.floor((s-r+1)/2),d=0,p=r+1;p<s;p++){var v=this.evaluate(3,a,c[p-r]).subtract(this.points[p]),y=v.x*v.x+v.y*v.y;y>=d&&(d=y,f=p)}return{error:d,index:f}}}),Ei=et.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(s){this._content="",this._lines=[];var a=s&&se.isPlainObject(s)&&s.x===Te&&s.y===Te;this._initialize(a&&s,!a&&ae.read(arguments))},_equals:function(r){return this._content===r._content},copyContent:function(r){this.setContent(r._content)},getContent:function(){return this._content},setContent:function(r){this._content=""+r,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ze=Ei.extend({_class:"PointText",initialize:function(){Ei.apply(this,arguments)},getPoint:function(){var r=this._matrix.getTranslation();return new We(r.x,r.y,this,"setPoint")},setPoint:function(){var r=ae.read(arguments);this.translate(r.subtract(this._matrix.getTranslation()))},_draw:function(r,s,a){if(this._content){this._setStyles(r,s,a);var c=this._lines,f=this._style,d=f.hasFill(),p=f.hasStroke(),g=f.getLeading(),v=r.shadowColor;r.font=f.getFontStyle(),r.textAlign=f.getJustification();for(var y=0,S=c.length;y<S;y++){r.shadowColor=v;var b=c[y];d&&(r.fillText(b,0,0),r.shadowColor="rgba(0,0,0,0)"),p&&r.strokeText(b,0,0),r.translate(0,g)}}},_getBounds:function(r,s){var a=this._style,c=this._lines,f=c.length,d=a.getJustification(),p=a.getLeading(),g=this.getView().getTextWidth(a.getFontStyle(),c),v=0;"left"!==d&&(v-=g/("center"===d?2:1));var y=new tt(v,f?-.75*p:0,g,f*p);return r?r._transformBounds(y,y):y}}),sn=se.extend(new function(){var c,r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},s={},a={transparent:[0,0,0,0]},d=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],p={"rgb-hsb":function(g,v,y){var S=Math.max(g,v,y),C=S-Math.min(g,v,y);return[0===C?0:60*(S==g?(v-y)/C+(v<y?6:0):S==v?(y-g)/C+2:(g-v)/C+4),0===S?0:C/S,S]},"hsb-rgb":function(g,v,y){var b,S=(g=(g/60%6+6)%6)-(b=Math.floor(g)),C=[y,y*(1-v),y*(1-v*S),y*(1-v*(1-S))];return[C[(b=d[b])[0]],C[b[1]],C[b[2]]]},"rgb-hsl":function(g,v,y){var S=Math.max(g,v,y),b=Math.min(g,v,y),C=S-b,D=0===C,O=(S+b)/2;return[D?0:60*(S==g?(v-y)/C+(v<y?6:0):S==v?(y-g)/C+2:(g-v)/C+4),D?0:O<.5?C/(S+b):C/(2-S-b),O]},"hsl-rgb":function(g,v,y){if(0===v)return[y,y,y];for(var S=[(g=(g/360%1+1)%1)+1/3,g,g-1/3],b=y<.5?y*(1+v):y+v-y*v,C=2*y-b,D=[],N=0;N<3;N++){var O=S[N];O<0&&(O+=1),O>1&&(O-=1),D[N]=6*O<1?C+6*(b-C)*O:2*O<1?b:3*O<2?C+(b-C)*(2/3-O)*6:C}return D},"rgb-gray":function(g,v,y){return[.2989*g+.587*v+.114*y]},"gray-rgb":function(g){return[g,g,g]},"gray-hsb":function(g){return[0,0,g]},"gray-hsl":function(g){return[0,0,g]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return se.each(r,function(g,v){s[v]=[],se.each(g,function(y,S){var b=se.capitalize(y),C=/^(hue|saturation)$/.test(y),D=s[v][S]="gradient"===v?"gradient"===y?function(N){var O=this._components[0];return O!==(N=or.read(Array.isArray(N)?N:arguments,0,{readNull:!0}))&&(O&&O._removeOwner(this),N&&N._addOwner(this)),N}:function(){return ae.read(arguments,0,{readNull:"highlight"===y,clone:!0})}:function(N){return null==N||isNaN(N)?0:+N};this["get"+b]=function(){return this._type===v||C&&/^hs[bl]$/.test(this._type)?this._components[S]:this._convert(v)[S]},this["set"+b]=function(N){this._type!==v&&!(C&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(v),this._properties=r[v],this._type=v),this._components[S]=D.call(this,N),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function g(v){var C,D,N,O,y=arguments,S=this.__read,b=0;Array.isArray(v)&&(v=(y=v)[0]);var P=null!=v&&typeof v;if("string"===P&&v in r&&(C=v,v=y[1],Array.isArray(v)?(D=v,N=y[2]):(S&&(b=1),y=se.slice(y,1),P=typeof v)),!D){if(O="number"===P?y:"object"===P&&null!=v.length?v:null){C||(C=O.length>=3?"rgb":"gray");var I=r[C].length;N=O[I],S&&(b+=O===arguments?I+(null!=N?1:0):1),O.length>I&&(O=se.slice(O,0,I))}else if("string"===P){var x=function f(g){var S,v=g.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||g.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),y="rgb";if(v){var b=v[4]?4:3;S=new Array(b);for(var C=0;C<b;C++){var D=v[C+1];S[C]=parseInt(1==D.length?D+D:D,16)/255}}else if(v=g.match(/^(rgb|hsl)a?\((.*)\)$/)){y=v[1],S=v[2].trim().split(/[,\s]+/g);for(var N="hsl"===y,O=(C=0,Math.min(S.length,4));C<O;C++){var P=S[C];if(D=parseFloat(P),N)if(0===C){var I=P.match(/([a-z]*)$/)[1];D*={turn:360,rad:180/Math.PI,grad:.9}[I]||1}else C<3&&(D/=100);else C<3&&(D/=/%$/.test(P)?100:255);S[C]=D}}else{var x=a[g];if(!x)if(Dt){c||((c=Rt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),c.fillStyle="rgba(0,0,0,0)",c.fillStyle=g,c.fillRect(0,0,1,1);var E=c.getImageData(0,0,1,1).data;x=a[g]=[E[0]/255,E[1]/255,E[2]/255]}else x=[0,0,0];S=x.slice()}return[y,S]}(v);C=x[0],4===(D=x[1]).length&&(N=D[3],D.length--)}else if("object"===P)if(v.constructor===g){if(C=v._type,D=v._components.slice(),N=v._alpha,"gradient"===C)for(var E=1,M=D.length;E<M;E++){var R=D[E];R&&(D[E]=R.clone())}}else if(v.constructor===or)C="gradient",O=y;else{var L=r[C="hue"in v?"lightness"in v?"hsl":"hsb":"gradient"in v||"stops"in v||"radial"in v?"gradient":"gray"in v?"gray":"rgb"],F=s[C];for(this._components=D=[],E=0,M=L.length;E<M;E++)null==(V=v[L[E]])&&!E&&"gradient"===C&&"stops"in v&&(V={stops:v.stops,radial:v.radial}),null!=(V=F[E].call(this,V))&&(D[E]=V);N=v.alpha}S&&C&&(b=1)}if(this._type=C||"rgb",!D)for(this._components=D=[],E=0,M=(F=s[this._type]).length;E<M;E++){var V;null!=(V=F[E].call(this,O&&O[E]))&&(D[E]=V)}return this._components=D,this._properties=r[this._type],this._alpha=N,S&&(this.__read=b),this},set:"#initialize",_serialize:function(g,v){var y=this.getComponents();return se.serialize(/^(gray|rgb)$/.test(this._type)?y:[this._type].concat(y),g,!0,v)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(g){var v;return this._type===g?this._components.slice():(v=p[this._type+"-"+g])?v.apply(this,this._components):p["rgb-"+g].apply(this,p[this._type+"-rgb"].apply(this,this._components))},convert:function(g){return new sn(g,this._convert(g),this._alpha)},getType:function(){return this._type},setType:function(g){this._components=this._convert(g),this._properties=r[g],this._type=g},getComponents:function(){var g=this._components.slice();return null!=this._alpha&&g.push(this._alpha),g},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(g){this._alpha=null==g?null:Math.min(Math.max(g,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(g){var v=se.isPlainValue(g,!0)?sn.read(arguments):g;return v===this||v&&this._class===v._class&&this._type===v._type&&this.getAlpha()===v.getAlpha()&&se.equals(this._components,v._components)||!1},toString:function(){for(var g=this._properties,v=[],y="gradient"===this._type,S=je.instance,b=0,C=g.length;b<C;b++){var D=this._components[b];null!=D&&v.push(g[b]+": "+(y?D:S.number(D)))}return null!=this._alpha&&v.push("alpha: "+S.number(this._alpha)),"{ "+v.join(", ")+" }"},toCSS:function(g){var v=this._convert("rgb"),y=g||null==this._alpha?1:this._alpha;function S(b){return Math.round(255*(b<0?0:b>1?1:b))}return v=[S(v[0]),S(v[1]),S(v[2])],y<1&&v.push(y<0?0:y),g?"#"+((1<<24)+(v[0]<<16)+(v[1]<<8)+v[2]).toString(16).slice(1):(4==v.length?"rgba(":"rgb(")+v.join(",")+")"},toCanvasStyle:function(g,v){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var P,y=this._components,S=y[0],b=S._stops,C=y[1],D=y[2],N=y[3],O=v&&v.inverted();if(O&&(C=O._transformPoint(C),D=O._transformPoint(D),N&&(N=O._transformPoint(N))),S._radial){var I=D.getDistance(C);if(N){var x=N.subtract(C);x.getLength()>I&&(N=C.add(x.normalize(I-.1)))}var E=N||C;P=g.createRadialGradient(E.x,E.y,0,C.x,C.y,I)}else P=g.createLinearGradient(C.x,C.y,D.x,D.y);for(var M=0,R=b.length;M<R;M++){var L=b[M];P.addColorStop(L._offset??M/(R-1),L._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(g){if("gradient"===this._type){for(var v=this._components,y=1,S=v.length;y<S;y++){var b=v[y];g._transformPoint(b,b,!0)}this._changed()}},statics:{_types:r,random:function(){var g=Math.random;return new sn(g(),g(),g())},_setOwner:function(g,v,y){return g&&(g._owner&&v&&g._owner!==v&&(g=g.clone()),!g._owner^!v&&(g._owner=v||null,g._setter=y||null)),g}}})},new function(){return se.each({add:function(s,a){return s+a},subtract:function(s,a){return s-a},multiply:function(s,a){return s*a},divide:function(s,a){return s/a}},function(s,a){this[a]=function(c){c=sn.read(arguments);for(var f=this._type,d=this._components,p=c._convert(f),g=0,v=d.length;g<v;g++)p[g]=s(d[g],p[g]);return new sn(f,p,null!=this._alpha?s(this._alpha,c.getAlpha()):null)}},{})}),or=se.extend({_class:"Gradient",initialize:function(s,a){this._id=le.get(),s&&se.isPlainObject(s)&&(this.set(s),s=a=null),null==this._stops&&this.setStops(s||["white","black"]),null==this._radial&&this.setRadial("string"==typeof a&&"radial"===a||a||!1)},_serialize:function(r,s){return s.add(this,function(){return se.serialize([this._stops,this._radial],r,!0,s)})},_changed:function(){for(var r=0,s=this._owners&&this._owners.length;r<s;r++)this._owners[r]._changed()},_addOwner:function(r){this._owners||(this._owners=[]),this._owners.push(r)},_removeOwner:function(r){var s=this._owners?this._owners.indexOf(r):-1;-1!=s&&(this._owners.splice(s,1),this._owners.length||(this._owners=Te))},clone:function(){for(var r=[],s=0,a=this._stops.length;s<a;s++)r[s]=this._stops[s].clone();return new or(r,this._radial)},getStops:function(){return this._stops},setStops:function(r){if(r.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var s=this._stops;if(s)for(var a=0,c=s.length;a<c;a++)s[a]._owner=Te;for(a=0,c=(s=this._stops=ji.readList(r,0,{clone:!0})).length;a<c;a++)s[a]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(r){this._radial=r,this._changed()},equals:function(r){if(r===this)return!0;if(r&&this._class===r._class){var s=this._stops,a=r._stops,c=s.length;if(c===a.length){for(var f=0;f<c;f++)if(!s[f].equals(a[f]))return!1;return!0}}return!1}}),ji=se.extend({_class:"GradientStop",initialize:function(s,a){var c=s,f=a;"object"==typeof s&&a===Te&&(Array.isArray(s)&&"number"!=typeof s[0]?(c=s[0],f=s[1]):("color"in s||"offset"in s||"rampPoint"in s)&&(c=s.color,f=s.offset||s.rampPoint||0)),this.setColor(c),this.setOffset(f)},clone:function(){return new ji(this._color.clone(),this._offset)},_serialize:function(r,s){var a=this._color,c=this._offset;return se.serialize(null==c?[a]:[a,c],r,!0,s)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(r){this._offset=r,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){sn._setOwner(this._color,null),this._color=sn._setOwner(sn.read(arguments,0),this,"setColor"),this._changed()},equals:function(r){return r===this||r&&this._class===r._class&&this._color.equals(r._color)&&this._offset==r._offset||!1}}),ln=se.extend(new function(){var r={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ae,selectedColor:null},s=se.set({},r,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),a=se.set({},s,{fillColor:new sn}),c={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},f={beans:!0},d={_class:"Style",beans:!0,initialize:function(g,v,y){this._values={},this._owner=v,this._project=v&&v._project||y||u.project,this._defaults=!v||v instanceof Un?s:v instanceof Ei?a:r,g&&this.set(g)}};return se.each(s,function(p,g){var v=/Color$/.test(g),y="shadowOffset"===g,S=se.capitalize(g),b=c[g],C="set"+S,D="get"+S;d[C]=function(N){var O=this._owner,P=O&&O._children,I=P&&P.length>0&&!(O instanceof ai);if(I)for(var x=0,E=P.length;x<E;x++)P[x]._style[C](N);if(("selectedColor"===g||!I)&&g in this._defaults){var M=this._values[g];M!==N&&(v&&(M&&(sn._setOwner(M,null),M._canvasStyle=null),N&&N.constructor===sn&&(N=sn._setOwner(N,O,I&&C))),this._values[g]=N,O&&O._changed(b||129))}},d[D]=function(N){var O=this._owner,P=O&&O._children,I=P&&P.length>0&&!(O instanceof ai);if(I&&!N)for(var E=0,M=P.length;E<M;E++){var R=P[E]._style[D]();if(E){if(!se.equals(x,R))return Te}else x=R}else if(g in this._defaults){var x;if((x=this._values[g])===Te)(x=this._defaults[g])&&x.clone&&(x=x.clone());else{var L=v?sn:y?ae:null;L&&(!x||x.constructor!==L)&&(this._values[g]=x=L.read([x],0,{readNull:!0,clone:!0}))}}return x&&v&&(x=sn._setOwner(x,O,I&&C)),x},f[D]=function(N){return this._style[D](N)},f[C]=function(N){this._style[C](N)}}),se.each({Font:"FontFamily",WindingRule:"FillRule"},function(p,g){var v="get"+g,y="set"+g;d[v]=f[v]="#get"+p,d[y]=f[y]="#set"+p}),et.inject(f),d},{set:function(r){var s=r instanceof ln,a=s?r._values:r;if(a)for(var c in a)if(c in this._defaults){var f=a[c];this[c]=f&&s&&f.clone?f.clone():f}},equals:function(r){function s(a,c,f){var d=a._values,p=c._values,g=c._defaults;for(var v in d){var S=p[v];if(!(f&&v in p||se.equals(d[v],S===Te?g[v]:S)))return!1}return!0}return r===this||r&&this._class===r._class&&s(this,r)&&s(r,this,!0)||!1},_dispose:function(){var r;(r=this.getFillColor())&&(r._canvasStyle=null),(r=this.getStrokeColor())&&(r._canvasStyle=null),(r=this.getShadowColor())&&(r._canvasStyle=null)},hasFill:function(){var r=this.getFillColor();return!!r&&r.alpha>0},hasStroke:function(){var r=this.getStrokeColor();return!!r&&r.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var r=this.getShadowColor();return!!r&&r.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var r=this.getFontSize();return this.getFontWeight()+" "+r+(/[a-z]/i.test(r+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function r(){var s=r.base.call(this),a=this.getFontSize();return/pt|em|%|px/.test(a)&&(a=this.getView().getPixelSize(a)),s??1.2*a}}),It=new function(){function r(s,a,c,f){for(var d=["","webkit","moz","Moz","ms","o"],p=a[0].toUpperCase()+a.substring(1),g=0;g<6;g++){var v=d[g],y=v?v+p:a;if(y in s){if(!c)return s[y];s[y]=f;break}}}return{getStyles:function(s){var a=s&&9!==s.nodeType?s.ownerDocument:s,c=a&&a.defaultView;return c&&c.getComputedStyle(s,"")},getBounds:function(s,a){var p,c=s.ownerDocument,f=c.body,d=c.documentElement;try{p=s.getBoundingClientRect()}catch{p={left:0,top:0,width:0,height:0}}var g=p.left-(d.clientLeft||f.clientLeft||0),v=p.top-(d.clientTop||f.clientTop||0);if(!a){var y=c.defaultView;g+=y.pageXOffset||d.scrollLeft||f.scrollLeft,v+=y.pageYOffset||d.scrollTop||f.scrollTop}return new tt(g,v,p.width,p.height)},getViewportBounds:function(s){var a=s.ownerDocument,c=a.defaultView,f=a.documentElement;return new tt(0,0,c.innerWidth||f.clientWidth,c.innerHeight||f.clientHeight)},getOffset:function(s,a){return It.getBounds(s,a).getPoint()},getSize:function(s){return It.getBounds(s,!0).getSize()},isInvisible:function(s){return It.getSize(s).equals(new Ae(0,0))},isInView:function(s){return!It.isInvisible(s)&&It.getViewportBounds(s).intersects(It.getBounds(s,!0))},isInserted:function(s){return ie.body.contains(s)},getPrefixed:function(s,a){return s&&r(s,a)},setPrefixed:function(s,a,c){if("object"==typeof a)for(var f in a)r(s,f,!0,a[f]);else r(s,a,!0,c)}}},Et={add:function(r,s){if(r)for(var a in s)for(var c=s[a],f=a.split(/[\s,]+/g),d=0,p=f.length;d<p;d++){var g=f[d];r.addEventListener(g,c,r===ie&&("touchstart"===g||"touchmove"===g)&&{passive:!1})}},remove:function(r,s){if(r)for(var a in s)for(var c=s[a],f=a.split(/[\s,]+/g),d=0,p=f.length;d<p;d++)r.removeEventListener(f[d],c,!1)},getPoint:function(r){var s=r.targetTouches?r.targetTouches.length?r.targetTouches[0]:r.changedTouches[0]:r;return new ae(s.pageX||s.clientX+ie.documentElement.scrollLeft,s.pageY||s.clientY+ie.documentElement.scrollTop)},getTarget:function(r){return r.target||r.srcElement},getRelatedTarget:function(r){return r.relatedTarget||r.toElement},getOffset:function(r,s){return Et.getPoint(r).subtract(It.getOffset(s||Et.getTarget(r)))}};Et.requestAnimationFrame=new function(){var c,r=It.getPrefixed(Dt,"requestAnimationFrame"),s=!1,a=[];function f(){var d=a;a=[];for(var p=0,g=d.length;p<g;p++)d[p]();(s=r&&a.length)&&r(f)}return function(d){a.push(d),r?s||(r(f),s=!0):c||(c=setInterval(f,16.666666666666668))}};var fn=se.extend(Jn,{_class:"View",initialize:function r(s,a){function c(b){return a[b]||parseInt(a.getAttribute(b),10)}function f(){var b=It.getSize(a);return b.isNaN()||b.isZero()?new Ae(c("width"),c("height")):b}var d;if(Dt&&a){this._id=a.getAttribute("id"),null==this._id&&a.setAttribute("id",this._id="paper-view-"+r._id++),Et.add(a,this._viewEvents);var p="none";if(It.setPrefixed(a.style,{userDrag:p,userSelect:p,touchCallout:p,contentZooming:p,tapHighlightColor:"rgba(0,0,0,0)"}),In.hasAttribute(a,"resize")){var g=this;Et.add(Dt,this._windowEvents={resize:function(){g.setViewSize(f())}})}if(d=f(),In.hasAttribute(a,"stats")&&typeof Stats<"u"){this._stats=new Stats;var v=this._stats.domElement,y=v.style,S=It.getOffset(a);y.position="absolute",y.left=S.x+"px",y.top=S.y+"px",ie.body.appendChild(v)}}else d=new Ae(a),a=null;this._project=s,this._scope=s._scope,this._element=a,this._pixelRatio||(this._pixelRatio=Dt&&Dt.devicePixelRatio||1),this._setElementSize(d.width,d.height),this._viewSize=d,r._views.push(this),r._viewsById[this._id]=this,(this._matrix=new gt)._owner=this,r._focused||(r._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!u.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;fn._focused===this&&(fn._focused=null),fn._views.splice(fn._views.indexOf(this),1),delete fn._viewsById[this._id];var r=this._project;return r._view===this&&(r._view=null),Et.remove(this._element,this._viewEvents),Et.remove(Dt,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:se.each(et._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(r){this[r]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(r){this._autoUpdate=r,r&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var r=this;Et.requestAnimationFrame(function(){if(r._requested=!1,r._animate){r.requestUpdate();var s=r._element;(!It.getPrefixed(ie,"hidden")||"true"===In.getAttribute(s,"keepalive"))&&It.isInView(s)&&r._handleFrame()}r._autoUpdate&&r.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){u=this._scope;var r=Date.now()/1e3,s=this._last?r-this._last:0;this._last=r,this.emit("frame",new se({delta:s,time:this._time+=s,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(r,s){var a=this._frameItems;s?(a[r._id]={item:r,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete a[r._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(r){for(var s in this._frameItems){var a=this._frameItems[s];a.item.emit("frame",new se(r,{time:a.time+=r.delta,count:a.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=Te},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var r=this._viewSize;return new Q(r.width,r.height,this,"setViewSize")},setViewSize:function(){var r=Ae.read(arguments),s=r.subtract(this._viewSize);s.isZero()||(this._setElementSize(r.width,r.height),this._viewSize.set(r),this._changed(),this.emit("resize",{size:r,delta:s}),this._autoUpdate&&this.update())},_setElementSize:function(r,s){var a=this._element;a&&(a.width!==r&&(a.width=r),a.height!==s&&(a.height=s))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new tt(new ae,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return It.isInView(this._element)},isInserted:function(){return It.isInserted(this._element)},getPixelSize:function(r){var a,s=this._element;if(s){var c=s.parentNode,f=ie.createElement("div");f.style.fontSize=r,c.appendChild(f),a=parseFloat(It.getStyles(f).fontSize),c.removeChild(f)}else a=parseFloat(a);return a},getTextWidth:function(r,s){return 0}},se.each(["rotate","scale","shear","skew"],function(r){var s="rotate"===r;this[r]=function(){var a=arguments,c=(s?se:ae).read(a),f=ae.read(a,0,{readNull:!0});return this.transform((new gt)[r](c,f||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var r=new gt;return this.transform(r.translate.apply(r,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var r=ae.read(arguments);this.translate(this.getCenter().subtract(r))},getZoom:function(){var r=this._decompose().scaling;return(r.x+r.y)/2},setZoom:function(r){this.transform((new gt).scale(r/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(r){var s=this.getRotation();null!=s&&null!=r&&this.rotate(r-s)},getScaling:function(){var r=this._decompose().scaling;return new We(r.x,r.y,this,"setScaling")},setScaling:function(){var r=this.getScaling(),s=ae.read(arguments,0,{clone:!0,readNull:!0});r&&s&&this.scale(s.x/r.x,s.y/r.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var r=this._matrix;r.set.apply(r,arguments)},transform:function(r){this._matrix.append(r)},scrollBy:function(){this.translate(ae.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ae.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ae.read(arguments))},getEventPoint:function(r){return this.viewToProject(Et.getOffset(r,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(r,s){return ie&&"string"==typeof s&&(s=ie.getElementById(s)),new(Dt?br:fn)(r,s)}}},new function(){if(Dt){var r,s,v,y,S,a=!1,c=!1,g=Dt.navigator;g.pointerEnabled||g.msPointerEnabled?(v="pointerdown MSPointerDown",y="pointermove MSPointerMove",S="pointerup pointercancel MSPointerUp MSPointerCancel"):(v="touchstart",y="touchmove",S="touchend touchcancel","ontouchstart"in Dt&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(v+=" mousedown",y+=" mousemove",S+=" mouseup"));var b={},C={mouseout:function(q){var W=fn._focused,Y=Et.getRelatedTarget(q);if(W&&(!Y||"HTML"===Y.nodeName)){var X=Et.getOffset(q,W._element),ne=X.x,ce=Math.abs,ge=ce(ne),ye=ge-(1<<25);X.x=ce(ye)<ge?ye*(ne<0?-1:1):ne,p(W,q,W.viewToProject(X))}},scroll:d};b[v]=function(q){var W=fn._focused=f(q);a||(a=!0,W._handleMouseEvent("mousedown",q))},C[y]=function(q){var W=fn._focused;if(!c){var Y=f(q);Y?W!==Y&&(W&&p(W,q),r||(r=W),W=fn._focused=s=Y):s&&s===W&&(r&&!r.isInserted()&&(r=null),W=fn._focused=r,r=null,d())}W&&p(W,q)},C[v]=function(){c=!0},C[S]=function(q){var W=fn._focused;W&&a&&W._handleMouseEvent("mouseup",q),c=a=!1},Et.add(ie,C),Et.add(Dt,{load:d});var x,E,M,R,L,F,V,z,D=!1,N=!1,O={doubleclick:"click",mousedrag:"mousemove"},P=!1,$={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:b,_handleMouseEvent:function(q,W,Y){var X=this._itemEvents,ne=X.native[q],ce="mousemove"===q,ge=this._scope.tool,we=this;function ye(Ne){return X.virtual[Ne]||we.responds(Ne)||ge&&ge.responds(Ne)}ce&&a&&ye("mousedrag")&&(q="mousedrag"),Y||(Y=this.getEventPoint(W));var fe=this.getBounds().contains(Y),pe=ne&&fe&&we._project.hitTest(Y,{tolerance:0,fill:!0,stroke:!0}),he=pe&&pe.item||null,Ce=!1,De={};if(De[q.substr(5)]=!0,ne&&he!==R&&(R&&U(R,null,"mouseleave",W,Y),he&&U(he,null,"mouseenter",W,Y),R=he),P^fe&&(U(this,null,fe?"mouseenter":"mouseleave",W,Y),Ce=!0),(fe||De.drag)&&!Y.equals(E)&&(K(this,he,ce?q:"mousemove",W,Y,E),Ce=!0),P=fe,De.down&&fe||De.up&&x){if(K(this,he,q,W,Y,x),De.down){if(z=he===F&&Date.now()-V<300,M=F=he,!N&&he){for(var ke=he;ke&&!ke.responds("mousedrag");)ke=ke._parent;ke&&(L=he)}x=Y}else De.up&&(!N&&he===M&&(V=Date.now(),K(this,he,z?"doubleclick":"click",W,Y,x),z=!1),M=L=null);P=!1,Ce=!0}E=Y,Ce&&ge&&(D=ge._handleMouseEvent(q,W,Y,De)||D),!1!==W.cancelable&&(D&&!De.move||De.down&&ye("mouseup"))&&W.preventDefault()},_handleKeyEvent:function(q,W,Y,X){var ge,ne=this._scope,ce=ne.tool;function we(ye){ye.responds(q)&&(u=ne,ye.emit(q,ge=ge||new as(q,W,Y,X)))}this.isVisible()&&(we(this),ce&&ce.responds(q)&&we(ce))},_countItemEvent:function(q,W){var Y=this._itemEvents,X=Y.native,ne=Y.virtual;for(var ce in $)X[ce]=(X[ce]||0)+($[ce][q]||0)*W;ne[q]=(ne[q]||0)+W},statics:{updateFocus:d,_resetState:function(){a=c=D=P=!1,r=s=x=E=M=R=L=F=V=z=null}}}}function f(q){var W=Et.getTarget(q);return W.getAttribute&&fn._viewsById[W.getAttribute("id")]}function d(){var q=fn._focused;if(!q||!q.isVisible())for(var W=0,Y=fn._views.length;W<Y;W++)if((q=fn._views[W]).isVisible()){fn._focused=s=q;break}}function p(q,W,Y){q._handleMouseEvent("mousemove",W,Y)}function U(q,W,Y,X,ne,ce,ge){var ye,we=!1;function fe(pe,he){if(pe.responds(he)){if(ye||(ye=new Os(he,X,ne,W||pe,ce?ne.subtract(ce):null)),pe.emit(he,ye)&&(D=!0,ye.prevented&&(N=!0),ye.stopped))return we=!0}else{var Ce=O[he];if(Ce)return fe(pe,Ce)}}for(;q&&q!==ge&&!fe(q,Y);)q=q._parent;return we}function K(q,W,Y,X,ne,ce){return q._project.removeOn(Y),N=D=!1,L&&U(L,null,Y,X,ne,ce)||W&&W!==L&&!W.isDescendant(L)&&U(W,null,"mousedrag"===Y?"mousemove":Y,X,ne,ce,L)||U(q,L||W||q,Y,X,ne,ce)}}),br=fn.extend({_class:"CanvasView",initialize:function(s,a){if(!(a instanceof Dt.HTMLCanvasElement)){var c=Ae.read(arguments,1);if(c.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+se.slice(arguments,1));a=Rt.getCanvas(c)}var f=this._context=a.getContext("2d");if(f.save(),this._pixelRatio=1,!/^off|false$/.test(In.getAttribute(a,"hidpi"))){var d=Dt.devicePixelRatio||1,p=It.getPrefixed(f,"backingStorePixelRatio")||1;this._pixelRatio=d/p}fn.call(this,s,a),this._needsUpdate=!0},remove:function r(){return this._context.restore(),r.base.call(this)},_setElementSize:function r(s,a){var c=this._pixelRatio;if(r.base.call(this,s*c,a*c),1!==c){var f=this._element,d=this._context;if(!In.hasAttribute(f,"resize")){var p=f.style;p.width=s+"px",p.height=a+"px"}d.restore(),d.save(),d.scale(c,c)}},getContext:function(){return this._context},getPixelSize:function r(s){var c,a=u.agent;if(a&&a.firefox)c=r.base.call(this,s);else{var f=this._context,d=f.font;f.font=s+" serif",c=parseFloat(f.font),f.font=d}return c},getTextWidth:function(r,s){var a=this._context,c=a.font,f=0;a.font=r;for(var d=0,p=s.length;d<p;d++)f=Math.max(f,a.measureText(s[d]).width);return a.font=c,f},update:function(){if(!this._needsUpdate)return!1;var r=this._project,s=this._context,a=this._viewSize;return s.clearRect(0,0,a.width+1,a.height+1),r&&r.draw(s,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ar=se.extend({_class:"Event",initialize:function(s){this.event=s,this.type=s&&s.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return xi.modifiers}}),as=ar.extend({_class:"KeyEvent",initialize:function(s,a,c,f){this.type=s,this.event=a,this.key=c,this.character=f},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),xi=new function(){var f,d,r={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},s={tab:"\t",space:" ",enter:"\r"},a={},c={},p=new se({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var y=u&&u.agent;return y&&y.mac?this.meta:this.control}}});function g(y){var S=y.key||y.keyIdentifier;return S=/^U\+/.test(S)?String.fromCharCode(parseInt(S.substr(2),16)):/^Arrow[A-Z]/.test(S)?S.substr(5):"Unidentified"===S||S===Te?String.fromCharCode(y.keyCode):S,r[S]||(S.length>1?se.hyphenate(S):S.toLowerCase())}function v(y,S,b,C){var O,N=fn._focused;if(a[S]=y,y?c[S]=b:delete c[S],S.length>1&&(O=se.camelize(S))in p){p[O]=y;var P=u&&u.agent;if("meta"===O&&P&&P.mac)if(y)f={};else{for(var I in f)I in c&&v(!1,I,f[I],C);f=null}}else y&&f&&(f[S]=b);N&&N._handleKeyEvent(y?"keydown":"keyup",C,S,b)}return Et.add(ie,{keydown:function(y){var S=g(y),b=u&&u.agent;S.length>1||b&&b.chrome&&(y.altKey||b.mac&&y.metaKey||!b.mac&&y.ctrlKey)?v(!0,S,s[S]||(S.length>1?"":S),y):d=S},keypress:function(y){if(d){var S=g(y),b=y.charCode,C=b>=32?String.fromCharCode(b):S.length>1?"":S;S!==d&&(S=C.toLowerCase()),v(!0,S,C,y),d=null}},keyup:function(y){var S=g(y);S in c&&v(!1,S,c[S],y)}}),Et.add(Dt,{blur:function(y){for(var S in c)v(!1,S,c[S],y)}}),{modifiers:p,isDown:function(y){return!!a[y]}}},Os=ar.extend({_class:"MouseEvent",initialize:function(s,a,c,f,d){this.type=s,this.event=a,this.point=c,this.target=f,this.delta=d},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Vo=ar.extend({_class:"ToolEvent",_item:null,initialize:function(s,a,c){this.tool=s,this.type=a,this.event=c},_choosePoint:function(r,s){return r||(s?s.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(r){this._point=r},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(r){this._lastPoint=r},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(r){this._downPoint=r},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(r){this._middlePoint=r},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(r){this._delta=r},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(r){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=r},getItem:function(){if(!this._item){var r=this.tool._scope.project.hitTest(this.getPoint());if(r){for(var s=r.item,a=s._parent;/^(Group|CompoundPath)$/.test(a._class);)s=a,a=a._parent;this._item=s}}return this._item},setItem:function(r){this._item=r},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),us=Tn.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(s){Tn.call(this),this._moveCount=-1,this._downCount=-1,this.set(s)},getMinDistance:function(){return this._minDistance},setMinDistance:function(r){this._minDistance=r,null!=r&&null!=this._maxDistance&&r>this._maxDistance&&(this._maxDistance=r)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(r){this._maxDistance=r,null!=this._minDistance&&null!=r&&r<this._minDistance&&(this._minDistance=r)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(r){this._minDistance=this._maxDistance=r},_handleMouseEvent:function(r,s,a,c){u=this._scope,c.drag&&!this.responds(r)&&(r="mousemove");var f=c.move||c.drag,d=this.responds(r),p=this.minDistance,g=this.maxDistance,v=!1,y=this;function S(C,D){var N=a,O=f?y._point:y._downPoint||N;if(f){if(y._moveCount>=0&&N.equals(O))return!1;if(O&&(null!=C||null!=D)){var P=N.subtract(O),I=P.getLength();if(I<(C||0))return!1;D&&(N=O.add(P.normalize(Math.min(I,D))))}y._moveCount++}return y._point=N,y._lastPoint=O||N,c.down&&(y._moveCount=-1,y._downPoint=N,y._downCount++),!0}function b(){d&&(v=y.emit(r,new Vo(y,r,s))||v)}if(c.down)S(),b();else if(c.up)S(null,g),b();else if(d)for(;S(p,g);)b();return v}}),mn=se.extend(Jn,{_class:"Tween",statics:{easings:new se({linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:2*(2-r)*r-1},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}})},initialize:function r(s,a,c,f,d,p){this.object=s;var g=typeof d,v="function"===g;this.type=v?g:"string"===g?d:"linear",this.easing=v?d:r.easings[this.type],this.duration=f,this.running=!1,this._then=null,this._startTime=null;var y=a||c;this._keys=y?Object.keys(y):[],this._parsedKeys=this._parseKeys(this._keys),this._from=y&&this._getState(a),this._to=y&&this._getState(c),!1!==p&&this.start()},then:function(r){return this._then=r,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(r){if(this.running){r>=1&&(r=1,this.running=!1);for(var s=this.easing(r),a=this._keys,c=function(S){return"function"==typeof S?S(s,r):S},f=0,d=a&&a.length;f<d;f++){var p=a[f],g=c(this._from[p]),v=c(this._to[p]),y=g&&v&&g.__add&&v.__add?v.__subtract(g).__multiply(s).__add(g):(v-g)*s+g;this._setProperty(this._parsedKeys[p],y)}this.responds("update")&&this.emit("update",new se({progress:r,factor:s})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(r){var s=this._startTime,a=s?(r-s)/this.duration:0;s||(this._startTime=r),this.update(a)},_getState:function(r){for(var s=this._keys,a={},c=0,f=s.length;c<f;c++){var v,d=s[c],p=this._parsedKeys[d],g=this._getProperty(p);if(r){var y=this._resolveValue(g,r[d]);this._setProperty(p,y),v=(v=this._getProperty(p))&&v.clone?v.clone():v,this._setProperty(p,g)}else v=g&&g.clone?g.clone():g;a[d]=v}return a},_resolveValue:function(r,s){if(s){if(Array.isArray(s)&&2===s.length){var a=s[0];return a&&a.match&&a.match(/^[+\-\*\/]=/)?this._calculate(r,a[0],s[1]):s}if("string"==typeof s){var c=s.match(/^[+\-*/]=(.*)/);if(c){var f=JSON.parse(c[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(r,s[0],f)}}}return s},_calculate:function(r,s,a){return u.PaperScript.calculateBinary(r,s,a)},_parseKeys:function(r){for(var s={},a=0,c=r.length;a<c;a++){var f=r[a],d=f.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");s[f]=d.split("/")}return s},_getProperty:function(r,s){for(var a=this.object,c=0,f=r.length-(s||0);c<f&&a;c++)a=a[r[c]];return a},_setProperty:function(r,s){var a=this._getProperty(r,1);a&&(a[r[r.length-1]]=s)}}),qt={request:function(r){var s=new Ie.XMLHttpRequest;return s.open((r.method||"get").toUpperCase(),r.url,se.pick(r.async,!0)),r.mimeType&&s.overrideMimeType(r.mimeType),s.onload=function(){var a=s.status;0===a||200===a?r.onLoad&&r.onLoad.call(s,s.responseText):s.onerror()},s.onerror=function(){var a=s.status,c='Could not load "'+r.url+'" (Status: '+a+")";if(!r.onError)throw new Error(c);r.onError(c,a)},s.send(null)}},Rt=se.exports.CanvasProvider={canvases:[],getCanvas:function(r,s,a){if(!Dt)return null;var c,f=!0;"object"==typeof r&&(s=r.height,r=r.width),this.canvases.length?c=this.canvases.pop():(c=ie.createElement("canvas"),f=!1);var d=c.getContext("2d",a||{});if(!d)throw new Error("Canvas "+c+" is unable to provide a 2D context.");return c.width===r&&c.height===s?f&&d.clearRect(0,0,r+1,s+1):(c.width=r,c.height=s),d.save(),c},getContext:function(r,s,a){var c=this.getCanvas(r,s,a);return c?c.getContext("2d",a||{}):null},release:function(r){var s=r&&r.canvas?r.canvas:r;s&&s.getContext&&(s.getContext("2d").restore(),this.canvases.push(s))}},dn=new function(){var c,f,d,p,g,v,y,S,b,C,D,r=Math.min,s=Math.max,a=Math.abs;function N(R,L,F){return.2989*R+.587*L+.114*F}function O(R,L,F,U){var z=U-N(R,L,F),K=(U=N(b=R+z,C=L+z,D=F+z),r(b,C,D)),$=s(b,C,D);if(K<0){var q=U-K;b=U+(b-U)*U/q,C=U+(C-U)*U/q,D=U+(D-U)*U/q}if($>255){var W=255-U,Y=$-U;b=U+(b-U)*W/Y,C=U+(C-U)*W/Y,D=U+(D-U)*W/Y}}function P(R,L,F){return s(R,L,F)-r(R,L,F)}function I(R,L,F,V){var $,z=[R,L,F],U=s(R,L,F),K=r(R,L,F);$=0===r(K=K===R?0:K===L?1:2,U=U===R?0:U===L?1:2)?1===s(K,U)?2:1:0,z[U]>z[K]?(z[$]=(z[$]-z[K])*V/(z[U]-z[K]),z[U]=V):z[$]=z[U]=0,z[K]=0,b=z[0],C=z[1],D=z[2]}var x={multiply:function(){b=g*c/255,C=v*f/255,D=y*d/255},screen:function(){b=g+c-g*c/255,C=v+f-v*f/255,D=y+d-y*d/255},overlay:function(){b=g<128?2*g*c/255:255-2*(255-g)*(255-c)/255,C=v<128?2*v*f/255:255-2*(255-v)*(255-f)/255,D=y<128?2*y*d/255:255-2*(255-y)*(255-d)/255},"soft-light":function(){var R=c*g/255;b=R+g*(255-(255-g)*(255-c)/255-R)/255,C=(R=f*v/255)+v*(255-(255-v)*(255-f)/255-R)/255,D=(R=d*y/255)+y*(255-(255-y)*(255-d)/255-R)/255},"hard-light":function(){b=c<128?2*c*g/255:255-2*(255-c)*(255-g)/255,C=f<128?2*f*v/255:255-2*(255-f)*(255-v)/255,D=d<128?2*d*y/255:255-2*(255-d)*(255-y)/255},"color-dodge":function(){b=0===g?0:255===c?255:r(255,255*g/(255-c)),C=0===v?0:255===f?255:r(255,255*v/(255-f)),D=0===y?0:255===d?255:r(255,255*y/(255-d))},"color-burn":function(){b=255===g?255:0===c?0:s(0,255-255*(255-g)/c),C=255===v?255:0===f?0:s(0,255-255*(255-v)/f),D=255===y?255:0===d?0:s(0,255-255*(255-y)/d)},darken:function(){b=g<c?g:c,C=v<f?v:f,D=y<d?y:d},lighten:function(){b=g>c?g:c,C=v>f?v:f,D=y>d?y:d},difference:function(){(b=g-c)<0&&(b=-b),(C=v-f)<0&&(C=-C),(D=y-d)<0&&(D=-D)},exclusion:function(){b=g+c*(255-g-g)/255,C=v+f*(255-v-v)/255,D=y+d*(255-y-y)/255},hue:function(){I(c,f,d,P(g,v,y)),O(b,C,D,N(g,v,y))},saturation:function(){I(g,v,y,P(c,f,d)),O(b,C,D,N(g,v,y))},luminosity:function(){O(g,v,y,N(c,f,d))},color:function(){O(c,f,d,N(g,v,y))},add:function(){b=r(g+c,255),C=r(v+f,255),D=r(y+d,255)},subtract:function(){b=s(g-c,0),C=s(v-f,0),D=s(y-d,0)},average:function(){b=(g+c)/2,C=(v+f)/2,D=(y+d)/2},negation:function(){b=255-a(255-c-g),C=255-a(255-f-v),D=255-a(255-d-y)}},E=this.nativeModes=se.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(R){this[R]=!0},{}),M=Rt.getContext(1,1,{willReadFrequently:!0});M&&(se.each(x,function(R,L){var F="darken"===L,V=!1;M.save();try{M.fillStyle=F?"#300":"#a00",M.fillRect(0,0,1,1),M.globalCompositeOperation=L,M.globalCompositeOperation===L&&(M.fillStyle=F?"#a00":"#300",M.fillRect(0,0,1,1),V=M.getImageData(0,0,1,1).data[0]!==F?170:51)}catch{}M.restore(),E[L]=V}),Rt.release(M)),this.process=function(R,L,F,V,z){var U=L.canvas,K="normal"===R;if(K||E[R])F.save(),F.setTransform(1,0,0,1,0,0),F.globalAlpha=V,K||(F.globalCompositeOperation=R),F.drawImage(U,z.x,z.y),F.restore();else{var $=x[R];if(!$)return;for(var q=F.getImageData(z.x,z.y,U.width,U.height),W=q.data,Y=L.getImageData(0,0,U.width,U.height).data,X=0,ne=W.length;X<ne;X+=4){c=Y[X],g=W[X],f=Y[X+1],v=W[X+1],d=Y[X+2],y=W[X+2],p=Y[X+3],S=W[X+3],$();var ce=p*V/255,ge=1-ce;W[X]=ce*b+ge*g,W[X+1]=ce*C+ge*v,W[X+2]=ce*D+ge*y,W[X+3]=p*V+ge*S}F.putImageData(q,z.x,z.y)}}},cn=new function(){var r="http://www.w3.org/2000/svg",s="http://www.w3.org/2000/xmlns",a="http://www.w3.org/1999/xlink",c={href:a,xlink:s,xmlns:s+"/","xmlns:xlink":s+"/"};function p(g,v,y){for(var S in v){var b=v[S],C=c[S];"number"==typeof b&&y&&(b=y.number(b)),C?g.setAttributeNS(C,S,b):g.setAttribute(S,b)}return g}return{svg:r,xmlns:s,xlink:a,create:function f(g,v,y){return p(ie.createElementNS(r,g),v,y)},get:function d(g,v){var y=c[v],S=y?g.getAttributeNS(y,v):g.getAttribute(v);return"null"===S?null:S},set:p}},Ve=se.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(r,s){return!s&&(r instanceof ht||r instanceof Cn||r instanceof Ei)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(r,s){var a=se.capitalize(s),c=r[2];this[s]={type:r[1],property:s,attribute:r[0],toSVG:c,fromSVG:c&&se.each(c,function(f,d){this[f]=d},{}),exportFilter:r[3],get:"get"+a,set:"set"+a}},{});new function(){var r;function s(x,E,M){var F,R=new se,L=x.getTranslation();if(E&&(x.isInvertible()?(F=(x=x._shiftless())._inverseTransform(L),L=null):F=new ae,R[M?"cx":"x"]=F.x,R[M?"cy":"y"]=F.y),!x.isIdentity()){var V=x.decompose();if(V){var z=[],U=V.rotation,K=V.scaling,$=V.skewing;L&&!L.isZero()&&z.push("translate("+r.point(L)+")"),U&&z.push("rotate("+r.number(U)+")"),(!_t.isZero(K.x-1)||!_t.isZero(K.y-1))&&z.push("scale("+r.point(K)+")"),$.x&&z.push("skewX("+r.number($.x)+")"),$.y&&z.push("skewY("+r.number($.y)+")"),R.transform=z.join(" ")}else R.transform="matrix("+x.getValues().join(",")+")"}return R}function a(x,E){for(var M=s(x._matrix),R=x._children,L=cn.create("g",M,r),F=0,V=R.length;F<V;F++){var z=R[F],U=P(z,E);if(U)if(z.isClipMask()){var K=cn.create("clipPath");K.appendChild(U),N(z,K,"clip"),cn.set(L,{"clip-path":"url(#"+K.id+")"})}else L.appendChild(U)}return L}function d(x){var E=x._type,M=x._radius,R=s(x._matrix,!0,"rectangle"!==E);if("rectangle"===E){E="rect";var L=x._size,F=L.width,V=L.height;R.x-=F/2,R.y-=V/2,R.width=F,R.height=V,M.isZero()&&(M=null)}return M&&("circle"===E?R.r=M:(R.rx=M.width,R.ry=M.height)),cn.create(E,R,r)}var C,S={Group:a,Layer:a,Raster:function c(x,E){var M=s(x._matrix,!0),R=x.getSize(),L=x.getImage();return M.x-=R.width/2,M.y-=R.height/2,M.width=R.width,M.height=R.height,M.href=0==E.embedImages&&L&&L.src||x.toDataURL(),cn.create("image",M,r)},Path:function f(x,E){var M=E.matchShapes;if(M){var R=x.toShape(!1);if(R)return d(R)}var V,L=x._segments,F=L.length,z=s(x._matrix);if(M&&F>=2&&!x.hasHandles())if(F>2){V=x._closed?"polygon":"polyline";for(var U=[],K=0;K<F;K++)U.push(r.point(L[K]._point));z.points=U.join(" ")}else{V="line";var $=L[0]._point,q=L[1]._point;z.set({x1:$.x,y1:$.y,x2:q.x,y2:q.y})}else V="path",z.d=x.getPathData(null,E.precision);return cn.create(V,z,r)},Shape:d,CompoundPath:function p(x,E){var M=s(x._matrix),R=x.getPathData(null,E.precision);return R&&(M.d=R),cn.create("path",M,r)},SymbolItem:function g(x,E){var M=s(x._matrix,!0),R=x._definition,L=D(R,"symbol"),F=R._item,V=F.getStrokeBounds();return L||((L=cn.create("symbol",{viewBox:r.rectangle(V)})).appendChild(P(F,E)),N(R,L,"symbol")),M.href="#"+L.id,M.x+=V.x,M.y+=V.y,M.width=V.width,M.height=V.height,M.overflow="visible",cn.create("use",M,r)},PointText:function y(x){var E=cn.create("text",s(x._matrix,!0),r);return E.textContent=x._content,E}};function D(x,E){return C||(C={ids:{},svgs:{}}),x&&C.svgs[E+"-"+(x._id||x.__id||(x.__id=le.get("svg")))]}function N(x,E,M){C||D();var R=C.ids[M]=(C.ids[M]||0)+1;E.id=M+"-"+R,C.svgs[M+"-"+(x._id||x.__id)]=E}function O(x,E){var M=x,R=null;if(C){for(var L in M="svg"===x.nodeName.toLowerCase()&&x,C.svgs)R||(M||(M=cn.create("svg")).appendChild(x),R=M.insertBefore(cn.create("defs"),M.firstChild)),R.appendChild(C.svgs[L]);C=null}return E.asString?(new Ie.XMLSerializer).serializeToString(M):M}function P(x,E,M){var R=S[x._class],L=R&&R(x,E);if(L){var F=E.onExport;F&&(L=F(x,L,E)||L);var V=JSON.stringify(x._data);V&&"{}"!==V&&"null"!==V&&L.setAttribute("data-paper-data",V)}return L&&function b(x,E,M){var R={},L=!M&&x.getParent(),F=[];return null!=x._name&&(R.id=x._name),se.each(Ve,function(V){var z=V.get,U=V.type,K=x[z]();if(V.exportFilter?V.exportFilter(x,K):!L||!se.equals(L[z](),K)){if("color"===U&&null!=K){var $=K.getAlpha();$<1&&(R[V.attribute+"-opacity"]=$)}"style"===U?F.push(V.attribute+": "+K):R[V.attribute]=null==K?"none":"color"===U?K.gradient?function v(x){var E=D(x,"color");if(!E){var V,M=x.getGradient(),R=M._radial,L=x.getOrigin(),F=x.getDestination();if(R){V={cx:L.x,cy:L.y,r:L.getDistance(F)};var z=x.getHighlight();z&&(V.fx=z.x,V.fy=z.y)}else V={x1:L.x,y1:L.y,x2:F.x,y2:F.y};V.gradientUnits="userSpaceOnUse",E=cn.create((R?"radial":"linear")+"Gradient",V,r);for(var U=M._stops,K=0,$=U.length;K<$;K++){var q=U[K],W=q._color,Y=W.getAlpha();V={offset:q._offset??K/($-1)},W&&(V["stop-color"]=W.toCSS(!0)),Y<1&&(V["stop-opacity"]=Y),E.appendChild(cn.create("stop",V,r))}N(x,E,"color")}return"url(#"+E.id+")"}(K):K.toCSS(!0):"array"===U?K.join(","):"lookup"===U?V.toSVG[K]:K}}),F.length&&(R.style=F.join(";")),1===R.opacity&&delete R.opacity,x._visible||(R.visibility="hidden"),cn.set(E,R,r)}(x,L,M)}function I(x){return x||(x={}),r=new je(x.precision),x}et.inject({exportSVG:function(x){return O(P(this,x=I(x),!0),x)}}),ct.inject({exportSVG:function(x){x=I(x);var E=this._children,M=this.getView(),R=se.pick(x.bounds,"view"),L=x.matrix||"view"===R&&M._matrix,F=L&&gt.read([L]),V="view"===R?new tt([0,0],M.getViewSize()):"content"===R?et._getBounds(E,F,{stroke:!0}).rect:tt.read([R],0,{readNull:!0}),z={version:"1.1",xmlns:cn.svg,"xmlns:xlink":cn.xlink};V&&(z.width=V.width,z.height=V.height,(V.x||0===V.x||V.y||0===V.y)&&(z.viewBox=r.rectangle(V)));var U=cn.create("svg",z,r),K=U;F&&!F.isIdentity()&&(K=U.appendChild(cn.create("g",s(F),r)));for(var $=0,q=E.length;$<q;$++)K.appendChild(P(E[$],x,!0));return O(U,x)}})},new function(){var s,r={};function a(E,M,R,L,F,V){var z=cn.get(E,M)||V,U=null==z?L?null:R?"":0:R?z:parseFloat(z);return/%\s*$/.test(z)?U/100*(F?1:s[/x|^width/.test(M)?"width":"height"]):U}function c(E,M,R,L,F,V,z){return M=a(E,M||"x",!1,L,F,V),R=a(E,R||"y",!1,L,F,z),!L||null!=M&&null!=R?new ae(M,R):null}function f(E,M,R,L,F){return M=a(E,M||"width",!1,L,F),R=a(E,R||"height",!1,L,F),!L||null!=M&&null!=R?new Ae(M,R):null}function d(E,M,R){return"none"===E?null:"number"===M?parseFloat(E):"array"===M?E?E.split(/[\s,]+/g).map(parseFloat):[]:"color"===M?P(E)||E:"lookup"===M?R[E]:E}function p(E,M,R,L){var F=E.childNodes,V="clippath"===M,z="defs"===M,U=new Un,K=U._project,$=K._currentStyle,q=[];if(!V&&!z&&(U=O(U,E,L),K._currentStyle=U._style.clone()),L)for(var W=E.querySelectorAll("defs"),Y=0,X=W.length;Y<X;Y++)I(W[Y],R,!1);for(Y=0,X=F.length;Y<X;Y++){var ce,ne=F[Y];1===ne.nodeType&&!/^defs$/i.test(ne.nodeName)&&(ce=I(ne,R,!1))&&!(ce instanceof hn)&&q.push(ce)}return U.addChildren(q),V&&(U=O(U.reduce(),E,L)),K._currentStyle=$,(V||z)&&(U.remove(),U=null),U}function g(E,M){for(var R=E.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),L=[],F=0,V=R.length;F<V;F+=2)L.push(new ae(parseFloat(R[F]),parseFloat(R[F+1])));var z=new bt(L);return"polygon"===M&&z.closePath(),z}function y(E,M){var F,R=(a(E,"href",!0)||"").substring(1),L="radialgradient"===M;if(R)(F=r[R].getGradient())._radial^L&&((F=F.clone())._radial=L);else{for(var V=E.childNodes,z=[],U=0,K=V.length;U<K;U++){var $=V[U];1===$.nodeType&&z.push(O(new ji,$))}F=new or(z,L)}var q,W,Y,X="userSpaceOnUse"!==a(E,"gradientUnits",!0);return L?(W=(q=c(E,"cx","cy",!1,X,"50%","50%")).add(a(E,"r",!1,!1,X,"50%"),0),Y=c(E,"fx","fy",!0,X)):(q=c(E,"x1","y1",!1,X,"0%","0%"),W=c(E,"x2","y2",!1,X,"100%","0%")),O(new sn(F,q,W,Y),E)._scaleToBounds=X,null}var S={"#document":function(E,M,R,L){for(var F=E.childNodes,V=0,z=F.length;V<z;V++){var U=F[V];if(1===U.nodeType)return I(U,R,L)}},g:p,svg:p,clippath:p,polygon:g,polyline:g,path:function v(E){return ht.create(E.getAttribute("d"))},lineargradient:y,radialgradient:y,image:function(E){var M=new Rn(a(E,"href",!0));return M.on("load",function(){var R=f(E);this.setSize(R);var L=c(E).add(R.divide(2));this._matrix.append((new gt).translate(L))}),M},symbol:function(E,M,R,L){return new hn(p(E,M,R,L),!0)},defs:p,use:function(E){var M=(a(E,"href",!0)||"").substring(1),R=r[M],L=c(E);return R?R instanceof hn?R.place(L):R.clone().translate(L):null},circle:function(E){return new Cn.Circle(c(E,"cx","cy"),a(E,"r"))},ellipse:function(E){return new Cn.Ellipse({center:c(E,"cx","cy"),radius:f(E,"rx","ry")})},rect:function(E){return new Cn.Rectangle(new tt(c(E),f(E)),f(E,"rx","ry"))},line:function(E){return new bt.Line(c(E,"x1","y1"),c(E,"x2","y2"))},text:function(E){var M=new Ze(c(E).add(c(E,"dx","dy")));return M.setContent(E.textContent.trim()||""),M},switch:p};function b(E,M,R,L){if(E.transform){for(var F=(L.getAttribute(R)||"").split(/\)\s*/g),V=new gt,z=0,U=F.length;z<U;z++){var K=F[z];if(!K)break;for(var $=K.split(/\(\s*/),q=$[0],W=$[1].split(/[\s,]+/g),Y=0,X=W.length;Y<X;Y++)W[Y]=parseFloat(W[Y]);switch(q){case"matrix":V.append(new gt(W[0],W[1],W[2],W[3],W[4],W[5]));break;case"rotate":V.rotate(W[0],W[1]||0,W[2]||0);break;case"translate":V.translate(W[0],W[1]||0);break;case"scale":V.scale(W);break;case"skewX":V.skew(W[0],0);break;case"skewY":V.skew(0,W[0])}}E.transform(V)}}function C(E,M,R){var L="fill-opacity"===R?"getFillColor":"getStrokeColor",F=E[L]&&E[L]();F&&F.setAlpha(parseFloat(M))}var D=se.set(se.each(Ve,function(E){this[E.attribute]=function(M,R){if(M[E.set]&&(M[E.set](d(R,E.type,E.fromSVG)),"color"===E.type)){var L=M[E.get]();if(L&&L._scaleToBounds){var F=M.getBounds();L.transform((new gt).translate(F.getPoint()).scale(F.getSize()))}}}},{}),{id:function(E,M){r[M]=E,E.setName&&E.setName(M)},"clip-path":function(E,M){var R=P(M);if(R){if((R=R.clone()).setClipMask(!0),!(E instanceof Un))return new Un(R,E);E.insertChild(0,R)}},gradientTransform:b,transform:b,"fill-opacity":C,"stroke-opacity":C,visibility:function(E,M){E.setVisible&&E.setVisible("visible"===M)},display:function(E,M){E.setVisible&&E.setVisible(null!==M)},"stop-color":function(E,M){E.setColor&&E.setColor(M)},"stop-opacity":function(E,M){E._color&&E._color.setAlpha(parseFloat(M))},offset:function(E,M){if(E.setOffset){var R=M.match(/(.*)%$/);E.setOffset(R?R[1]/100:parseFloat(M))}},viewBox:function(E,M,R,L,F){var U,V=new tt(d(M,"array")),z=f(L,null,null,!0);if(E instanceof Un){var $=z?z.divide(V.getSize()):1,K=(new gt).scale($).translate(V.getPoint().negate());U=E}else E instanceof hn&&(z&&V.setSize(z),U=E._item);if(U){if("visible"!==N(L,"overflow",F)){var q=new Cn.Rectangle(V);q.setClipMask(!0),U.addChild(q)}K&&U.transform(K)}}});function N(E,M,R){var L=E.attributes[M],F=L&&L.value;if(!F&&E.style){var V=se.camelize(M);!(F=E.style[V])&&R.node[V]!==R.parent[V]&&(F=R.node[V])}return F?"none"===F?null:F:Te}function O(E,M,R){var L=M.parentNode,F={node:It.getStyles(M)||{},parent:!R&&!/^defs$/i.test(L.tagName)&&It.getStyles(L)||{}};return se.each(D,function(V,z){var U=N(M,z,F);E=U!==Te&&V(E,U,z,M,F)||E}),E}function P(E){var M=E&&E.match(/\((?:["'#]*)([^"')]+)/),R=M&&M[1],L=R&&r[Dt?R.replace(Dt.location.href.split("#")[0]+"#",""):R];return L&&L._scaleToBounds&&((L=L.clone())._scaleToBounds=!0),L}function I(E,M,R){var z,U,K,L=E.nodeName.toLowerCase(),F="#document"!==L,V=ie.body;R&&F&&(s=u.getView().getSize(),s=f(E,null,null,!0)||s,z=cn.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),U=E.parentNode,K=E.nextSibling,z.appendChild(E),V.appendChild(z));var $=u.settings,q=$.applyMatrix,W=$.insertItems;$.applyMatrix=!1,$.insertItems=!1;var Y=S[L],X=Y&&Y(E,L,M,R)||null;if($.insertItems=W,$.applyMatrix=q,X){F&&!(X instanceof Un)&&(X=O(X,E,R));var ne=M.onImport,ce=F&&E.getAttribute("data-paper-data");ne&&(X=ne(E,X,M)||X),M.expandShapes&&X instanceof Cn&&(X.remove(),X=X.toPath()),ce&&(X._data=JSON.parse(ce))}return z&&(V.removeChild(z),U&&(K?U.insertBefore(E,K):U.appendChild(E))),R&&(r={},X&&se.pick(M.applyMatrix,q)&&X.matrix.apply(!0,!0)),X}function x(E,M,R){if(!E)return null;M="function"==typeof M?{onLoad:M}:M||{};var L=u,F=null;function V($){try{var q="object"==typeof $?$:(new Ie.DOMParser).parseFromString($.trim(),"image/svg+xml");if(!q.nodeName)throw q=null,new Error("Unsupported SVG source: "+E);u=L,F=I(q,M,!0),(!M||!1!==M.insert)&&R._insertItem(Te,F);var W=M.onLoad;W&&W(F,$)}catch(Y){z(Y)}}function z($,q){var W=M.onError;if(!W)throw new Error($);W($,q)}if("string"!=typeof E||/^[\s\S]*</.test(E)){if(typeof File<"u"&&E instanceof File){var K=new FileReader;return K.onload=function(){V(K.result)},K.onerror=function(){z(K.error)},K.readAsText(E)}V(E)}else{var U=ie.getElementById(E);U?V(U):qt.request({url:E,async:!0,onLoad:V,onError:z})}return F}et.inject({importSVG:function(E,M){return x(E,M,this)}}),ct.inject({importSVG:function(E,M){return this.activate(),x(E,M,this)}})},se.exports.PaperScript=function(){var a,c,P,r=this,s=r.acorn;if(!s)try{s=jt(77)}catch{}function f(O,P){return(r.acorn||s).parse(O,P)}s||(s=a=c={},P=function(O){"use strict";var P,I,x,E;O.version="0.5.0",O.parse=function(re,ue){return I=String(re),x=I.length,R(ue),uo(),function li(re){ne=ce=F,P.locations&&(ge=new Cr),we=fe=null,ye=[],cs();var ue=re||yn(),_e=!0;for(re||(ue.body=[]);$!==ze;){var xe=xn();ue.body.push(xe),_e&&Ya(xe)&&$i(!0),_e=!1}return Ot(ue,"Program")}(P.program)};var M=O.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function R(re){for(var ue in P=re||{},M)Object.prototype.hasOwnProperty.call(P,ue)||(P[ue]=M[ue]);E=P.sourceFile||null}var F,V,z,U,K,$,q,W,Y,X,ne,ce,ge,we,ye,fe,L=O.getLineInfo=function(re,ue){for(var _e=1,xe=0;;){ao.lastIndex=xe;var vt=ao.exec(re);if(!(vt&&vt.index<ue))break;++_e,xe=vt.index+vt[0].length}return{line:_e,column:ue-xe}};function pe(re,ue){var _e=L(I,re),xe=new SyntaxError(ue+=" ("+_e.line+":"+_e.column+")");throw xe.pos=re,xe.loc=_e,xe.raisedAt=F,xe}O.tokenize=function(re,ue){I=String(re),x=I.length,R(ue),uo();var _e={};function xe(vt){return ce=z,cs(vt),_e.start=V,_e.end=z,_e.startLoc=U,_e.endLoc=K,_e.type=$,_e.value=q,_e}return xe.jumpTo=function(vt,Ge){if(F=vt,P.locations){Y=1,X=ao.lastIndex=0;for(var xt;(xt=ao.exec(I))&&xt.index<vt;)++Y,X=xt.index+xt[0].length}W=Ge,ls()},xe};var he=[],Ce={type:"num"},De={type:"regexp"},ke={type:"string"},Ne={type:"name"},ze={type:"eof"},Ue={keyword:"break"},Xe={keyword:"case",beforeExpr:!0},Ft={keyword:"catch"},ft={keyword:"continue"},At={keyword:"debugger"},mt={keyword:"default"},dt={keyword:"do",isLoop:!0},nt={keyword:"else",beforeExpr:!0},Vt={keyword:"finally"},Le={keyword:"for",isLoop:!0},Mn={keyword:"function"},Hn={keyword:"if"},vn={keyword:"return",beforeExpr:!0},qe={keyword:"switch"},on={keyword:"throw",beforeExpr:!0},An={keyword:"try"},ei={keyword:"var"},m={keyword:"while",isLoop:!0},T={keyword:"with"},j={keyword:"new",beforeExpr:!0},G={keyword:"this"},ee={keyword:"null",atomValue:null},me={keyword:"true",atomValue:!0},be={keyword:"false",atomValue:!1},Oe={keyword:"in",binop:7,beforeExpr:!0},He={break:Ue,case:Xe,catch:Ft,continue:ft,debugger:At,default:mt,do:dt,else:nt,finally:Vt,for:Le,function:Mn,if:Hn,return:vn,switch:qe,throw:on,try:An,var:ei,while:m,with:T,null:ee,true:me,false:be,new:j,in:Oe,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:G,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},st={type:"[",beforeExpr:!0},Pt={type:"]"},Sn={type:"{",beforeExpr:!0},vi={type:"}"},En={type:"(",beforeExpr:!0},ti={type:")"},Di={type:",",beforeExpr:!0},ui={type:";",beforeExpr:!0},Ri={type:":",beforeExpr:!0},Ha={type:"."},hl={type:"?",beforeExpr:!0},ja={binop:10,beforeExpr:!0},fl={isAssign:!0,beforeExpr:!0},Gn={isAssign:!0,beforeExpr:!0},nn={postfix:!0,prefix:!0,isUpdate:!0},Oh={prefix:!0,beforeExpr:!0},Nh={binop:1,beforeExpr:!0},Rh={binop:2,beforeExpr:!0},it={binop:3,beforeExpr:!0},tm={binop:4,beforeExpr:!0},Fi={binop:5,beforeExpr:!0},zo={binop:6,beforeExpr:!0},Fh={binop:7,beforeExpr:!0},dl={binop:8,beforeExpr:!0},Lh={binop:9,prefix:!0,beforeExpr:!0},Bh={binop:10,beforeExpr:!0};for(var $a in O.tokTypes={bracketL:st,bracketR:Pt,braceL:Sn,braceR:vi,parenL:En,parenR:ti,comma:Di,semi:ui,colon:Ri,dot:Ha,question:hl,slash:ja,eq:fl,name:Ne,eof:ze,num:Ce,regexp:De,string:ke},He)O.tokTypes["_"+$a]=He[$a];function Br(re){re=re.split(" ");var ue="",_e=[];e:for(var xe=0;xe<re.length;++xe){for(var vt=0;vt<_e.length;++vt)if(_e[vt][0].length==re[xe].length){_e[vt].push(re[xe]);continue e}_e.push([re[xe]])}function Ge(Yt){if(1==Yt.length)return ue+="return str === "+JSON.stringify(Yt[0])+";";ue+="switch(str){";for(var Bi=0;Bi<Yt.length;++Bi)ue+="case "+JSON.stringify(Yt[Bi])+":";ue+="return true}return false;"}if(_e.length>3){for(_e.sort(function(Yt,Bi){return Bi.length-Yt.length}),ue+="switch(str.length){",xe=0;xe<_e.length;++xe){var xt=_e[xe];ue+="case "+xt[0].length+":",Ge(xt)}ue+="}"}else Ge(re);return new Function("str",ue)}var Er,qa=Br("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),pl=Br("class enum extends super const export import"),gl=Br("implements interface let package private protected public static yield"),pt=Br("eval arguments"),Wa=Br("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Vh=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ii="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",zh=new RegExp("["+Ii+"]"),_n=new RegExp("["+Ii+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),Ga=/[\n\r\u2028\u2029]/,ao=/\r\n|[\n\r\u2028\u2029]/g,Ka=O.isIdentifierStart=function(re){return re<65?36===re:re<91||(re<97?95===re:re<123||re>=170&&zh.test(String.fromCharCode(re)))},Ns=O.isIdentifierChar=function(re){return re<48?36===re:re<58||!(re<65)&&(re<91||(re<97?95===re:re<123||re>=170&&_n.test(String.fromCharCode(re))))};function Cr(){this.line=Y,this.column=F-X}function uo(){Y=1,F=X=0,W=!0,ls()}function Kn(re,ue){z=F,P.locations&&(K=new Cr),$=re,ls(),q=ue,W=re.beforeExpr}function Uh(){var re=P.onComment&&P.locations&&new Cr,ue=F,_e=I.indexOf("*/",F+=2);if(-1===_e&&pe(F-2,"Unterminated comment"),F=_e+2,P.locations){ao.lastIndex=ue;for(var xe;(xe=ao.exec(I))&&xe.index<F;)++Y,X=xe.index+xe[0].length}P.onComment&&P.onComment(!0,I.slice(ue+2,_e),ue,F,re,P.locations&&new Cr)}function Za(){for(var re=F,ue=P.onComment&&P.locations&&new Cr,_e=I.charCodeAt(F+=2);F<x&&10!==_e&&13!==_e&&8232!==_e&&8233!==_e;)++F,_e=I.charCodeAt(F);P.onComment&&P.onComment(!1,I.slice(re+2,F),re,F,ue,P.locations&&new Cr)}function ls(){for(;F<x;){var re=I.charCodeAt(F);if(32===re)++F;else if(13===re)++F,10===(ue=I.charCodeAt(F))&&++F,P.locations&&(++Y,X=F);else if(10===re||8232===re||8233===re)++F,P.locations&&(++Y,X=F);else if(re>8&&re<14)++F;else if(47===re){var ue;if(42===(ue=I.charCodeAt(F+1)))Uh();else{if(47!==ue)break;Za()}}else if(160===re)++F;else{if(!(re>=5760&&Vh.test(String.fromCharCode(re))))break;++F}}}function cs(re){if(re?F=V+1:V=F,P.locations&&(U=new Cr),re)return vl();if(F>=x)return Kn(ze);var ue=I.charCodeAt(F);if(Ka(ue)||92===ue)return jo();var _e=function co(re){switch(re){case 46:return function lo(){var re=I.charCodeAt(F+1);return re>=48&&re<=57?Li(!0):(++F,Kn(Ha))}();case 40:return++F,Kn(En);case 41:return++F,Kn(ti);case 59:return++F,Kn(ui);case 44:return++F,Kn(Di);case 91:return++F,Kn(st);case 93:return++F,Kn(Pt);case 123:return++F,Kn(Sn);case 125:return++F,Kn(vi);case 58:return++F,Kn(Ri);case 63:return++F,Kn(hl);case 48:var ue=I.charCodeAt(F+1);if(120===ue||88===ue)return function ur(){F+=2;var re=Ti(16);return null==re&&pe(V+2,"Expected hexadecimal number"),Ka(I.charCodeAt(F))&&pe(F,"Identifier directly after number"),Kn(Ce,re)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Li(!1);case 34:case 39:return function Sr(re){F++;for(var ue="";;){F>=x&&pe(V,"Unterminated string constant");var _e=I.charCodeAt(F);if(_e===re)return++F,Kn(ke,ue);if(92===_e){_e=I.charCodeAt(++F);var xe=/^[0-7]+/.exec(I.slice(F,F+3));for(xe&&(xe=xe[0]);xe&&parseInt(xe,8)>255;)xe=xe.slice(0,-1);if("0"===xe&&(xe=null),++F,xe)fe&&pe(F-2,"Octal literal in strict mode"),ue+=String.fromCharCode(parseInt(xe,8)),F+=xe.length-1;else switch(_e){case 110:ue+="\n";break;case 114:ue+="\r";break;case 120:ue+=String.fromCharCode(Wt(2));break;case 117:ue+=String.fromCharCode(Wt(4));break;case 85:ue+=String.fromCharCode(Wt(8));break;case 116:ue+="\t";break;case 98:ue+="\b";break;case 118:ue+="\v";break;case 102:ue+="\f";break;case 48:ue+="\0";break;case 13:10===I.charCodeAt(F)&&++F;case 10:P.locations&&(X=F,++Y);break;default:ue+=String.fromCharCode(_e)}}else(13===_e||10===_e||8232===_e||8233===_e)&&pe(V,"Unterminated string constant"),ue+=String.fromCharCode(_e),++F}}(re);case 47:return function Rs(){var re=I.charCodeAt(F+1);return W?(++F,vl()):61===re?Zn(Gn,2):Zn(ja,1)}();case 37:case 42:return function Hh(){return 61===I.charCodeAt(F+1)?Zn(Gn,2):Zn(Bh,1)}();case 124:case 38:return function $e(re){var ue=I.charCodeAt(F+1);return ue===re?Zn(124===re?Nh:Rh,2):61===ue?Zn(Gn,2):Zn(124===re?it:Fi,1)}(re);case 94:return function _l(){return 61===I.charCodeAt(F+1)?Zn(Gn,2):Zn(tm,1)}();case 43:case 45:return function Lt(re){var ue=I.charCodeAt(F+1);return ue===re?45==ue&&62==I.charCodeAt(F+2)&&Ga.test(I.slice(ce,F))?(F+=3,Za(),ls(),cs()):Zn(nn,2):61===ue?Zn(Gn,2):Zn(Lh,1)}(re);case 60:case 62:return function Uo(re){var ue=I.charCodeAt(F+1),_e=1;return ue===re?(_e=62===re&&62===I.charCodeAt(F+2)?3:2,61===I.charCodeAt(F+_e)?Zn(Gn,_e+1):Zn(dl,_e)):33==ue&&60==re&&45==I.charCodeAt(F+2)&&45==I.charCodeAt(F+3)?(F+=4,Za(),ls(),cs()):(61===ue&&(_e=61===I.charCodeAt(F+2)?3:2),Zn(Fh,_e))}(re);case 61:case 33:return function Qa(re){return 61===I.charCodeAt(F+1)?Zn(zo,61===I.charCodeAt(F+2)?3:2):Zn(61===re?fl:Oh,1)}(re);case 126:return Zn(Oh,1)}return!1}(ue);if(!1===_e){var xe=String.fromCharCode(ue);if("\\"===xe||zh.test(xe))return jo();pe(F,"Unexpected character '"+xe+"'")}return _e}function Zn(re,ue){var _e=I.slice(F,F+ue);F+=ue,Kn(re,_e)}function vl(){for(var re,ue,_e=F;;){F>=x&&pe(_e,"Unterminated regular expression");var xe=I.charAt(F);if(Ga.test(xe)&&pe(_e,"Unterminated regular expression"),re)re=!1;else{if("["===xe)ue=!0;else if("]"===xe&&ue)ue=!1;else if("/"===xe&&!ue)break;re="\\"===xe}++F}var vt=I.slice(_e,F);++F;var Ge=Ho();Ge&&!/^[gmsiy]*$/.test(Ge)&&pe(_e,"Invalid regexp flag");try{var xt=new RegExp(vt,Ge)}catch(Yt){Yt instanceof SyntaxError&&pe(_e,Yt.message),pe(Yt)}return Kn(De,xt)}function Ti(re,ue){for(var _e=F,xe=0,vt=0,Ge=ue??1/0;vt<Ge;++vt){var Yt,xt=I.charCodeAt(F);if((Yt=xt>=97?xt-97+10:xt>=65?xt-65+10:xt>=48&&xt<=57?xt-48:1/0)>=re)break;++F,xe=xe*re+Yt}return F===_e||null!=ue&&F-_e!==ue?null:xe}function Li(re){var ue=F,_e=!1,xe=48===I.charCodeAt(F);!re&&null===Ti(10)&&pe(ue,"Invalid number"),46===I.charCodeAt(F)&&(++F,Ti(10),_e=!0);var vt=I.charCodeAt(F);(69===vt||101===vt)&&((43===(vt=I.charCodeAt(++F))||45===vt)&&++F,null===Ti(10)&&pe(ue,"Invalid number"),_e=!0),Ka(I.charCodeAt(F))&&pe(F,"Identifier directly after number");var xt,Ge=I.slice(ue,F);return _e?xt=parseFloat(Ge):xe&&1!==Ge.length?/[89]/.test(Ge)||fe?pe(ue,"Invalid number"):xt=parseInt(Ge,8):xt=parseInt(Ge,10),Kn(Ce,xt)}function Wt(re){var ue=Ti(16,re);return null===ue&&pe(V,"Bad character escape sequence"),ue}function Ho(){Er=!1;for(var re,ue=!0,_e=F;;){var xe=I.charCodeAt(F);if(Ns(xe))Er&&(re+=I.charAt(F)),++F;else{if(92!==xe)break;Er||(re=I.slice(_e,F)),Er=!0,117!=I.charCodeAt(++F)&&pe(F,"Expecting Unicode escape sequence \\uXXXX"),++F;var vt=Wt(4),Ge=String.fromCharCode(vt);Ge||pe(F-1,"Invalid Unicode escape"),(ue?Ka(vt):Ns(vt))||pe(F-4,"Invalid Unicode escape"),re+=Ge}ue=!1}return Er?re:I.slice(_e,F)}function jo(){var re=Ho(),ue=Ne;return!Er&&Wa(re)&&(ue=He[re]),Kn(ue,re)}function Gt(){ne=V,ce=z,ge=K,cs()}function $i(re){if(fe=re,F=V,P.locations)for(;F<X;)X=I.lastIndexOf("\n",X-2)+1,--Y;ls(),cs()}function Fs(){this.type=null,this.start=V,this.end=null}function yl(){this.start=U,this.end=null,null!==E&&(this.source=E)}function yn(){var re=new Fs;return P.locations&&(re.loc=new yl),P.directSourceFile&&(re.sourceFile=P.directSourceFile),P.ranges&&(re.range=[V,0]),re}function Vr(re){var ue=new Fs;return ue.start=re.start,P.locations&&(ue.loc=new yl,ue.loc.start=re.loc.start),P.ranges&&(ue.range=[re.range[0],0]),ue}function Ot(re,ue){return re.type=ue,re.end=ce,P.locations&&(re.loc.end=ge),P.ranges&&(re.range[1]=ce),re}function Ya(re){return P.ecmaVersion>=5&&"ExpressionStatement"===re.type&&"Literal"===re.expression.type&&"use strict"===re.expression.value}function Zt(re){if($===re)return Gt(),!0}function $o(){return!P.strictSemicolons&&($===ze||$===vi||Ga.test(I.slice(ce,V)))}function zr(){!Zt(ui)&&!$o()&&Pn()}function Kt(re){$===re?Gt():Pn()}function Pn(){pe(V,"Unexpected token")}function Qt(re){"Identifier"!==re.type&&"MemberExpression"!==re.type&&pe(re.start,"Assigning to rvalue"),fe&&"Identifier"===re.type&&pt(re.name)&&pe(re.start,"Assigning to "+re.name+" in strict mode")}var ci={kind:"loop"},Ls={kind:"switch"};function xn(){($===ja||$===Gn&&"/="==q)&&cs(!0);var re=$,ue=yn();switch(re){case Ue:case ft:Gt();var _e=re===Ue;Zt(ui)||$o()?ue.label=null:$!==Ne?Pn():(ue.label=Dn(),zr());for(var xe=0;xe<ye.length;++xe){var vt=ye[xe];if((null==ue.label||vt.name===ue.label.name)&&(null!=vt.kind&&(_e||"loop"===vt.kind)||ue.label&&_e))break}return xe===ye.length&&pe(ue.start,"Unsyntactic "+re.keyword),Ot(ue,_e?"BreakStatement":"ContinueStatement");case At:return Gt(),zr(),Ot(ue,"DebuggerStatement");case dt:return Gt(),ye.push(ci),ue.body=xn(),ye.pop(),Kt(m),ue.test=Bs(),zr(),Ot(ue,"DoWhileStatement");case Le:if(Gt(),ye.push(ci),Kt(En),$===ui)return zs(ue,null);if($===ei){var Ge=yn();return Gt(),Qe(Ge,!0),Ot(Ge,"VariableDeclaration"),1===Ge.declarations.length&&Zt(Oe)?lr(ue,Ge):zs(ue,Ge)}return Ge=ut(!1,!0),Zt(Oe)?(Qt(Ge),lr(ue,Ge)):zs(ue,Ge);case Mn:return Gt(),qo(ue,!0);case Hn:return Gt(),ue.test=Bs(),ue.consequent=xn(),ue.alternate=Zt(nt)?xn():null,Ot(ue,"IfStatement");case vn:return!we&&!P.allowReturnOutsideFunction&&pe(V,"'return' outside of function"),Gt(),Zt(ui)||$o()?ue.argument=null:(ue.argument=ut(),zr()),Ot(ue,"ReturnStatement");case qe:Gt(),ue.discriminant=Bs(),ue.cases=[],Kt(Sn),ye.push(Ls);for(var xt,Yt;$!=vi;)if($===Xe||$===mt){var Bi=$===Xe;xt&&Ot(xt,"SwitchCase"),ue.cases.push(xt=yn()),xt.consequent=[],Gt(),Bi?xt.test=ut():(Yt&&pe(ne,"Multiple default clauses"),Yt=!0,xt.test=null),Kt(Ri)}else xt||Pn(),xt.consequent.push(xn());return xt&&Ot(xt,"SwitchCase"),Gt(),ye.pop(),Ot(ue,"SwitchStatement");case on:return Gt(),Ga.test(I.slice(ce,V))&&pe(ce,"Illegal newline after throw"),ue.argument=ut(),zr(),Ot(ue,"ThrowStatement");case An:if(Gt(),ue.block=Vs(),ue.handler=null,$===Ft){var cr=yn();Gt(),Kt(En),cr.param=Dn(),fe&&pt(cr.param.name)&&pe(cr.param.start,"Binding "+cr.param.name+" in strict mode"),Kt(ti),cr.guard=null,cr.body=Vs(),ue.handler=Ot(cr,"CatchClause")}return ue.guardedHandlers=he,ue.finalizer=Zt(Vt)?Vs():null,!ue.handler&&!ue.finalizer&&pe(ue.start,"Missing catch or finally clause"),Ot(ue,"TryStatement");case ei:return Gt(),Qe(ue),zr(),Ot(ue,"VariableDeclaration");case m:return Gt(),ue.test=Bs(),ye.push(ci),ue.body=xn(),ye.pop(),Ot(ue,"WhileStatement");case T:return fe&&pe(V,"'with' in strict mode"),Gt(),ue.object=Bs(),ue.body=xn(),Ot(ue,"WithStatement");case Sn:return Vs();case ui:return Gt(),Ot(ue,"EmptyStatement");default:var js=q,xr=ut();if(re===Ne&&"Identifier"===xr.type&&Zt(Ri)){for(xe=0;xe<ye.length;++xe)ye[xe].name===js&&pe(xr.start,"Label '"+js+"' is already declared");return ye.push({name:js,kind:$.isLoop?"loop":$===qe?"switch":null}),ue.body=xn(),ye.pop(),ue.label=xr,Ot(ue,"LabeledStatement")}return ue.expression=xr,zr(),Ot(ue,"ExpressionStatement")}}function Bs(){Kt(En);var re=ut();return Kt(ti),re}function Vs(re){var vt,ue=yn(),_e=!0,xe=!1;for(ue.body=[],Kt(Sn);!Zt(vi);){var Ge=xn();ue.body.push(Ge),_e&&re&&Ya(Ge)&&(vt=xe,$i(xe=!0)),_e=!1}return xe&&!vt&&$i(!1),Ot(ue,"BlockStatement")}function zs(re,ue){return re.init=ue,Kt(ui),re.test=$===ui?null:ut(),Kt(ui),re.update=$===ti?null:ut(),Kt(ti),re.body=xn(),ye.pop(),Ot(re,"ForStatement")}function lr(re,ue){return re.left=ue,re.right=ut(),Kt(ti),re.body=xn(),ye.pop(),Ot(re,"ForInStatement")}function Qe(re,ue){for(re.declarations=[],re.kind="var";;){var _e=yn();if(_e.id=Dn(),fe&&pt(_e.id.name)&&pe(_e.id.start,"Binding "+_e.id.name+" in strict mode"),_e.init=Zt(fl)?ut(!0,ue):null,re.declarations.push(Ot(_e,"VariableDeclarator")),!Zt(Di))break}return re}function ut(re,ue){var _e=wn(ue);if(!re&&$===Di){var xe=Vr(_e);for(xe.expressions=[_e];Zt(Di);)xe.expressions.push(wn(ue));return Ot(xe,"SequenceExpression")}return _e}function wn(re){var ue=function qi(re){var ue=function hs(re){return Qn(Ur(),-1,re)}(re);if(Zt(hl)){var _e=Vr(ue);return _e.test=ue,_e.consequent=ut(!0),Kt(Ri),_e.alternate=ut(!0,re),Ot(_e,"ConditionalExpression")}return ue}(re);if($.isAssign){var _e=Vr(ue);return _e.operator=q,_e.left=ue,Gt(),_e.right=wn(re),Qt(ue),Ot(_e,"AssignmentExpression")}return ue}function Qn(re,ue,_e){var xe=$.binop;if(null!=xe&&(!_e||$!==Oe)&&xe>ue){var vt=Vr(re);vt.left=re,vt.operator=q;var Ge=$;return Gt(),vt.right=Qn(Ur(),xe,_e),Qn(Ot(vt,Ge===Nh||Ge===Rh?"LogicalExpression":"BinaryExpression"),ue,_e)}return re}function Ur(){if($.prefix){var re=yn(),ue=$.isUpdate;return re.operator=q,re.prefix=!0,W=!0,Gt(),re.argument=Ur(),ue?Qt(re.argument):fe&&"delete"===re.operator&&"Identifier"===re.argument.type&&pe(re.start,"Deleting local variable in strict mode"),Ot(re,ue?"UpdateExpression":"UnaryExpression")}for(var _e=function Ln(){return Hr(Us())}();$.postfix&&!$o();)(re=Vr(_e)).operator=q,re.prefix=!1,re.argument=_e,Qt(_e),Gt(),_e=Ot(re,"UpdateExpression");return _e}function Hr(re,ue){var _e;return Zt(Ha)?((_e=Vr(re)).object=re,_e.property=Dn(!0),_e.computed=!1,Hr(Ot(_e,"MemberExpression"),ue)):Zt(st)?((_e=Vr(re)).object=re,_e.property=ut(),_e.computed=!0,Kt(Pt),Hr(Ot(_e,"MemberExpression"),ue)):!ue&&Zt(En)?((_e=Vr(re)).callee=re,_e.arguments=jr(ti,!1),Hr(Ot(_e,"CallExpression"),ue)):re}function Us(){switch($){case G:var xe=yn();return Gt(),Ot(xe,"ThisExpression");case Ne:return Dn();case Ce:case ke:case De:return(xe=yn()).value=q,xe.raw=I.slice(V,z),Gt(),Ot(xe,"Literal");case ee:case me:case be:return(xe=yn()).value=$.atomValue,xe.raw=$.keyword,Gt(),Ot(xe,"Literal");case En:var re=U,ue=V;Gt();var _e=ut();return _e.start=ue,_e.end=z,P.locations&&(_e.loc.start=re,_e.loc.end=K),P.ranges&&(_e.range=[ue,z]),Kt(ti),_e;case st:return xe=yn(),Gt(),xe.elements=jr(Pt,!0,!0),Ot(xe,"ArrayExpression");case Sn:return function Xa(){var re=yn(),ue=!0,_e=!1;for(re.properties=[],Gt();!Zt(vi);){if(ue)ue=!1;else if(Kt(Di),P.allowTrailingCommas&&Zt(vi))break;var Ge,xe={key:Hs()},vt=!1;if(Zt(Ri)?(xe.value=ut(!0),Ge=xe.kind="init"):P.ecmaVersion>=5&&"Identifier"===xe.key.type&&("get"===xe.key.name||"set"===xe.key.name)?(vt=_e=!0,Ge=xe.kind=xe.key.name,xe.key=Hs(),$!==En&&Pn(),xe.value=qo(yn(),!1)):Pn(),"Identifier"===xe.key.type&&(fe||_e))for(var xt=0;xt<re.properties.length;++xt){var Yt=re.properties[xt];if(Yt.key.name===xe.key.name){var Bi=Ge==Yt.kind||vt&&"init"===Yt.kind||"init"===Ge&&("get"===Yt.kind||"set"===Yt.kind);Bi&&!fe&&"init"===Ge&&"init"===Yt.kind&&(Bi=!1),Bi&&pe(xe.key.start,"Redefinition of property")}}re.properties.push(xe)}return Ot(re,"ObjectExpression")}();case Mn:return xe=yn(),Gt(),qo(xe,!1);case j:return function Nt(){var re=yn();return Gt(),re.callee=Hr(Us(),!0),re.arguments=Zt(En)?jr(ti,!1):he,Ot(re,"NewExpression")}();default:Pn()}}function Hs(){return $===Ce||$===ke?Us():Dn(!0)}function qo(re,ue){$===Ne?re.id=Dn():ue?Pn():re.id=null,re.params=[];var _e=!0;for(Kt(En);!Zt(ti);)_e?_e=!1:Kt(Di),re.params.push(Dn());var xe=we,vt=ye;if(we=!0,ye=[],re.body=Vs(!0),we=xe,ye=vt,fe||re.body.body.length&&Ya(re.body.body[0]))for(var Ge=re.id?-1:0;Ge<re.params.length;++Ge){var xt=Ge<0?re.id:re.params[Ge];if((gl(xt.name)||pt(xt.name))&&pe(xt.start,"Defining '"+xt.name+"' in strict mode"),Ge>=0)for(var Yt=0;Yt<Ge;++Yt)xt.name===re.params[Yt].name&&pe(xt.start,"Argument name clash in strict mode")}return Ot(re,ue?"FunctionDeclaration":"FunctionExpression")}function jr(re,ue,_e){for(var xe=[],vt=!0;!Zt(re);){if(vt)vt=!1;else if(Kt(Di),ue&&P.allowTrailingCommas&&Zt(re))break;xe.push(_e&&$===Di?null:ut(!0))}return xe}function Dn(re){var ue=yn();return re&&"everywhere"==P.forbidReserved&&(re=!1),$===Ne?(!re&&(P.forbidReserved&&(3===P.ecmaVersion?qa:pl)(q)||fe&&gl(q))&&-1==I.slice(V,z).indexOf("\\")&&pe(V,"The keyword '"+q+"' is reserved"),ue.name=q):re&&$.keyword?ue.name=$.keyword:Pn(),W=!1,Gt(),Ot(ue,"Identifier")}},"object"==typeof a&&"object"==typeof c?P(a):(Ut=[a],(Ni="function"==typeof(Wn=P)?Wn.apply(a,Ut):Wn)!==Te&&(c.exports=Ni)),s.version||(s=null));var d={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},p={"-":"__negate","+":"__self"},g=se.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(O){this["__"+O]="#"+O},{__self:function(){return this}});function v(O,P,I){var x=d[P];if(O&&O[x]){var E=O[x](I);return"!="===P?!E:E}switch(P){case"+":return O+I;case"-":return O-I;case"*":return O*I;case"/":return O/I;case"%":return O%I;case"==":return O==I;case"!=":return O!=I}}function y(O,P){var I=p[O];if(P&&P[I])return P[I]();switch(O){case"+":return+P;case"-":return-P}}function S(O,P){if(!O)return"";var I=[];function x(fe){for(var pe=0,he=I.length;pe<he;pe++){var Ce=I[pe];if(Ce[0]>=fe)break;fe+=Ce[1]}return fe}function E(fe){return O.substring(x(fe.range[0]),x(fe.range[1]))}function R(fe,pe){for(var he=x(fe.range[0]),Ce=x(fe.range[1]),De=0,ke=I.length-1;ke>=0;ke--)if(he>I[ke][0]){De=ke+1;break}I.splice(De,0,[he,pe.length-Ce+he]),O=O.substring(0,he)+pe+O.substring(Ce)}var ge,U=(P=P||{}).url||"",K=P.sourceMaps,$=P.paperFeatures||{},q=P.source||O,W=P.offset||0,Y=u.agent,X=Y.versionNumber,ne=!1,ce=/\r\n|\n|\r/gm;if(K&&(Y.chrome&&X>=30||Y.webkit&&X>=537.76||Y.firefox&&X>=23||Y.node)){if(Y.node)W-=2;else if(Dt&&U&&!Dt.location.href.indexOf(U)){var we=ie.getElementsByTagName("html")[0].innerHTML;W=we.substr(0,we.indexOf(O)+1).match(ce).length+1}var ye=["AA"+function z(fe){var pe="";for(fe=(Math.abs(fe)<<1)+(fe<0?1:0);fe||!pe;){var Ce=31&fe;(fe>>=5)&&(Ce|=32),pe+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ce]}return pe}((ne=W>0&&!(Y.chrome&&X>=36||Y.safari&&X>=600||Y.firefox&&X>=40||Y.node))?0:W)+"A"];ye.length=(O.match(ce)||[]).length+1+(ne?W:0),ge={version:3,file:U,names:[],mappings:ye.join(";AACA"),sourceRoot:"",sources:[U],sourcesContent:[q]}}return(!1!==$.operatorOverloading||!1!==$.moduleExports)&&function V(fe,pe,he){if(fe){for(var Ce in fe)if("range"!==Ce&&"loc"!==Ce){var De=fe[Ce];if(Array.isArray(De))for(var ke=0,Ne=De.length;ke<Ne;ke++)V(De[ke],fe,he);else De&&"object"==typeof De&&V(De,fe,he)}!1!==he.operatorOverloading&&function L(fe,pe){switch(fe.type){case"UnaryExpression":if(fe.operator in p&&"Literal"!==fe.argument.type){var he=E(fe.argument);R(fe,'$__("'+fe.operator+'", '+he+")")}break;case"BinaryExpression":if(fe.operator in d&&"Literal"!==fe.left.type){var Ce=E(fe.left),De=E(fe.right),ke=function M(fe,pe){return O.substring(x(fe.range[1]),x(pe.range[0]))}(fe.left,fe.right),Ne=fe.operator;R(fe,"__$__("+Ce+","+ke.replace(new RegExp("\\"+Ne),'"'+Ne+'"')+", "+De+")")}break;case"UpdateExpression":case"AssignmentExpression":var ze=pe&&pe.type;if(!("ForStatement"===ze||"BinaryExpression"===ze&&/^[=!<>]/.test(pe.operator)||"MemberExpression"===ze&&pe.computed))if("UpdateExpression"===fe.type){var Xe=(he=E(fe.argument))+" = "+(Ue="__$__("+he+', "'+fe.operator[0]+'", 1)');fe.prefix?Xe="("+Xe+")":("AssignmentExpression"===ze||"VariableDeclarator"===ze||"BinaryExpression"===ze)&&(E(pe.left||pe.id)===he&&(Xe=Ue),Xe=he+"; "+Xe),R(fe,Xe)}else if(/^.=$/.test(fe.operator)&&"Literal"!==fe.left.type){Ce=E(fe.left),De=E(fe.right);var Ue=Ce+" = __$__("+Ce+', "'+fe.operator[0]+'", '+De+")";R(fe,/^\(.*\)$/.test(E(fe))?"("+Ue+")":Ue)}}}(fe,pe),!1!==he.moduleExports&&function F(fe){switch(fe.type){case"ExportDefaultDeclaration":R({range:[fe.start,fe.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var pe=fe.declaration,he=fe.specifiers;if(pe){var Ce=pe.declarations;Ce&&(Ce.forEach(function(ke){R(ke,"module.exports."+E(ke))}),R({range:[fe.start,pe.start+pe.kind.length]},""))}else if(he){var De=he.map(function(ke){var Ne=E(ke);return"module.exports."+Ne+" = "+Ne+"; "}).join("");De&&R(fe,De)}}}(fe)}}(f(O,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,$),ge&&(ne&&(O=new Array(W+1).join("\n")+O),/^(inline|both)$/.test(K)&&(O+="\n//# sourceMappingURL=data:application/json;base64,"+Ie.btoa(unescape(encodeURIComponent(JSON.stringify(ge))))),O+="\n//# sourceURL="+(U||"paperscript")),{url:U,source:q,code:O,map:ge}}function b(O,P,I){u=P;var V,x=P.getView(),E=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(O)&&!/\bnew\s+Tool\b/.test(O)?new us:null,M=E?E._events:[],R=["onFrame","onResize"].concat(M),L=[],F=[],z="object"==typeof O?O:S(O,I);function U(X,ne){for(var ce in X)(ne||!/^_/.test(ce))&&new RegExp("([\\b\\s\\W]|^)"+ce.replace(/\$/g,"\\$")+"\\b").test(O)&&(L.push(ce),F.push(X[ce]))}O=z.code,U({__$__:v,$__:y,paper:P,tool:E},!0),U(P),O="var module = { exports: {} }; "+O,(W=se.each(R,function(X){new RegExp("\\s+"+X+"\\b").test(O)&&(L.push(X),this.push("module.exports."+X+" = "+X+";"))},[]).join("\n"))&&(O+="\n"+W),O+="\nreturn module.exports;";var K=u.agent;if(ie&&(K.chrome||K.firefox&&K.versionNumber<40)){var $=ie.createElement("script"),q=ie.head||ie.getElementsByTagName("head")[0];K.firefox&&(O="\n"+O),$.appendChild(ie.createTextNode("document.__paperscript__ = function("+L+") {"+O+"\n}")),q.appendChild($),V=ie.__paperscript__,delete ie.__paperscript__,q.removeChild($)}else V=Function(L,O);var W,Y=(W=V&&V.apply(P,F))||{};return se.each(M,function(X){var ne=Y[X];ne&&(E[X]=ne)}),x&&(Y.onResize&&x.setOnResize(Y.onResize),x.emit("resize",{size:x.size,delta:new ae}),Y.onFrame&&x.setOnFrame(Y.onFrame),x.requestUpdate()),W}function C(O){if(/^text\/(?:x-|)paperscript$/.test(O.type)&&"true"!==In.getAttribute(O,"ignore")){var P=In.getAttribute(O,"canvas"),I=ie.getElementById(P),x=O.src||O.getAttribute("data-src"),E=In.hasAttribute(O,"async"),M="data-paper-scope";if(!I)throw new Error('Unable to find canvas with id "'+P+'"');var R=In.get(I.getAttribute(M))||(new In).setup(I);return I.setAttribute(M,R._id),x?qt.request({url:x,async:E,mimeType:"text/plain",onLoad:function(L){b(L,R,x)}}):b(O.innerHTML,R,O.baseURI),O.setAttribute("data-paper-ignore","true"),R}}function D(){se.each(ie&&ie.getElementsByTagName("script"),C)}return ae.inject(g),Ae.inject(g),sn.inject(g),Dt&&("complete"===ie.readyState?setTimeout(D):Et.add(Dt,{load:D})),{compile:S,execute:b,load:function N(O){return O?C(O):D()},parse:f,calculateBinary:v,calculateUnary:y}}.call(this);var u=new(In.inject(se.exports,{Base:se,Numerical:_t,Key:xi,DomEvent:Et,DomElement:It,document:ie,window:Dt,Symbol:hn,PlacedSymbol:fi}));return u.agent.node&&jt(858)(u),(Ni="function"==typeof(Wn=u)?Wn.call(Lr,jt,Lr,sr):Wn)!==Te&&(sr.exports=Ni),u}).call(this,"object"==typeof self?self:null)},858:()=>{},158:()=>{}},sr=>{sr(sr.s=732)}]);