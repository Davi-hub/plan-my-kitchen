(self.webpackChunkplan_my_kitchen=self.webpackChunkplan_my_kitchen||[]).push([[179],{382:(Ui,vr,Bt)=>{"use strict";function Nt(e){return"function"==typeof e}function Fn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const bi=Fn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ti(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class xe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const c of n)c.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Nt(r))try{r()}catch(c){t=c instanceof bi?c.errors:[c]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const c of a)try{ee(c)}catch(f){t=t??[],f instanceof bi?t=[...t,...f.errors]:t.push(f)}}if(t)throw new bi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ee(t);else{if(t instanceof xe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ti(n,t)}remove(t){const{_finalizers:n}=this;n&&ti(n,t),t instanceof xe&&t._removeParent(this)}}xe.EMPTY=(()=>{const e=new xe;return e.closed=!0,e})();const De=xe.EMPTY;function Ct(e){return e instanceof xe||e&&"closed"in e&&Nt(e.remove)&&Nt(e.add)&&Nt(e.unsubscribe)}function ee(e){Nt(e)?e():e.unsubscribe()}const ne={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qn={setTimeout(e,t,...n){const{delegate:r}=qn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=qn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function yn(e){qn.setTimeout(()=>{const{onUnhandledError:t}=ne;if(!t)throw e;t(e)})}function Sn(){}const sn=ae("C",void 0,void 0);function ae(e,t,n){return{kind:e,value:t,error:n}}let ie=null;function je(e){if(ne.useDeprecatedSynchronousErrorHandling){const t=!ie;if(t&&(ie={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ie;if(ie=null,n)throw r}}else e()}class W extends xe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ct(t)&&t.add(this)):this.destination=xn}static create(t,n,r){return new Xt(t,n,r)}next(t){this.isStopped?An(function ut(e){return ae("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?An(function ze(e){return ae("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?An(sn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Vt(e,t){return Ke.call(e,t)}class ot{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){tt(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){tt(r)}else tt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){tt(n)}}}class Xt extends W{constructor(t,n,r){let a;if(super(),Nt(t)||!t)a={next:t??void 0,error:n??void 0,complete:r??void 0};else{let c;this&&ne.useDeprecatedNextContext?(c=Object.create(t),c.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&Vt(t.next,c),error:t.error&&Vt(t.error,c),complete:t.complete&&Vt(t.complete,c)}):a=t}this.destination=new ot(a)}}function tt(e){ne.useDeprecatedSynchronousErrorHandling?function Ee(e){ne.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=e)}(e):yn(e)}function An(e,t){const{onStoppedNotification:n}=ne;n&&qn.setTimeout(()=>n(e,t))}const xn={closed:!0,next:Sn,error:function Ze(e){throw e},complete:Sn},fn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dn(e){return e}function tn(e){return 0===e.length?Dn:1===e.length?e[0]:function(n){return e.reduce((r,a)=>a(r),n)}}let Ne=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,a){const c=function Te(e){return e&&e instanceof W||function ke(e){return e&&Nt(e.next)&&Nt(e.error)&&Nt(e.complete)}(e)&&Ct(e)}(n)?n:new Xt(n,r,a);return je(()=>{const{operator:f,source:y}=this;c.add(f?f.call(c,y):y?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Xe(r))((a,c)=>{const f=new Xt({next:y=>{try{n(y)}catch(M){c(M),f.unsubscribe()}},error:c,complete:a});this.subscribe(f)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fn](){return this}pipe(...n){return tn(n)(this)}toPromise(n){return new(n=Xe(n))((r,a)=>{let c;this.subscribe(f=>c=f,f=>a(f),()=>r(c))})}}return e.create=t=>new e(t),e})();function Xe(e){var t;return null!==(t=e??ne.Promise)&&void 0!==t?t:Promise}const In=Fn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let it=(()=>{class e extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new gt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new In}next(n){je(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){je(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){je(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:a,observers:c}=this;return r||a?De:(this.currentObservers=null,c.push(n),new xe(()=>{this.currentObservers=null,ti(c,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:a,isStopped:c}=this;r?n.error(a):c&&n.complete()}asObservable(){const n=new Ne;return n.source=this,n}}return e.create=(t,n)=>new gt(t,n),e})();class gt extends it{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:De}}function Qn(e){return Nt(e?.lift)}function dn(e){return t=>{if(Qn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zt(e,t,n,r,a){return new fi(e,t,n,r,a)}class fi extends W{constructor(t,n,r,a,c,f){super(t),this.onFinalize=c,this.shouldUnsubscribe=f,this._next=n?function(y){try{n(y)}catch(M){t.error(M)}}:super._next,this._error=a?function(y){try{a(y)}catch(M){t.error(M)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Je(e,t){return dn((n,r)=>{let a=0;n.subscribe(Zt(r,c=>{r.next(e.call(t,c,a++))}))})}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function o(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function zt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(c){n[c]=e[c]&&function(f){return new Promise(function(y,M){!function a(c,f,y,M){Promise.resolve(M).then(function(L){c({value:L,done:y})},f)}(y,M,(f=e[c](f)).done,f.value)})}}}const b=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function w(e){return Nt(e?.then)}function C(e){return Nt(e[fn])}function D(e){return Symbol.asyncIterator&&Nt(e?.[Symbol.asyncIterator])}function k(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const A=function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I(e){return Nt(e?.[A])}function x(e){return function i(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=n.apply(e,t||[]),c=[];return a={},f("next"),f("throw"),f("return"),a[Symbol.asyncIterator]=function(){return this},a;function f(X){r[X]&&(a[X]=function(re){return new Promise(function(fe,ye){c.push([X,re,fe,ye])>1||y(X,re)})})}function y(X,re){try{!function M(X){X.value instanceof u?Promise.resolve(X.value.v).then(L,V):Z(c[0][2],X)}(r[X](re))}catch(fe){Z(c[0][3],fe)}}function L(X){y("next",X)}function V(X){y("throw",X)}function Z(X,re){X(re),c.shift(),c.length&&y(c[0][0],c[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:a}=yield u(n.read());if(a)return yield u(void 0);yield yield u(r)}}finally{n.releaseLock()}})}function S(e){return Nt(e?.getReader)}function E(e){if(e instanceof Ne)return e;if(null!=e){if(C(e))return function R(e){return new Ne(t=>{const n=e[fn]();if(Nt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(b(e))return function N(e){return new Ne(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(w(e))return function O(e){return new Ne(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,yn)})}(e);if(D(e))return B(e);if(I(e))return function F(e){return new Ne(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(S(e))return function z(e){return B(x(e))}(e)}throw k(e)}function B(e){return new Ne(t=>{(function G(e,t){var n,r,a,c;return function ts(e,t,n,r){return new(n||(n=Promise))(function(c,f){function y(V){try{L(r.next(V))}catch(Z){f(Z)}}function M(V){try{L(r.throw(V))}catch(Z){f(Z)}}function L(V){V.done?c(V.value):function a(c){return c instanceof n?c:new n(function(f){f(c)})}(V.value).then(y,M)}L((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=o(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(f){a={error:f}}finally{try{r&&!r.done&&(c=n.return)&&(yield c.call(n))}finally{if(a)throw a.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function j(e,t,n,r=0,a=!1){const c=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(c),!a)return c}function $(e,t,n=1/0){return Nt(t)?$((r,a)=>Je((c,f)=>t(r,c,a,f))(E(e(r,a))),n):("number"==typeof t&&(n=t),dn((r,a)=>function H(e,t,n,r,a,c,f,y){const M=[];let L=0,V=0,Z=!1;const X=()=>{Z&&!M.length&&!L&&t.complete()},re=ye=>L<r?fe(ye):M.push(ye),fe=ye=>{c&&t.next(ye),L++;let be=!1;E(n(ye,V++)).subscribe(Zt(t,Re=>{a?.(Re),c?re(Re):t.next(Re)},()=>{be=!0},void 0,()=>{if(be)try{for(L--;M.length&&L<r;){const Re=M.shift();f?j(t,f,()=>fe(Re)):fe(Re)}X()}catch(Re){t.error(Re)}}))};return e.subscribe(Zt(t,re,()=>{Z=!0,X()})),()=>{y?.()}}(r,a,e,n)))}function K(e=1/0){return $(Dn,e)}const Y=new Ne(e=>e.complete());function ge(e){return e[e.length-1]}function le(e){return function he(e){return e&&Nt(e.schedule)}(ge(e))?e.pop():void 0}function ue(e,t=0){return dn((n,r)=>{n.subscribe(Zt(r,a=>j(r,e,()=>r.next(a),t),()=>j(r,e,()=>r.complete(),t),a=>j(r,e,()=>r.error(a),t)))})}function ve(e,t=0){return dn((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Be(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ne(n=>{j(n,t,()=>{const r=e[Symbol.asyncIterator]();j(n,t,()=>{r.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function nt(e,t){return t?function Pt(e,t){if(null!=e){if(C(e))return function Ce(e,t){return E(e).pipe(ve(t),ue(t))}(e,t);if(b(e))return function Pe(e,t){return new Ne(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(w(e))return function Me(e,t){return E(e).pipe(ve(t),ue(t))}(e,t);if(D(e))return Be(e,t);if(I(e))return function Fe(e,t){return new Ne(n=>{let r;return j(n,t,()=>{r=e[A](),j(n,t,()=>{let a,c;try{({value:a,done:c}=r.next())}catch(f){return void n.error(f)}c?n.complete():n.next(a)},0,!0)}),()=>Nt(r?.return)&&r.return()})}(e,t);if(S(e))return function We(e,t){return Be(x(e),t)}(e,t)}throw k(e)}(e,t):E(e)}function rt(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Xt({next:()=>{r.unsubscribe(),e()}});return E(t(...n)).subscribe(r)}function Ye(e){for(let t in e)if(e[t]===Ye)return t;throw Error("Could not find renamed property on target object.")}function Oe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Oe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function wn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Pn=Ye({__forward_ref__:Ye});function ln(e){return e.__forward_ref__=ln,e.toString=function(){return Oe(this())},e}function Ue(e){return Yt(e)?e():e}function Yt(e){return"function"==typeof e&&e.hasOwnProperty(Pn)&&e.__forward_ref__===ln}function Cn(e){return e&&!!e.\u0275providers}class T extends Error{constructor(t,n){super(U(t,n)),this.code=t}}function U(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function q(e){return"string"==typeof e?e:null==e?"":String(e)}function Ve(e,t){throw new T(-201,!1)}function Bn(e,t){null==e&&function Wt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ft(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ys(e){return cu(e,wr)||cu(e,hu)}function cu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ka(e){return e&&(e.hasOwnProperty(Ya)||e.hasOwnProperty(fu))?e[Ya]:null}const wr=Ye({\u0275prov:Ye}),Ya=Ye({\u0275inj:Ye}),hu=Ye({ngInjectableDef:Ye}),fu=Ye({ngInjectorDef:Ye});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Qa;function gi(e){const t=Qa;return Qa=e,t}function du(e,t,n){const r=Ys(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&st.Optional?null:void 0!==t?t:void Ve(Oe(e))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ns={},nr="__NG_DI_FLAG__",Es="ngTempTokenPath",Vn="ngTokenPath",cc=/\n/gm,eo="\u0275",Br="__source";let Ts;function is(e){const t=Ts;return Ts=e,t}function hc(e,t=st.Default){if(void 0===Ts)throw new T(-203,!1);return null===Ts?du(e,void 0,t):Ts.get(e,t&st.Optional?null:void 0,t)}function ct(e,t=st.Default){return(function uc(){return Qa}()||hc)(Ue(e),t)}function Lt(e,t=st.Default){return ct(e,Qs(t))}function Qs(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function to(e){const t=[];for(let n=0;n<e.length;n++){const r=Ue(e[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let a,c=st.Default;for(let f=0;f<r.length;f++){const y=r[f],M=Vr(y);"number"==typeof M?-1===M?a=y.token:c|=M:a=y}t.push(ct(a,c))}else t.push(ct(r))}return t}function Ms(e,t){return e[nr]=t,e.prototype[nr]=t,e}function Vr(e){return e[nr]}function _i(e){return{toString:e}.toString()}var $i=(()=>(($i=$i||{})[$i.OnPush=0]="OnPush",$i[$i.Default=1]="Default",$i))(),Ai=(()=>{return(e=Ai||(Ai={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ai;var e})();const ir={},Ut=[],rr=Ye({\u0275cmp:Ye}),Xs=Ye({\u0275dir:Ye}),Js=Ye({\u0275pipe:Ye}),jt=Ye({\u0275mod:Ye}),Pi=Ye({\u0275fac:Ye}),rs=Ye({__NG_ELEMENT_ID__:Ye});let _u=0;function _n(e){return _i(()=>{const t=as(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$i.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Ai.Emulated,id:"c"+_u++,styles:e.styles||Ut,_:null,schemas:e.schemas||null,tView:null};os(n);const r=e.dependencies;return n.directiveDefs=us(r,!1),n.pipeDefs=us(r,!0),n})}function Tt(e){return $t(e)||Jn(e)}function no(e){return null!==e}function Qt(e){return _i(()=>({type:e.type,bootstrap:e.bootstrap||Ut,declarations:e.declarations||Ut,imports:e.imports||Ut,exports:e.exports||Ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function br(e,t){if(null==e)return ir;const n={};for(const r in e)if(e.hasOwnProperty(r)){let a=e[r],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=r,t&&(t[a]=c)}return n}function Ht(e){return _i(()=>{const t=as(e);return os(t),t})}function bn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function $t(e){return e[rr]||null}function Jn(e){return e[Xs]||null}function ei(e){return e[Js]||null}function mn(e,t){const n=e[jt]||null;if(!n&&!0===t)throw new Error(`Type ${Oe(e)} does not have '\u0275mod' property.`);return n}function as(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ut,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:br(e.inputs,t),outputs:br(e.outputs)}}function os(e){e.features?.forEach(t=>t(e))}function us(e,t){if(!e)return null;const n=t?ei:Tt;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(no)}const qi=0,qe=1,et=2,cn=3,ki=4,zr=5,Un=6,Sr=7,En=8,xr=9,ls=10,Mt=11,io=12,cs=13,ta=14,Dr=15,vn=16,te=17,se=18,pe=19,we=20,ht=21,He=22,qt=1,xi=2,Gi=7,hs=8,sr=9,ii=10;function Ri(e){return Array.isArray(e)&&"object"==typeof e[qt]}function ar(e){return Array.isArray(e)&&!0===e[qt]}function fc(e){return 0!=(4&e.flags)}function ro(e){return e.componentOffset>-1}function mu(e){return 1==(1&e.flags)}function or(e){return!!e.template}function Ew(e){return 0!=(256&e[et])}function As(e,t){return e.hasOwnProperty(Pi)?e[Pi]:null}class Aw{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ps(){return $d}function $d(e){return e.type.prototype.ngOnChanges&&(e.setInput=kw),Pw}function Pw(){const e=Gd(this),t=e?.current;if(t){const n=e.previous;if(n===ir)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function kw(e,t,n,r){const a=this.declaredInputs[n],c=Gd(e)||function Rw(e,t){return e[qd]=t}(e,{previous:ir,current:null}),f=c.current||(c.current={}),y=c.previous,M=y[a];f[a]=new Aw(M&&M.currentValue,t,y===ir),e[r]=t}Ps.ngInherit=!0;const qd="__ngSimpleChanges__";function Gd(e){return e[qd]||null}const Wi=function(e,t,n){},Wd="svg";function ri(e){for(;Array.isArray(e);)e=e[qi];return e}function Oi(e,t){return ri(t[e.index])}function Kd(e,t){return e.data[t]}function na(e,t){return e[t]}function Ni(e,t){const n=t[e];return Ri(n)?n:n[qi]}function yu(e){return 64==(64&e[et])}function fs(e,t){return null==t?null:e[t]}function Yd(e){e[se]=0}function pc(e,t){e[zr]+=t;let n=e,r=e[cn];for(;null!==r&&(1===t&&1===n[zr]||-1===t&&0===n[zr]);)r[zr]+=t,n=r,r=r[cn]}const St={lFrame:ap(null),bindingsEnabled:!0};function Xd(){return St.bindingsEnabled}function Ie(){return St.lFrame.lView}function Gt(){return St.lFrame.tView}function ia(e){return St.lFrame.contextLView=e,e[En]}function ra(e){return St.lFrame.contextLView=null,e}function si(){let e=Jd();for(;null!==e&&64===e.type;)e=e.parent;return e}function Jd(){return St.lFrame.currentTNode}function Ir(e,t){const n=St.lFrame;n.currentTNode=e,n.isParent=t}function gc(){return St.lFrame.isParent}function sa(){return St.lFrame.bindingIndex++}function Gw(e,t){const n=St.lFrame;n.bindingIndex=n.bindingRootIndex=e,mc(t)}function mc(e){St.lFrame.currentDirectiveIndex=e}function ip(){return St.lFrame.currentQueryIndex}function yc(e){St.lFrame.currentQueryIndex=e}function Zw(e){const t=e[qe];return 2===t.type?t.declTNode:1===t.type?e[Un]:null}function rp(e,t,n){if(n&st.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&st.Host||(a=Zw(c),null===a||(c=c[Dr],10&a.type))););if(null===a)return!1;t=a,e=c}const r=St.lFrame=sp();return r.currentTNode=t,r.lView=e,!0}function wc(e){const t=sp(),n=e[qe];St.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function sp(){const e=St.lFrame,t=null===e?null:e.child;return null===t?ap(e):t}function ap(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function op(){const e=St.lFrame;return St.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const up=op;function Cc(){const e=op();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vi(){return St.lFrame.selectedIndex}function ks(e){St.lFrame.selectedIndex=e}function Tn(){const e=St.lFrame;return Kd(e.tView,e.selectedIndex)}function ur(){St.lFrame.currentNamespace=Wd}function bc(){!function Xw(){St.lFrame.currentNamespace=null}()}function wu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:M,ngAfterViewChecked:L,ngOnDestroy:V}=c;f&&(e.contentHooks||(e.contentHooks=[])).push(-n,f),y&&((e.contentHooks||(e.contentHooks=[])).push(n,y),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,y)),M&&(e.viewHooks||(e.viewHooks=[])).push(-n,M),L&&((e.viewHooks||(e.viewHooks=[])).push(n,L),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,L)),null!=V&&(e.destroyHooks||(e.destroyHooks=[])).push(n,V)}}function Cu(e,t,n){lp(e,t,3,n)}function bu(e,t,n,r){(3&e[et])===n&&lp(e,t,n,r)}function Sc(e,t){let n=e[et];(3&n)===t&&(n&=2047,n+=1,e[et]=n)}function lp(e,t,n,r){const c=r??-1,f=t.length-1;let y=0;for(let M=void 0!==r?65535&e[se]:0;M<f;M++)if("number"==typeof t[M+1]){if(y=t[M],null!=r&&y>=r)break}else t[M]<0&&(e[se]+=65536),(y<c||-1==c)&&(t1(e,n,t,M),e[se]=(4294901760&e[se])+M+2),M++}function t1(e,t,n,r){const a=n[r]<0,c=n[r+1],y=e[a?-n[r]:n[r]];if(a){if(e[et]>>11<e[se]>>16&&(3&e[et])===t){e[et]+=2048,Wi(4,y,c);try{c.call(y)}finally{Wi(5,y,c)}}}else{Wi(4,y,c);try{c.call(y)}finally{Wi(5,y,c)}}}const aa=-1;class ao{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Dc(e,t,n){let r=0;for(;r<n.length;){const a=n[r];if("number"==typeof a){if(0!==a)break;r++;const c=n[r++],f=n[r++],y=n[r++];e.setAttribute(t,f,y,c)}else{const c=a,f=n[++r];hp(c)?e.setProperty(t,c,f):e.setAttribute(t,c,f),r++}}return r}function cp(e){return 3===e||4===e||6===e}function hp(e){return 64===e.charCodeAt(0)}function oo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?n=a:0===n||fp(e,n,a,null,-1===n||2===n?t[++r]:null)}}return e}function fp(e,t,n,r,a){let c=0,f=e.length;if(-1===t)f=-1;else for(;c<e.length;){const y=e[c++];if("number"==typeof y){if(y===t){f=-1;break}if(y>t){f=c-1;break}}}for(;c<e.length;){const y=e[c];if("number"==typeof y)break;if(y===n){if(null===r)return void(null!==a&&(e[c+1]=a));if(r===e[c+1])return void(e[c+2]=a)}c++,null!==r&&c++,null!==a&&c++}-1!==f&&(e.splice(f,0,t),c=f+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==a&&e.splice(c++,0,a)}function dp(e){return e!==aa}function Su(e){return 32767&e}function xu(e,t){let n=function s1(e){return e>>16}(e),r=t;for(;n>0;)r=r[Dr],n--;return r}let Ic=!0;function Du(e){const t=Ic;return Ic=e,t}const pp=255,gp=5;let a1=0;const Er={};function Iu(e,t){const n=_p(e,t);if(-1!==n)return n;const r=t[qe];r.firstCreatePass&&(e.injectorIndex=t.length,Ec(r.data,e),Ec(t,null),Ec(r.blueprint,null));const a=Tc(e,t),c=e.injectorIndex;if(dp(a)){const f=Su(a),y=xu(a,t),M=y[qe].data;for(let L=0;L<8;L++)t[c+L]=y[f+L]|M[f+L]}return t[c+8]=a,c}function Ec(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _p(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Tc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;null!==a;){if(r=xp(a),null===r)return aa;if(n++,a=a[Dr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return aa}function Mc(e,t,n){!function o1(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rs)&&(r=n[rs]),null==r&&(r=n[rs]=a1++);const a=r&pp;t.data[e+(a>>gp)]|=1<<a}(e,t,n)}function mp(e,t,n){if(n&st.Optional||void 0!==e)return e;Ve()}function vp(e,t,n,r){if(n&st.Optional&&void 0===r&&(r=null),!(n&(st.Self|st.Host))){const a=e[xr],c=gi(void 0);try{return a?a.get(t,r,n&st.Optional):du(t,r,n&st.Optional)}finally{gi(c)}}return mp(r,0,n)}function yp(e,t,n,r=st.Default,a){if(null!==e){if(1024&t[et]){const f=function f1(e,t,n,r,a){let c=e,f=t;for(;null!==c&&null!==f&&1024&f[et]&&!(256&f[et]);){const y=wp(c,f,n,r|st.Self,Er);if(y!==Er)return y;let M=c.parent;if(!M){const L=f[ht];if(L){const V=L.get(n,Er,r);if(V!==Er)return V}M=xp(f),f=f[Dr]}c=M}return a}(e,t,n,r,Er);if(f!==Er)return f}const c=wp(e,t,n,r,Er);if(c!==Er)return c}return vp(t,n,r,a)}function wp(e,t,n,r,a){const c=function c1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(rs)?e[rs]:void 0;return"number"==typeof t?t>=0?t&pp:h1:t}(n);if("function"==typeof c){if(!rp(t,e,r))return r&st.Host?mp(a,0,r):vp(t,n,r,a);try{const f=c(r);if(null!=f||r&st.Optional)return f;Ve()}finally{up()}}else if("number"==typeof c){let f=null,y=_p(e,t),M=aa,L=r&st.Host?t[vn][Un]:null;for((-1===y||r&st.SkipSelf)&&(M=-1===y?Tc(e,t):t[y+8],M!==aa&&bp(r,!1)?(f=t[qe],y=Su(M),t=xu(M,t)):y=-1);-1!==y;){const V=t[qe];if(Cp(c,y,V.data)){const Z=l1(y,t,n,f,r,L);if(Z!==Er)return Z}M=t[y+8],M!==aa&&bp(r,t[qe].data[y+8]===L)&&Cp(c,y,t)?(f=V,y=Su(M),t=xu(M,t)):y=-1}}return a}function l1(e,t,n,r,a,c){const f=t[qe],y=f.data[e+8],V=Eu(y,f,n,null==r?ro(y)&&Ic:r!=f&&0!=(3&y.type),a&st.Host&&c===y);return null!==V?Rs(t,f,V,y):Er}function Eu(e,t,n,r,a){const c=e.providerIndexes,f=t.data,y=1048575&c,M=e.directiveStart,V=c>>20,X=a?y+V:e.directiveEnd;for(let re=r?y:y+V;re<X;re++){const fe=f[re];if(re<M&&n===fe||re>=M&&fe.type===n)return re}if(a){const re=f[M];if(re&&or(re)&&re.type===n)return M}return null}function Rs(e,t,n,r){let a=e[n];const c=t.data;if(function n1(e){return e instanceof ao}(a)){const f=a;f.resolving&&function de(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Q(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():q(e)}(c[n]));const y=Du(f.canSeeViewProviders);f.resolving=!0;const M=f.injectImpl?gi(f.injectImpl):null;rp(e,r,st.Default);try{a=e[n]=f.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function e1(e,t,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(r){const f=$d(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,f)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==M&&gi(M),Du(y),f.resolving=!1,up()}}return a}function Cp(e,t,n){return!!(n[t+(e>>gp)]&1<<e)}function bp(e,t){return!(e&st.Self||e&st.Host&&t)}class oa{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return yp(this._tNode,this._lView,t,Qs(r),n)}}function h1(){return new oa(si(),Ie())}function Ac(e){return Yt(e)?()=>{const t=Ac(Ue(e));return t&&t()}:As(e)}function xp(e){const t=e[qe],n=t.type;return 2===n?t.declTNode:1===n?e[Un]:null}const la="__parameters__";function ha(e,t,n){return _i(()=>{const r=function Pc(e){return function(...n){if(e){const r=e(...n);for(const a in r)this[a]=r[a]}}}(t);function a(...c){if(this instanceof a)return r.apply(this,c),this;const f=new a(...c);return y.annotation=f,y;function y(M,L,V){const Z=M.hasOwnProperty(la)?M[la]:Object.defineProperty(M,la,{value:[]})[la];for(;Z.length<=V;)Z.push(null);return(Z[V]=Z[V]||[]).push(f),M}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class _t{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ft({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Os(e,t){e.forEach(n=>Array.isArray(n)?Os(n,t):t(n))}function Ip(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Mu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ho=Ms(ha("Optional"),8),fo=Ms(ha("SkipSelf"),4);var Di=(()=>((Di=Di||{})[Di.Important=1]="Important",Di[Di.DashCase=2]="DashCase",Di))();const Vc=new Map;let B1=0;const Uc="__ngContext__";function ui(e,t){Ri(t)?(e[Uc]=t[we],function z1(e){Vc.set(e[we],e)}(t)):e[Uc]=t}let jc;function Hc(e,t){return jc(e,t)}function mo(e){const t=e[cn];return ar(t)?t[cn]:t}function $c(e){return Wp(e[cs])}function qc(e){return Wp(e[ki])}function Wp(e){for(;null!==e&&!ar(e);)e=e[ki];return e}function pa(e,t,n,r,a){if(null!=r){let c,f=!1;ar(r)?c=r:Ri(r)&&(f=!0,r=r[qi]);const y=ri(r);0===e&&null!==n?null==a?Jp(t,n,y):Ns(t,n,y,a||null,!0):1===e&&null!==n?Ns(t,n,y,a||null,!0):2===e?function Xc(e,t,n){const r=Ru(e,t);r&&function aC(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,y,f):3===e&&t.destroyNode(y),null!=c&&function lC(e,t,n,r,a){const c=n[Gi];c!==ri(n)&&pa(t,e,r,c,a);for(let y=ii;y<n.length;y++){const M=n[y];vo(M[qe],M,e,t,r,c)}}(t,e,c,n,a)}}function Wc(e,t,n){return e.createElement(t,n)}function Kp(e,t){const n=e[sr],r=n.indexOf(t),a=t[cn];512&t[et]&&(t[et]&=-513,pc(a,-1)),n.splice(r,1)}function Zc(e,t){if(e.length<=ii)return;const n=ii+t,r=e[n];if(r){const a=r[te];null!==a&&a!==e&&Kp(a,r),t>0&&(e[n-1][ki]=r[ki]);const c=Mu(e,ii+t);!function X1(e,t){vo(e,t,t[Mt],2,null,null),t[qi]=null,t[Un]=null}(r[qe],r);const f=c[pe];null!==f&&f.detachView(c[qe]),r[cn]=null,r[ki]=null,r[et]&=-65}return r}function Yp(e,t){if(!(128&t[et])){const n=t[Mt];n.destroyNode&&vo(e,t,n,3,null,null),function tC(e){let t=e[cs];if(!t)return Kc(e[qe],e);for(;t;){let n=null;if(Ri(t))n=t[cs];else{const r=t[ii];r&&(n=r)}if(!n){for(;t&&!t[ki]&&t!==e;)Ri(t)&&Kc(t[qe],t),t=t[cn];null===t&&(t=e),Ri(t)&&Kc(t[qe],t),n=t&&t[ki]}t=n}}(t)}}function Kc(e,t){if(!(128&t[et])){t[et]&=-65,t[et]|=128,function sC(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const a=t[n[r]];if(!(a instanceof ao)){const c=n[r+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const y=a[c[f]],M=c[f+1];Wi(4,y,M);try{M.call(y)}finally{Wi(5,y,M)}}else{Wi(4,a,c);try{c.call(a)}finally{Wi(5,a,c)}}}}}(e,t),function rC(e,t){const n=e.cleanup,r=t[Sr];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const f=n[c+3];f>=0?r[a=f]():r[a=-f].unsubscribe(),c+=2}else{const f=r[a=n[c+1]];n[c].call(f)}if(null!==r){for(let c=a+1;c<r.length;c++)(0,r[c])();t[Sr]=null}}(e,t),1===t[qe].type&&t[Mt].destroy();const n=t[te];if(null!==n&&ar(t[cn])){n!==t[cn]&&Kp(n,t);const r=t[pe];null!==r&&r.detachView(e)}!function U1(e){Vc.delete(e[we])}(t)}}function Qp(e,t,n){return function Xp(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[qi];{const{componentOffset:a}=r;if(a>-1){const{encapsulation:c}=e.data[r.directiveStart+a];if(c===Ai.None||c===Ai.Emulated)return null}return Oi(r,n)}}(e,t.parent,n)}function Ns(e,t,n,r,a){e.insertBefore(t,n,r,a)}function Jp(e,t,n){e.appendChild(t,n)}function eg(e,t,n,r,a){null!==r?Ns(e,t,n,r,a):Jp(e,t,n)}function Ru(e,t){return e.parentNode(t)}let Yc,th,ig=function ng(e,t,n){return 40&e.type?Oi(e,n):null};function Ou(e,t,n,r){const a=Qp(e,r,t),c=t[Mt],y=function tg(e,t,n){return ig(e,t,n)}(r.parent||t[Un],r,t);if(null!=a)if(Array.isArray(n))for(let M=0;M<n.length;M++)eg(c,a,n[M],y,!1);else eg(c,a,n,y,!1);void 0!==Yc&&Yc(c,r,t,n,a)}function Nu(e,t){if(null!==t){const n=t.type;if(3&n)return Oi(t,e);if(4&n)return Qc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Nu(e,r);{const a=e[t.index];return ar(a)?Qc(-1,a):ri(a)}}if(32&n)return Hc(t,e)()||ri(e[t.index]);{const r=sg(e,t);return null!==r?Array.isArray(r)?r[0]:Nu(mo(e[vn]),r):Nu(e,t.next)}}return null}function sg(e,t){return null!==t?e[vn][Un].projection[t.projection]:null}function Qc(e,t){const n=ii+e+1;if(n<t.length){const r=t[n],a=r[qe].firstChild;if(null!==a)return Nu(r,a)}return t[Gi]}function Jc(e,t,n,r,a,c,f){for(;null!=n;){const y=r[n.index],M=n.type;if(f&&0===t&&(y&&ui(ri(y),r),n.flags|=2),32!=(32&n.flags))if(8&M)Jc(e,t,n.child,r,a,c,!1),pa(t,e,a,y,c);else if(32&M){const L=Hc(n,r);let V;for(;V=L();)pa(t,e,a,V,c);pa(t,e,a,y,c)}else 16&M?ag(e,t,r,n,a,c):pa(t,e,a,y,c);n=f?n.projectionNext:n.next}}function vo(e,t,n,r,a,c){Jc(n,r,e.firstChild,t,a,c,!1)}function ag(e,t,n,r,a,c){const f=n[vn],M=f[Un].projection[r.projection];if(Array.isArray(M))for(let L=0;L<M.length;L++)pa(t,e,a,M[L],c);else Jc(e,t,M,f[cn],a,c,!0)}function og(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ug(e,t,n){const{mergedAttrs:r,classes:a,styles:c}=n;null!==r&&Dc(e,t,r),null!==a&&og(e,t,a),null!==c&&function hC(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}const Vu=new _t("ENVIRONMENT_INITIALIZER"),Sg=new _t("INJECTOR",-1),xg=new _t("INJECTOR_DEF_TYPES");class Dg{get(t,n=ns){if(n===ns){const r=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw r.name="NullInjectorError",r}return n}}function BC(...e){return{\u0275providers:Ig(0,e),\u0275fromNgModule:!0}}function Ig(e,...t){const n=[],r=new Set;let a;return Os(t,c=>{const f=c;oh(f,n,[],r)&&(a||(a=[]),a.push(f))}),void 0!==a&&Eg(a,n),n}function Eg(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];uh(a,c=>{t.push(c)})}}function oh(e,t,n,r){if(!(e=Ue(e)))return!1;let a=null,c=Ka(e);const f=!c&&$t(e);if(c||f){if(f&&!f.standalone)return!1;a=e}else{const M=e.ngModule;if(c=Ka(M),!c)return!1;a=M}const y=r.has(a);if(f){if(y)return!1;if(r.add(a),f.dependencies){const M="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const L of M)oh(L,t,n,r)}}else{if(!c)return!1;{if(null!=c.imports&&!y){let L;r.add(a);try{Os(c.imports,V=>{oh(V,t,n,r)&&(L||(L=[]),L.push(V))})}finally{}void 0!==L&&Eg(L,t)}if(!y){const L=As(a)||(()=>new a);t.push({provide:a,useFactory:L,deps:Ut},{provide:xg,useValue:a,multi:!0},{provide:Vu,useValue:()=>ct(a),multi:!0})}const M=c.providers;null==M||y||uh(M,V=>{t.push(V)})}}return a!==e&&void 0!==e.providers}function uh(e,t){for(let n of e)Cn(n)&&(n=n.\u0275providers),Array.isArray(n)?uh(n,t):t(n)}const VC=Ye({provide:String,useValue:Ye});function lh(e){return null!==e&&"object"==typeof e&&VC in e}function Ls(e){return"function"==typeof e}const ch=new _t("Set Injector scope."),zu={},UC={};let hh;function Uu(){return void 0===hh&&(hh=new Dg),hh}class $r{}class Ag extends $r{get destroyed(){return this._destroyed}constructor(t,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dh(t,f=>this.processProvider(f)),this.records.set(Sg,_a(void 0,this)),a.has("environment")&&this.records.set($r,_a(void 0,this));const c=this.records.get(ch);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(xg.multi,Ut,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=is(this),r=gi(void 0);try{return t()}finally{is(n),gi(r)}}get(t,n=ns,r=st.Default){this.assertNotDestroyed(),r=Qs(r);const a=is(this),c=gi(void 0);try{if(!(r&st.SkipSelf)){let y=this.records.get(t);if(void 0===y){const M=function GC(e){return"function"==typeof e||"object"==typeof e&&e instanceof _t}(t)&&Ys(t);y=M&&this.injectableDefInScope(M)?_a(fh(t),zu):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(r&st.Self?Uu():this.parent).get(t,n=r&st.Optional&&n===ns?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[Es]=f[Es]||[]).unshift(Oe(t)),a)throw f;return function zn(e,t,n,r){const a=e[Es];throw t[Br]&&a.unshift(t[Br]),e.message=function gu(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==eo?e.slice(2):e;let a=Oe(t);if(Array.isArray(t))a=t.map(Oe).join(" -> ");else if("object"==typeof t){let c=[];for(let f in t)if(t.hasOwnProperty(f)){let y=t[f];c.push(f+":"+("string"==typeof y?JSON.stringify(y):Oe(y)))}a=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(cc,"\n  ")}`}("\n"+e.message,a,n,r),e[Vn]=a,e[Es]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{gi(c),is(a)}}resolveInjectorInitializers(){const t=is(this),n=gi(void 0);try{const r=this.get(Vu.multi,Ut,st.Self);for(const a of r)a()}finally{is(t),gi(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Oe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){let n=Ls(t=Ue(t))?t:Ue(t&&t.provide);const r=function HC(e){return lh(e)?_a(void 0,e.useValue):_a(function Pg(e,t,n){let r;if(Ls(e)){const a=Ue(e);return As(a)||fh(a)}if(lh(e))r=()=>Ue(e.useValue);else if(function Mg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...to(e.deps||[]));else if(function Tg(e){return!(!e||!e.useExisting)}(e))r=()=>ct(Ue(e.useExisting));else{const a=Ue(e&&(e.useClass||e.provide));if(!function $C(e){return!!e.deps}(e))return As(a)||fh(a);r=()=>new a(...to(e.deps))}return r}(e),zu)}(t);if(Ls(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=_a(void 0,zu,!0),a.factory=()=>to(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===zu&&(n.value=UC,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qC(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ue(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function fh(e){const t=Ys(e),n=null!==t?t.factory:As(e);if(null!==n)return n;if(e instanceof _t)throw new T(204,!1);if(e instanceof Function)return function jC(e){const t=e.length;if(t>0)throw function co(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new T(204,!1);const n=function ac(e){const t=e&&(e[wr]||e[hu]);return t?(function oc(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new T(204,!1)}function _a(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dh(e,t){for(const n of e)Array.isArray(n)?dh(n,t):n&&Cn(n)?dh(n.\u0275providers,t):t(n)}class WC{}class kg{}class KC{resolveComponentFactory(t){throw function ZC(e){const t=Error(`No component factory found for ${Oe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let bo=(()=>{class e{}return e.NULL=new KC,e})();function YC(){return ma(si(),Ie())}function ma(e,t){return new ps(Oi(e,t))}let ps=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=YC,e})();function QC(e){return e instanceof ps?e.nativeElement:e}class Og{}let So=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function XC(){const e=Ie(),n=Ni(si().index,e);return(Ri(n)?n:e)[Mt]}(),e})(),JC=(()=>{class e{}return e.\u0275prov=ft({token:e,providedIn:"root",factory:()=>null}),e})();class ju{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const eb=new ju("15.2.4"),ph={},gh="ngOriginalError";function _h(e){return e[gh]}class va{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&_h(t);for(;n&&_h(n);)n=_h(n);return n||null}}function qr(e){return e instanceof Function?e():e}function Lg(e,t,n){let r=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===r||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Fg="ng-template";function hb(e,t,n){let r=0,a=!0;for(;r<e.length;){let c=e[r++];if("string"==typeof c&&a){const f=e[r++];if(n&&"class"===c&&-1!==Lg(f.toLowerCase(),t,0))return!0}else{if(1===c){for(;r<e.length&&"string"==typeof(c=e[r++]);)if(c.toLowerCase()===t)return!0;return!1}"number"==typeof c&&(a=!1)}}return!1}function Bg(e){return 4===e.type&&e.value!==Fg}function fb(e,t,n){return t===(4!==e.type||n?e.value:Fg)}function db(e,t,n){let r=4;const a=e.attrs||[],c=function _b(e){for(let t=0;t<e.length;t++)if(cp(e[t]))return t;return e.length}(a);let f=!1;for(let y=0;y<t.length;y++){const M=t[y];if("number"!=typeof M){if(!f)if(4&r){if(r=2|1&r,""!==M&&!fb(e,M,n)||""===M&&1===t.length){if(lr(r))return!1;f=!0}}else{const L=8&r?M:t[++y];if(8&r&&null!==e.attrs){if(!hb(e.attrs,L,n)){if(lr(r))return!1;f=!0}continue}const Z=pb(8&r?"class":M,a,Bg(e),n);if(-1===Z){if(lr(r))return!1;f=!0;continue}if(""!==L){let X;X=Z>c?"":a[Z+1].toLowerCase();const re=8&r?X:null;if(re&&-1!==Lg(re,L,0)||2&r&&L!==X){if(lr(r))return!1;f=!0}}}}else{if(!f&&!lr(r)&&!lr(M))return!1;if(f&&lr(M))continue;f=!1,r=M|1&r}}return lr(r)||f}function lr(e){return 0==(1&e)}function pb(e,t,n,r){if(null===t)return-1;let a=0;if(r||!n){let c=!1;for(;a<t.length;){const f=t[a];if(f===e)return a;if(3===f||6===f)c=!0;else{if(1===f||2===f){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===f)break;if(0===f){a+=4;continue}}a+=c?1:2}return-1}return function mb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Vg(e,t,n=!1){for(let r=0;r<t.length;r++)if(db(e,t[r],n))return!0;return!1}function zg(e,t){return e?":not("+t.trim()+")":t}function yb(e){let t=e[0],n=1,r=2,a="",c=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&r){const y=e[++n];a+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?a+="."+f:4&r&&(a+=" "+f);else""!==a&&!lr(f)&&(t+=zg(c,a),a=""),r=f,c=c||!lr(r);n++}return""!==a&&(t+=zg(c,a)),t}const xt={};function Tr(e){Ug(Gt(),Ie(),vi()+e,!1)}function Ug(e,t,n,r){if(!r)if(3==(3&t[et])){const c=e.preOrderCheckHooks;null!==c&&Cu(t,c,n)}else{const c=e.preOrderHooks;null!==c&&bu(t,c,0,n)}ks(n)}function qg(e,t=null,n=null,r){const a=Gg(e,t,n,r);return a.resolveInjectorInitializers(),a}function Gg(e,t=null,n=null,r,a=new Set){const c=[n||Ut,BC(e)];return r=r||("object"==typeof e?void 0:Oe(e)),new Ag(c,t||Uu(),r||null,a)}let Gr=(()=>{class e{static create(n,r){if(Array.isArray(n))return qg({name:""},r,n,"");{const a=n.name??"";return qg({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=ns,e.NULL=new Dg,e.\u0275prov=ft({token:e,providedIn:"any",factory:()=>ct(Sg)}),e.__NG_ELEMENT_ID__=-1,e})();function at(e,t=st.Default){const n=Ie();return null===n?ct(e,t):yp(si(),n,Ue(e),t)}function e_(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const c=n[r+1];if(-1!==c){const f=e.data[c];yc(n[r]),f.contentQueries(2,t[c],c)}}}function $u(e,t,n,r,a,c,f,y,M,L,V){const Z=t.blueprint.slice();return Z[qi]=a,Z[et]=76|r,(null!==V||e&&1024&e[et])&&(Z[et]|=1024),Yd(Z),Z[cn]=Z[Dr]=e,Z[En]=n,Z[ls]=f||e&&e[ls],Z[Mt]=y||e&&e[Mt],Z[io]=M||e&&e[io]||null,Z[xr]=L||e&&e[xr]||null,Z[Un]=c,Z[we]=function V1(){return B1++}(),Z[ht]=V,Z[vn]=2==t.type?e[vn]:Z,Z}function Ca(e,t,n,r,a){let c=e.data[t];if(null===c)c=function Ch(e,t,n,r,a){const c=Jd(),f=gc(),M=e.data[t]=function qb(e,t,n,r,a,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=M),null!==c&&(f?null==c.child&&null!==M.parent&&(c.child=M):null===c.next&&(c.next=M,M.prev=c)),M}(e,t,n,r,a),function qw(){return St.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=a;const f=function so(){const e=St.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===f?-1:f.injectorIndex}return Ir(c,!0),c}function xo(e,t,n,r){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function bh(e,t,n){wc(t);try{const r=e.viewQuery;null!==r&&kh(1,r,n);const a=e.template;null!==a&&t_(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&e_(e,t),e.staticViewQueries&&kh(2,e.viewQuery,n);const c=e.components;null!==c&&function jb(e,t){for(let n=0;n<t.length;n++)cS(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[et]&=-5,Cc()}}function qu(e,t,n,r){const a=t[et];if(128!=(128&a)){wc(t);try{Yd(t),function tp(e){return St.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&t_(e,t,n,2,r);const f=3==(3&a);if(f){const L=e.preOrderCheckHooks;null!==L&&Cu(t,L,null)}else{const L=e.preOrderHooks;null!==L&&bu(t,L,0,null),Sc(t,0)}if(function uS(e){for(let t=$c(e);null!==t;t=qc(t)){if(!t[xi])continue;const n=t[sr];for(let r=0;r<n.length;r++){const a=n[r];512&a[et]||pc(a[cn],1),a[et]|=512}}}(t),function oS(e){for(let t=$c(e);null!==t;t=qc(t))for(let n=ii;n<t.length;n++){const r=t[n],a=r[qe];yu(r)&&qu(a,r,a.template,r[En])}}(t),null!==e.contentQueries&&e_(e,t),f){const L=e.contentCheckHooks;null!==L&&Cu(t,L)}else{const L=e.contentHooks;null!==L&&bu(t,L,1),Sc(t,1)}!function zb(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const a=n[r];if(a<0)ks(~a);else{const c=a,f=n[++r],y=n[++r];Gw(f,c),y(2,t[c])}}}finally{ks(-1)}}(e,t);const y=e.components;null!==y&&function Ub(e,t){for(let n=0;n<t.length;n++)lS(e,t[n])}(t,y);const M=e.viewQuery;if(null!==M&&kh(2,M,r),f){const L=e.viewCheckHooks;null!==L&&Cu(t,L)}else{const L=e.viewHooks;null!==L&&bu(t,L,2),Sc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[et]&=-41,512&t[et]&&(t[et]&=-513,pc(t[cn],-1))}finally{Cc()}}}function t_(e,t,n,r,a){const c=vi(),f=2&r;try{ks(-1),f&&t.length>He&&Ug(e,t,He,!1),Wi(f?2:0,a),n(r,a)}finally{ks(c),Wi(f?3:1,a)}}function Sh(e,t,n){if(fc(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const f=e.data[c];f.contentQueries&&f.contentQueries(1,n[c],c)}}}function xh(e,t,n){Xd()&&(function Qb(e,t,n,r){const a=n.directiveStart,c=n.directiveEnd;ro(n)&&function rS(e,t,n){const r=Oi(t,e),a=n_(n),c=e[ls],f=Gu(e,$u(e,a,null,n.onPush?32:16,r,t,c,c.createRenderer(r,n),null,null,null));e[t.index]=f}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||Iu(n,t),ui(r,t);const f=n.initialInputs;for(let y=a;y<c;y++){const M=e.data[y],L=Rs(t,e,y,n);ui(L,t),null!==f&&sS(0,y-a,L,M,0,f),or(M)&&(Ni(n.index,t)[En]=Rs(t,e,y,n))}}(e,t,n,Oi(n,t)),64==(64&n.flags)&&u_(e,t,n))}function Dh(e,t,n=Oi){const r=t.localNames;if(null!==r){let a=t.index+1;for(let c=0;c<r.length;c+=2){const f=r[c+1],y=-1===f?n(t,e):e[f];e[a++]=y}}}function n_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ih(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ih(e,t,n,r,a,c,f,y,M,L){const V=He+r,Z=V+a,X=function Hb(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:xt);return n}(V,Z),re="function"==typeof L?L():L;return X[qe]={type:e,blueprint:X,template:n,queries:null,viewQuery:y,declTNode:t,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:M,consts:re,incompleteFirstPass:!1}}function i_(e,t,n,r){const a=c_(t);null===n?a.push(r):(a.push(n),e.firstCreatePass&&h_(e).push(r,a.length-1))}function r_(e,t,n,r){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===r?s_(n,t,a,c):r.hasOwnProperty(a)&&s_(n,t,r[a],c)}return n}function s_(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function a_(e,t){const n=Ni(t,e);16&n[et]||(n[et]|=32)}function Eh(e,t,n,r){if(Xd()){const a=null===r?null:{"":-1},c=function Jb(e,t){const n=e.directiveRegistry;let r=null,a=null;if(n)for(let c=0;c<n.length;c++){const f=n[c];if(Vg(t,f.selectors,!1))if(r||(r=[]),or(f))if(null!==f.findHostDirectiveDefs){const y=[];a=a||new Map,f.findHostDirectiveDefs(f,y,a),r.unshift(...y,f),Th(e,t,y.length)}else r.unshift(f),Th(e,t,0);else a=a||new Map,f.findHostDirectiveDefs?.(f,r,a),r.push(f)}return null===r?null:[r,a]}(e,n);let f,y;null===c?f=y=null:[f,y]=c,null!==f&&o_(e,t,n,f,a,y),a&&function eS(e,t,n){if(t){const r=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new T(-301,!1);r.push(t[a],c)}}}(n,r,a)}n.mergedAttrs=oo(n.mergedAttrs,n.attrs)}function o_(e,t,n,r,a,c){for(let L=0;L<r.length;L++)Mc(Iu(n,t),e,r[L].type);!function nS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let L=0;L<r.length;L++){const V=r[L];V.providersResolver&&V.providersResolver(V)}let f=!1,y=!1,M=xo(e,t,r.length,null);for(let L=0;L<r.length;L++){const V=r[L];n.mergedAttrs=oo(n.mergedAttrs,V.hostAttrs),iS(e,n,t,M,V),tS(M,V,a),null!==V.contentQueries&&(n.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(n.flags|=64);const Z=V.type.prototype;!f&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),f=!0),!y&&(Z.ngOnChanges||Z.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),y=!0),M++}!function Gb(e,t,n){const a=t.directiveEnd,c=e.data,f=t.attrs,y=[];let M=null,L=null;for(let V=t.directiveStart;V<a;V++){const Z=c[V],X=n?n.get(Z):null,fe=X?X.outputs:null;M=r_(Z.inputs,V,M,X?X.inputs:null),L=r_(Z.outputs,V,L,fe);const ye=null===M||null===f||Bg(t)?null:aS(M,V,f);y.push(ye)}null!==M&&(M.hasOwnProperty("class")&&(t.flags|=8),M.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=M,t.outputs=L}(e,n,c)}function u_(e,t,n){const r=n.directiveStart,a=n.directiveEnd,c=n.index,f=function Ww(){return St.lFrame.currentDirectiveIndex}();try{ks(c);for(let y=r;y<a;y++){const M=e.data[y],L=t[y];mc(y),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Xb(M,L)}}finally{ks(-1),mc(f)}}function Xb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Th(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function tS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;or(t)&&(n[""]=e)}}function iS(e,t,n,r,a){e.data[r]=a;const c=a.factory||(a.factory=As(a.type)),f=new ao(c,or(a),at);e.blueprint[r]=f,n[r]=f,function Kb(e,t,n,r,a){const c=a.hostBindings;if(c){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const y=~t.index;(function Yb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(f)!=y&&f.push(y),f.push(n,r,c)}}(e,t,r,xo(e,n,a.hostVars,xt),a)}function Mr(e,t,n,r,a,c){const f=Oi(e,t);!function Mh(e,t,n,r,a,c,f){if(null==c)e.removeAttribute(t,a,n);else{const y=null==f?q(c):f(c,r||"",a);e.setAttribute(t,a,y,n)}}(t[Mt],f,c,e.value,n,r,a)}function sS(e,t,n,r,a,c){const f=c[t];if(null!==f){const y=r.setInput;for(let M=0;M<f.length;){const L=f[M++],V=f[M++],Z=f[M++];null!==y?r.setInput(n,Z,L,V):n[V]=Z}}}function aS(e,t,n){let r=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===r&&(r=[]);const f=e[c];for(let y=0;y<f.length;y+=2)if(f[y]===t){r.push(c,f[y+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return r}function l_(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function lS(e,t){const n=Ni(t,e);if(yu(n)){const r=n[qe];48&n[et]?qu(r,n,r.template,n[En]):n[zr]>0&&Ah(n)}}function Ah(e){for(let r=$c(e);null!==r;r=qc(r))for(let a=ii;a<r.length;a++){const c=r[a];if(yu(c))if(512&c[et]){const f=c[qe];qu(f,c,f.template,c[En])}else c[zr]>0&&Ah(c)}const n=e[qe].components;if(null!==n)for(let r=0;r<n.length;r++){const a=Ni(n[r],e);yu(a)&&a[zr]>0&&Ah(a)}}function cS(e,t){const n=Ni(t,e),r=n[qe];(function hS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),bh(r,n,n[En])}function Gu(e,t){return e[cs]?e[ta][ki]=t:e[cs]=t,e[ta]=t,t}function Ph(e){for(;e;){e[et]|=32;const t=mo(e);if(Ew(e)&&!t)return e;e=t}return null}function Wu(e,t,n,r=!0){const a=t[ls];a.begin&&a.begin();try{qu(e,t,e.template,n)}catch(f){throw r&&d_(t,f),f}finally{a.end&&a.end()}}function kh(e,t,n){yc(0),t(e,n)}function c_(e){return e[Sr]||(e[Sr]=[])}function h_(e){return e.cleanup||(e.cleanup=[])}function d_(e,t){const n=e[xr],r=n?n.get(va,null):null;r&&r.handleError(t)}function Rh(e,t,n,r,a){for(let c=0;c<n.length;){const f=n[c++],y=n[c++],M=t[f],L=e.data[f];null!==L.setInput?L.setInput(M,a,r,y):M[y]=a}}function Wr(e,t,n){const r=function vu(e,t){return ri(t[e])}(t,e);!function Zp(e,t,n){e.setValue(t,n)}(e[Mt],r,n)}function Zu(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let f=0;f<t.length;f++){const y=t[f];"number"==typeof y?c=y:1==c?a=wn(a,y):2==c&&(r=wn(r,y+": "+t[++f]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}function Ku(e,t,n,r,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(ri(c)),ar(c))for(let y=ii;y<c.length;y++){const M=c[y],L=M[qe].firstChild;null!==L&&Ku(M[qe],M,L,r)}const f=n.type;if(8&f)Ku(e,t,n.child,r);else if(32&f){const y=Hc(n,t);let M;for(;M=y();)r.push(M)}else if(16&f){const y=sg(t,n);if(Array.isArray(y))r.push(...y);else{const M=mo(t[vn]);Ku(M[qe],M,y,r,!0)}}n=a?n.projectionNext:n.next}return r}class Do{get rootNodes(){const t=this._lView,n=t[qe];return Ku(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(t){this._lView[En]=t}get destroyed(){return 128==(128&this._lView[et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[cn];if(ar(t)){const n=t[hs],r=n?n.indexOf(this):-1;r>-1&&(Zc(t,r),Mu(n,r))}this._attachedToViewContainer=!1}Yp(this._lView[qe],this._lView)}onDestroy(t){i_(this._lView[qe],this._lView,null,t)}markForCheck(){Ph(this._cdRefInjectingView||this._lView)}detach(){this._lView[et]&=-65}reattach(){this._lView[et]|=64}detectChanges(){Wu(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eC(e,t){vo(e,t,t[Mt],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t}}class fS extends Do{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Wu(t[qe],t,t[En],!1)}checkNoChanges(){}get context(){return null}}class p_ extends bo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=$t(t);return new Io(n,this.ngModule)}}function g_(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class pS{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Qs(r);const a=this.injector.get(t,ph,r);return a!==ph||n===ph?a:this.parentInjector.get(t,n,r)}}class Io extends kg{get inputs(){return g_(this.componentDef.inputs)}get outputs(){return g_(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function wb(e){return e.map(yb).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,a){let c=(a=a||this.ngModule)instanceof $r?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const f=c?new pS(t,c):t,y=f.get(Og,null);if(null===y)throw new T(407,!1);const M=f.get(JC,null),L=y.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",Z=r?function $b(e,t,n){return e.selectRootElement(t,n===Ai.ShadowDom)}(L,r,this.componentDef.encapsulation):Wc(L,V,function dS(e){const t=e.toLowerCase();return"svg"===t?Wd:"math"===t?"math":null}(V)),X=this.componentDef.onPush?288:272,re=Ih(0,null,null,1,0,null,null,null,null,null),fe=$u(null,re,null,X,null,null,y,L,M,f,null);let ye,be;wc(fe);try{const Re=this.componentDef;let Ge,Se=null;Re.findHostDirectiveDefs?(Ge=[],Se=new Map,Re.findHostDirectiveDefs(Re,Ge,Se),Ge.push(Re)):Ge=[Re];const vt=function _S(e,t){const n=e[qe],r=He;return e[r]=t,Ca(n,r,2,"#host",null)}(fe,Z),un=function mS(e,t,n,r,a,c,f,y){const M=a[qe];!function vS(e,t,n,r){for(const a of e)t.mergedAttrs=oo(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Zu(t,t.mergedAttrs,!0),null!==n&&ug(r,n,t))}(r,e,t,f);const L=c.createRenderer(t,n),V=$u(a,n_(n),null,n.onPush?32:16,a[e.index],e,c,L,y||null,null,null);return M.firstCreatePass&&Th(M,e,r.length-1),Gu(a,V),a[e.index]=V}(vt,Z,Re,Ge,fe,y,L);be=Kd(re,He),Z&&function wS(e,t,n,r){if(r)Dc(e,n,["ng-version",eb.full]);else{const{attrs:a,classes:c}=function Cb(e){const t=[],n=[];let r=1,a=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++r]):8===a&&n.push(c);else{if(!lr(a))break;a=c}r++}return{attrs:t,classes:n}}(t.selectors[0]);a&&Dc(e,n,a),c&&c.length>0&&og(e,n,c.join(" "))}}(L,Re,Z,r),void 0!==n&&function CS(e,t,n){const r=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];r.push(null!=c?Array.from(c):null)}}(be,this.ngContentSelectors,n),ye=function yS(e,t,n,r,a,c){const f=si(),y=a[qe],M=Oi(f,a);o_(y,a,f,n,null,r);for(let V=0;V<n.length;V++)ui(Rs(a,y,f.directiveStart+V,f),a);u_(y,a,f),M&&ui(M,a);const L=Rs(a,y,f.directiveStart+f.componentOffset,f);if(e[En]=a[En]=L,null!==c)for(const V of c)V(L,t);return Sh(y,f,e),L}(un,Re,Ge,Se,fe,[bS]),bh(re,fe,null)}finally{Cc()}return new gS(this.componentType,ye,ma(be,fe),fe,be)}}class gS extends WC{constructor(t,n,r,a,c){super(),this.location=r,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new fS(a),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let a;if(null!==r&&(a=r[t])){const c=this._rootLView;Rh(c[qe],c,a,t,n),a_(c,this._tNode.index)}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function bS(){const e=si();wu(Ie()[qe],e)}function Yu(e){return!!function Nh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function li(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Fs(e,t,n,r){const a=li(e,t,n);return li(e,t+1,r)||a}function Bs(e,t,n,r){const a=Ie();return li(a,sa(),t)&&(Gt(),Mr(Tn(),a,e,t,n,r)),Bs}function Da(e,t,n,r,a,c,f,y){const L=function Qu(e,t,n,r,a){const c=Fs(e,t,n,r);return li(e,t+2,a)||c}(e,function Ur(){return St.lFrame.bindingIndex}(),n,a,f);return function jr(e){const t=St.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(3),L?t+q(n)+r+q(a)+c+q(f)+y:xt}function Lh(e,t,n,r,a,c,f,y,M,L){const V=Ie(),Z=Da(V,t,n,r,a,c,f,y);return Z!==xt&&Mr(Tn(),V,e,Z,M,L),Lh}function gs(e,t,n,r,a,c,f,y){const M=Ie(),L=Gt(),V=e+He,Z=L.firstCreatePass?function LS(e,t,n,r,a,c,f,y,M){const L=t.consts,V=Ca(t,e,4,f||null,fs(L,y));Eh(t,n,V,fs(L,M)),wu(t,V);const Z=V.tView=Ih(2,V,r,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,L);return null!==t.queries&&(t.queries.template(t,V),Z.queries=t.queries.embeddedTView(V)),V}(V,L,M,t,n,r,a,c,f):L.data[V];Ir(Z,!1);const X=M[Mt].createComment("");Ou(L,M,X,Z),ui(X,M),Gu(M,M[V]=l_(X,M,X,Z)),mu(Z)&&xh(L,M,Z),null!=f&&Dh(M,Z,y)}function Yi(e,t,n){const r=Ie();return li(r,sa(),t)&&function Fi(e,t,n,r,a,c,f,y){const M=Oi(t,n);let V,L=t.inputs;!y&&null!=L&&(V=L[r])?(Rh(e,n,V,r,a),ro(t)&&a_(n,t.index)):3&t.type&&(r=function Wb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),a=null!=f?f(a,t.value||"",r):a,c.setProperty(M,r,a))}(Gt(),Tn(),r,e,t,r[Mt],n,!1),Yi}function Fh(e,t,n,r,a){const f=a?"class":"style";Rh(e,n,t.inputs[f],f,r)}function Qi(e,t,n,r){const a=Ie(),c=Gt(),f=He+e,y=a[Mt],M=c.firstCreatePass?function BS(e,t,n,r,a,c){const f=t.consts,M=Ca(t,e,2,r,fs(f,a));return Eh(t,n,M,fs(f,c)),null!==M.attrs&&Zu(M,M.attrs,!1),null!==M.mergedAttrs&&Zu(M,M.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,M),M}(f,c,a,t,n,r):c.data[f],L=a[f]=Wc(y,t,function Jw(){return St.lFrame.currentNamespace}()),V=mu(M);return Ir(M,!0),ug(y,L,M),32!=(32&M.flags)&&Ou(c,a,L,M),0===function Vw(){return St.lFrame.elementDepthCount}()&&ui(L,a),function zw(){St.lFrame.elementDepthCount++}(),V&&(xh(c,a,M),Sh(c,M,a)),null!==r&&Dh(a,M),Qi}function cr(){let e=si();gc()?function _c(){St.lFrame.isParent=!1}():(e=e.parent,Ir(e,!1));const t=e;!function Uw(){St.lFrame.elementDepthCount--}();const n=Gt();return n.firstCreatePass&&(wu(n,e),fc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function i1(e){return 0!=(8&e.flags)}(t)&&Fh(n,t,Ie(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function r1(e){return 0!=(16&e.flags)}(t)&&Fh(n,t,Ie(),t.stylesWithoutHost,!1),cr}function Vs(e,t,n,r){return Qi(e,t,n,r),cr(),Vs}function zh(){return Ie()}function Xu(e){return!!e&&"function"==typeof e.then}const k_=function P_(e){return!!e&&"function"==typeof e.subscribe};function To(e,t,n,r){const a=Ie(),c=Gt(),f=si();return function O_(e,t,n,r,a,c,f){const y=mu(r),L=e.firstCreatePass&&h_(e),V=t[En],Z=c_(t);let X=!0;if(3&r.type||f){const ye=Oi(r,t),be=f?f(ye):ye,Re=Z.length,Ge=f?vt=>f(ri(vt[r.index])):r.index;let Se=null;if(!f&&y&&(Se=function zS(e,t,n,r){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const f=a[c];if(f===n&&a[c+1]===r){const y=t[Sr],M=a[c+2];return y.length>M?y[M]:null}"string"==typeof f&&(c+=2)}return null}(e,t,a,r.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=c,Se.__ngLastListenerFn__=c,X=!1;else{c=L_(r,t,V,c,!1);const vt=n.listen(be,a,c);Z.push(c,vt),L&&L.push(a,Ge,Re,Re+1)}}else c=L_(r,t,V,c,!1);const re=r.outputs;let fe;if(X&&null!==re&&(fe=re[a])){const ye=fe.length;if(ye)for(let be=0;be<ye;be+=2){const un=t[fe[be]][fe[be+1]].subscribe(c),Ln=Z.length;Z.push(c,un),L&&L.push(a,r.index,Ln,-(Ln+1))}}}(c,a,a[Mt],f,e,t,r),To}function N_(e,t,n,r){try{return Wi(6,t,n),!1!==n(r)}catch(a){return d_(e,a),!1}finally{Wi(7,t,n)}}function L_(e,t,n,r,a){return function c(f){if(f===Function)return r;Ph(e.componentOffset>-1?Ni(e.index,t):t);let M=N_(t,n,r,f),L=c.__ngNextListenerFn__;for(;L;)M=N_(t,n,L,f)&&M,L=L.__ngNextListenerFn__;return a&&!1===M&&(f.preventDefault(),f.returnValue=!1),M}}function Zr(e=1){return function Kw(e){return(St.lFrame.contextLView=function Yw(e,t){for(;e>0;)t=t[Dr],e--;return t}(e,St.lFrame.contextLView))[En]}(e)}function Gh(e){return Wh("",e,""),Gh}function Wh(e,t,n){const r=Ie(),a=function Sa(e,t,n,r){return li(e,sa(),n)?t+q(n)+r:xt}(r,e,t,n);return a!==xt&&Wr(r,vi(),a),Wh}const Us=void 0;var Ax=["en",[["a","p"],["AM","PM"],Us],[["AM","PM"],Us,Us],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Us,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Us,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Us,"{1} 'at' {0}",Us],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mx(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ka={};function yi(e){const t=function Px(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Tm(t);if(n)return n;const r=t.split("-")[0];if(n=Tm(r),n)return n;if("en"===r)return Ax;throw new T(701,!1)}function Tm(e){return e in ka||(ka[e]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[e]),ka[e]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const Ra="en-US";let Mm=Ra;class Oa{}class tv{}class nv extends Oa{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new p_(this);const r=mn(t);this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=Gg(t,n,[{provide:Oa,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],Oe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ef extends tv{constructor(t){super(),this.moduleType=t}create(t){return new nv(this.moduleType,t)}}class PD extends Oa{constructor(t,n,r){super(),this.componentFactoryResolver=new p_(this),this.instance=null;const a=new Ag([...t,{provide:Oa,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],n||Uu(),r,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function sl(e,t,n=null){return new PD(e,t,n).injector}let kD=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Ig(0,n.type),a=r.length>0?sl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ft({token:e,providedIn:"environment",factory:()=>new e(ct($r))}),e})();function iv(e){e.getStandaloneInjector=t=>t.get(kD).getOrCreateStandaloneInjector(e)}function hv(e,t,n,r,a,c,f){const y=t+n;return Fs(e,y,a,c)?function Ar(e,t,n){return e[t]=n}(e,y+2,f?r.call(f,a,c):r(a,c)):function No(e,t){const n=e[t];return n===xt?void 0:n}(e,y+2)}function nf(e,t){const n=Gt();let r;const a=e+He;n.firstCreatePass?(r=function QD(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[a]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(a,r.onDestroy)):r=n.data[a];const c=r.factory||(r.factory=As(r.type)),f=gi(at);try{const y=Du(!1),M=c();return Du(y),function FS(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ie(),a,M),M}finally{gi(f)}}function rf(e,t,n,r){const a=e+He,c=Ie(),f=na(c,a);return function Lo(e,t){return e[qe].data[t].pure}(c,a)?hv(c,function mi(){const e=St.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,f.transform,n,r,f):f.transform(n,r)}function sf(e){return t=>{setTimeout(e,void 0,t)}}const wi=class nI extends it{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let a=t,c=n||(()=>null),f=r;if(t&&"object"==typeof t){const M=t;a=M.next?.bind(M),c=M.error?.bind(M),f=M.complete?.bind(M)}this.__isAsync&&(c=sf(c),a&&(a=sf(a)),f&&(f=sf(f)));const y=super.subscribe({next:a,error:c,complete:f});return t instanceof xe&&t.add(y),y}};function iI(){return this._results[Symbol.iterator]()}class af{get changes(){return this._changes||(this._changes=new wi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=af.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=iI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const a=function Zi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function p1(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],c=t[r];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(r._results,a,n))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kr=(()=>{class e{}return e.__NG_ELEMENT_ID__=aI,e})();const rI=Kr,sI=class extends rI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,a=$u(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);a[te]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[pe];return null!==f&&(a[pe]=f.createEmbeddedView(r)),bh(r,a,t),new Do(a)}};function aI(){return al(si(),Ie())}function al(e,t){return 4&e.type?new sI(t,e,ma(e,t)):null}let dr=(()=>{class e{}return e.__NG_ELEMENT_ID__=oI,e})();function oI(){return mv(si(),Ie())}const uI=dr,gv=class extends uI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tc(this._hostTNode,this._hostLView);if(dp(t)){const n=xu(t,this._hostLView),r=Su(t);return new oa(n[qe].data[r+8],n)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=_v(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(t,n,r){let a,c;"number"==typeof r?a=r:null!=r&&(a=r.index,c=r.injector);const f=t.createEmbeddedView(n||{},c);return this.insert(f,a),f}createComponent(t,n,r,a,c){const f=t&&!function lo(e){return"function"==typeof e}(t);let y;if(f)y=n;else{const Z=n||{};y=Z.index,r=Z.injector,a=Z.projectableNodes,c=Z.environmentInjector||Z.ngModuleRef}const M=f?t:new Io($t(t)),L=r||this.parentInjector;if(!c&&null==M.ngModule){const X=(f?L:this.parentInjector).get($r,null);X&&(c=X)}const V=M.create(L,a,void 0,c);return this.insert(V.hostView,y),V}insert(t,n){const r=t._lView,a=r[qe];if(function Bw(e){return ar(e[cn])}(r)){const V=this.indexOf(t);if(-1!==V)this.detach(V);else{const Z=r[cn],X=new gv(Z,Z[Un],Z[cn]);X.detach(X.indexOf(t))}}const c=this._adjustIndex(n),f=this._lContainer;!function nC(e,t,n,r){const a=ii+r,c=n.length;r>0&&(n[a-1][ki]=t),r<c-ii?(t[ki]=n[a],Ip(n,ii+r,t)):(n.push(t),t[ki]=null),t[cn]=n;const f=t[te];null!==f&&n!==f&&function iC(e,t){const n=e[sr];t[vn]!==t[cn][cn][vn]&&(e[xi]=!0),null===n?e[sr]=[t]:n.push(t)}(f,t);const y=t[pe];null!==y&&y.insertView(e),t[et]|=64}(a,r,f,c);const y=Qc(c,f),M=r[Mt],L=Ru(M,f[Gi]);return null!==L&&function J1(e,t,n,r,a,c){r[qi]=a,r[Un]=t,vo(e,r,n,1,a,c)}(a,f[Un],M,r,L,y),t.attachToViewContainerRef(),Ip(uf(f),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=_v(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Zc(this._lContainer,n);r&&(Mu(uf(this._lContainer),n),Yp(r[qe],r))}detach(t){const n=this._adjustIndex(t,-1),r=Zc(this._lContainer,n);return r&&null!=Mu(uf(this._lContainer),n)?new Do(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function _v(e){return e[hs]}function uf(e){return e[hs]||(e[hs]=[])}function mv(e,t){let n;const r=t[e.index];if(ar(r))n=r;else{let a;if(8&e.type)a=ri(r);else{const c=t[Mt];a=c.createComment("");const f=Oi(e,t);Ns(c,Ru(c,f),a,function oC(e,t){return e.nextSibling(t)}(c,f),!1)}t[e.index]=n=l_(r,t,a,e),Gu(t,n)}return new gv(n,e,t)}class lf{constructor(t){this.queryList=t,this.matches=null}clone(){return new lf(this.queryList)}setDirty(){this.queryList.setDirty()}}class cf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<r;c++){const f=n.getByIndex(c);a.push(this.queries[f.indexInDeclarationView].clone())}return new cf(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==xv(t,n).matches&&this.queries[n].setDirty()}}class vv{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class hf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const a=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,a);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new hf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ff{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ff(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const c=r[a];this.matchTNodeWithReadOption(t,n,lI(n,c)),this.matchTNodeWithReadOption(t,n,Eu(n,t,c,!1,!1))}else r===Kr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Eu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===ps||a===dr||a===Kr&&4&n.type)this.addMatch(n.index,-2);else{const c=Eu(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function lI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function hI(e,t,n,r){return-1===n?function cI(e,t){return 11&e.type?ma(e,t):4&e.type?al(e,t):null}(t,e):-2===n?function fI(e,t,n){return n===ps?ma(t,e):n===Kr?al(t,e):n===dr?mv(t,e):void 0}(e,t,r):Rs(e,e[qe],n,t)}function yv(e,t,n,r){const a=t[pe].queries[r];if(null===a.matches){const c=e.data,f=n.matches,y=[];for(let M=0;M<f.length;M+=2){const L=f[M];y.push(L<0?null:hI(t,c[L],f[M+1],n.metadata.read))}a.matches=y}return a.matches}function df(e,t,n,r){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const f=yv(e,t,a,n);for(let y=0;y<c.length;y+=2){const M=c[y];if(M>0)r.push(f[y/2]);else{const L=c[y+1],V=t[-M];for(let Z=ii;Z<V.length;Z++){const X=V[Z];X[te]===X[cn]&&df(X[qe],X,L,r)}if(null!==V[sr]){const Z=V[sr];for(let X=0;X<Z.length;X++){const re=Z[X];df(re[qe],re,L,r)}}}}}return r}function pf(e){const t=Ie(),n=Gt(),r=ip();yc(r+1);const a=xv(n,r);if(e.dirty&&function Fw(e){return 4==(4&e[et])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?df(n,t,r,[]):yv(n,t,a,r);e.reset(c,QC),e.notifyOnChanges()}return!0}return!1}function wv(e,t,n){const r=Gt();r.firstCreatePass&&(function Sv(e,t,n){null===e.queries&&(e.queries=new hf),e.queries.track(new ff(t,n))}(r,new vv(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function bv(e,t,n){const r=new af(4==(4&n));i_(e,t,r,r.destroy),null===t[pe]&&(t[pe]=new cf),t[pe].queries.push(new lf(r))}(r,Ie(),t)}function xv(e,t){return e.queries.getByIndex(t)}function ul(...e){}const ll=new _t("Application Initializer");let cl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ul,this.reject=ul,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(Xu(c))n.push(c);else if(k_(c)){const f=new Promise((y,M)=>{c.subscribe({complete:y,error:M})});n.push(f)}}Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ct(ll,8))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Bo=new _t("AppId",{providedIn:"root",factory:function jv(){return`${Cf()}${Cf()}${Cf()}`}});function Cf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hv=new _t("Platform Initializer"),$v=new _t("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let NI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Yr=new _t("LocaleId",{providedIn:"root",factory:()=>Lt(Yr,st.Optional|st.SkipSelf)||function LI(){return typeof $localize<"u"&&$localize.locale||Ra}()});class BI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let qv=(()=>{class e{compileModuleSync(n){return new ef(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=qr(mn(n).declarations).reduce((f,y)=>{const M=$t(y);return M&&f.push(new Io(M)),f},[]);return new BI(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const UI=(()=>Promise.resolve(0))();function bf(e){typeof Zone>"u"?UI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Rn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wi(!1),this.onMicrotaskEmpty=new wi(!1),this.onStable=new wi(!1),this.onError=new wi(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function jI(){let e=on.requestAnimationFrame,t=on.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function qI(e){const t=()=>{!function $I(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(on,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,xf(e),e.isCheckStableRunning=!0,Sf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),xf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,c,f,y)=>{try{return Zv(e),n.invokeTask(a,c,f,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),Kv(e)}},onInvoke:(n,r,a,c,f,y,M)=>{try{return Zv(e),n.invoke(a,c,f,y,M)}finally{e.shouldCoalesceRunChangeDetection&&t(),Kv(e)}},onHasTask:(n,r,a,c)=>{n.hasTask(a,c),r===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,xf(e),Sf(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rn.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Rn.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+a,t,HI,ul,ul);try{return c.runTask(f,n,r)}finally{c.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const HI={};function Sf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function xf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Zv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Kv(e){e._nesting--,Sf(e)}class GI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wi,this.onMicrotaskEmpty=new wi,this.onStable=new wi,this.onError=new wi}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}}const Yv=new _t(""),hl=new _t("");let Ef,Df=(()=>{class e{constructor(n,r,a){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ef||(function WI(e){Ef=e}(a),a.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rn.assertNotInAngularZone(),bf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(ct(Rn),ct(If),ct(hl))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})(),If=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ef?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Qr=!1;let ms=null;const Qv=new _t("AllowMultipleToken"),Tf=new _t("PlatformDestroyListeners"),Xv=new _t("appBootstrapListener");class Jv{constructor(t,n){this.name=t,this.token=n}}function t0(e,t,n=[]){const r=`Platform: ${t}`,a=new _t(r);return(c=[])=>{let f=Mf();if(!f||f.injector.get(Qv,!1)){const y=[...n,...c,{provide:a,useValue:!0}];e?e(y):function YI(e){if(ms&&!ms.get(Qv,!1))throw new T(400,!1);ms=e;const t=e.get(r0);(function e0(e){const t=e.get(Hv,null);t&&t.forEach(n=>n())})(e)}(function n0(e=[],t){return Gr.create({name:t,providers:[{provide:ch,useValue:"platform"},{provide:Tf,useValue:new Set([()=>ms=null])},...e]})}(y,r))}return function XI(e){const t=Mf();if(!t)throw new T(401,!1);return t}()}}function Mf(){return ms?.get(r0)??null}let r0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function a0(e,t){let n;return n="noop"===e?new GI:("zone.js"===e?void 0:e)||new Rn(t),n}(r?.ngZone,function s0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),c=[{provide:Rn,useValue:a}];return a.run(()=>{const f=Gr.create({providers:c,parent:this.injector,name:n.moduleType.name}),y=n.create(f),M=y.injector.get(va,null);if(!M)throw new T(402,!1);return a.runOutsideAngular(()=>{const L=a.onError.subscribe({next:V=>{M.handleError(V)}});y.onDestroy(()=>{dl(this._modules,y),L.unsubscribe()})}),function o0(e,t,n){try{const r=n();return Xu(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(M,a,()=>{const L=y.injector.get(cl);return L.runInitializers(),L.donePromise.then(()=>(function Am(e){Bn(e,"Expected localeId to be defined"),"string"==typeof e&&(Mm=e.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Yr,Ra)||Ra),this._moduleDoBootstrap(y),y))})})}bootstrapModule(n,r=[]){const a=u0({},r);return function ZI(e,t,n){const r=new ef(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const r=n.injector.get(fl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Tf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ct(Gr))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function u0(e,t){return Array.isArray(t)?t.reduce(u0,e):{...e,...t}}let fl=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,a){this._zone=n,this._injector=r,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Ne(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),f=new Ne(y=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Rn.assertNotInAngularZone(),bf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Rn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{M.unsubscribe(),L.unsubscribe()}});this.isStable=function Dt(...e){const t=le(e),n=function ce(e,t){return"number"==typeof ge(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?E(r[0]):K(n)(nt(r,t)):Y}(c,f.pipe(function lt(e={}){const{connector:t=(()=>new it),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=e;return c=>{let f,y,M,L=0,V=!1,Z=!1;const X=()=>{y?.unsubscribe(),y=void 0},re=()=>{X(),f=M=void 0,V=Z=!1},fe=()=>{const ye=f;re(),ye?.unsubscribe()};return dn((ye,be)=>{L++,!Z&&!V&&X();const Re=M=M??t();be.add(()=>{L--,0===L&&!Z&&!V&&(y=rt(fe,a))}),Re.subscribe(be),!f&&L>0&&(f=new Xt({next:Ge=>Re.next(Ge),error:Ge=>{Z=!0,X(),y=rt(re,n,Ge),Re.error(Ge)},complete:()=>{V=!0,X(),y=rt(re,r),Re.complete()}}),E(ye).subscribe(f))})(c)}}()))}bootstrap(n,r){const a=n instanceof kg;if(!this._injector.get(cl).done){!a&&function ss(e){const t=$t(e)||Jn(e)||ei(e);return null!==t&&t.standalone}(n);throw new T(405,Qr)}let f;f=a?n:this._injector.get(bo).resolveComponentFactory(n),this.componentTypes.push(f.componentType);const y=function KI(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Oa),L=f.create(Gr.NULL,[],r||f.selector,y),V=L.location.nativeElement,Z=L.injector.get(Yv,null);return Z?.registerApplication(V),L.onDestroy(()=>{this.detachView(L.hostView),dl(this.components,L),Z?.unregisterApplication(V)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;dl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Xv,[]);r.push(...this._bootstrapListeners),r.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>dl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ct(Rn),ct($r),ct(va))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function dl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let pl=(()=>{class e{}return e.__NG_ELEMENT_ID__=eE,e})();function eE(e){return function tE(e,t,n){if(ro(e)&&!n){const r=Ni(e.index,t);return new Do(r,r)}return 47&e.type?new Do(t[vn],t):null}(si(),Ie(),16==(16&e))}class d0{constructor(){}supports(t){return Yu(t)}create(t){return new oE(t)}}const aE=(e,t)=>t;class oE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,c=null;for(;n||r;){const f=!r||n&&n.currentIndex<g0(r,a,c)?n:r,y=g0(f,a,c),M=f.currentIndex;if(f===r)a--,r=r._nextRemoved;else if(n=n._next,null==f.previousIndex)a++;else{c||(c=[]);const L=y-a,V=M-a;if(L!=V){for(let X=0;X<L;X++){const re=X<c.length?c[X]:c[X]=0,fe=re+X;V<=fe&&fe<L&&(c[X]=re+1)}c[f.previousIndex]=V-L}}y!==M&&t(f,y,M)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Yu(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,f,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)c=t[y],f=this._trackByFn(y,c),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,c,f,y)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,f,y),r=!0),n=n._next}else a=0,function RS(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,y=>{f=this._trackByFn(a,y),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,y,f,a)),Object.is(n.item,y)||this._addIdentityChange(n,y)):(n=this._mismatch(n,y,f,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new uE(n,r),c,a),t}_verifyReinsertion(t,n,r,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new p0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new p0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class uE{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class p0{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new lE,this.map.set(n,r)),r.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function g0(e,t,n){const r=e.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}function m0(){return new ml([new d0])}let ml=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||m0()),deps:[[e,new fo,new ho]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new T(901,!1)}}return e.\u0275prov=ft({token:e,providedIn:"root",factory:m0}),e})();const pE=t0(null,"core",[]);let gE=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ct(fl))},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({}),e})(),Nf=null;function Hs(){return Nf}class vE{}const Ei=new _t("DocumentToken");let Lf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:function(){return function yE(){return ct(y0)}()},providedIn:"platform"}),e})();const wE=new _t("Location Initialized");let y0=(()=>{class e extends Lf{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hs().getBaseHref(this._doc)}onPopState(n){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,a){w0()?this._history.pushState(n,r,a):this._location.hash=a}replaceState(n,r,a){w0()?this._history.replaceState(n,r,a):this._location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ct(Ei))},e.\u0275prov=ft({token:e,factory:function(){return function CE(){return new y0(ct(Ei))}()},providedIn:"platform"}),e})();function w0(){return!!window.history.pushState}function Ff(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function C0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Xr(e){return e&&"?"!==e[0]?"?"+e:e}let $s=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:function(){return Lt(S0)},providedIn:"root"}),e})();const b0=new _t("appBaseHref");let S0=(()=>{class e extends $s{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Lt(Ei).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ff(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Xr(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${r}${a}`:r}pushState(n,r,a,c){const f=this.prepareExternalUrl(a+Xr(c));this._platformLocation.pushState(n,r,f)}replaceState(n,r,a,c){const f=this.prepareExternalUrl(a+Xr(c));this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ct(Lf),ct(b0,8))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),bE=(()=>{class e extends $s{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ff(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,a,c){let f=this.prepareExternalUrl(a+Xr(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,r,f)}replaceState(n,r,a,c){let f=this.prepareExternalUrl(a+Xr(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ct(Lf),ct(b0,8))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})(),Bf=(()=>{class e{constructor(n){this._subject=new wi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function DE(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(C0(x0(r))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xr(r))}normalize(n){return e.stripTrailingSlash(function xE(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,x0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",a=null){this._locationStrategy.pushState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),a)}replaceState(n,r="",a=null){this._locationStrategy.replaceState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(a=>a(n,r))}subscribe(n,r,a){return this._subject.subscribe({next:n,error:r,complete:a})}}return e.normalizeQueryParams=Xr,e.joinWithSlash=Ff,e.stripTrailingSlash=C0,e.\u0275fac=function(n){return new(n||e)(ct($s))},e.\u0275prov=ft({token:e,factory:function(){return function SE(){return new Bf(ct($s))}()},providedIn:"root"}),e})();function x0(e){return e.replace(/\/index.html$/,"")}var Ti=(()=>((Ti=Ti||{})[Ti.Decimal=0]="Decimal",Ti[Ti.Percent=1]="Percent",Ti[Ti.Currency=2]="Currency",Ti[Ti.Scientific=3]="Scientific",Ti))(),dt=(()=>((dt=dt||{})[dt.Decimal=0]="Decimal",dt[dt.Group=1]="Group",dt[dt.List=2]="List",dt[dt.PercentSign=3]="PercentSign",dt[dt.PlusSign=4]="PlusSign",dt[dt.MinusSign=5]="MinusSign",dt[dt.Exponential=6]="Exponential",dt[dt.SuperscriptingExponent=7]="SuperscriptingExponent",dt[dt.PerMille=8]="PerMille",dt[dt.Infinity=9]="Infinity",dt[dt.NaN=10]="NaN",dt[dt.TimeSeparator=11]="TimeSeparator",dt[dt.CurrencyDecimal=12]="CurrencyDecimal",dt[dt.CurrencyGroup=13]="CurrencyGroup",dt))();function Xi(e,t){const n=yi(e),r=n[$e.NumberSymbols][t];if(typeof r>"u"){if(t===dt.CurrencyDecimal)return n[$e.NumberSymbols][dt.Decimal];if(t===dt.CurrencyGroup)return n[$e.NumberSymbols][dt.Group]}return r}const QE=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A0=22,Il=".",Uo="0",XE=";",JE=",",Hf="#";function Gf(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class h2{constructor(t,n,r,a){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let El=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,a){this._viewContainer=n,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((a,c,f)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new h2(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===c?void 0:c);else if(null!==c){const y=r.get(c);r.move(y,f),L0(y,a)}});for(let a=0,c=r.length;a<c;a++){const y=r.get(a).context;y.index=a,y.count=c,y.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{L0(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(at(dr),at(Kr),at(ml))},e.\u0275dir=Ht({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function L0(e,t){e.context.$implicit=t.item}let Kf=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new d2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){F0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){F0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(at(dr),at(Kr))},e.\u0275dir=Ht({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class d2{constructor(){this.$implicit=null,this.ngIf=null}}function F0(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Oe(t)}'.`)}let z0=(()=>{class e{constructor(n){this._locale=n}transform(n,r,a){if(!function Xf(e){return!(null==e||""===e||e!=e)}(n))return null;a=a||this._locale;try{return function i2(e,t,n){return function $f(e,t,n,r,a,c,f=!1){let y="",M=!1;if(isFinite(e)){let L=function s2(e){let r,a,c,f,y,t=Math.abs(e)+"",n=0;for((a=t.indexOf(Il))>-1&&(t=t.replace(Il,"")),(c=t.search(/e/i))>0?(a<0&&(a=c),a+=+t.slice(c+1),t=t.substring(0,c)):a<0&&(a=t.length),c=0;t.charAt(c)===Uo;c++);if(c===(y=t.length))r=[0],a=1;else{for(y--;t.charAt(y)===Uo;)y--;for(a-=c,r=[],f=0;c<=y;c++,f++)r[f]=Number(t.charAt(c))}return a>A0&&(r=r.splice(0,A0-1),n=a-1,a=1),{digits:r,exponent:n,integerLen:a}}(e);f&&(L=function r2(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(L));let V=t.minInt,Z=t.minFrac,X=t.maxFrac;if(c){const Ge=c.match(QE);if(null===Ge)throw new Error(`${c} is not a valid digit info`);const Se=Ge[1],vt=Ge[3],un=Ge[5];null!=Se&&(V=Gf(Se)),null!=vt&&(Z=Gf(vt)),null!=un?X=Gf(un):null!=vt&&Z>X&&(X=Z)}!function a2(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,a=r.length-e.integerLen;const c=Math.min(Math.max(t,a),n);let f=c+e.integerLen,y=r[f];if(f>0){r.splice(Math.max(e.integerLen,f));for(let Z=f;Z<r.length;Z++)r[Z]=0}else{a=Math.max(0,a),e.integerLen=1,r.length=Math.max(1,f=c+1),r[0]=0;for(let Z=1;Z<f;Z++)r[Z]=0}if(y>=5)if(f-1<0){for(let Z=0;Z>f;Z--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[f-1]++;for(;a<Math.max(0,c);a++)r.push(0);let M=0!==c;const L=t+e.integerLen,V=r.reduceRight(function(Z,X,re,fe){return fe[re]=(X+=Z)<10?X:X-10,M&&(0===fe[re]&&re>=L?fe.pop():M=!1),X>=10?1:0},0);V&&(r.unshift(V),e.integerLen++)}(L,Z,X);let re=L.digits,fe=L.integerLen;const ye=L.exponent;let be=[];for(M=re.every(Ge=>!Ge);fe<V;fe++)re.unshift(0);for(;fe<0;fe++)re.unshift(0);fe>0?be=re.splice(fe,re.length):(be=re,re=[0]);const Re=[];for(re.length>=t.lgSize&&Re.unshift(re.splice(-t.lgSize,re.length).join(""));re.length>t.gSize;)Re.unshift(re.splice(-t.gSize,re.length).join(""));re.length&&Re.unshift(re.join("")),y=Re.join(Xi(n,r)),be.length&&(y+=Xi(n,a)+be.join("")),ye&&(y+=Xi(n,dt.Exponential)+"+"+ye)}else y=Xi(n,dt.Infinity);return y=e<0&&!M?t.negPre+y+t.negSuf:t.posPre+y+t.posSuf,y}(e,function qf(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(XE),a=r[0],c=r[1],f=-1!==a.indexOf(Il)?a.split(Il):[a.substring(0,a.lastIndexOf(Uo)+1),a.substring(a.lastIndexOf(Uo)+1)],y=f[0],M=f[1]||"";n.posPre=y.substring(0,y.indexOf(Hf));for(let V=0;V<M.length;V++){const Z=M.charAt(V);Z===Uo?n.minFrac=n.maxFrac=V+1:Z===Hf?n.maxFrac=V+1:n.posSuf+=Z}const L=y.split(JE);if(n.gSize=L[1]?L[1].length:0,n.lgSize=L[2]||L[1]?(L[2]||L[1]).length:0,c){const V=a.length-n.posPre.length-n.posSuf.length,Z=c.indexOf(Hf);n.negPre=c.substring(0,Z).replace(/'/g,""),n.negSuf=c.slice(Z+V).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function Vf(e,t){return yi(e)[$e.NumberFormats][t]}(t,Ti.Decimal),Xi(t,dt.MinusSign)),t,dt.Group,dt.Decimal,n)}(function Jf(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(n),a,r)}catch(c){throw function _r(e,t){return new T(2100,!1)}()}}}return e.\u0275fac=function(n){return new(n||e)(at(Yr,16))},e.\u0275pipe=bn({name:"number",type:e,pure:!0,standalone:!0}),e})();let F2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({}),e})();let U2=(()=>{class e{}return e.\u0275prov=ft({token:e,providedIn:"root",factory:()=>new j2(ct(Ei),window)}),e})();class j2{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function H2(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const c=a.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],a-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=j0(this.window.history)||j0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function j0(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class mT extends vE{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nd extends mT{static makeCurrent(){!function mE(e){Nf||(Nf=e)}(new nd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function vT(){return Ho=Ho||document.querySelector("base"),Ho?Ho.getAttribute("href"):null}();return null==n?null:function yT(e){Al=Al||document.createElement("a"),Al.setAttribute("href",e);const t=Al.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function u2(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[a,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Al,Ho=null;const W0=new _t("TRANSITION_ID"),CT=[{provide:ll,useFactory:function wT(e,t,n){return()=>{n.get(cl).donePromise.then(()=>{const r=Hs(),a=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let c=0;c<a.length;c++)r.remove(a[c])})}},deps:[W0,Ei,Gr],multi:!0}];let ST=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})();const Pl=new _t("EventManagerPlugins");let kl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(a=>{a.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,a){return this._findPluginFor(r).addEventListener(n,r,a)}addGlobalEventListener(n,r,a){return this._findPluginFor(r).addGlobalEventListener(n,r,a)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const a=this._plugins;for(let c=0;c<a.length;c++){const f=a[c];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ct(Pl),ct(Rn))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})();class Z0{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const a=Hs().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${n}`);return this.addEventListener(a,n,r)}}let K0=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const a=this.usageCount;let c=a.get(n)??0;return c+=r,c>0?a.set(n,c):a.delete(n),c}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})(),$o=(()=>{class e extends K0{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(c=>c.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const a=this.doc.createElement("style");a.textContent=r,n.appendChild(a);const c=this.styleRef.get(r);c?c.push(a):this.styleRef.set(r,[a])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(ct(Ei))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})();const id={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rd=/%COMP%/g,X0=new _t("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function J0(e,t){return t.flat(100).map(n=>n.replace(rd,e))}function ey(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let sd=(()=>{class e{constructor(n,r,a,c){this.eventManager=n,this.sharedStylesHost=r,this.appId=a,this.removeStylesOnCompDestory=c,this.rendererByCompId=new Map,this.defaultRenderer=new ad(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const a=this.getOrCreateRenderer(n,r);return a instanceof iy?a.applyToHost(n):a instanceof od&&a.applyStyles(),a}getOrCreateRenderer(n,r){const a=this.rendererByCompId;let c=a.get(r.id);if(!c){const f=this.eventManager,y=this.sharedStylesHost,M=this.removeStylesOnCompDestory;switch(r.encapsulation){case Ai.Emulated:c=new iy(f,y,r,this.appId,M);break;case Ai.ShadowDom:return new AT(f,y,n,r);default:c=new od(f,y,r,M)}c.onDestroy=()=>a.delete(r.id),a.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ct(kl),ct($o),ct(Bo),ct(X0))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})();class ad{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(id[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(ny(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(ny(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,a){if(a){n=a+":"+n;const c=id[a];c?t.setAttributeNS(c,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const a=id[r];a?t.removeAttributeNS(a,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,a){a&(Di.DashCase|Di.Important)?t.style.setProperty(n,r,a&Di.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Di.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,ey(r)):this.eventManager.addEventListener(t,n,ey(r))}}function ny(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class AT extends ad{constructor(t,n,r,a){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=J0(a.id,a.styles);for(const f of c){const y=document.createElement("style");y.textContent=f,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class od extends ad{constructor(t,n,r,a,c=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=a,this.rendererUsageCount=0,this.styles=J0(c,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class iy extends od{constructor(t,n,r,a,c){const f=a+"-"+r.id;super(t,n,r,c,f),this.contentAttr=function ET(e){return"_ngcontent-%COMP%".replace(rd,e)}(f),this.hostAttr=function TT(e){return"_nghost-%COMP%".replace(rd,e)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let PT=(()=>{class e extends Z0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,a){return n.addEventListener(r,a,!1),()=>this.removeEventListener(n,r,a)}removeEventListener(n,r,a){return n.removeEventListener(r,a)}}return e.\u0275fac=function(n){return new(n||e)(ct(Ei))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})();const ry=["alt","control","meta","shift"],kT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let OT=(()=>{class e extends Z0{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,a){const c=e.parseEventName(r),f=e.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hs().onAndCancel(n,c.domEventName,f))}static parseEventName(n){const r=n.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const c=e._normalizeKey(r.pop());let f="",y=r.indexOf("code");if(y>-1&&(r.splice(y,1),f="code."),ry.forEach(L=>{const V=r.indexOf(L);V>-1&&(r.splice(V,1),f+=L+".")}),f+=c,0!=r.length||0===c.length)return null;const M={};return M.domEventName=a,M.fullKey=f,M}static matchEventFullKeyCode(n,r){let a=kT[n.key]||n.key,c="";return r.indexOf("code.")>-1&&(a=n.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ry.forEach(f=>{f!==a&&(0,RT[f])(n)&&(c+=f+".")}),c+=a,c===r)}static eventCallback(n,r,a){return c=>{e.matchEventFullKeyCode(c,n)&&a.runGuarded(()=>r(c))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ct(Ei))},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})();const BT=t0(pE,"browser",[{provide:$v,useValue:"browser"},{provide:Hv,useValue:function NT(){nd.makeCurrent()},multi:!0},{provide:Ei,useFactory:function FT(){return function gC(e){th=e}(document),document},deps:[]}]),oy=new _t(""),uy=[{provide:hl,useClass:class bT{addToWindow(t){on.getAngularTestability=(r,a=!0)=>{const c=t.findTestabilityInTree(r,a);if(null==c)throw new Error("Could not find testability for element.");return c},on.getAllAngularTestabilities=()=>t.getAllTestabilities(),on.getAllAngularRootElements=()=>t.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push(r=>{const a=on.getAllAngularTestabilities();let c=a.length,f=!1;const y=function(M){f=f||M,c--,0==c&&r(f)};a.forEach(function(M){M.whenStable(y)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Hs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Yv,useClass:Df,deps:[Rn,If,hl]},{provide:Df,useClass:Df,deps:[Rn,If,hl]}],ly=[{provide:ch,useValue:"root"},{provide:va,useFactory:function LT(){return new va},deps:[]},{provide:Pl,useClass:PT,multi:!0,deps:[Ei,Rn,$v]},{provide:Pl,useClass:OT,multi:!0,deps:[Ei]},{provide:sd,useClass:sd,deps:[kl,$o,Bo,X0]},{provide:Og,useExisting:sd},{provide:K0,useExisting:$o},{provide:$o,useClass:$o,deps:[Ei]},{provide:kl,useClass:kl,deps:[Pl,Rn]},{provide:class $2{},useClass:ST,deps:[]},[]];let VT=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Bo,useValue:n.appId},{provide:W0,useExisting:Bo},CT]}}}return e.\u0275fac=function(n){return new(n||e)(ct(oy,12))},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({providers:[...ly,...uy],imports:[F2,gE]}),e})(),cy=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(ct(Ei))},e.\u0275prov=ft({token:e,factory:function(n){let r=null;return r=n?new n:function UT(){return new cy(ct(Ei))}(),r},providedIn:"root"}),e})();function pt(...e){return nt(e,le(e))}typeof window<"u"&&window;class mr extends it{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Rl=Fn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:WT}=Array,{getPrototypeOf:ZT,prototype:KT,keys:YT}=Object;const{isArray:JT}=Array;function dy(...e){const t=le(e),n=function _e(e){return Nt(ge(e))?e.pop():void 0}(e),{args:r,keys:a}=function QT(e){if(1===e.length){const t=e[0];if(WT(t))return{args:t,keys:null};if(function XT(e){return e&&"object"==typeof e&&ZT(e)===KT}(t)){const n=YT(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return nt([],t);const c=new Ne(function iM(e,t,n=Dn){return r=>{py(t,()=>{const{length:a}=e,c=new Array(a);let f=a,y=a;for(let M=0;M<a;M++)py(t,()=>{const L=nt(e[M],t);let V=!1;L.subscribe(Zt(r,Z=>{c[M]=Z,V||(V=!0,y--),y||r.next(n(c.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,a?f=>function nM(e,t){return e.reduce((n,r,a)=>(n[r]=t[a],n),{})}(a,f):Dn));return n?c.pipe(function tM(e){return Je(t=>function eM(e,t){return JT(t)?e(...t):e(t)}(e,t))}(n)):c}function py(e,t,n){e?j(n,e,t):t()}function cd(...e){return function rM(){return K(1)}()(nt(e,le(e)))}function gy(e){return new Ne(t=>{E(e()).subscribe(t)})}function qo(e,t){const n=Nt(e)?e:()=>e,r=a=>a.error(n());return new Ne(t?a=>t.schedule(r,0,a):r)}function hd(){return dn((e,t)=>{let n=null;e._refCount++;const r=Zt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const a=e._connection,c=n;n=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class _y extends Ne{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xe;const n=this.getSubject();t.add(this.source.subscribe(Zt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xe.EMPTY)}return t}refCount(){return hd()(this)}}function Rr(e,t){return dn((n,r)=>{let a=null,c=0,f=!1;const y=()=>f&&!a&&r.complete();n.subscribe(Zt(r,M=>{a?.unsubscribe();let L=0;const V=c++;E(e(M,V)).subscribe(a=Zt(r,Z=>r.next(t?t(M,Z,V,L++):Z),()=>{a=null,y()}))},()=>{f=!0,y()}))})}function Go(e){return e<=0?()=>Y:dn((t,n)=>{let r=0;t.subscribe(Zt(n,a=>{++r<=e&&(n.next(a),e<=r&&n.complete())}))})}function ys(e,t){return dn((n,r)=>{let a=0;n.subscribe(Zt(r,c=>e.call(t,c,a++)&&r.next(c)))})}function Ol(e){return dn((t,n)=>{let r=!1;t.subscribe(Zt(n,a=>{r=!0,n.next(a)},()=>{r||n.next(e),n.complete()}))})}function my(e=aM){return dn((t,n)=>{let r=!1;t.subscribe(Zt(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(e())))})}function aM(){return new Rl}function ws(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ys((a,c)=>e(a,c,r)):Dn,Go(1),n?Ol(t):my(()=>new Rl))}function qs(e,t){return Nt(t)?$(e,t,1):$(e,1)}function ci(e,t,n){const r=Nt(e)||t||n?{next:e,error:t,complete:n}:e;return r?dn((a,c)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let y=!0;a.subscribe(Zt(c,M=>{var L;null===(L=r.next)||void 0===L||L.call(r,M),c.next(M)},()=>{var M;y=!1,null===(M=r.complete)||void 0===M||M.call(r),c.complete()},M=>{var L;y=!1,null===(L=r.error)||void 0===L||L.call(r,M),c.error(M)},()=>{var M,L;y&&(null===(M=r.unsubscribe)||void 0===M||M.call(r)),null===(L=r.finalize)||void 0===L||L.call(r)}))}):Dn}function Cs(e){return dn((t,n)=>{let c,r=null,a=!1;r=t.subscribe(Zt(n,void 0,void 0,f=>{c=E(e(f,Cs(e)(t))),r?(r.unsubscribe(),r=null,c.subscribe(n)):a=!0})),a&&(r.unsubscribe(),r=null,c.subscribe(n))})}function vy(e,t){return dn(function oM(e,t,n,r,a){return(c,f)=>{let y=n,M=t,L=0;c.subscribe(Zt(f,V=>{const Z=L++;M=y?e(M,V,Z):(y=!0,V),r&&f.next(M)},a&&(()=>{y&&f.next(M),f.complete()})))}}(e,t,arguments.length>=2,!0))}function fd(e){return e<=0?()=>Y:dn((t,n)=>{let r=[];t.subscribe(Zt(n,a=>{r.push(a),e<r.length&&r.shift()},()=>{for(const a of r)n.next(a);n.complete()},void 0,()=>{r=null}))})}function yy(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ys((a,c)=>e(a,c,r)):Dn,fd(1),n?Ol(t):my(()=>new Rl))}function dd(e){return dn((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Et="primary",Wo=Symbol("RouteTitle");class cM{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Fa(e){return new cM(e)}function hM(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const a={};for(let c=0;c<r.length;c++){const f=r[c],y=e[c];if(f.startsWith(":"))a[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:e.slice(0,r.length),posParams:a}}function Or(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let a;for(let c=0;c<n.length;c++)if(a=n[c],!wy(e[a],t[a]))return!1;return!0}function wy(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((a,c)=>r[c]===a)}return e===t}function Cy(e){return Array.prototype.concat.apply([],e)}function by(e){return e.length>0?e[e.length-1]:null}function ai(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function bs(e){return k_(e)?e:Xu(e)?nt(Promise.resolve(e)):pt(e)}const Nl=!1,dM={exact:function Dy(e,t,n){if(!Gs(e.segments,t.segments)||!Ll(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Dy(e.children[r],t.children[r],n))return!1;return!0},subset:Iy},Sy={exact:function pM(e,t){return Or(e,t)},subset:function gM(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>wy(e[n],t[n]))},ignored:()=>!0};function xy(e,t,n){return dM[n.paths](e.root,t.root,n.matrixParams)&&Sy[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Iy(e,t,n){return Ey(e,t,t.segments,n)}function Ey(e,t,n,r){if(e.segments.length>n.length){const a=e.segments.slice(0,n.length);return!(!Gs(a,n)||t.hasChildren()||!Ll(a,n,r))}if(e.segments.length===n.length){if(!Gs(e.segments,n)||!Ll(e.segments,n,r))return!1;for(const a in t.children)if(!e.children[a]||!Iy(e.children[a],t.children[a],r))return!1;return!0}{const a=n.slice(0,e.segments.length),c=n.slice(e.segments.length);return!!(Gs(e.segments,a)&&Ll(e.segments,a,r)&&e.children[Et])&&Ey(e.children[Et],t,c,r)}}function Ll(e,t,n){return t.every((r,a)=>Sy[n](e[a].parameters,r.parameters))}class Ss{constructor(t=new Ot([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fa(this.queryParams)),this._queryParamMap}toString(){return vM.serialize(this)}}class Ot{constructor(t,n){this.segments=t,this.children=n,this.parent=null,ai(n,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fl(this)}}class Zo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Fa(this.parameters)),this._parameterMap}toString(){return Ay(this)}}function Gs(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Ko=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:function(){return new pd},providedIn:"root"}),e})();class pd{parse(t){const n=new EM(t);return new Ss(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Yo(t.root,!0)}`,r=function CM(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(a=>`${Bl(n)}=${Bl(a)}`).join("&"):`${Bl(n)}=${Bl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function yM(e){return encodeURI(e)}(t.fragment)}`:""}`}}const vM=new pd;function Fl(e){return e.segments.map(t=>Ay(t)).join("/")}function Yo(e,t){if(!e.hasChildren())return Fl(e);if(t){const n=e.children[Et]?Yo(e.children[Et],!1):"",r=[];return ai(e.children,(a,c)=>{c!==Et&&r.push(`${c}:${Yo(a,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function mM(e,t){let n=[];return ai(e.children,(r,a)=>{a===Et&&(n=n.concat(t(r,a)))}),ai(e.children,(r,a)=>{a!==Et&&(n=n.concat(t(r,a)))}),n}(e,(r,a)=>a===Et?[Yo(e.children[Et],!1)]:[`${a}:${Yo(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Et]?`${Fl(e)}/${n[0]}`:`${Fl(e)}/(${n.join("//")})`}}function Ty(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bl(e){return Ty(e).replace(/%3B/gi,";")}function gd(e){return Ty(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vl(e){return decodeURIComponent(e)}function My(e){return Vl(e.replace(/\+/g,"%20"))}function Ay(e){return`${gd(e.path)}${function wM(e){return Object.keys(e).map(t=>`;${gd(t)}=${gd(e[t])}`).join("")}(e.parameters)}`}const bM=/^[^\/()?;=#]+/;function zl(e){const t=e.match(bM);return t?t[0]:""}const SM=/^[^=?&#]+/,DM=/^[^&#]+/;class EM{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Et]=new Ot(t,n)),r}parseSegment(){const t=zl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new T(4009,Nl);return this.capture(t),new Zo(Vl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=zl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const a=zl(this.remaining);a&&(r=a,this.capture(r))}t[Vl(n)]=Vl(r)}parseQueryParam(t){const n=function xM(e){const t=e.match(SM);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const f=function IM(e){const t=e.match(DM);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=My(n),c=My(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(c)}else t[a]=c}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zl(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new T(4010,Nl);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Et);const f=this.parseChildren();n[c]=1===Object.keys(f).length?f[Et]:new Ot([],f),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new T(4011,Nl)}}function _d(e){return e.segments.length>0?new Ot([],{[Et]:e}):e}function Ul(e){const t={};for(const r of Object.keys(e.children)){const c=Ul(e.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function TM(e){if(1===e.numberOfChildren&&e.children[Et]){const t=e.children[Et];return new Ot(e.segments.concat(t.segments),t.children)}return e}(new Ot(e.segments,t))}function Ws(e){return e instanceof Ss}const md=!1;function MM(e,t,n,r,a){if(0===n.length)return Ba(t.root,t.root,t.root,r,a);const c=function Ny(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Oy(!0,0,e);let t=0,n=!1;const r=e.reduce((a,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return ai(c.outlets,(M,L)=>{y[L]="string"==typeof M?M.split("/"):M}),[...a,{outlets:y}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===f?(c.split("/").forEach((y,M)=>{0==M&&"."===y||(0==M&&""===y?n=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,c]},[]);return new Oy(n,t,r)}(n);return c.toRoot()?Ba(t.root,t.root,new Ot([],{}),r,a):function f(M){const L=function PM(e,t,n,r){if(e.isAbsolute)return new Va(t.root,!0,0);if(-1===r)return new Va(n,n===t.root,0);return function Ly(e,t,n){let r=e,a=t,c=n;for(;c>a;){if(c-=a,r=r.parent,!r)throw new T(4005,md&&"Invalid number of '../'");a=r.segments.length}return new Va(r,!1,a-c)}(n,r+(Qo(e.commands[0])?0:1),e.numberOfDoubleDots)}(c,t,e.snapshot?._urlSegment,M),V=L.processChildren?za(L.segmentGroup,L.index,c.commands):vd(L.segmentGroup,L.index,c.commands);return Ba(t.root,L.segmentGroup,V,r,a)}(e.snapshot?._lastPathIndex)}function Qo(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xo(e){return"object"==typeof e&&null!=e&&e.outlets}function Ba(e,t,n,r,a){let f,c={};r&&ai(r,(M,L)=>{c[L]=Array.isArray(M)?M.map(V=>`${V}`):`${M}`}),f=e===t?n:Ry(e,t,n);const y=_d(Ul(f));return new Ss(y,c,a)}function Ry(e,t,n){const r={};return ai(e.children,(a,c)=>{r[c]=a===t?n:Ry(a,t,n)}),new Ot(e.segments,r)}class Oy{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Qo(r[0]))throw new T(4003,md&&"Root segment cannot have matrix parameters");const a=r.find(Xo);if(a&&a!==by(r))throw new T(4004,md&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Va{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function vd(e,t,n){if(e||(e=new Ot([],{})),0===e.segments.length&&e.hasChildren())return za(e,t,n);const r=function RM(e,t,n){let r=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(r>=n.length)return c;const f=e.segments[a],y=n[r];if(Xo(y))break;const M=`${y}`,L=r<n.length-1?n[r+1]:null;if(a>0&&void 0===M)break;if(M&&L&&"object"==typeof L&&void 0===L.outlets){if(!By(M,L,f))return c;r+=2}else{if(!By(M,{},f))return c;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(e,t,n),a=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const c=new Ot(e.segments.slice(0,r.pathIndex),{});return c.children[Et]=new Ot(e.segments.slice(r.pathIndex),e.children),za(c,0,a)}return r.match&&0===a.length?new Ot(e.segments,{}):r.match&&!e.hasChildren()?yd(e,t,n):r.match?za(e,0,a):yd(e,t,n)}function za(e,t,n){if(0===n.length)return new Ot(e.segments,{});{const r=function kM(e){return Xo(e[0])?e[0].outlets:{[Et]:e}}(n),a={};return!r[Et]&&e.children[Et]&&1===e.numberOfChildren&&0===e.children[Et].segments.length?za(e.children[Et],t,n):(ai(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[f]=vd(e.children[f],t,c))}),ai(e.children,(c,f)=>{void 0===r[f]&&(a[f]=c)}),new Ot(e.segments,a))}}function yd(e,t,n){const r=e.segments.slice(0,t);let a=0;for(;a<n.length;){const c=n[a];if(Xo(c)){const M=OM(c.outlets);return new Ot(r,M)}if(0===a&&Qo(n[0])){r.push(new Zo(e.segments[t].path,Fy(n[0]))),a++;continue}const f=Xo(c)?c.outlets[Et]:`${c}`,y=a<n.length-1?n[a+1]:null;f&&y&&Qo(y)?(r.push(new Zo(f,Fy(y))),a+=2):(r.push(new Zo(f,{})),a++)}return new Ot(r,{})}function OM(e){const t={};return ai(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=yd(new Ot([],{}),0,n))}),t}function Fy(e){const t={};return ai(e,(n,r)=>t[r]=`${n}`),t}function By(e,t,n){return e==n.path&&Or(t,n.parameters)}const Jo="imperative";class Nr{constructor(t,n){this.id=t,this.url=n}}class wd extends Nr{constructor(t,n,r="imperative",a=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zs extends Nr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jl extends Nr{constructor(t,n,r,a){super(t,n),this.reason=r,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hl extends Nr{constructor(t,n,r,a){super(t,n),this.reason=r,this.code=a,this.type=16}}class Cd extends Nr{constructor(t,n,r,a){super(t,n),this.error=r,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NM extends Nr{constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LM extends Nr{constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FM extends Nr{constructor(t,n,r,a,c){super(t,n),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BM extends Nr{constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VM extends Nr{constructor(t,n,r,a){super(t,n),this.urlAfterRedirects=r,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zM{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class UM{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jM{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HM{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $M{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qM{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vy{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ZM=(()=>{class e{createUrlTree(n,r,a,c,f,y){return MM(n||r.root,a,c,f,y)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})(),YM=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:function(t){return ZM.\u0275fac(t)},providedIn:"root"}),e})();class zy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=bd(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=bd(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Sd(t,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Sd(t,this._root).map(n=>n.value)}}function bd(e,t){if(e===t.value)return t;for(const n of t.children){const r=bd(e,n);if(r)return r}return null}function Sd(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Sd(e,n);if(r.length)return r.unshift(t),r}return[]}class es{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ua(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Uy extends zy{constructor(t,n){super(t),this.snapshot=n,xd(this,t)}toString(){return this.snapshot.toString()}}function jy(e,t){const n=function QM(e,t){const f=new $l([],{},{},"",{},Et,t,null,e.root,-1,{});return new $y("",new es(f,[]))}(e,t),r=new mr([new Zo("",{})]),a=new mr({}),c=new mr({}),f=new mr({}),y=new mr(""),M=new ja(r,a,f,y,c,Et,t,n.root);return M.snapshot=n.root,new Uy(new es(M,[]),n)}class ja{constructor(t,n,r,a,c,f,y,M){this.url=t,this.params=n,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=y,this.title=this.data?.pipe(Je(L=>L[Wo]))??pt(void 0),this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(t=>Fa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(t=>Fa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hy(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const a=n[r],c=n[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(c.component)break;r--}}return function XM(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $l{get title(){return this.data?.[Wo]}constructor(t,n,r,a,c,f,y,M,L,V,Z){this.url=t,this.params=n,this.queryParams=r,this.fragment=a,this.data=c,this.outlet=f,this.component=y,this.routeConfig=M,this._urlSegment=L,this._lastPathIndex=V,this._resolve=Z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $y extends zy{constructor(t,n){super(n),this.url=t,xd(this,n)}toString(){return qy(this._root)}}function xd(e,t){t.value._routerState=e,t.children.forEach(n=>xd(e,n))}function qy(e){const t=e.children.length>0?` { ${e.children.map(qy).join(", ")} } `:"";return`${e.value}${t}`}function Dd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Or(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Or(t.params,n.params)||e.params.next(n.params),function fM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Or(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Or(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Id(e,t){const n=Or(e.params,t.params)&&function _M(e,t){return Gs(e,t)&&e.every((n,r)=>Or(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Id(e.parent,t.parent))}function eu(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const a=function eA(e,t,n){return t.children.map(r=>{for(const a of n.children)if(e.shouldReuseRoute(r.value,a.value.snapshot))return eu(e,r,a);return eu(e,r)})}(e,t,n);return new es(r,a)}{if(e.shouldAttach(t.value)){const c=e.retrieve(t.value);if(null!==c){const f=c.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(y=>eu(e,y)),f}}const r=function tA(e){return new ja(new mr(e.url),new mr(e.params),new mr(e.queryParams),new mr(e.fragment),new mr(e.data),e.outlet,e.component,e)}(t.value),a=t.children.map(c=>eu(e,c));return new es(r,a)}}const Ed="ngNavigationCancelingError";function Gy(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Ws(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=Wy(!1,0,t);return a.url=n,a.navigationBehaviorOptions=r,a}function Wy(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Ed]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Zy(e){return Ky(e)&&Ws(e.url)}function Ky(e){return e&&e[Ed]}class nA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new tu,this.attachRef=null}}let tu=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nA,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ql=!1;let Yy=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new wi,this.deactivateEvents=new wi,this.attachEvents=new wi,this.detachEvents=new wi,this.parentContexts=Lt(tu),this.location=Lt(dr),this.changeDetector=Lt(pl),this.environmentInjector=Lt($r)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:a}=n.name;if(r)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,ql);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,ql);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,ql);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,ql);this._activatedRoute=n;const a=this.location,f=n.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,M=new iA(n,y,a.injector);if(r&&function rA(e){return!!e.resolveComponentFactory}(r)){const L=r.resolveComponentFactory(f);this.activated=a.createComponent(L,a.length,M)}else this.activated=a.createComponent(f,{index:a.length,injector:M,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ht({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ps]}),e})();class iA{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ja?this.route:t===tu?this.childContexts:this.parent.get(t,n)}}let Td=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_n({type:e,selectors:[["ng-component"]],standalone:!0,features:[iv],decls:1,vars:0,template:function(n,r){1&n&&Vs(0,"router-outlet")},dependencies:[Yy],encapsulation:2}),e})();function Qy(e,t){return e.providers&&!e._injector&&(e._injector=sl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ad(e){const t=e.children&&e.children.map(Ad),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Et&&(n.component=Td),n}function er(e){return e.outlet||Et}function Xy(e,t){const n=e.filter(r=>er(r)===t);return n.push(...e.filter(r=>er(r)!==t)),n}function nu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class lA{constructor(t,n,r,a){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=a}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Dd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const a=Ua(n);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,a[f],r),delete a[f]}),ai(a,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,n,r){const a=t.value,c=n?n.value:null;if(a===c)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,n,f.children)}else this.deactivateChildRoutes(t,n,r);else c&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),a=r&&t.value.component?r.children:n,c=Ua(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:y})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),a=r&&t.value.component?r.children:n,c=Ua(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const a=Ua(n);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],r),this.forwardEvent(new qM(c.value.snapshot))}),t.children.length&&this.forwardEvent(new HM(t.value.snapshot))}activateRoutes(t,n,r){const a=t.value,c=n?n.value:null;if(Dd(a),a===c)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,n,f.children)}else this.activateChildRoutes(t,n,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),Dd(y.route.value),this.activateChildRoutes(t,null,f.children)}else{const y=nu(a.snapshot),M=y?.get(bo)??null;f.attachRef=null,f.route=a,f.resolver=M,f.injector=y,f.outlet&&f.outlet.activateWith(a,f.injector),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class Jy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gl{constructor(t,n){this.component=t,this.route=n}}function cA(e,t,n){const r=e._root;return iu(r,t?t._root:null,n,[r.value])}function Ha(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function sc(e){return null!==Ys(e)}(e)?t.get(e):e:r}function iu(e,t,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ua(t);return e.children.forEach(f=>{(function fA(e,t,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=e.value,f=t?t.value:null,y=n?n.getContext(e.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const M=function dA(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Gs(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Gs(e.url,t.url)||!Or(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Id(e,t)||!Or(e.queryParams,t.queryParams);default:return!Id(e,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);M?a.canActivateChecks.push(new Jy(r)):(c.data=f.data,c._resolvedData=f._resolvedData),iu(e,t,c.component?y?y.children:null:n,r,a),M&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new Gl(y.outlet.component,f))}else f&&ru(t,y,a),a.canActivateChecks.push(new Jy(r)),iu(e,null,c.component?y?y.children:null:n,r,a)})(f,c[f.value.outlet],n,r.concat([f.value]),a),delete c[f.value.outlet]}),ai(c,(f,y)=>ru(f,n.getContext(y),a)),a}function ru(e,t,n){const r=Ua(e),a=e.value;ai(r,(c,f)=>{ru(c,a.component?t?t.children.getContext(f):null:t,n)}),n.canDeactivateChecks.push(new Gl(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function su(e){return"function"==typeof e}function Pd(e){return e instanceof Rl||"EmptyError"===e?.name}const Wl=Symbol("INITIAL_VALUE");function $a(){return Rr(e=>dy(e.map(t=>t.pipe(Go(1),function sM(...e){const t=le(e);return dn((n,r)=>{(t?cd(e,n,t):cd(e,n)).subscribe(r)})}(Wl)))).pipe(Je(t=>{for(const n of t)if(!0!==n){if(n===Wl)return Wl;if(!1===n||n instanceof Ss)return n}return!0}),ys(t=>t!==Wl),Go(1)))}function ew(e){return function ni(...e){return tn(e)}(ci(t=>{if(Ws(t))throw Gy(0,t)}),Je(t=>!0===t))}const kd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tw(e,t,n,r,a){const c=Rd(e,t,n);return c.matched?function AA(e,t,n,r){const a=t.canMatch;return a&&0!==a.length?pt(a.map(f=>{const y=Ha(f,e);return bs(function yA(e){return e&&su(e.canMatch)}(y)?y.canMatch(t,n):e.runInContext(()=>y(t,n)))})).pipe($a(),ew()):pt(!0)}(r=Qy(t,r),t,n).pipe(Je(f=>!0===f?c:{...kd})):pt(c)}function Rd(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...kd}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const a=(t.matcher||hM)(n,e,t);if(!a)return{...kd};const c={};ai(a.posParams,(y,M)=>{c[M]=y.path});const f=a.consumed.length>0?{...c,...a.consumed[a.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:n.slice(a.consumed.length),parameters:f,positionalParamSegments:a.posParams??{}}}function Zl(e,t,n,r){if(n.length>0&&function RA(e,t,n){return n.some(r=>Kl(e,t,r)&&er(r)!==Et)}(e,n,r)){const c=new Ot(t,function kA(e,t,n,r){const a={};a[Et]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const c of n)if(""===c.path&&er(c)!==Et){const f=new Ot([],{});f._sourceSegment=e,f._segmentIndexShift=t.length,a[er(c)]=f}return a}(e,t,r,new Ot(n,e.children)));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===n.length&&function OA(e,t,n){return n.some(r=>Kl(e,t,r))}(e,n,r)){const c=new Ot(e.segments,function PA(e,t,n,r,a){const c={};for(const f of r)if(Kl(e,n,f)&&!a[er(f)]){const y=new Ot([],{});y._sourceSegment=e,y._segmentIndexShift=t.length,c[er(f)]=y}return{...a,...c}}(e,t,n,r,e.children));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:n}}const a=new Ot(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function Kl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function nw(e,t,n,r){return!!(er(e)===r||r!==Et&&Kl(t,n,e))&&("**"===e.path||Rd(t,e,n).matched)}function iw(e,t,n){return 0===t.length&&!e.children[n]}const Yl=!1;class Ql{constructor(t){this.segmentGroup=t||null}}class rw{constructor(t){this.urlTree=t}}function au(e){return qo(new Ql(e))}function sw(e){return qo(new rw(e))}class BA{constructor(t,n,r,a,c){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=a,this.config=c,this.allowRedirects=!0}apply(){const t=Zl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ot(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Et).pipe(Je(c=>this.createUrlTree(Ul(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cs(c=>{if(c instanceof rw)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Ql?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Et).pipe(Je(a=>this.createUrlTree(Ul(a),t.queryParams,t.fragment))).pipe(Cs(a=>{throw a instanceof Ql?this.noMatchError(a):a}))}noMatchError(t){return new T(4002,Yl)}createUrlTree(t,n,r){const a=_d(t);return new Ss(a,n,r)}expandSegmentGroup(t,n,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Je(c=>new Ot([],c))):this.expandSegment(t,r,n,r.segments,a,!0)}expandChildren(t,n,r){const a=[];for(const c of Object.keys(r.children))"primary"===c?a.unshift(c):a.push(c);return nt(a).pipe(qs(c=>{const f=r.children[c],y=Xy(n,c);return this.expandSegmentGroup(t,y,f,c).pipe(Je(M=>({segment:M,outlet:c})))}),vy((c,f)=>(c[f.outlet]=f.segment,c),{}),yy())}expandSegment(t,n,r,a,c,f){return nt(r).pipe(qs(y=>this.expandSegmentAgainstRoute(t,n,r,y,a,c,f).pipe(Cs(L=>{if(L instanceof Ql)return pt(null);throw L}))),ws(y=>!!y),Cs((y,M)=>{if(Pd(y))return iw(n,a,c)?pt(new Ot([],{})):au(n);throw y}))}expandSegmentAgainstRoute(t,n,r,a,c,f,y){return nw(a,n,c,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,n,a,c,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,a,c,f):au(n):au(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,a,c,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,a,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,a){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sw(c):this.lineralizeSegments(r,c).pipe($(f=>{const y=new Ot(f,{});return this.expandSegment(t,y,n,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,a,c,f){const{matched:y,consumedSegments:M,remainingSegments:L,positionalParamSegments:V}=Rd(n,a,c);if(!y)return au(n);const Z=this.applyRedirectCommands(M,a.redirectTo,V);return a.redirectTo.startsWith("/")?sw(Z):this.lineralizeSegments(a,Z).pipe($(X=>this.expandSegment(t,n,r,X.concat(L),f,!1)))}matchSegmentAgainstRoute(t,n,r,a,c){return"**"===r.path?(t=Qy(r,t),r.loadChildren?(r._loadedRoutes?pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Je(y=>(r._loadedRoutes=y.routes,r._loadedInjector=y.injector,new Ot(a,{})))):pt(new Ot(a,{}))):tw(n,r,a,t).pipe(Rr(({matched:f,consumedSegments:y,remainingSegments:M})=>f?this.getChildConfig(t=r._injector??t,r,a).pipe($(V=>{const Z=V.injector??t,X=V.routes,{segmentGroup:re,slicedSegments:fe}=Zl(n,y,M,X),ye=new Ot(re.segments,re.children);if(0===fe.length&&ye.hasChildren())return this.expandChildren(Z,X,ye).pipe(Je(Se=>new Ot(y,Se)));if(0===X.length&&0===fe.length)return pt(new Ot(y,{}));const be=er(r)===c;return this.expandSegment(Z,ye,X,fe,be?Et:c,!0).pipe(Je(Ge=>new Ot(y.concat(Ge.segments),Ge.children)))})):au(n)))}getChildConfig(t,n,r){return n.children?pt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?pt({routes:n._loadedRoutes,injector:n._loadedInjector}):function MA(e,t,n,r){const a=t.canLoad;return void 0===a||0===a.length?pt(!0):pt(a.map(f=>{const y=Ha(f,e);return bs(function gA(e){return e&&su(e.canLoad)}(y)?y.canLoad(t,n):e.runInContext(()=>y(t,n)))})).pipe($a(),ew())}(t,n,r).pipe($(a=>a?this.configLoader.loadChildren(t,n).pipe(ci(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):function LA(e){return qo(Wy(Yl,3))}())):pt({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],a=n.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return pt(r);if(a.numberOfChildren>1||!a.children[Et])return t.redirectTo,qo(new T(4e3,Yl));a=a.children[Et]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,a){const c=this.createSegmentGroup(t,n.root,r,a);return new Ss(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return ai(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[c]=n[y]}else r[c]=a}),r}createSegmentGroup(t,n,r,a){const c=this.createSegments(t,n.segments,r,a);let f={};return ai(n.children,(y,M)=>{f[M]=this.createSegmentGroup(t,y,r,a)}),new Ot(c,f)}createSegments(t,n,r,a){return n.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,r))}findPosParam(t,n,r){const a=r[n.path.substring(1)];if(!a)throw new T(4001,Yl);return a}findOrReturn(t,n){let r=0;for(const a of n){if(a.path===t.path)return n.splice(r),a;r++}return t}}class zA{}class HA{constructor(t,n,r,a,c,f,y){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=f,this.urlSerializer=y}recognize(){const t=Zl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Et).pipe(Je(n=>{if(null===n)return null;const r=new $l([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new es(r,n),c=new $y(this.url,a);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const n=t.value,r=Hy(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,a)}processChildren(t,n,r){return nt(Object.keys(r.children)).pipe(qs(a=>{const c=r.children[a],f=Xy(n,a);return this.processSegmentGroup(t,f,c,a)}),vy((a,c)=>a&&c?(a.push(...c),a):null),function uM(e,t=!1){return dn((n,r)=>{let a=0;n.subscribe(Zt(r,c=>{const f=e(c,a++);(f||t)&&r.next(c),!f&&r.complete()}))})}(a=>null!==a),Ol(null),yy(),Je(a=>{if(null===a)return null;const c=ow(a);return function $A(e){e.sort((t,n)=>t.value.outlet===Et?-1:n.value.outlet===Et?1:t.value.outlet.localeCompare(n.value.outlet))}(c),c}))}processSegment(t,n,r,a,c){return nt(n).pipe(qs(f=>this.processSegmentAgainstRoute(f._injector??t,f,r,a,c)),ws(f=>!!f),Cs(f=>{if(Pd(f))return iw(r,a,c)?pt([]):pt(null);throw f}))}processSegmentAgainstRoute(t,n,r,a,c){if(n.redirectTo||!nw(n,r,a,c))return pt(null);let f;if("**"===n.path){const y=a.length>0?by(a).parameters:{},M=lw(r)+a.length;f=pt({snapshot:new $l(a,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cw(n),er(n),n.component??n._loadedComponent??null,n,uw(r),M,hw(n)),consumedSegments:[],remainingSegments:[]})}else f=tw(r,n,a,t).pipe(Je(({matched:y,consumedSegments:M,remainingSegments:L,parameters:V})=>{if(!y)return null;const Z=lw(r)+M.length;return{snapshot:new $l(M,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cw(n),er(n),n.component??n._loadedComponent??null,n,uw(r),Z,hw(n)),consumedSegments:M,remainingSegments:L}}));return f.pipe(Rr(y=>{if(null===y)return pt(null);const{snapshot:M,consumedSegments:L,remainingSegments:V}=y;t=n._injector??t;const Z=n._loadedInjector??t,X=function qA(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:re,slicedSegments:fe}=Zl(r,L,V,X.filter(be=>void 0===be.redirectTo));if(0===fe.length&&re.hasChildren())return this.processChildren(Z,X,re).pipe(Je(be=>null===be?null:[new es(M,be)]));if(0===X.length&&0===fe.length)return pt([new es(M,[])]);const ye=er(n)===c;return this.processSegment(Z,X,re,fe,ye?Et:c).pipe(Je(be=>null===be?null:[new es(M,be)]))}))}}function GA(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ow(e){const t=[],n=new Set;for(const r of e){if(!GA(r)){t.push(r);continue}const a=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...r.children),n.add(a)):t.push(r)}for(const r of n){const a=ow(r.children);t.push(new es(r.value,a))}return t.filter(r=>!n.has(r))}function uw(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function lw(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function cw(e){return e.data||{}}function hw(e){return e.resolve||{}}function fw(e){return"string"==typeof e.title||null===e.title}function Od(e){return Rr(t=>{const n=e(t);return n?nt(n).pipe(Je(()=>t)):pt(t)})}const qa=new _t("ROUTES");let Nd=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Lt(qv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=bs(n.loadComponent()).pipe(Je(pw),ci(c=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=c}),dd(()=>{this.componentLoaders.delete(n)})),a=new _y(r,()=>new it).pipe(hd());return this.componentLoaders.set(n,a),a}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Je(y=>{this.onLoadEndListener&&this.onLoadEndListener(r);let M,L,V=!1;Array.isArray(y)?L=y:(M=y.create(n).injector,L=Cy(M.get(qa,[],st.Self|st.Optional)));return{routes:L.map(Ad),injector:M}}),dd(()=>{this.childrenLoaders.delete(r)})),f=new _y(c,()=>new it).pipe(hd());return this.childrenLoaders.set(r,f),f}loadModuleFactoryOrRoutes(n){return bs(n()).pipe(Je(pw),$(r=>r instanceof tv||Array.isArray(r)?pt(r):nt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pw(e){return function eP(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Jl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new it,this.configLoader=Lt(Nd),this.environmentInjector=Lt($r),this.urlSerializer=Lt(Ko),this.rootContexts=Lt(tu),this.navigationId=0,this.afterPreactivation=()=>pt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new UM(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new zM(a))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new mr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jo,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ys(r=>0!==r.id),Je(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Rr(r=>{let a=!1,c=!1;return pt(r).pipe(ci(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rr(f=>{const y=n.browserUrlTree.toString(),M=!n.navigated||f.extractedUrl.toString()!==y||y!==n.currentUrlTree.toString();if(!M&&"reload"!==(f.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const V="";return this.events.next(new Hl(f.id,n.serializeUrl(r.rawUrl),V,0)),n.rawUrlTree=f.rawUrl,f.resolve(null),Y}if(n.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return gw(f.source)&&(n.browserUrlTree=f.extractedUrl),pt(f).pipe(Rr(V=>{const Z=this.transitions?.getValue();return this.events.next(new wd(V.id,this.urlSerializer.serialize(V.extractedUrl),V.source,V.restoredState)),Z!==this.transitions?.getValue()?Y:Promise.resolve(V)}),function VA(e,t,n,r){return Rr(a=>function FA(e,t,n,r,a){return new BA(e,t,n,r,a).apply()}(e,t,n,a.extractedUrl,r).pipe(Je(c=>({...a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),ci(V=>{this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects},r.urlAfterRedirects=V.urlAfterRedirects}),function ZA(e,t,n,r,a){return $(c=>function jA(e,t,n,r,a,c,f="emptyOnly"){return new HA(e,t,n,r,a,f,c).recognize().pipe(Rr(y=>null===y?function UA(e){return new Ne(t=>t.error(e))}(new zA):pt(y)))}(e,t,n,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,a).pipe(Je(f=>({...c,targetSnapshot:f}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ci(V=>{if(r.targetSnapshot=V.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!V.extras.skipLocationChange){const X=n.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);n.setBrowserUrl(X,V)}n.browserUrlTree=V.urlAfterRedirects}const Z=new NM(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(Z)}));if(M&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:V,extractedUrl:Z,source:X,restoredState:re,extras:fe}=f,ye=new wd(V,this.urlSerializer.serialize(Z),X,re);this.events.next(ye);const be=jy(Z,this.rootComponentType).snapshot;return pt(r={...f,targetSnapshot:be,urlAfterRedirects:Z,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}})}{const V="";return this.events.next(new Hl(f.id,n.serializeUrl(r.extractedUrl),V,1)),n.rawUrlTree=f.rawUrl,f.resolve(null),Y}}),ci(f=>{const y=new LM(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),Je(f=>r={...f,guards:cA(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function CA(e,t){return $(n=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:f}}=n;return 0===f.length&&0===c.length?pt({...n,guardsResult:!0}):function bA(e,t,n,r){return nt(e).pipe($(a=>function TA(e,t,n,r,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?pt(c.map(y=>{const M=nu(t)??a,L=Ha(y,M);return bs(function vA(e){return e&&su(e.canDeactivate)}(L)?L.canDeactivate(e,t,n,r):M.runInContext(()=>L(e,t,n,r))).pipe(ws())})).pipe($a()):pt(!0)}(a.component,a.route,n,t,r)),ws(a=>!0!==a,!0))}(f,r,a,e).pipe($(y=>y&&function pA(e){return"boolean"==typeof e}(y)?function SA(e,t,n,r){return nt(t).pipe(qs(a=>cd(function DA(e,t){return null!==e&&t&&t(new jM(e)),pt(!0)}(a.route.parent,r),function xA(e,t){return null!==e&&t&&t(new $M(e)),pt(!0)}(a.route,r),function EA(e,t,n){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function hA(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(f)).filter(f=>null!==f).map(f=>gy(()=>pt(f.guards.map(M=>{const L=nu(f.node)??n,V=Ha(M,L);return bs(function mA(e){return e&&su(e.canActivateChild)}(V)?V.canActivateChild(r,e):L.runInContext(()=>V(r,e))).pipe(ws())})).pipe($a())));return pt(c).pipe($a())}(e,a.path,n),function IA(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const a=r.map(c=>gy(()=>{const f=nu(t)??n,y=Ha(c,f);return bs(function _A(e){return e&&su(e.canActivate)}(y)?y.canActivate(t,e):f.runInContext(()=>y(t,e))).pipe(ws())}));return pt(a).pipe($a())}(e,a.route,n))),ws(a=>!0!==a,!0))}(r,c,e,t):pt(y)),Je(y=>({...n,guardsResult:y})))})}(this.environmentInjector,f=>this.events.next(f)),ci(f=>{if(r.guardsResult=f.guardsResult,Ws(f.guardsResult))throw Gy(0,f.guardsResult);const y=new FM(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(y)}),ys(f=>!!f.guardsResult||(n.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Od(f=>{if(f.guards.canActivateChecks.length)return pt(f).pipe(ci(y=>{const M=new BM(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(M)}),Rr(y=>{let M=!1;return pt(y).pipe(function KA(e,t){return $(n=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=n;if(!a.length)return pt(n);let c=0;return nt(a).pipe(qs(f=>function YA(e,t,n,r){const a=e.routeConfig,c=e._resolve;return void 0!==a?.title&&!fw(a)&&(c[Wo]=a.title),function QA(e,t,n,r){const a=function XA(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===a.length)return pt({});const c={};return nt(a).pipe($(f=>function JA(e,t,n,r){const a=nu(t)??r,c=Ha(e,a);return bs(c.resolve?c.resolve(t,n):a.runInContext(()=>c(t,n)))}(e[f],t,n,r).pipe(ws(),ci(y=>{c[f]=y}))),fd(1),function lM(e){return Je(()=>e)}(c),Cs(f=>Pd(f)?Y:qo(f)))}(c,e,t,r).pipe(Je(f=>(e._resolvedData=f,e.data=Hy(e,n).resolve,a&&fw(a)&&(e.data[Wo]=a.title),null)))}(f.route,r,e,t)),ci(()=>c++),fd(1),$(f=>c===a.length?pt(n):Y))})}(n.paramsInheritanceStrategy,this.environmentInjector),ci({next:()=>M=!0,complete:()=>{M||(n.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),ci(y=>{const M=new VM(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(M)}))}),Od(f=>{const y=M=>{const L=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(M.routeConfig).pipe(ci(V=>{M.component=V}),Je(()=>{})));for(const V of M.children)L.push(...y(V));return L};return dy(y(f.targetSnapshot.root)).pipe(Ol(),Go(1))}),Od(()=>this.afterPreactivation()),Je(f=>{const y=function JM(e,t,n){const r=eu(e,t._root,n?n._root:void 0);return new Uy(r,t)}(n.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:y}}),ci(f=>{n.currentUrlTree=f.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),n.routerState=f.targetRouterState,"deferred"===n.urlUpdateStrategy&&(f.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,f),n.browserUrlTree=f.urlAfterRedirects)}),((e,t,n)=>Je(r=>(new lA(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,f=>this.events.next(f)),ci({next:f=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Zs(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{a=!0}}),dd(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Cs(f=>{if(c=!0,Ky(f)){Zy(f)||(n.navigated=!0,n.restoreHistory(r,!0));const y=new jl(r.id,this.urlSerializer.serialize(r.extractedUrl),f.message,f.cancellationCode);if(this.events.next(y),Zy(f)){const M=n.urlHandlingStrategy.merge(f.url,n.rawUrlTree),L={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||gw(r.source)};n.scheduleNavigation(M,Jo,null,L,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const y=new Cd(r.id,this.urlSerializer.serialize(r.extractedUrl),f,r.targetSnapshot??void 0);this.events.next(y);try{r.resolve(n.errorHandler(f))}catch(M){r.reject(M)}}return Y}))}))}cancelNavigationTransition(n,r,a){const c=new jl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,a);this.events.next(c),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function gw(e){return e!==Jo}let _w=(()=>{class e{buildTitle(n){let r,a=n.root;for(;void 0!==a;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(c=>c.outlet===Et);return r}getResolvedTitleForRoute(n){return n.data[Wo]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:function(){return Lt(tP)},providedIn:"root"}),e})(),tP=(()=>{class e extends _w{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(ct(cy))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:function(){return Lt(rP)},providedIn:"root"}),e})();class iP{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let rP=(()=>{class e extends iP{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function Sp(e){return _i(()=>{const t=e.prototype.constructor,n=t[Pi]||Ac(t),r=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){const c=a[Pi]||Ac(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}(e)))(r||e)}}(),e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ec=new _t("",{providedIn:"root",factory:()=>({})});let aP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:function(){return Lt(oP)},providedIn:"root"}),e})(),oP=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uP(e){throw e}function lP(e,t,n){return t.parse("/")}const cP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Lt(NI),this.isNgZoneEnabled=!1,this.options=Lt(ec,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uP,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lP,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Lt(aP),this.routeReuseStrategy=Lt(nP),this.urlCreationStrategy=Lt(YM),this.titleStrategy=Lt(_w),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cy(Lt(qa,{optional:!0})??[]),this.navigationTransitions=Lt(Jl),this.urlSerializer=Lt(Ko),this.location=Lt(Bf),this.isNgZoneEnabled=Lt(Rn)instanceof Rn&&Rn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ss,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jy(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Jo,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,a){const c={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const M={...a};delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(c.state=M)}const y=this.parseUrl(n);this.scheduleNavigation(y,r,f,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Ad),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:y,preserveFragment:M}=r,L=M?this.currentUrlTree.fragment:f;let V=null;switch(y){case"merge":V={...this.currentUrlTree.queryParams,...c};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=c||null}return null!==V&&(V=this.removeEmptyProps(V)),this.urlCreationStrategy.createUrlTree(a,this.routerState,this.currentUrlTree,n,V,L??null)}navigateByUrl(n,r={skipLocationChange:!1}){const a=Ws(n)?n:this.parseUrl(n),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,Jo,null,r)}navigate(n,r={skipLocationChange:!1}){return function fP(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return r}isActive(n,r){let a;if(a=!0===r?{...cP}:!1===r?{...hP}:r,Ws(n))return xy(this.currentUrlTree,n,a);const c=this.parseUrl(n);return xy(this.currentUrlTree,c,a)}removeEmptyProps(n){return Object.keys(n).reduce((r,a)=>{const c=n[a];return null!=c&&(r[a]=c),r},{})}scheduleNavigation(n,r,a,c,f){if(this.disposed)return Promise.resolve(!1);let y,M,L,V;return f?(y=f.resolve,M=f.reject,L=f.promise):L=new Promise((Z,X)=>{y=Z,M=X}),V="computed"===this.canceledNavigationResolution?a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:V,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:c,resolve:y,reject:M,promise:L,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),L.catch(Z=>Promise.reject(Z))}setBrowserUrl(n,r){const a=this.urlSerializer.serialize(n),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===a?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class mw{}let gP=(()=>{class e{constructor(n,r,a,c,f){this.router=n,this.injector=a,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(ys(n=>n instanceof Zs),qs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const a=[];for(const c of r){c.providers&&!c._injector&&(c._injector=sl(c.providers,n,`Route: ${c.path}`));const f=c._injector??n,y=c._loadedInjector??f;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?a.push(this.preloadConfig(f,c)):(c.children||c._loadedRoutes)&&a.push(this.processRoutes(y,c.children??c._loadedRoutes))}return nt(a).pipe(K())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let a;a=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):pt(null);const c=a.pipe($(f=>null===f?pt(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??n,f.routes))));return r.loadComponent&&!r._loadedComponent?nt([c,this.loader.loadComponent(r)]).pipe(K()):c})}}return e.\u0275fac=function(n){return new(n||e)(ct(Bi),ct(qv),ct($r),ct(mw),ct(Nd))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Bd=new _t("");let vw=(()=>{class e{constructor(n,r,a,c,f={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=a,this.zone=c,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Zs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vy&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vy(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Jg(){throw new Error("invalid")}()},e.\u0275prov=ft({token:e,factory:e.\u0275fac}),e})();var Vi=(()=>((Vi=Vi||{})[Vi.COMPLETE=0]="COMPLETE",Vi[Vi.FAILED=1]="FAILED",Vi[Vi.REDIRECTING=2]="REDIRECTING",Vi))();const Ga=!1;function xs(e,t){return{\u0275kind:e,\u0275providers:t}}const Vd=new _t("",{providedIn:"root",factory:()=>!1});function ww(){const e=Lt(Gr);return t=>{const n=e.get(fl);if(t!==n.components[0])return;const r=e.get(Bi),a=e.get(Cw);1===e.get(zd)&&r.initialNavigation(),e.get(bw,null,st.Optional)?.setUpPreloading(),e.get(Bd,null,st.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const Cw=new _t(Ga?"bootstrap done indicator":"",{factory:()=>new it}),zd=new _t(Ga?"initial navigation":"",{providedIn:"root",factory:()=>1});function wP(){let e=[];return e=Ga?[{provide:Vu,multi:!0,useFactory:()=>{const t=Lt(Bi);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function GM(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],xs(1,e)}const bw=new _t(Ga?"router preloader":"");function CP(e){return xs(0,[{provide:bw,useExisting:gP},{provide:mw,useExisting:e}])}const ou=!1,Sw=new _t(ou?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),bP=[Bf,{provide:Ko,useClass:pd},Bi,tu,{provide:ja,useFactory:function yw(e){return e.routerState.root},deps:[Bi]},Nd,ou?{provide:Vd,useValue:!0}:[]];function SP(){return new Jv("Router",Bi)}let xw=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[bP,ou&&r?.enableTracing?wP().\u0275providers:[],{provide:qa,multi:!0,useValue:n},{provide:Sw,useFactory:EP,deps:[[Bi,new ho,new fo]]},{provide:ec,useValue:r||{}},r?.useHash?{provide:$s,useClass:bE}:{provide:$s,useClass:S0},{provide:Bd,useFactory:()=>{const e=Lt(U2),t=Lt(Rn),n=Lt(ec),r=Lt(Jl),a=Lt(Ko);return n.scrollOffset&&e.setOffset(n.scrollOffset),new vw(a,r,e,t,n)}},r?.preloadingStrategy?CP(r.preloadingStrategy).\u0275providers:[],{provide:Jv,multi:!0,useFactory:SP},r?.initialNavigation?TP(r):[],[{provide:Dw,useFactory:ww},{provide:Xv,multi:!0,useExisting:Dw}]]}}static forChild(n){return{ngModule:e,providers:[{provide:qa,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(ct(Sw,8))},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({imports:[Td]}),e})();function EP(e){if(ou&&e)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function TP(e){return["disabled"===e.initialNavigation?xs(3,[{provide:ll,multi:!0,useFactory:()=>{const t=Lt(Bi);return()=>{t.setUpLocationChangeListener()}}},{provide:zd,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?xs(2,[{provide:zd,useValue:0},{provide:ll,multi:!0,deps:[Gr],useFactory:t=>{const n=t.get(wE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const a=t.get(Bi),c=t.get(Cw);(function _P(e,t){e.events.pipe(ys(n=>n instanceof Zs||n instanceof jl||n instanceof Cd||n instanceof Hl),Je(n=>n instanceof Zs||n instanceof Hl?Vi.COMPLETE:n instanceof jl&&(0===n.code||1===n.code)?Vi.REDIRECTING:Vi.FAILED),ys(n=>n!==Vi.REDIRECTING),Go(1)).subscribe(()=>{t()})})(a,()=>{r(!0)}),t.get(Jl).afterPreactivation=()=>(r(!0),c.closed?pt(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const Dw=new _t(ou?"Router Initializer":""),AP=[];let PP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({imports:[xw.forRoot(AP),xw]}),e})();var hi=Bt(946);class Ds{constructor(t,n){this.P1=t,this.P2=n,this.v=n.subtract(t).normalize(),this.n=new hi.Point(this.v.y,-this.v.x),this.length=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),this.angleV=this.v.angle,this.angleN=this.n.angle,this.a=this.n.x,this.b=-this.n.y,this.c=-(this.a*this.P1.x+this.b*this.P1.y),this.inputPositionPoint=this.getInputVector(10).point}getParallelLine(t){let n=new hi.Point(this.n.x,this.n.y);n.length=t;let r=new hi.Point(this.P1.x+n.x,this.P1.y-n.y),a=new hi.Point(this.P2.x+n.x,this.P2.y-n.y);return new Ds(a,r)}drawRuler(t){return this.drawHalfRuler(this.P1,t)+" "+this.drawHalfRuler(this.P2,t)+" Z"}drawHalfRuler(t,n){let r=1;t===this.P2&&(r=-1);let a=new hi.Point(this.n.x,this.n.y),c=new hi.Point(this.n.x,this.n.y),f=new hi.Point(this.n.x,this.n.y),y=new hi.Point(this.v.x,this.v.y);a.length=n,c.length=n+5,f.length=n+10,y.length=r*(this.length/2-25);let M=new hi.Point(t.x+a.x,t.y-a.y),L=new hi.Point(t.x+c.x,t.y-c.y),V=new hi.Point(t.x+f.x,t.y-f.y),Z=new hi.Point(L.x+y.x,L.y+y.y);return"M"+L.x+" "+L.y+" L"+M.x+" "+M.y+" L"+V.x+" "+V.y+"M"+L.x+" "+L.y+" L"+Z.x+" "+Z.y}getInputVector(t){let n=new hi.Point(this.n.x,this.n.y);n.length=t+27;let r=new hi.Point(this.P1.x+n.x,this.P1.y-n.y),a=new hi.Point(this.v.x,this.v.y);return a.length=this.length/2-25,{point:new hi.Point(r.x+a.x,r.y+a.y),angle:a.angle}}}class kP{constructor(t){this.baseLine=t,this.inputPositionPoint=this.getInputVector(10).point}drawRuler(t){return this.drawHalfRuler(this.baseLine.P1,t)+" "+this.drawHalfRuler(this.baseLine.P2,t)+" Z"}drawHalfRuler(t,n){let r=1;t===this.baseLine.P2&&(r=-1);let a=this.baseLine.n.multiply(20),c=this.baseLine.n.multiply(20),f=this.baseLine.n.multiply(20),y=this.baseLine.v.multiply(20);a.length=n,c.length=n+5,f.length=n+10,y.length=r*(this.baseLine.length/2-25);let M=t.clone().add(a),L=t.clone().add(c),V=t.clone().add(f),Z=L.clone().add(y);return"M"+L.x+" "+L.y+" L"+M.x+" "+M.y+" L"+V.x+" "+V.y+"M"+L.x+" "+L.y+" L"+Z.x+" "+Z.y}getInputVector(t){let n=this.baseLine.n;n.length=t+27;let r=this.baseLine.P1.clone().add(n),a=this.baseLine.v;return a.length=this.baseLine.length/2-25,{point:r.clone().add(a),angle:a.angle}}}class Iw{constructor(t,n){this.startPoint=t,this.endPoint=n,this.isInputMode=!0,this.setWall(),this.drawWall(),this.setRuler()}setWall(){this.innerLine=new Ds(this.startPoint,this.endPoint),this.outerStartPoint=this.getOuterStartPoint(),this.outerEndPoint=this.getOuterEndPoint(),this.drawWall()}drawWall(){this.wall=this.startPoint.x+","+this.startPoint.y+" "+this.endPoint.x+","+this.endPoint.y+" "+this.outerEndPoint.x+","+this.outerEndPoint.y+" "+this.outerStartPoint.x+","+this.outerStartPoint.y}setRuler(){this.ruler=new kP(this.innerLine)}getOuterStartPoint(){const t=this.innerLine.n.clone().multiply(10),n=this.innerLine.v.clone().normalize().multiply(-10);return this.startPoint.clone().add(t).add(n)}getOuterEndPoint(){const t=this.innerLine.n.clone().multiply(10),n=this.innerLine.v.clone().normalize().multiply(10);return this.endPoint.clone().add(t).add(n)}}var zi=Bt(956);let RP=(()=>{class e{constructor(){}getIntersection(n,r){return new zi.Point((n.b*r.c-r.b*n.c)/(n.a*r.b-r.a*n.b),(n.c*r.a-r.c*n.a)/(n.a*r.b-r.a*n.b))}getParallelLine(n,r){let a=new zi.Point(r.n.x,r.n.y);a.length=n;let c=new zi.Point(r.P1.x+a.x,r.P1.y-a.y),f=new zi.Point(r.P2.x+a.x,r.P2.y-a.y);return new Ds(f,c)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tc=(()=>{class e{constructor(n){this.helpersService=n,this.pointArray=[new zi.Point(100,100),new zi.Point(600,100),new zi.Point(600,600),new zi.Point(350,850),new zi.Point(100,600)],this.ABLength=500,this.BCLength=500,this.CDLength=500,this.DALength=500,this.wallWidth=10,this.reDrawSubject=new it}getAllIntersection(){this.outerA=this.helpersService.getIntersection(this.DA.getParallelLine(10),this.AB.getParallelLine(10)),this.outerB=this.helpersService.getIntersection(this.AB.getParallelLine(10),this.BC.getParallelLine(10)),this.outerC=this.helpersService.getIntersection(this.BC.getParallelLine(10),this.CD.getParallelLine(10)),this.outerD=this.helpersService.getIntersection(this.CD.getParallelLine(10),this.DA.getParallelLine(10))}drawAll(){this.drawWalls(),this.drawRulers()}drawWalls(){this.AB=new Ds(this.A,this.B),this.BC=new Ds(this.B,this.C),this.CD=new Ds(this.C,this.D),this.DA=new Ds(this.D,this.A),this.getAllIntersection(),this.drawWallA(),this.drawWallB(),this.drawWallC(),this.drawWallD()}drawWallA(){this.wallA=this.A.x+","+this.A.y+" "+this.B.x+","+this.B.y+" "+this.outerB.x+","+this.outerB.y+" "+this.outerA.x+","+this.outerA.y}drawWallB(){this.wallB=this.B.x+","+this.B.y+" "+this.C.x+","+this.C.y+" "+this.outerC.x+","+this.outerC.y+" "+this.outerB.x+","+this.outerB.y}drawWallC(){this.wallC=this.C.x+","+this.C.y+" "+this.D.x+","+this.D.y+" "+this.outerD.x+","+this.outerD.y+" "+this.outerC.x+","+this.outerC.y}drawWallD(){this.wallD=this.D.x+","+this.D.y+" "+this.A.x+","+this.A.y+" "+this.outerA.x+","+this.outerA.y+" "+this.outerD.x+","+this.outerD.y}drawRulers(){this.drawRulerA(),this.drawRulerB(),this.drawRulerC(),this.drawRulerD()}drawRulerA(){this.rulerA=this.AB.drawRuler(20)}drawRulerB(){this.rulerB=this.BC.drawRuler(20)}drawRulerC(){this.rulerC=this.CD.drawRuler(20),document.getElementById("inputCD")}drawRulerD(){this.rulerD=this.DA.drawRuler(20),document.getElementById("inputDA")}}return e.\u0275fac=function(n){return new(n||e)(ct(RP))},e.\u0275prov=ft({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const OP=["app-square-room-walls",""];function NP(e,t){1&e&&(ur(),Vs(0,"polygon")),2&e&&Bs("points",t.$implicit.wall)}let LP=(()=>{class e{constructor(n){this.squareRoomService=n,this.wallPoints=[new zi.Point(100,100),new zi.Point(600,100),new zi.Point(600,600),new zi.Point(100,600)],this.wallArray=[]}ngOnInit(){console.log(this.walls)}drawWalls(){for(let n=0;n<this.wallPoints.length;n++){let r=new Iw(this.wallPoints[n-1],this.wallPoints[n]);this.wallArray.push(r)}}}return e.\u0275fac=function(n){return new(n||e)(at(tc))},e.\u0275cmp=_n({type:e,selectors:[["","app-square-room-walls",""]],inputs:{walls:"walls"},attrs:OP,decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(ur(),Qi(0,"g"),gs(1,NP,1,1,"polygon",0),cr()),2&n&&(Tr(1),Yi("ngForOf",r.walls))},dependencies:[El],styles:["polygon[_ngcontent-%COMP%]{fill:gray;stroke:#000;stroke-width:1}polygon[_ngcontent-%COMP%]:hover{cursor:pointer;fill:#5b5b5b}"]}),e})();const FP=["app-square-room-rulers",""];function BP(e,t){if(1&e){const n=zh();ur(),bc(),Qi(0,"input",4,5),To("change",function(){ia(n);const a=function M_(e){return na(function $w(){return St.lFrame.contextLView}(),He+e)}(1);return ra(Zr(2).squareRoomService.BC.length=+a.value)}),nf(2,"number"),cr()}2&e&&Yi("value",rf(2,1,Zr().$implicit.innerLine.length,"1.0-0"))}function VP(e,t){if(1&e&&(ur(),bc(),Qi(0,"div",6),function om(e,t=""){const n=Ie(),r=Gt(),a=e+He,c=r.firstCreatePass?Ca(r,a,1,t,null):r.data[a],f=n[a]=function Gc(e,t){return e.createText(t)}(n[Mt],t);Ou(r,n,f,c),Ir(c,!1)}(1),nf(2,"number"),cr()),2&e){const n=Zr().$implicit;Tr(1),Gh(rf(2,1,n.innerLine.length,"1.0-0"))}}function zP(e,t){if(1&e&&(ur(),Qi(0,"foreignObject"),gs(1,BP,3,4,"input",2),gs(2,VP,3,4,"div",3),cr()),2&e){const n=t.$implicit;Lh("transform","\n      rotate(\n        ",n.ruler.getInputVector(10).angle,",\n        ",n.ruler.inputPositionPoint.x,",\n        ",n.ruler.inputPositionPoint.y,"\n      )\n    "),Bs("height",25)("width",50)("x",n.ruler.inputPositionPoint.x)("y",n.ruler.inputPositionPoint.y),Tr(1),Yi("ngIf",n.isInputMode),Tr(1),Yi("ngIf",!n.isInputMode)}}function UP(e,t){1&e&&(ur(),Vs(0,"path",7)),2&e&&Bs("d",t.$implicit.ruler.drawRuler(20))}let jP=(()=>{class e{constructor(n,r){this.squareRoomService=n,this.cdr=r}ngAfterViewInit(){this.cdr.detectChanges()}}return e.\u0275fac=function(n){return new(n||e)(at(tc),at(pl))},e.\u0275cmp=_n({type:e,selectors:[["","app-square-room-rulers",""]],inputs:{walls:"walls"},attrs:FP,decls:3,vars:2,consts:[[4,"ngFor","ngForOf"],["stroke","black","fill","none",4,"ngFor","ngForOf"],["id","inputAB","type","text",3,"value","change",4,"ngIf"],["class","wall-value",4,"ngIf"],["id","inputAB","type","text",3,"value","change"],["inputAB",""],[1,"wall-value"],["stroke","black","fill","none"]],template:function(n,r){1&n&&(ur(),Qi(0,"g"),gs(1,zP,3,9,"foreignObject",0),gs(2,UP,1,1,"path",1),cr()),2&n&&(Tr(1),Yi("ngForOf",r.walls),Tr(1),Yi("ngForOf",r.walls))},dependencies:[El,Kf,z0],styles:["input[_ngcontent-%COMP%]{width:40px;height:12px;padding:4px;border:1px solid black;margin:0;text-align:center}.wall-value[_ngcontent-%COMP%]{text-align:center}"]}),e})();const HP=["svgEl"],$P=["app-square-room-resize",""];function qP(e,t){if(1&e){const n=zh();ur(),Qi(0,"circle",3,4),To("mousedown",function(a){const f=ia(n).$implicit;return ra(Zr().onMouseDown(a,f))})("mouseup",function(){return ia(n),ra(Zr().onMouseUp())})("touchstart",function(a){const f=ia(n).$implicit;return ra(Zr().onTouchStart(a,f))})("touchend",function(){return ia(n),ra(Zr().onTouchEnd())}),cr()}if(2&e){const n=t.$implicit;Bs("cx",n.x)("cy",n.y)}}let GP=(()=>{class e{constructor(n,r){this.renderer=n,this.squareRoomService=r,this.draggingPoint=null,this.isDraggingPoint=!1,this.isDragging=!1}ngOnInit(){this.svgEl=this.svgElRef.nativeElement}onMouseDown(n,r){n.preventDefault(),this.isDragging=!0,this.activateMoveListener("mousemove",r)}onTouchStart(n,r){n.preventDefault(),this.isDragging=!0,this.activateMoveListener("touchmove",r)}activateMoveListener(n,r){console.log(r),this.mouseMoveListener=this.renderer.listen(window,n,a=>{if(this.isDragging){if(this.svgElArr=[this.svgEl.parentElement.parentElement.getBoundingClientRect().x,this.svgEl.parentElement.parentElement.getBoundingClientRect().y],console.log(this.svgElArr),"mousemove"==n)console.log(a),console.log(this.svgElArr),r.x=a.pageX-this.svgElArr[0],r.y=a.pageY-this.svgElArr[1];else{const c=a.touches[0];r.x=c.pageX-this.svgElArr[0],r.y=c.pageY-this.svgElArr[1]}this.squareRoomService.reDrawSubject.next("")}})}onMouseUp(){this.stopDragging()}onTouchEnd(){this.stopDragging()}stopDragging(){this.isDragging=!1,this.mouseMoveListener&&this.mouseMoveListener()}}return e.\u0275fac=function(n){return new(n||e)(at(So),at(tc))},e.\u0275cmp=_n({type:e,selectors:[["","app-square-room-resize",""]],viewQuery:function(n,r){if(1&n&&wv(HP,7),2&n){let a;pf(a=function gf(){return function dI(e,t){return e[pe].queries[t].queryList}(Ie(),ip())}())&&(r.svgElRef=a.first)}},attrs:$P,decls:3,vars:1,consts:[["id","svgEl"],["svgEl",""],["r","8","draggable","true",3,"mousedown","mouseup","touchstart","touchend",4,"ngFor","ngForOf"],["r","8","draggable","true",3,"mousedown","mouseup","touchstart","touchend"],["image",""]],template:function(n,r){1&n&&(ur(),Qi(0,"g",0,1),gs(2,qP,2,2,"circle",2),cr()),2&n&&(Tr(2),Yi("ngForOf",r.squareRoomService.pointArray))},dependencies:[El],styles:["circle[_ngcontent-%COMP%]{fill:#58ace400;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:hover{fill:#58ace4;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:active{fill:#58ace4;cursor:crosshair;touch-action:none}"]}),e})();function WP(e,t){if(1&e&&(Qi(0,"div",1),ur(),Qi(1,"svg",2),Vs(2,"g",3)(3,"g",4)(4,"g",5),cr()()),2&e){const n=Zr();Tr(2),Yi("walls",n.walls),Tr(1),Yi("walls",n.walls)}}let ZP=(()=>{class e{constructor(n){this.squareRoomService=n,this.isLoaded=!1,this.walls=[],this.drawWalls()}ngOnInit(){console.log(this.walls),this.isLoaded=!0,this.squareRoomService.reDrawSubject.subscribe(()=>{this.drawWalls(),console.log("lefut")})}drawWalls(){const n=[];for(let r=0;r<this.squareRoomService.pointArray.length;r++){let a=r-1;-1===a&&(a=this.squareRoomService.pointArray.length-1);const f=new Iw(this.squareRoomService.pointArray[a],this.squareRoomService.pointArray[r]);n.push(f)}this.walls=n}}return e.\u0275fac=function(n){return new(n||e)(at(tc))},e.\u0275cmp=_n({type:e,selectors:[["app-square-room"]],decls:1,vars:1,consts:[["id","container",4,"ngIf"],["id","container"],["width","1000","height","1000"],["app-square-room-walls","",3,"walls"],["app-square-room-rulers","",3,"walls"],["app-square-room-resize",""]],template:function(n,r){1&n&&gs(0,WP,5,2,"div",0),2&n&&Yi("ngIf",r.isLoaded)},dependencies:[Kf,LP,jP,GP],styles:["#container[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),e})(),KP=(()=>{class e{constructor(){this.title="PlanMyKitchen"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_n({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Vs(0,"app-square-room")},dependencies:[ZP]}),e})(),YP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Qt({type:e,bootstrap:[KP]}),e.\u0275inj=yr({imports:[VT,PP]}),e})();BT().bootstrapModule(YP).catch(e=>console.error(e))},77:function(Ui,vr){!function(Bt){"use strict";var Nt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Fn=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],ti="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u0870-\u0887\u0889-\u088e\u08a0-\u08c9\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c5d\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cdd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u1711\u171f-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4c\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ca\ua7d0\ua7d1\ua7d3\ua7d5-\ua7d9\ua7f2-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",xe={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},De="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Ct={5:De,"5module":De+" export import",6:De+" const class extends export import super"},ee=/^in(stanceof)?$/,ne=new RegExp("["+ti+"]"),qn=new RegExp("["+ti+"\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0898-\u089f\u08ca-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3c\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0cf3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ece\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u180f-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf-\u1ace\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");function yn(_,T){for(var U=65536,q=0;q<T.length;q+=2){if((U+=T[q])>_)return!1;if((U+=T[q+1])>=_)return!0}return!1}function Sn(_,T){return _<65?36===_:_<91||(_<97?95===_:_<123||(_<=65535?_>=170&&ne.test(String.fromCharCode(_)):!1!==T&&yn(_,Fn)))}function sn(_,T){return _<48?36===_:_<58||!(_<65)&&(_<91||(_<97?95===_:_<123||(_<=65535?_>=170&&qn.test(String.fromCharCode(_)):!1!==T&&(yn(_,Fn)||yn(_,Nt)))))}var ze=function(T,U){void 0===U&&(U={}),this.label=T,this.keyword=U.keyword,this.beforeExpr=!!U.beforeExpr,this.startsExpr=!!U.startsExpr,this.isLoop=!!U.isLoop,this.isAssign=!!U.isAssign,this.prefix=!!U.prefix,this.postfix=!!U.postfix,this.binop=U.binop||null,this.updateContext=null};function ut(_,T){return new ze(_,{beforeExpr:!0,binop:T})}var ae={beforeExpr:!0},ie={startsExpr:!0},je={};function Ee(_,T){return void 0===T&&(T={}),T.keyword=_,je[_]=new ze(_,T)}var W={num:new ze("num",ie),regexp:new ze("regexp",ie),string:new ze("string",ie),name:new ze("name",ie),privateId:new ze("privateId",ie),eof:new ze("eof"),bracketL:new ze("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ze("]"),braceL:new ze("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ze("}"),parenL:new ze("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ze(")"),comma:new ze(",",ae),semi:new ze(";",ae),colon:new ze(":",ae),dot:new ze("."),question:new ze("?",ae),questionDot:new ze("?."),arrow:new ze("=>",ae),template:new ze("template"),invalidTemplate:new ze("invalidTemplate"),ellipsis:new ze("...",ae),backQuote:new ze("`",ie),dollarBraceL:new ze("${",{beforeExpr:!0,startsExpr:!0}),eq:new ze("=",{beforeExpr:!0,isAssign:!0}),assign:new ze("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ze("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ze("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ut("||",1),logicalAND:ut("&&",2),bitwiseOR:ut("|",3),bitwiseXOR:ut("^",4),bitwiseAND:ut("&",5),equality:ut("==/!=/===/!==",6),relational:ut("</>/<=/>=",7),bitShift:ut("<</>>/>>>",8),plusMin:new ze("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ut("%",10),star:ut("*",10),slash:ut("/",10),starstar:new ze("**",{beforeExpr:!0}),coalesce:ut("??",1),_break:Ee("break"),_case:Ee("case",ae),_catch:Ee("catch"),_continue:Ee("continue"),_debugger:Ee("debugger"),_default:Ee("default",ae),_do:Ee("do",{isLoop:!0,beforeExpr:!0}),_else:Ee("else",ae),_finally:Ee("finally"),_for:Ee("for",{isLoop:!0}),_function:Ee("function",ie),_if:Ee("if"),_return:Ee("return",ae),_switch:Ee("switch"),_throw:Ee("throw",ae),_try:Ee("try"),_var:Ee("var"),_const:Ee("const"),_while:Ee("while",{isLoop:!0}),_with:Ee("with"),_new:Ee("new",{beforeExpr:!0,startsExpr:!0}),_this:Ee("this",ie),_super:Ee("super",ie),_class:Ee("class",ie),_extends:Ee("extends",ae),_export:Ee("export"),_import:Ee("import",ie),_null:Ee("null",ie),_true:Ee("true",ie),_false:Ee("false",ie),_in:Ee("in",{beforeExpr:!0,binop:7}),_instanceof:Ee("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ee("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ee("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ee("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ke=/\r\n?|\n|\u2028|\u2029/,Vt=new RegExp(Ke.source,"g");function ot(_){return 10===_||13===_||8232===_||8233===_}function Xt(_,T,U){void 0===U&&(U=_.length);for(var q=T;q<U;q++){var Q=_.charCodeAt(q);if(ot(Q))return q<U-1&&13===Q&&10===_.charCodeAt(q+1)?q+2:q+1}return-1}var tt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ze=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,An=Object.prototype,xn=An.hasOwnProperty,fn=An.toString,Dn=Object.hasOwn||function(_,T){return xn.call(_,T)},ni=Array.isArray||function(_){return"[object Array]"===fn.call(_)};function tn(_){return new RegExp("^(?:"+_.replace(/ /g,"|")+")$")}function Ne(_){return _<=65535?String.fromCharCode(_):(_-=65536,String.fromCharCode(55296+(_>>10),56320+(1023&_)))}var Xe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ke=function(T,U){this.line=T,this.column=U};ke.prototype.offset=function(T){return new ke(this.line,this.column+T)};var Te=function(T,U,q){this.start=U,this.end=q,null!==T.sourceFile&&(this.source=T.sourceFile)};function In(_,T){for(var U=1,q=0;;){var Q=Xt(_,q,T);if(Q<0)return new ke(U,T-q);++U,q=Q}}var it={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},gt=!1;function Qn(_){var T={};for(var U in it)T[U]=_&&Dn(_,U)?_[U]:it[U];if("latest"===T.ecmaVersion?T.ecmaVersion=1e8:null==T.ecmaVersion?(!gt&&"object"==typeof console&&console.warn&&(gt=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),T.ecmaVersion=11):T.ecmaVersion>=2015&&(T.ecmaVersion-=2009),null==T.allowReserved&&(T.allowReserved=T.ecmaVersion<5),(!_||null==_.allowHashBang)&&(T.allowHashBang=T.ecmaVersion>=14),ni(T.onToken)){var q=T.onToken;T.onToken=function(Q){return q.push(Q)}}return ni(T.onComment)&&(T.onComment=function dn(_,T){return function(U,q,Q,de,me,Ae){var Ve={type:U?"Block":"Line",value:q,start:Q,end:de};_.locations&&(Ve.loc=new Te(this,me,Ae)),_.ranges&&(Ve.range=[Q,de]),T.push(Ve)}}(T,T.onComment)),T}var fi=2,Je=4,Kt=8,nn=257|fi;function tr(_,T){return fi|(_?Je:0)|(T?Kt:0)}var an=function(T,U,q){this.options=T=Qn(T),this.sourceFile=T.sourceFile,this.keywords=tn(Ct[T.ecmaVersion>=6?6:"module"===T.sourceType?"5module":5]);var Q="";!0!==T.allowReserved&&(Q=xe[T.ecmaVersion>=6?6:5===T.ecmaVersion?5:3],"module"===T.sourceType&&(Q+=" await")),this.reservedWords=tn(Q);var de=(Q?Q+" ":"")+xe.strict;this.reservedWordsStrict=tn(de),this.reservedWordsStrictBind=tn(de+" "+xe.strictBind),this.input=String(U),this.containsEsc=!1,q?(this.pos=q,this.lineStart=this.input.lastIndexOf("\n",q-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ke).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=W.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===T.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&T.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},zt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};an.prototype.parse=function(){var T=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(T)},zt.inFunction.get=function(){return(this.currentVarScope().flags&fi)>0},zt.inGenerator.get=function(){return(this.currentVarScope().flags&Kt)>0&&!this.currentVarScope().inClassFieldInit},zt.inAsync.get=function(){return(this.currentVarScope().flags&Je)>0&&!this.currentVarScope().inClassFieldInit},zt.canAwait.get=function(){for(var _=this.scopeStack.length-1;_>=0;_--){var T=this.scopeStack[_];if(T.inClassFieldInit||256&T.flags)return!1;if(T.flags&fi)return(T.flags&Je)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},zt.allowSuper.get=function(){var _=this.currentThisScope();return(64&_.flags)>0||_.inClassFieldInit||this.options.allowSuperOutsideMethod},zt.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},zt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},zt.allowNewDotTarget.get=function(){var _=this.currentThisScope();return(_.flags&(256|fi))>0||_.inClassFieldInit},zt.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},an.extend=function(){for(var T=[],U=arguments.length;U--;)T[U]=arguments[U];for(var q=this,Q=0;Q<T.length;Q++)q=T[Q](q);return q},an.parse=function(T,U){return new this(U,T).parse()},an.parseExpressionAt=function(T,U,q){var Q=new this(q,T,U);return Q.nextToken(),Q.parseExpression()},an.tokenizer=function(T,U){return new this(U,T)},Object.defineProperties(an.prototype,zt);var At=an.prototype,rn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;At.strictDirective=function(_){if(this.options.ecmaVersion<5)return!1;for(;;){Ze.lastIndex=_,_+=Ze.exec(this.input)[0].length;var T=rn.exec(this.input.slice(_));if(!T)return!1;if("use strict"===(T[1]||T[2])){Ze.lastIndex=_+T[0].length;var U=Ze.exec(this.input),q=U.index+U[0].length,Q=this.input.charAt(q);return";"===Q||"}"===Q||Ke.test(U[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Q)||"!"===Q&&"="===this.input.charAt(q+1))}Ze.lastIndex=_+=T[0].length,_+=Ze.exec(this.input)[0].length,";"===this.input[_]&&_++}},At.eat=function(_){return this.type===_&&(this.next(),!0)},At.isContextual=function(_){return this.type===W.name&&this.value===_&&!this.containsEsc},At.eatContextual=function(_){return!!this.isContextual(_)&&(this.next(),!0)},At.expectContextual=function(_){this.eatContextual(_)||this.unexpected()},At.canInsertSemicolon=function(){return this.type===W.eof||this.type===W.braceR||Ke.test(this.input.slice(this.lastTokEnd,this.start))},At.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},At.semicolon=function(){!this.eat(W.semi)&&!this.insertSemicolon()&&this.unexpected()},At.afterTrailingComma=function(_,T){if(this.type===_)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),T||this.next(),!0},At.expect=function(_){this.eat(_)||this.unexpected()},At.unexpected=function(_){this.raise(_??this.start,"Unexpected token")};var en=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};At.checkPatternErrors=function(_,T){if(_){_.trailingComma>-1&&this.raiseRecoverable(_.trailingComma,"Comma is not permitted after the rest element");var U=T?_.parenthesizedAssign:_.parenthesizedBind;U>-1&&this.raiseRecoverable(U,T?"Assigning to rvalue":"Parenthesized pattern")}},At.checkExpressionErrors=function(_,T){if(!_)return!1;var U=_.shorthandAssign,q=_.doubleProto;if(!T)return U>=0||q>=0;U>=0&&this.raise(U,"Shorthand property assignments are valid only in destructuring patterns"),q>=0&&this.raiseRecoverable(q,"Redefinition of __proto__ property")},At.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},At.isSimpleAssignTarget=function(_){return"ParenthesizedExpression"===_.type?this.isSimpleAssignTarget(_.expression):"Identifier"===_.type||"MemberExpression"===_.type};var Le=an.prototype;Le.parseTopLevel=function(_){var T=Object.create(null);for(_.body||(_.body=[]);this.type!==W.eof;){var U=this.parseStatement(null,!0,T);_.body.push(U)}if(this.inModule)for(var q=0,Q=Object.keys(this.undefinedExports);q<Q.length;q+=1){var de=Q[q];this.raiseRecoverable(this.undefinedExports[de].start,"Export '"+de+"' is not defined")}return this.adaptDirectivePrologue(_.body),this.next(),_.sourceType=this.options.sourceType,this.finishNode(_,"Program")};var u={kind:"loop"},i={kind:"switch"};Le.isLet=function(_){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ze.lastIndex=this.pos;var T=Ze.exec(this.input),U=this.pos+T[0].length,q=this.input.charCodeAt(U);if(91===q||92===q)return!0;if(_)return!1;if(123===q||q>55295&&q<56320)return!0;if(Sn(q,!0)){for(var Q=U+1;sn(q=this.input.charCodeAt(Q),!0);)++Q;if(92===q||q>55295&&q<56320)return!0;var de=this.input.slice(U,Q);if(!ee.test(de))return!0}return!1},Le.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ze.lastIndex=this.pos;var U,_=Ze.exec(this.input),T=this.pos+_[0].length;return!(Ke.test(this.input.slice(this.pos,T))||"function"!==this.input.slice(T,T+8)||T+8!==this.input.length&&(sn(U=this.input.charCodeAt(T+8))||U>55295&&U<56320))},Le.parseStatement=function(_,T,U){var de,q=this.type,Q=this.startNode();switch(this.isLet(_)&&(q=W._var,de="let"),q){case W._break:case W._continue:return this.parseBreakContinueStatement(Q,q.keyword);case W._debugger:return this.parseDebuggerStatement(Q);case W._do:return this.parseDoStatement(Q);case W._for:return this.parseForStatement(Q);case W._function:return _&&(this.strict||"if"!==_&&"label"!==_)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Q,!1,!_);case W._class:return _&&this.unexpected(),this.parseClass(Q,!0);case W._if:return this.parseIfStatement(Q);case W._return:return this.parseReturnStatement(Q);case W._switch:return this.parseSwitchStatement(Q);case W._throw:return this.parseThrowStatement(Q);case W._try:return this.parseTryStatement(Q);case W._const:case W._var:return de=de||this.value,_&&"var"!==de&&this.unexpected(),this.parseVarStatement(Q,de);case W._while:return this.parseWhileStatement(Q);case W._with:return this.parseWithStatement(Q);case W.braceL:return this.parseBlock(!0,Q);case W.semi:return this.parseEmptyStatement(Q);case W._export:case W._import:if(this.options.ecmaVersion>10&&q===W._import){Ze.lastIndex=this.pos;var me=Ze.exec(this.input),Ve=this.input.charCodeAt(this.pos+me[0].length);if(40===Ve||46===Ve)return this.parseExpressionStatement(Q,this.parseExpression())}return this.options.allowImportExportEverywhere||(T||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),q===W._import?this.parseImport(Q):this.parseExport(Q,U);default:if(this.isAsyncFunction())return _&&this.unexpected(),this.next(),this.parseFunctionStatement(Q,!0,!_);var Qe=this.value,It=this.parseExpression();return q===W.name&&"Identifier"===It.type&&this.eat(W.colon)?this.parseLabeledStatement(Q,Qe,It,_):this.parseExpressionStatement(Q,It)}},Le.parseBreakContinueStatement=function(_,T){var U="break"===T;this.next(),this.eat(W.semi)||this.insertSemicolon()?_.label=null:this.type!==W.name?this.unexpected():(_.label=this.parseIdent(),this.semicolon());for(var q=0;q<this.labels.length;++q){var Q=this.labels[q];if((null==_.label||Q.name===_.label.name)&&(null!=Q.kind&&(U||"loop"===Q.kind)||_.label&&U))break}return q===this.labels.length&&this.raise(_.start,"Unsyntactic "+T),this.finishNode(_,U?"BreakStatement":"ContinueStatement")},Le.parseDebuggerStatement=function(_){return this.next(),this.semicolon(),this.finishNode(_,"DebuggerStatement")},Le.parseDoStatement=function(_){return this.next(),this.labels.push(u),_.body=this.parseStatement("do"),this.labels.pop(),this.expect(W._while),_.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(W.semi):this.semicolon(),this.finishNode(_,"DoWhileStatement")},Le.parseForStatement=function(_){this.next();var T=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(u),this.enterScope(0),this.expect(W.parenL),this.type===W.semi)return T>-1&&this.unexpected(T),this.parseFor(_,null);var U=this.isLet();if(this.type===W._var||this.type===W._const||U){var q=this.startNode(),Q=U?"let":this.value;return this.next(),this.parseVar(q,!0,Q),this.finishNode(q,"VariableDeclaration"),(this.type===W._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===q.declarations.length?(this.options.ecmaVersion>=9&&(this.type===W._in?T>-1&&this.unexpected(T):_.await=T>-1),this.parseForIn(_,q)):(T>-1&&this.unexpected(T),this.parseFor(_,q))}var de=this.isContextual("let"),me=!1,Ae=new en,Ve=this.parseExpression(!(T>-1)||"await",Ae);return this.type===W._in||(me=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===W._in?T>-1&&this.unexpected(T):_.await=T>-1),de&&me&&this.raise(Ve.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Ve,!1,Ae),this.checkLValPattern(Ve),this.parseForIn(_,Ve)):(this.checkExpressionErrors(Ae,!0),T>-1&&this.unexpected(T),this.parseFor(_,Ve))},Le.parseFunctionStatement=function(_,T,U){return this.next(),this.parseFunction(_,o|(U?0:l),!1,T)},Le.parseIfStatement=function(_){return this.next(),_.test=this.parseParenExpression(),_.consequent=this.parseStatement("if"),_.alternate=this.eat(W._else)?this.parseStatement("if"):null,this.finishNode(_,"IfStatement")},Le.parseReturnStatement=function(_){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(W.semi)||this.insertSemicolon()?_.argument=null:(_.argument=this.parseExpression(),this.semicolon()),this.finishNode(_,"ReturnStatement")},Le.parseSwitchStatement=function(_){this.next(),_.discriminant=this.parseParenExpression(),_.cases=[],this.expect(W.braceL),this.labels.push(i),this.enterScope(0);for(var T,U=!1;this.type!==W.braceR;)if(this.type===W._case||this.type===W._default){var q=this.type===W._case;T&&this.finishNode(T,"SwitchCase"),_.cases.push(T=this.startNode()),T.consequent=[],this.next(),q?T.test=this.parseExpression():(U&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),U=!0,T.test=null),this.expect(W.colon)}else T||this.unexpected(),T.consequent.push(this.parseStatement(null));return this.exitScope(),T&&this.finishNode(T,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(_,"SwitchStatement")},Le.parseThrowStatement=function(_){return this.next(),Ke.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),_.argument=this.parseExpression(),this.semicolon(),this.finishNode(_,"ThrowStatement")};var s=[];Le.parseTryStatement=function(_){if(this.next(),_.block=this.parseBlock(),_.handler=null,this.type===W._catch){var T=this.startNode();if(this.next(),this.eat(W.parenL)){T.param=this.parseBindingAtom();var U="Identifier"===T.param.type;this.enterScope(U?32:0),this.checkLValPattern(T.param,U?4:2),this.expect(W.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),T.param=null,this.enterScope(0);T.body=this.parseBlock(!1),this.exitScope(),_.handler=this.finishNode(T,"CatchClause")}return _.finalizer=this.eat(W._finally)?this.parseBlock():null,!_.handler&&!_.finalizer&&this.raise(_.start,"Missing catch or finally clause"),this.finishNode(_,"TryStatement")},Le.parseVarStatement=function(_,T){return this.next(),this.parseVar(_,!1,T),this.semicolon(),this.finishNode(_,"VariableDeclaration")},Le.parseWhileStatement=function(_){return this.next(),_.test=this.parseParenExpression(),this.labels.push(u),_.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(_,"WhileStatement")},Le.parseWithStatement=function(_){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),_.object=this.parseParenExpression(),_.body=this.parseStatement("with"),this.finishNode(_,"WithStatement")},Le.parseEmptyStatement=function(_){return this.next(),this.finishNode(_,"EmptyStatement")},Le.parseLabeledStatement=function(_,T,U,q){for(var Q=0,de=this.labels;Q<de.length;Q+=1)de[Q].name===T&&this.raise(U.start,"Label '"+T+"' is already declared");for(var Ae=this.type.isLoop?"loop":this.type===W._switch?"switch":null,Ve=this.labels.length-1;Ve>=0;Ve--){var Qe=this.labels[Ve];if(Qe.statementStart!==_.start)break;Qe.statementStart=this.start,Qe.kind=Ae}return this.labels.push({name:T,kind:Ae,statementStart:this.start}),_.body=this.parseStatement(q?-1===q.indexOf("label")?q+"label":q:"label"),this.labels.pop(),_.label=U,this.finishNode(_,"LabeledStatement")},Le.parseExpressionStatement=function(_,T){return _.expression=T,this.semicolon(),this.finishNode(_,"ExpressionStatement")},Le.parseBlock=function(_,T,U){for(void 0===_&&(_=!0),void 0===T&&(T=this.startNode()),T.body=[],this.expect(W.braceL),_&&this.enterScope(0);this.type!==W.braceR;){var q=this.parseStatement(null);T.body.push(q)}return U&&(this.strict=!1),this.next(),_&&this.exitScope(),this.finishNode(T,"BlockStatement")},Le.parseFor=function(_,T){return _.init=T,this.expect(W.semi),_.test=this.type===W.semi?null:this.parseExpression(),this.expect(W.semi),_.update=this.type===W.parenR?null:this.parseExpression(),this.expect(W.parenR),_.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_,"ForStatement")},Le.parseForIn=function(_,T){var U=this.type===W._in;return this.next(),"VariableDeclaration"===T.type&&null!=T.declarations[0].init&&(!U||this.options.ecmaVersion<8||this.strict||"var"!==T.kind||"Identifier"!==T.declarations[0].id.type)&&this.raise(T.start,(U?"for-in":"for-of")+" loop variable declaration may not have an initializer"),_.left=T,_.right=U?this.parseExpression():this.parseMaybeAssign(),this.expect(W.parenR),_.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_,U?"ForInStatement":"ForOfStatement")},Le.parseVar=function(_,T,U){for(_.declarations=[],_.kind=U;;){var q=this.startNode();if(this.parseVarId(q,U),this.eat(W.eq)?q.init=this.parseMaybeAssign(T):"const"!==U||this.type===W._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===q.id.type||T&&(this.type===W._in||this.isContextual("of"))?q.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),_.declarations.push(this.finishNode(q,"VariableDeclarator")),!this.eat(W.comma))break}return _},Le.parseVarId=function(_,T){_.id=this.parseBindingAtom(),this.checkLValPattern(_.id,"var"===T?1:2,!1)};var o=1,l=2;function d(_,T){var U=T.key.name,q=_[U],Q="true";return"MethodDefinition"===T.type&&("get"===T.kind||"set"===T.kind)&&(Q=(T.static?"s":"i")+T.kind),"iget"===q&&"iset"===Q||"iset"===q&&"iget"===Q||"sget"===q&&"sset"===Q||"sset"===q&&"sget"===Q?(_[U]="true",!1):!!q||(_[U]=Q,!1)}function p(_,T){var q=_.key;return!_.computed&&("Identifier"===q.type&&q.name===T||"Literal"===q.type&&q.value===T)}Le.parseFunction=function(_,T,U,q,Q){this.initFunction(_),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!q)&&(this.type===W.star&&T&l&&this.unexpected(),_.generator=this.eat(W.star)),this.options.ecmaVersion>=8&&(_.async=!!q),T&o&&(_.id=4&T&&this.type!==W.name?null:this.parseIdent(),_.id&&!(T&l)&&this.checkLValSimple(_.id,this.strict||_.generator||_.async?this.treatFunctionsAsVar?1:2:3));var de=this.yieldPos,me=this.awaitPos,Ae=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(tr(_.async,_.generator)),T&o||(_.id=this.type===W.name?this.parseIdent():null),this.parseFunctionParams(_),this.parseFunctionBody(_,U,!1,Q),this.yieldPos=de,this.awaitPos=me,this.awaitIdentPos=Ae,this.finishNode(_,T&o?"FunctionDeclaration":"FunctionExpression")},Le.parseFunctionParams=function(_){this.expect(W.parenL),_.params=this.parseBindingList(W.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Le.parseClass=function(_,T){this.next();var U=this.strict;this.strict=!0,this.parseClassId(_,T),this.parseClassSuper(_);var q=this.enterClassBody(),Q=this.startNode(),de=!1;for(Q.body=[],this.expect(W.braceL);this.type!==W.braceR;){var me=this.parseClassElement(null!==_.superClass);me&&(Q.body.push(me),"MethodDefinition"===me.type&&"constructor"===me.kind?(de&&this.raise(me.start,"Duplicate constructor in the same class"),de=!0):me.key&&"PrivateIdentifier"===me.key.type&&d(q,me)&&this.raiseRecoverable(me.key.start,"Identifier '#"+me.key.name+"' has already been declared"))}return this.strict=U,this.next(),_.body=this.finishNode(Q,"ClassBody"),this.exitClassBody(),this.finishNode(_,T?"ClassDeclaration":"ClassExpression")},Le.parseClassElement=function(_){if(this.eat(W.semi))return null;var T=this.options.ecmaVersion,U=this.startNode(),q="",Q=!1,de=!1,me="method",Ae=!1;if(this.eatContextual("static")){if(T>=13&&this.eat(W.braceL))return this.parseClassStaticBlock(U),U;this.isClassElementNameStart()||this.type===W.star?Ae=!0:q="static"}if(U.static=Ae,!q&&T>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==W.star||this.canInsertSemicolon()?q="async":de=!0),!q&&(T>=9||!de)&&this.eat(W.star)&&(Q=!0),!q&&!de&&!Q){var Ve=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?me=Ve:q=Ve)}if(q?(U.computed=!1,U.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),U.key.name=q,this.finishNode(U.key,"Identifier")):this.parseClassElementName(U),T<13||this.type===W.parenL||"method"!==me||Q||de){var Qe=!U.static&&p(U,"constructor"),It=Qe&&_;Qe&&"method"!==me&&this.raise(U.key.start,"Constructor can't have get/set modifier"),U.kind=Qe?"constructor":me,this.parseClassMethod(U,Q,de,It)}else this.parseClassField(U);return U},Le.isClassElementNameStart=function(){return this.type===W.name||this.type===W.privateId||this.type===W.num||this.type===W.string||this.type===W.bracketL||this.type.keyword},Le.parseClassElementName=function(_){this.type===W.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),_.computed=!1,_.key=this.parsePrivateIdent()):this.parsePropertyName(_)},Le.parseClassMethod=function(_,T,U,q){var Q=_.key;"constructor"===_.kind?(T&&this.raise(Q.start,"Constructor can't be a generator"),U&&this.raise(Q.start,"Constructor can't be an async method")):_.static&&p(_,"prototype")&&this.raise(Q.start,"Classes may not have a static property named prototype");var de=_.value=this.parseMethod(T,U,q);return"get"===_.kind&&0!==de.params.length&&this.raiseRecoverable(de.start,"getter should have no params"),"set"===_.kind&&1!==de.params.length&&this.raiseRecoverable(de.start,"setter should have exactly one param"),"set"===_.kind&&"RestElement"===de.params[0].type&&this.raiseRecoverable(de.params[0].start,"Setter cannot use rest params"),this.finishNode(_,"MethodDefinition")},Le.parseClassField=function(_){if(p(_,"constructor")?this.raise(_.key.start,"Classes can't have a field named 'constructor'"):_.static&&p(_,"prototype")&&this.raise(_.key.start,"Classes can't have a static field named 'prototype'"),this.eat(W.eq)){var T=this.currentThisScope(),U=T.inClassFieldInit;T.inClassFieldInit=!0,_.value=this.parseMaybeAssign(),T.inClassFieldInit=U}else _.value=null;return this.semicolon(),this.finishNode(_,"PropertyDefinition")},Le.parseClassStaticBlock=function(_){_.body=[];var T=this.labels;for(this.labels=[],this.enterScope(320);this.type!==W.braceR;){var U=this.parseStatement(null);_.body.push(U)}return this.next(),this.exitScope(),this.labels=T,this.finishNode(_,"StaticBlock")},Le.parseClassId=function(_,T){this.type===W.name?(_.id=this.parseIdent(),T&&this.checkLValSimple(_.id,2,!1)):(!0===T&&this.unexpected(),_.id=null)},Le.parseClassSuper=function(_){_.superClass=this.eat(W._extends)?this.parseExprSubscripts(null,!1):null},Le.enterClassBody=function(){var _={declared:Object.create(null),used:[]};return this.privateNameStack.push(_),_.declared},Le.exitClassBody=function(){for(var _=this.privateNameStack.pop(),T=_.declared,U=_.used,q=this.privateNameStack.length,Q=0===q?null:this.privateNameStack[q-1],de=0;de<U.length;++de){var me=U[de];Dn(T,me.name)||(Q?Q.used.push(me):this.raiseRecoverable(me.start,"Private field '#"+me.name+"' must be declared in an enclosing class"))}},Le.parseExport=function(_,T){if(this.next(),this.eat(W.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(_.exported=this.parseModuleExportName(),this.checkExport(T,_.exported,this.lastTokStart)):_.exported=null),this.expectContextual("from"),this.type!==W.string&&this.unexpected(),_.source=this.parseExprAtom(),this.semicolon(),this.finishNode(_,"ExportAllDeclaration");if(this.eat(W._default)){var U;if(this.checkExport(T,"default",this.lastTokStart),this.type===W._function||(U=this.isAsyncFunction())){var q=this.startNode();this.next(),U&&this.next(),_.declaration=this.parseFunction(q,4|o,!1,U)}else if(this.type===W._class){var Q=this.startNode();_.declaration=this.parseClass(Q,"nullableID")}else _.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(_,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())_.declaration=this.parseStatement(null),"VariableDeclaration"===_.declaration.type?this.checkVariableExport(T,_.declaration.declarations):this.checkExport(T,_.declaration.id,_.declaration.id.start),_.specifiers=[],_.source=null;else{if(_.declaration=null,_.specifiers=this.parseExportSpecifiers(T),this.eatContextual("from"))this.type!==W.string&&this.unexpected(),_.source=this.parseExprAtom();else{for(var de=0,me=_.specifiers;de<me.length;de+=1){var Ae=me[de];this.checkUnreserved(Ae.local),this.checkLocalExport(Ae.local),"Literal"===Ae.local.type&&this.raise(Ae.local.start,"A string literal cannot be used as an exported binding without `from`.")}_.source=null}this.semicolon()}return this.finishNode(_,"ExportNamedDeclaration")},Le.checkExport=function(_,T,U){_&&("string"!=typeof T&&(T="Identifier"===T.type?T.name:T.value),Dn(_,T)&&this.raiseRecoverable(U,"Duplicate export '"+T+"'"),_[T]=!0)},Le.checkPatternExport=function(_,T){var U=T.type;if("Identifier"===U)this.checkExport(_,T,T.start);else if("ObjectPattern"===U)for(var q=0,Q=T.properties;q<Q.length;q+=1)this.checkPatternExport(_,Q[q]);else if("ArrayPattern"===U)for(var me=0,Ae=T.elements;me<Ae.length;me+=1){var Ve=Ae[me];Ve&&this.checkPatternExport(_,Ve)}else"Property"===U?this.checkPatternExport(_,T.value):"AssignmentPattern"===U?this.checkPatternExport(_,T.left):"RestElement"===U?this.checkPatternExport(_,T.argument):"ParenthesizedExpression"===U&&this.checkPatternExport(_,T.expression)},Le.checkVariableExport=function(_,T){if(_)for(var U=0,q=T;U<q.length;U+=1)this.checkPatternExport(_,q[U].id)},Le.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Le.parseExportSpecifiers=function(_){var T=[],U=!0;for(this.expect(W.braceL);!this.eat(W.braceR);){if(U)U=!1;else if(this.expect(W.comma),this.afterTrailingComma(W.braceR))break;var q=this.startNode();q.local=this.parseModuleExportName(),q.exported=this.eatContextual("as")?this.parseModuleExportName():q.local,this.checkExport(_,q.exported,q.exported.start),T.push(this.finishNode(q,"ExportSpecifier"))}return T},Le.parseImport=function(_){return this.next(),this.type===W.string?(_.specifiers=s,_.source=this.parseExprAtom()):(_.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),_.source=this.type===W.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(_,"ImportDeclaration")},Le.parseImportSpecifiers=function(){var _=[],T=!0;if(this.type===W.name){var U=this.startNode();if(U.local=this.parseIdent(),this.checkLValSimple(U.local,2),_.push(this.finishNode(U,"ImportDefaultSpecifier")),!this.eat(W.comma))return _}if(this.type===W.star){var q=this.startNode();return this.next(),this.expectContextual("as"),q.local=this.parseIdent(),this.checkLValSimple(q.local,2),_.push(this.finishNode(q,"ImportNamespaceSpecifier")),_}for(this.expect(W.braceL);!this.eat(W.braceR);){if(T)T=!1;else if(this.expect(W.comma),this.afterTrailingComma(W.braceR))break;var Q=this.startNode();Q.imported=this.parseModuleExportName(),this.eatContextual("as")?Q.local=this.parseIdent():(this.checkUnreserved(Q.imported),Q.local=Q.imported),this.checkLValSimple(Q.local,2),_.push(this.finishNode(Q,"ImportSpecifier"))}return _},Le.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===W.string){var _=this.parseLiteral(this.value);return Xe.test(_.value)&&this.raise(_.start,"An export name cannot include a lone surrogate."),_}return this.parseIdent(!0)},Le.adaptDirectivePrologue=function(_){for(var T=0;T<_.length&&this.isDirectiveCandidate(_[T]);++T)_[T].directive=_[T].expression.raw.slice(1,-1)},Le.isDirectiveCandidate=function(_){return this.options.ecmaVersion>=5&&"ExpressionStatement"===_.type&&"Literal"===_.expression.type&&"string"==typeof _.expression.value&&('"'===this.input[_.start]||"'"===this.input[_.start])};var g=an.prototype;g.toAssignable=function(_,T,U){if(this.options.ecmaVersion>=6&&_)switch(_.type){case"Identifier":this.inAsync&&"await"===_.name&&this.raise(_.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":_.type="ObjectPattern",U&&this.checkPatternErrors(U,!0);for(var q=0,Q=_.properties;q<Q.length;q+=1){var de=Q[q];this.toAssignable(de,T),"RestElement"===de.type&&("ArrayPattern"===de.argument.type||"ObjectPattern"===de.argument.type)&&this.raise(de.argument.start,"Unexpected token")}break;case"Property":"init"!==_.kind&&this.raise(_.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(_.value,T);break;case"ArrayExpression":_.type="ArrayPattern",U&&this.checkPatternErrors(U,!0),this.toAssignableList(_.elements,T);break;case"SpreadElement":_.type="RestElement",this.toAssignable(_.argument,T),"AssignmentPattern"===_.argument.type&&this.raise(_.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==_.operator&&this.raise(_.left.end,"Only '=' operator can be used for specifying default value."),_.type="AssignmentPattern",delete _.operator,this.toAssignable(_.left,T);break;case"ParenthesizedExpression":this.toAssignable(_.expression,T,U);break;case"ChainExpression":this.raiseRecoverable(_.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!T)break;default:this.raise(_.start,"Assigning to rvalue")}else U&&this.checkPatternErrors(U,!0);return _},g.toAssignableList=function(_,T){for(var U=_.length,q=0;q<U;q++){var Q=_[q];Q&&this.toAssignable(Q,T)}if(U){var de=_[U-1];6===this.options.ecmaVersion&&T&&de&&"RestElement"===de.type&&"Identifier"!==de.argument.type&&this.unexpected(de.argument.start)}return _},g.parseSpread=function(_){var T=this.startNode();return this.next(),T.argument=this.parseMaybeAssign(!1,_),this.finishNode(T,"SpreadElement")},g.parseRestBinding=function(){var _=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==W.name&&this.unexpected(),_.argument=this.parseBindingAtom(),this.finishNode(_,"RestElement")},g.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case W.bracketL:var _=this.startNode();return this.next(),_.elements=this.parseBindingList(W.bracketR,!0,!0),this.finishNode(_,"ArrayPattern");case W.braceL:return this.parseObj(!0)}return this.parseIdent()},g.parseBindingList=function(_,T,U){for(var q=[],Q=!0;!this.eat(_);)if(Q?Q=!1:this.expect(W.comma),T&&this.type===W.comma)q.push(null);else{if(U&&this.afterTrailingComma(_))break;if(this.type===W.ellipsis){var de=this.parseRestBinding();this.parseBindingListItem(de),q.push(de),this.type===W.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(_);break}var me=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(me),q.push(me)}return q},g.parseBindingListItem=function(_){return _},g.parseMaybeDefault=function(_,T,U){if(U=U||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(W.eq))return U;var q=this.startNodeAt(_,T);return q.left=U,q.right=this.parseMaybeAssign(),this.finishNode(q,"AssignmentPattern")},g.checkLValSimple=function(_,T,U){void 0===T&&(T=0);var q=0!==T;switch(_.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(_.name)&&this.raiseRecoverable(_.start,(q?"Binding ":"Assigning to ")+_.name+" in strict mode"),q&&(2===T&&"let"===_.name&&this.raiseRecoverable(_.start,"let is disallowed as a lexically bound name"),U&&(Dn(U,_.name)&&this.raiseRecoverable(_.start,"Argument name clash"),U[_.name]=!0),5!==T&&this.declareName(_.name,T,_.start));break;case"ChainExpression":this.raiseRecoverable(_.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":q&&this.raiseRecoverable(_.start,"Binding member expression");break;case"ParenthesizedExpression":return q&&this.raiseRecoverable(_.start,"Binding parenthesized expression"),this.checkLValSimple(_.expression,T,U);default:this.raise(_.start,(q?"Binding":"Assigning to")+" rvalue")}},g.checkLValPattern=function(_,T,U){switch(void 0===T&&(T=0),_.type){case"ObjectPattern":for(var q=0,Q=_.properties;q<Q.length;q+=1)this.checkLValInnerPattern(Q[q],T,U);break;case"ArrayPattern":for(var me=0,Ae=_.elements;me<Ae.length;me+=1){var Ve=Ae[me];Ve&&this.checkLValInnerPattern(Ve,T,U)}break;default:this.checkLValSimple(_,T,U)}},g.checkLValInnerPattern=function(_,T,U){switch(void 0===T&&(T=0),_.type){case"Property":this.checkLValInnerPattern(_.value,T,U);break;case"AssignmentPattern":this.checkLValPattern(_.left,T,U);break;case"RestElement":this.checkLValPattern(_.argument,T,U);break;default:this.checkLValPattern(_,T,U)}};var m=function(T,U,q,Q,de){this.token=T,this.isExpr=!!U,this.preserveSpace=!!q,this.override=Q,this.generator=!!de},v={b_stat:new m("{",!1),b_expr:new m("{",!0),b_tmpl:new m("${",!1),p_stat:new m("(",!1),p_expr:new m("(",!0),q_tmpl:new m("`",!0,!0,function(_){return _.tryReadTemplateToken()}),f_stat:new m("function",!1),f_expr:new m("function",!0),f_expr_gen:new m("function",!0,!1,null,!0),f_gen:new m("function",!1,!1,null,!0)},b=an.prototype;b.initialContext=function(){return[v.b_stat]},b.curContext=function(){return this.context[this.context.length-1]},b.braceIsBlock=function(_){var T=this.curContext();return T===v.f_expr||T===v.f_stat||(_!==W.colon||T!==v.b_stat&&T!==v.b_expr?_===W._return||_===W.name&&this.exprAllowed?Ke.test(this.input.slice(this.lastTokEnd,this.start)):_===W._else||_===W.semi||_===W.eof||_===W.parenR||_===W.arrow||(_===W.braceL?T===v.b_stat:_!==W._var&&_!==W._const&&_!==W.name&&!this.exprAllowed):!T.isExpr)},b.inGeneratorContext=function(){for(var _=this.context.length-1;_>=1;_--){var T=this.context[_];if("function"===T.token)return T.generator}return!1},b.updateContext=function(_){var T,U=this.type;U.keyword&&_===W.dot?this.exprAllowed=!1:(T=U.updateContext)?T.call(this,_):this.exprAllowed=U.beforeExpr},b.overrideContext=function(_){this.curContext()!==_&&(this.context[this.context.length-1]=_)},W.parenR.updateContext=W.braceR.updateContext=function(){if(1!==this.context.length){var _=this.context.pop();_===v.b_stat&&"function"===this.curContext().token&&(_=this.context.pop()),this.exprAllowed=!_.isExpr}else this.exprAllowed=!0},W.braceL.updateContext=function(_){this.context.push(this.braceIsBlock(_)?v.b_stat:v.b_expr),this.exprAllowed=!0},W.dollarBraceL.updateContext=function(){this.context.push(v.b_tmpl),this.exprAllowed=!0},W.parenL.updateContext=function(_){this.context.push(_===W._if||_===W._for||_===W._with||_===W._while?v.p_stat:v.p_expr),this.exprAllowed=!0},W.incDec.updateContext=function(){},W._function.updateContext=W._class.updateContext=function(_){!_.beforeExpr||_===W._else||_===W.semi&&this.curContext()!==v.p_stat||_===W._return&&Ke.test(this.input.slice(this.lastTokEnd,this.start))||(_===W.colon||_===W.braceL)&&this.curContext()===v.b_stat?this.context.push(v.f_stat):this.context.push(v.f_expr),this.exprAllowed=!1},W.backQuote.updateContext=function(){this.curContext()===v.q_tmpl?this.context.pop():this.context.push(v.q_tmpl),this.exprAllowed=!1},W.star.updateContext=function(_){if(_===W._function){var T=this.context.length-1;this.context[T]=this.context[T]===v.f_expr?v.f_expr_gen:v.f_gen}this.exprAllowed=!0},W.name.updateContext=function(_){var T=!1;this.options.ecmaVersion>=6&&_!==W.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(T=!0),this.exprAllowed=T};var w=an.prototype;function C(_){return"MemberExpression"===_.type&&"PrivateIdentifier"===_.property.type||"ChainExpression"===_.type&&C(_.expression)}w.checkPropClash=function(_,T,U){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===_.type||this.options.ecmaVersion>=6&&(_.computed||_.method||_.shorthand))){var Q,q=_.key;switch(q.type){case"Identifier":Q=q.name;break;case"Literal":Q=String(q.value);break;default:return}var de=_.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===Q&&"init"===de&&(T.proto&&(U?U.doubleProto<0&&(U.doubleProto=q.start):this.raiseRecoverable(q.start,"Redefinition of __proto__ property")),T.proto=!0));var me=T[Q="$"+Q];me?("init"===de?this.strict&&me.init||me.get||me.set:me.init||me[de])&&this.raiseRecoverable(q.start,"Redefinition of property"):me=T[Q]={init:!1,get:!1,set:!1},me[de]=!0}},w.parseExpression=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseMaybeAssign(_,T);if(this.type===W.comma){var de=this.startNodeAt(U,q);for(de.expressions=[Q];this.eat(W.comma);)de.expressions.push(this.parseMaybeAssign(_,T));return this.finishNode(de,"SequenceExpression")}return Q},w.parseMaybeAssign=function(_,T,U){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(_);this.exprAllowed=!1}var q=!1,Q=-1,de=-1,me=-1;T?(Q=T.parenthesizedAssign,de=T.trailingComma,me=T.doubleProto,T.parenthesizedAssign=T.trailingComma=-1):(T=new en,q=!0);var Ae=this.start,Ve=this.startLoc;(this.type===W.parenL||this.type===W.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===_);var Qe=this.parseMaybeConditional(_,T);if(U&&(Qe=U.call(this,Qe,Ae,Ve)),this.type.isAssign){var It=this.startNodeAt(Ae,Ve);return It.operator=this.value,this.type===W.eq&&(Qe=this.toAssignable(Qe,!1,T)),q||(T.parenthesizedAssign=T.trailingComma=T.doubleProto=-1),T.shorthandAssign>=Qe.start&&(T.shorthandAssign=-1),this.type===W.eq?this.checkLValPattern(Qe):this.checkLValSimple(Qe),It.left=Qe,this.next(),It.right=this.parseMaybeAssign(_),me>-1&&(T.doubleProto=me),this.finishNode(It,"AssignmentExpression")}return q&&this.checkExpressionErrors(T,!0),Q>-1&&(T.parenthesizedAssign=Q),de>-1&&(T.trailingComma=de),Qe},w.parseMaybeConditional=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseExprOps(_,T);if(this.checkExpressionErrors(T))return Q;if(this.eat(W.question)){var de=this.startNodeAt(U,q);return de.test=Q,de.consequent=this.parseMaybeAssign(),this.expect(W.colon),de.alternate=this.parseMaybeAssign(_),this.finishNode(de,"ConditionalExpression")}return Q},w.parseExprOps=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseMaybeUnary(T,!1,!1,_);return this.checkExpressionErrors(T)||Q.start===U&&"ArrowFunctionExpression"===Q.type?Q:this.parseExprOp(Q,U,q,-1,_)},w.parseExprOp=function(_,T,U,q,Q){var de=this.type.binop;if(null!=de&&(!Q||this.type!==W._in)&&de>q){var me=this.type===W.logicalOR||this.type===W.logicalAND,Ae=this.type===W.coalesce;Ae&&(de=W.logicalAND.binop);var Ve=this.value;this.next();var Qe=this.start,It=this.startLoc,pn=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Q),Qe,It,de,Q),oi=this.buildBinary(T,U,_,pn,Ve,me||Ae);return(me&&this.type===W.coalesce||Ae&&(this.type===W.logicalOR||this.type===W.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(oi,T,U,q,Q)}return _},w.buildBinary=function(_,T,U,q,Q,de){"PrivateIdentifier"===q.type&&this.raise(q.start,"Private identifier can only be left side of binary expression");var me=this.startNodeAt(_,T);return me.left=U,me.operator=Q,me.right=q,this.finishNode(me,de?"LogicalExpression":"BinaryExpression")},w.parseMaybeUnary=function(_,T,U,q){var me,Q=this.start,de=this.startLoc;if(this.isContextual("await")&&this.canAwait)me=this.parseAwait(q),T=!0;else if(this.type.prefix){var Ae=this.startNode(),Ve=this.type===W.incDec;Ae.operator=this.value,Ae.prefix=!0,this.next(),Ae.argument=this.parseMaybeUnary(null,!0,Ve,q),this.checkExpressionErrors(_,!0),Ve?this.checkLValSimple(Ae.argument):this.strict&&"delete"===Ae.operator&&"Identifier"===Ae.argument.type?this.raiseRecoverable(Ae.start,"Deleting local variable in strict mode"):"delete"===Ae.operator&&C(Ae.argument)?this.raiseRecoverable(Ae.start,"Private fields can not be deleted"):T=!0,me=this.finishNode(Ae,Ve?"UpdateExpression":"UnaryExpression")}else if(T||this.type!==W.privateId){if(me=this.parseExprSubscripts(_,q),this.checkExpressionErrors(_))return me;for(;this.type.postfix&&!this.canInsertSemicolon();){var Qe=this.startNodeAt(Q,de);Qe.operator=this.value,Qe.prefix=!1,Qe.argument=me,this.checkLValSimple(me),this.next(),me=this.finishNode(Qe,"UpdateExpression")}}else(q||0===this.privateNameStack.length)&&this.unexpected(),me=this.parsePrivateIdent(),this.type!==W._in&&this.unexpected();return U||!this.eat(W.starstar)?me:T?void this.unexpected(this.lastTokStart):this.buildBinary(Q,de,me,this.parseMaybeUnary(null,!1,!1,q),"**",!1)},w.parseExprSubscripts=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseExprAtom(_,T);if("ArrowFunctionExpression"===Q.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return Q;var de=this.parseSubscripts(Q,U,q,!1,T);return _&&"MemberExpression"===de.type&&(_.parenthesizedAssign>=de.start&&(_.parenthesizedAssign=-1),_.parenthesizedBind>=de.start&&(_.parenthesizedBind=-1),_.trailingComma>=de.start&&(_.trailingComma=-1)),de},w.parseSubscripts=function(_,T,U,q,Q){for(var de=this.options.ecmaVersion>=8&&"Identifier"===_.type&&"async"===_.name&&this.lastTokEnd===_.end&&!this.canInsertSemicolon()&&_.end-_.start==5&&this.potentialArrowAt===_.start,me=!1;;){var Ae=this.parseSubscript(_,T,U,q,de,me,Q);if(Ae.optional&&(me=!0),Ae===_||"ArrowFunctionExpression"===Ae.type){if(me){var Ve=this.startNodeAt(T,U);Ve.expression=Ae,Ae=this.finishNode(Ve,"ChainExpression")}return Ae}_=Ae}},w.parseSubscript=function(_,T,U,q,Q,de,me){var Ae=this.options.ecmaVersion>=11,Ve=Ae&&this.eat(W.questionDot);q&&Ve&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Qe=this.eat(W.bracketL);if(Qe||Ve&&this.type!==W.parenL&&this.type!==W.backQuote||this.eat(W.dot)){var It=this.startNodeAt(T,U);It.object=_,Qe?(It.property=this.parseExpression(),this.expect(W.bracketR)):It.property=this.type===W.privateId&&"Super"!==_.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),It.computed=!!Qe,Ae&&(It.optional=Ve),_=this.finishNode(It,"MemberExpression")}else if(!q&&this.eat(W.parenL)){var pn=new en,oi=this.yieldPos,gn=this.awaitPos,Wn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var pi=this.parseExprList(W.parenR,this.options.ecmaVersion>=8,!1,pn);if(Q&&!Ve&&!this.canInsertSemicolon()&&this.eat(W.arrow))return this.checkPatternErrors(pn,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=oi,this.awaitPos=gn,this.awaitIdentPos=Wn,this.parseArrowExpression(this.startNodeAt(T,U),pi,!0,me);this.checkExpressionErrors(pn,!0),this.yieldPos=oi||this.yieldPos,this.awaitPos=gn||this.awaitPos,this.awaitIdentPos=Wn||this.awaitIdentPos;var Xn=this.startNodeAt(T,U);Xn.callee=_,Xn.arguments=pi,Ae&&(Xn.optional=Ve),_=this.finishNode(Xn,"CallExpression")}else if(this.type===W.backQuote){(Ve||de)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Si=this.startNodeAt(T,U);Si.tag=_,Si.quasi=this.parseTemplate({isTagged:!0}),_=this.finishNode(Si,"TaggedTemplateExpression")}return _},w.parseExprAtom=function(_,T){this.type===W.slash&&this.readRegexp();var U,q=this.potentialArrowAt===this.start;switch(this.type){case W._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),U=this.startNode(),this.next(),this.type===W.parenL&&!this.allowDirectSuper&&this.raise(U.start,"super() call outside constructor of a subclass"),this.type!==W.dot&&this.type!==W.bracketL&&this.type!==W.parenL&&this.unexpected(),this.finishNode(U,"Super");case W._this:return U=this.startNode(),this.next(),this.finishNode(U,"ThisExpression");case W.name:var Q=this.start,de=this.startLoc,me=this.containsEsc,Ae=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!me&&"async"===Ae.name&&!this.canInsertSemicolon()&&this.eat(W._function))return this.overrideContext(v.f_expr),this.parseFunction(this.startNodeAt(Q,de),0,!1,!0,T);if(q&&!this.canInsertSemicolon()){if(this.eat(W.arrow))return this.parseArrowExpression(this.startNodeAt(Q,de),[Ae],!1,T);if(this.options.ecmaVersion>=8&&"async"===Ae.name&&this.type===W.name&&!me&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return Ae=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(W.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Q,de),[Ae],!0,T)}return Ae;case W.regexp:var Ve=this.value;return(U=this.parseLiteral(Ve.value)).regex={pattern:Ve.pattern,flags:Ve.flags},U;case W.num:case W.string:return this.parseLiteral(this.value);case W._null:case W._true:case W._false:return(U=this.startNode()).value=this.type===W._null?null:this.type===W._true,U.raw=this.type.keyword,this.next(),this.finishNode(U,"Literal");case W.parenL:var Qe=this.start,It=this.parseParenAndDistinguishExpression(q,T);return _&&(_.parenthesizedAssign<0&&!this.isSimpleAssignTarget(It)&&(_.parenthesizedAssign=Qe),_.parenthesizedBind<0&&(_.parenthesizedBind=Qe)),It;case W.bracketL:return U=this.startNode(),this.next(),U.elements=this.parseExprList(W.bracketR,!0,!0,_),this.finishNode(U,"ArrayExpression");case W.braceL:return this.overrideContext(v.b_expr),this.parseObj(!1,_);case W._function:return U=this.startNode(),this.next(),this.parseFunction(U,0);case W._class:return this.parseClass(this.startNode(),!1);case W._new:return this.parseNew();case W.backQuote:return this.parseTemplate();case W._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},w.parseExprImport=function(){var _=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var T=this.parseIdent(!0);switch(this.type){case W.parenL:return this.parseDynamicImport(_);case W.dot:return _.meta=T,this.parseImportMeta(_);default:this.unexpected()}},w.parseDynamicImport=function(_){if(this.next(),_.source=this.parseMaybeAssign(),!this.eat(W.parenR)){var T=this.start;this.eat(W.comma)&&this.eat(W.parenR)?this.raiseRecoverable(T,"Trailing comma is not allowed in import()"):this.unexpected(T)}return this.finishNode(_,"ImportExpression")},w.parseImportMeta=function(_){this.next();var T=this.containsEsc;return _.property=this.parseIdent(!0),"meta"!==_.property.name&&this.raiseRecoverable(_.property.start,"The only valid meta property for import is 'import.meta'"),T&&this.raiseRecoverable(_.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(_.start,"Cannot use 'import.meta' outside a module"),this.finishNode(_,"MetaProperty")},w.parseLiteral=function(_){var T=this.startNode();return T.value=_,T.raw=this.input.slice(this.start,this.end),110===T.raw.charCodeAt(T.raw.length-1)&&(T.bigint=T.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(T,"Literal")},w.parseParenExpression=function(){this.expect(W.parenL);var _=this.parseExpression();return this.expect(W.parenR),_},w.parseParenAndDistinguishExpression=function(_,T){var Q,U=this.start,q=this.startLoc,de=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Wn,me=this.start,Ae=this.startLoc,Ve=[],Qe=!0,It=!1,pn=new en,oi=this.yieldPos,gn=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==W.parenR;){if(Qe?Qe=!1:this.expect(W.comma),de&&this.afterTrailingComma(W.parenR,!0)){It=!0;break}if(this.type===W.ellipsis){Wn=this.start,Ve.push(this.parseParenItem(this.parseRestBinding())),this.type===W.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}Ve.push(this.parseMaybeAssign(!1,pn,this.parseParenItem))}var pi=this.lastTokEnd,Xn=this.lastTokEndLoc;if(this.expect(W.parenR),_&&!this.canInsertSemicolon()&&this.eat(W.arrow))return this.checkPatternErrors(pn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=oi,this.awaitPos=gn,this.parseParenArrowList(U,q,Ve,T);(!Ve.length||It)&&this.unexpected(this.lastTokStart),Wn&&this.unexpected(Wn),this.checkExpressionErrors(pn,!0),this.yieldPos=oi||this.yieldPos,this.awaitPos=gn||this.awaitPos,Ve.length>1?((Q=this.startNodeAt(me,Ae)).expressions=Ve,this.finishNodeAt(Q,"SequenceExpression",pi,Xn)):Q=Ve[0]}else Q=this.parseParenExpression();if(this.options.preserveParens){var Si=this.startNodeAt(U,q);return Si.expression=Q,this.finishNode(Si,"ParenthesizedExpression")}return Q},w.parseParenItem=function(_){return _},w.parseParenArrowList=function(_,T,U,q){return this.parseArrowExpression(this.startNodeAt(_,T),U,!1,q)};var D=[];w.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var _=this.startNode(),T=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(W.dot)){_.meta=T;var U=this.containsEsc;return _.property=this.parseIdent(!0),"target"!==_.property.name&&this.raiseRecoverable(_.property.start,"The only valid meta property for new is 'new.target'"),U&&this.raiseRecoverable(_.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(_.start,"'new.target' can only be used in functions and class static block"),this.finishNode(_,"MetaProperty")}var q=this.start,Q=this.startLoc,de=this.type===W._import;return _.callee=this.parseSubscripts(this.parseExprAtom(),q,Q,!0,!1),de&&"ImportExpression"===_.callee.type&&this.raise(q,"Cannot use new with import()"),_.arguments=this.eat(W.parenL)?this.parseExprList(W.parenR,this.options.ecmaVersion>=8,!1):D,this.finishNode(_,"NewExpression")},w.parseTemplateElement=function(_){var T=_.isTagged,U=this.startNode();return this.type===W.invalidTemplate?(T||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),U.value={raw:this.value,cooked:null}):U.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),U.tail=this.type===W.backQuote,this.finishNode(U,"TemplateElement")},w.parseTemplate=function(_){void 0===_&&(_={});var T=_.isTagged;void 0===T&&(T=!1);var U=this.startNode();this.next(),U.expressions=[];var q=this.parseTemplateElement({isTagged:T});for(U.quasis=[q];!q.tail;)this.type===W.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(W.dollarBraceL),U.expressions.push(this.parseExpression()),this.expect(W.braceR),U.quasis.push(q=this.parseTemplateElement({isTagged:T}));return this.next(),this.finishNode(U,"TemplateLiteral")},w.isAsyncProp=function(_){return!_.computed&&"Identifier"===_.key.type&&"async"===_.key.name&&(this.type===W.name||this.type===W.num||this.type===W.string||this.type===W.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===W.star)&&!Ke.test(this.input.slice(this.lastTokEnd,this.start))},w.parseObj=function(_,T){var U=this.startNode(),q=!0,Q={};for(U.properties=[],this.next();!this.eat(W.braceR);){if(q)q=!1;else if(this.expect(W.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(W.braceR))break;var de=this.parseProperty(_,T);_||this.checkPropClash(de,Q,T),U.properties.push(de)}return this.finishNode(U,_?"ObjectPattern":"ObjectExpression")},w.parseProperty=function(_,T){var q,Q,de,me,U=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(W.ellipsis))return _?(U.argument=this.parseIdent(!1),this.type===W.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(U,"RestElement")):(U.argument=this.parseMaybeAssign(!1,T),this.type===W.comma&&T&&T.trailingComma<0&&(T.trailingComma=this.start),this.finishNode(U,"SpreadElement"));this.options.ecmaVersion>=6&&(U.method=!1,U.shorthand=!1,(_||T)&&(de=this.start,me=this.startLoc),_||(q=this.eat(W.star)));var Ae=this.containsEsc;return this.parsePropertyName(U),!_&&!Ae&&this.options.ecmaVersion>=8&&!q&&this.isAsyncProp(U)?(Q=!0,q=this.options.ecmaVersion>=9&&this.eat(W.star),this.parsePropertyName(U)):Q=!1,this.parsePropertyValue(U,_,q,Q,de,me,T,Ae),this.finishNode(U,"Property")},w.parsePropertyValue=function(_,T,U,q,Q,de,me,Ae){if((U||q)&&this.type===W.colon&&this.unexpected(),this.eat(W.colon))_.value=T?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,me),_.kind="init";else if(this.options.ecmaVersion>=6&&this.type===W.parenL)T&&this.unexpected(),_.kind="init",_.method=!0,_.value=this.parseMethod(U,q);else if(T||Ae||!(this.options.ecmaVersion>=5)||_.computed||"Identifier"!==_.key.type||"get"!==_.key.name&&"set"!==_.key.name||this.type===W.comma||this.type===W.braceR||this.type===W.eq)this.options.ecmaVersion>=6&&!_.computed&&"Identifier"===_.key.type?((U||q)&&this.unexpected(),this.checkUnreserved(_.key),"await"===_.key.name&&!this.awaitIdentPos&&(this.awaitIdentPos=Q),_.kind="init",T?_.value=this.parseMaybeDefault(Q,de,this.copyNode(_.key)):this.type===W.eq&&me?(me.shorthandAssign<0&&(me.shorthandAssign=this.start),_.value=this.parseMaybeDefault(Q,de,this.copyNode(_.key))):_.value=this.copyNode(_.key),_.shorthand=!0):this.unexpected();else if((U||q)&&this.unexpected(),_.kind=_.key.name,this.parsePropertyName(_),_.value=this.parseMethod(!1),_.value.params.length!==("get"===_.kind?0:1)){this.raiseRecoverable(_.value.start,"get"===_.kind?"getter should have no params":"setter should have exactly one param")}else"set"===_.kind&&"RestElement"===_.value.params[0].type&&this.raiseRecoverable(_.value.params[0].start,"Setter cannot use rest params")},w.parsePropertyName=function(_){if(this.options.ecmaVersion>=6){if(this.eat(W.bracketL))return _.computed=!0,_.key=this.parseMaybeAssign(),this.expect(W.bracketR),_.key;_.computed=!1}return _.key=this.type===W.num||this.type===W.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},w.initFunction=function(_){_.id=null,this.options.ecmaVersion>=6&&(_.generator=_.expression=!1),this.options.ecmaVersion>=8&&(_.async=!1)},w.parseMethod=function(_,T,U){var q=this.startNode(),Q=this.yieldPos,de=this.awaitPos,me=this.awaitIdentPos;return this.initFunction(q),this.options.ecmaVersion>=6&&(q.generator=_),this.options.ecmaVersion>=8&&(q.async=!!T),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|tr(T,q.generator)|(U?128:0)),this.expect(W.parenL),q.params=this.parseBindingList(W.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(q,!1,!0,!1),this.yieldPos=Q,this.awaitPos=de,this.awaitIdentPos=me,this.finishNode(q,"FunctionExpression")},w.parseArrowExpression=function(_,T,U,q){var Q=this.yieldPos,de=this.awaitPos,me=this.awaitIdentPos;return this.enterScope(16|tr(U,!1)),this.initFunction(_),this.options.ecmaVersion>=8&&(_.async=!!U),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,_.params=this.toAssignableList(T,!0),this.parseFunctionBody(_,!0,!1,q),this.yieldPos=Q,this.awaitPos=de,this.awaitIdentPos=me,this.finishNode(_,"ArrowFunctionExpression")},w.parseFunctionBody=function(_,T,U,q){var de=this.strict,me=!1;if(T&&this.type!==W.braceL)_.body=this.parseMaybeAssign(q),_.expression=!0,this.checkParams(_,!1);else{var Ae=this.options.ecmaVersion>=7&&!this.isSimpleParamList(_.params);(!de||Ae)&&(me=this.strictDirective(this.end))&&Ae&&this.raiseRecoverable(_.start,"Illegal 'use strict' directive in function with non-simple parameter list");var Ve=this.labels;this.labels=[],me&&(this.strict=!0),this.checkParams(_,!de&&!me&&!T&&!U&&this.isSimpleParamList(_.params)),this.strict&&_.id&&this.checkLValSimple(_.id,5),_.body=this.parseBlock(!1,void 0,me&&!de),_.expression=!1,this.adaptDirectivePrologue(_.body.body),this.labels=Ve}this.exitScope()},w.isSimpleParamList=function(_){for(var T=0,U=_;T<U.length;T+=1)if("Identifier"!==U[T].type)return!1;return!0},w.checkParams=function(_,T){for(var U=Object.create(null),q=0,Q=_.params;q<Q.length;q+=1)this.checkLValInnerPattern(Q[q],1,T?null:U)},w.parseExprList=function(_,T,U,q){for(var Q=[],de=!0;!this.eat(_);){if(de)de=!1;else if(this.expect(W.comma),T&&this.afterTrailingComma(_))break;var me=void 0;U&&this.type===W.comma?me=null:this.type===W.ellipsis?(me=this.parseSpread(q),q&&this.type===W.comma&&q.trailingComma<0&&(q.trailingComma=this.start)):me=this.parseMaybeAssign(!1,q),Q.push(me)}return Q},w.checkUnreserved=function(_){var T=_.start,U=_.end,q=_.name;this.inGenerator&&"yield"===q&&this.raiseRecoverable(T,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===q&&this.raiseRecoverable(T,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===q&&this.raiseRecoverable(T,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===q||"await"===q)&&this.raise(T,"Cannot use "+q+" in class static initialization block"),this.keywords.test(q)&&this.raise(T,"Unexpected keyword '"+q+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(T,U).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(q)&&(!this.inAsync&&"await"===q&&this.raiseRecoverable(T,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(T,"The keyword '"+q+"' is reserved"))},w.parseIdent=function(_){var T=this.startNode();return this.type===W.name?T.name=this.value:this.type.keyword?(T.name=this.type.keyword,("class"===T.name||"function"===T.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop()):this.unexpected(),this.next(!!_),this.finishNode(T,"Identifier"),_||(this.checkUnreserved(T),"await"===T.name&&!this.awaitIdentPos&&(this.awaitIdentPos=T.start)),T},w.parsePrivateIdent=function(){var _=this.startNode();return this.type===W.privateId?_.name=this.value:this.unexpected(),this.next(),this.finishNode(_,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(_.start,"Private field '#"+_.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(_),_},w.parseYield=function(_){this.yieldPos||(this.yieldPos=this.start);var T=this.startNode();return this.next(),this.type===W.semi||this.canInsertSemicolon()||this.type!==W.star&&!this.type.startsExpr?(T.delegate=!1,T.argument=null):(T.delegate=this.eat(W.star),T.argument=this.parseMaybeAssign(_)),this.finishNode(T,"YieldExpression")},w.parseAwait=function(_){this.awaitPos||(this.awaitPos=this.start);var T=this.startNode();return this.next(),T.argument=this.parseMaybeUnary(null,!0,!1,_),this.finishNode(T,"AwaitExpression")};var k=an.prototype;k.raise=function(_,T){var U=In(this.input,_),q=new SyntaxError(T+=" ("+U.line+":"+U.column+")");throw q.pos=_,q.loc=U,q.raisedAt=this.pos,q},k.raiseRecoverable=k.raise,k.curPosition=function(){if(this.options.locations)return new ke(this.curLine,this.pos-this.lineStart)};var P=an.prototype,A=function(T){this.flags=T,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};P.enterScope=function(_){this.scopeStack.push(new A(_))},P.exitScope=function(){this.scopeStack.pop()},P.treatFunctionsAsVarInScope=function(_){return _.flags&fi||!this.inModule&&1&_.flags},P.declareName=function(_,T,U){var q=!1;if(2===T){var Q=this.currentScope();q=Q.lexical.indexOf(_)>-1||Q.functions.indexOf(_)>-1||Q.var.indexOf(_)>-1,Q.lexical.push(_),this.inModule&&1&Q.flags&&delete this.undefinedExports[_]}else if(4===T)this.currentScope().lexical.push(_);else if(3===T){var me=this.currentScope();q=this.treatFunctionsAsVar?me.lexical.indexOf(_)>-1:me.lexical.indexOf(_)>-1||me.var.indexOf(_)>-1,me.functions.push(_)}else for(var Ae=this.scopeStack.length-1;Ae>=0;--Ae){var Ve=this.scopeStack[Ae];if(Ve.lexical.indexOf(_)>-1&&!(32&Ve.flags&&Ve.lexical[0]===_)||!this.treatFunctionsAsVarInScope(Ve)&&Ve.functions.indexOf(_)>-1){q=!0;break}if(Ve.var.push(_),this.inModule&&1&Ve.flags&&delete this.undefinedExports[_],Ve.flags&nn)break}q&&this.raiseRecoverable(U,"Identifier '"+_+"' has already been declared")},P.checkLocalExport=function(_){-1===this.scopeStack[0].lexical.indexOf(_.name)&&-1===this.scopeStack[0].var.indexOf(_.name)&&(this.undefinedExports[_.name]=_)},P.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},P.currentVarScope=function(){for(var _=this.scopeStack.length-1;;_--){var T=this.scopeStack[_];if(T.flags&nn)return T}},P.currentThisScope=function(){for(var _=this.scopeStack.length-1;;_--){var T=this.scopeStack[_];if(T.flags&nn&&!(16&T.flags))return T}};var I=function(T,U,q){this.type="",this.start=U,this.end=0,T.options.locations&&(this.loc=new Te(T,q)),T.options.directSourceFile&&(this.sourceFile=T.options.directSourceFile),T.options.ranges&&(this.range=[U,0])},x=an.prototype;function S(_,T,U,q){return _.type=T,_.end=U,this.options.locations&&(_.loc.end=q),this.options.ranges&&(_.range[1]=U),_}x.startNode=function(){return new I(this,this.start,this.startLoc)},x.startNodeAt=function(_,T){return new I(this,_,T)},x.finishNode=function(_,T){return S.call(this,_,T,this.lastTokEnd,this.lastTokEndLoc)},x.finishNodeAt=function(_,T,U,q){return S.call(this,_,T,U,q)},x.copyNode=function(_){var T=new I(this,_.start,this.startLoc);for(var U in _)T[U]=_[U];return T};var _,T,E="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",R=E+" Extended_Pictographic",O=R+" EBase EComp EMod EPres ExtPict",z={9:E,10:R,11:R,12:O,13:O,14:O},G="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",j="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",H=j+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",$=H+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",K=$+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Y=K+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",oe={9:j,10:H,11:$,12:K,13:Y,14:Y+" Kawi Nag_Mundari Nagm"},he={};for(var _e=0,le=[9,10,11,12,13,14];_e<le.length;_e+=1)T=void 0,(T=he[_=le[_e]]={binary:tn(z[_]+" "+G),nonBinary:{General_Category:tn(G),Script:tn(oe[_])}}).nonBinary.Script_Extensions=T.nonBinary.Script,T.nonBinary.gc=T.nonBinary.General_Category,T.nonBinary.sc=T.nonBinary.Script,T.nonBinary.scx=T.nonBinary.Script_Extensions;var ue=an.prototype,ve=function(T){this.parser=T,this.validFlags="gim"+(T.options.ecmaVersion>=6?"uy":"")+(T.options.ecmaVersion>=9?"s":"")+(T.options.ecmaVersion>=13?"d":""),this.unicodeProperties=he[T.options.ecmaVersion>=14?14:T.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Ce(_){return 36===_||_>=40&&_<=43||46===_||63===_||_>=91&&_<=94||_>=123&&_<=125}function Fe(_){return _>=65&&_<=90||_>=97&&_<=122}function Pt(_){return Fe(_)||95===_}function nt(_){return Pt(_)||Dt(_)}function Dt(_){return _>=48&&_<=57}function lt(_){return _>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102}function rt(_){return _>=65&&_<=70?_-65+10:_>=97&&_<=102?_-97+10:_-48}function Ye(_){return _>=48&&_<=55}ve.prototype.reset=function(T,U,q){var Q=-1!==q.indexOf("u");this.start=0|T,this.source=U+"",this.flags=q,this.switchU=Q&&this.parser.options.ecmaVersion>=6,this.switchN=Q&&this.parser.options.ecmaVersion>=9},ve.prototype.raise=function(T){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+T)},ve.prototype.at=function(T,U){void 0===U&&(U=!1);var q=this.source,Q=q.length;if(T>=Q)return-1;var de=q.charCodeAt(T);if(!U&&!this.switchU||de<=55295||de>=57344||T+1>=Q)return de;var me=q.charCodeAt(T+1);return me>=56320&&me<=57343?(de<<10)+me-56613888:de},ve.prototype.nextIndex=function(T,U){void 0===U&&(U=!1);var q=this.source,Q=q.length;if(T>=Q)return Q;var me,de=q.charCodeAt(T);return!U&&!this.switchU||de<=55295||de>=57344||T+1>=Q||(me=q.charCodeAt(T+1))<56320||me>57343?T+1:T+2},ve.prototype.current=function(T){return void 0===T&&(T=!1),this.at(this.pos,T)},ve.prototype.lookahead=function(T){return void 0===T&&(T=!1),this.at(this.nextIndex(this.pos,T),T)},ve.prototype.advance=function(T){void 0===T&&(T=!1),this.pos=this.nextIndex(this.pos,T)},ve.prototype.eat=function(T,U){return void 0===U&&(U=!1),this.current(U)===T&&(this.advance(U),!0)},ue.validateRegExpFlags=function(_){for(var T=_.validFlags,U=_.flags,q=0;q<U.length;q++){var Q=U.charAt(q);-1===T.indexOf(Q)&&this.raise(_.start,"Invalid regular expression flag"),U.indexOf(Q,q+1)>-1&&this.raise(_.start,"Duplicate regular expression flag")}},ue.validateRegExpPattern=function(_){this.regexp_pattern(_),!_.switchN&&this.options.ecmaVersion>=9&&_.groupNames.length>0&&(_.switchN=!0,this.regexp_pattern(_))},ue.regexp_pattern=function(_){_.pos=0,_.lastIntValue=0,_.lastStringValue="",_.lastAssertionIsQuantifiable=!1,_.numCapturingParens=0,_.maxBackReference=0,_.groupNames.length=0,_.backReferenceNames.length=0,this.regexp_disjunction(_),_.pos!==_.source.length&&(_.eat(41)&&_.raise("Unmatched ')'"),(_.eat(93)||_.eat(125))&&_.raise("Lone quantifier brackets")),_.maxBackReference>_.numCapturingParens&&_.raise("Invalid escape");for(var T=0,U=_.backReferenceNames;T<U.length;T+=1)-1===_.groupNames.indexOf(U[T])&&_.raise("Invalid named capture referenced")},ue.regexp_disjunction=function(_){for(this.regexp_alternative(_);_.eat(124);)this.regexp_alternative(_);this.regexp_eatQuantifier(_,!0)&&_.raise("Nothing to repeat"),_.eat(123)&&_.raise("Lone quantifier brackets")},ue.regexp_alternative=function(_){for(;_.pos<_.source.length&&this.regexp_eatTerm(_););},ue.regexp_eatTerm=function(_){return this.regexp_eatAssertion(_)?(_.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(_)&&_.switchU&&_.raise("Invalid quantifier"),!0):!!(_.switchU?this.regexp_eatAtom(_):this.regexp_eatExtendedAtom(_))&&(this.regexp_eatQuantifier(_),!0)},ue.regexp_eatAssertion=function(_){var T=_.pos;if(_.lastAssertionIsQuantifiable=!1,_.eat(94)||_.eat(36))return!0;if(_.eat(92)){if(_.eat(66)||_.eat(98))return!0;_.pos=T}if(_.eat(40)&&_.eat(63)){var U=!1;if(this.options.ecmaVersion>=9&&(U=_.eat(60)),_.eat(61)||_.eat(33))return this.regexp_disjunction(_),_.eat(41)||_.raise("Unterminated group"),_.lastAssertionIsQuantifiable=!U,!0}return _.pos=T,!1},ue.regexp_eatQuantifier=function(_,T){return void 0===T&&(T=!1),!!this.regexp_eatQuantifierPrefix(_,T)&&(_.eat(63),!0)},ue.regexp_eatQuantifierPrefix=function(_,T){return _.eat(42)||_.eat(43)||_.eat(63)||this.regexp_eatBracedQuantifier(_,T)},ue.regexp_eatBracedQuantifier=function(_,T){var U=_.pos;if(_.eat(123)){var q=0,Q=-1;if(this.regexp_eatDecimalDigits(_)&&(q=_.lastIntValue,_.eat(44)&&this.regexp_eatDecimalDigits(_)&&(Q=_.lastIntValue),_.eat(125)))return-1!==Q&&Q<q&&!T&&_.raise("numbers out of order in {} quantifier"),!0;_.switchU&&!T&&_.raise("Incomplete quantifier"),_.pos=U}return!1},ue.regexp_eatAtom=function(_){return this.regexp_eatPatternCharacters(_)||_.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_)||this.regexp_eatCharacterClass(_)||this.regexp_eatUncapturingGroup(_)||this.regexp_eatCapturingGroup(_)},ue.regexp_eatReverseSolidusAtomEscape=function(_){var T=_.pos;if(_.eat(92)){if(this.regexp_eatAtomEscape(_))return!0;_.pos=T}return!1},ue.regexp_eatUncapturingGroup=function(_){var T=_.pos;if(_.eat(40)){if(_.eat(63)&&_.eat(58)){if(this.regexp_disjunction(_),_.eat(41))return!0;_.raise("Unterminated group")}_.pos=T}return!1},ue.regexp_eatCapturingGroup=function(_){if(_.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(_):63===_.current()&&_.raise("Invalid group"),this.regexp_disjunction(_),_.eat(41))return _.numCapturingParens+=1,!0;_.raise("Unterminated group")}return!1},ue.regexp_eatExtendedAtom=function(_){return _.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_)||this.regexp_eatCharacterClass(_)||this.regexp_eatUncapturingGroup(_)||this.regexp_eatCapturingGroup(_)||this.regexp_eatInvalidBracedQuantifier(_)||this.regexp_eatExtendedPatternCharacter(_)},ue.regexp_eatInvalidBracedQuantifier=function(_){return this.regexp_eatBracedQuantifier(_,!0)&&_.raise("Nothing to repeat"),!1},ue.regexp_eatSyntaxCharacter=function(_){var T=_.current();return!!Ce(T)&&(_.lastIntValue=T,_.advance(),!0)},ue.regexp_eatPatternCharacters=function(_){for(var T=_.pos,U=0;-1!==(U=_.current())&&!Ce(U);)_.advance();return _.pos!==T},ue.regexp_eatExtendedPatternCharacter=function(_){var T=_.current();return!(-1===T||36===T||T>=40&&T<=43||46===T||63===T||91===T||94===T||124===T||(_.advance(),0))},ue.regexp_groupSpecifier=function(_){if(_.eat(63)){if(this.regexp_eatGroupName(_))return-1!==_.groupNames.indexOf(_.lastStringValue)&&_.raise("Duplicate capture group name"),void _.groupNames.push(_.lastStringValue);_.raise("Invalid group")}},ue.regexp_eatGroupName=function(_){if(_.lastStringValue="",_.eat(60)){if(this.regexp_eatRegExpIdentifierName(_)&&_.eat(62))return!0;_.raise("Invalid capture group name")}return!1},ue.regexp_eatRegExpIdentifierName=function(_){if(_.lastStringValue="",this.regexp_eatRegExpIdentifierStart(_)){for(_.lastStringValue+=Ne(_.lastIntValue);this.regexp_eatRegExpIdentifierPart(_);)_.lastStringValue+=Ne(_.lastIntValue);return!0}return!1},ue.regexp_eatRegExpIdentifierStart=function(_){var T=_.pos,U=this.options.ecmaVersion>=11,q=_.current(U);return _.advance(U),92===q&&this.regexp_eatRegExpUnicodeEscapeSequence(_,U)&&(q=_.lastIntValue),function Me(_){return Sn(_,!0)||36===_||95===_}(q)?(_.lastIntValue=q,!0):(_.pos=T,!1)},ue.regexp_eatRegExpIdentifierPart=function(_){var T=_.pos,U=this.options.ecmaVersion>=11,q=_.current(U);return _.advance(U),92===q&&this.regexp_eatRegExpUnicodeEscapeSequence(_,U)&&(q=_.lastIntValue),function Pe(_){return sn(_,!0)||36===_||95===_||8204===_||8205===_}(q)?(_.lastIntValue=q,!0):(_.pos=T,!1)},ue.regexp_eatAtomEscape=function(_){return!!(this.regexp_eatBackReference(_)||this.regexp_eatCharacterClassEscape(_)||this.regexp_eatCharacterEscape(_)||_.switchN&&this.regexp_eatKGroupName(_))||(_.switchU&&(99===_.current()&&_.raise("Invalid unicode escape"),_.raise("Invalid escape")),!1)},ue.regexp_eatBackReference=function(_){var T=_.pos;if(this.regexp_eatDecimalEscape(_)){var U=_.lastIntValue;if(_.switchU)return U>_.maxBackReference&&(_.maxBackReference=U),!0;if(U<=_.numCapturingParens)return!0;_.pos=T}return!1},ue.regexp_eatKGroupName=function(_){if(_.eat(107)){if(this.regexp_eatGroupName(_))return _.backReferenceNames.push(_.lastStringValue),!0;_.raise("Invalid named reference")}return!1},ue.regexp_eatCharacterEscape=function(_){return this.regexp_eatControlEscape(_)||this.regexp_eatCControlLetter(_)||this.regexp_eatZero(_)||this.regexp_eatHexEscapeSequence(_)||this.regexp_eatRegExpUnicodeEscapeSequence(_,!1)||!_.switchU&&this.regexp_eatLegacyOctalEscapeSequence(_)||this.regexp_eatIdentityEscape(_)},ue.regexp_eatCControlLetter=function(_){var T=_.pos;if(_.eat(99)){if(this.regexp_eatControlLetter(_))return!0;_.pos=T}return!1},ue.regexp_eatZero=function(_){return 48===_.current()&&!Dt(_.lookahead())&&(_.lastIntValue=0,_.advance(),!0)},ue.regexp_eatControlEscape=function(_){var T=_.current();return 116===T?(_.lastIntValue=9,_.advance(),!0):110===T?(_.lastIntValue=10,_.advance(),!0):118===T?(_.lastIntValue=11,_.advance(),!0):102===T?(_.lastIntValue=12,_.advance(),!0):114===T&&(_.lastIntValue=13,_.advance(),!0)},ue.regexp_eatControlLetter=function(_){var T=_.current();return!!Fe(T)&&(_.lastIntValue=T%32,_.advance(),!0)},ue.regexp_eatRegExpUnicodeEscapeSequence=function(_,T){void 0===T&&(T=!1);var U=_.pos,q=T||_.switchU;if(_.eat(117)){if(this.regexp_eatFixedHexDigits(_,4)){var Q=_.lastIntValue;if(q&&Q>=55296&&Q<=56319){var de=_.pos;if(_.eat(92)&&_.eat(117)&&this.regexp_eatFixedHexDigits(_,4)){var me=_.lastIntValue;if(me>=56320&&me<=57343)return _.lastIntValue=1024*(Q-55296)+(me-56320)+65536,!0}_.pos=de,_.lastIntValue=Q}return!0}if(q&&_.eat(123)&&this.regexp_eatHexDigits(_)&&_.eat(125)&&function Be(_){return _>=0&&_<=1114111}(_.lastIntValue))return!0;q&&_.raise("Invalid unicode escape"),_.pos=U}return!1},ue.regexp_eatIdentityEscape=function(_){if(_.switchU)return!!this.regexp_eatSyntaxCharacter(_)||!!_.eat(47)&&(_.lastIntValue=47,!0);var T=_.current();return!(99===T||_.switchN&&107===T||(_.lastIntValue=T,_.advance(),0))},ue.regexp_eatDecimalEscape=function(_){_.lastIntValue=0;var T=_.current();if(T>=49&&T<=57){do{_.lastIntValue=10*_.lastIntValue+(T-48),_.advance()}while((T=_.current())>=48&&T<=57);return!0}return!1},ue.regexp_eatCharacterClassEscape=function(_){var T=_.current();if(function We(_){return 100===_||68===_||115===_||83===_||119===_||87===_}(T))return _.lastIntValue=-1,_.advance(),!0;if(_.switchU&&this.options.ecmaVersion>=9&&(80===T||112===T)){if(_.lastIntValue=-1,_.advance(),_.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(_)&&_.eat(125))return!0;_.raise("Invalid property name")}return!1},ue.regexp_eatUnicodePropertyValueExpression=function(_){var T=_.pos;if(this.regexp_eatUnicodePropertyName(_)&&_.eat(61)){var U=_.lastStringValue;if(this.regexp_eatUnicodePropertyValue(_))return this.regexp_validateUnicodePropertyNameAndValue(_,U,_.lastStringValue),!0}return _.pos=T,!!this.regexp_eatLoneUnicodePropertyNameOrValue(_)&&(this.regexp_validateUnicodePropertyNameOrValue(_,_.lastStringValue),!0)},ue.regexp_validateUnicodePropertyNameAndValue=function(_,T,U){Dn(_.unicodeProperties.nonBinary,T)||_.raise("Invalid property name"),_.unicodeProperties.nonBinary[T].test(U)||_.raise("Invalid property value")},ue.regexp_validateUnicodePropertyNameOrValue=function(_,T){_.unicodeProperties.binary.test(T)||_.raise("Invalid property name")},ue.regexp_eatUnicodePropertyName=function(_){var T=0;for(_.lastStringValue="";Pt(T=_.current());)_.lastStringValue+=Ne(T),_.advance();return""!==_.lastStringValue},ue.regexp_eatUnicodePropertyValue=function(_){var T=0;for(_.lastStringValue="";nt(T=_.current());)_.lastStringValue+=Ne(T),_.advance();return""!==_.lastStringValue},ue.regexp_eatLoneUnicodePropertyNameOrValue=function(_){return this.regexp_eatUnicodePropertyValue(_)},ue.regexp_eatCharacterClass=function(_){if(_.eat(91)){if(_.eat(94),this.regexp_classRanges(_),_.eat(93))return!0;_.raise("Unterminated character class")}return!1},ue.regexp_classRanges=function(_){for(;this.regexp_eatClassAtom(_);){var T=_.lastIntValue;if(_.eat(45)&&this.regexp_eatClassAtom(_)){var U=_.lastIntValue;_.switchU&&(-1===T||-1===U)&&_.raise("Invalid character class"),-1!==T&&-1!==U&&T>U&&_.raise("Range out of order in character class")}}},ue.regexp_eatClassAtom=function(_){var T=_.pos;if(_.eat(92)){if(this.regexp_eatClassEscape(_))return!0;if(_.switchU){var U=_.current();(99===U||Ye(U))&&_.raise("Invalid class escape"),_.raise("Invalid escape")}_.pos=T}var q=_.current();return 93!==q&&(_.lastIntValue=q,_.advance(),!0)},ue.regexp_eatClassEscape=function(_){var T=_.pos;if(_.eat(98))return _.lastIntValue=8,!0;if(_.switchU&&_.eat(45))return _.lastIntValue=45,!0;if(!_.switchU&&_.eat(99)){if(this.regexp_eatClassControlLetter(_))return!0;_.pos=T}return this.regexp_eatCharacterClassEscape(_)||this.regexp_eatCharacterEscape(_)},ue.regexp_eatClassControlLetter=function(_){var T=_.current();return!(!Dt(T)&&95!==T||(_.lastIntValue=T%32,_.advance(),0))},ue.regexp_eatHexEscapeSequence=function(_){var T=_.pos;if(_.eat(120)){if(this.regexp_eatFixedHexDigits(_,2))return!0;_.switchU&&_.raise("Invalid escape"),_.pos=T}return!1},ue.regexp_eatDecimalDigits=function(_){var T=_.pos,U=0;for(_.lastIntValue=0;Dt(U=_.current());)_.lastIntValue=10*_.lastIntValue+(U-48),_.advance();return _.pos!==T},ue.regexp_eatHexDigits=function(_){var T=_.pos,U=0;for(_.lastIntValue=0;lt(U=_.current());)_.lastIntValue=16*_.lastIntValue+rt(U),_.advance();return _.pos!==T},ue.regexp_eatLegacyOctalEscapeSequence=function(_){if(this.regexp_eatOctalDigit(_)){var T=_.lastIntValue;if(this.regexp_eatOctalDigit(_)){var U=_.lastIntValue;_.lastIntValue=T<=3&&this.regexp_eatOctalDigit(_)?64*T+8*U+_.lastIntValue:8*T+U}else _.lastIntValue=T;return!0}return!1},ue.regexp_eatOctalDigit=function(_){var T=_.current();return Ye(T)?(_.lastIntValue=T-48,_.advance(),!0):(_.lastIntValue=0,!1)},ue.regexp_eatFixedHexDigits=function(_,T){var U=_.pos;_.lastIntValue=0;for(var q=0;q<T;++q){var Q=_.current();if(!lt(Q))return _.pos=U,!1;_.lastIntValue=16*_.lastIntValue+rt(Q),_.advance()}return!0};var Rt=function(T){this.type=T.type,this.value=T.value,this.start=T.start,this.end=T.end,T.options.locations&&(this.loc=new Te(T,T.startLoc,T.endLoc)),T.options.ranges&&(this.range=[T.start,T.end])},Oe=an.prototype;function Pn(_){return"function"!=typeof BigInt?null:BigInt(_.replace(/_/g,""))}Oe.next=function(_){!_&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Rt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Oe.getToken=function(){return this.next(),new Rt(this)},typeof Symbol<"u"&&(Oe[Symbol.iterator]=function(){var _=this;return{next:function(){var T=_.getToken();return{done:T.type===W.eof,value:T}}}}),Oe.nextToken=function(){var _=this.curContext();return(!_||!_.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(W.eof):_.override?_.override(this):void this.readToken(this.fullCharCodeAtPos())},Oe.readToken=function(_){return Sn(_,this.options.ecmaVersion>=6)||92===_?this.readWord():this.getTokenFromCode(_)},Oe.fullCharCodeAtPos=function(){var _=this.input.charCodeAt(this.pos);if(_<=55295||_>=56320)return _;var T=this.input.charCodeAt(this.pos+1);return T<=56319||T>=57344?_:(_<<10)+T-56613888},Oe.skipBlockComment=function(){var _=this.options.onComment&&this.curPosition(),T=this.pos,U=this.input.indexOf("*/",this.pos+=2);if(-1===U&&this.raise(this.pos-2,"Unterminated comment"),this.pos=U+2,this.options.locations)for(var q=void 0,Q=T;(q=Xt(this.input,Q,this.pos))>-1;)++this.curLine,Q=this.lineStart=q;this.options.onComment&&this.options.onComment(!0,this.input.slice(T+2,U),T,this.pos,_,this.curPosition())},Oe.skipLineComment=function(_){for(var T=this.pos,U=this.options.onComment&&this.curPosition(),q=this.input.charCodeAt(this.pos+=_);this.pos<this.input.length&&!ot(q);)q=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(T+_,this.pos),T,this.pos,U,this.curPosition())},Oe.skipSpace=function(){e:for(;this.pos<this.input.length;){var _=this.input.charCodeAt(this.pos);switch(_){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(_>8&&_<14||_>=5760&&tt.test(String.fromCharCode(_))))break e;++this.pos}}},Oe.finishToken=function(_,T){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var U=this.type;this.type=_,this.value=T,this.updateContext(U)},Oe.readToken_dot=function(){var _=this.input.charCodeAt(this.pos+1);if(_>=48&&_<=57)return this.readNumber(!0);var T=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===_&&46===T?(this.pos+=3,this.finishToken(W.ellipsis)):(++this.pos,this.finishToken(W.dot))},Oe.readToken_slash=function(){var _=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===_?this.finishOp(W.assign,2):this.finishOp(W.slash,1)},Oe.readToken_mult_modulo_exp=function(_){var T=this.input.charCodeAt(this.pos+1),U=1,q=42===_?W.star:W.modulo;return this.options.ecmaVersion>=7&&42===_&&42===T&&(++U,q=W.starstar,T=this.input.charCodeAt(this.pos+2)),61===T?this.finishOp(W.assign,U+1):this.finishOp(q,U)},Oe.readToken_pipe_amp=function(_){var T=this.input.charCodeAt(this.pos+1);return T===_?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(W.assign,3):this.finishOp(124===_?W.logicalOR:W.logicalAND,2):61===T?this.finishOp(W.assign,2):this.finishOp(124===_?W.bitwiseOR:W.bitwiseAND,1)},Oe.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(W.assign,2):this.finishOp(W.bitwiseXOR,1)},Oe.readToken_plus_min=function(_){var T=this.input.charCodeAt(this.pos+1);return T===_?45!==T||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!Ke.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(W.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===T?this.finishOp(W.assign,2):this.finishOp(W.plusMin,1)},Oe.readToken_lt_gt=function(_){var T=this.input.charCodeAt(this.pos+1),U=1;return T===_?(U=62===_&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+U)?this.finishOp(W.assign,U+1):this.finishOp(W.bitShift,U)):33!==T||60!==_||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===T&&(U=2),this.finishOp(W.relational,U)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Oe.readToken_eq_excl=function(_){var T=this.input.charCodeAt(this.pos+1);return 61===T?this.finishOp(W.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===_&&62===T&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(W.arrow)):this.finishOp(61===_?W.eq:W.prefix,1)},Oe.readToken_question=function(){var _=this.options.ecmaVersion;if(_>=11){var T=this.input.charCodeAt(this.pos+1);if(46===T){var U=this.input.charCodeAt(this.pos+2);if(U<48||U>57)return this.finishOp(W.questionDot,2)}if(63===T)return _>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(W.assign,3):this.finishOp(W.coalesce,2)}return this.finishOp(W.question,1)},Oe.readToken_numberSign=function(){var T=35;if(this.options.ecmaVersion>=13&&(++this.pos,Sn(T=this.fullCharCodeAtPos(),!0)||92===T))return this.finishToken(W.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ne(T)+"'")},Oe.getTokenFromCode=function(_){switch(_){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(W.parenL);case 41:return++this.pos,this.finishToken(W.parenR);case 59:return++this.pos,this.finishToken(W.semi);case 44:return++this.pos,this.finishToken(W.comma);case 91:return++this.pos,this.finishToken(W.bracketL);case 93:return++this.pos,this.finishToken(W.bracketR);case 123:return++this.pos,this.finishToken(W.braceL);case 125:return++this.pos,this.finishToken(W.braceR);case 58:return++this.pos,this.finishToken(W.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(W.backQuote);case 48:var T=this.input.charCodeAt(this.pos+1);if(120===T||88===T)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===T||79===T)return this.readRadixNumber(8);if(98===T||66===T)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(_);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(_);case 124:case 38:return this.readToken_pipe_amp(_);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(_);case 60:case 62:return this.readToken_lt_gt(_);case 61:case 33:return this.readToken_eq_excl(_);case 63:return this.readToken_question();case 126:return this.finishOp(W.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ne(_)+"'")},Oe.finishOp=function(_,T){var U=this.input.slice(this.pos,this.pos+T);return this.pos+=T,this.finishToken(_,U)},Oe.readRegexp=function(){for(var _,T,U=this.pos;;){this.pos>=this.input.length&&this.raise(U,"Unterminated regular expression");var q=this.input.charAt(this.pos);if(Ke.test(q)&&this.raise(U,"Unterminated regular expression"),_)_=!1;else{if("["===q)T=!0;else if("]"===q&&T)T=!1;else if("/"===q&&!T)break;_="\\"===q}++this.pos}var Q=this.input.slice(U,this.pos);++this.pos;var de=this.pos,me=this.readWord1();this.containsEsc&&this.unexpected(de);var Ae=this.regexpState||(this.regexpState=new ve(this));Ae.reset(U,Q,me),this.validateRegExpFlags(Ae),this.validateRegExpPattern(Ae);var Ve=null;try{Ve=new RegExp(Q,me)}catch{}return this.finishToken(W.regexp,{pattern:Q,flags:me,value:Ve})},Oe.readInt=function(_,T,U){for(var q=this.options.ecmaVersion>=12&&void 0===T,Q=U&&48===this.input.charCodeAt(this.pos),de=this.pos,me=0,Ae=0,Ve=0,Qe=T??1/0;Ve<Qe;++Ve,++this.pos){var It=this.input.charCodeAt(this.pos),pn=void 0;if(q&&95===It)Q&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===Ae&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===Ve&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Ae=It;else{if((pn=It>=97?It-97+10:It>=65?It-65+10:It>=48&&It<=57?It-48:1/0)>=_)break;Ae=It,me=me*_+pn}}return q&&95===Ae&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===de||null!=T&&this.pos-de!==T?null:me},Oe.readRadixNumber=function(_){var T=this.pos;this.pos+=2;var U=this.readInt(_);return null==U&&this.raise(this.start+2,"Expected number in radix "+_),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(U=Pn(this.input.slice(T,this.pos)),++this.pos):Sn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(W.num,U)},Oe.readNumber=function(_){var T=this.pos;!_&&null===this.readInt(10,void 0,!0)&&this.raise(T,"Invalid number");var U=this.pos-T>=2&&48===this.input.charCodeAt(T);U&&this.strict&&this.raise(T,"Invalid number");var q=this.input.charCodeAt(this.pos);if(!U&&!_&&this.options.ecmaVersion>=11&&110===q){var Q=Pn(this.input.slice(T,this.pos));return++this.pos,Sn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(W.num,Q)}U&&/[89]/.test(this.input.slice(T,this.pos))&&(U=!1),46===q&&!U&&(++this.pos,this.readInt(10),q=this.input.charCodeAt(this.pos)),(69===q||101===q)&&!U&&((43===(q=this.input.charCodeAt(++this.pos))||45===q)&&++this.pos,null===this.readInt(10)&&this.raise(T,"Invalid number")),Sn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var de=function wn(_,T){return T?parseInt(_,8):parseFloat(_.replace(/_/g,""))}(this.input.slice(T,this.pos),U);return this.finishToken(W.num,de)},Oe.readCodePoint=function(){var T;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var U=++this.pos;T=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,T>1114111&&this.invalidStringToken(U,"Code point out of bounds")}else T=this.readHexChar(4);return T},Oe.readString=function(_){for(var T="",U=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var q=this.input.charCodeAt(this.pos);if(q===_)break;92===q?(T+=this.input.slice(U,this.pos),T+=this.readEscapedChar(!1),U=this.pos):8232===q||8233===q?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ot(q)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return T+=this.input.slice(U,this.pos++),this.finishToken(W.string,T)};var ln={};Oe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(_){if(_!==ln)throw _;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Oe.invalidStringToken=function(_,T){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ln;this.raise(_,T)},Oe.readTmplToken=function(){for(var _="",T=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var U=this.input.charCodeAt(this.pos);if(96===U||36===U&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==W.template&&this.type!==W.invalidTemplate?(_+=this.input.slice(T,this.pos),this.finishToken(W.template,_)):36===U?(this.pos+=2,this.finishToken(W.dollarBraceL)):(++this.pos,this.finishToken(W.backQuote));if(92===U)_+=this.input.slice(T,this.pos),_+=this.readEscapedChar(!0),T=this.pos;else if(ot(U)){switch(_+=this.input.slice(T,this.pos),++this.pos,U){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:_+="\n";break;default:_+=String.fromCharCode(U)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),T=this.pos}else++this.pos}},Oe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(W.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Oe.readEscapedChar=function(_){var T=this.input.charCodeAt(++this.pos);switch(++this.pos,T){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ne(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),_&&this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string");default:if(T>=48&&T<=55){var q=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Q=parseInt(q,8);return Q>255&&(q=q.slice(0,-1),Q=parseInt(q,8)),this.pos+=q.length-1,T=this.input.charCodeAt(this.pos),("0"!==q||56===T||57===T)&&(this.strict||_)&&this.invalidStringToken(this.pos-1-q.length,_?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Q)}return ot(T)?"":String.fromCharCode(T)}},Oe.readHexChar=function(_){var T=this.pos,U=this.readInt(16,_);return null===U&&this.invalidStringToken(T,"Bad character escape sequence"),U},Oe.readWord1=function(){this.containsEsc=!1;for(var _="",T=!0,U=this.pos,q=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Q=this.fullCharCodeAtPos();if(sn(Q,q))this.pos+=Q<=65535?1:2;else{if(92!==Q)break;this.containsEsc=!0,_+=this.input.slice(U,this.pos);var de=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var me=this.readCodePoint();(T?Sn:sn)(me,q)||this.invalidStringToken(de,"Invalid Unicode escape"),_+=Ne(me),U=this.pos}T=!1}return _+this.input.slice(U,this.pos)},Oe.readWord=function(){var _=this.readWord1(),T=W.name;return this.keywords.test(_)&&(T=je[_]),this.finishToken(T,_)};an.acorn={Parser:an,version:"8.8.2",defaultOptions:it,Position:ke,SourceLocation:Te,getLineInfo:In,Node:I,TokenType:ze,tokTypes:W,keywordTypes:je,TokContext:m,tokContexts:v,isIdentifierChar:sn,isIdentifierStart:Sn,Token:Rt,isNewLine:ot,lineBreak:Ke,lineBreakG:Vt,nonASCIIwhitespace:tt},Bt.Node=I,Bt.Parser=an,Bt.Position=ke,Bt.SourceLocation=Te,Bt.TokContext=m,Bt.Token=Rt,Bt.TokenType=ze,Bt.defaultOptions=it,Bt.getLineInfo=In,Bt.isIdentifierChar=sn,Bt.isIdentifierStart=Sn,Bt.isNewLine=ot,Bt.keywordTypes=je,Bt.lineBreak=Ke,Bt.lineBreakG=Vt,Bt.nonASCIIwhitespace=tt,Bt.parse=function Yt(_,T){return an.parse(_,T)},Bt.parseExpressionAt=function Cn(_,T,U){return an.parseExpressionAt(_,T,U)},Bt.tokContexts=v,Bt.tokTypes=W,Bt.tokenizer=function Gn(_,T){return an.tokenizer(_,T)},Bt.version="8.8.2"}(vr)},956:function(Ui,vr,Bt){var Nt,Fn;(function(ti,xe){var De=(ti=ti||Bt(158)).window,Ct=ti.document,ee=new function(){var u=/^(statics|enumerable|beans|preserve)$/,i=[],s=i.slice,o=Object.create,l=Object.getOwnPropertyDescriptor,h=Object.defineProperty,d=i.forEach||function(w,C){for(var D=0,k=this.length;D<k;D++)w.call(C,this[D],D,this)},p=function(w,C){for(var D in this)this.hasOwnProperty(D)&&w.call(C,this[D],D,this)},g=Object.assign||function(w){for(var C=1,D=arguments.length;C<D;C++){var k=arguments[C];for(var P in k)k.hasOwnProperty(P)&&(w[P]=k[P])}return w},m=function(w,C,D){if(w){var k=l(w,"length");(k&&"number"==typeof k.value?d:p).call(w,C,D=D||w)}return D};function v(w,C,D,k,P){var A={};function I(N,O){"string"==typeof(O=O||(O=l(C,N))&&(O.get?O:O.value))&&"#"===O[0]&&(O=w[O.substring(1)]||O);var G,F="function"==typeof O,B=O,z=P||F&&!O.base?O&&O.get?N in w:w[N]:null;(!P||!z)&&(F&&z&&(O.base=z),F&&!1!==k&&(G=N.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(A[G[3].toLowerCase()+G[4]]=G[2]),(!B||F||!B.get||"function"!=typeof B.get||!b.isPlainObject(B))&&(B={value:B,writable:!0}),(l(w,N)||{configurable:!0}).configurable&&(B.configurable=!0,B.enumerable=D??!G),h(w,N,B))}if(C){for(var x in C)C.hasOwnProperty(x)&&!u.test(x)&&I(x);for(var x in A){var S=A[x],E=w["set"+S],R=w["get"+S]||E&&w["is"+S];R&&(!0===k||0===R.length)&&I(x,{get:R,set:E})}}return w}function b(){for(var w=0,C=arguments.length;w<C;w++){var D=arguments[w];D&&g(this,D)}return this}return v(b,{inject:function(w){if(w){var C=!0===w.statics?w:w.statics,D=w.beans,k=w.preserve;C!==w&&v(this.prototype,w,w.enumerable,D,k),v(this,C,null,D,k)}for(var P=1,A=arguments.length;P<A;P++)this.inject(arguments[P]);return this},extend:function(){for(var C,D,P,w=this,k=0,A=arguments.length;k<A&&(!C||!D);k++)P=arguments[k],C=C||P.initialize,D=D||P.prototype;return C=C||function(){w.apply(this,arguments)},D=C.prototype=D||o(this.prototype),h(D,"constructor",{value:C,writable:!0,configurable:!0}),v(C,this),arguments.length&&this.inject.apply(C,arguments),C.base=w,C}}).inject({enumerable:!1,initialize:b,set:b,inject:function(){for(var w=0,C=arguments.length;w<C;w++){var D=arguments[w];D&&v(this,D,D.enumerable,D.beans,D.preserve)}return this},extend:function(){var w=o(this);return w.inject.apply(w,arguments)},each:function(w,C){return m(this,w,C)},clone:function(){return new this.constructor(this)},statics:{set:g,each:m,create:o,define:h,describe:l,clone:function(w){return g(new w.constructor,w)},isPlainObject:function(w){var C=null!=w&&w.constructor;return C&&(C===Object||C===b||"Object"===C.name)},pick:function(w,C){return w!==xe?w:C},slice:function(w,C,D){return s.call(w,C,D)}}})};Ui.exports=ee,ee.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+ee.each(this,function(u,i){if(!/^_/.test(i)){var s=typeof u;this.push(i+": "+("number"===s?sn.instance.number(u):"string"===s?"'"+u+"'":u))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(u){return ee.importJSON(u,this)},exportJSON:function(u){return ee.exportJSON(this,u)},toJSON:function(){return ee.serialize(this)},set:function(u,i){return u&&ee.filter(this,u,i,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function u(){var i=u.base.apply(this,arguments),s=i.prototype._class;return s&&!ee.exports[s]&&(ee.exports[s]=i),i},equals:function(u,i){if(u===i)return!0;if(u&&u.equals)return u.equals(i);if(i&&i.equals)return i.equals(u);if(u&&i&&"object"==typeof u&&"object"==typeof i){if(Array.isArray(u)&&Array.isArray(i)){if((s=u.length)!==i.length)return!1;for(;s--;)if(!ee.equals(u[s],i[s]))return!1}else{var s,o=Object.keys(u);if((s=o.length)!==Object.keys(i).length)return!1;for(;s--;){var l=o[s];if(!i.hasOwnProperty(l)||!ee.equals(u[l],i[l]))return!1}}return!0}return!1},read:function(u,i,s,o){if(this===ee){var l=this.peek(u,i);return u.__index++,l}var h=this.prototype,d=h._readIndex,p=i||d&&u.__index||0,g=u.length,m=u[p];if(o=o||g-p,m instanceof this||s&&s.readNull&&null==m&&o<=1)return d&&(u.__index=p+1),m&&s&&s.clone?m.clone():m;if(m=ee.create(h),d&&(m.__read=!0),m=m.initialize.apply(m,p>0||p+o<g?ee.slice(u,p,p+o):u)||m,d){u.__index=p+m.__read;var v=m.__filtered;v&&(u.__filtered=v,m.__filtered=xe),m.__read=xe}return m},peek:function(u,i){return u[u.__index=i||u.__index||0]},remain:function(u){return u.length-(u.__index||0)},readList:function(u,i,s,o){for(var h,l=[],d=i||0,p=o?d+o:u.length,g=d;g<p;g++)l.push(Array.isArray(h=u[g])?this.read(h,0,s):this.read(u,g,s,1));return l},readNamed:function(u,i,s,o,l){var h=this.getNamed(u,i),d=h!==xe;if(d){var p=u.__filtered;if(!p){var g=this.getSource(u);(p=u.__filtered=ee.create(g)).__unfiltered=g}p[i]=xe}return this.read(d?[h]:u,s,o,l)},readSupported:function(u,i){var s=this.getSource(u),o=this,l=!1;return s&&Object.keys(s).forEach(function(h){if(h in i){var d=o.readNamed(u,h);d!==xe&&(i[h]=d),l=!0}}),l},getSource:function(u){var i=u.__source;if(i===xe){var s=1===u.length&&u[0];i=u.__source=s&&ee.isPlainObject(s)?s:null}return i},getNamed:function(u,i){var s=this.getSource(u);if(s)return i?s[i]:u.__filtered||s},hasNamed:function(u,i){return!!this.getNamed(u,i)},filter:function(u,i,s,o){var l;function h(v){if(!(s&&v in s||l&&v in l)){var b=i[v];b!==xe&&(u[v]=b)}}if(o){for(var g,d={},p=0,m=o.length;p<m;p++)(g=o[p])in i&&(h(g),d[g]=!0);l=d}return Object.keys(i.__unfiltered||i).forEach(h),u},isPlainValue:function(u,i){return ee.isPlainObject(u)||Array.isArray(u)||i&&"string"==typeof u},serialize:function(u,i,s,o){i=i||{};var h,l=!o;if(l&&(i.formatter=new sn(i.precision),o={length:0,definitions:{},references:{},add:function(b,w){var C="#"+b._id,D=this.references[C];if(!D){this.length++;var k=w.call(b),P=b._class;P&&k[0]!==P&&k.unshift(P),this.definitions[C]=k,D=this.references[C]=[C]}return D}}),u&&u._serialize){h=u._serialize(i,o);var d=u._class;d&&!u._compactSerialize&&(l||!s)&&h[0]!==d&&h.unshift(d)}else if(Array.isArray(u)){h=[];for(var p=0,g=u.length;p<g;p++)h[p]=ee.serialize(u[p],i,s,o)}else if(ee.isPlainObject(u)){h={};var m=Object.keys(u);for(p=0,g=m.length;p<g;p++){var v=m[p];h[v]=ee.serialize(u[v],i,s,o)}}else h="number"==typeof u?i.formatter.number(u,i.precision):u;return l&&o.length>0?[["dictionary",o.definitions],h]:h},deserialize:function(u,i,s,o,l){var h=u,d=!s,p=d&&u&&u.length&&"dictionary"===u[0][0];if(s=s||{},Array.isArray(u)){var g=u[0],m="dictionary"===g;if(1==u.length&&/^#/.test(g))return s.dictionary[g];h=[];for(var v=(g=ee.exports[g])?1:0,b=u.length;v<b;v++)h.push(ee.deserialize(u[v],i,s,m,p));if(g){var w=h;h=i?i(g,w,d||l):new g(w)}}else if(ee.isPlainObject(u))for(var C in h={},o&&(s.dictionary=h),u)h[C]=ee.deserialize(u[C],i,s);return p?h[1]:h},exportJSON:function(u,i){var s=ee.serialize(u,i);return i&&0==i.asString?s:JSON.stringify(s)},importJSON:function(u,i){return ee.deserialize("string"==typeof u?JSON.parse(u):u,function(s,o,l){var h=l&&i&&i.constructor===s,d=h?i:ee.create(s.prototype);if(1===o.length&&d instanceof tt&&(h||!(d instanceof An))){var p=o[0];ee.isPlainObject(p)&&(p.insert=!1,h&&(o=o.concat([tt.INSERT])))}return(h?d.set:s).apply(d,o),h&&(i=null),d})},push:function(u,i){var s=i.length;if(s<4096)u.push.apply(u,i);else{var o=u.length;u.length+=s;for(var l=0;l<s;l++)u[o+l]=i[l]}return u},splice:function(u,i,s,o){var l=i&&i.length,h=s===xe;(s=h?u.length:s)>u.length&&(s=u.length);for(var d=0;d<l;d++)i[d]._index=s+d;if(h)return ee.push(u,i),[];var p=[s,o];i&&ee.push(p,i);for(var g=u.splice.apply(u,p),m=(d=0,g.length);d<m;d++)g[d]._index=xe;for(d=s+l,m=u.length;d<m;d++)u[d]._index=d;return g},capitalize:function(u){return u.replace(/\b[a-z]/g,function(i){return i.toUpperCase()})},camelize:function(u){return u.replace(/-(.)/g,function(i,s){return s.toUpperCase()})},hyphenate:function(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var ne={on:function(u,i){if("string"!=typeof u)ee.each(u,function(h,d){this.on(d,h)},this);else{var s=this._eventTypes,o=s&&s[u],l=this._callbacks=this._callbacks||{};-1===(l=l[u]=l[u]||[]).indexOf(i)&&(l.push(i),o&&o.install&&1===l.length&&o.install.call(this,u))}return this},off:function(u,i){if("string"==typeof u){var h,s=this._eventTypes,o=s&&s[u],l=this._callbacks&&this._callbacks[u];return l&&(!i||-1!==(h=l.indexOf(i))&&1===l.length?(o&&o.uninstall&&o.uninstall.call(this,u),delete this._callbacks[u]):-1!==h&&l.splice(h,1)),this}ee.each(u,function(d,p){this.off(p,d)},this)},once:function(u,i){return this.on(u,function s(){i.apply(this,arguments),this.off(u,s)})},emit:function(u,i){var s=this._callbacks&&this._callbacks[u];if(!s)return!1;var o=ee.slice(arguments,1),l=i&&i.target&&!i.currentTarget;s=s.slice(),l&&(i.currentTarget=this);for(var h=0,d=s.length;h<d;h++)if(0==s[h].apply(this,o)){i&&i.stop&&i.stop();break}return l&&delete i.currentTarget,!0},responds:function(u){return!(!this._callbacks||!this._callbacks[u])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(u){var i=this._eventTypes,s=this._callbacks,o=u?"install":"uninstall";if(i)for(var l in s)if(s[l].length>0){var h=i[l],d=h&&h[o];d&&d.call(this,l)}},statics:{inject:function u(i){var s=i._events;if(s){var o={};ee.each(s,function(l,h){var d="string"==typeof l,p=d?l:h,g=ee.capitalize(p),m=p.substring(2).toLowerCase();o[m]=d?{}:l,p="_"+p,i["get"+g]=function(){return this[p]},i["set"+g]=function(v){var b=this[p];b&&this.off(m,b),v&&this.on(m,v),this[p]=v}}),i._eventTypes=o}return u.base.apply(this,arguments)}}},qn=ee.extend({_class:"PaperScope",initialize:function u(){Le=this,this.settings=new ee({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=u._id++,u._scopes[this._id]=this;var i=u.prototype;if(!this.support){var s=zt.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:At.nativeModes},zt.release(s)}if(!this.agent){var o=ti.navigator.userAgent.toLowerCase(),l=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(o)||[])[0],h="darwin"===l?"mac":l,d=i.agent=i.browser={platform:h};h&&(d[h]=!0),o.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(p,g,m,v,b){if(!d.chrome){var w="opera"===g?v:/^(node|trident)$/.test(g)?b:m;d.version=w,d.versionNumber=parseFloat(w),d.name=g={trident:"msie",jsdom:"node"}[g]||g,d[g]=!0}}),d.chrome&&delete d.webkit,d.atom&&delete d.chrome}},version:"0.12.17",getView:function(){var u=this.project;return u&&u._view},getPaper:function(){return this},execute:function(u,i){},install:function(u){var i=this;for(var s in ee.each(["project","view","tool"],function(o){ee.define(u,o,{configurable:!0,get:function(){return i[o]}})}),this)!/^_/.test(s)&&this[s]&&(u[s]=this[s])},setup:function(u){return Le=this,this.project=new Xt(u),this},createCanvas:function(u,i){return zt.getCanvas(u,i)},activate:function(){Le=this},clear:function(){for(var u=this.projects,i=this.tools,s=u.length-1;s>=0;s--)u[s].remove();for(s=i.length-1;s>=0;s--)i[s].remove()},remove:function(){this.clear(),delete qn._scopes[this._id]},statics:new function(){function u(i){return i+="Attribute",function(s,o){return s[i](o)||s[i]("data-paper-"+o)}}return{_scopes:{},_id:0,get:function(i){return this._scopes[i]||null},getAttribute:u("get"),hasAttribute:u("has")}}}),yn=ee.extend(ne,{initialize:function(u){this._scope=Le,this._index=this._scope[this._list].push(this)-1,(u||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var u=this._scope[this._reference];return u&&u!==this&&u.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",u),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(ee.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Sn={findItemBoundsCollisions:function(u,i,s){function o(d){for(var p=new Array(d.length),g=0;g<d.length;g++){var m=d[g].getBounds();p[g]=[m.left,m.top,m.right,m.bottom]}return p}var l=o(u),h=i&&i!==u?o(i):l;return this.findBoundsCollisions(l,h,s||0)},findCurveBoundsCollisions:function(u,i,s,o){function l(w){for(var C=Math.min,D=Math.max,k=new Array(w.length),P=0;P<w.length;P++){var A=w[P];k[P]=[C(A[0],A[2],A[4],A[6]),C(A[1],A[3],A[5],A[7]),D(A[0],A[2],A[4],A[6]),D(A[1],A[3],A[5],A[7])]}return k}var h=l(u),d=i&&i!==u?l(i):h;if(o){for(var p=this.findBoundsCollisions(h,d,s||0,!1,!0),g=this.findBoundsCollisions(h,d,s||0,!0,!0),m=[],v=0,b=p.length;v<b;v++)m[v]={hor:p[v],ver:g[v]};return m}return this.findBoundsCollisions(h,d,s||0)},findBoundsCollisions:function(u,i,s,o,l){var h=!i||u===i,d=h?u:u.concat(i),p=u.length,g=d.length;function m(oe,he,ge){for(var _e=0,le=oe.length;_e<le;){var ce=le+_e>>>1;d[oe[ce]][he]<ge?_e=ce+1:le=ce}return _e-1}for(var v=o?1:0,b=v+2,w=o?0:1,C=w+2,D=new Array(g),k=0;k<g;k++)D[k]=k;D.sort(function(oe,he){return d[oe][v]-d[he][v]});var P=[],A=new Array(p);for(k=0;k<g;k++){var I=D[k],x=d[I],S=h?I:I-p,E=I<p,R=h||!E,N=E?[]:null;if(P.length){var O=m(P,b,x[v]-s)+1;if(P.splice(0,O),h&&l){N=N.concat(P);for(var F=0;F<P.length;F++)A[B=P[F]].push(S)}else{var z=x[C],G=x[w];for(F=0;F<P.length;F++){var B,j=d[B=P[F]],H=B<p,$=h||B>=p;(l||(E&&$||R&&H)&&z>=j[w]-s&&G<=j[C]+s)&&(E&&$&&N.push(h?B:B-p),R&&H&&A[B].push(S))}}}if(E&&(u===i&&N.push(I),A[I]=N),P.length){var Y=m(P,b,x[b]);P.splice(Y+1,0,I)}else P.push(I)}for(k=0;k<A.length;k++){var J=A[k];J&&J.sort(function(he,ge){return he-ge})}return A}},sn=ee.extend({initialize:function(u){this.precision=ee.pick(u,5),this.multiplier=Math.pow(10,this.precision)},number:function(u){return this.precision<16?Math.round(u*this.multiplier)/this.multiplier:u},pair:function(u,i,s){return this.number(u)+(s||",")+this.number(i)},point:function(u,i){return this.number(u.x)+(i||",")+this.number(u.y)},size:function(u,i){return this.number(u.width)+(i||",")+this.number(u.height)},rectangle:function(u,i){return this.point(u,i)+(i||",")+this.size(u,i)}});sn.instance=new sn;var ze=new function(){var u=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],i=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,o=Math.sqrt,l=Math.pow,h=Math.log2||function(b){return Math.log(b)*Math.LOG2E},d=1e-12,p=112e-18;function g(b,w,C){return b<w?w:b>C?C:b}function m(b,w,C){function D(O){var F=134217729*O,z=O-F+F;return[z,O-z]}var k=w*w-b*C,P=w*w+b*C;if(3*s(k)<P){var A=D(b),I=D(w),x=D(C),S=w*w,R=b*C;k=S-R+(I[0]*I[0]-S+2*I[0]*I[1]+I[1]*I[1]-(A[0]*x[0]-R+A[0]*x[1]+A[1]*x[0]+A[1]*x[1]))}return k}function v(){var b=Math.max.apply(Math,arguments);return b&&(b<1e-8||b>1e8)?l(2,-Math.round(h(b))):0}return{EPSILON:d,MACHINE_EPSILON:p,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(o(2)-1)/3,isZero:function(b){return b>=-d&&b<=d},isMachineZero:function(b){return b>=-p&&b<=p},clamp:g,integrate:function(b,w,C,D){for(var k=u[D-2],P=i[D-2],A=.5*(C-w),I=A+w,x=0,S=D+1>>1,E=1&D?P[x++]*b(I):0;x<S;){var R=A*k[x];E+=P[x++]*(b(I+R)+b(I-R))}return A*E},findRoot:function(b,w,C,D,k,P,A){for(var I=0;I<P;I++){var x=b(C),S=x/w(C),E=C-S;if(s(S)<A){C=E;break}x>0?(k=C,C=E<=D?.5*(D+k):E):(D=C,C=E>=k?.5*(D+k):E)}return g(C,D,k)},solveQuadratic:function(b,w,C,D,k,P){var A,I=1/0;if(s(b)<d){if(s(w)<d)return s(C)<d?-1:0;A=-C/w}else{var x=m(b,w*=-.5,C);if(x&&s(x)<p){var S=v(s(b),s(w),s(C));S&&(x=m(b*=S,w*=S,C*=S))}if(x>=-p){var E=x<0?0:o(x),R=w+(w<0?-E:E);0===R?I=-(A=C/b):(A=R/b,I=C/R)}}var N=0,O=null==k,F=k-d,B=P+d;return isFinite(A)&&(O||A>F&&A<B)&&(D[N++]=O?A:g(A,k,P)),I!==A&&isFinite(I)&&(O||I>F&&I<B)&&(D[N++]=O?I:g(I,k,P)),N},solveCubic:function(b,w,C,D,k,P,A){var x,S,E,R,N,I=v(s(b),s(w),s(C),s(D));function O(Y){var J=b*(x=Y);R=(J+(S=J+w))*x+(E=S*x+C),N=E*x+D}if(I&&(b*=I,w*=I,C*=I,D*=I),s(b)<d)b=w,S=C,E=D,x=1/0;else if(s(D)<d)S=w,E=C,x=0;else{O(-w/b/3);var F=N/b,B=l(s(F),1/3),z=F<0?-1:1,G=-R/b,j=G>0?1.324717957244746*Math.max(B,o(G)):B,H=x-z*j;if(H!==x){do{O(H),H=0===R?x:x-N/R/(1+p)}while(z*H>z*x);s(b)*x*x>s(D/x)&&(S=((E=-D/x)-C)/x)}}var $=ze.solveQuadratic(b,S,E,k,P,A),K=null==P;return isFinite(x)&&(0===$||$>0&&x!==k[0]&&x!==k[1])&&(K||x>P-d&&x<A+d)&&(k[$++]=K?x:g(x,P,A)),$}}},ut={_id:1,_pools:{},get:function(u){if(u){var i=this._pools[u];return i||(i=this._pools[u]={_id:1}),i._id++}return this._id++}},ae=ee.extend({_class:"Point",_readIndex:!0,initialize:function(i,s){var o=typeof i,l=this.__read,h=0;if("number"===o){var d="number"==typeof s;this._set(i,d?s:i),l&&(h=d?2:1)}else if("undefined"===o||null===i)this._set(0,0),l&&(h=null===i?1:0);else{var p="string"===o?i.split(/[\s,]+/)||[]:i;h=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"x"in p?this._set(p.x||0,p.y||0):"width"in p?this._set(p.width||0,p.height||0):"angle"in p?(this._set(p.length||0,0),this.setAngle(p.angle||0)):(this._set(0,0),h=0)}return l&&(this.__read=h),this},set:"#initialize",_set:function(u,i){return this.x=u,this.y=i,this},equals:function(u){return this===u||u&&(this.x===u.x&&this.y===u.y||Array.isArray(u)&&this.x===u[0]&&this.y===u[1])||!1},clone:function(){return new ae(this.x,this.y)},toString:function(){var u=sn.instance;return"{ x: "+u.number(this.x)+", y: "+u.number(this.y)+" }"},_serialize:function(u){var i=u.formatter;return[i.number(this.x),i.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(u){if(this.isZero()){var i=this._angle||0;this._set(Math.cos(i)*u,Math.sin(i)*u)}else{var s=u/this.getLength();ze.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(u){this.setAngleInRadians.call(this,u*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var u=ae.read(arguments),i=this.getLength()*u.getLength();if(ze.isZero(i))return NaN;var s=this.dot(u)/i;return Math.acos(s<-1?-1:s>1?1:s)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(u){if(this._angle=u,!this.isZero()){var i=this.getLength();this._set(Math.cos(u)*i,Math.sin(u)*i)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var u=ae.read(arguments);return 180*Math.atan2(this.cross(u),this.dot(u))/Math.PI},getDistance:function(){var u=arguments,i=ae.read(u),s=i.x-this.x,o=i.y-this.y,l=s*s+o*o;return ee.read(u)?l:Math.sqrt(l)},normalize:function(u){u===xe&&(u=1);var i=this.getLength(),s=0!==i?u/i:0,o=new ae(this.x*s,this.y*s);return s>=0&&(o._angle=this._angle),o},rotate:function(u,i){if(0===u)return this.clone();u=u*Math.PI/180;var s=i?this.subtract(i):this,o=Math.sin(u),l=Math.cos(u);return s=new ae(s.x*l-s.y*o,s.x*o+s.y*l),i?s.add(i):s},transform:function(u){return u?u._transformPoint(this):this},add:function(){var u=ae.read(arguments);return new ae(this.x+u.x,this.y+u.y)},subtract:function(){var u=ae.read(arguments);return new ae(this.x-u.x,this.y-u.y)},multiply:function(){var u=ae.read(arguments);return new ae(this.x*u.x,this.y*u.y)},divide:function(){var u=ae.read(arguments);return new ae(this.x/u.x,this.y/u.y)},modulo:function(){var u=ae.read(arguments);return new ae(this.x%u.x,this.y%u.y)},negate:function(){return new ae(-this.x,-this.y)},isInside:function(){return W.read(arguments).contains(this)},isClose:function(){var u=arguments,i=ae.read(u),s=ee.read(u);return this.getDistance(i)<=s},isCollinear:function(){var u=ae.read(arguments);return ae.isCollinear(this.x,this.y,u.x,u.y)},isColinear:"#isCollinear",isOrthogonal:function(){var u=ae.read(arguments);return ae.isOrthogonal(this.x,this.y,u.x,u.y)},isZero:function(){var u=ze.isZero;return u(this.x)&&u(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(u){return this.x*(u>1&&u<4?-1:1)>=0&&this.y*(u>2?-1:1)>=0},dot:function(){var u=ae.read(arguments);return this.x*u.x+this.y*u.y},cross:function(){var u=ae.read(arguments);return this.x*u.y-this.y*u.x},project:function(){var u=ae.read(arguments),i=u.isZero()?0:this.dot(u)/u.dot(u);return new ae(u.x*i,u.y*i)},statics:{min:function(){var u=arguments,i=ae.read(u),s=ae.read(u);return new ae(Math.min(i.x,s.x),Math.min(i.y,s.y))},max:function(){var u=arguments,i=ae.read(u),s=ae.read(u);return new ae(Math.max(i.x,s.x),Math.max(i.y,s.y))},random:function(){return new ae(Math.random(),Math.random())},isCollinear:function(u,i,s,o){return Math.abs(u*o-i*s)<=1e-8*Math.sqrt((u*u+i*i)*(s*s+o*o))},isOrthogonal:function(u,i,s,o){return Math.abs(u*s+i*o)<=1e-8*Math.sqrt((u*u+i*i)*(s*s+o*o))}}},ee.each(["round","ceil","floor","abs"],function(u){var i=Math[u];this[u]=function(){return new ae(i(this.x),i(this.y))}},{})),ie=ae.extend({initialize:function(i,s,o,l){this._x=i,this._y=s,this._owner=o,this._setter=l},_set:function(u,i,s){return this._x=u,this._y=i,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(u){this._x=u,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(u){this._y=u,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(u){this._owner._changeSelection(this._getSelection(),u)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),je=ee.extend({_class:"Size",_readIndex:!0,initialize:function(i,s){var o=typeof i,l=this.__read,h=0;if("number"===o){var d="number"==typeof s;this._set(i,d?s:i),l&&(h=d?2:1)}else if("undefined"===o||null===i)this._set(0,0),l&&(h=null===i?1:0);else{var p="string"===o?i.split(/[\s,]+/)||[]:i;h=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"width"in p?this._set(p.width||0,p.height||0):"x"in p?this._set(p.x||0,p.y||0):(this._set(0,0),h=0)}return l&&(this.__read=h),this},set:"#initialize",_set:function(u,i){return this.width=u,this.height=i,this},equals:function(u){return u===this||u&&(this.width===u.width&&this.height===u.height||Array.isArray(u)&&this.width===u[0]&&this.height===u[1])||!1},clone:function(){return new je(this.width,this.height)},toString:function(){var u=sn.instance;return"{ width: "+u.number(this.width)+", height: "+u.number(this.height)+" }"},_serialize:function(u){var i=u.formatter;return[i.number(this.width),i.number(this.height)]},add:function(){var u=je.read(arguments);return new je(this.width+u.width,this.height+u.height)},subtract:function(){var u=je.read(arguments);return new je(this.width-u.width,this.height-u.height)},multiply:function(){var u=je.read(arguments);return new je(this.width*u.width,this.height*u.height)},divide:function(){var u=je.read(arguments);return new je(this.width/u.width,this.height/u.height)},modulo:function(){var u=je.read(arguments);return new je(this.width%u.width,this.height%u.height)},negate:function(){return new je(-this.width,-this.height)},isZero:function(){var u=ze.isZero;return u(this.width)&&u(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(u,i){return new je(Math.min(u.width,i.width),Math.min(u.height,i.height))},max:function(u,i){return new je(Math.max(u.width,i.width),Math.max(u.height,i.height))},random:function(){return new je(Math.random(),Math.random())}}},ee.each(["round","ceil","floor","abs"],function(u){var i=Math[u];this[u]=function(){return new je(i(this.width),i(this.height))}},{})),Ee=je.extend({initialize:function(i,s,o,l){this._width=i,this._height=s,this._owner=o,this._setter=l},_set:function(u,i,s){return this._width=u,this._height=i,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(u){this._width=u,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(u){this._height=u,this._owner[this._setter](this)}}),W=ee.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(i,s,o,l){var p,h=arguments,d=typeof i;if("number"===d?(this._set(i,s,o,l),p=4):"undefined"===d||null===i?(this._set(0,0,0,0),p=null===i?1:0):1===h.length&&(Array.isArray(i)?(this._set.apply(this,i),p=1):i.x!==xe||i.width!==xe?(this._set(i.x||0,i.y||0,i.width||0,i.height||0),p=1):i.from===xe&&i.to===xe&&(this._set(0,0,0,0),ee.readSupported(h,this)&&(p=1))),p===xe){var w,C,g=ae.readNamed(h,"from"),m=ee.peek(h),v=g.x,b=g.y;if(m&&m.x!==xe||ee.hasNamed(h,"to")){var D=ae.readNamed(h,"to");(w=D.x-v)<0&&(v=D.x,w=-w),(C=D.y-b)<0&&(b=D.y,C=-C)}else{var k=je.read(h);w=k.width,C=k.height}this._set(v,b,w,C),p=h.__index}var P=h.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=p),this},set:"#initialize",_set:function(u,i,s,o){return this.x=u,this.y=i,this.width=s,this.height=o,this},clone:function(){return new W(this.x,this.y,this.width,this.height)},equals:function(u){var i=ee.isPlainValue(u)?W.read(arguments):u;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var u=sn.instance;return"{ x: "+u.number(this.x)+", y: "+u.number(this.y)+", width: "+u.number(this.width)+", height: "+u.number(this.height)+" }"},_serialize:function(u){var i=u.formatter;return[i.number(this.x),i.number(this.y),i.number(this.width),i.number(this.height)]},getPoint:function(u){return new(u?ae:ie)(this.x,this.y,this,"setPoint")},setPoint:function(){var u=ae.read(arguments);this.x=u.x,this.y=u.y},getSize:function(u){return new(u?je:Ee)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var u=je.read(arguments),i=this._sx,s=this._sy,o=u.width,l=u.height;i&&(this.x+=(this.width-o)*i),s&&(this.y+=(this.height-l)*s),this.width=o,this.height=l,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(u){if(!this._fw){var i=u-this.x;this.width-=.5===this._sx?2*i:i}this.x=u,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(u){if(!this._fh){var i=u-this.y;this.height-=.5===this._sy?2*i:i}this.y=u,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(u){if(!this._fw){var i=u-this.x;this.width=.5===this._sx?2*i:i}this.x=u-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(u){if(!this._fh){var i=u-this.y;this.height=.5===this._sy?2*i:i}this.y=u-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(u){this._fw||.5===this._sx?this.x=u-this.width/2:(this._sx&&(this.x+=2*(u-this.x)*this._sx),this.width=2*(u-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(u){this._fh||.5===this._sy?this.y=u-this.height/2:(this._sy&&(this.y+=2*(u-this.y)*this._sy),this.height=2*(u-this.y)),this._sy=.5,this._fh=0},getCenter:function(u){return new(u?ae:ie)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var u=ae.read(arguments);return this.setCenterX(u.x),this.setCenterY(u.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(u){return u&&u.width!==xe||4===(Array.isArray(u)?u:arguments).length?this._containsRectangle(W.read(arguments)):this._containsPoint(ae.read(arguments))},_containsPoint:function(u){var i=u.x,s=u.y;return i>=this.x&&s>=this.y&&i<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(u){var i=u.x,s=u.y;return i>=this.x&&s>=this.y&&i+u.width<=this.x+this.width&&s+u.height<=this.y+this.height},intersects:function(){var u=W.read(arguments),i=ee.read(arguments)||0;return u.x+u.width>this.x-i&&u.y+u.height>this.y-i&&u.x<this.x+this.width+i&&u.y<this.y+this.height+i},intersect:function(){var u=W.read(arguments),i=Math.max(this.x,u.x),s=Math.max(this.y,u.y),o=Math.min(this.x+this.width,u.x+u.width),l=Math.min(this.y+this.height,u.y+u.height);return new W(i,s,o-i,l-s)},unite:function(){var u=W.read(arguments),i=Math.min(this.x,u.x),s=Math.min(this.y,u.y),o=Math.max(this.x+this.width,u.x+u.width),l=Math.max(this.y+this.height,u.y+u.height);return new W(i,s,o-i,l-s)},include:function(){var u=ae.read(arguments),i=Math.min(this.x,u.x),s=Math.min(this.y,u.y),o=Math.max(this.x+this.width,u.x),l=Math.max(this.y+this.height,u.y);return new W(i,s,o-i,l-s)},expand:function(){var u=je.read(arguments),i=u.width,s=u.height;return new W(this.x-i/2,this.y-s/2,this.width+i,this.height+s)},scale:function(u,i){return this.expand(this.width*u-this.width,this.height*(i===xe?u:i)-this.height)}},ee.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(u,i){var s=u.join(""),o=/^[RL]/.test(s);i>=4&&(u[1]+=o?"Y":"X");var l=u[o?0:1],h=u[o?1:0],d="get"+l,p="get"+h,g="set"+l,m="set"+h,b="set"+s;this["get"+s]=function(w){return new(w?ae:ie)(this[d](),this[p](),this,b)},this[b]=function(){var w=ae.read(arguments);this[g](w.x),this[m](w.y)}},{beans:!0})),Ke=W.extend({initialize:function(i,s,o,l,h,d){this._set(i,s,o,l,!0),this._owner=h,this._setter=d},_set:function(u,i,s,o,l){return this._x=u,this._y=i,this._width=s,this._height=o,l||this._owner[this._setter](this),this}},new function(){var u=W.prototype;return ee.each(["x","y","width","height"],function(i){var s=ee.capitalize(i),o="_"+i;this["get"+s]=function(){return this[o]},this["set"+s]=function(l){this[o]=l,this._dontNotify||this._owner[this._setter](this)}},ee.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(i){var s="set"+i;this[s]=function(){this._dontNotify=!0,u[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(i){var s=this._owner;s._changeSelection&&s._changeSelection(2,i)}}))}),Vt=ee.extend({_class:"Matrix",initialize:function u(i,s){var o=arguments,l=o.length,h=!0;if(l>=6?this._set.apply(this,o):1===l||2===l?i instanceof u?this._set(i._a,i._b,i._c,i._d,i._tx,i._ty,s):Array.isArray(i)?this._set.apply(this,s?i.concat([s]):i):h=!1:l?h=!1:this.reset(),!h)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(u,i,s,o,l,h,d){return this._a=u,this._b=i,this._c=s,this._d=o,this._tx=l,this._ty=h,d||this._changed(),this},_serialize:function(u,i){return ee.serialize(this.getValues(),u,!0,i)},_changed:function(){var u=this._owner;u&&(u._applyMatrix?u.transform(null,!0):u._changed(25))},clone:function(){return new Vt(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(u){return u===this||u&&this._a===u._a&&this._b===u._b&&this._c===u._c&&this._d===u._d&&this._tx===u._tx&&this._ty===u._ty},toString:function(){var u=sn.instance;return"[["+[u.number(this._a),u.number(this._c),u.number(this._tx)].join(", ")+"], ["+[u.number(this._b),u.number(this._d),u.number(this._ty)].join(", ")+"]]"},reset:function(u){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,u||this._changed(),this},apply:function(u,i){var s=this._owner;return!!s&&(s.transform(null,ee.pick(u,!0),i),this.isIdentity())},translate:function(){var u=ae.read(arguments),i=u.x,s=u.y;return this._tx+=i*this._a+s*this._c,this._ty+=i*this._b+s*this._d,this._changed(),this},scale:function(){var u=arguments,i=ae.read(u),s=ae.read(u,0,{readNull:!0});return s&&this.translate(s),this._a*=i.x,this._b*=i.x,this._c*=i.y,this._d*=i.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(u){u*=Math.PI/180;var i=ae.read(arguments,1),s=i.x,o=i.y,l=Math.cos(u),h=Math.sin(u),d=s-s*l+o*h,p=o-s*h-o*l,g=this._a,m=this._b,v=this._c,b=this._d;return this._a=l*g+h*v,this._b=l*m+h*b,this._c=-h*g+l*v,this._d=-h*m+l*b,this._tx+=d*g+p*v,this._ty+=d*m+p*b,this._changed(),this},shear:function(){var u=arguments,i=ae.read(u),s=ae.read(u,0,{readNull:!0});s&&this.translate(s);var o=this._a,l=this._b;return this._a+=i.y*this._c,this._b+=i.y*this._d,this._c+=i.x*o,this._d+=i.x*l,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var u=arguments,i=ae.read(u),s=ae.read(u,0,{readNull:!0}),o=Math.PI/180,l=new ae(Math.tan(i.x*o),Math.tan(i.y*o));return this.shear(l,s)},append:function(u,i){if(u){var s=this._a,o=this._b,l=this._c,h=this._d,d=u._a,p=u._c,g=u._b,m=u._d,v=u._tx,b=u._ty;this._a=d*s+g*l,this._c=p*s+m*l,this._b=d*o+g*h,this._d=p*o+m*h,this._tx+=v*s+b*l,this._ty+=v*o+b*h,i||this._changed()}return this},prepend:function(u,i){if(u){var s=this._a,o=this._b,l=this._c,h=this._d,d=this._tx,p=this._ty,g=u._a,m=u._c,v=u._b,b=u._d,w=u._tx,C=u._ty;this._a=g*s+m*o,this._c=g*l+m*h,this._b=v*s+b*o,this._d=v*l+b*h,this._tx=g*d+m*p+w,this._ty=v*d+b*p+C,i||this._changed()}return this},appended:function(u){return this.clone().append(u)},prepended:function(u){return this.clone().prepend(u)},invert:function(){var u=this._a,i=this._b,s=this._c,o=this._d,l=this._tx,h=this._ty,d=u*o-i*s,p=null;return d&&!isNaN(d)&&isFinite(l)&&isFinite(h)&&(this._a=o/d,this._b=-i/d,this._c=-s/d,this._d=u/d,this._tx=(s*h-o*l)/d,this._ty=(i*l-u*h)/d,p=this),p},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Vt(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var u=this._a*this._d-this._c*this._b;return u&&!isNaN(u)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(u,i,s){return arguments.length<3?this._transformPoint(ae.read(arguments)):this._transformCoordinates(u,i,s)},_transformPoint:function(u,i,s){var o=u.x,l=u.y;return i||(i=new ae),i._set(o*this._a+l*this._c+this._tx,o*this._b+l*this._d+this._ty,s)},_transformCoordinates:function(u,i,s){for(var o=0,l=2*s;o<l;o+=2){var h=u[o],d=u[o+1];i[o]=h*this._a+d*this._c+this._tx,i[o+1]=h*this._b+d*this._d+this._ty}return i},_transformCorners:function(u){var i=u.x,s=u.y,o=i+u.width,l=s+u.height,h=[i,s,o,s,o,l,i,l];return this._transformCoordinates(h,h,4)},_transformBounds:function(u,i,s){for(var o=this._transformCorners(u),l=o.slice(0,2),h=l.slice(),d=2;d<8;d++){var p=o[d],g=1&d;p<l[g]?l[g]=p:p>h[g]&&(h[g]=p)}return i||(i=new W),i._set(l[0],l[1],h[0]-l[0],h[1]-l[1],s)},inverseTransform:function(){return this._inverseTransform(ae.read(arguments))},_inverseTransform:function(u,i,s){var o=this._a,l=this._b,h=this._c,d=this._d,p=this._tx,g=this._ty,m=o*d-l*h,v=null;if(m&&!isNaN(m)&&isFinite(p)&&isFinite(g)){var b=u.x-this._tx,w=u.y-this._ty;i||(i=new ae),v=i._set((b*d-w*h)/m,(w*o-b*l)/m,s)}return v},decompose:function(){var g,m,v,u=this._a,i=this._b,s=this._c,o=this._d,l=u*o-i*s,h=Math.sqrt,d=Math.atan2,p=180/Math.PI;if(0!==u||0!==i){var b=h(u*u+i*i);g=Math.acos(u/b)*(i>0?1:-1),m=[b,l/b],v=[d(u*s+i*o,b*b),0]}else if(0!==s||0!==o){var w=h(s*s+o*o);g=Math.asin(s/w)*(o>0?1:-1),m=[l/w,w],v=[0,d(u*s+i*o,w*w)]}else g=0,v=m=[0,0];return{translation:this.getTranslation(),rotation:g*p,scaling:new ae(m),skewing:new ae(v[0]*p,v[1]*p)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ae(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(u){this.isIdentity()||u.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},ee.each(["a","b","c","d","tx","ty"],function(u){var i=ee.capitalize(u),s="_"+u;this["get"+i]=function(){return this[s]},this["set"+i]=function(o){this[s]=o,this._changed()}},{})),ot=ee.extend({_class:"Line",initialize:function(i,s,o,l,h){var d=!1;arguments.length>=4?(this._px=i,this._py=s,this._vx=o,this._vy=l,d=h):(this._px=i.x,this._py=i.y,this._vx=s.x,this._vy=s.y,d=o),d||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ae(this._px,this._py)},getVector:function(){return new ae(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(u,i){return ot.intersect(this._px,this._py,this._vx,this._vy,u._px,u._py,u._vx,u._vy,!0,i)},getSide:function(u,i){return ot.getSide(this._px,this._py,this._vx,this._vy,u.x,u.y,!0,i)},getDistance:function(u){return Math.abs(this.getSignedDistance(u))},getSignedDistance:function(u){return ot.getSignedDistance(this._px,this._py,this._vx,this._vy,u.x,u.y,!0)},isCollinear:function(u){return ae.isCollinear(this._vx,this._vy,u._vx,u._vy)},isOrthogonal:function(u){return ae.isOrthogonal(this._vx,this._vy,u._vx,u._vy)},statics:{intersect:function(u,i,s,o,l,h,d,p,g,m){g||(s-=u,o-=i,d-=l,p-=h);var v=s*p-o*d;if(!ze.isMachineZero(v)){var b=u-l,w=i-h,C=(d*w-p*b)/v,D=(s*w-o*b)/v,P=-1e-12,A=1+1e-12;if(m||P<C&&C<A&&P<D&&D<A)return m||(C=C<=0?0:C>=1?1:C),new ae(u+C*s,i+C*o)}},getSide:function(u,i,s,o,l,h,d,p){d||(s-=u,o-=i);var g=l-u,v=g*o-(h-i)*s;return!p&&ze.isMachineZero(v)&&(v=(g*s+g*s)/(s*s+o*o))>=0&&v<=1&&(v=0),v<0?-1:v>0?1:0},getSignedDistance:function(u,i,s,o,l,h,d){return d||(s-=u,o-=i),0===s?o>0?l-u:u-l:0===o?s<0?h-i:i-h:((l-u)*o-(h-i)*s)/(o>s?o*Math.sqrt(1+s*s/(o*o)):s*Math.sqrt(1+o*o/(s*s)))},getDistance:function(u,i,s,o,l,h,d){return Math.abs(ot.getSignedDistance(u,i,s,o,l,h,d))}}}),Xt=yn.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(i){yn.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Mi(null,null,this),this._view=yt.create(this,i||zt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(u,i){return ee.serialize(this._children,u,!0,i)},_changed:function(u,i){if(1&u){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var o=this._changes;if(o&&i){var l=this._changesById,h=i._id,d=l[h];d?d.flags|=u:o.push(l[h]={item:i,flags:u})}},clear:function(){for(var u=this._children,i=u.length-1;i>=0;i--)u[i].remove()},isEmpty:function(){return!this._children.length},remove:function u(){return!!u.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(u){this._currentStyle.set(u)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new An({project:this,insert:!0})},getSymbolDefinitions:function(){var u=[],i={};return this.getItems({class:Dn,match:function(s){var o=s._definition,l=o._id;return i[l]||(i[l]=!0,u.push(o)),!1}}),u},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var u=this._selectionItems,i=[];for(var s in u){var o=u[s],l=o._selection;1&l&&o.isInserted()?i.push(o):l||this._updateSelection(o)}return i},_updateSelection:function(u){var i=u._id,s=this._selectionItems;u._selection?s[i]!==u&&(this._selectionCount++,s[i]=u):s[i]===u&&(this._selectionCount--,delete s[i])},selectAll:function(){for(var u=this._children,i=0,s=u.length;i<s;i++)u[i].setFullySelected(!0)},deselectAll:function(){var u=this._selectionItems;for(var i in u)u[i].setFullySelected(!1)},addLayer:function(u){return this.insertLayer(xe,u)},insertLayer:function(u,i){if(i instanceof An){i._remove(!1,!0),ee.splice(this._children,[i],u,0),i._setProject(this,!0);var s=i._name;s&&i.setName(s),this._changes&&i._changed(5),this._activeLayer||(this._activeLayer=i)}else i=null;return i},_insertItem:function(u,i,s){return i=this.insertLayer(u,i)||(this._activeLayer||this._insertItem(xe,new An(tt.NO_INSERT),!0)).insertChild(u,i),s&&i.activate&&i.activate(),i},getItems:function(u){return tt._getItems(this,u)},getItem:function(u){return tt._getItems(this,u,null,null,!0)[0]||null},importJSON:function(u){this.activate();var i=this._activeLayer;return ee.importJSON(u,i&&i.isEmpty()&&i)},removeOn:function(u){var i=this._removeSets;if(i){"mouseup"===u&&(i.mousedrag=null);var s=i[u];if(s){for(var o in s){var l=s[o];for(var h in i){var d=i[h];d&&d!=s&&delete d[l._id]}l.remove()}i[u]=null}}},draw:function(u,i,s){this._updateVersion++,u.save(),i.applyToContext(u);for(var o=this._children,l=new ee({offset:new ae(0,0),pixelRatio:s,viewMatrix:i.isIdentity()?null:i,matrices:[new Vt],updateMatrix:!0}),h=0,d=o.length;h<d;h++)o[h].draw(u,l);if(u.restore(),this._selectionCount>0){u.save(),u.strokeWidth=1;var p=this._selectionItems,g=this._scope.settings.handleSize,m=this._updateVersion;for(var v in p)p[v]._drawSelection(u,i,g,p,m);u.restore()}}}),tt=ee.extend(ne,{statics:{extend:function u(i){return i._serializeFields&&(i._serializeFields=ee.set({},this.prototype._serializeFields,i._serializeFields)),u.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Vt,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var u=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return ee.each(u,function(i){this._events[i]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:u}})},{initialize:function(){},_initialize:function(u,i){var s=u&&ee.isPlainObject(u),o=s&&!0===u.internal,l=this._matrix=new Vt,h=s&&u.project||Le.project,d=Le.settings;return this._id=o?null:ut.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&d.applyMatrix,i&&l.translate(i),l._owner=this,this._style=new Mi(h._currentStyle,this,h),o||s&&0==u.insert||!d.insertItems&&(!s||1!=u.insert)?this._setProject(h):(s&&u.parent||h)._insertItem(xe,this,!0),s&&u!==tt.NO_INSERT&&u!==tt.INSERT&&this.set(u,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(u,i){var s={},o=this;function l(h){for(var d in h){var p=o[d];ee.equals(p,"leading"===d?1.2*h.fontSize:h[d])||(s[d]=ee.serialize(p,u,"data"!==d,i))}}return l(this._serializeFields),this instanceof Ze||l(this._style._defaults),[this._class,s]},_changed:function(u){var i=this._symbol,s=this._parent||i,o=this._project;8&u&&(this._bounds=this._position=this._decomposed=xe),16&u&&(this._globalMatrix=xe),s&&72&u&&tt._clearBoundsCache(s),2&u&&tt._clearBoundsCache(this),o&&o._changed(u,this),i&&i._changed(u)},getId:function(){return this._id},getName:function(){return this._name},setName:function(u){if(this._name&&this._removeNamed(),u===+u+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(u&&i){var s=i._children,o=i._namedChildren;(o[u]=o[u]||[]).push(this),u in s||(s[u]=this)}this._name=u||xe,this._changed(256)},getStyle:function(){return this._style},setStyle:function(u){this.getStyle().set(u)}},ee.each(["locked","visible","blendMode","opacity","guide"],function(u){var i=ee.capitalize(u),s="_"+u,o={locked:256,visible:265};this["get"+i]=function(){return this[s]},this["set"+i]=function(l){l!=this[s]&&(this[s]=l,this._changed(o[u]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(u){if(u!==this._selection){this._selection=u;var i=this._project;i&&(i._updateSelection(this),this._changed(257))}},_changeSelection:function(u,i){var s=this._selection;this.setSelection(i?s|u:s&~u)},isSelected:function(){if(this._selectChildren)for(var u=this._children,i=0,s=u.length;i<s;i++)if(u[i].isSelected())return!0;return!!(1&this._selection)},setSelected:function(u){if(this._selectChildren)for(var i=this._children,s=0,o=i.length;s<o;s++)i[s].setSelected(u);this._changeSelection(1,u)},isFullySelected:function(){var u=this._children,i=!!(1&this._selection);if(u&&i){for(var s=0,o=u.length;s<o;s++)if(!u[s].isFullySelected())return!1;return!0}return i},setFullySelected:function(u){var i=this._children;if(i)for(var s=0,o=i.length;s<o;s++)i[s].setFullySelected(u);this._changeSelection(1,u)},isClipMask:function(){return this._clipMask},setClipMask:function(u){this._clipMask!=(u=!!u)&&(this._clipMask=u,u&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(u){this._data=u},getPosition:function(u){var i=u?ae:ie,s=this._position||(this._position=this._getPositionFromBounds());return new i(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(ae.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(u){return this._pivot?this._matrix._transformPoint(this._pivot):(u||this.getBounds()).getCenter(!0)},getPivot:function(){var u=this._pivot;return u?new ie(u.x,u.y,this,"setPivot"):null},setPivot:function(){this._pivot=ae.read(arguments,0,{clone:!0,readNull:!0}),this._position=xe}},ee.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(u,i){this[i]=function(s){return this.getBounds(s,u)}},{beans:!0,getBounds:function(u,i){var s=i||u instanceof Vt,o=ee.set({},s?i:u,this._boundsOptions);(!o.stroke||this.getStrokeScaling())&&(o.cacheItem=this);var l=this._getCachedBounds(s&&u,o).rect;return arguments.length?l:new Ke(l.x,l.y,l.width,l.height,this,"setBounds")},setBounds:function(){var u=W.read(arguments),i=this.getBounds(),s=this._matrix,o=new Vt,l=u.getCenter();o.translate(l),(u.width!=i.width||u.height!=i.height)&&(s.isInvertible()||(s.set(s._backup||(new Vt).translate(s.getTranslation())),i=this.getBounds()),o.scale(0!==i.width?u.width/i.width:0,0!==i.height?u.height/i.height:0)),l=i.getCenter(),o.translate(-l.x,-l.y),this.transform(o)},_getBounds:function(u,i){var s=this._children;return s&&s.length?(tt._updateBoundsCache(this,i.cacheItem),tt._getBounds(s,u,i)):new W},_getBoundsCacheKey:function(u,i){return[u.stroke?1:0,u.handle?1:0,i?1:0].join("")},_getCachedBounds:function(u,i,s){u=u&&u._orNullIfIdentity();var o=i.internal&&!s,l=i.cacheItem,h=o?null:this._matrix._orNullIfIdentity(),d=l&&(!u||u.equals(h))&&this._getBoundsCacheKey(i,o),p=this._bounds;if(tt._updateBoundsCache(this._parent||this._symbol,l),d&&p&&d in p)return{rect:(g=p[d]).rect.clone(),nonscaling:g.nonscaling};var m=this._getBounds(u||h,i),v=m.rect||m,b=this._style,w=m.nonscaling||b.hasStroke()&&!b.getStrokeScaling();if(d){p||(this._bounds=p={});var g=p[d]={rect:v.clone(),nonscaling:w,internal:o}}return{rect:v,nonscaling:w}},_getStrokeMatrix:function(u,i){var s=this.getStrokeScaling()?null:i&&i.internal?this:this._parent||this._symbol&&this._symbol._item,o=s?s.getViewMatrix().invert():u;return o&&o._shiftless()},statics:{_updateBoundsCache:function(u,i){if(u&&i){var s=i._id,o=u._boundsCache=u._boundsCache||{ids:{},list:[]};o.ids[s]||(o.list.push(i),o.ids[s]=i)}},_clearBoundsCache:function(u){var i=u._boundsCache;if(i){u._bounds=u._position=u._boundsCache=xe;for(var s=0,o=i.list,l=o.length;s<l;s++){var h=o[s];h!==u&&(h._bounds=h._position=xe,h._boundsCache&&tt._clearBoundsCache(h))}}},_getBounds:function(u,i,s){var o=1/0,l=-o,h=o,d=l,p=!1;s=s||{};for(var g=0,m=u.length;g<m;g++){var v=u[g];if(v._visible&&!v.isEmpty(!0)){var b=v._getCachedBounds(i&&i.appended(v._matrix),s,!0),w=b.rect;o=Math.min(w.x,o),h=Math.min(w.y,h),l=Math.max(w.x+w.width,l),d=Math.max(w.y+w.height,d),b.nonscaling&&(p=!0)}}return{rect:isFinite(o)?new W(o,h,l-o,d-h):new W,nonscaling:p}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var u=this._decompose();return u?u.rotation:0},setRotation:function(u){var i=this.getRotation();if(null!=i&&null!=u){var s=this._decomposed;this.rotate(u-i),s&&(s.rotation=u,this._decomposed=s)}},getScaling:function(){var u=this._decompose(),i=u&&u.scaling;return new ie(i?i.x:1,i?i.y:1,this,"setScaling")},setScaling:function(){var u=this.getScaling(),i=ae.read(arguments,0,{clone:!0,readNull:!0});if(u&&i&&!u.equals(i)){var s=this.getRotation(),o=this._decomposed,l=new Vt,h=ze.isZero;if(h(u.x)||h(u.y))l.translate(o.translation),s&&l.rotate(s),l.scale(i.x,i.y),this._matrix.set(l);else{var d=this.getPosition(!0);l.translate(d),s&&l.rotate(s),l.scale(i.x/u.x,i.y/u.y),s&&l.rotate(-s),l.translate(d.negate()),this.transform(l)}o&&(o.scaling=i,this._decomposed=o)}},getMatrix:function(){return this._matrix},setMatrix:function(){var u=this._matrix;u.set.apply(u,arguments)},getGlobalMatrix:function(u){var i=this._globalMatrix;if(i)for(var s=this._parent,o=[];s;){if(!s._globalMatrix){i=null;for(var l=0,h=o.length;l<h;l++)o[l]._globalMatrix=null;break}o.push(s),s=s._parent}return i||(i=this._globalMatrix=this._matrix.clone(),(s=this._parent)&&i.prepend(s.getGlobalMatrix(!0))),u?i:i.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(u){(this._applyMatrix=this._canApplyMatrix&&!!u)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(u,i){if(this._project!==u){this._project&&this._installEvents(!1),this._project=u;for(var s=this._children,o=0,l=s&&s.length;o<l;o++)s[o]._setProject(u);i=!0}i&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function u(i){u.base.call(this,i);for(var s=this._children,o=0,l=s&&s.length;o<l;o++)s[o]._installEvents(i)},getLayer:function(){for(var u=this;u=u._parent;)if(u instanceof An)return u;return null},getParent:function(){return this._parent},setParent:function(u){return u.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(u){this.removeChildren(),this.addChildren(u)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var u=this._getOwner();return u&&u._children[this._index+1]||null},getPreviousSibling:function(){var u=this._getOwner();return u&&u._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(u){return u===this||u&&this._class===u._class&&this._style.equals(u._style)&&this._matrix.equals(u._matrix)&&this._locked===u._locked&&this._visible===u._visible&&this._blendMode===u._blendMode&&this._opacity===u._opacity&&this._clipMask===u._clipMask&&this._guide===u._guide&&this._equals(u)||!1},_equals:function(u){return ee.equals(this._children,u._children)},clone:function(u){var i=new this.constructor(tt.NO_INSERT),s=this._children,o=ee.pick(u?u.insert:xe,u===xe||!0===u),l=ee.pick(u?u.deep:xe,!0);s&&i.copyAttributes(this),(!s||l)&&i.copyContent(this),s||i.copyAttributes(this),o&&i.insertAbove(this);var h=this._name,d=this._parent;if(h&&d){s=d._children;for(var p=h,g=1;s[h];)h=p+" "+g++;h!==p&&i.setName(h)}return i},copyContent:function(u){for(var i=u._children,s=0,o=i&&i.length;s<o;s++)this.addChild(i[s].clone(!1),!0)},copyAttributes:function(u,i){this.setStyle(u._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],o=0,l=s.length;o<l;o++){var h=s[o];u.hasOwnProperty(h)&&(this[h]=u[h])}i||this._matrix.set(u._matrix,!0),this.setApplyMatrix(u._applyMatrix),this.setPivot(u._pivot),this.setSelection(u._selection);var d=u._data,p=u._name;this._data=d?ee.clone(d):null,p&&this.setName(p)},rasterize:function(u,i){var s,o,l;ee.isPlainObject(u)?(s=u.resolution,o=u.insert,l=u.raster):(s=u,o=i),l||(l=new fn(tt.NO_INSERT));var h=this.getStrokeBounds(),d=(s||this.getView().getResolution())/72,p=h.getTopLeft().floor(),g=h.getBottomRight().ceil(),m=new je(g.subtract(p)),v=m.multiply(d);if(l.setSize(v,!0),!v.isZero()){var b=l.getContext(!0),w=(new Vt).scale(d).translate(p.negate());b.save(),w.applyToContext(b),this.draw(b,new ee({matrices:[w]})),b.restore()}return l._matrix.set((new Vt).translate(p.add(m.divide(2))).scale(1/d)),(o===xe||o)&&l.insertAbove(this),l},contains:function(){var u=this._matrix;return u.isInvertible()&&!!this._contains(u._inverseTransform(ae.read(arguments)))},_contains:function(u){var i=this._children;if(i){for(var s=i.length-1;s>=0;s--)if(i[s].contains(u))return!0;return!1}return u.isInside(this.getInternalBounds())},isInside:function(){return W.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new it.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(u,i){return u instanceof tt&&this._asPathItem().getIntersections(u._asPathItem(),null,i,!0).length>0}},new function(){function u(){var o=arguments;return this._hitTest(ae.read(o),tn.getOptions(o))}function i(){var o=arguments,l=ae.read(o),h=tn.getOptions(o),d=[];return this._hitTest(l,new ee({all:d},h)),d}function s(o,l,h,d){var p=this._children;if(p)for(var g=p.length-1;g>=0;g--){var m=p[g],v=m!==d&&m._hitTest(o,l,h);if(v&&!l.all)return v}return null}return Xt.inject({hitTest:u,hitTestAll:i,_hitTest:s}),{hitTest:u,hitTestAll:i,_hitTestChildren:s}},{_hitTest:function(u,i,s){if(this._locked||!this._visible||this._guide&&!i.guides||this.isEmpty())return null;var o=this._matrix,l=s?s.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),h=Math.max(i.tolerance,1e-12),d=i._tolerancePadding=new je(it._getStrokePadding(h,o._shiftless().invert()));if(!(u=o._inverseTransform(u))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(d.multiply(2))._containsPoint(u))return null;var v,b,p=!(i.guides&&!this._guide||i.selected&&!this.isSelected()||i.type&&i.type!==ee.hyphenate(this._class)||i.class&&!(this instanceof i.class)),g=i.match,m=this;function w(x){return x&&g&&!g(x)&&(x=null),x&&i.all&&i.all.push(x),x}function C(x,S){var E=S?v["get"+S]():m.getPosition();if(u.subtract(E).divide(d).length<=1)return new tn(x,m,{name:S?ee.hyphenate(S):x,point:E})}var D=i.position,k=i.center,P=i.bounds;if(p&&this._parent&&(D||k||P)){if((k||P)&&(v=this.getInternalBounds()),!(b=D&&C("position")||k&&C("center","Center"))&&P)for(var A=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],I=0;I<8&&!b;I++)b=C("bounds",A[I]);b=w(b)}return b||(b=this._hitTestChildren(u,i,l)||p&&w(this._hitTestSelf(u,i,l,this.getStrokeScaling()?null:l._shiftless().invert()))||null),b&&b.point&&(b.point=o.transform(b.point)),b},_hitTestSelf:function(u,i){if(i.fill&&this.hasFill()&&this._contains(u))return new tn("fill",this)},matches:function(u,i){var o=typeof u;if("object"===o){for(var l in u)if(u.hasOwnProperty(l)&&!this.matches(l,u[l]))return!1;return!0}if("function"===o)return u(this);if("match"===u)return i(this);var h=/^(empty|editable)$/.test(u)?this["is"+ee.capitalize(u)]():"type"===u?ee.hyphenate(this._class):this[u];if("class"===u){if("function"==typeof i)return this instanceof i;h=this._class}if("function"==typeof i)return!!i(h);if(i){if(i.test)return i.test(h);if(ee.isPlainObject(i))return function s(d,p){for(var g in d)if(d.hasOwnProperty(g)){var m=d[g],v=p[g];if(ee.isPlainObject(m)&&ee.isPlainObject(v)){if(!s(m,v))return!1}else if(!ee.equals(m,v))return!1}return!0}(i,h)}return ee.equals(h,i)},getItems:function(u){return tt._getItems(this,u,this._matrix)},getItem:function(u){return tt._getItems(this,u,this._matrix,null,!0)[0]||null},statics:{_getItems:function u(i,s,o,l,h){if(!l){var d="object"==typeof s&&s,p=d&&d.overlapping,g=d&&d.inside,w=(m=p||g)&&W.read([m]);l={items:[],recursive:d&&!1!==d.recursive,inside:!!g,overlapping:!!p,rect:w,path:p&&new it.Rectangle({rectangle:w,insert:!1})},d&&(s=ee.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var v=i._children,b=l.items;o=(w=l.rect)&&(o||new Vt);for(var C=0,D=v&&v.length;C<D;C++){var k=v[C],P=o&&o.appended(k._matrix),A=!0;if(w){var m=k.getBounds(P);if(!w.intersects(m))continue;w.contains(m)||l.overlapping&&(m.contains(w)||l.path.intersects(k,P))||(A=!1)}if(A&&k.matches(s)&&(b.push(k),h)||(!1!==l.recursive&&u(k,s,P,l,h),h&&b.length>0))break}return b}}},{importJSON:function(u){var i=ee.importJSON(u,this);return i!==this?this.addChild(i):i},addChild:function(u){return this.insertChild(xe,u)},insertChild:function(u,i){var s=i?this.insertChildren(u,[i]):null;return s&&s[0]},addChildren:function(u){return this.insertChildren(this._children.length,u)},insertChildren:function(u,i){var s=this._children;if(s&&i&&i.length>0){for(var o={},l=(i=ee.slice(i)).length-1;l>=0;l--){var d=(h=i[l])&&h._id;!h||o[d]?i.splice(l,1):(h._remove(!1,!0),o[d]=!0)}ee.splice(s,i,u,0);for(var p=this._project,g=p._changes,m=(l=0,i.length);l<m;l++){var h,v=(h=i[l])._name;h._parent=this,h._setProject(p,!0),v&&h.setName(v),g&&h._changed(5)}this._changed(11)}else i=null;return i},_insertItem:"#insertChild",_insertAt:function(u,i){var s=u&&u._getOwner(),o=u!==this&&s?this:null;return o&&(o._remove(!1,!0),s._insertItem(u._index+i,o)),o},insertAbove:function(u){return this._insertAt(u,1)},insertBelow:function(u){return this._insertAt(u,0)},sendToBack:function(){var u=this._getOwner();return u?u._insertItem(0,this):null},bringToFront:function(){var u=this._getOwner();return u?u._insertItem(xe,this):null},appendTop:"#addChild",appendBottom:function(u){return this.insertChild(0,u)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(u){return u._insertItem(xe,this)},copyTo:function(u){return this.clone(!1).addTo(u)},reduce:function(u){var i=this._children;if(i&&1===i.length){var s=i[0].reduce(u);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var u=this._getOwner();if(u){var i=u._children,s=u._namedChildren,o=this._name,l=s[o],h=l?l.indexOf(this):-1;-1!==h&&(i[o]==this&&delete i[o],l.splice(h,1),l.length?i[o]=l[0]:delete s[o])}},_remove:function(u,i){var s=this._getOwner(),o=this._project,l=this._index;return this._style&&this._style._dispose(),!!s&&(this._name&&this._removeNamed(),null!=l&&(o._activeLayer===this&&(o._activeLayer=this.getNextSibling()||this.getPreviousSibling()),ee.splice(s._children,null,l,1)),this._installEvents(!1),u&&o._changes&&this._changed(5),i&&s._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(u){var i=u&&u.insertBelow(this);return i&&this.remove(),i},removeChildren:function(u,i){if(!this._children)return null;u=u||0,i=ee.pick(i,this._children.length);for(var s=ee.splice(this._children,null,u,i-u),o=s.length-1;o>=0;o--)s[o]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var u=0,i=this._children.length;u<i;u++)this._children[u]._index=u;this._changed(11)}},isEmpty:function(u){var i=this._children,s=i?i.length:0;if(u){for(var o=0;o<s;o++)if(!i[o].isEmpty(u))return!1;return!0}return!s},isEditable:function(){for(var u=this;u;){if(!u._visible||u._locked)return!1;u=u._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(u){function i(d){var p=[];do{p.unshift(d)}while(d=d._parent);return p}for(var s=i(this),o=i(u),l=0,h=Math.min(s.length,o.length);l<h;l++)if(s[l]!=o[l])return s[l]._index<o[l]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(u){return-1===this._getOrder(u)},isBelow:function(u){return 1===this._getOrder(u)},isParent:function(u){return this._parent===u},isChild:function(u){return u&&u._parent===this},isDescendant:function(u){for(var i=this;i=i._parent;)if(i===u)return!0;return!1},isAncestor:function(u){return!!u&&u.isDescendant(this)},isSibling:function(u){return this._parent===u._parent},isGroupedWith:function(u){for(var i=this._parent;i;){if(i._parent&&/^(Group|Layer|CompoundPath)$/.test(i._class)&&u.isDescendant(i))return!0;i=i._parent}return!1}},ee.each(["rotate","scale","shear","skew"],function(u){var i="rotate"===u;this[u]=function(){var s=arguments,o=(i?ee:ae).read(s),l=ae.read(s,0,{readNull:!0});return this.transform((new Vt)[u](o,l||this.getPosition(!0)))}},{translate:function(){var u=new Vt;return this.transform(u.translate.apply(u,arguments))},transform:function(u,i,s){var o=this._matrix,l=u&&!u.isIdentity(),h=s&&this._canApplyMatrix||this._applyMatrix&&(l||!o.isIdentity()||i&&this._children);if(!l&&!h)return this;if(l){!u.isInvertible()&&o.isInvertible()&&(o._backup=o.getValues()),o.prepend(u,!0);var d=this._style,p=d.getFillColor(!0),g=d.getStrokeColor(!0);p&&p.transform(u),g&&g.transform(u)}if(h&&(h=this._transformContent(o,i,s))){var m=this._pivot;m&&o._transformPoint(m,m,!0),o.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var v=this._bounds,b=this._position;(l||h)&&this._changed(25);var w=l&&v&&u.decompose();if(w&&w.skewing.isZero()&&w.rotation%90==0){for(var C in v){var D=v[C];if(D.nonscaling)delete v[C];else if(h||!D.internal){var k=D.rect;u._transformBounds(k,k)}}this._bounds=v;var P=v[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else l&&b&&this._pivot&&(this._position=u._transformPoint(b,b));return this},_transformContent:function(u,i,s){var o=this._children;if(o){for(var l=0,h=o.length;l<h;l++)o[l].transform(u,i,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ae.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ae.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ae.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ae.read(arguments))},fitBounds:function(u,i){u=W.read(arguments);var s=this.getBounds(),o=s.height/s.width,l=u.height/u.width,h=(i?o>l:o<l)?u.width/s.width:u.height/s.height,d=new W(new ae,new je(s.width*h,s.height*h));d.setCenter(u.getCenter()),this.setBounds(d)}}),{_setStyles:function(u,i,s){var o=this._style,l=this._matrix;if(o.hasFill()&&(u.fillStyle=o.getFillColor().toCanvasStyle(u,l)),o.hasStroke()){u.strokeStyle=o.getStrokeColor().toCanvasStyle(u,l),u.lineWidth=o.getStrokeWidth();var h=o.getStrokeJoin(),d=o.getStrokeCap(),p=o.getMiterLimit();if(h&&(u.lineJoin=h),d&&(u.lineCap=d),p&&(u.miterLimit=p),Le.support.nativeDash){var g=o.getDashArray(),m=o.getDashOffset();g&&g.length&&("setLineDash"in u?(u.setLineDash(g),u.lineDashOffset=m):(u.mozDash=g,u.mozDashOffset=m))}}if(o.hasShadow()){var v=i.pixelRatio||1,b=s._shiftless().prepend((new Vt).scale(v,v)),w=b.transform(new ae(o.getShadowBlur(),0)),C=b.transform(this.getShadowOffset());u.shadowColor=o.getShadowColor().toCanvasStyle(u),u.shadowBlur=w.getLength(),u.shadowOffsetX=C.x,u.shadowOffsetY=C.y}},draw:function(u,i,s){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var l=i.matrices,h=i.viewMatrix,d=this._matrix,p=l[l.length-1].appended(d);if(p.isInvertible()){h=h?h.appended(p):p,l.push(p),i.updateMatrix&&(this._globalMatrix=p);var D,k,P,g=this._blendMode,m=ze.clamp(this._opacity,0,1),v="normal"===g,b=At.nativeModes[g],w=v&&1===m||i.dontStart||i.clip||(b||v&&m<1)&&this._canComposite(),C=i.pixelRatio||1;if(!w){var A=this.getStrokeBounds(h);if(!A.width||!A.height)return void l.pop();P=i.offset,k=i.offset=A.getTopLeft().floor(),D=u,u=zt.getContext(A.getSize().ceil().add(1).multiply(C)),1!==C&&u.scale(C,C)}u.save();var I=s?s.appended(d):this._canScaleStroke&&!this.getStrokeScaling(!0)&&h,x=!w&&i.clipItem,S=!I||x;if(w?(u.globalAlpha=m,b&&(u.globalCompositeOperation=g)):S&&u.translate(-k.x,-k.y),S&&(w?d:h).applyToContext(u),x&&i.clipItem.draw(u,i.extend({clip:!0})),I){u.setTransform(C,0,0,C,0,0);var E=i.offset;E&&u.translate(-E.x,-E.y)}this._draw(u,i,h,I),u.restore(),l.pop(),i.clip&&!i.dontFinish&&u.clip(this.getFillRule()),w||(At.process(g,u,D,m,k.subtract(P).multiply(C)),zt.release(u),i.offset=P)}}},_isUpdated:function(u){var i=this._parent;if(i instanceof gt)return i._isUpdated(u);var s=this._updateVersion===u;return!s&&i&&i._visible&&i._isUpdated(u)&&(this._updateVersion=u,s=!0),s},_drawSelection:function(u,i,s,o,l){var h=this._selection,d=1&h,p=2&h||d&&this._selectBounds,g=4&h;if(this._drawSelected||(d=!1),(d||p||g)&&this._isUpdated(l)){var m,v=this.getSelectedColor(!0)||(m=this.getLayer())&&m.getSelectedColor(!0),b=i.appended(this.getGlobalMatrix(!0)),w=s/2;if(u.strokeStyle=u.fillStyle=v?v.toCanvasStyle(u):"#009dec",d&&this._drawSelected(u,b,o),g){var C=this.getPosition(!0),D=this._parent,k=D?D.localToGlobal(C):C,P=k.x,A=k.y;u.beginPath(),u.arc(P,A,w,0,2*Math.PI,!0),u.stroke();for(var I=[[0,-1],[1,0],[0,1],[-1,0]],x=w,S=s+1,E=0;E<4;E++){var R=I[E],N=R[0],O=R[1];u.moveTo(P+N*x,A+O*x),u.lineTo(P+N*S,A+O*S),u.stroke()}}if(p){var F=b._transformCorners(this.getInternalBounds());for(u.beginPath(),E=0;E<8;E++)u[E?"lineTo":"moveTo"](F[E],F[++E]);for(u.closePath(),u.stroke(),E=0;E<8;E++)u.fillRect(F[E]-w,F[++E]-w,s,s)}}},_canComposite:function(){return!1}},ee.each(["down","drag","up","move"],function(u){this["removeOn"+ee.capitalize(u)]=function(){var i={};return i[u]=!0,this.removeOn(i)}},{removeOn:function(u){for(var i in u)if(u[i]){var s="mouse"+i,o=this._project,l=o._removeSets=o._removeSets||{};l[s]=l[s]||{},l[s][this._id]=this}return this}}),{tween:function(u,i,s){s||(s=i,i=u,u=null,s||(s=i,i=null));var h=null!=s&&("number"==typeof s?s:s.duration),d=new Fr(this,u,i,h,s&&s.easing,s&&s.start);return h&&this.on("frame",function p(g){d._handleFrame(1e3*g.time),d.running||this.off("frame",p)}),d},tweenTo:function(u,i){return this.tween(null,u,i)},tweenFrom:function(u,i){return this.tween(u,null,i)}}),Ze=tt.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||this.addChildren(Array.isArray(i)?i:arguments)},_changed:function u(i){u.base.call(this,i),2050&i&&(this._clipItem=xe)},_getClipItem:function(){var u=this._clipItem;if(u===xe){u=null;for(var i=this._children,s=0,o=i.length;s<o;s++)if(i[s]._clipMask){u=i[s];break}this._clipItem=u}return u},isClipped:function(){return!!this._getClipItem()},setClipped:function(u){var i=this.getFirstChild();i&&i.setClipMask(u)},_getBounds:function u(i,s){var o=this._getClipItem();return o?o._getCachedBounds(o._matrix.prepended(i),ee.set({},s,{stroke:!1})):u.base.call(this,i,s)},_hitTestChildren:function u(i,s,o){var l=this._getClipItem();return(!l||l.contains(i))&&u.base.call(this,i,s,o,l)},_draw:function(u,i){var s=i.clip,o=!s&&this._getClipItem();i=i.extend({clipItem:o,clip:!1}),s?(u.beginPath(),i.dontStart=i.dontFinish=!0):o&&o.draw(u,i.extend({clip:!0}));for(var l=this._children,h=0,d=l.length;h<d;h++){var p=l[h];p!==o&&p.draw(u,i)}}}),An=Ze.extend({_class:"Layer",initialize:function(){Ze.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function u(){return this._parent?u.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),xn=tt.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(i,s){this._initialize(i,s)},_equals:function(u){return this._type===u._type&&this._size.equals(u._size)&&ee.equals(this._radius,u._radius)},copyContent:function(u){this.setType(u._type),this.setSize(u._size),this.setRadius(u._radius)},getType:function(){return this._type},setType:function(u){this._type=u},getShape:"#getType",setShape:"#setType",getSize:function(){var u=this._size;return new Ee(u.width,u.height,this,"setSize")},setSize:function(){var u=je.read(arguments);if(this._size){if(!this._size.equals(u)){var i=this._type,s=u.width,o=u.height;"rectangle"===i?this._radius.set(je.min(this._radius,u.divide(2).abs())):"circle"===i?(s=o=(s+o)/2,this._radius=s/2):"ellipse"===i&&this._radius._set(s/2,o/2),this._size._set(s,o),this._changed(9)}}else this._size=u.clone()},getRadius:function(){var u=this._radius;return"circle"===this._type?u:new Ee(u.width,u.height,this,"setRadius")},setRadius:function(u){var i=this._type;if("circle"===i){if(u===this._radius)return;var s=2*u;this._radius=u,this._size._set(s,s)}else if(u=je.read(arguments),this._radius){if(this._radius.equals(u))return;this._radius.set(u),"rectangle"===i?(s=je.max(this._size,u.multiply(2)),this._size.set(s)):"ellipse"===i&&this._size._set(2*u.width,2*u.height)}else this._radius=u.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(u){var i=new(it[ee.capitalize(this._type)])({center:new ae,size:this._size,radius:this._radius,insert:!1});return i.copyAttributes(this),Le.settings.applyMatrix&&i.setApplyMatrix(!0),(u===xe||u)&&i.insertAbove(this),i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(u,i,s,o){var l=this._style,h=l.hasFill(),d=l.hasStroke(),p=i.dontFinish||i.clip,g=!o;if(h||d||p){var m=this._type,v=this._radius,b="circle"===m;if(i.dontStart||u.beginPath(),g&&b)u.arc(0,0,v,0,2*Math.PI,!0);else{var w=b?v:v.width,C=b?v:v.height,D=this._size,k=D.width,P=D.height;if(g&&"rectangle"===m&&0===w&&0===C)u.rect(-k/2,-P/2,k,P);else{var A=k/2,I=P/2,x=.44771525016920644,S=w*x,E=C*x,R=[-A,-I+C,-A,-I+E,-A+S,-I,-A+w,-I,A-w,-I,A-S,-I,A,-I+E,A,-I+C,A,I-C,A,I-E,A-S,I,A-w,I,-A+w,I,-A+S,I,-A,I-E,-A,I-C];o&&o.transform(R,R,32),u.moveTo(R[0],R[1]),u.bezierCurveTo(R[2],R[3],R[4],R[5],R[6],R[7]),A!==w&&u.lineTo(R[8],R[9]),u.bezierCurveTo(R[10],R[11],R[12],R[13],R[14],R[15]),I!==C&&u.lineTo(R[16],R[17]),u.bezierCurveTo(R[18],R[19],R[20],R[21],R[22],R[23]),A!==w&&u.lineTo(R[24],R[25]),u.bezierCurveTo(R[26],R[27],R[28],R[29],R[30],R[31])}}u.closePath()}!p&&(h||d)&&(this._setStyles(u,i,s),h&&(u.fill(l.getFillRule()),u.shadowColor="rgba(0,0,0,0)"),d&&u.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(u,i){var s=new W(this._size).setCenter(0,0),o=this._style,l=i.stroke&&o.hasStroke()&&o.getStrokeWidth();return u&&(s=u._transformBounds(s)),l?s.expand(it._getStrokePadding(l,this._getStrokeMatrix(u,i))):s}},new function(){function u(s,o,l){var h=s._radius;if(!h.isZero())for(var d=s._size.divide(2),p=1;p<=4;p++){var g=new ae(p>1&&p<4?-1:1,p>2?-1:1),m=g.multiply(d),v=m.subtract(g.multiply(h));if(new W(l?m.add(g.multiply(l)):m,v).contains(o))return{point:v,quadrant:p}}}function i(s,o,l,h){var d=s.divide(o);return(!h||d.isInQuadrant(h))&&d.subtract(d.normalize()).multiply(o).divide(l).length<=1}return{_contains:function s(o){if("rectangle"===this._type){var l=u(this,o);return l?o.subtract(l.point).divide(this._radius).getLength()<=1:s.base.call(this,o)}return o.divide(this.size).getLength()<=.5},_hitTestSelf:function s(o,l,h,d){var p=!1,g=this._style,m=l.stroke&&g.hasStroke(),v=l.fill&&g.hasFill();if(m||v){var b=this._type,w=this._radius,C=m?g.getStrokeWidth()/2:0,D=l._tolerancePadding.add(it._getStrokePadding(C,!g.getStrokeScaling()&&d));if("rectangle"===b){var k=D.multiply(2),P=u(this,o,k);if(P)p=i(o.subtract(P.point),w,D,P.quadrant);else{var A=new W(this._size).setCenter(0,0),I=A.expand(k),x=A.expand(k.negate());p=I._containsPoint(o)&&!x._containsPoint(o)}}else p=i(o,w,D)}return p?new tn(m?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function u(i,s,o,l,h){var d=ee.create(xn.prototype);return d._type=i,d._size=o,d._radius=l,d._initialize(ee.getNamed(h),s),d}return{Circle:function(){var i=arguments,s=ae.readNamed(i,"center"),o=ee.readNamed(i,"radius");return u("circle",s,new je(2*o),o,i)},Rectangle:function(){var i=arguments,s=W.readNamed(i,"rectangle"),o=je.min(je.readNamed(i,"radius"),s.getSize(!0).divide(2));return u("rectangle",s.getCenter(!0),s.getSize(!0),o,i)},Ellipse:function(){var i=arguments,s=xn._readEllipse(i),o=s.radius;return u("ellipse",s.center,o.multiply(2),o,i)},_readEllipse:function(i){var s,o;if(ee.hasNamed(i,"radius"))s=ae.readNamed(i,"center"),o=je.readNamed(i,"radius");else{var l=W.readNamed(i,"rectangle");s=l.getCenter(!0),o=l.getSize(!0).divide(2)}return{center:s,radius:o}}}}}),fn=tt.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(i,s){if(!this._initialize(i,s!==xe&&ae.read(arguments))){var o,l=typeof i,h="string"===l?Ct.getElementById(i):"object"===l?i:null;if(h&&h!==tt.NO_INSERT)if(h.getContext||null!=h.naturalHeight)o=h;else if(h){var d=je.read(arguments);d.isZero()||(o=zt.getCanvas(d))}o?this.setImage(o):this.setSource(i)}this._size||(this._size=new je,this._loaded=!1)},_equals:function(u){return this.getSource()===u.getSource()},copyContent:function(u){var i=u._image,s=u._canvas;if(i)this._setImage(i);else if(s){var o=zt.getCanvas(u._size);o.getContext("2d").drawImage(s,0,0),this._setImage(o)}this._crossOrigin=u._crossOrigin},getSize:function(){var u=this._size;return new Ee(u?u.width:0,u?u.height:0,this,"setSize")},setSize:function(u,i){var s=je.read(arguments);if(s.equals(this._size))i&&this.clear();else if(s.width>0&&s.height>0){var o=!i&&this.getElement();this._setImage(zt.getCanvas(s)),o&&this.getContext(!0).drawImage(o,0,0,s.width,s.height)}else this._canvas&&zt.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(u){this.setSize(u,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(u){this.setSize(this.getWidth(),u)},getLoaded:function(){return this._loaded},isEmpty:function(){var u=this._size;return!u||0===u.width&&0===u.height},getResolution:function(){var u=this._matrix,i=new ae(0,0).transform(u),s=new ae(1,0).transform(u).subtract(i),o=new ae(0,1).transform(u).subtract(i);return new je(72/s.getLength(),72/o.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(u){var i=this;function s(o){var l=i.getView(),h=o&&o.type||"load";l&&i.responds(h)&&(Le=l._scope,i.emit(h,new tr(o)))}this._setImage(u),this._loaded?setTimeout(s,0):u&&bt.add(u,{load:function(o){i._setImage(u),s(o)},error:s})},_setImage:function(u){this._canvas&&zt.release(this._canvas),u&&u.getContext?(this._image=null,this._canvas=u,this._loaded=!0):(this._image=u,this._canvas=null,this._loaded=!!(u&&u.src&&u.complete)),this._size=new je(u?u.naturalWidth||u.width:0,u?u.naturalHeight||u.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var u=zt.getContext(this._size);try{this._image&&u.drawImage(this._image,0,0),this._canvas=u.canvas}catch{zt.release(u)}}return this._canvas},setCanvas:"#setImage",getContext:function(u){return this._context||(this._context=this.getCanvas().getContext("2d")),u&&(this._image=null,this._changed(1025)),this._context},setContext:function(u){this._context=u},getSource:function(){var u=this._image;return u&&u.src||this.toDataURL()},setSource:function(u){var i=new ti.Image,s=this._crossOrigin;s&&(i.crossOrigin=s),u&&(i.src=u),this.setImage(i)},getCrossOrigin:function(){var u=this._image;return u&&u.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(u){this._crossOrigin=u;var i=this._image;i&&(i.crossOrigin=u)},getSmoothing:function(){return this._smoothing},setSmoothing:function(u){this._smoothing="string"==typeof u?u:u?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var u=W.read(arguments),i=zt.getContext(u.getSize());return i.drawImage(this.getCanvas(),u.x,u.y,u.width,u.height,0,0,u.width,u.height),i.canvas},getSubRaster:function(){var u=W.read(arguments),i=new fn(tt.NO_INSERT);return i._setImage(this.getSubCanvas(u)),i.translate(u.getCenter().subtract(this.getSize().divide(2))),i._matrix.prepend(this._matrix),i.insertAbove(this),i},toDataURL:function(){var u=this._image,i=u&&u.src;if(/^data:/.test(i))return i;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(u){var i=ae.read(arguments,1);this.getContext(!0).drawImage(u,i.x,i.y)},getAverageColor:function(u){var i,s;if(u?u instanceof In?(s=u,i=u.getBounds()):"object"==typeof u&&("width"in u?i=new W(u):"x"in u&&(i=new W(u.x-.5,u.y-.5,1,1))):i=this.getBounds(),!i)return null;var l=Math.min(i.width,32),h=Math.min(i.height,32),d=fn._sampleContext;d?d.clearRect(0,0,33,33):d=fn._sampleContext=zt.getContext(new je(32)),d.save();var p=(new Vt).scale(l/i.width,h/i.height).translate(-i.x,-i.y);p.applyToContext(d),s&&s.draw(d,new ee({clip:!0,matrices:[p]})),this._matrix.applyToContext(d);var g=this.getElement(),m=this._size;g&&d.drawImage(g,-m.width/2,-m.height/2),d.restore();for(var v=d.getImageData(.5,.5,Math.ceil(l),Math.ceil(h)).data,b=[0,0,0],w=0,C=0,D=v.length;C<D;C+=4){var k=v[C+3];w+=k,b[0]+=v[C]*(k/=255),b[1]+=v[C+1]*k,b[2]+=v[C+2]*k}for(C=0;C<3;C++)b[C]/=w;return w?Je.read(b):null},getPixel:function(){var u=ae.read(arguments),i=this.getContext().getImageData(u.x,u.y,1,1).data;return new Je("rgb",[i[0]/255,i[1]/255,i[2]/255],i[3]/255)},setPixel:function(){var u=arguments,i=ae.read(u),s=Je.read(u),o=s._convert("rgb"),l=s._alpha,h=this.getContext(!0),d=h.createImageData(1,1),p=d.data;p[0]=255*o[0],p[1]=255*o[1],p[2]=255*o[2],p[3]=null!=l?255*l:255,h.putImageData(d,i.x,i.y)},clear:function(){var u=this._size;this.getContext(!0).clearRect(0,0,u.width+1,u.height+1)},createImageData:function(){var u=je.read(arguments);return this.getContext().createImageData(u.width,u.height)},getImageData:function(){var u=W.read(arguments);return u.isEmpty()&&(u=new W(this._size)),this.getContext().getImageData(u.x,u.y,u.width,u.height)},putImageData:function(u){var i=ae.read(arguments,1);this.getContext(!0).putImageData(u,i.x,i.y)},setImageData:function(u){this.setSize(u),this.getContext(!0).putImageData(u,0,0)},_getBounds:function(u,i){var s=new W(this._size).setCenter(0,0);return u?u._transformBounds(s):s},_hitTestSelf:function(u){if(this._contains(u)){var i=this;return new tn("pixel",i,{offset:u.add(i._size.divide(2)).round(),color:{get:function(){return i.getPixel(this.offset)}}})}},_draw:function(u,i,s){var o=this.getElement();if(o&&o.width>0&&o.height>0){u.globalAlpha=ze.clamp(this._opacity,0,1),this._setStyles(u,i,s);var l=this._smoothing,h="off"===l;Jt.setPrefixed(u,h?"imageSmoothingEnabled":"imageSmoothingQuality",!h&&l),u.drawImage(o,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Dn=tt.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(i,s){this._initialize(i,s!==xe&&ae.read(arguments,1))||this.setDefinition(i instanceof ni?i:new ni(i))},_equals:function(u){return this._definition===u._definition},copyContent:function(u){this.setDefinition(u._definition)},getDefinition:function(){return this._definition},setDefinition:function(u){this._definition=u,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(u,i){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(u),i)},_hitTestSelf:function(u,i,s){var o=i.extend({all:!1}),l=this._definition._item._hitTest(u,o,s);return l&&(l.item=this),l},_draw:function(u,i){this._definition._item.draw(u,i)}}),ni=ee.extend({_class:"SymbolDefinition",initialize:function(i,s){this._id=ut.get(),this.project=Le.project,i&&this.setItem(i,s)},_serialize:function(u,i){return i.add(this,function(){return ee.serialize([this._class,this._item],u,!1,i)})},_changed:function(u){8&u&&tt._clearBoundsCache(this),1&u&&this.project._changed(u)},getItem:function(){return this._item},setItem:function(u,i){u._symbol&&(u=u.clone()),this._item&&(this._item._symbol=null),this._item=u,u.remove(),u.setSelected(!1),i||u.setPosition(new ae),u._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(u){return new Dn(this,u)},clone:function(){return new ni(this._item.clone(!1))},equals:function(u){return u===this||u&&this._item.equals(u._item)||!1}}),tn=ee.extend({_class:"HitResult",initialize:function(i,s,o){this.type=i,this.item=s,o&&this.inject(o)},statics:{getOptions:function(u){var i=u&&ee.read(u);return new ee({type:null,tolerance:Le.settings.hitTolerance,fill:!i,stroke:!i,segments:!i,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},i)}}}),Ne=ee.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(i,s,o,l,h,d){var g,m,v,b,p=arguments.length;p>0&&(null==i||"object"==typeof i?1===p&&i&&"point"in i?(g=i.point,m=i.handleIn,v=i.handleOut,b=i.selection):(g=i,m=s,v=o,b=l):(g=[i,s],m=o!==xe?[o,l]:null,v=h!==xe?[h,d]:null)),new Xe(g,this,"_point"),new Xe(m,this,"_handleIn"),new Xe(v,this,"_handleOut"),b&&this.setSelection(b)},_serialize:function(u,i){var s=this._point,o=this._selection,l=o||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return o&&l.push(o),ee.serialize(l,u,!0,i)},_changed:function(u){var i=this._path;if(i){var l,s=i._curves,o=this._index;s&&((!u||u===this._point||u===this._handleIn)&&(l=o>0?s[o-1]:i._closed?s[s.length-1]:null)&&l._changed(),(!u||u===this._point||u===this._handleOut)&&(l=s[o])&&l._changed()),i._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ae.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ae.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ae.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var u=this._handleIn,i=this._handleOut;return!u.isZero()&&!i.isZero()&&u.isCollinear(i)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(u){var i=this._selection,s=this._path;this._selection=u=u||0,s&&u!==i&&(s._updateSelection(this,i,u),s._changed(257))},_changeSelection:function(u,i){var s=this._selection;this.setSelection(i?s|u:s&~u)},isSelected:function(){return!!(7&this._selection)},setSelected:function(u){this._changeSelection(7,u)},getIndex:function(){return this._index!==xe?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var u=this._path,i=this._index;return u?(i>0&&!u._closed&&i===u._segments.length-1&&i--,u.getCurves()[i]||null):null},getLocation:function(){var u=this.getCurve();return u?new Te(u,this===u._segment1?0:1):null},getNext:function(){var u=this._path&&this._path._segments;return u&&(u[this._index+1]||this._path._closed&&u[0])||null},smooth:function(u,i,s){var o=u||{},l=o.type,h=o.factor,d=this.getPrevious(),p=this.getNext(),g=(d||this)._point,m=this._point,v=(p||this)._point,b=g.getDistance(m),w=m.getDistance(v);if(l&&"catmull-rom"!==l){if("geometric"!==l)throw new Error("Smoothing method '"+l+"' not supported.");if(d&&p){var S=g.subtract(v),E=h===xe?.4:h,R=E*b/(b+w);i||this.setHandleIn(S.multiply(R)),s||this.setHandleOut(S.multiply(R-E))}}else{var x,C=h===xe?.5:h,D=Math.pow(b,C),k=D*D,P=Math.pow(w,C),A=P*P;if(!i&&d){var I=2*A+3*P*D+k;this.setHandleIn(0!=(x=3*P*(P+D))?new ae((A*g._x+I*m._x-k*v._x)/x-m._x,(A*g._y+I*m._y-k*v._y)/x-m._y):new ae)}if(!s&&p)I=2*k+3*D*P+A,this.setHandleOut(0!=(x=3*D*(D+P))?new ae((k*v._x+I*m._x-A*g._x)/x-m._x,(k*v._y+I*m._y-A*g._y)/x-m._y):new ae)}},getPrevious:function(){var u=this._path&&this._path._segments;return u&&(u[this._index-1]||this._path._closed&&u[u.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var u=this._path;return u&&this._index===u._segments.length-1||!1},reverse:function(){var u=this._handleIn,i=this._handleOut,s=u.clone();u.set(i),i.set(s)},reversed:function(){return new Ne(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Ne(this._point,this._handleIn,this._handleOut)},equals:function(u){return u===this||u&&this._class===u._class&&this._point.equals(u._point)&&this._handleIn.equals(u._handleIn)&&this._handleOut.equals(u._handleOut)||!1},toString:function(){var u=["point: "+this._point];return this._handleIn.isZero()||u.push("handleIn: "+this._handleIn),this._handleOut.isZero()||u.push("handleOut: "+this._handleOut),"{ "+u.join(", ")+" }"},transform:function(u){this._transformCoordinates(u,new Array(6),!0),this._changed()},interpolate:function(u,i,s){var o=1-s,l=s,h=u._point,d=i._point,p=u._handleIn,g=i._handleIn,m=i._handleOut,v=u._handleOut;this._point._set(o*h._x+l*d._x,o*h._y+l*d._y,!0),this._handleIn._set(o*p._x+l*g._x,o*p._y+l*g._y,!0),this._handleOut._set(o*v._x+l*m._x,o*v._y+l*m._y,!0),this._changed()},_transformCoordinates:function(u,i,s){var o=this._point,l=s&&this._handleIn.isZero()?null:this._handleIn,h=s&&this._handleOut.isZero()?null:this._handleOut,d=o._x,p=o._y,g=2;return i[0]=d,i[1]=p,l&&(i[g++]=l._x+d,i[g++]=l._y+p),h&&(i[g++]=h._x+d,i[g++]=h._y+p),u&&(u._transformCoordinates(i,i,g/2),d=i[0],p=i[1],s?(o._x=d,o._y=p,g=2,l&&(l._x=i[g++]-d,l._y=i[g++]-p),h&&(h._x=i[g++]-d,h._y=i[g++]-p)):(l||(i[g++]=d,i[g++]=p),h||(i[g++]=d,i[g++]=p))),i}}),Xe=ae.extend({initialize:function(i,s,o){var l,h,d;if(i)if((l=i[0])!==xe)h=i[1];else{var p=i;(l=p.x)===xe&&(l=(p=ae.read(arguments)).x),h=p.y,d=p.selected}else l=h=0;this._x=l,this._y=h,this._owner=s,s[o]=this,d&&this.setSelected(!0)},_set:function(u,i){return this._x=u,this._y=i,this._owner._changed(this),this},getX:function(){return this._x},setX:function(u){this._x=u,this._owner._changed(this)},getY:function(){return this._y},setY:function(u){this._y=u,this._owner._changed(this)},isZero:function(){var u=ze.isZero;return u(this._x)&&u(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(u){this._owner._changeSelection(this._getSelection(),u)},_getSelection:function(){var u=this._owner;return this===u._point?1:this===u._handleIn?2:this===u._handleOut?4:0}}),ke=ee.extend({_class:"Curve",beans:!0,initialize:function(i,s,o,l,h,d,p,g){var v,b,w,C,D,k,m=arguments.length;3===m?(this._path=i,v=s,b=o):m?1===m?"segment1"in i?(v=new Ne(i.segment1),b=new Ne(i.segment2)):"point1"in i?(w=i.point1,D=i.handle1,k=i.handle2,C=i.point2):Array.isArray(i)&&(w=[i[0],i[1]],C=[i[6],i[7]],D=[i[2]-i[0],i[3]-i[1]],k=[i[4]-i[6],i[5]-i[7]]):2===m?(v=new Ne(i),b=new Ne(s)):4===m?(w=i,D=s,k=o,C=l):8===m&&(w=[i,s],C=[p,g],D=[o-i,l-s],k=[h-p,d-g]):(v=new Ne,b=new Ne),this._segment1=v||new Ne(w,null,D),this._segment2=b||new Ne(C,k,null)},_serialize:function(u,i){return ee.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],u,!0,i)},_changed:function(){this._length=this._bounds=xe},clone:function(){return new ke(this._segment1,this._segment2)},toString:function(){var u=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||u.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||u.push("handle2: "+this._segment2._handleIn),u.push("point2: "+this._segment2._point),"{ "+u.join(", ")+" }"},classify:function(){return ke.classify(this.getValues())},remove:function(){var u=!1;if(this._path){var i=this._segment2,s=i._handleOut;(u=i.remove())&&this._segment1._handleOut.set(s)}return u},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ae.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ae.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ae.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ae.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var u=this._path&&this._path._curves;return u&&(u[this._segment1._index+1]||this._path._closed&&u[0])||null},getPrevious:function(){var u=this._path&&this._path._curves;return u&&(u[this._segment1._index-1]||this._path._closed&&u[u.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var u=this._path;return u&&this._segment1._index===u._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(u){this.getPoint1().setSelected(u),this.getHandle1().setSelected(u),this.getHandle2().setSelected(u),this.getPoint2().setSelected(u)},getValues:function(u){return ke.getValues(this._segment1,this._segment2,u)},getPoints:function(){for(var u=this.getValues(),i=[],s=0;s<8;s+=2)i.push(new ae(u[s],u[s+1]));return i}},{getLength:function(){return null==this._length&&(this._length=ke.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ke.getArea(this.getValues())},getLine:function(){return new ot(this._segment1._point,this._segment2._point)},getPart:function(u,i){return new ke(ke.getPart(this.getValues(),u,i))},getPartLength:function(u,i){return ke.getLength(this.getValues(),u,i)},divideAt:function(u){return this.divideAtTime(u&&u.curve===this?u.time:this.getTimeAt(u))},divideAtTime:function(u,i){var l=null;if(u>=1e-8&&u<=.99999999){var h=ke.subdivide(this.getValues(),u),d=h[0],p=h[1],g=i||this.hasHandles(),m=this._segment1,v=this._segment2,b=this._path;g&&(m._handleOut._set(d[2]-d[0],d[3]-d[1]),v._handleIn._set(p[4]-p[6],p[5]-p[7]));var w=d[6],C=d[7],D=new Ne(new ae(w,C),g&&new ae(d[4]-w,d[5]-C),g&&new ae(p[2]-w,p[3]-C));b?(b.insert(m._index+1,D),l=this.getNext()):(this._segment2=D,this._changed(),l=new ke(D,v))}return l},splitAt:function(u){var i=this._path;return i?i.splitAt(u):null},splitAtTime:function(u){return this.splitAt(this.getLocationAtTime(u))},divide:function(u,i){return this.divideAtTime(u===xe?.5:i?u:this.getTimeAt(u))},split:function(u,i){return this.splitAtTime(u===xe?.5:i?u:this.getTimeAt(u))},reversed:function(){return new ke(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(u,i,s,o){var l=u._point,h=u._handleOut,d=i._handleIn,p=i._point,g=l.x,m=l.y,v=p.x,b=p.y,w=o?[g,m,g,m,v,b,v,b]:[g,m,g+h._x,m+h._y,v+d._x,b+d._y,v,b];return s&&s._transformCoordinates(w,w,4),w},subdivide:function(u,i){var s=u[0],o=u[1],l=u[2],h=u[3],d=u[4],p=u[5],g=u[6],m=u[7];i===xe&&(i=.5);var v=1-i,b=v*s+i*l,w=v*o+i*h,C=v*l+i*d,D=v*h+i*p,k=v*d+i*g,P=v*p+i*m,A=v*b+i*C,I=v*w+i*D,x=v*C+i*k,S=v*D+i*P,E=v*A+i*x,R=v*I+i*S;return[[s,o,b,w,A,I,E,R],[E,R,x,S,k,P,g,m]]},getMonoCurves:function(u,i){var s=[],o=i?0:1,l=u[o+0],h=u[o+2],d=u[o+4],p=u[o+6];if(l>=h==h>=d&&h>=d==d>=p||ke.isStraight(u))s.push(u);else{var C=[],D=ze.solveQuadratic(3*(h-d)-l+p,2*(l+d)-4*h,h-l,C,1e-8,.99999999);if(D){C.sort();var k=C[0],P=ke.subdivide(u,k);s.push(P[0]),D>1&&(P=ke.subdivide(P[1],k=(C[1]-k)/(1-k)),s.push(P[0])),s.push(P[1])}else s.push(u)}return s},solveCubic:function(u,i,s,o,l,h){var d=u[i],p=u[i+2],g=u[i+4],m=u[i+6],v=0;if(!(d<s&&m<s&&p<s&&g<s||d>s&&m>s&&p>s&&g>s)){var b=3*(p-d),w=3*(g-p)-b;v=ze.solveCubic(m-d-b-w,w,b,d-s,o,l,h)}return v},getTimeOf:function(u,i){var s=new ae(u[0],u[1]),o=new ae(u[6],u[7]),h=1e-7;if(null===(i.isClose(s,1e-12)?0:i.isClose(o,1e-12)?1:null))for(var p=[i.x,i.y],g=[],m=0;m<2;m++)for(var v=ke.solveCubic(u,m,p[m],g,0,1),b=0;b<v;b++){var w=g[b];if(i.isClose(ke.getPoint(u,w),h))return w}return i.isClose(s,h)?0:i.isClose(o,h)?1:null},getNearestTime:function(u,i){if(ke.isStraight(u)){var s=u[0],o=u[1],d=u[6]-s,p=u[7]-o,g=d*d+p*p;if(0===g)return 0;var m=((i.x-s)*d+(i.y-o)*p)/g;return m<1e-12?0:m>.999999999999?1:ke.getTimeOf(u,new ae(s+m*d,o+m*p))}var b=1/0,w=0;function C(P){if(P>=0&&P<=1){var A=i.getDistance(ke.getPoint(u,P),!0);if(A<b)return b=A,w=P,!0}}for(var D=0;D<=100;D++)C(D/100);for(var k=.005;k>1e-8;)!C(w-k)&&!C(w+k)&&(k/=2);return w},getPart:function(u,i,s){var o=i>s;if(o){var l=i;i=s,s=l}return i>0&&(u=ke.subdivide(u,i)[1]),s<1&&(u=ke.subdivide(u,(s-i)/(1-i))[0]),o?[u[6],u[7],u[4],u[5],u[2],u[3],u[0],u[1]]:u},isFlatEnough:function(u,i){var s=u[0],o=u[1],g=u[6],m=u[7],v=3*u[2]-2*s-g,b=3*u[3]-2*o-m,w=3*u[4]-2*g-s,C=3*u[5]-2*m-o;return Math.max(v*v,w*w)+Math.max(b*b,C*C)<=16*i*i},getArea:function(u){var i=u[0],s=u[1],o=u[2],l=u[3],h=u[4],d=u[5],p=u[6],g=u[7];return 3*((g-s)*(o+h)-(p-i)*(l+d)+l*(i-h)-o*(s-d)+g*(h+i/3)-p*(d+s/3))/20},getBounds:function(u){for(var i=u.slice(0,2),s=i.slice(),o=[0,0],l=0;l<2;l++)ke._addBounds(u[l],u[l+2],u[l+4],u[l+6],l,0,i,s,o);return new W(i[0],i[1],s[0]-i[0],s[1]-i[1])},_addBounds:function(u,i,s,o,l,h,d,p,g){function m(E,R){var N=E-R,O=E+R;N<d[l]&&(d[l]=N),O>p[l]&&(p[l]=O)}var v=d[l]+(h/=2),b=p[l]-h;if(u<v||i<v||s<v||o<v||u>b||i>b||s>b||o>b)if(i<u!=i<o&&s<u!=s<o)m(u,0),m(o,0);else{var k=ze.solveQuadratic(3*(i-s)-u+o,2*(u+s)-4*i,i-u,g);m(o,0);for(var I=0;I<k;I++){var x=g[I],S=1-x;1e-8<=x&&x<=.99999999&&m(S*S*S*u+3*S*S*x*i+3*S*x*x*s+x*x*x*o,h)}}}}},ee.each(["getBounds","getStrokeBounds","getHandleBounds"],function(u){this[u]=function(){this._bounds||(this._bounds={});var i=this._bounds[u];return i||(i=this._bounds[u]=it[u]([this._segment1,this._segment2],!1,this._path)),i.clone()}},{}),ee.each({isStraight:function(u,i,s,o){if(i.isZero()&&s.isZero())return!0;var l=o.subtract(u);if(l.isZero())return!1;if(l.isCollinear(i)&&l.isCollinear(s)){var h=new ot(u,o);if(h.getDistance(u.add(i))<1e-7&&h.getDistance(o.add(s))<1e-7){var p=l.dot(l),g=l.dot(i)/p,m=l.dot(s)/p;return g>=0&&g<=1&&m<=0&&m>=-1}}return!1},isLinear:function(u,i,s,o){var l=o.subtract(u).divide(3);return i.equals(l)&&s.negate().equals(l)}},function(u,i){this[i]=function(s){var o=this._segment1,l=this._segment2;return u(o._point,o._handleOut,l._handleIn,l._point,s)},this.statics[i]=function(s,o){var l=s[0],h=s[1],d=s[6],p=s[7];return u(new ae(l,h),new ae(s[2]-l,s[3]-h),new ae(s[4]-d,s[5]-p),new ae(d,p),o)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(u){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(u||0)},isCollinear:function(u){return u&&this.isStraight()&&u.isStraight()&&this.getLine().isCollinear(u.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(u,i){return this.getLocationAtTime(i?u:this.getTimeAt(u))},getLocationAtTime:function(u){return null!=u&&u>=0&&u<=1?new Te(this,u):null},getTimeAt:function(u,i){return ke.getTimeAt(this.getValues(),u,i)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var u=ae.read(arguments);return u.isZero()?[]:ke.getTimesWithTangent(this.getValues(),u)},getOffsetAtTime:function(u){return this.getPartLength(0,u)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ae.read(arguments)))},getOffsetOf:function(){var u=this.getLocationOf.apply(this,arguments);return u?u.getOffset():null},getTimeOf:function(){return ke.getTimeOf(this.getValues(),ae.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var u=ae.read(arguments),i=this.getValues(),s=ke.getNearestTime(i,u),o=ke.getPoint(i,s);return new Te(this,s,o,null,u.getDistance(o))},getNearestPoint:function(){var u=this.getNearestLocation.apply(this,arguments);return u&&u.getPoint()}},new function(){var u=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return ee.each(u,function(i){this[i+"At"]=function(s,o){var l=this.getValues();return ke[i](l,o?s:ke.getTimeAt(l,s))},this[i+"AtTime"]=function(s){return ke[i](this.getValues(),s)}},{statics:{_evaluateMethods:u}})},new function(){function u(o){var l=o[0],h=o[1],d=o[2],p=o[3],g=o[4],m=o[5],w=9*(d-g)+3*(o[6]-l),C=6*(l+g)-12*d,D=3*(d-l),k=9*(p-m)+3*(o[7]-h),P=6*(h+m)-12*p,A=3*(p-h);return function(I){var x=(w*I+C)*I+D,S=(k*I+P)*I+A;return Math.sqrt(x*x+S*S)}}function i(o,l){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(l-o))))}function s(o,l,h,d){if(null==l||l<0||l>1)return null;var p=o[0],g=o[1],m=o[2],v=o[3],b=o[4],w=o[5],C=o[6],D=o[7],k=ze.isZero;k(m-p)&&k(v-g)&&(m=p,v=g),k(b-C)&&k(w-D)&&(b=C,w=D);var R,N,P=3*(m-p),A=3*(b-m)-P,I=C-p-P-A,x=3*(v-g),S=3*(w-v)-x,E=D-g-x-S;if(0===h)R=0===l?p:1===l?C:((I*l+A)*l+P)*l+p,N=0===l?g:1===l?D:((E*l+S)*l+x)*l+g;else{var O=1e-8,F=1-O;if(l<O?(R=P,N=x):l>F?(R=3*(C-b),N=3*(D-w)):(R=(3*I*l+2*A)*l+P,N=(3*E*l+2*S)*l+x),d){0===R&&0===N&&(l<O||l>F)&&(R=b-m,N=w-v);var B=Math.sqrt(R*R+N*N);B&&(R/=B,N/=B)}if(3===h){b=6*I*l+2*A,w=6*E*l+2*S;var z=Math.pow(R*R+N*N,1.5);R=0!==z?(R*w-N*b)/z:0,N=0}}return 2===h?new ae(N,-R):new ae(R,N)}return{statics:{classify:function(o){var l=o[0],h=o[1],d=o[2],p=o[3],g=o[4],m=o[5],v=o[6],b=o[7],C=d*(h-b)+p*(v-l)+l*b-h*v,k=3*(g*(p-h)+m*(l-d)+d*h-p*l),P=k-C,A=P-C+(l*(b-m)+h*(g-v)+v*m-b*g),I=Math.sqrt(A*A+P*P+k*k),x=0!==I?1/I:0,S=ze.isZero,E="serpentine";function R(B,z,G){var j=z!==xe,H=j&&z>0&&z<1,$=j&&G>0&&G<1;return j&&(!(H||$)||"loop"===B&&!(H&&$))&&(B="arch",H=$=!1),{type:B,roots:H||$?H&&$?z<G?[z,G]:[G,z]:[H?z:G]:null}}if(P*=x,k*=x,S(A*=x))return S(P)?R(S(k)?"line":"quadratic"):R(E,k/(3*P));var N=3*P*P-4*A*k;if(S(N))return R("cusp",P/(2*A));var O=N>0?Math.sqrt(N/3):Math.sqrt(-N),F=2*A;return R(N>0?E:"loop",(P+O)/F,(P-O)/F)},getLength:function(o,l,h,d){if(l===xe&&(l=0),h===xe&&(h=1),ke.isStraight(o)){var p=o;h<1&&(p=ke.subdivide(p,h)[0],l/=h),l>0&&(p=ke.subdivide(p,l)[1]);var g=p[6]-p[0],m=p[7]-p[1];return Math.sqrt(g*g+m*m)}return ze.integrate(d||u(o),l,h,i(l,h))},getTimeAt:function(o,l,h){if(h===xe&&(h=l<0?1:0),0===l)return h;var d=Math.abs,g=l>0,m=g?h:0,v=g?1:h,b=u(o),w=ke.getLength(o,m,v,b),C=d(l)-w;if(d(C)<1e-12)return g?v:m;if(C>1e-12)return null;var k=0;return ze.findRoot(function P(A){return k+=ze.integrate(b,h,A,i(h,A)),h=A,k-l},b,h+l/w,m,v,32,1e-12)},getPoint:function(o,l){return s(o,l,0,!1)},getTangent:function(o,l){return s(o,l,1,!0)},getWeightedTangent:function(o,l){return s(o,l,1,!1)},getNormal:function(o,l){return s(o,l,2,!0)},getWeightedNormal:function(o,l){return s(o,l,2,!1)},getCurvature:function(o,l){return s(o,l,3,!1).x},getPeaks:function(o){var l=o[0],h=o[1],d=o[2],p=o[3],g=o[4],m=o[5],w=3*d-l-3*g+o[6],C=3*l-6*d+3*g,D=-3*l+3*d,k=3*p-h-3*m+o[7],P=3*h-6*p+3*m,A=-3*h+3*p,S=[];return ze.solveCubic(9*(w*w+k*k),9*(w*C+P*k),2*(C*C+P*P)+3*(D*w+A*k),D*C+P*A,S,1e-8,.99999999),S.sort()}}}},new function(){function u(C,D,k,P,A,I,x){var S=!x&&k.getPrevious()===A,E=!x&&k!==A&&k.getNext()===A,R=1e-8,N=1-R;if(null!==P&&P>=(S?R:0)&&P<=(E?N:1)&&null!==I&&I>=(E?R:0)&&I<=(S?N:1)){var O=new Te(k,P,null,x),F=new Te(A,I,null,x);O._intersection=F,F._intersection=O,(!D||D(O))&&Te.insert(C,O,!0)}}function i(C,D,k,P,A,I,x,S,E,R,N,O,F){if(++E>=4096||++S>=40)return E;var Me,Pe,z=D[0],G=D[1],j=D[6],H=D[7],$=ot.getSignedDistance,K=$(z,G,j,H,D[2],D[3]),Y=$(z,G,j,H,D[4],D[5]),J=K*Y>0?3/4:4/9,oe=J*Math.min(0,K,Y),he=J*Math.max(0,K,Y),ge=$(z,G,j,H,C[0],C[1]),_e=$(z,G,j,H,C[2],C[3]),le=$(z,G,j,H,C[4],C[5]),ce=$(z,G,j,H,C[6],C[7]),ue=function s(C,D,k,P){var N,A=[0,C],I=[1/3,D],x=[2/3,k],S=[1,P],E=D-(2*C+P)/3,R=k-(C+2*P)/3;if(E*R<0)N=[[A,I,S],[A,x,S]];else{var O=E/R;N=[O>=2?[A,I,S]:O<=.5?[A,x,S]:[A,I,x,S],[A,S]]}return(E||R)<0?N.reverse():N}(ge,_e,le,ce),ve=ue[0],Ce=ue[1];if(0===K&&0===Y&&0===ge&&0===_e&&0===le&&0===ce||null==(Me=o(ve,Ce,oe,he))||null==(Pe=o(ve.reverse(),Ce.reverse(),oe,he)))return E;var Fe=R+(N-R)*Me,Be=R+(N-R)*Pe;if(Math.max(F-O,Be-Fe)<1e-9){var We=(Fe+Be)/2,Pt=(O+F)/2;u(A,I,x?P:k,x?Pt:We,x?k:P,x?We:Pt)}else{C=ke.getPart(C,Me,Pe);var nt=F-O;if(Pe-Me>.8)if(Be-Fe>nt)E=i(D,(Dt=ke.subdivide(C,.5))[0],P,k,A,I,!x,S,E,O,F,Fe,We=(Fe+Be)/2),E=i(D,Dt[1],P,k,A,I,!x,S,E,O,F,We,Be);else{var Dt;E=i((Dt=ke.subdivide(D,.5))[0],C,P,k,A,I,!x,S,E,O,Pt=(O+F)/2,Fe,Be),E=i(Dt[1],C,P,k,A,I,!x,S,E,Pt,F,Fe,Be)}else E=0===nt||nt>=1e-9?i(D,C,P,k,A,I,!x,S,E,O,F,Fe,Be):i(C,D,k,P,A,I,x,S,E,Fe,Be,O,F)}return E}function o(C,D,k,P){return C[0][1]<k?l(C,!0,k):D[0][1]>P?l(D,!1,P):C[0][0]}function l(C,D,k){for(var P=C[0][0],A=C[0][1],I=1,x=C.length;I<x;I++){var S=C[I][0],E=C[I][1];if(D?E>=k:E<=k)return E===k?S:P+(k-A)*(S-P)/(E-A);P=S,A=E}return null}function h(C,D,k,P,A){var I=ze.isZero;if(I(P)&&I(A)){var x=ke.getTimeOf(C,new ae(D,k));return null===x?[]:[x]}for(var S=Math.atan2(-A,P),E=Math.sin(S),R=Math.cos(S),N=[],O=[],F=0;F<8;F+=2){var B=C[F]-D,z=C[F+1]-k;N.push(B*R-z*E,B*E+z*R)}return ke.solveCubic(N,1,0,O,0,1),O}function d(C,D,k,P,A,I,x){for(var S=D[0],E=D[1],O=h(C,S,E,D[6]-S,D[7]-E),F=0,B=O.length;F<B;F++){var z=O[F],G=ke.getPoint(C,z),j=ke.getTimeOf(D,G);null!==j&&u(A,I,x?P:k,x?j:z,x?k:P,x?z:j)}}function p(C,D,k,P,A,I){var x=ot.intersect(C[0],C[1],C[6],C[7],D[0],D[1],D[6],D[7]);x&&u(A,I,k,ke.getTimeOf(C,x),P,ke.getTimeOf(D,x))}function g(C,D,k,P,A,I){var x=1e-12,S=Math.min,E=Math.max;if(E(C[0],C[2],C[4],C[6])+x>S(D[0],D[2],D[4],D[6])&&S(C[0],C[2],C[4],C[6])-x<E(D[0],D[2],D[4],D[6])&&E(C[1],C[3],C[5],C[7])+x>S(D[1],D[3],D[5],D[7])&&S(C[1],C[3],C[5],C[7])-x<E(D[1],D[3],D[5],D[7])){var R=b(C,D);if(R)for(var N=0;N<2;N++){var O=R[N];u(A,I,k,O[0],P,O[1],!0)}else{var F=ke.isStraight(C),B=ke.isStraight(D),z=F&&B,G=F&&!B,j=A.length;if((z?p:F||B?d:i)(G?D:C,G?C:D,G?P:k,G?k:P,A,I,G,0,0,0,1,0,1),!z||A.length===j)for(N=0;N<4;N++){var H=N>>1,$=1&N,K=6*H,Y=6*$,J=new ae(C[K],C[K+1]),oe=new ae(D[Y],D[Y+1]);J.isClose(oe,x)&&u(A,I,k,H,P,$)}}}return A}function m(C,D,k,P){var A=ke.classify(C);if("loop"===A.type){var I=A.roots;u(k,P,D,I[0],D,I[1])}return k}function b(C,D){function k(ce){var ue=ce[6]-ce[0],ve=ce[7]-ce[1];return ue*ue+ve*ve}var P=Math.abs,A=ot.getDistance,x=1e-7,S=ke.isStraight(C),E=ke.isStraight(D),R=S&&E,N=k(C)<k(D),O=N?D:C,F=N?C:D,B=O[0],z=O[1],G=O[6]-B,j=O[7]-z;if(A(B,z,G,j,F[0],F[1],!0)<x&&A(B,z,G,j,F[6],F[7],!0)<x)!R&&A(B,z,G,j,O[2],O[3],!0)<x&&A(B,z,G,j,O[4],O[5],!0)<x&&A(B,z,G,j,F[2],F[3],!0)<x&&A(B,z,G,j,F[4],F[5],!0)<x&&(S=E=R=!0);else if(R)return null;if(S^E)return null;for(var H=[C,D],$=[],K=0;K<4&&$.length<2;K++){var Y=1&K,J=1^Y,oe=K>>1,he=ke.getTimeOf(H[Y],new ae(H[J][oe?6:0],H[J][oe?7:1]));if(null!=he){var ge=Y?[oe,he]:[he,oe];(!$.length||P(ge[0]-$[0][0])>1e-8&&P(ge[1]-$[0][1])>1e-8)&&$.push(ge)}if(K>2&&!$.length)break}if(2!==$.length)$=null;else if(!R){var _e=ke.getPart(C,$[0][0],$[1][0]),le=ke.getPart(D,$[0][1],$[1][1]);(P(le[2]-_e[2])>x||P(le[3]-_e[3])>x||P(le[4]-_e[4])>x||P(le[5]-_e[5])>x)&&($=null)}return $}return{getIntersections:function(C){var D=this.getValues(),k=C&&C!==this&&C.getValues();return k?g(D,k,this,C,[]):m(D,this,[])},statics:{getOverlaps:b,getIntersections:function v(C,D,k,P,A,I){var S=!D;S&&(D=C);for(var E=C.length,R=D.length,N=new Array(E),O=S?N:new Array(R),F=[],B=0;B<E;B++)N[B]=C[B].getValues(P);if(!S)for(B=0;B<R;B++)O[B]=D[B].getValues(A);for(var z=Sn.findCurveBoundsCollisions(N,O,1e-7),G=0;G<E;G++){var j=C[G],H=N[G];S&&m(H,j,F,k);var $=z[G];if($)for(var K=0;K<$.length;K++){if(I&&F.length)return F;var Y=$[K];(!S||Y>G)&&g(H,O[Y],j,D[Y],F,k)}}return F},getCurveLineIntersections:h,getTimesWithTangent:function w(C,D){var k=C[0],P=C[1],A=C[2],I=C[3],x=C[4],S=C[5],E=C[6],R=C[7],N=D.normalize(),O=N.x,F=N.y,B=3*E-9*x+9*A-3*k,z=3*R-9*S+9*I-3*P,G=6*x-12*A+6*k,j=6*S-12*I+6*P,H=3*A-3*k,$=3*I-3*P,K=2*B*F-2*z*O,Y=[];if(Math.abs(K)<ze.CURVETIME_EPSILON){if(0!=(K=B*j-z*G)){var oe=-(B*$-z*H)/K;oe>=0&&oe<=1&&Y.push(oe)}}else{var he=(G*G-4*B*H)*F*F+(-2*G*j+4*z*H+4*B*$)*O*F+(j*j-4*z*$)*O*O,ge=G*F-j*O;if(he>=0&&0!=K){var _e=Math.sqrt(he),le=-(ge+_e)/K,ce=(-ge+_e)/K;le>=0&&le<=1&&Y.push(le),ce>=0&&ce<=1&&Y.push(ce)}}return Y}}}}),Te=ee.extend({_class:"CurveLocation",initialize:function(i,s,o,l,h){if(s>=.99999999){var d=i.getNext();d&&(s=0,i=d)}this._setCurve(i),this._time=s,this._point=o||i.getPointAtTime(s),this._overlap=l,this._distance=h,this._intersection=this._next=this._previous=null},_setPath:function(u){this._path=u,this._version=u?u._version:0},_setCurve:function(u){this._setPath(u._path),this._curve=u,this._segment=null,this._segment1=u._segment1,this._segment2=u._segment2},_setSegment:function(u){var i=u.getCurve();i?this._setCurve(i):(this._setPath(u._path),this._segment1=u,this._segment2=null),this._segment=u,this._time=u===this._segment1?0:1,this._point=u._point.clone()},getSegment:function(){var u=this._segment;if(!u){var i=this.getCurve(),s=this.getTime();0===s?u=i._segment1:1===s?u=i._segment2:null!=s&&(u=i.getPartLength(0,s)<i.getPartLength(s,1)?i._segment1:i._segment2),this._segment=u}return u},getCurve:function(){var u=this._path,i=this;function s(o){var l=o&&o.getCurve();if(l&&null!=(i._time=l.getTimeOf(i._point)))return i._setCurve(l),l}return u&&u._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var u=this.getCurve();return u&&u._path},getIndex:function(){var u=this.getCurve();return u&&u.getIndex()},getTime:function(){var u=this.getCurve(),i=this._time;return u&&null==i?this._time=u.getTimeOf(this._point):i},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var u=this._offset;if(null==u){u=0;var i=this.getPath(),s=this.getIndex();if(i&&null!=s)for(var o=i.getCurves(),l=0;l<s;l++)u+=o[l].getLength();this._offset=u+=this.getCurveOffset()}return u},getCurveOffset:function(){var u=this._curveOffset;if(null==u){var i=this.getCurve(),s=this.getTime();this._curveOffset=u=null!=s&&i&&i.getPartLength(0,s)}return u},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var u=this.getCurve(),i=u&&u.divideAtTime(this.getTime());return i&&this._setSegment(i._segment1),i},split:function(){var u=this.getCurve(),i=u._path,s=u&&u.splitAtTime(this.getTime());return s&&this._setSegment(i.getLastSegment()),s},equals:function(u,i){var s=this===u;if(!s&&u instanceof Te){var o=this.getCurve(),l=u.getCurve(),h=o._path;if(h===l._path){var p=Math.abs,m=p(this.getOffset()-u.getOffset()),v=!i&&this._intersection,b=!i&&u._intersection;s=(m<1e-7||h&&p(h.getLength()-m)<1e-7)&&(!v&&!b||v&&b&&v.equals(b,!0))}}return s},toString:function(){var u=[],i=this.getPoint(),s=sn.instance;i&&u.push("point: "+i);var o=this.getIndex();null!=o&&u.push("index: "+o);var l=this.getTime();return null!=l&&u.push("time: "+s.number(l)),null!=this._distance&&u.push("distance: "+s.number(this._distance)),"{ "+u.join(", ")+" }"},isTouching:function(){var u=this._intersection;if(u&&this.getTangent().isCollinear(u.getTangent())){var i=this.getCurve(),s=u.getCurve();return!(i.isStraight()&&s.isStraight()&&i.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var u=this._intersection;if(!u)return!1;var i=this.getTime(),s=u.getTime(),o=1e-8,l=1-o,h=i>=o&&i<=l,d=s>=o&&s<=l;if(h&&d)return!this.isTouching();var p=this.getCurve(),g=p&&i<o?p.getPrevious():p,m=u.getCurve(),v=m&&s<o?m.getPrevious():m;if(i>l&&(p=p.getNext()),s>l&&(m=m.getNext()),!(g&&p&&v&&m))return!1;var b=[];function w(O,F){var B=O.getValues(),z=ke.classify(B).roots||ke.getPeaks(B),G=z.length,j=ke.getLength(B,F&&G?z[G-1]:0,!F&&G?z[0]:1);b.push(G?j:j/32)}function C(O,F,B){return F<B?O>F&&O<B:O>F||O<B}h||(w(g,!0),w(p,!1)),d||(w(v,!0),w(m,!1));var D=this.getPoint(),k=Math.min.apply(Math,b),P=h?p.getTangentAtTime(i):p.getPointAt(k).subtract(D),A=h?P.negate():g.getPointAt(-k).subtract(D),I=d?m.getTangentAtTime(s):m.getPointAt(k).subtract(D),x=d?I.negate():v.getPointAt(-k).subtract(D),S=A.getAngle(),E=P.getAngle(),R=x.getAngle(),N=I.getAngle();return!!(h?C(S,R,N)^C(E,R,N)&&C(S,N,R)^C(E,N,R):C(R,S,E)^C(N,S,E)&&C(R,E,S)^C(N,E,S))},hasOverlap:function(){return!!this._overlap}},ee.each(ke._evaluateMethods,function(u){var i=u+"At";this[u]=function(){var s=this.getCurve(),o=this.getTime();return null!=o&&s&&s[i](o,!0)}},{preserve:!0}),new function(){function u(i,s,o){var l=i.length,h=0,d=l-1;function p(D,k){for(var P=D+k;P>=-1&&P<=l;P+=k){var A=i[(P%l+l)%l];if(!s.getPoint().isClose(A.getPoint(),1e-7))break;if(s.equals(A))return A}return null}for(;h<=d;){var v,g=h+d>>>1,m=i[g];if(o&&(v=s.equals(m)?m:p(g,-1)||p(g,1)))return s._overlap&&(v._overlap=v._intersection._overlap=!0),v;var b=s.getPath(),w=m.getPath();(b!==w?b._id-w._id:s.getIndex()+s.getTime()-(m.getIndex()+m.getTime()))<0?d=g-1:h=g+1}return i.splice(h,0,s),s}return{statics:{insert:u,expand:function(i){for(var s=i.slice(),o=i.length-1;o>=0;o--)u(s,i[o]._intersection,!1);return s}}}}),In=tt.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(u){var i,s,o;if(ee.isPlainObject(u)?(s=u.segments,i=u.pathData):Array.isArray(u)?s=u:"string"==typeof u&&(i=u),s){var l=s[0];o=l&&Array.isArray(l[0])}else i&&(o=(i.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(i));return new(o?gt:it)(u)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(u){this.isClockwise()!=(u=!!u)&&this.reverse()},setPathData:function(u){var s,l,h,i=u&&u.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,d=new ae,p=new ae;function g(x,S){var E=+s[x];return o&&(E+=d[S]),E}function m(x){return new ae(g(x,"x"),g(x+1,"y"))}this.clear();for(var v=0,b=i&&i.length;v<b;v++){var w=i[v],C=w[0],D=C.toLowerCase(),k=(s=w.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&s.length;switch(o=C===D,"z"===l&&!/[mz]/.test(D)&&this.moveTo(d),D){case"m":case"l":for(var P="m"===D,A=0;A<k;A+=2)this[P?"moveTo":"lineTo"](d=m(A)),P&&(p=d,P=!1);h=d;break;case"h":case"v":var I="h"===D?"x":"y";for(d=d.clone(),A=0;A<k;A++)d[I]=g(A,I),this.lineTo(d);h=d;break;case"c":for(A=0;A<k;A+=6)this.cubicCurveTo(m(A),h=m(A+2),d=m(A+4));break;case"s":for(A=0;A<k;A+=4)this.cubicCurveTo(/[cs]/.test(l)?d.multiply(2).subtract(h):d,h=m(A),d=m(A+2)),l=D;break;case"q":for(A=0;A<k;A+=4)this.quadraticCurveTo(h=m(A),d=m(A+2));break;case"t":for(A=0;A<k;A+=2)this.quadraticCurveTo(h=/[qt]/.test(l)?d.multiply(2).subtract(h):d,d=m(A)),l=D;break;case"a":for(A=0;A<k;A+=7)this.arcTo(d=m(A+5),new je(+s[A],+s[A+1]),+s[A+2],+s[A+4],+s[A+3]);break;case"z":this.closePath(1e-12),d=p}l=D}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(u){var i=u.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(u):{};return i.onPath||!!("evenodd"===this.getFillRule()?1&i.windingL||1&i.windingR:i.winding)},getIntersections:function(u,i,s,o){var l=this===u||!u,h=this._matrix._orNullIfIdentity(),d=l?h:(s||u._matrix)._orNullIfIdentity();return l||this.getBounds(h).intersects(u.getBounds(d),1e-12)?ke.getIntersections(this.getCurves(),!l&&u.getCurves(),i,h,d,o):[]},getCrossings:function(u){return this.getIntersections(u,function(i){return i.isCrossing()})},getNearestLocation:function(){for(var u=ae.read(arguments),i=this.getCurves(),s=1/0,o=null,l=0,h=i.length;l<h;l++){var d=i[l].getNearestLocation(u);d._distance<s&&(s=d._distance,o=d)}return o},getNearestPoint:function(){var u=this.getNearestLocation.apply(this,arguments);return u&&u.getPoint()},interpolate:function(u,i,s){var o=!this._children,l=o?"_segments":"_children",h=u[l],d=i[l],p=this[l];if(!h||!d||h.length!==d.length)throw new Error("Invalid operands in interpolate() call: "+u+", "+i);var g=p.length,m=d.length;if(g<m)for(var v=o?Ne:it,b=g;b<m;b++)this.add(new v);else g>m&&this[o?"removeSegments":"removeChildren"](m,g);for(b=0;b<m;b++)p[b].interpolate(h[b],d[b],s);o&&(this.setClosed(u._closed),this._changed(9))},compare:function(u){var i=!1;if(u){var s=this._children||[this],o=u._children?u._children.slice():[u],l=s.length,h=o.length,d=[],p=0;i=!0;for(var g=Sn.findItemBoundsCollisions(s,o,ze.GEOMETRIC_EPSILON),m=l-1;m>=0&&i;m--){var v=s[m];i=!1;var b=g[m];if(b)for(var w=b.length-1;w>=0&&!i;w--)v.compare(o[b[w]])&&(d[b[w]]||(d[b[w]]=!0,p++),i=!0)}i=i&&p===h}return i}}),it=In.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(i){this._closed=!1,this._segments=[],this._version=0;var s=arguments,o=Array.isArray(i)?"object"==typeof i[0]?i:s:!i||i.size!==xe||i.x===xe&&i.point===xe?null:s;o&&o.length>0?this.setSegments(o):(this._curves=xe,this._segmentSelection=0,!o&&"string"==typeof i&&(this.setPathData(i),i=null)),this._initialize(!o&&i)},_equals:function(u){return this._closed===u._closed&&ee.equals(this._segments,u._segments)},copyContent:function(u){this.setSegments(u._segments),this._closed=u._closed},_changed:function u(i){if(u.base.call(this,i),8&i){if(this._length=this._area=xe,32&i)this._version++;else if(this._curves)for(var s=0,o=this._curves.length;s<o;s++)this._curves[s]._changed()}else 64&i&&(this._bounds=xe)},getStyle:function(){var u=this._parent;return(u instanceof gt?u:this)._style},getSegments:function(){return this._segments},setSegments:function(u){var i=this.isFullySelected(),s=u&&u.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=xe,s){var o=u[s-1];"boolean"==typeof o&&(this.setClosed(o),s--),this._add(Ne.readList(u,0,{},s))}i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var u=this._curves,i=this._segments;if(!u){var s=this._countCurves();u=this._curves=new Array(s);for(var o=0;o<s;o++)u[o]=new ke(this,i[o],i[o+1]||i[0])}return u},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var u=this.getCurves();return u[u.length-1]},isClosed:function(){return this._closed},setClosed:function(u){if(this._closed!=(u=!!u)){if(this._closed=u,this._curves){var i=this._curves.length=this._countCurves();u&&(this._curves[i-1]=new ke(this,this._segments[i-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(u,i){var p,g,m,v,b,w,C,D,s=this._segments,o=s.length,l=new sn(i),h=new Array(6),d=!0,k=[];function P(I,x){if(I._transformCoordinates(u,h),p=h[0],g=h[1],d)k.push("M"+l.pair(p,g)),d=!1;else if(w=h[3],(b=h[2])===p&&w===g&&C===m&&D===v){if(!x){var S=p-m,E=g-v;k.push(0===S?"v"+l.number(E):0===E?"h"+l.number(S):"l"+l.pair(S,E))}}else k.push("c"+l.pair(C-m,D-v)+" "+l.pair(b-m,w-v)+" "+l.pair(p-m,g-v));m=p,v=g,C=h[4],D=h[5]}if(!o)return"";for(var A=0;A<o;A++)P(s[A]);return this._closed&&o>0&&(P(s[0],!0),k.push("z")),k.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(u){for(var i=this._segments,s=new Array(6),o=0,l=i.length;o<l;o++)i[o]._transformCoordinates(u,s,!0);return!0},_add:function(u,d){for(var s=this._segments,o=this._curves,l=u.length,h=null==d,p=(d=h?s.length:d,0);p<l;p++){var g=u[p];g._path&&(g=u[p]=g.clone()),g._path=this,g._index=d+p,g._selection&&this._updateSelection(g,0,g._selection)}if(h)ee.push(s,u);else{s.splice.apply(s,[d,0].concat(u)),p=d+l;for(var m=s.length;p<m;p++)s[p]._index=p}if(o){var v=this._countCurves(),b=d>0&&d+l-1===v?d-1:d,w=b,C=Math.min(b+l,v);for(u._curves&&(o.splice.apply(o,[b,0].concat(u._curves)),w+=u._curves.length),p=w;p<C;p++)o.splice(p,0,new ke(this,null,null));this._adjustCurves(b,C)}return this._changed(41),u},_adjustCurves:function(u,i){for(var l,s=this._segments,o=this._curves,h=u;h<i;h++)(l=o[h])._path=this,l._segment1=s[h],l._segment2=s[h+1]||s[0],l._changed();(l=o[this._closed&&!u?s.length-1:u-1])&&(l._segment2=s[u]||s[0],l._changed()),(l=o[i])&&(l._segment1=s[i],l._changed())},_countCurves:function(){var u=this._segments.length;return!this._closed&&u>0?u-1:u},add:function(u){var i=arguments;return i.length>1&&"number"!=typeof u?this._add(Ne.readList(i)):this._add([Ne.read(i)])[0]},insert:function(u,i){var s=arguments;return s.length>2&&"number"!=typeof i?this._add(Ne.readList(s,1),u):this._add([Ne.read(s,1)],u)[0]},addSegment:function(){return this._add([Ne.read(arguments)])[0]},insertSegment:function(u){return this._add([Ne.read(arguments,1)],u)[0]},addSegments:function(u){return this._add(Ne.readList(u))},insertSegments:function(u,i){return this._add(Ne.readList(i),u)},removeSegment:function(u){return this.removeSegments(u,u+1)[0]||null},removeSegments:function(u,i,s){u=u||0,i=ee.pick(i,this._segments.length);var o=this._segments,l=this._curves,h=o.length,d=o.splice(u,i-u),p=d.length;if(!p)return d;for(var g=0;g<p;g++){var m=d[g];m._selection&&this._updateSelection(m,m._selection,0),m._index=m._path=null}g=u;for(var v=o.length;g<v;g++)o[g]._index=g;if(l){var b=u>0&&i===h+(this._closed?1:0)?u-1:u;for(g=(l=l.splice(b,p)).length-1;g>=0;g--)l[g]._path=null;s&&(d._curves=l.slice(1)),this._adjustCurves(b,b)}return this._changed(41),d},clear:"#removeSegments",hasHandles:function(){for(var u=this._segments,i=0,s=u.length;i<s;i++)if(u[i].hasHandles())return!0;return!1},clearHandles:function(){for(var u=this._segments,i=0,s=u.length;i<s;i++)u[i].clearHandles()},getLength:function(){if(null==this._length){for(var u=this.getCurves(),i=0,s=0,o=u.length;s<o;s++)i+=u[s].getLength();this._length=i}return this._length},getArea:function(){var u=this._area;if(null==u){var i=this._segments,s=this._closed;u=0;for(var o=0,l=i.length;o<l;o++){var h=o+1===l;u+=ke.getArea(ke.getValues(i[o],i[h?0:o+1],null,h&&!s))}this._area=u}return u},isFullySelected:function(){var u=this._segments.length;return this.isSelected()&&u>0&&this._segmentSelection===7*u},setFullySelected:function(u){u&&this._selectSegments(!0),this.setSelected(u)},setSelection:function u(i){1&i||this._selectSegments(!1),u.base.call(this,i)},_selectSegments:function(u){var i=this._segments,s=i.length,o=u?7:0;this._segmentSelection=o*s;for(var l=0;l<s;l++)i[l]._selection=o},_updateSelection:function(u,i,s){u._selection=s,(this._segmentSelection+=s-i)>0&&this.setSelected(!0)},divideAt:function(u){var s,i=this.getLocationAt(u);return i&&(s=i.getCurve().divideAt(i.getCurveOffset()))?s._segment1:null},splitAt:function(u){var i=this.getLocationAt(u),s=i&&i.index,o=i&&i.time;o>.99999999&&(s++,o=0);var d=this.getCurves();if(s>=0&&s<d.length){o>=1e-8&&d[s++].divideAtTime(o);var g,p=this.removeSegments(s,this._segments.length,!0);return this._closed?(this.setClosed(!1),g=this):((g=new it(tt.NO_INSERT)).insertAbove(this),g.copyAttributes(this)),g._add(p,0),this.addSegment(p[0]),g}return null},split:function(u,i){var s,o=i===xe?u:(s=this.getCurves()[u])&&s.getLocationAtTime(i);return null!=o?this.splitAt(o):null},join:function(u,i){var s=i||0;if(u&&u!==this){var o=u._segments,l=this.getLastSegment(),h=u.getLastSegment();if(!h)return this;l&&l._point.isClose(h._point,s)&&u.reverse();var d=u.getFirstSegment();if(l&&l._point.isClose(d._point,s))l.setHandleOut(d._handleOut),this._add(o.slice(1));else{var p=this.getFirstSegment();p&&p._point.isClose(d._point,s)&&u.reverse(),h=u.getLastSegment(),p&&p._point.isClose(h._point,s)?(p.setHandleIn(h._handleIn),this._add(o.slice(0,o.length-1),0)):this._add(o.slice())}u._closed&&this._add([o[0]]),u.remove()}var g=this.getFirstSegment(),m=this.getLastSegment();return g!==m&&g._point.isClose(m._point,s)&&(g.setHandleIn(m._handleIn),m.remove(),this.setClosed(!0)),this},reduce:function(u){for(var i=this.getCurves(),s=u&&u.simplify,o=s?1e-7:0,l=i.length-1;l>=0;l--){var h=i[l];!h.hasHandles()&&(!h.hasLength(o)||s&&h.isCollinear(h.getNext()))&&h.remove()}return this},reverse:function(){this._segments.reverse();for(var u=0,i=this._segments.length;u<i;u++){var s=this._segments[u],o=s._handleIn;s._handleIn=s._handleOut,s._handleOut=o,s._index=u}this._curves=null,this._changed(9)},flatten:function(u){for(var s=new Qn(this,u||.25,256,!0).parts,o=s.length,l=[],h=0;h<o;h++)l.push(new Ne(s[h].curve.slice(0,2)));!this._closed&&o>0&&l.push(new Ne(s[o-1].curve.slice(6))),this.setSegments(l)},simplify:function(u){var i=new dn(this).fit(u||2.5);return i&&this.setSegments(i),!!i},smooth:function(u){var i=this,s=u||{},o=s.type||"asymmetric",l=this._segments,h=l.length,d=this._closed;function p(ve,Ce){var Me=ve&&ve.index;if(null!=Me){var Pe=ve.path;if(Pe&&Pe!==i)throw new Error(ve._class+" "+Me+" of "+Pe+" is not part of "+i);Ce&&ve instanceof ke&&Me++}else Me="number"==typeof ve?ve:Ce;return Math.min(Me<0&&d?Me%h:Me<0?Me+h:Me,h-1)}var g=d&&s.from===xe&&s.to===xe,m=p(s.from,0),v=p(s.to,h-1);if(m>v)if(d)m-=h;else{var b=m;m=v,v=b}if(/^(?:asymmetric|continuous)$/.test(o)){var w="asymmetric"===o,C=Math.min,D=v-m+1,k=D-1,P=g?C(D,4):1,A=P,I=P,x=[];if(d||(A=C(1,m),I=C(1,h-v-1)),(k+=A+I)<=1)return;for(var S=0,E=m-A;S<=k;S++,E++)x[S]=l[(E<0?E+h:E)%h]._point;var R=x[0]._x+2*x[1]._x,N=x[0]._y+2*x[1]._y,O=2,F=k-1,B=[R],z=[N],G=[O],j=[],H=[];for(S=1;S<k;S++){var $=S<F,J=$?4:w?3:8,oe=$?2:w?0:1,he=($||w?1:2)/O;O=G[S]=($?4:w?2:7)-he,R=B[S]=J*x[S]._x+oe*x[S+1]._x-he*R,N=z[S]=J*x[S]._y+oe*x[S+1]._y-he*N}for(j[F]=B[F]/G[F],H[F]=z[F]/G[F],S=k-2;S>=0;S--)j[S]=(B[S]-j[S+1])/G[S],H[S]=(z[S]-H[S+1])/G[S];j[k]=(3*x[k]._x-j[F])/2,H[k]=(3*x[k]._y-H[F])/2,S=A;var ge=k-I;for(E=m;S<=ge;S++,E++){var _e=l[E<0?E+h:E],le=_e._point,ce=j[S]-le._x,ue=H[S]-le._y;(g||S<ge)&&_e.setHandleOut(ce,ue),(g||S>A)&&_e.setHandleIn(-ce,-ue)}}else for(S=m;S<=v;S++)l[S<0?S+h:S].smooth(s,!g&&S===m,!g&&S===v)},toShape:function(u){if(!this._closed)return null;var s,o,l,h,i=this._segments;function d(w,C){var D=i[w],k=D.getNext(),P=i[C],A=P.getNext();return D._handleOut.isZero()&&k._handleIn.isZero()&&P._handleOut.isZero()&&A._handleIn.isZero()&&k._point.subtract(D._point).isCollinear(A._point.subtract(P._point))}function g(w){var C=i[w],D=C.getNext(),k=C._handleOut,P=D._handleIn,A=.5522847498307936;if(k.isOrthogonal(P)){var I=C._point,x=D._point,S=new ot(I,k,!0).intersect(new ot(x,P,!0),!0);return S&&ze.isZero(k.getLength()/S.subtract(I).getLength()-A)&&ze.isZero(P.getLength()/S.subtract(x).getLength()-A)}return!1}function m(w,C){return i[w]._point.getDistance(i[C]._point)}if(!this.hasHandles()&&4===i.length&&d(0,2)&&d(1,3)&&function p(w){var C=i[w],D=C.getPrevious(),k=C.getNext();return D._handleOut.isZero()&&C._handleIn.isZero()&&C._handleOut.isZero()&&k._handleIn.isZero()&&C._point.subtract(D._point).isOrthogonal(k._point.subtract(C._point))}(1)?(s=xn.Rectangle,o=new je(m(0,3),m(0,1)),h=i[1]._point.add(i[2]._point).divide(2)):8===i.length&&g(0)&&g(2)&&g(4)&&g(6)&&d(1,5)&&d(3,7)?(s=xn.Rectangle,l=(o=new je(m(1,6),m(0,3))).subtract(new je(m(0,7),m(1,2))).divide(2),h=i[3]._point.add(i[4]._point).divide(2)):4===i.length&&g(0)&&g(1)&&g(2)&&g(3)&&(ze.isZero(m(0,2)-m(1,3))?(s=xn.Circle,l=m(0,2)/2):(s=xn.Ellipse,l=new je(m(2,0)/2,m(3,1)/2)),h=i[1]._point),s){var v=this.getPosition(!0),b=new s({center:v,size:o,radius:l,insert:!1});return b.copyAttributes(this,!0),b._matrix.prepend(this._matrix),b.rotate(h.subtract(v).getAngle()+90),(u===xe||u)&&b.insertAbove(this),b}return null},toPath:"#clone",compare:function u(i){if(!i||i instanceof gt)return u.base.call(this,i);var s=this.getCurves(),o=i.getCurves(),l=s.length,h=o.length;if(!l||!h)return l==h;for(var m,b,d=s[0].getValues(),p=[],g=0,v=0,w=0;w<h;w++){var P=o[w].getValues();if(p.push(P),C=ke.getOverlaps(d,P)){m=!w&&C[0][0]>0?h-1:w,b=C[0][1];break}}var A,D=Math.abs;for(P=p[m];d&&P;){var C;if((C=ke.getOverlaps(d,P))&&D(C[0][0]-v)<1e-8){1===(v=C[1][0])&&(d=++g<l?s[g].getValues():null,v=0);var x=C[0][1];if(D(x-b)<1e-8){if(A||(A=[m,x]),1===(b=C[1][1])&&(++m>=h&&(m=0),P=p[m]||o[m].getValues(),b=0),!d)return A[0]===m&&A[1]===b;continue}}break}return!1},_hitTestSelf:function(u,i,s,o){var b,w,C,D,k,P,l=this,h=this.getStyle(),d=this._segments,p=d.length,g=this._closed,m=i._tolerancePadding,v=m,A=i.stroke&&h.hasStroke(),I=i.fill&&h.hasFill(),x=i.curves,S=A?h.getStrokeWidth()/2:I&&i.tolerance>0||x?0:null;function E(j,H){return u.subtract(j).divide(H).length<=1}function R(j,H,$){if(!i.selected||H.isSelected()){var K=j._point;if(H!==K&&(H=H.add(K)),E(H,v))return new tn($,l,{segment:j,point:H})}}function N(j,H){return(H||i.segments)&&R(j,j._point,"segment")||!H&&i.handles&&(R(j,j._handleIn,"handle-in")||R(j,j._handleOut,"handle-out"))}function O(j){D.add(j)}function F(j){var $,H=g||j._index>0&&j._index<p-1;return"round"===(H?b:w)?E(j._point,v):(D=new it({internal:!0,closed:!0}),H?j.isSmooth()||it._addBevelJoin(j,b,S,C,null,o,O,!0):"square"===w&&it._addSquareCap(j,w,S,null,o,O,!0),D.isEmpty()?void 0:D.contains(u)||($=D.getNearestLocation(u))&&E($.getPoint(),m))}if(null!==S&&(S>0?(b=h.getStrokeJoin(),w=h.getStrokeCap(),C=h.getMiterLimit(),v=v.add(it._getStrokePadding(S,o))):b=w="round"),!i.ends||i.segments||g){if(i.segments||i.handles)for(var B=0;B<p;B++)if(P=N(d[B]))return P}else if(P=N(d[0],!0)||N(d[p-1],!0))return P;if(null!==S){if(k=this.getNearestLocation(u)){var z=k.getTime();0===z||1===z&&p>1?F(k.getSegment())||(k=null):E(k.getPoint(),v)||(k=null)}if(!k&&"miter"===b&&p>1)for(B=0;B<p;B++){var G=d[B];if(u.getDistance(G._point)<=C*S&&F(G)){k=G.getLocation();break}}}return!k&&I&&this._contains(u)||k&&!A&&!x?new tn("fill",this):k?new tn(A?"stroke":"curve",this,{location:k,point:k.getPoint()}):null}},ee.each(ke._evaluateMethods,function(u){this[u+"At"]=function(i){var s=this.getLocationAt(i);return s&&s[u]()}},{beans:!1,getLocationOf:function(){for(var u=ae.read(arguments),i=this.getCurves(),s=0,o=i.length;s<o;s++){var l=i[s].getLocationOf(u);if(l)return l}return null},getOffsetOf:function(){var u=this.getLocationOf.apply(this,arguments);return u?u.getOffset():null},getLocationAt:function(u){if("number"==typeof u){for(var i=this.getCurves(),s=0,o=0,l=i.length;o<l;o++){var h=s,d=i[o];if((s+=d.getLength())>u)return d.getLocationAt(u-h)}if(i.length>0&&u<=this.getLength())return new Te(i[i.length-1],1)}else if(u&&u.getPath&&u.getPath()===this)return u;return null},getOffsetsWithTangent:function(){var u=ae.read(arguments);if(u.isZero())return[];for(var i=[],s=0,o=this.getCurves(),l=0,h=o.length;l<h;l++){for(var d=o[l],p=d.getTimesWithTangent(u),g=0,m=p.length;g<m;g++){var v=s+d.getOffsetAtTime(p[g]);i.indexOf(v)<0&&i.push(v)}s+=d.length}return i}}),new function(){function i(s,o,l){var m,v,b,w,C,D,k,P,h=o._segments,d=h.length,p=new Array(6),g=!0;function A(x){if(l)x._transformCoordinates(l,p),m=p[0],v=p[1];else{var S=x._point;m=S._x,v=S._y}var E;g?(s.moveTo(m,v),g=!1):(l?(C=p[2],D=p[3]):(C=m+(E=x._handleIn)._x,D=v+E._y),C===m&&D===v&&k===b&&P===w?s.lineTo(m,v):s.bezierCurveTo(k,P,C,D,m,v)),b=m,w=v,l?(k=p[4],P=p[5]):(k=b+(E=x._handleOut)._x,P=w+E._y)}for(var I=0;I<d;I++)A(h[I]);o._closed&&d>0&&A(h[0])}return{_draw:function(s,o,l,h){var d=o.dontStart,p=o.dontFinish||o.clip,g=this.getStyle(),m=g.hasFill(),v=g.hasStroke(),b=g.getDashArray(),w=!Le.support.nativeDash&&v&&b&&b.length;function C(x){return b[(x%w+w)%w]}if(d||s.beginPath(),(m||v&&!w||p)&&(i(s,this,h),this._closed&&s.closePath()),!p&&(m||v)&&(this._setStyles(s,o,l),m&&(s.fill(g.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),v)){if(w){d||s.beginPath();for(var A,D=new Qn(this,.25,32,!1,h),k=D.length,P=-g.getDashOffset(),I=0;P>0;)P-=C(I--)+C(I--);for(;P<k;)A=P+C(I++),(P>0||A>0)&&D.drawPart(s,Math.max(P,0),Math.max(A,0)),P=A+C(I++)}s.stroke()}},_drawSelected:function(s,o){s.beginPath(),i(s,this,o),s.stroke(),function u(s,o,l,h){if(!(h<=0))for(var v,b,d=h/2,p=h-2,g=d-1,m=new Array(6),C=0,D=o.length;C<D;C++){var k=o[C],P=k._selection;if(k._transformCoordinates(l,m),v=m[0],b=m[1],2&P&&w(2),4&P&&w(4),s.fillRect(v-d,b-d,h,h),p>0&&!(1&P)){var A=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(v-g,b-g,p,p),s.fillStyle=A}}function w(I){var x=m[I],S=m[I+1];(v!=x||b!=S)&&(s.beginPath(),s.moveTo(v,b),s.lineTo(x,S),s.stroke(),s.beginPath(),s.arc(x,S,d,0,2*Math.PI,!0),s.fill())}}(s,this._segments,o,Le.settings.handleSize)}}},new function(){function u(i){var s=i._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var i=this._segments;1===i.length&&this.removeSegment(0),i.length||this._add([new Ne(ae.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Ne(ae.read(arguments))])},cubicCurveTo:function(){var i=arguments,s=ae.read(i),o=ae.read(i),l=ae.read(i),h=u(this);h.setHandleOut(s.subtract(h._point)),this._add([new Ne(l,o.subtract(l))])},quadraticCurveTo:function(){var i=arguments,s=ae.read(i),o=ae.read(i),l=u(this)._point;this.cubicCurveTo(s.add(l.subtract(s).multiply(1/3)),s.add(o.subtract(s).multiply(1/3)),o)},curveTo:function(){var i=arguments,s=ae.read(i),o=ae.read(i),l=ee.pick(ee.read(i),.5),h=1-l,d=u(this)._point,p=s.subtract(d.multiply(h*h)).subtract(o.multiply(l*l)).divide(2*l*h);if(p.isNaN())throw new Error("Cannot put a curve through points with parameter = "+l);this.quadraticCurveTo(p,o)},arcTo:function(){var v,b,w,C,i=arguments,s=Math.abs,o=Math.sqrt,l=u(this),h=l._point,d=ae.read(i),g=ee.peek(i);if("boolean"==typeof(m=ee.pick(g,!0)))var p=(D=h.add(d).divide(2)).add(D.subtract(h).rotate(m?-90:90));else if(ee.remain(i)<=2)p=d,d=ae.read(i);else if(!h.equals(d)){var k=je.read(i),P=ze.isZero;if(P(k.width)||P(k.height))return this.lineTo(d);var A=ee.read(i),m=!!ee.read(i),I=!!ee.read(i),D=h.add(d).divide(2),S=(x=h.subtract(D).rotate(-A)).x,E=x.y,R=s(k.width),N=s(k.height),O=R*R,F=N*N,B=S*S,z=E*E,G=o(B/O+z/F);if(G>1&&(O=(R*=G)*R,F=(N*=G)*N),s(G=(O*F-O*z-F*B)/(O*z+F*B))<1e-12&&(G=0),G<0)throw new Error("Cannot create an arc with the given arguments");v=new ae(R*E/N,-N*S/R).multiply((I===m?-1:1)*o(G)).rotate(A).add(D),b=(w=(C=(new Vt).translate(v).rotate(A).scale(R,N))._inverseTransform(h)).getDirectedAngle(C._inverseTransform(d)),!m&&b>0?b-=360:m&&b<0&&(b+=360)}if(p){var j=new ot(h.add(p).divide(2),p.subtract(h).rotate(90),!0),H=new ot(p.add(d).divide(2),d.subtract(p).rotate(90),!0),$=new ot(h,d),K=$.getSide(p);if(!(v=j.intersect(H,!0))){if(!K)return this.lineTo(d);throw new Error("Cannot create an arc with the given arguments")}b=(w=h.subtract(v)).getDirectedAngle(d.subtract(v));var Y=$.getSide(v,!0);0===Y?b=K*s(b):K===Y&&(b+=b<0?360:-360)}if(b){for(var oe=s(b),he=oe>=360?4:Math.ceil((oe-1e-5)/90),ge=b/he,_e=ge*Math.PI/360,le=4/3*Math.sin(_e)/(1+Math.cos(_e)),ce=[],ue=0;ue<=he;ue++){var x=d,ve=null;if(ue<he&&(ve=w.rotate(90).multiply(le),C?(x=C._transformPoint(w),ve=C._transformPoint(w.add(ve)).subtract(x)):x=v.add(w)),ue){var Ce=w.rotate(-90).multiply(le);C&&(Ce=C._transformPoint(w.add(Ce)).subtract(x)),ce.push(new Ne(x,Ce,ve))}else l.setHandleOut(ve);w=w.rotate(ge)}this._add(ce)}},lineBy:function(){var i=ae.read(arguments),s=u(this)._point;this.lineTo(s.add(i))},curveBy:function(){var i=arguments,s=ae.read(i),o=ae.read(i),l=ee.read(i),h=u(this)._point;this.curveTo(h.add(s),h.add(o),l)},cubicCurveBy:function(){var i=arguments,s=ae.read(i),o=ae.read(i),l=ae.read(i),h=u(this)._point;this.cubicCurveTo(h.add(s),h.add(o),h.add(l))},quadraticCurveBy:function(){var i=arguments,s=ae.read(i),o=ae.read(i),l=u(this)._point;this.quadraticCurveTo(l.add(s),l.add(o))},arcBy:function(){var i=arguments,s=u(this)._point,o=s.add(ae.read(i)),l=ee.pick(ee.peek(i),!0);this.arcTo(o,"boolean"==typeof l?l:s.add(ae.read(i)))},closePath:function(i){this.setClosed(!0),this.join(this,i)}}},{_getBounds:function(u,i){return it[i.handle?"getHandleBounds":i.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,u,i)},statics:{getBounds:function(u,i,s,o,l,h){var d=u[0];if(!d)return new W;var p=new Array(6),g=d._transformCoordinates(o,new Array(6)),m=g.slice(0,2),v=m.slice(),b=new Array(2);function w(k){k._transformCoordinates(o,p);for(var P=0;P<2;P++)ke._addBounds(g[P],g[P+4],p[P+2],p[P],P,h?h[P]:0,m,v,b);var A=g;g=p,p=A}for(var C=1,D=u.length;C<D;C++)w(u[C]);return i&&w(d),new W(m[0],m[1],v[0]-m[0],v[1]-m[1])},getStrokeBounds:function(u,i,s,o,l){var h=s.getStyle(),d=h.hasStroke(),p=h.getStrokeWidth(),g=d&&s._getStrokeMatrix(o,l),m=d&&it._getStrokePadding(p,g),v=it.getBounds(u,i,s,o,l,m);if(!d)return v;var b=p/2,w=h.getStrokeJoin(),C=h.getStrokeCap(),D=h.getMiterLimit(),k=new W(new je(m));function P(R){v=v.include(R)}function A(R){v=v.unite(k.setCenter(R._point.transform(o)))}function I(R,N){"round"===N||R.isSmooth()?A(R):it._addBevelJoin(R,N,b,D,o,g,P)}function x(R,N){"round"===N?A(R):it._addSquareCap(R,N,b,o,g,P)}var S=u.length-(i?0:1);if(S>0){for(var E=1;E<S;E++)I(u[E],w);i?I(u[0],w):(x(u[0],C),x(u[u.length-1],C))}return v},_getStrokePadding:function(u,i){if(!i)return[u,u];var s=new ae(u,0).transform(i),o=new ae(0,u).transform(i),l=s.getAngleInRadians(),h=s.getLength(),d=o.getLength(),p=Math.sin(l),g=Math.cos(l),m=Math.tan(l),v=Math.atan2(d*m,h),b=Math.atan2(d,m*h);return[Math.abs(h*Math.cos(v)*g+d*Math.sin(v)*p),Math.abs(d*Math.sin(b)*g+h*Math.cos(b)*p)]},_addBevelJoin:function(u,i,s,o,l,h,d,p){var g=u.getCurve(),m=g.getPrevious(),v=g.getPoint1().transform(l),b=m.getNormalAtTime(1).multiply(s).transform(h),w=g.getNormalAtTime(0).multiply(s).transform(h),C=b.getDirectedAngle(w);if((C<0||C>=180)&&(b=b.negate(),w=w.negate()),p&&d(v),d(v.add(b)),"miter"===i){var D=new ot(v.add(b),new ae(-b.y,b.x),!0).intersect(new ot(v.add(w),new ae(-w.y,w.x),!0),!0);D&&v.getDistance(D)<=o*s&&d(D)}d(v.add(w))},_addSquareCap:function(u,i,s,o,l,h,d){var p=u._point.transform(o),g=u.getLocation(),m=g.getNormal().multiply(0===g.getTime()?s:-s).transform(l);"square"===i&&(d&&(h(p.subtract(m)),h(p.add(m))),p=p.add(m.rotate(-90))),h(p.add(m)),h(p.subtract(m))},getHandleBounds:function(u,i,s,o,l){var p,g,h=s.getStyle();if(l.stroke&&h.hasStroke()){var m=s._getStrokeMatrix(o,l),v=h.getStrokeWidth()/2,b=v;"miter"===h.getStrokeJoin()&&(b=v*h.getMiterLimit()),"square"===h.getStrokeCap()&&(b=Math.max(b,v*Math.SQRT2)),p=it._getStrokePadding(v,m),g=it._getStrokePadding(b,m)}for(var w=new Array(6),C=1/0,D=-C,k=C,P=D,A=0,I=u.length;A<I;A++){u[A]._transformCoordinates(o,w);for(var S=0;S<6;S+=2){var E=S?p:g,R=E?E[0]:0,N=E?E[1]:0,O=w[S],F=w[S+1],B=O-R,z=O+R,G=F-N,j=F+N;B<C&&(C=B),z>D&&(D=z),G<k&&(k=G),j>P&&(P=j)}}return new W(C,k,D-C,P-k)}}});it.inject({statics:new function(){var u=.5522847498307936,i=[new Ne([-1,0],[0,u],[0,-u]),new Ne([0,-1],[-u,0],[u,0]),new Ne([1,0],[0,-u],[0,u]),new Ne([0,1],[u,0],[-u,0])];function s(l,h,d){var p=ee.getNamed(d),g=new it(p&&(1==p.insert?tt.INSERT:0==p.insert?tt.NO_INSERT:null));return g._add(l),g._closed=h,g.set(p,tt.INSERT)}function o(l,h,d){for(var p=new Array(4),g=0;g<4;g++){var m=i[g];p[g]=new Ne(m._point.multiply(h).add(l),m._handleIn.multiply(h),m._handleOut.multiply(h))}return s(p,!0,d)}return{Line:function(){var l=arguments;return s([new Ne(ae.readNamed(l,"from")),new Ne(ae.readNamed(l,"to"))],!1,l)},Circle:function(){var l=arguments,h=ae.readNamed(l,"center"),d=ee.readNamed(l,"radius");return o(h,new je(d),l)},Rectangle:function(){var b,l=arguments,h=W.readNamed(l,"rectangle"),d=je.readNamed(l,"radius",0,{readNull:!0}),p=h.getBottomLeft(!0),g=h.getTopLeft(!0),m=h.getTopRight(!0),v=h.getBottomRight(!0);if(!d||d.isZero())b=[new Ne(p),new Ne(g),new Ne(m),new Ne(v)];else{var w=(d=je.min(d,h.getSize(!0).divide(2))).width,C=d.height,D=w*u,k=C*u;b=[new Ne(p.add(w,0),null,[-D,0]),new Ne(p.subtract(0,C),[0,k]),new Ne(g.add(0,C),null,[0,-k]),new Ne(g.add(w,0),[-D,0],null),new Ne(m.subtract(w,0),null,[D,0]),new Ne(m.add(0,C),[0,-k],null),new Ne(v.subtract(0,C),null,[0,k]),new Ne(v.subtract(w,0),[D,0])]}return s(b,!0,l)},RoundRectangle:"#Rectangle",Ellipse:function(){var l=arguments,h=xn._readEllipse(l);return o(h.center,h.radius,l)},Oval:"#Ellipse",Arc:function(){var l=arguments,h=ae.readNamed(l,"from"),d=ae.readNamed(l,"through"),p=ae.readNamed(l,"to"),g=ee.getNamed(l),m=new it(g&&0==g.insert&&tt.NO_INSERT);return m.moveTo(h),m.arcTo(d,p),m.set(g)},RegularPolygon:function(){for(var l=arguments,h=ae.readNamed(l,"center"),d=ee.readNamed(l,"sides"),p=ee.readNamed(l,"radius"),g=360/d,m=d%3==0,v=new ae(0,m?-p:p),b=m?-1:.5,w=new Array(d),C=0;C<d;C++)w[C]=new Ne(h.add(v.rotate((C+b)*g)));return s(w,!0,l)},Star:function(){for(var l=arguments,h=ae.readNamed(l,"center"),d=2*ee.readNamed(l,"points"),p=ee.readNamed(l,"radius1"),g=ee.readNamed(l,"radius2"),m=360/d,v=new ae(0,-1),b=new Array(d),w=0;w<d;w++)b[w]=new Ne(h.add(v.rotate(m*w).multiply(w%2?g:p)));return s(b,!0,l)}}}});var gt=In.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||("string"==typeof i?this.setPathData(i):this.addChildren(Array.isArray(i)?i:arguments))},insertChildren:function u(i,s){var o=s,l=o[0];l&&"number"==typeof l[0]&&(o=[o]);for(var h=s.length-1;h>=0;h--){var d=o[h];o===s&&!(d instanceof it)&&(o=ee.slice(o)),Array.isArray(d)?o[h]=new it({segments:d,insert:!1}):d instanceof gt&&(o.splice.apply(o,[h,1].concat(d.removeChildren())),d.remove())}return u.base.call(this,i,o)},reduce:function u(i){for(var s=this._children,o=s.length-1;o>=0;o--)(l=s[o].reduce(i)).isEmpty()&&l.remove();var l;return s.length?u.base.call(this):((l=new it(tt.NO_INSERT)).copyAttributes(this),l.insertAbove(this),this.remove(),l)},isClosed:function(){for(var u=this._children,i=0,s=u.length;i<s;i++)if(!u[i]._closed)return!1;return!0},setClosed:function(u){for(var i=this._children,s=0,o=i.length;s<o;s++)i[s].setClosed(u)},getFirstSegment:function(){var u=this.getFirstChild();return u&&u.getFirstSegment()},getLastSegment:function(){var u=this.getLastChild();return u&&u.getLastSegment()},getCurves:function(){for(var u=this._children,i=[],s=0,o=u.length;s<o;s++)ee.push(i,u[s].getCurves());return i},getFirstCurve:function(){var u=this.getFirstChild();return u&&u.getFirstCurve()},getLastCurve:function(){var u=this.getLastChild();return u&&u.getLastCurve()},getArea:function(){for(var u=this._children,i=0,s=0,o=u.length;s<o;s++)i+=u[s].getArea();return i},getLength:function(){for(var u=this._children,i=0,s=0,o=u.length;s<o;s++)i+=u[s].getLength();return i},getPathData:function(u,i){for(var s=this._children,o=[],l=0,h=s.length;l<h;l++){var d=s[l],p=d._matrix;o.push(d.getPathData(u&&!p.isIdentity()?u.appended(p):u,i))}return o.join("")},_hitTestChildren:function u(i,s,o){return u.base.call(this,i,s.class===it||"path"===s.type?s:ee.set({},s,{fill:!1}),o)},_draw:function(u,i,s,o){var l=this._children;if(l.length){i=i.extend({dontStart:!0,dontFinish:!0}),u.beginPath();for(var h=0,d=l.length;h<d;h++)l[h].draw(u,i,o);if(!i.clip){this._setStyles(u,i,s);var p=this._style;p.hasFill()&&(u.fill(p.getFillRule()),u.shadowColor="rgba(0,0,0,0)"),p.hasStroke()&&u.stroke()}}},_drawSelected:function(u,i,s){for(var o=this._children,l=0,h=o.length;l<h;l++){var d=o[l],p=d._matrix;s[d._id]||d._drawSelected(u,p.isIdentity()?i:i.appended(p))}}},new function(){function u(i,s){var o=i._children;if(s&&!o.length)throw new Error("Use a moveTo() command first");return o[o.length-1]}return ee.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(i){this[i]=function(){var s=u(this,!0);s[i].apply(s,arguments)}},{moveTo:function(){var i=u(this),s=i&&i.isEmpty()?i:new it(tt.NO_INSERT);s!==i&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var i=u(this,!0),s=i&&i.getLastSegment(),o=ae.read(arguments);this.moveTo(s?o.add(s._point):o)},closePath:function(i){u(this,!0).closePath(i)}})},ee.each(["reverse","flatten","simplify","smooth"],function(u){this[u]=function(i){for(var o,s=this._children,l=0,h=s.length;l<h;l++)o=s[l][u](i)||o;return o}},{}));In.inject(new function(){var u=Math.min,i=Math.max,s=Math.abs,o={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function l(A){return A._children||[A]}function h(A,I){var x=A.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(I){for(var S=l(x),E=0,R=S.length;E<R;E++)!(A=S[E])._closed&&!A.isEmpty()&&(A.closePath(1e-12),A.getFirstSegment().setHandleIn(0,0),A.getLastSegment().setHandleOut(0,0));x=x.resolveCrossings().reorient("nonzero"===x.getFillRule(),!0)}return x}function d(A,I,x,S,E){var R=new gt(tt.NO_INSERT);return R.addChildren(A,!0),R=R.reduce({simplify:I}),E&&0==E.insert||R.insertAbove(S&&x.isSibling(S)&&x.getIndex()<S.getIndex()?S:x),R.copyAttributes(x,!0),R}function p(A){return A.hasOverlap()||A.isCrossing()}function g(A,I,x,S){if(S&&(0==S.trace||S.stroke)&&/^(subtract|intersect)$/.test(x))return m(A,I,x);var E=h(A,!0),R=I&&A!==I&&h(I,!0),N=o[x];N[x]=!0,R&&(N.subtract||N.exclude)^R.isClockwise()^E.isClockwise()&&R.reverse();var j,O=C(Te.expand(E.getIntersections(R,p))),F=l(E),B=R&&l(R),z=[],G=[];function H(ve){for(var Ce=0,Me=ve.length;Ce<Me;Ce++){var Pe=ve[Ce];ee.push(z,Pe._segments),ee.push(G,Pe.getCurves()),Pe._overlapsOnly=!0}}function $(ve){for(var Ce=[],Me=0,Pe=ve&&ve.length;Me<Pe;Me++)Ce.push(G[ve[Me]]);return Ce}if(O.length){H(F),B&&H(B);for(var K=new Array(G.length),Y=0,J=G.length;Y<J;Y++)K[Y]=G[Y].getValues();var oe=Sn.findCurveBoundsCollisions(K,K,0,!0),he={};for(Y=0;Y<G.length;Y++){var ge=G[Y],_e=ge._path._id;(he[_e]=he[_e]||{})[ge.getIndex()]={hor:$(oe[Y].hor),ver:$(oe[Y].ver)}}for(Y=0,J=O.length;Y<J;Y++)k(O[Y]._segment,E,R,he,N);for(Y=0,J=z.length;Y<J;Y++){var ce=z[Y],ue=ce._intersection;ce._winding||k(ce,E,R,he,N),ue&&ue._overlap||(ce._path._overlapsOnly=!1)}j=P(z,N)}else j=w(B?F.concat(B):F.slice(),function(ve){return!!N[ve]});return d(j,!0,A,I,S)}function m(A,I,x){var S=h(A),E=h(I),R=S.getIntersections(E,p),N="subtract"===x,O="divide"===x,F={},B=[];function z(H){if(!F[H._id]&&(O||E.contains(H.getPointAt(H.getLength()/2))^N))return B.unshift(H),F[H._id]=!0}for(var G=R.length-1;G>=0;G--){var j=R[G].split();j&&(z(j)&&j.getFirstSegment().setHandleIn(0,0),S.getLastSegment().setHandleOut(0,0))}return z(S),d(B,!1,A,I)}function v(A,I){for(var x=A;x;){if(x===I)return;x=x._previous}for(;A._next&&A._next!==I;)A=A._next;if(!A._next){for(;I._previous;)I=I._previous;A._next=I,I._previous=A}}function b(A){for(var I=A.length-1;I>=0;I--)A[I].clearHandles()}function w(A,I,x){var S=A&&A.length;if(S){var E=ee.each(A,function(oe,he){this[oe._id]={container:null,winding:oe.isClockwise()?1:-1,index:he}},{}),R=A.slice().sort(function(oe,he){return s(he.getArea())-s(oe.getArea())}),N=R[0],O=Sn.findItemBoundsCollisions(R,null,ze.GEOMETRIC_EPSILON);null==x&&(x=N.isClockwise());for(var F=0;F<S;F++){var B=R[F],z=E[B._id],G=0,j=O[F];if(j)for(var H=null,$=j.length-1;$>=0;$--)if(j[$]<F){H=H||B.getInteriorPoint();var K=R[j[$]];if(K.contains(H)){var Y=E[K._id];z.winding+=G=Y.winding,z.container=Y.exclude?Y.container:K;break}}if(I(z.winding)===I(G))z.exclude=!0,A[z.index]=null;else{var J=z.container;B.setClockwise(J?!J.isClockwise():x)}}}return A}function C(A,I,x){var B,z,G,S=I&&[],N=!1,O=x||[],F=x&&{};function j(Ce){return Ce._path._id+"."+Ce._segment1._index}for(var H=(x&&x.length)-1;H>=0;H--)($=x[H])._path&&(F[j($)]=!0);for(H=A.length-1;H>=0;H--){var $,he,K=A[H],Y=K._time,J=Y,oe=I&&!I(K);if(($=K._curve)&&($!==z?(N=!$.hasHandles()||F&&F[j($)],B=[],G=null,z=$):G>=1e-8&&(Y/=G)),oe)B&&B.push(K);else{if(I&&S.unshift(K),G=J,Y<1e-8)he=$._segment1;else if(Y>.99999999)he=$._segment2;else{var ge=$.divideAtTime(Y,!0);N&&O.push($,ge),he=ge._segment1;for(var _e=B.length-1;_e>=0;_e--){var le=B[_e];le._time=(le._time-Y)/(1-Y)}}K._setSegment(he);var ce=he._intersection,ue=K._intersection;if(ce){v(ce,ue);for(var ve=ce;ve;)v(ve._intersection,ce),ve=ve._next}else he._intersection=ue}}return x||b(O),S||A}function D(A,I,x,S,E){var ce,ue,R=Array.isArray(I)?I:I[x?"hor":"ver"],N=x?1:0,O=1^N,F=[A.x,A.y],B=F[N],z=F[O],j=1e-6,H=B-1e-9,$=B+1e-9,K=0,Y=0,J=0,oe=0,he=!1,ge=!1,_e=1,le=[];function ve(lt){var rt=lt[O+0],Ye=lt[O+6];if(!(z<u(rt,Ye)||z>i(rt,Ye))){var Rt=lt[N+0],Oe=lt[N+2],wn=lt[N+4],Pn=lt[N+6];if(rt===Ye)return void((Rt<$&&Pn>H||Pn<$&&Rt>H)&&(he=!0));var ln=z===rt?0:z===Ye||H>i(Rt,Oe,wn,Pn)||$<u(Rt,Oe,wn,Pn)?1:ke.solveCubic(lt,O,z,le,0,1)>0?le[0]:1,Ue=0===ln?Rt:1===ln?Pn:ke.getPoint(lt,ln)[x?"y":"x"],Yt=rt>Ye?1:-1,Gn=ce[N+6];return z!==rt?(Ue<H?J+=Yt:Ue>$?oe+=Yt:he=!0,Ue>B-j&&Ue<B+j&&(_e/=2)):(Yt!==(ce[O]>ce[O+6]?1:-1)?Rt<H?J+=Yt:Rt>$&&(oe+=Yt):Rt!=Gn&&(Gn<$&&Ue>$?(oe+=Yt,he=!0):Gn>H&&Ue<H&&(J+=Yt,he=!0)),_e/=4),ce=lt,!E&&Ue>H&&Ue<$&&0===ke.getTangent(lt,ln)[x?"x":"y"]&&D(A,I,!x,S,!0)}}function Ce(lt){var rt=lt[O+0],Ye=lt[O+2],Rt=lt[O+4],Oe=lt[O+6];if(z<=i(rt,Ye,Rt,Oe)&&z>=u(rt,Ye,Rt,Oe))for(var Cn,wn=lt[N+0],Pn=lt[N+2],ln=lt[N+4],Ue=lt[N+6],Yt=H>i(wn,Pn,ln,Ue)||$<u(wn,Pn,ln,Ue)?[lt]:ke.getMonoCurves(lt,x),Gn=0,_=Yt.length;Gn<_;Gn++)if(Cn=ve(Yt[Gn]))return Cn}for(var Me=0,Pe=R.length;Me<Pe;Me++){var Pt,Fe=R[Me],Be=Fe._path,We=Fe.getValues();if(!(Me&&R[Me-1]._path===Be||(ce=null,Be._closed||(ue=ke.getValues(Be.getLastCurve().getSegment2(),Fe.getSegment1(),null,!S),ue[O]!==ue[O+6]&&(ce=ue)),ce))){ce=We;for(var nt=Be.getLastCurve();nt&&nt!==Fe;){var Dt=nt.getValues();if(Dt[O]!==Dt[O+6]){ce=Dt;break}nt=nt.getPrevious()}}if(Pt=Ce(We))return Pt;if(Me+1===Pe||R[Me+1]._path!==Be){if(ue&&(Pt=Ce(ue)))return Pt;he&&!J&&!oe&&(J=oe=Be.isClockwise(S)^x?1:-1),K+=J,Y+=oe,J=oe=0,he&&(ge=!0,he=!1),ue=null}}return K=s(K),Y=s(Y),{winding:i(K,Y),windingL:K,windingR:Y,quality:_e,onPath:ge}}function k(A,I,x,S,E){var R=[],N=A,O=0;do{if(F=A.getCurve()){var B=F.getLength();R.push({segment:A,curve:F,length:B}),O+=B}A=A.getNext()}while(A&&!A._intersection&&A!==N);for(var z=[.5,.25,.75],G={winding:0,quality:-1},$=0;$<z.length&&G.quality<.5;$++){B=O*z[$];for(var K=0,Y=R.length;K<Y;K++){var J=R[K],oe=J.length;if(B<=oe){var F,he=(F=J.curve)._path,ge=he._parent,_e=ge instanceof gt?ge:he,le=ze.clamp(F.getTimeAt(B),.001,.999),ce=F.getPointAtTime(le),ue=s(F.getTangentAtTime(le).y)<Math.SQRT1_2,ve=null;if(E.subtract&&x){var Me=(_e===I?x:I)._getWinding(ce,ue,!0);if(_e===I&&Me.winding||_e===x&&!Me.winding){if(Me.quality<1)continue;ve={winding:0,quality:1}}}(ve=ve||D(ce,S[he._id][F.getIndex()],ue,!0)).quality>G.quality&&(G=ve);break}B-=oe}}for(K=R.length-1;K>=0;K--)R[K].segment._winding=G}function P(A,I){var S,x=[];function E(Pe){var Fe;return!(!Pe||Pe._visited||I&&(!I[(Fe=Pe._winding||{}).winding]||I.unite&&2===Fe.winding&&Fe.windingL&&Fe.windingR))}function R(Pe){if(Pe)for(var Fe=0,Be=S.length;Fe<Be;Fe++)if(Pe===S[Fe])return!0;return!1}function N(Pe){for(var Fe=Pe._segments,Be=0,We=Fe.length;Be<We;Be++)Fe[Be]._visited=!0}function O(Pe,Fe){var Be=Pe._intersection,We=Be,Pt=[];function nt(Dt,lt){for(;Dt&&Dt!==lt;){var rt=Dt._segment,Ye=rt&&rt._path;if(Ye){var Rt=rt.getNext()||Ye.getFirstSegment(),Oe=Rt._intersection;rt!==Pe&&(R(rt)||R(Rt)||Rt&&E(rt)&&(E(Rt)||Oe&&E(Oe._segment)))&&Pt.push(rt),Fe&&S.push(rt)}Dt=Dt._next}}if(Fe&&(S=[Pe]),Be){for(nt(Be);Be&&Be._previous;)Be=Be._previous;nt(Be,We)}return Pt}A.sort(function(Pe,Fe){var Be=Pe._intersection,We=Fe._intersection,Pt=!(!Be||!Be._overlap),Dt=Pe._path,lt=Fe._path;return Pt^!(!We||!We._overlap)?Pt?1:-1:!Be^!We?Be?1:-1:Dt!==lt?Dt._id-lt._id:Pe._index-Fe._index});for(var F=0,B=A.length;F<B;F++){var Y,J,oe,z=A[F],G=E(z),j=null,H=!1,$=!0,K=[];if(G&&z._path._overlapsOnly){var he=z._path,ge=z._intersection._segment._path;he.compare(ge)&&(he.getArea()&&x.push(he.clone(!1)),N(he),N(ge),G=!1)}for(;G;){var _e=!j,le=O(z,_e),ce=le.shift(),ue=!(H=!_e&&(R(z)||R(ce)))&&ce;if(_e&&(j=new it(tt.NO_INSERT),Y=null),H){(z.isFirst()||z.isLast())&&($=z._path._closed),z._visited=!0;break}if(ue&&Y&&(K.push(Y),Y=null),Y||(ue&&le.push(z),Y={start:j._segments.length,crossings:le,visited:J=[],handleIn:oe}),ue&&(z=ce),!E(z)){j.removeSegments(Y.start);for(var ve=0,Ce=J.length;ve<Ce;ve++)J[ve]._visited=!1;J.length=0;do{(!(z=Y&&Y.crossings.shift())||!z._path)&&(z=null,(Y=K.pop())&&(J=Y.visited,oe=Y.handleIn))}while(Y&&!E(z));if(!z)break}var Me=z.getNext();j.add(new Ne(z._point,oe,Me&&z._handleOut)),z._visited=!0,J.push(z),z=Me||z._path.getFirstSegment(),oe=Me&&Me._handleIn}H&&($&&(j.getFirstSegment().setHandleIn(oe),j.setClosed($)),0!==j.getArea()&&x.push(j))}return x}return{_getWinding:function(A,I,x){return D(A,this.getCurves(),I,x)},unite:function(A,I){return g(this,A,"unite",I)},intersect:function(A,I){return g(this,A,"intersect",I)},subtract:function(A,I){return g(this,A,"subtract",I)},exclude:function(A,I){return g(this,A,"exclude",I)},divide:function(A,I){return I&&(0==I.trace||I.stroke)?m(this,A,"divide"):d([this.subtract(A,I),this.intersect(A,I)],!0,this,A,I)},resolveCrossings:function(){var A=this._children,I=A||[this];function x(Y,J){var oe=Y&&Y._intersection;return oe&&oe._overlap&&oe._path===J}var S=!1,E=!1,R=this.getIntersections(null,function(Y){return Y.hasOverlap()&&(S=!0)||Y.isCrossing()&&(E=!0)}),N=S&&E&&[];if(R=Te.expand(R),S)for(var O=C(R,function(Y){return Y.hasOverlap()},N),F=O.length-1;F>=0;F--){var B=O[F],z=B._path,G=B._segment,j=G.getPrevious(),H=G.getNext();x(j,z)&&x(H,z)&&(G.remove(),j._handleOut._set(0,0),H._handleIn._set(0,0),j!==G&&!j.getCurve().hasLength()&&(H._handleIn.set(j._handleIn),j.remove()))}E&&(C(R,S&&function(Y){var J=Y.getCurve(),oe=Y.getSegment(),he=Y._intersection,ge=he._curve,_e=he._segment;if(J&&ge&&J._path&&ge._path)return!0;oe&&(oe._intersection=null),_e&&(_e._intersection=null)},N),N&&b(N),I=P(ee.each(I,function(Y){ee.push(this,Y._segments)},[])));var K,$=I.length;return $>1&&A?(I!==A&&this.setChildren(I),K=this):1===$&&!A&&(I[0]!==this&&this.setSegments(I[0].removeSegments()),K=this),K||((K=new gt(tt.NO_INSERT)).addChildren(I),(K=K.reduce()).copyAttributes(this),this.replaceWith(K)),K},reorient:function(A,I){var x=this._children;return x&&x.length?this.setChildren(w(this.removeChildren(),function(S){return!!(A?S:1&S)},I)):I!==xe&&this.setClockwise(I),this},getInteriorPoint:function(){var I=this.getBounds().getCenter(!0);if(!this.contains(I)){for(var x=this.getCurves(),S=I.y,E=[],R=[],N=0,O=x.length;N<O;N++){var F=x[N].getValues(),B=F[1],z=F[3],G=F[5],j=F[7];if(S>=u(B,z,G,j)&&S<=i(B,z,G,j))for(var H=ke.getMonoCurves(F),$=0,K=H.length;$<K;$++){var Y=H[$],J=Y[1],oe=Y[7];if(J!==oe&&(S>=J&&S<=oe||S>=oe&&S<=J)){var he=S===J?Y[0]:S===oe?Y[6]:1===ke.solveCubic(Y,1,S,R,0,1)?ke.getPoint(Y,R[0]).x:(Y[0]+Y[6])/2;E.push(he)}}}E.length>1&&(E.sort(function(ge,_e){return ge-_e}),I.x=(E[0]+E[1])/2)}return I}}});var Qn=ee.extend({_class:"PathFlattener",initialize:function(u,i,s,o,l){var b,h=[],d=[],p=0,g=1/(s||32),m=u._segments,v=m[0];function w(P,A){var I=ke.getValues(P,A,l);h.push(I),C(I,P._index,0,1)}function C(P,A,I,x){if(!(x-I>g)||o&&ke.isStraight(P)||ke.isFlatEnough(P,i||.25)){var R=P[6]-P[0],N=P[7]-P[1],O=Math.sqrt(R*R+N*N);O>0&&d.push({offset:p+=O,curve:P,index:A,time:x})}else{var S=ke.subdivide(P,.5),E=(I+x)/2;C(S[0],A,I,E),C(S[1],A,E,x)}}for(var D=1,k=m.length;D<k;D++)w(v,b=m[D]),v=b;u._closed&&w(b||v,m[0]),this.curves=h,this.parts=d,this.length=p,this.index=0},_get:function(u){for(var l,i=this.parts,s=i.length,h=this.index;l=h,h&&!(i[--h].offset<u););for(;l<s;l++){var d=i[l];if(d.offset>=u){this.index=l;var p=i[l-1],g=p&&p.index===d.index?p.time:0,m=p?p.offset:0;return{index:d.index,time:g+(d.time-g)*(u-m)/(d.offset-m)}}}return{index:i[s-1].index,time:1}},drawPart:function(u,i,s){for(var o=this._get(i),l=this._get(s),h=o.index,d=l.index;h<=d;h++){var p=ke.getPart(this.curves[h],h===o.index?o.time:0,h===l.index?l.time:1);h===o.index&&u.moveTo(p[0],p[1]),u.bezierCurveTo.apply(u,p.slice(2))}}},ee.each(ke._evaluateMethods,function(u){this[u+"At"]=function(i){var s=this._get(i);return ke[u](this.curves[s.index],s.time)}},{})),dn=ee.extend({initialize:function(u){for(var h,i=this.points=[],s=u._segments,o=u._closed,l=0,d=s.length;l<d;l++){var p=s[l].point;(!h||!h.equals(p))&&i.push(h=p.clone())}o&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=o},fit:function(u){var i=this.points,s=i.length,o=null;return s>0&&(o=[new Ne(i[0])],s>1&&(this.fitCubic(o,u,0,s-1,i[1].subtract(i[0]),i[s-2].subtract(i[s-1])),this.closed&&(o.shift(),o.pop()))),o},fitCubic:function(u,i,s,o,l,h){var d=this.points;if(o-s!=1){for(var w,v=this.chordLengthParameterize(s,o),b=Math.max(i,i*i),C=!0,D=0;D<=4;D++){var k=this.generateBezier(s,o,v,l,h),P=this.findMaxError(s,o,k,v);if(P.error<i&&C)return void this.addCurve(u,k);if(w=P.index,P.error>=b)break;C=this.reparameterize(s,o,v,k),b=P.error}var A=d[w-1].subtract(d[w+1]);this.fitCubic(u,i,s,w,l,A),this.fitCubic(u,i,w,o,A.negate(),h)}else{var p=d[s],g=d[o],m=p.getDistance(g)/3;this.addCurve(u,[p,p.add(l.normalize(m)),g.add(h.normalize(m)),g])}},addCurve:function(u,i){u[u.length-1].setHandleOut(i[1].subtract(i[0])),u.push(new Ne(i[3],i[2].subtract(i[3])))},generateBezier:function(u,i,s,o,l){for(var h=1e-12,d=Math.abs,p=this.points,g=p[u],m=p[i],v=[[0,0],[0,0]],b=[0,0],w=0,C=i-u+1;w<C;w++){var D=s[w],k=1-D,P=3*D*k,A=k*k*k,I=P*k,x=P*D,S=D*D*D,E=o.normalize(I),R=l.normalize(x),N=p[u+w].subtract(g.multiply(A+I)).subtract(m.multiply(x+S));v[0][0]+=E.dot(E),v[0][1]+=E.dot(R),v[1][0]=v[0][1],v[1][1]+=R.dot(R),b[0]+=E.dot(N),b[1]+=R.dot(N)}var F,B,O=v[0][0]*v[1][1]-v[1][0]*v[0][1];if(d(O)>h)F=(b[0]*v[1][1]-b[1]*v[0][1])/O,B=(v[0][0]*b[1]-v[1][0]*b[0])/O;else{var j=v[0][0]+v[0][1],H=v[1][0]+v[1][1];F=B=d(j)>h?b[0]/j:d(H)>h?b[1]/H:0}var Y,J,$=m.getDistance(g),K=h*$;if(F<K||B<K)F=B=$/3;else{var oe=m.subtract(g);Y=o.normalize(F),J=l.normalize(B),Y.dot(oe)-J.dot(oe)>$*$&&(F=B=$/3,Y=J=null)}return[g,g.add(Y||o.normalize(F)),m.add(J||l.normalize(B)),m]},reparameterize:function(u,i,s,o){for(var l=u;l<=i;l++)s[l-u]=this.findRoot(o,this.points[l],s[l-u]);l=1;for(var h=s.length;l<h;l++)if(s[l]<=s[l-1])return!1;return!0},findRoot:function(u,i,s){for(var o=[],l=[],h=0;h<=2;h++)o[h]=u[h+1].subtract(u[h]).multiply(3);for(h=0;h<=1;h++)l[h]=o[h+1].subtract(o[h]).multiply(2);var d=this.evaluate(3,u,s),p=this.evaluate(2,o,s),g=this.evaluate(1,l,s),m=d.subtract(i),v=p.dot(p)+m.dot(g);return ze.isMachineZero(v)?s:s-m.dot(p)/v},evaluate:function(u,i,s){for(var o=i.slice(),l=1;l<=u;l++)for(var h=0;h<=u-l;h++)o[h]=o[h].multiply(1-s).add(o[h+1].multiply(s));return o[0]},chordLengthParameterize:function(u,i){for(var s=[0],o=u+1;o<=i;o++)s[o-u]=s[o-u-1]+this.points[o].getDistance(this.points[o-1]);o=1;for(var l=i-u;o<=l;o++)s[o]/=s[l];return s},findMaxError:function(u,i,s,o){for(var l=Math.floor((i-u+1)/2),h=0,d=u+1;d<i;d++){var g=this.evaluate(3,s,o[d-u]).subtract(this.points[d]),m=g.x*g.x+g.y*g.y;m>=h&&(h=m,l=d)}return{error:h,index:l}}}),Zt=tt.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(i){this._content="",this._lines=[];var s=i&&ee.isPlainObject(i)&&i.x===xe&&i.y===xe;this._initialize(s&&i,!s&&ae.read(arguments))},_equals:function(u){return this._content===u._content},copyContent:function(u){this.setContent(u._content)},getContent:function(){return this._content},setContent:function(u){this._content=""+u,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),fi=Zt.extend({_class:"PointText",initialize:function(){Zt.apply(this,arguments)},getPoint:function(){var u=this._matrix.getTranslation();return new ie(u.x,u.y,this,"setPoint")},setPoint:function(){var u=ae.read(arguments);this.translate(u.subtract(this._matrix.getTranslation()))},_draw:function(u,i,s){if(this._content){this._setStyles(u,i,s);var o=this._lines,l=this._style,h=l.hasFill(),d=l.hasStroke(),p=l.getLeading(),g=u.shadowColor;u.font=l.getFontStyle(),u.textAlign=l.getJustification();for(var m=0,v=o.length;m<v;m++){u.shadowColor=g;var b=o[m];h&&(u.fillText(b,0,0),u.shadowColor="rgba(0,0,0,0)"),d&&u.strokeText(b,0,0),u.translate(0,p)}}},_getBounds:function(u,i){var s=this._style,o=this._lines,l=o.length,h=s.getJustification(),d=s.getLeading(),p=this.getView().getTextWidth(s.getFontStyle(),o),g=0;"left"!==h&&(g-=p/("center"===h?2:1));var m=new W(g,l?-.75*d:0,p,l*d);return u?u._transformBounds(m,m):m}}),Je=ee.extend(new function(){var o,u={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},s={transparent:[0,0,0,0]},h=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],d={"rgb-hsb":function(p,g,m){var v=Math.max(p,g,m),w=v-Math.min(p,g,m);return[0===w?0:60*(v==p?(g-m)/w+(g<m?6:0):v==g?(m-p)/w+2:(p-g)/w+4),0===v?0:w/v,v]},"hsb-rgb":function(p,g,m){var b,v=(p=(p/60%6+6)%6)-(b=Math.floor(p)),w=[m,m*(1-g),m*(1-g*v),m*(1-g*(1-v))];return[w[(b=h[b])[0]],w[b[1]],w[b[2]]]},"rgb-hsl":function(p,g,m){var v=Math.max(p,g,m),b=Math.min(p,g,m),w=v-b,C=0===w,k=(v+b)/2;return[C?0:60*(v==p?(g-m)/w+(g<m?6:0):v==g?(m-p)/w+2:(p-g)/w+4),C?0:k<.5?w/(v+b):w/(2-v-b),k]},"hsl-rgb":function(p,g,m){if(0===g)return[m,m,m];for(var v=[(p=(p/360%1+1)%1)+1/3,p,p-1/3],b=m<.5?m*(1+g):m+g-m*g,w=2*m-b,C=[],D=0;D<3;D++){var k=v[D];k<0&&(k+=1),k>1&&(k-=1),C[D]=6*k<1?w+6*(b-w)*k:2*k<1?b:3*k<2?w+(b-w)*(2/3-k)*6:w}return C},"rgb-gray":function(p,g,m){return[.2989*p+.587*g+.114*m]},"gray-rgb":function(p){return[p,p,p]},"gray-hsb":function(p){return[0,0,p]},"gray-hsl":function(p){return[0,0,p]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return ee.each(u,function(p,g){i[g]=[],ee.each(p,function(m,v){var b=ee.capitalize(m),w=/^(hue|saturation)$/.test(m),C=i[g][v]="gradient"===g?"gradient"===m?function(D){var k=this._components[0];return k!==(D=Kt.read(Array.isArray(D)?D:arguments,0,{readNull:!0}))&&(k&&k._removeOwner(this),D&&D._addOwner(this)),D}:function(){return ae.read(arguments,0,{readNull:"highlight"===m,clone:!0})}:function(D){return null==D||isNaN(D)?0:+D};this["get"+b]=function(){return this._type===g||w&&/^hs[bl]$/.test(this._type)?this._components[v]:this._convert(g)[v]},this["set"+b]=function(D){this._type!==g&&!(w&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(g),this._properties=u[g],this._type=g),this._components[v]=C.call(this,D),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function p(g){var w,C,D,k,m=arguments,v=this.__read,b=0;Array.isArray(g)&&(g=(m=g)[0]);var P=null!=g&&typeof g;if("string"===P&&g in u&&(w=g,g=m[1],Array.isArray(g)?(C=g,D=m[2]):(v&&(b=1),m=ee.slice(m,1),P=typeof g)),!C){if(k="number"===P?m:"object"===P&&null!=g.length?g:null){w||(w=k.length>=3?"rgb":"gray");var A=u[w].length;D=k[A],v&&(b+=k===arguments?A+(null!=D?1:0):1),k.length>A&&(k=ee.slice(k,0,A))}else if("string"===P){var I=function l(p){var v,g=p.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||p.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),m="rgb";if(g){var b=g[4]?4:3;v=new Array(b);for(var w=0;w<b;w++){var C=g[w+1];v[w]=parseInt(1==C.length?C+C:C,16)/255}}else if(g=p.match(/^(rgb|hsl)a?\((.*)\)$/)){m=g[1],v=g[2].trim().split(/[,\s]+/g);for(var D="hsl"===m,k=(w=0,Math.min(v.length,4));w<k;w++){var P=v[w];if(C=parseFloat(P),D)if(0===w){var A=P.match(/([a-z]*)$/)[1];C*={turn:360,rad:180/Math.PI,grad:.9}[A]||1}else w<3&&(C/=100);else w<3&&(C/=/%$/.test(P)?100:255);v[w]=C}}else{var I=s[p];if(!I)if(De){o||((o=zt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),o.fillStyle="rgba(0,0,0,0)",o.fillStyle=p,o.fillRect(0,0,1,1);var x=o.getImageData(0,0,1,1).data;I=s[p]=[x[0]/255,x[1]/255,x[2]/255]}else I=[0,0,0];v=I.slice()}return[m,v]}(g);w=I[0],4===(C=I[1]).length&&(D=C[3],C.length--)}else if("object"===P)if(g.constructor===p){if(w=g._type,C=g._components.slice(),D=g._alpha,"gradient"===w)for(var x=1,S=C.length;x<S;x++){var E=C[x];E&&(C[x]=E.clone())}}else if(g.constructor===Kt)w="gradient",k=m;else{var R=u[w="hue"in g?"lightness"in g?"hsl":"hsb":"gradient"in g||"stops"in g||"radial"in g?"gradient":"gray"in g?"gray":"rgb"],N=i[w];for(this._components=C=[],x=0,S=R.length;x<S;x++)null==(O=g[R[x]])&&!x&&"gradient"===w&&"stops"in g&&(O={stops:g.stops,radial:g.radial}),null!=(O=N[x].call(this,O))&&(C[x]=O);D=g.alpha}v&&w&&(b=1)}if(this._type=w||"rgb",!C)for(this._components=C=[],x=0,S=(N=i[this._type]).length;x<S;x++){var O;null!=(O=N[x].call(this,k&&k[x]))&&(C[x]=O)}return this._components=C,this._properties=u[this._type],this._alpha=D,v&&(this.__read=b),this},set:"#initialize",_serialize:function(p,g){var m=this.getComponents();return ee.serialize(/^(gray|rgb)$/.test(this._type)?m:[this._type].concat(m),p,!0,g)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(p){var g;return this._type===p?this._components.slice():(g=d[this._type+"-"+p])?g.apply(this,this._components):d["rgb-"+p].apply(this,d[this._type+"-rgb"].apply(this,this._components))},convert:function(p){return new Je(p,this._convert(p),this._alpha)},getType:function(){return this._type},setType:function(p){this._components=this._convert(p),this._properties=u[p],this._type=p},getComponents:function(){var p=this._components.slice();return null!=this._alpha&&p.push(this._alpha),p},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(p){this._alpha=null==p?null:Math.min(Math.max(p,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(p){var g=ee.isPlainValue(p,!0)?Je.read(arguments):p;return g===this||g&&this._class===g._class&&this._type===g._type&&this.getAlpha()===g.getAlpha()&&ee.equals(this._components,g._components)||!1},toString:function(){for(var p=this._properties,g=[],m="gradient"===this._type,v=sn.instance,b=0,w=p.length;b<w;b++){var C=this._components[b];null!=C&&g.push(p[b]+": "+(m?C:v.number(C)))}return null!=this._alpha&&g.push("alpha: "+v.number(this._alpha)),"{ "+g.join(", ")+" }"},toCSS:function(p){var g=this._convert("rgb"),m=p||null==this._alpha?1:this._alpha;function v(b){return Math.round(255*(b<0?0:b>1?1:b))}return g=[v(g[0]),v(g[1]),v(g[2])],m<1&&g.push(m<0?0:m),p?"#"+((1<<24)+(g[0]<<16)+(g[1]<<8)+g[2]).toString(16).slice(1):(4==g.length?"rgba(":"rgb(")+g.join(",")+")"},toCanvasStyle:function(p,g){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var P,m=this._components,v=m[0],b=v._stops,w=m[1],C=m[2],D=m[3],k=g&&g.inverted();if(k&&(w=k._transformPoint(w),C=k._transformPoint(C),D&&(D=k._transformPoint(D))),v._radial){var A=C.getDistance(w);if(D){var I=D.subtract(w);I.getLength()>A&&(D=w.add(I.normalize(A-.1)))}var x=D||w;P=p.createRadialGradient(x.x,x.y,0,w.x,w.y,A)}else P=p.createLinearGradient(w.x,w.y,C.x,C.y);for(var S=0,E=b.length;S<E;S++){var R=b[S];P.addColorStop(R._offset??S/(E-1),R._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(p){if("gradient"===this._type){for(var g=this._components,m=1,v=g.length;m<v;m++){var b=g[m];p._transformPoint(b,b,!0)}this._changed()}},statics:{_types:u,random:function(){var p=Math.random;return new Je(p(),p(),p())},_setOwner:function(p,g,m){return p&&(p._owner&&g&&p._owner!==g&&(p=p.clone()),!p._owner^!g&&(p._owner=g||null,p._setter=m||null)),p}}})},new function(){return ee.each({add:function(i,s){return i+s},subtract:function(i,s){return i-s},multiply:function(i,s){return i*s},divide:function(i,s){return i/s}},function(i,s){this[s]=function(o){o=Je.read(arguments);for(var l=this._type,h=this._components,d=o._convert(l),p=0,g=h.length;p<g;p++)d[p]=i(h[p],d[p]);return new Je(l,d,null!=this._alpha?i(this._alpha,o.getAlpha()):null)}},{})}),Kt=ee.extend({_class:"Gradient",initialize:function(i,s){this._id=ut.get(),i&&ee.isPlainObject(i)&&(this.set(i),i=s=null),null==this._stops&&this.setStops(i||["white","black"]),null==this._radial&&this.setRadial("string"==typeof s&&"radial"===s||s||!1)},_serialize:function(u,i){return i.add(this,function(){return ee.serialize([this._stops,this._radial],u,!0,i)})},_changed:function(){for(var u=0,i=this._owners&&this._owners.length;u<i;u++)this._owners[u]._changed()},_addOwner:function(u){this._owners||(this._owners=[]),this._owners.push(u)},_removeOwner:function(u){var i=this._owners?this._owners.indexOf(u):-1;-1!=i&&(this._owners.splice(i,1),this._owners.length||(this._owners=xe))},clone:function(){for(var u=[],i=0,s=this._stops.length;i<s;i++)u[i]=this._stops[i].clone();return new Kt(u,this._radial)},getStops:function(){return this._stops},setStops:function(u){if(u.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var s=0,o=i.length;s<o;s++)i[s]._owner=xe;for(s=0,o=(i=this._stops=ji.readList(u,0,{clone:!0})).length;s<o;s++)i[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(u){this._radial=u,this._changed()},equals:function(u){if(u===this)return!0;if(u&&this._class===u._class){var i=this._stops,s=u._stops,o=i.length;if(o===s.length){for(var l=0;l<o;l++)if(!i[l].equals(s[l]))return!1;return!0}}return!1}}),ji=ee.extend({_class:"GradientStop",initialize:function(i,s){var o=i,l=s;"object"==typeof i&&s===xe&&(Array.isArray(i)&&"number"!=typeof i[0]?(o=i[0],l=i[1]):("color"in i||"offset"in i||"rampPoint"in i)&&(o=i.color,l=i.offset||i.rampPoint||0)),this.setColor(o),this.setOffset(l)},clone:function(){return new ji(this._color.clone(),this._offset)},_serialize:function(u,i){var s=this._color,o=this._offset;return ee.serialize(null==o?[s]:[s,o],u,!0,i)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(u){this._offset=u,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Je._setOwner(this._color,null),this._color=Je._setOwner(Je.read(arguments,0),this,"setColor"),this._changed()},equals:function(u){return u===this||u&&this._class===u._class&&this._color.equals(u._color)&&this._offset==u._offset||!1}}),Mi=ee.extend(new function(){var u={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ae,selectedColor:null},i=ee.set({},u,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=ee.set({},i,{fillColor:new Je}),o={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},l={beans:!0},h={_class:"Style",beans:!0,initialize:function(p,g,m){this._values={},this._owner=g,this._project=g&&g._project||m||Le.project,this._defaults=!g||g instanceof Ze?i:g instanceof Zt?s:u,p&&this.set(p)}};return ee.each(i,function(d,p){var g=/Color$/.test(p),m="shadowOffset"===p,v=ee.capitalize(p),b=o[p],w="set"+v,C="get"+v;h[w]=function(D){var k=this._owner,P=k&&k._children,A=P&&P.length>0&&!(k instanceof gt);if(A)for(var I=0,x=P.length;I<x;I++)P[I]._style[w](D);if(("selectedColor"===p||!A)&&p in this._defaults){var S=this._values[p];S!==D&&(g&&(S&&(Je._setOwner(S,null),S._canvasStyle=null),D&&D.constructor===Je&&(D=Je._setOwner(D,k,A&&w))),this._values[p]=D,k&&k._changed(b||129))}},h[C]=function(D){var k=this._owner,P=k&&k._children,A=P&&P.length>0&&!(k instanceof gt);if(A&&!D)for(var x=0,S=P.length;x<S;x++){var E=P[x]._style[C]();if(x){if(!ee.equals(I,E))return xe}else I=E}else if(p in this._defaults){var I;if((I=this._values[p])===xe)(I=this._defaults[p])&&I.clone&&(I=I.clone());else{var R=g?Je:m?ae:null;R&&(!I||I.constructor!==R)&&(this._values[p]=I=R.read([I],0,{readNull:!0,clone:!0}))}}return I&&g&&(I=Je._setOwner(I,k,A&&w)),I},l[C]=function(D){return this._style[C](D)},l[w]=function(D){this._style[w](D)}}),ee.each({Font:"FontFamily",WindingRule:"FillRule"},function(d,p){var g="get"+p,m="set"+p;h[g]=l[g]="#get"+d,h[m]=l[m]="#set"+d}),tt.inject(l),h},{set:function(u){var i=u instanceof Mi,s=i?u._values:u;if(s)for(var o in s)if(o in this._defaults){var l=s[o];this[o]=l&&i&&l.clone?l.clone():l}},equals:function(u){function i(s,o,l){var h=s._values,d=o._values,p=o._defaults;for(var g in h){var v=d[g];if(!(l&&g in d||ee.equals(h[g],v===xe?p[g]:v)))return!1}return!0}return u===this||u&&this._class===u._class&&i(this,u)&&i(u,this,!0)||!1},_dispose:function(){var u;(u=this.getFillColor())&&(u._canvasStyle=null),(u=this.getStrokeColor())&&(u._canvasStyle=null),(u=this.getShadowColor())&&(u._canvasStyle=null)},hasFill:function(){var u=this.getFillColor();return!!u&&u.alpha>0},hasStroke:function(){var u=this.getStrokeColor();return!!u&&u.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var u=this.getShadowColor();return!!u&&u.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var u=this.getFontSize();return this.getFontWeight()+" "+u+(/[a-z]/i.test(u+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function u(){var i=u.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),i??1.2*s}}),Jt=new function(){function u(i,s,o,l){for(var h=["","webkit","moz","Moz","ms","o"],d=s[0].toUpperCase()+s.substring(1),p=0;p<6;p++){var g=h[p],m=g?g+d:s;if(m in i){if(!o)return i[m];i[m]=l;break}}}return{getStyles:function(i){var s=i&&9!==i.nodeType?i.ownerDocument:i,o=s&&s.defaultView;return o&&o.getComputedStyle(i,"")},getBounds:function(i,s){var d,o=i.ownerDocument,l=o.body,h=o.documentElement;try{d=i.getBoundingClientRect()}catch{d={left:0,top:0,width:0,height:0}}var p=d.left-(h.clientLeft||l.clientLeft||0),g=d.top-(h.clientTop||l.clientTop||0);if(!s){var m=o.defaultView;p+=m.pageXOffset||h.scrollLeft||l.scrollLeft,g+=m.pageYOffset||h.scrollTop||l.scrollTop}return new W(p,g,d.width,d.height)},getViewportBounds:function(i){var s=i.ownerDocument,o=s.defaultView,l=s.documentElement;return new W(0,0,o.innerWidth||l.clientWidth,o.innerHeight||l.clientHeight)},getOffset:function(i,s){return Jt.getBounds(i,s).getPoint()},getSize:function(i){return Jt.getBounds(i,!0).getSize()},isInvisible:function(i){return Jt.getSize(i).equals(new je(0,0))},isInView:function(i){return!Jt.isInvisible(i)&&Jt.getViewportBounds(i).intersects(Jt.getBounds(i,!0))},isInserted:function(i){return Ct.body.contains(i)},getPrefixed:function(i,s){return i&&u(i,s)},setPrefixed:function(i,s,o){if("object"==typeof s)for(var l in s)u(i,l,!0,s[l]);else u(i,s,!0,o)}}},bt={add:function(u,i){if(u)for(var s in i)for(var o=i[s],l=s.split(/[\s,]+/g),h=0,d=l.length;h<d;h++){var p=l[h];u.addEventListener(p,o,u===Ct&&("touchstart"===p||"touchmove"===p)&&{passive:!1})}},remove:function(u,i){if(u)for(var s in i)for(var o=i[s],l=s.split(/[\s,]+/g),h=0,d=l.length;h<d;h++)u.removeEventListener(l[h],o,!1)},getPoint:function(u){var i=u.targetTouches?u.targetTouches.length?u.targetTouches[0]:u.changedTouches[0]:u;return new ae(i.pageX||i.clientX+Ct.documentElement.scrollLeft,i.pageY||i.clientY+Ct.documentElement.scrollTop)},getTarget:function(u){return u.target||u.srcElement},getRelatedTarget:function(u){return u.relatedTarget||u.toElement},getOffset:function(u,i){return bt.getPoint(u).subtract(Jt.getOffset(i||bt.getTarget(u)))}};bt.requestAnimationFrame=new function(){var o,u=Jt.getPrefixed(De,"requestAnimationFrame"),i=!1,s=[];function l(){var h=s;s=[];for(var d=0,p=h.length;d<p;d++)h[d]();(i=u&&s.length)&&u(l)}return function(h){s.push(h),u?i||(u(l),i=!0):o||(o=setInterval(l,16.666666666666668))}};var yt=ee.extend(ne,{_class:"View",initialize:function u(i,s){function o(b){return s[b]||parseInt(s.getAttribute(b),10)}function l(){var b=Jt.getSize(s);return b.isNaN()||b.isZero()?new je(o("width"),o("height")):b}var h;if(De&&s){this._id=s.getAttribute("id"),null==this._id&&s.setAttribute("id",this._id="paper-view-"+u._id++),bt.add(s,this._viewEvents);var d="none";if(Jt.setPrefixed(s.style,{userDrag:d,userSelect:d,touchCallout:d,contentZooming:d,tapHighlightColor:"rgba(0,0,0,0)"}),qn.hasAttribute(s,"resize")){var p=this;bt.add(De,this._windowEvents={resize:function(){p.setViewSize(l())}})}if(h=l(),qn.hasAttribute(s,"stats")&&typeof Stats<"u"){this._stats=new Stats;var g=this._stats.domElement,m=g.style,v=Jt.getOffset(s);m.position="absolute",m.left=v.x+"px",m.top=v.y+"px",Ct.body.appendChild(g)}}else h=new je(s),s=null;this._project=i,this._scope=i._scope,this._element=s,this._pixelRatio||(this._pixelRatio=De&&De.devicePixelRatio||1),this._setElementSize(h.width,h.height),this._viewSize=h,u._views.push(this),u._viewsById[this._id]=this,(this._matrix=new Vt)._owner=this,u._focused||(u._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Le.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;yt._focused===this&&(yt._focused=null),yt._views.splice(yt._views.indexOf(this),1),delete yt._viewsById[this._id];var u=this._project;return u._view===this&&(u._view=null),bt.remove(this._element,this._viewEvents),bt.remove(De,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:ee.each(tt._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(u){this[u]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(u){this._autoUpdate=u,u&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var u=this;bt.requestAnimationFrame(function(){if(u._requested=!1,u._animate){u.requestUpdate();var i=u._element;(!Jt.getPrefixed(Ct,"hidden")||"true"===qn.getAttribute(i,"keepalive"))&&Jt.isInView(i)&&u._handleFrame()}u._autoUpdate&&u.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Le=this._scope;var u=Date.now()/1e3,i=this._last?u-this._last:0;this._last=u,this.emit("frame",new ee({delta:i,time:this._time+=i,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(u,i){var s=this._frameItems;i?(s[u._id]={item:u,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete s[u._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(u){for(var i in this._frameItems){var s=this._frameItems[i];s.item.emit("frame",new ee(u,{time:s.time+=u.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=xe},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var u=this._viewSize;return new Ee(u.width,u.height,this,"setViewSize")},setViewSize:function(){var u=je.read(arguments),i=u.subtract(this._viewSize);i.isZero()||(this._setElementSize(u.width,u.height),this._viewSize.set(u),this._changed(),this.emit("resize",{size:u,delta:i}),this._autoUpdate&&this.update())},_setElementSize:function(u,i){var s=this._element;s&&(s.width!==u&&(s.width=u),s.height!==i&&(s.height=i))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new W(new ae,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Jt.isInView(this._element)},isInserted:function(){return Jt.isInserted(this._element)},getPixelSize:function(u){var s,i=this._element;if(i){var o=i.parentNode,l=Ct.createElement("div");l.style.fontSize=u,o.appendChild(l),s=parseFloat(Jt.getStyles(l).fontSize),o.removeChild(l)}else s=parseFloat(s);return s},getTextWidth:function(u,i){return 0}},ee.each(["rotate","scale","shear","skew"],function(u){var i="rotate"===u;this[u]=function(){var s=arguments,o=(i?ee:ae).read(s),l=ae.read(s,0,{readNull:!0});return this.transform((new Vt)[u](o,l||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var u=new Vt;return this.transform(u.translate.apply(u,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var u=ae.read(arguments);this.translate(this.getCenter().subtract(u))},getZoom:function(){var u=this._decompose().scaling;return(u.x+u.y)/2},setZoom:function(u){this.transform((new Vt).scale(u/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(u){var i=this.getRotation();null!=i&&null!=u&&this.rotate(u-i)},getScaling:function(){var u=this._decompose().scaling;return new ie(u.x,u.y,this,"setScaling")},setScaling:function(){var u=this.getScaling(),i=ae.read(arguments,0,{clone:!0,readNull:!0});u&&i&&this.scale(i.x/u.x,i.y/u.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var u=this._matrix;u.set.apply(u,arguments)},transform:function(u){this._matrix.append(u)},scrollBy:function(){this.translate(ae.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ae.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ae.read(arguments))},getEventPoint:function(u){return this.viewToProject(bt.getOffset(u,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(u,i){return Ct&&"string"==typeof i&&(i=Ct.getElementById(i)),new(De?nn:yt)(u,i)}}},new function(){if(De){var u,i,g,m,v,s=!1,o=!1,p=De.navigator;p.pointerEnabled||p.msPointerEnabled?(g="pointerdown MSPointerDown",m="pointermove MSPointerMove",v="pointerup pointercancel MSPointerUp MSPointerCancel"):(g="touchstart",m="touchmove",v="touchend touchcancel","ontouchstart"in De&&p.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(g+=" mousedown",m+=" mousemove",v+=" mouseup"));var b={},w={mouseout:function(j){var H=yt._focused,$=bt.getRelatedTarget(j);if(H&&(!$||"HTML"===$.nodeName)){var K=bt.getOffset(j,H._element),Y=K.x,J=Math.abs,oe=J(Y),ge=oe-(1<<25);K.x=J(ge)<oe?ge*(Y<0?-1:1):Y,d(H,j,H.viewToProject(K))}},scroll:h};b[g]=function(j){var H=yt._focused=l(j);s||(s=!0,H._handleMouseEvent("mousedown",j))},w[m]=function(j){var H=yt._focused;if(!o){var $=l(j);$?H!==$&&(H&&d(H,j),u||(u=H),H=yt._focused=i=$):i&&i===H&&(u&&!u.isInserted()&&(u=null),H=yt._focused=u,u=null,h())}H&&d(H,j)},w[g]=function(){o=!0},w[v]=function(j){var H=yt._focused;H&&s&&H._handleMouseEvent("mouseup",j),o=s=!1},bt.add(Ct,w),bt.add(De,{load:h});var I,x,S,E,R,N,O,F,C=!1,D=!1,k={doubleclick:"click",mousedrag:"mousemove"},P=!1,G={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:b,_handleMouseEvent:function(j,H,$){var K=this._itemEvents,Y=K.native[j],J="mousemove"===j,oe=this._scope.tool,he=this;function ge(Me){return K.virtual[Me]||he.responds(Me)||oe&&oe.responds(Me)}J&&s&&ge("mousedrag")&&(j="mousedrag"),$||($=this.getEventPoint(H));var _e=this.getBounds().contains($),le=Y&&_e&&he._project.hitTest($,{tolerance:0,fill:!0,stroke:!0}),ce=le&&le.item||null,ue=!1,ve={};if(ve[j.substr(5)]=!0,Y&&ce!==E&&(E&&B(E,null,"mouseleave",H,$),ce&&B(ce,null,"mouseenter",H,$),E=ce),P^_e&&(B(this,null,_e?"mouseenter":"mouseleave",H,$),ue=!0),(_e||ve.drag)&&!$.equals(x)&&(z(this,ce,J?j:"mousemove",H,$,x),ue=!0),P=_e,ve.down&&_e||ve.up&&I){if(z(this,ce,j,H,$,I),ve.down){if(F=ce===N&&Date.now()-O<300,S=N=ce,!D&&ce){for(var Ce=ce;Ce&&!Ce.responds("mousedrag");)Ce=Ce._parent;Ce&&(R=ce)}I=$}else ve.up&&(!D&&ce===S&&(O=Date.now(),z(this,ce,F?"doubleclick":"click",H,$,I),F=!1),S=R=null);P=!1,ue=!0}x=$,ue&&oe&&(C=oe._handleMouseEvent(j,H,$,ve)||C),!1!==H.cancelable&&(C&&!ve.move||ve.down&&ge("mouseup"))&&H.preventDefault()},_handleKeyEvent:function(j,H,$,K){var oe,Y=this._scope,J=Y.tool;function he(ge){ge.responds(j)&&(Le=Y,ge.emit(j,oe=oe||new Hi(j,H,$,K)))}this.isVisible()&&(he(this),J&&J.responds(j)&&he(J))},_countItemEvent:function(j,H){var $=this._itemEvents,K=$.native,Y=$.virtual;for(var J in G)K[J]=(K[J]||0)+(G[J][j]||0)*H;Y[j]=(Y[j]||0)+H},statics:{updateFocus:h,_resetState:function(){s=o=C=P=!1,u=i=I=x=S=E=R=N=O=F=null}}}}function l(j){var H=bt.getTarget(j);return H.getAttribute&&yt._viewsById[H.getAttribute("id")]}function h(){var j=yt._focused;if(!j||!j.isVisible())for(var H=0,$=yt._views.length;H<$;H++)if((j=yt._views[H]).isVisible()){yt._focused=i=j;break}}function d(j,H,$){j._handleMouseEvent("mousemove",H,$)}function B(j,H,$,K,Y,J,oe){var ge,he=!1;function _e(le,ce){if(le.responds(ce)){if(ge||(ge=new di(ce,K,Y,H||le,J?Y.subtract(J):null)),le.emit(ce,ge)&&(C=!0,ge.prevented&&(D=!0),ge.stopped))return he=!0}else{var ue=k[ce];if(ue)return _e(le,ue)}}for(;j&&j!==oe&&!_e(j,$);)j=j._parent;return he}function z(j,H,$,K,Y,J){return j._project.removeOn($),D=C=!1,R&&B(R,null,$,K,Y,J)||H&&H!==R&&!H.isDescendant(R)&&B(H,null,"mousedrag"===$?"mousemove":$,K,Y,J,R)||B(j,R||H||j,$,K,Y,J)}}),nn=yt.extend({_class:"CanvasView",initialize:function(i,s){if(!(s instanceof De.HTMLCanvasElement)){var o=je.read(arguments,1);if(o.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+ee.slice(arguments,1));s=zt.getCanvas(o)}var l=this._context=s.getContext("2d");if(l.save(),this._pixelRatio=1,!/^off|false$/.test(qn.getAttribute(s,"hidpi"))){var h=De.devicePixelRatio||1,d=Jt.getPrefixed(l,"backingStorePixelRatio")||1;this._pixelRatio=h/d}yt.call(this,i,s),this._needsUpdate=!0},remove:function u(){return this._context.restore(),u.base.call(this)},_setElementSize:function u(i,s){var o=this._pixelRatio;if(u.base.call(this,i*o,s*o),1!==o){var l=this._element,h=this._context;if(!qn.hasAttribute(l,"resize")){var d=l.style;d.width=i+"px",d.height=s+"px"}h.restore(),h.save(),h.scale(o,o)}},getContext:function(){return this._context},getPixelSize:function u(i){var o,s=Le.agent;if(s&&s.firefox)o=u.base.call(this,i);else{var l=this._context,h=l.font;l.font=i+" serif",o=parseFloat(l.font),l.font=h}return o},getTextWidth:function(u,i){var s=this._context,o=s.font,l=0;s.font=u;for(var h=0,d=i.length;h<d;h++)l=Math.max(l,s.measureText(i[h]).width);return s.font=o,l},update:function(){if(!this._needsUpdate)return!1;var u=this._project,i=this._context,s=this._viewSize;return i.clearRect(0,0,s.width+1,s.height+1),u&&u.draw(i,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),tr=ee.extend({_class:"Event",initialize:function(i){this.event=i,this.type=i&&i.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Lr.modifiers}}),Hi=tr.extend({_class:"KeyEvent",initialize:function(i,s,o,l){this.type=i,this.event=s,this.key=o,this.character=l},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Lr=new function(){var l,h,u={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},s={},o={},d=new ee({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var m=Le&&Le.agent;return m&&m.mac?this.meta:this.control}}});function p(m){var v=m.key||m.keyIdentifier;return v=/^U\+/.test(v)?String.fromCharCode(parseInt(v.substr(2),16)):/^Arrow[A-Z]/.test(v)?v.substr(5):"Unidentified"===v||v===xe?String.fromCharCode(m.keyCode):v,u[v]||(v.length>1?ee.hyphenate(v):v.toLowerCase())}function g(m,v,b,w){var k,D=yt._focused;if(s[v]=m,m?o[v]=b:delete o[v],v.length>1&&(k=ee.camelize(v))in d){d[k]=m;var P=Le&&Le.agent;if("meta"===k&&P&&P.mac)if(m)l={};else{for(var A in l)A in o&&g(!1,A,l[A],w);l=null}}else m&&l&&(l[v]=b);D&&D._handleKeyEvent(m?"keydown":"keyup",w,v,b)}return bt.add(Ct,{keydown:function(m){var v=p(m),b=Le&&Le.agent;v.length>1||b&&b.chrome&&(m.altKey||b.mac&&m.metaKey||!b.mac&&m.ctrlKey)?g(!0,v,i[v]||(v.length>1?"":v),m):h=v},keypress:function(m){if(h){var v=p(m),b=m.charCode,w=b>=32?String.fromCharCode(b):v.length>1?"":v;v!==h&&(v=w.toLowerCase()),g(!0,v,w,m),h=null}},keyup:function(m){var v=p(m);v in o&&g(!1,v,o[v],m)}}),bt.add(De,{blur:function(m){for(var v in o)g(!1,v,o[v],m)}}),{modifiers:d,isDown:function(m){return!!s[m]}}},di=tr.extend({_class:"MouseEvent",initialize:function(i,s,o,l,h){this.type=i,this.event=s,this.point=o,this.target=l,this.delta=h},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),ts=tr.extend({_class:"ToolEvent",_item:null,initialize:function(i,s,o){this.tool=i,this.type=s,this.event=o},_choosePoint:function(u,i){return u||(i?i.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(u){this._point=u},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(u){this._lastPoint=u},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(u){this._downPoint=u},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(u){this._middlePoint=u},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(u){this._delta=u},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(u){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=u},getItem:function(){if(!this._item){var u=this.tool._scope.project.hitTest(this.getPoint());if(u){for(var i=u.item,s=i._parent;/^(Group|CompoundPath)$/.test(s._class);)i=s,s=s._parent;this._item=i}}return this._item},setItem:function(u){this._item=u},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Fr=(yn.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(i){yn.call(this),this._moveCount=-1,this._downCount=-1,this.set(i)},getMinDistance:function(){return this._minDistance},setMinDistance:function(u){this._minDistance=u,null!=u&&null!=this._maxDistance&&u>this._maxDistance&&(this._maxDistance=u)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(u){this._maxDistance=u,null!=this._minDistance&&null!=u&&u<this._minDistance&&(this._minDistance=u)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(u){this._minDistance=this._maxDistance=u},_handleMouseEvent:function(u,i,s,o){Le=this._scope,o.drag&&!this.responds(u)&&(u="mousemove");var l=o.move||o.drag,h=this.responds(u),d=this.minDistance,p=this.maxDistance,g=!1,m=this;function v(w,C){var D=s,k=l?m._point:m._downPoint||D;if(l){if(m._moveCount>=0&&D.equals(k))return!1;if(k&&(null!=w||null!=C)){var P=D.subtract(k),A=P.getLength();if(A<(w||0))return!1;C&&(D=k.add(P.normalize(Math.min(A,C))))}m._moveCount++}return m._point=D,m._lastPoint=k||D,o.down&&(m._moveCount=-1,m._downPoint=D,m._downCount++),!0}function b(){h&&(g=m.emit(u,new ts(m,u,i))||g)}if(o.down)v(),b();else if(o.up)v(null,p),b();else if(h)for(;v(d,p);)b();return g}}),ee.extend(ne,{_class:"Tween",statics:{easings:new ee({linear:function(u){return u},easeInQuad:function(u){return u*u},easeOutQuad:function(u){return u*(2-u)},easeInOutQuad:function(u){return u<.5?2*u*u:2*(2-u)*u-1},easeInCubic:function(u){return u*u*u},easeOutCubic:function(u){return--u*u*u+1},easeInOutCubic:function(u){return u<.5?4*u*u*u:(u-1)*(2*u-2)*(2*u-2)+1},easeInQuart:function(u){return u*u*u*u},easeOutQuart:function(u){return 1- --u*u*u*u},easeInOutQuart:function(u){return u<.5?8*u*u*u*u:1-8*--u*u*u*u},easeInQuint:function(u){return u*u*u*u*u},easeOutQuint:function(u){return 1+--u*u*u*u*u},easeInOutQuint:function(u){return u<.5?16*u*u*u*u*u:1+16*--u*u*u*u*u}})},initialize:function u(i,s,o,l,h,d){this.object=i;var p=typeof h,g="function"===p;this.type=g?p:"string"===p?h:"linear",this.easing=g?h:u.easings[this.type],this.duration=l,this.running=!1,this._then=null,this._startTime=null;var m=s||o;this._keys=m?Object.keys(m):[],this._parsedKeys=this._parseKeys(this._keys),this._from=m&&this._getState(s),this._to=m&&this._getState(o),!1!==d&&this.start()},then:function(u){return this._then=u,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(u){if(this.running){u>=1&&(u=1,this.running=!1);for(var i=this.easing(u),s=this._keys,o=function(v){return"function"==typeof v?v(i,u):v},l=0,h=s&&s.length;l<h;l++){var d=s[l],p=o(this._from[d]),g=o(this._to[d]),m=p&&g&&p.__add&&g.__add?g.__subtract(p).__multiply(i).__add(p):(g-p)*i+p;this._setProperty(this._parsedKeys[d],m)}this.responds("update")&&this.emit("update",new ee({progress:u,factor:i})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(u){var i=this._startTime,s=i?(u-i)/this.duration:0;i||(this._startTime=u),this.update(s)},_getState:function(u){for(var i=this._keys,s={},o=0,l=i.length;o<l;o++){var g,h=i[o],d=this._parsedKeys[h],p=this._getProperty(d);if(u){var m=this._resolveValue(p,u[h]);this._setProperty(d,m),g=(g=this._getProperty(d))&&g.clone?g.clone():g,this._setProperty(d,p)}else g=p&&p.clone?p.clone():p;s[h]=g}return s},_resolveValue:function(u,i){if(i){if(Array.isArray(i)&&2===i.length){var s=i[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(u,s[0],i[1]):i}if("string"==typeof i){var o=i.match(/^[+\-*/]=(.*)/);if(o){var l=JSON.parse(o[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(u,i[0],l)}}}return i},_calculate:function(u,i,s){return Le.PaperScript.calculateBinary(u,i,s)},_parseKeys:function(u){for(var i={},s=0,o=u.length;s<o;s++){var l=u[s],h=l.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");i[l]=h.split("/")}return i},_getProperty:function(u,i){for(var s=this.object,o=0,l=u.length-(i||0);o<l&&s;o++)s=s[u[o]];return s},_setProperty:function(u,i){var s=this._getProperty(u,1);s&&(s[u[u.length-1]]=i)}})),an={request:function(u){var i=new ti.XMLHttpRequest;return i.open((u.method||"get").toUpperCase(),u.url,ee.pick(u.async,!0)),u.mimeType&&i.overrideMimeType(u.mimeType),i.onload=function(){var s=i.status;0===s||200===s?u.onLoad&&u.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var s=i.status,o='Could not load "'+u.url+'" (Status: '+s+")";if(!u.onError)throw new Error(o);u.onError(o,s)},i.send(null)}},zt=ee.exports.CanvasProvider={canvases:[],getCanvas:function(u,i,s){if(!De)return null;var o,l=!0;"object"==typeof u&&(i=u.height,u=u.width),this.canvases.length?o=this.canvases.pop():(o=Ct.createElement("canvas"),l=!1);var h=o.getContext("2d",s||{});if(!h)throw new Error("Canvas "+o+" is unable to provide a 2D context.");return o.width===u&&o.height===i?l&&h.clearRect(0,0,u+1,i+1):(o.width=u,o.height=i),h.save(),o},getContext:function(u,i,s){var o=this.getCanvas(u,i,s);return o?o.getContext("2d",s||{}):null},release:function(u){var i=u&&u.canvas?u.canvas:u;i&&i.getContext&&(i.getContext("2d").restore(),this.canvases.push(i))}},At=new function(){var o,l,h,d,p,g,m,v,b,w,C,u=Math.min,i=Math.max,s=Math.abs;function D(E,R,N){return.2989*E+.587*R+.114*N}function k(E,R,N,B){var F=B-D(E,R,N),z=(B=D(b=E+F,w=R+F,C=N+F),u(b,w,C)),G=i(b,w,C);if(z<0){var j=B-z;b=B+(b-B)*B/j,w=B+(w-B)*B/j,C=B+(C-B)*B/j}if(G>255){var H=255-B,$=G-B;b=B+(b-B)*H/$,w=B+(w-B)*H/$,C=B+(C-B)*H/$}}function P(E,R,N){return i(E,R,N)-u(E,R,N)}function A(E,R,N,O){var G,F=[E,R,N],B=i(E,R,N),z=u(E,R,N);G=0===u(z=z===E?0:z===R?1:2,B=B===E?0:B===R?1:2)?1===i(z,B)?2:1:0,F[B]>F[z]?(F[G]=(F[G]-F[z])*O/(F[B]-F[z]),F[B]=O):F[G]=F[B]=0,F[z]=0,b=F[0],w=F[1],C=F[2]}var I={multiply:function(){b=p*o/255,w=g*l/255,C=m*h/255},screen:function(){b=p+o-p*o/255,w=g+l-g*l/255,C=m+h-m*h/255},overlay:function(){b=p<128?2*p*o/255:255-2*(255-p)*(255-o)/255,w=g<128?2*g*l/255:255-2*(255-g)*(255-l)/255,C=m<128?2*m*h/255:255-2*(255-m)*(255-h)/255},"soft-light":function(){var E=o*p/255;b=E+p*(255-(255-p)*(255-o)/255-E)/255,w=(E=l*g/255)+g*(255-(255-g)*(255-l)/255-E)/255,C=(E=h*m/255)+m*(255-(255-m)*(255-h)/255-E)/255},"hard-light":function(){b=o<128?2*o*p/255:255-2*(255-o)*(255-p)/255,w=l<128?2*l*g/255:255-2*(255-l)*(255-g)/255,C=h<128?2*h*m/255:255-2*(255-h)*(255-m)/255},"color-dodge":function(){b=0===p?0:255===o?255:u(255,255*p/(255-o)),w=0===g?0:255===l?255:u(255,255*g/(255-l)),C=0===m?0:255===h?255:u(255,255*m/(255-h))},"color-burn":function(){b=255===p?255:0===o?0:i(0,255-255*(255-p)/o),w=255===g?255:0===l?0:i(0,255-255*(255-g)/l),C=255===m?255:0===h?0:i(0,255-255*(255-m)/h)},darken:function(){b=p<o?p:o,w=g<l?g:l,C=m<h?m:h},lighten:function(){b=p>o?p:o,w=g>l?g:l,C=m>h?m:h},difference:function(){(b=p-o)<0&&(b=-b),(w=g-l)<0&&(w=-w),(C=m-h)<0&&(C=-C)},exclusion:function(){b=p+o*(255-p-p)/255,w=g+l*(255-g-g)/255,C=m+h*(255-m-m)/255},hue:function(){A(o,l,h,P(p,g,m)),k(b,w,C,D(p,g,m))},saturation:function(){A(p,g,m,P(o,l,h)),k(b,w,C,D(p,g,m))},luminosity:function(){k(p,g,m,D(o,l,h))},color:function(){k(o,l,h,D(p,g,m))},add:function(){b=u(p+o,255),w=u(g+l,255),C=u(m+h,255)},subtract:function(){b=i(p-o,0),w=i(g-l,0),C=i(m-h,0)},average:function(){b=(p+o)/2,w=(g+l)/2,C=(m+h)/2},negation:function(){b=255-s(255-o-p),w=255-s(255-l-g),C=255-s(255-h-m)}},x=this.nativeModes=ee.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(E){this[E]=!0},{}),S=zt.getContext(1,1,{willReadFrequently:!0});S&&(ee.each(I,function(E,R){var N="darken"===R,O=!1;S.save();try{S.fillStyle=N?"#300":"#a00",S.fillRect(0,0,1,1),S.globalCompositeOperation=R,S.globalCompositeOperation===R&&(S.fillStyle=N?"#a00":"#300",S.fillRect(0,0,1,1),O=S.getImageData(0,0,1,1).data[0]!==N?170:51)}catch{}S.restore(),x[R]=O}),zt.release(S)),this.process=function(E,R,N,O,F){var B=R.canvas,z="normal"===E;if(z||x[E])N.save(),N.setTransform(1,0,0,1,0,0),N.globalAlpha=O,z||(N.globalCompositeOperation=E),N.drawImage(B,F.x,F.y),N.restore();else{var G=I[E];if(!G)return;for(var j=N.getImageData(F.x,F.y,B.width,B.height),H=j.data,$=R.getImageData(0,0,B.width,B.height).data,K=0,Y=H.length;K<Y;K+=4){o=$[K],p=H[K],l=$[K+1],g=H[K+1],h=$[K+2],m=H[K+2],d=$[K+3],v=H[K+3],G();var J=d*O/255,oe=1-J;H[K]=J*b+oe*p,H[K+1]=J*w+oe*g,H[K+2]=J*C+oe*m,H[K+3]=d*O+oe*v}N.putImageData(j,F.x,F.y)}}},rn=new function(){var u="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",o={href:s,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};function d(p,g,m){for(var v in g){var b=g[v],w=o[v];"number"==typeof b&&m&&(b=m.number(b)),w?p.setAttributeNS(w,v,b):p.setAttribute(v,b)}return p}return{svg:u,xmlns:i,xlink:s,create:function l(p,g,m){return d(Ct.createElementNS(u,p),g,m)},get:function h(p,g){var m=o[g],v=m?p.getAttributeNS(m,g):p.getAttribute(g);return"null"===v?null:v},set:d}},en=ee.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(u,i){return!i&&(u instanceof In||u instanceof xn||u instanceof Zt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(u,i){var s=ee.capitalize(i),o=u[2];this[i]={type:u[1],property:i,attribute:u[0],toSVG:o,fromSVG:o&&ee.each(o,function(l,h){this[l]=h},{}),exportFilter:u[3],get:"get"+s,set:"set"+s}},{});new function(){var u;function i(I,x,S){var N,E=new ee,R=I.getTranslation();if(x&&(I.isInvertible()?(N=(I=I._shiftless())._inverseTransform(R),R=null):N=new ae,E[S?"cx":"x"]=N.x,E[S?"cy":"y"]=N.y),!I.isIdentity()){var O=I.decompose();if(O){var F=[],B=O.rotation,z=O.scaling,G=O.skewing;R&&!R.isZero()&&F.push("translate("+u.point(R)+")"),B&&F.push("rotate("+u.number(B)+")"),(!ze.isZero(z.x-1)||!ze.isZero(z.y-1))&&F.push("scale("+u.point(z)+")"),G.x&&F.push("skewX("+u.number(G.x)+")"),G.y&&F.push("skewY("+u.number(G.y)+")"),E.transform=F.join(" ")}else E.transform="matrix("+I.getValues().join(",")+")"}return E}function s(I,x){for(var S=i(I._matrix),E=I._children,R=rn.create("g",S,u),N=0,O=E.length;N<O;N++){var F=E[N],B=P(F,x);if(B)if(F.isClipMask()){var z=rn.create("clipPath");z.appendChild(B),D(F,z,"clip"),rn.set(R,{"clip-path":"url(#"+z.id+")"})}else R.appendChild(B)}return R}function h(I){var x=I._type,S=I._radius,E=i(I._matrix,!0,"rectangle"!==x);if("rectangle"===x){x="rect";var R=I._size,N=R.width,O=R.height;E.x-=N/2,E.y-=O/2,E.width=N,E.height=O,S.isZero()&&(S=null)}return S&&("circle"===x?E.r=S:(E.rx=S.width,E.ry=S.height)),rn.create(x,E,u)}var w,v={Group:s,Layer:s,Raster:function o(I,x){var S=i(I._matrix,!0),E=I.getSize(),R=I.getImage();return S.x-=E.width/2,S.y-=E.height/2,S.width=E.width,S.height=E.height,S.href=0==x.embedImages&&R&&R.src||I.toDataURL(),rn.create("image",S,u)},Path:function l(I,x){var S=x.matchShapes;if(S){var E=I.toShape(!1);if(E)return h(E)}var O,R=I._segments,N=R.length,F=i(I._matrix);if(S&&N>=2&&!I.hasHandles())if(N>2){O=I._closed?"polygon":"polyline";for(var B=[],z=0;z<N;z++)B.push(u.point(R[z]._point));F.points=B.join(" ")}else{O="line";var G=R[0]._point,j=R[1]._point;F.set({x1:G.x,y1:G.y,x2:j.x,y2:j.y})}else O="path",F.d=I.getPathData(null,x.precision);return rn.create(O,F,u)},Shape:h,CompoundPath:function d(I,x){var S=i(I._matrix),E=I.getPathData(null,x.precision);return E&&(S.d=E),rn.create("path",S,u)},SymbolItem:function p(I,x){var S=i(I._matrix,!0),E=I._definition,R=C(E,"symbol"),N=E._item,O=N.getStrokeBounds();return R||((R=rn.create("symbol",{viewBox:u.rectangle(O)})).appendChild(P(N,x)),D(E,R,"symbol")),S.href="#"+R.id,S.x+=O.x,S.y+=O.y,S.width=O.width,S.height=O.height,S.overflow="visible",rn.create("use",S,u)},PointText:function m(I){var x=rn.create("text",i(I._matrix,!0),u);return x.textContent=I._content,x}};function C(I,x){return w||(w={ids:{},svgs:{}}),I&&w.svgs[x+"-"+(I._id||I.__id||(I.__id=ut.get("svg")))]}function D(I,x,S){w||C();var E=w.ids[S]=(w.ids[S]||0)+1;x.id=S+"-"+E,w.svgs[S+"-"+(I._id||I.__id)]=x}function k(I,x){var S=I,E=null;if(w){for(var R in S="svg"===I.nodeName.toLowerCase()&&I,w.svgs)E||(S||(S=rn.create("svg")).appendChild(I),E=S.insertBefore(rn.create("defs"),S.firstChild)),E.appendChild(w.svgs[R]);w=null}return x.asString?(new ti.XMLSerializer).serializeToString(S):S}function P(I,x,S){var E=v[I._class],R=E&&E(I,x);if(R){var N=x.onExport;N&&(R=N(I,R,x)||R);var O=JSON.stringify(I._data);O&&"{}"!==O&&"null"!==O&&R.setAttribute("data-paper-data",O)}return R&&function b(I,x,S){var E={},R=!S&&I.getParent(),N=[];return null!=I._name&&(E.id=I._name),ee.each(en,function(O){var F=O.get,B=O.type,z=I[F]();if(O.exportFilter?O.exportFilter(I,z):!R||!ee.equals(R[F](),z)){if("color"===B&&null!=z){var G=z.getAlpha();G<1&&(E[O.attribute+"-opacity"]=G)}"style"===B?N.push(O.attribute+": "+z):E[O.attribute]=null==z?"none":"color"===B?z.gradient?function g(I){var x=C(I,"color");if(!x){var O,S=I.getGradient(),E=S._radial,R=I.getOrigin(),N=I.getDestination();if(E){O={cx:R.x,cy:R.y,r:R.getDistance(N)};var F=I.getHighlight();F&&(O.fx=F.x,O.fy=F.y)}else O={x1:R.x,y1:R.y,x2:N.x,y2:N.y};O.gradientUnits="userSpaceOnUse",x=rn.create((E?"radial":"linear")+"Gradient",O,u);for(var B=S._stops,z=0,G=B.length;z<G;z++){var j=B[z],H=j._color,$=H.getAlpha();O={offset:j._offset??z/(G-1)},H&&(O["stop-color"]=H.toCSS(!0)),$<1&&(O["stop-opacity"]=$),x.appendChild(rn.create("stop",O,u))}D(I,x,"color")}return"url(#"+x.id+")"}(z):z.toCSS(!0):"array"===B?z.join(","):"lookup"===B?O.toSVG[z]:z}}),N.length&&(E.style=N.join(";")),1===E.opacity&&delete E.opacity,I._visible||(E.visibility="hidden"),rn.set(x,E,u)}(I,R,S)}function A(I){return I||(I={}),u=new sn(I.precision),I}tt.inject({exportSVG:function(I){return k(P(this,I=A(I),!0),I)}}),Xt.inject({exportSVG:function(I){I=A(I);var x=this._children,S=this.getView(),E=ee.pick(I.bounds,"view"),R=I.matrix||"view"===E&&S._matrix,N=R&&Vt.read([R]),O="view"===E?new W([0,0],S.getViewSize()):"content"===E?tt._getBounds(x,N,{stroke:!0}).rect:W.read([E],0,{readNull:!0}),F={version:"1.1",xmlns:rn.svg,"xmlns:xlink":rn.xlink};O&&(F.width=O.width,F.height=O.height,(O.x||0===O.x||O.y||0===O.y)&&(F.viewBox=u.rectangle(O)));var B=rn.create("svg",F,u),z=B;N&&!N.isIdentity()&&(z=B.appendChild(rn.create("g",i(N),u)));for(var G=0,j=x.length;G<j;G++)z.appendChild(P(x[G],I,!0));return k(B,I)}})},new function(){var i,u={};function s(x,S,E,R,N,O){var F=rn.get(x,S)||O,B=null==F?R?null:E?"":0:E?F:parseFloat(F);return/%\s*$/.test(F)?B/100*(N?1:i[/x|^width/.test(S)?"width":"height"]):B}function o(x,S,E,R,N,O,F){return S=s(x,S||"x",!1,R,N,O),E=s(x,E||"y",!1,R,N,F),!R||null!=S&&null!=E?new ae(S,E):null}function l(x,S,E,R,N){return S=s(x,S||"width",!1,R,N),E=s(x,E||"height",!1,R,N),!R||null!=S&&null!=E?new je(S,E):null}function h(x,S,E){return"none"===x?null:"number"===S?parseFloat(x):"array"===S?x?x.split(/[\s,]+/g).map(parseFloat):[]:"color"===S?P(x)||x:"lookup"===S?E[x]:x}function d(x,S,E,R){var N=x.childNodes,O="clippath"===S,F="defs"===S,B=new Ze,z=B._project,G=z._currentStyle,j=[];if(!O&&!F&&(B=k(B,x,R),z._currentStyle=B._style.clone()),R)for(var H=x.querySelectorAll("defs"),$=0,K=H.length;$<K;$++)A(H[$],E,!1);for($=0,K=N.length;$<K;$++){var J,Y=N[$];1===Y.nodeType&&!/^defs$/i.test(Y.nodeName)&&(J=A(Y,E,!1))&&!(J instanceof ni)&&j.push(J)}return B.addChildren(j),O&&(B=k(B.reduce(),x,R)),z._currentStyle=G,(O||F)&&(B.remove(),B=null),B}function p(x,S){for(var E=x.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),R=[],N=0,O=E.length;N<O;N+=2)R.push(new ae(parseFloat(E[N]),parseFloat(E[N+1])));var F=new it(R);return"polygon"===S&&F.closePath(),F}function m(x,S){var N,E=(s(x,"href",!0)||"").substring(1),R="radialgradient"===S;if(E)(N=u[E].getGradient())._radial^R&&((N=N.clone())._radial=R);else{for(var O=x.childNodes,F=[],B=0,z=O.length;B<z;B++){var G=O[B];1===G.nodeType&&F.push(k(new ji,G))}N=new Kt(F,R)}var j,H,$,K="userSpaceOnUse"!==s(x,"gradientUnits",!0);return R?(H=(j=o(x,"cx","cy",!1,K,"50%","50%")).add(s(x,"r",!1,!1,K,"50%"),0),$=o(x,"fx","fy",!0,K)):(j=o(x,"x1","y1",!1,K,"0%","0%"),H=o(x,"x2","y2",!1,K,"100%","0%")),k(new Je(N,j,H,$),x)._scaleToBounds=K,null}var v={"#document":function(x,S,E,R){for(var N=x.childNodes,O=0,F=N.length;O<F;O++){var B=N[O];if(1===B.nodeType)return A(B,E,R)}},g:d,svg:d,clippath:d,polygon:p,polyline:p,path:function g(x){return In.create(x.getAttribute("d"))},lineargradient:m,radialgradient:m,image:function(x){var S=new fn(s(x,"href",!0));return S.on("load",function(){var E=l(x);this.setSize(E);var R=o(x).add(E.divide(2));this._matrix.append((new Vt).translate(R))}),S},symbol:function(x,S,E,R){return new ni(d(x,S,E,R),!0)},defs:d,use:function(x){var S=(s(x,"href",!0)||"").substring(1),E=u[S],R=o(x);return E?E instanceof ni?E.place(R):E.clone().translate(R):null},circle:function(x){return new xn.Circle(o(x,"cx","cy"),s(x,"r"))},ellipse:function(x){return new xn.Ellipse({center:o(x,"cx","cy"),radius:l(x,"rx","ry")})},rect:function(x){return new xn.Rectangle(new W(o(x),l(x)),l(x,"rx","ry"))},line:function(x){return new it.Line(o(x,"x1","y1"),o(x,"x2","y2"))},text:function(x){var S=new fi(o(x).add(o(x,"dx","dy")));return S.setContent(x.textContent.trim()||""),S},switch:d};function b(x,S,E,R){if(x.transform){for(var N=(R.getAttribute(E)||"").split(/\)\s*/g),O=new Vt,F=0,B=N.length;F<B;F++){var z=N[F];if(!z)break;for(var G=z.split(/\(\s*/),j=G[0],H=G[1].split(/[\s,]+/g),$=0,K=H.length;$<K;$++)H[$]=parseFloat(H[$]);switch(j){case"matrix":O.append(new Vt(H[0],H[1],H[2],H[3],H[4],H[5]));break;case"rotate":O.rotate(H[0],H[1]||0,H[2]||0);break;case"translate":O.translate(H[0],H[1]||0);break;case"scale":O.scale(H);break;case"skewX":O.skew(H[0],0);break;case"skewY":O.skew(0,H[0])}}x.transform(O)}}function w(x,S,E){var R="fill-opacity"===E?"getFillColor":"getStrokeColor",N=x[R]&&x[R]();N&&N.setAlpha(parseFloat(S))}var C=ee.set(ee.each(en,function(x){this[x.attribute]=function(S,E){if(S[x.set]&&(S[x.set](h(E,x.type,x.fromSVG)),"color"===x.type)){var R=S[x.get]();if(R&&R._scaleToBounds){var N=S.getBounds();R.transform((new Vt).translate(N.getPoint()).scale(N.getSize()))}}}},{}),{id:function(x,S){u[S]=x,x.setName&&x.setName(S)},"clip-path":function(x,S){var E=P(S);if(E){if((E=E.clone()).setClipMask(!0),!(x instanceof Ze))return new Ze(E,x);x.insertChild(0,E)}},gradientTransform:b,transform:b,"fill-opacity":w,"stroke-opacity":w,visibility:function(x,S){x.setVisible&&x.setVisible("visible"===S)},display:function(x,S){x.setVisible&&x.setVisible(null!==S)},"stop-color":function(x,S){x.setColor&&x.setColor(S)},"stop-opacity":function(x,S){x._color&&x._color.setAlpha(parseFloat(S))},offset:function(x,S){if(x.setOffset){var E=S.match(/(.*)%$/);x.setOffset(E?E[1]/100:parseFloat(S))}},viewBox:function(x,S,E,R,N){var B,O=new W(h(S,"array")),F=l(R,null,null,!0);if(x instanceof Ze){var G=F?F.divide(O.getSize()):1,z=(new Vt).scale(G).translate(O.getPoint().negate());B=x}else x instanceof ni&&(F&&O.setSize(F),B=x._item);if(B){if("visible"!==D(R,"overflow",N)){var j=new xn.Rectangle(O);j.setClipMask(!0),B.addChild(j)}z&&B.transform(z)}}});function D(x,S,E){var R=x.attributes[S],N=R&&R.value;if(!N&&x.style){var O=ee.camelize(S);!(N=x.style[O])&&E.node[O]!==E.parent[O]&&(N=E.node[O])}return N?"none"===N?null:N:xe}function k(x,S,E){var R=S.parentNode,N={node:Jt.getStyles(S)||{},parent:!E&&!/^defs$/i.test(R.tagName)&&Jt.getStyles(R)||{}};return ee.each(C,function(O,F){var B=D(S,F,N);x=B!==xe&&O(x,B,F,S,N)||x}),x}function P(x){var S=x&&x.match(/\((?:["'#]*)([^"')]+)/),E=S&&S[1],R=E&&u[De?E.replace(De.location.href.split("#")[0]+"#",""):E];return R&&R._scaleToBounds&&((R=R.clone())._scaleToBounds=!0),R}function A(x,S,E){var F,B,z,R=x.nodeName.toLowerCase(),N="#document"!==R,O=Ct.body;E&&N&&(i=Le.getView().getSize(),i=l(x,null,null,!0)||i,F=rn.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),B=x.parentNode,z=x.nextSibling,F.appendChild(x),O.appendChild(F));var G=Le.settings,j=G.applyMatrix,H=G.insertItems;G.applyMatrix=!1,G.insertItems=!1;var $=v[R],K=$&&$(x,R,S,E)||null;if(G.insertItems=H,G.applyMatrix=j,K){N&&!(K instanceof Ze)&&(K=k(K,x,E));var Y=S.onImport,J=N&&x.getAttribute("data-paper-data");Y&&(K=Y(x,K,S)||K),S.expandShapes&&K instanceof xn&&(K.remove(),K=K.toPath()),J&&(K._data=JSON.parse(J))}return F&&(O.removeChild(F),B&&(z?B.insertBefore(x,z):B.appendChild(x))),E&&(u={},K&&ee.pick(S.applyMatrix,j)&&K.matrix.apply(!0,!0)),K}function I(x,S,E){if(!x)return null;S="function"==typeof S?{onLoad:S}:S||{};var R=Le,N=null;function O(G){try{var j="object"==typeof G?G:(new ti.DOMParser).parseFromString(G.trim(),"image/svg+xml");if(!j.nodeName)throw j=null,new Error("Unsupported SVG source: "+x);Le=R,N=A(j,S,!0),(!S||!1!==S.insert)&&E._insertItem(xe,N);var H=S.onLoad;H&&H(N,G)}catch($){F($)}}function F(G,j){var H=S.onError;if(!H)throw new Error(G);H(G,j)}if("string"!=typeof x||/^[\s\S]*</.test(x)){if(typeof File<"u"&&x instanceof File){var z=new FileReader;return z.onload=function(){O(z.result)},z.onerror=function(){F(z.error)},z.readAsText(x)}O(x)}else{var B=Ct.getElementById(x);B?O(B):an.request({url:x,async:!0,onLoad:O,onError:F})}return N}tt.inject({importSVG:function(x,S){return I(x,S,this)}}),Xt.inject({importSVG:function(x,S){return this.activate(),I(x,S,this)}})};var Le=new(qn.inject(ee.exports,{Base:ee,Numerical:ze,Key:Lr,DomEvent:bt,DomElement:Jt,document:Ct,window:De,Symbol:ni,PlacedSymbol:Dn}));return Le.agent.node&&Bt(858)(Le),(Fn="function"==typeof(Nt=Le)?Nt.call(vr,Bt,vr,Ui):Nt)!==xe&&(Ui.exports=Fn),Le}).call(this,"object"==typeof self?self:null)},946:function(Ui,vr,Bt){var Nt,Fn,bi;(function(xe,De){var Ct=(xe=xe||Bt(158)).window,ee=xe.document,ne=new function(){var i=/^(statics|enumerable|beans|preserve)$/,s=[],o=s.slice,l=Object.create,h=Object.getOwnPropertyDescriptor,d=Object.defineProperty,p=s.forEach||function(C,D){for(var k=0,P=this.length;k<P;k++)C.call(D,this[k],k,this)},g=function(C,D){for(var k in this)this.hasOwnProperty(k)&&C.call(D,this[k],k,this)},m=Object.assign||function(C){for(var D=1,k=arguments.length;D<k;D++){var P=arguments[D];for(var A in P)P.hasOwnProperty(A)&&(C[A]=P[A])}return C},v=function(C,D,k){if(C){var P=h(C,"length");(P&&"number"==typeof P.value?p:g).call(C,D,k=k||C)}return k};function b(C,D,k,P,A){var I={};function x(O,F){"string"==typeof(F=F||(F=h(D,O))&&(F.get?F:F.value))&&"#"===F[0]&&(F=C[F.substring(1)]||F);var j,B="function"==typeof F,z=F,G=A||B&&!F.base?F&&F.get?O in C:C[O]:null;(!A||!G)&&(B&&G&&(F.base=G),B&&!1!==P&&(j=O.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(I[j[3].toLowerCase()+j[4]]=j[2]),(!z||B||!z.get||"function"!=typeof z.get||!w.isPlainObject(z))&&(z={value:z,writable:!0}),(h(C,O)||{configurable:!0}).configurable&&(z.configurable=!0,z.enumerable=k??!j),d(C,O,z))}if(D){for(var S in D)D.hasOwnProperty(S)&&!i.test(S)&&x(S);for(var S in I){var E=I[S],R=C["set"+E],N=C["get"+E]||R&&C["is"+E];N&&(!0===P||0===N.length)&&x(S,{get:N,set:R})}}return C}function w(){for(var C=0,D=arguments.length;C<D;C++){var k=arguments[C];k&&m(this,k)}return this}return b(w,{inject:function(C){if(C){var D=!0===C.statics?C:C.statics,k=C.beans,P=C.preserve;D!==C&&b(this.prototype,C,C.enumerable,k,P),b(this,D,null,k,P)}for(var A=1,I=arguments.length;A<I;A++)this.inject(arguments[A]);return this},extend:function(){for(var D,k,A,C=this,P=0,I=arguments.length;P<I&&(!D||!k);P++)A=arguments[P],D=D||A.initialize,k=k||A.prototype;return D=D||function(){C.apply(this,arguments)},k=D.prototype=k||l(this.prototype),d(k,"constructor",{value:D,writable:!0,configurable:!0}),b(D,this),arguments.length&&this.inject.apply(D,arguments),D.base=C,D}}).inject({enumerable:!1,initialize:w,set:w,inject:function(){for(var C=0,D=arguments.length;C<D;C++){var k=arguments[C];k&&b(this,k,k.enumerable,k.beans,k.preserve)}return this},extend:function(){var C=l(this);return C.inject.apply(C,arguments)},each:function(C,D){return v(this,C,D)},clone:function(){return new this.constructor(this)},statics:{set:m,each:v,create:l,define:d,describe:h,clone:function(C){return m(new C.constructor,C)},isPlainObject:function(C){var D=null!=C&&C.constructor;return D&&(D===Object||D===w||"Object"===D.name)},pick:function(C,D){return C!==De?C:D},slice:function(C,D,k){return o.call(C,D,k)}}})};Ui.exports=ne,ne.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+ne.each(this,function(i,s){if(!/^_/.test(s)){var o=typeof i;this.push(s+": "+("number"===o?ze.instance.number(i):"string"===o?"'"+i+"'":i))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(i){return ne.importJSON(i,this)},exportJSON:function(i){return ne.exportJSON(this,i)},toJSON:function(){return ne.serialize(this)},set:function(i,s){return i&&ne.filter(this,i,s,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function i(){var s=i.base.apply(this,arguments),o=s.prototype._class;return o&&!ne.exports[o]&&(ne.exports[o]=s),s},equals:function(i,s){if(i===s)return!0;if(i&&i.equals)return i.equals(s);if(s&&s.equals)return s.equals(i);if(i&&s&&"object"==typeof i&&"object"==typeof s){if(Array.isArray(i)&&Array.isArray(s)){if((o=i.length)!==s.length)return!1;for(;o--;)if(!ne.equals(i[o],s[o]))return!1}else{var o,l=Object.keys(i);if((o=l.length)!==Object.keys(s).length)return!1;for(;o--;){var h=l[o];if(!s.hasOwnProperty(h)||!ne.equals(i[h],s[h]))return!1}}return!0}return!1},read:function(i,s,o,l){if(this===ne){var h=this.peek(i,s);return i.__index++,h}var d=this.prototype,p=d._readIndex,g=s||p&&i.__index||0,m=i.length,v=i[g];if(l=l||m-g,v instanceof this||o&&o.readNull&&null==v&&l<=1)return p&&(i.__index=g+1),v&&o&&o.clone?v.clone():v;if(v=ne.create(d),p&&(v.__read=!0),v=v.initialize.apply(v,g>0||g+l<m?ne.slice(i,g,g+l):i)||v,p){i.__index=g+v.__read;var b=v.__filtered;b&&(i.__filtered=b,v.__filtered=De),v.__read=De}return v},peek:function(i,s){return i[i.__index=s||i.__index||0]},remain:function(i){return i.length-(i.__index||0)},readList:function(i,s,o,l){for(var d,h=[],p=s||0,g=l?p+l:i.length,m=p;m<g;m++)h.push(Array.isArray(d=i[m])?this.read(d,0,o):this.read(i,m,o,1));return h},readNamed:function(i,s,o,l,h){var d=this.getNamed(i,s),p=d!==De;if(p){var g=i.__filtered;if(!g){var m=this.getSource(i);(g=i.__filtered=ne.create(m)).__unfiltered=m}g[s]=De}return this.read(p?[d]:i,o,l,h)},readSupported:function(i,s){var o=this.getSource(i),l=this,h=!1;return o&&Object.keys(o).forEach(function(d){if(d in s){var p=l.readNamed(i,d);p!==De&&(s[d]=p),h=!0}}),h},getSource:function(i){var s=i.__source;if(s===De){var o=1===i.length&&i[0];s=i.__source=o&&ne.isPlainObject(o)?o:null}return s},getNamed:function(i,s){var o=this.getSource(i);if(o)return s?o[s]:i.__filtered||o},hasNamed:function(i,s){return!!this.getNamed(i,s)},filter:function(i,s,o,l){var h;function d(b){if(!(o&&b in o||h&&b in h)){var w=s[b];w!==De&&(i[b]=w)}}if(l){for(var m,p={},g=0,v=l.length;g<v;g++)(m=l[g])in s&&(d(m),p[m]=!0);h=p}return Object.keys(s.__unfiltered||s).forEach(d),i},isPlainValue:function(i,s){return ne.isPlainObject(i)||Array.isArray(i)||s&&"string"==typeof i},serialize:function(i,s,o,l){s=s||{};var d,h=!l;if(h&&(s.formatter=new ze(s.precision),l={length:0,definitions:{},references:{},add:function(w,C){var D="#"+w._id,k=this.references[D];if(!k){this.length++;var P=C.call(w),A=w._class;A&&P[0]!==A&&P.unshift(A),this.definitions[D]=P,k=this.references[D]=[D]}return k}}),i&&i._serialize){d=i._serialize(s,l);var p=i._class;p&&!i._compactSerialize&&(h||!o)&&d[0]!==p&&d.unshift(p)}else if(Array.isArray(i)){d=[];for(var g=0,m=i.length;g<m;g++)d[g]=ne.serialize(i[g],s,o,l)}else if(ne.isPlainObject(i)){d={};var v=Object.keys(i);for(g=0,m=v.length;g<m;g++){var b=v[g];d[b]=ne.serialize(i[b],s,o,l)}}else d="number"==typeof i?s.formatter.number(i,s.precision):i;return h&&l.length>0?[["dictionary",l.definitions],d]:d},deserialize:function(i,s,o,l,h){var d=i,p=!o,g=p&&i&&i.length&&"dictionary"===i[0][0];if(o=o||{},Array.isArray(i)){var m=i[0],v="dictionary"===m;if(1==i.length&&/^#/.test(m))return o.dictionary[m];d=[];for(var b=(m=ne.exports[m])?1:0,w=i.length;b<w;b++)d.push(ne.deserialize(i[b],s,o,v,g));if(m){var C=d;d=s?s(m,C,p||h):new m(C)}}else if(ne.isPlainObject(i))for(var D in d={},l&&(o.dictionary=d),i)d[D]=ne.deserialize(i[D],s,o);return g?d[1]:d},exportJSON:function(i,s){var o=ne.serialize(i,s);return s&&0==s.asString?o:JSON.stringify(o)},importJSON:function(i,s){return ne.deserialize("string"==typeof i?JSON.parse(i):i,function(o,l,h){var d=h&&s&&s.constructor===o,p=d?s:ne.create(o.prototype);if(1===l.length&&p instanceof Ze&&(d||!(p instanceof xn))){var g=l[0];ne.isPlainObject(g)&&(g.insert=!1,d&&(l=l.concat([Ze.INSERT])))}return(d?p.set:o).apply(p,l),d&&(s=null),p})},push:function(i,s){var o=s.length;if(o<4096)i.push.apply(i,s);else{var l=i.length;i.length+=o;for(var h=0;h<o;h++)i[l+h]=s[h]}return i},splice:function(i,s,o,l){var h=s&&s.length,d=o===De;(o=d?i.length:o)>i.length&&(o=i.length);for(var p=0;p<h;p++)s[p]._index=o+p;if(d)return ne.push(i,s),[];var g=[o,l];s&&ne.push(g,s);for(var m=i.splice.apply(i,g),v=(p=0,m.length);p<v;p++)m[p]._index=De;for(p=o+h,v=i.length;p<v;p++)i[p]._index=p;return m},capitalize:function(i){return i.replace(/\b[a-z]/g,function(s){return s.toUpperCase()})},camelize:function(i){return i.replace(/-(.)/g,function(s,o){return o.toUpperCase()})},hyphenate:function(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var qn={on:function(i,s){if("string"!=typeof i)ne.each(i,function(d,p){this.on(p,d)},this);else{var o=this._eventTypes,l=o&&o[i],h=this._callbacks=this._callbacks||{};-1===(h=h[i]=h[i]||[]).indexOf(s)&&(h.push(s),l&&l.install&&1===h.length&&l.install.call(this,i))}return this},off:function(i,s){if("string"==typeof i){var d,o=this._eventTypes,l=o&&o[i],h=this._callbacks&&this._callbacks[i];return h&&(!s||-1!==(d=h.indexOf(s))&&1===h.length?(l&&l.uninstall&&l.uninstall.call(this,i),delete this._callbacks[i]):-1!==d&&h.splice(d,1)),this}ne.each(i,function(p,g){this.off(g,p)},this)},once:function(i,s){return this.on(i,function o(){s.apply(this,arguments),this.off(i,o)})},emit:function(i,s){var o=this._callbacks&&this._callbacks[i];if(!o)return!1;var l=ne.slice(arguments,1),h=s&&s.target&&!s.currentTarget;o=o.slice(),h&&(s.currentTarget=this);for(var d=0,p=o.length;d<p;d++)if(0==o[d].apply(this,l)){s&&s.stop&&s.stop();break}return h&&delete s.currentTarget,!0},responds:function(i){return!(!this._callbacks||!this._callbacks[i])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(i){var s=this._eventTypes,o=this._callbacks,l=i?"install":"uninstall";if(s)for(var h in o)if(o[h].length>0){var d=s[h],p=d&&d[l];p&&p.call(this,h)}},statics:{inject:function i(s){var o=s._events;if(o){var l={};ne.each(o,function(h,d){var p="string"==typeof h,g=p?h:d,m=ne.capitalize(g),v=g.substring(2).toLowerCase();l[v]=p?{}:h,g="_"+g,s["get"+m]=function(){return this[g]},s["set"+m]=function(b){var w=this[g];w&&this.off(v,w),b&&this.on(v,b),this[g]=b}}),s._eventTypes=l}return i.base.apply(this,arguments)}}},yn=ne.extend({_class:"PaperScope",initialize:function i(){u=this,this.settings=new ne({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=i._id++,i._scopes[this._id]=this;var s=i.prototype;if(!this.support){var o=At.getContext(1,1)||{};s.support={nativeDash:"setLineDash"in o||"mozDash"in o,nativeBlendModes:rn.nativeModes},At.release(o)}if(!this.agent){var l=xe.navigator.userAgent.toLowerCase(),h=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(l)||[])[0],d="darwin"===h?"mac":h,p=s.agent=s.browser={platform:d};d&&(p[d]=!0),l.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(g,m,v,b,w){if(!p.chrome){var C="opera"===m?b:/^(node|trident)$/.test(m)?w:v;p.version=C,p.versionNumber=parseFloat(C),p.name=m={trident:"msie",jsdom:"node"}[m]||m,p[m]=!0}}),p.chrome&&delete p.webkit,p.atom&&delete p.chrome}},version:"0.12.17",getView:function(){var i=this.project;return i&&i._view},getPaper:function(){return this},execute:function(i,s){var o=u.PaperScript.execute(i,this,s);return nn.updateFocus(),o},install:function(i){var s=this;for(var o in ne.each(["project","view","tool"],function(l){ne.define(i,l,{configurable:!0,get:function(){return s[l]}})}),this)!/^_/.test(o)&&this[o]&&(i[o]=this[o])},setup:function(i){return u=this,this.project=new tt(i),this},createCanvas:function(i,s){return At.getCanvas(i,s)},activate:function(){u=this},clear:function(){for(var i=this.projects,s=this.tools,o=i.length-1;o>=0;o--)i[o].remove();for(o=s.length-1;o>=0;o--)s[o].remove()},remove:function(){this.clear(),delete yn._scopes[this._id]},statics:new function(){function i(s){return s+="Attribute",function(o,l){return o[s](l)||o[s]("data-paper-"+l)}}return{_scopes:{},_id:0,get:function(s){return this._scopes[s]||null},getAttribute:i("get"),hasAttribute:i("has")}}}),Sn=ne.extend(qn,{initialize:function(i){this._scope=u,this._index=this._scope[this._list].push(this)-1,(i||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var i=this._scope[this._reference];return i&&i!==this&&i.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",i),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(ne.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),sn={findItemBoundsCollisions:function(i,s,o){function l(p){for(var g=new Array(p.length),m=0;m<p.length;m++){var v=p[m].getBounds();g[m]=[v.left,v.top,v.right,v.bottom]}return g}var h=l(i),d=s&&s!==i?l(s):h;return this.findBoundsCollisions(h,d,o||0)},findCurveBoundsCollisions:function(i,s,o,l){function h(C){for(var D=Math.min,k=Math.max,P=new Array(C.length),A=0;A<C.length;A++){var I=C[A];P[A]=[D(I[0],I[2],I[4],I[6]),D(I[1],I[3],I[5],I[7]),k(I[0],I[2],I[4],I[6]),k(I[1],I[3],I[5],I[7])]}return P}var d=h(i),p=s&&s!==i?h(s):d;if(l){for(var g=this.findBoundsCollisions(d,p,o||0,!1,!0),m=this.findBoundsCollisions(d,p,o||0,!0,!0),v=[],b=0,w=g.length;b<w;b++)v[b]={hor:g[b],ver:m[b]};return v}return this.findBoundsCollisions(d,p,o||0)},findBoundsCollisions:function(i,s,o,l,h){var d=!s||i===s,p=d?i:i.concat(s),g=i.length,m=p.length;function v(he,ge,_e){for(var le=0,ce=he.length;le<ce;){var ue=ce+le>>>1;p[he[ue]][ge]<_e?le=ue+1:ce=ue}return le-1}for(var b=l?1:0,w=b+2,C=l?0:1,D=C+2,k=new Array(m),P=0;P<m;P++)k[P]=P;k.sort(function(he,ge){return p[he][b]-p[ge][b]});var A=[],I=new Array(g);for(P=0;P<m;P++){var x=k[P],S=p[x],E=d?x:x-g,R=x<g,N=d||!R,O=R?[]:null;if(A.length){var F=v(A,w,S[b]-o)+1;if(A.splice(0,F),d&&h){O=O.concat(A);for(var B=0;B<A.length;B++)I[z=A[B]].push(E)}else{var G=S[D],j=S[C];for(B=0;B<A.length;B++){var z,H=p[z=A[B]],$=z<g,K=d||z>=g;(h||(R&&K||N&&$)&&G>=H[C]-o&&j<=H[D]+o)&&(R&&K&&O.push(d?z:z-g),N&&$&&I[z].push(E))}}}if(R&&(i===s&&O.push(x),I[x]=O),A.length){var J=v(A,w,S[w]);A.splice(J+1,0,x)}else A.push(x)}for(P=0;P<I.length;P++){var oe=I[P];oe&&oe.sort(function(ge,_e){return ge-_e})}return I}},ze=ne.extend({initialize:function(i){this.precision=ne.pick(i,5),this.multiplier=Math.pow(10,this.precision)},number:function(i){return this.precision<16?Math.round(i*this.multiplier)/this.multiplier:i},pair:function(i,s,o){return this.number(i)+(o||",")+this.number(s)},point:function(i,s){return this.number(i.x)+(s||",")+this.number(i.y)},size:function(i,s){return this.number(i.width)+(s||",")+this.number(i.height)},rectangle:function(i,s){return this.point(i,s)+(s||",")+this.size(i,s)}});ze.instance=new ze;var ut=new function(){var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],s=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],o=Math.abs,l=Math.sqrt,h=Math.pow,d=Math.log2||function(w){return Math.log(w)*Math.LOG2E},p=1e-12,g=112e-18;function m(w,C,D){return w<C?C:w>D?D:w}function v(w,C,D){function k(F){var B=134217729*F,G=F-B+B;return[G,F-G]}var P=C*C-w*D,A=C*C+w*D;if(3*o(P)<A){var I=k(w),x=k(C),S=k(D),E=C*C,N=w*D;P=E-N+(x[0]*x[0]-E+2*x[0]*x[1]+x[1]*x[1]-(I[0]*S[0]-N+I[0]*S[1]+I[1]*S[0]+I[1]*S[1]))}return P}function b(){var w=Math.max.apply(Math,arguments);return w&&(w<1e-8||w>1e8)?h(2,-Math.round(d(w))):0}return{EPSILON:p,MACHINE_EPSILON:g,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(l(2)-1)/3,isZero:function(w){return w>=-p&&w<=p},isMachineZero:function(w){return w>=-g&&w<=g},clamp:m,integrate:function(w,C,D,k){for(var P=i[k-2],A=s[k-2],I=.5*(D-C),x=I+C,S=0,E=k+1>>1,R=1&k?A[S++]*w(x):0;S<E;){var N=I*P[S];R+=A[S++]*(w(x+N)+w(x-N))}return I*R},findRoot:function(w,C,D,k,P,A,I){for(var x=0;x<A;x++){var S=w(D),E=S/C(D),R=D-E;if(o(E)<I){D=R;break}S>0?(P=D,D=R<=k?.5*(k+P):R):(k=D,D=R>=P?.5*(k+P):R)}return m(D,k,P)},solveQuadratic:function(w,C,D,k,P,A){var I,x=1/0;if(o(w)<p){if(o(C)<p)return o(D)<p?-1:0;I=-D/C}else{var S=v(w,C*=-.5,D);if(S&&o(S)<g){var E=b(o(w),o(C),o(D));E&&(S=v(w*=E,C*=E,D*=E))}if(S>=-g){var R=S<0?0:l(S),N=C+(C<0?-R:R);0===N?x=-(I=D/w):(I=N/w,x=D/N)}}var O=0,F=null==P,B=P-p,z=A+p;return isFinite(I)&&(F||I>B&&I<z)&&(k[O++]=F?I:m(I,P,A)),x!==I&&isFinite(x)&&(F||x>B&&x<z)&&(k[O++]=F?x:m(x,P,A)),O},solveCubic:function(w,C,D,k,P,A,I){var S,E,R,N,O,x=b(o(w),o(C),o(D),o(k));function F(J){var oe=w*(S=J);N=(oe+(E=oe+C))*S+(R=E*S+D),O=R*S+k}if(x&&(w*=x,C*=x,D*=x,k*=x),o(w)<p)w=C,E=D,R=k,S=1/0;else if(o(k)<p)E=C,R=D,S=0;else{F(-C/w/3);var B=O/w,z=h(o(B),1/3),G=B<0?-1:1,j=-N/w,H=j>0?1.324717957244746*Math.max(z,l(j)):z,$=S-G*H;if($!==S){do{F($),$=0===N?S:S-O/N/(1+g)}while(G*$>G*S);o(w)*S*S>o(k/S)&&(E=((R=-k/S)-D)/S)}}var K=ut.solveQuadratic(w,E,R,P,A,I),Y=null==A;return isFinite(S)&&(0===K||K>0&&S!==P[0]&&S!==P[1])&&(Y||S>A-p&&S<I+p)&&(P[K++]=Y?S:m(S,A,I)),K}}},ae={_id:1,_pools:{},get:function(i){if(i){var s=this._pools[i];return s||(s=this._pools[i]={_id:1}),s._id++}return this._id++}},ie=ne.extend({_class:"Point",_readIndex:!0,initialize:function(s,o){var l=typeof s,h=this.__read,d=0;if("number"===l){var p="number"==typeof o;this._set(s,p?o:s),h&&(d=p?2:1)}else if("undefined"===l||null===s)this._set(0,0),h&&(d=null===s?1:0);else{var g="string"===l?s.split(/[\s,]+/)||[]:s;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"x"in g?this._set(g.x||0,g.y||0):"width"in g?this._set(g.width||0,g.height||0):"angle"in g?(this._set(g.length||0,0),this.setAngle(g.angle||0)):(this._set(0,0),d=0)}return h&&(this.__read=d),this},set:"#initialize",_set:function(i,s){return this.x=i,this.y=s,this},equals:function(i){return this===i||i&&(this.x===i.x&&this.y===i.y||Array.isArray(i)&&this.x===i[0]&&this.y===i[1])||!1},clone:function(){return new ie(this.x,this.y)},toString:function(){var i=ze.instance;return"{ x: "+i.number(this.x)+", y: "+i.number(this.y)+" }"},_serialize:function(i){var s=i.formatter;return[s.number(this.x),s.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(i){if(this.isZero()){var s=this._angle||0;this._set(Math.cos(s)*i,Math.sin(s)*i)}else{var o=i/this.getLength();ut.isZero(o)&&this.getAngle(),this._set(this.x*o,this.y*o)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(i){this.setAngleInRadians.call(this,i*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var i=ie.read(arguments),s=this.getLength()*i.getLength();if(ut.isZero(s))return NaN;var o=this.dot(i)/s;return Math.acos(o<-1?-1:o>1?1:o)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(i){if(this._angle=i,!this.isZero()){var s=this.getLength();this._set(Math.cos(i)*s,Math.sin(i)*s)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var i=ie.read(arguments);return 180*Math.atan2(this.cross(i),this.dot(i))/Math.PI},getDistance:function(){var i=arguments,s=ie.read(i),o=s.x-this.x,l=s.y-this.y,h=o*o+l*l;return ne.read(i)?h:Math.sqrt(h)},normalize:function(i){i===De&&(i=1);var s=this.getLength(),o=0!==s?i/s:0,l=new ie(this.x*o,this.y*o);return o>=0&&(l._angle=this._angle),l},rotate:function(i,s){if(0===i)return this.clone();i=i*Math.PI/180;var o=s?this.subtract(s):this,l=Math.sin(i),h=Math.cos(i);return o=new ie(o.x*h-o.y*l,o.x*l+o.y*h),s?o.add(s):o},transform:function(i){return i?i._transformPoint(this):this},add:function(){var i=ie.read(arguments);return new ie(this.x+i.x,this.y+i.y)},subtract:function(){var i=ie.read(arguments);return new ie(this.x-i.x,this.y-i.y)},multiply:function(){var i=ie.read(arguments);return new ie(this.x*i.x,this.y*i.y)},divide:function(){var i=ie.read(arguments);return new ie(this.x/i.x,this.y/i.y)},modulo:function(){var i=ie.read(arguments);return new ie(this.x%i.x,this.y%i.y)},negate:function(){return new ie(-this.x,-this.y)},isInside:function(){return Ke.read(arguments).contains(this)},isClose:function(){var i=arguments,s=ie.read(i),o=ne.read(i);return this.getDistance(s)<=o},isCollinear:function(){var i=ie.read(arguments);return ie.isCollinear(this.x,this.y,i.x,i.y)},isColinear:"#isCollinear",isOrthogonal:function(){var i=ie.read(arguments);return ie.isOrthogonal(this.x,this.y,i.x,i.y)},isZero:function(){var i=ut.isZero;return i(this.x)&&i(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(i){return this.x*(i>1&&i<4?-1:1)>=0&&this.y*(i>2?-1:1)>=0},dot:function(){var i=ie.read(arguments);return this.x*i.x+this.y*i.y},cross:function(){var i=ie.read(arguments);return this.x*i.y-this.y*i.x},project:function(){var i=ie.read(arguments),s=i.isZero()?0:this.dot(i)/i.dot(i);return new ie(i.x*s,i.y*s)},statics:{min:function(){var i=arguments,s=ie.read(i),o=ie.read(i);return new ie(Math.min(s.x,o.x),Math.min(s.y,o.y))},max:function(){var i=arguments,s=ie.read(i),o=ie.read(i);return new ie(Math.max(s.x,o.x),Math.max(s.y,o.y))},random:function(){return new ie(Math.random(),Math.random())},isCollinear:function(i,s,o,l){return Math.abs(i*l-s*o)<=1e-8*Math.sqrt((i*i+s*s)*(o*o+l*l))},isOrthogonal:function(i,s,o,l){return Math.abs(i*o+s*l)<=1e-8*Math.sqrt((i*i+s*s)*(o*o+l*l))}}},ne.each(["round","ceil","floor","abs"],function(i){var s=Math[i];this[i]=function(){return new ie(s(this.x),s(this.y))}},{})),je=ie.extend({initialize:function(s,o,l,h){this._x=s,this._y=o,this._owner=l,this._setter=h},_set:function(i,s,o){return this._x=i,this._y=s,o||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(i){this._x=i,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(i){this._y=i,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(i){this._owner._changeSelection(this._getSelection(),i)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),Ee=ne.extend({_class:"Size",_readIndex:!0,initialize:function(s,o){var l=typeof s,h=this.__read,d=0;if("number"===l){var p="number"==typeof o;this._set(s,p?o:s),h&&(d=p?2:1)}else if("undefined"===l||null===s)this._set(0,0),h&&(d=null===s?1:0);else{var g="string"===l?s.split(/[\s,]+/)||[]:s;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"width"in g?this._set(g.width||0,g.height||0):"x"in g?this._set(g.x||0,g.y||0):(this._set(0,0),d=0)}return h&&(this.__read=d),this},set:"#initialize",_set:function(i,s){return this.width=i,this.height=s,this},equals:function(i){return i===this||i&&(this.width===i.width&&this.height===i.height||Array.isArray(i)&&this.width===i[0]&&this.height===i[1])||!1},clone:function(){return new Ee(this.width,this.height)},toString:function(){var i=ze.instance;return"{ width: "+i.number(this.width)+", height: "+i.number(this.height)+" }"},_serialize:function(i){var s=i.formatter;return[s.number(this.width),s.number(this.height)]},add:function(){var i=Ee.read(arguments);return new Ee(this.width+i.width,this.height+i.height)},subtract:function(){var i=Ee.read(arguments);return new Ee(this.width-i.width,this.height-i.height)},multiply:function(){var i=Ee.read(arguments);return new Ee(this.width*i.width,this.height*i.height)},divide:function(){var i=Ee.read(arguments);return new Ee(this.width/i.width,this.height/i.height)},modulo:function(){var i=Ee.read(arguments);return new Ee(this.width%i.width,this.height%i.height)},negate:function(){return new Ee(-this.width,-this.height)},isZero:function(){var i=ut.isZero;return i(this.width)&&i(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(i,s){return new Ee(Math.min(i.width,s.width),Math.min(i.height,s.height))},max:function(i,s){return new Ee(Math.max(i.width,s.width),Math.max(i.height,s.height))},random:function(){return new Ee(Math.random(),Math.random())}}},ne.each(["round","ceil","floor","abs"],function(i){var s=Math[i];this[i]=function(){return new Ee(s(this.width),s(this.height))}},{})),W=Ee.extend({initialize:function(s,o,l,h){this._width=s,this._height=o,this._owner=l,this._setter=h},_set:function(i,s,o){return this._width=i,this._height=s,o||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(i){this._width=i,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(i){this._height=i,this._owner[this._setter](this)}}),Ke=ne.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(s,o,l,h){var g,d=arguments,p=typeof s;if("number"===p?(this._set(s,o,l,h),g=4):"undefined"===p||null===s?(this._set(0,0,0,0),g=null===s?1:0):1===d.length&&(Array.isArray(s)?(this._set.apply(this,s),g=1):s.x!==De||s.width!==De?(this._set(s.x||0,s.y||0,s.width||0,s.height||0),g=1):s.from===De&&s.to===De&&(this._set(0,0,0,0),ne.readSupported(d,this)&&(g=1))),g===De){var C,D,m=ie.readNamed(d,"from"),v=ne.peek(d),b=m.x,w=m.y;if(v&&v.x!==De||ne.hasNamed(d,"to")){var k=ie.readNamed(d,"to");(C=k.x-b)<0&&(b=k.x,C=-C),(D=k.y-w)<0&&(w=k.y,D=-D)}else{var P=Ee.read(d);C=P.width,D=P.height}this._set(b,w,C,D),g=d.__index}var A=d.__filtered;return A&&(this.__filtered=A),this.__read&&(this.__read=g),this},set:"#initialize",_set:function(i,s,o,l){return this.x=i,this.y=s,this.width=o,this.height=l,this},clone:function(){return new Ke(this.x,this.y,this.width,this.height)},equals:function(i){var s=ne.isPlainValue(i)?Ke.read(arguments):i;return s===this||s&&this.x===s.x&&this.y===s.y&&this.width===s.width&&this.height===s.height||!1},toString:function(){var i=ze.instance;return"{ x: "+i.number(this.x)+", y: "+i.number(this.y)+", width: "+i.number(this.width)+", height: "+i.number(this.height)+" }"},_serialize:function(i){var s=i.formatter;return[s.number(this.x),s.number(this.y),s.number(this.width),s.number(this.height)]},getPoint:function(i){return new(i?ie:je)(this.x,this.y,this,"setPoint")},setPoint:function(){var i=ie.read(arguments);this.x=i.x,this.y=i.y},getSize:function(i){return new(i?Ee:W)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var i=Ee.read(arguments),s=this._sx,o=this._sy,l=i.width,h=i.height;s&&(this.x+=(this.width-l)*s),o&&(this.y+=(this.height-h)*o),this.width=l,this.height=h,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(i){if(!this._fw){var s=i-this.x;this.width-=.5===this._sx?2*s:s}this.x=i,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(i){if(!this._fh){var s=i-this.y;this.height-=.5===this._sy?2*s:s}this.y=i,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(i){if(!this._fw){var s=i-this.x;this.width=.5===this._sx?2*s:s}this.x=i-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(i){if(!this._fh){var s=i-this.y;this.height=.5===this._sy?2*s:s}this.y=i-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(i){this._fw||.5===this._sx?this.x=i-this.width/2:(this._sx&&(this.x+=2*(i-this.x)*this._sx),this.width=2*(i-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(i){this._fh||.5===this._sy?this.y=i-this.height/2:(this._sy&&(this.y+=2*(i-this.y)*this._sy),this.height=2*(i-this.y)),this._sy=.5,this._fh=0},getCenter:function(i){return new(i?ie:je)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var i=ie.read(arguments);return this.setCenterX(i.x),this.setCenterY(i.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(i){return i&&i.width!==De||4===(Array.isArray(i)?i:arguments).length?this._containsRectangle(Ke.read(arguments)):this._containsPoint(ie.read(arguments))},_containsPoint:function(i){var s=i.x,o=i.y;return s>=this.x&&o>=this.y&&s<=this.x+this.width&&o<=this.y+this.height},_containsRectangle:function(i){var s=i.x,o=i.y;return s>=this.x&&o>=this.y&&s+i.width<=this.x+this.width&&o+i.height<=this.y+this.height},intersects:function(){var i=Ke.read(arguments),s=ne.read(arguments)||0;return i.x+i.width>this.x-s&&i.y+i.height>this.y-s&&i.x<this.x+this.width+s&&i.y<this.y+this.height+s},intersect:function(){var i=Ke.read(arguments),s=Math.max(this.x,i.x),o=Math.max(this.y,i.y),l=Math.min(this.x+this.width,i.x+i.width),h=Math.min(this.y+this.height,i.y+i.height);return new Ke(s,o,l-s,h-o)},unite:function(){var i=Ke.read(arguments),s=Math.min(this.x,i.x),o=Math.min(this.y,i.y),l=Math.max(this.x+this.width,i.x+i.width),h=Math.max(this.y+this.height,i.y+i.height);return new Ke(s,o,l-s,h-o)},include:function(){var i=ie.read(arguments),s=Math.min(this.x,i.x),o=Math.min(this.y,i.y),l=Math.max(this.x+this.width,i.x),h=Math.max(this.y+this.height,i.y);return new Ke(s,o,l-s,h-o)},expand:function(){var i=Ee.read(arguments),s=i.width,o=i.height;return new Ke(this.x-s/2,this.y-o/2,this.width+s,this.height+o)},scale:function(i,s){return this.expand(this.width*i-this.width,this.height*(s===De?i:s)-this.height)}},ne.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(i,s){var o=i.join(""),l=/^[RL]/.test(o);s>=4&&(i[1]+=l?"Y":"X");var h=i[l?0:1],d=i[l?1:0],p="get"+h,g="get"+d,m="set"+h,v="set"+d,w="set"+o;this["get"+o]=function(C){return new(C?ie:je)(this[p](),this[g](),this,w)},this[w]=function(){var C=ie.read(arguments);this[m](C.x),this[v](C.y)}},{beans:!0})),Vt=Ke.extend({initialize:function(s,o,l,h,d,p){this._set(s,o,l,h,!0),this._owner=d,this._setter=p},_set:function(i,s,o,l,h){return this._x=i,this._y=s,this._width=o,this._height=l,h||this._owner[this._setter](this),this}},new function(){var i=Ke.prototype;return ne.each(["x","y","width","height"],function(s){var o=ne.capitalize(s),l="_"+s;this["get"+o]=function(){return this[l]},this["set"+o]=function(h){this[l]=h,this._dontNotify||this._owner[this._setter](this)}},ne.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(s){var o="set"+s;this[o]=function(){this._dontNotify=!0,i[o].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(s){var o=this._owner;o._changeSelection&&o._changeSelection(2,s)}}))}),ot=ne.extend({_class:"Matrix",initialize:function i(s,o){var l=arguments,h=l.length,d=!0;if(h>=6?this._set.apply(this,l):1===h||2===h?s instanceof i?this._set(s._a,s._b,s._c,s._d,s._tx,s._ty,o):Array.isArray(s)?this._set.apply(this,o?s.concat([o]):s):d=!1:h?d=!1:this.reset(),!d)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(i,s,o,l,h,d,p){return this._a=i,this._b=s,this._c=o,this._d=l,this._tx=h,this._ty=d,p||this._changed(),this},_serialize:function(i,s){return ne.serialize(this.getValues(),i,!0,s)},_changed:function(){var i=this._owner;i&&(i._applyMatrix?i.transform(null,!0):i._changed(25))},clone:function(){return new ot(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(i){return i===this||i&&this._a===i._a&&this._b===i._b&&this._c===i._c&&this._d===i._d&&this._tx===i._tx&&this._ty===i._ty},toString:function(){var i=ze.instance;return"[["+[i.number(this._a),i.number(this._c),i.number(this._tx)].join(", ")+"], ["+[i.number(this._b),i.number(this._d),i.number(this._ty)].join(", ")+"]]"},reset:function(i){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,i||this._changed(),this},apply:function(i,s){var o=this._owner;return!!o&&(o.transform(null,ne.pick(i,!0),s),this.isIdentity())},translate:function(){var i=ie.read(arguments),s=i.x,o=i.y;return this._tx+=s*this._a+o*this._c,this._ty+=s*this._b+o*this._d,this._changed(),this},scale:function(){var i=arguments,s=ie.read(i),o=ie.read(i,0,{readNull:!0});return o&&this.translate(o),this._a*=s.x,this._b*=s.x,this._c*=s.y,this._d*=s.y,o&&this.translate(o.negate()),this._changed(),this},rotate:function(i){i*=Math.PI/180;var s=ie.read(arguments,1),o=s.x,l=s.y,h=Math.cos(i),d=Math.sin(i),p=o-o*h+l*d,g=l-o*d-l*h,m=this._a,v=this._b,b=this._c,w=this._d;return this._a=h*m+d*b,this._b=h*v+d*w,this._c=-d*m+h*b,this._d=-d*v+h*w,this._tx+=p*m+g*b,this._ty+=p*v+g*w,this._changed(),this},shear:function(){var i=arguments,s=ie.read(i),o=ie.read(i,0,{readNull:!0});o&&this.translate(o);var l=this._a,h=this._b;return this._a+=s.y*this._c,this._b+=s.y*this._d,this._c+=s.x*l,this._d+=s.x*h,o&&this.translate(o.negate()),this._changed(),this},skew:function(){var i=arguments,s=ie.read(i),o=ie.read(i,0,{readNull:!0}),l=Math.PI/180,h=new ie(Math.tan(s.x*l),Math.tan(s.y*l));return this.shear(h,o)},append:function(i,s){if(i){var o=this._a,l=this._b,h=this._c,d=this._d,p=i._a,g=i._c,m=i._b,v=i._d,b=i._tx,w=i._ty;this._a=p*o+m*h,this._c=g*o+v*h,this._b=p*l+m*d,this._d=g*l+v*d,this._tx+=b*o+w*h,this._ty+=b*l+w*d,s||this._changed()}return this},prepend:function(i,s){if(i){var o=this._a,l=this._b,h=this._c,d=this._d,p=this._tx,g=this._ty,m=i._a,v=i._c,b=i._b,w=i._d,C=i._tx,D=i._ty;this._a=m*o+v*l,this._c=m*h+v*d,this._b=b*o+w*l,this._d=b*h+w*d,this._tx=m*p+v*g+C,this._ty=b*p+w*g+D,s||this._changed()}return this},appended:function(i){return this.clone().append(i)},prepended:function(i){return this.clone().prepend(i)},invert:function(){var i=this._a,s=this._b,o=this._c,l=this._d,h=this._tx,d=this._ty,p=i*l-s*o,g=null;return p&&!isNaN(p)&&isFinite(h)&&isFinite(d)&&(this._a=l/p,this._b=-s/p,this._c=-o/p,this._d=i/p,this._tx=(o*d-l*h)/p,this._ty=(s*h-i*d)/p,g=this),g},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new ot(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var i=this._a*this._d-this._c*this._b;return i&&!isNaN(i)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(i,s,o){return arguments.length<3?this._transformPoint(ie.read(arguments)):this._transformCoordinates(i,s,o)},_transformPoint:function(i,s,o){var l=i.x,h=i.y;return s||(s=new ie),s._set(l*this._a+h*this._c+this._tx,l*this._b+h*this._d+this._ty,o)},_transformCoordinates:function(i,s,o){for(var l=0,h=2*o;l<h;l+=2){var d=i[l],p=i[l+1];s[l]=d*this._a+p*this._c+this._tx,s[l+1]=d*this._b+p*this._d+this._ty}return s},_transformCorners:function(i){var s=i.x,o=i.y,l=s+i.width,h=o+i.height,d=[s,o,l,o,l,h,s,h];return this._transformCoordinates(d,d,4)},_transformBounds:function(i,s,o){for(var l=this._transformCorners(i),h=l.slice(0,2),d=h.slice(),p=2;p<8;p++){var g=l[p],m=1&p;g<h[m]?h[m]=g:g>d[m]&&(d[m]=g)}return s||(s=new Ke),s._set(h[0],h[1],d[0]-h[0],d[1]-h[1],o)},inverseTransform:function(){return this._inverseTransform(ie.read(arguments))},_inverseTransform:function(i,s,o){var l=this._a,h=this._b,d=this._c,p=this._d,g=this._tx,m=this._ty,v=l*p-h*d,b=null;if(v&&!isNaN(v)&&isFinite(g)&&isFinite(m)){var w=i.x-this._tx,C=i.y-this._ty;s||(s=new ie),b=s._set((w*p-C*d)/v,(C*l-w*h)/v,o)}return b},decompose:function(){var m,v,b,i=this._a,s=this._b,o=this._c,l=this._d,h=i*l-s*o,d=Math.sqrt,p=Math.atan2,g=180/Math.PI;if(0!==i||0!==s){var w=d(i*i+s*s);m=Math.acos(i/w)*(s>0?1:-1),v=[w,h/w],b=[p(i*o+s*l,w*w),0]}else if(0!==o||0!==l){var C=d(o*o+l*l);m=Math.asin(o/C)*(l>0?1:-1),v=[h/C,C],b=[0,p(i*o+s*l,C*C)]}else m=0,b=v=[0,0];return{translation:this.getTranslation(),rotation:m*g,scaling:new ie(v),skewing:new ie(b[0]*g,b[1]*g)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ie(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(i){this.isIdentity()||i.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},ne.each(["a","b","c","d","tx","ty"],function(i){var s=ne.capitalize(i),o="_"+i;this["get"+s]=function(){return this[o]},this["set"+s]=function(l){this[o]=l,this._changed()}},{})),Xt=ne.extend({_class:"Line",initialize:function(s,o,l,h,d){var p=!1;arguments.length>=4?(this._px=s,this._py=o,this._vx=l,this._vy=h,p=d):(this._px=s.x,this._py=s.y,this._vx=o.x,this._vy=o.y,p=l),p||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ie(this._px,this._py)},getVector:function(){return new ie(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(i,s){return Xt.intersect(this._px,this._py,this._vx,this._vy,i._px,i._py,i._vx,i._vy,!0,s)},getSide:function(i,s){return Xt.getSide(this._px,this._py,this._vx,this._vy,i.x,i.y,!0,s)},getDistance:function(i){return Math.abs(this.getSignedDistance(i))},getSignedDistance:function(i){return Xt.getSignedDistance(this._px,this._py,this._vx,this._vy,i.x,i.y,!0)},isCollinear:function(i){return ie.isCollinear(this._vx,this._vy,i._vx,i._vy)},isOrthogonal:function(i){return ie.isOrthogonal(this._vx,this._vy,i._vx,i._vy)},statics:{intersect:function(i,s,o,l,h,d,p,g,m,v){m||(o-=i,l-=s,p-=h,g-=d);var b=o*g-l*p;if(!ut.isMachineZero(b)){var w=i-h,C=s-d,D=(p*C-g*w)/b,k=(o*C-l*w)/b,A=-1e-12,I=1+1e-12;if(v||A<D&&D<I&&A<k&&k<I)return v||(D=D<=0?0:D>=1?1:D),new ie(i+D*o,s+D*l)}},getSide:function(i,s,o,l,h,d,p,g){p||(o-=i,l-=s);var m=h-i,b=m*l-(d-s)*o;return!g&&ut.isMachineZero(b)&&(b=(m*o+m*o)/(o*o+l*l))>=0&&b<=1&&(b=0),b<0?-1:b>0?1:0},getSignedDistance:function(i,s,o,l,h,d,p){return p||(o-=i,l-=s),0===o?l>0?h-i:i-h:0===l?o<0?d-s:s-d:((h-i)*l-(d-s)*o)/(l>o?l*Math.sqrt(1+o*o/(l*l)):o*Math.sqrt(1+l*l/(o*o)))},getDistance:function(i,s,o,l,h,d,p){return Math.abs(Xt.getSignedDistance(i,s,o,l,h,d,p))}}}),tt=Sn.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(s){Sn.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Jt(null,null,this),this._view=nn.create(this,s||At.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(i,s){return ne.serialize(this._children,i,!0,s)},_changed:function(i,s){if(1&i){var o=this._view;o&&(o._needsUpdate=!0,!o._requested&&o._autoUpdate&&o.requestUpdate())}var l=this._changes;if(l&&s){var h=this._changesById,d=s._id,p=h[d];p?p.flags|=i:l.push(h[d]={item:s,flags:i})}},clear:function(){for(var i=this._children,s=i.length-1;s>=0;s--)i[s].remove()},isEmpty:function(){return!this._children.length},remove:function i(){return!!i.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(i){this._currentStyle.set(i)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new xn({project:this,insert:!0})},getSymbolDefinitions:function(){var i=[],s={};return this.getItems({class:ni,match:function(o){var l=o._definition,h=l._id;return s[h]||(s[h]=!0,i.push(l)),!1}}),i},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var i=this._selectionItems,s=[];for(var o in i){var l=i[o],h=l._selection;1&h&&l.isInserted()?s.push(l):h||this._updateSelection(l)}return s},_updateSelection:function(i){var s=i._id,o=this._selectionItems;i._selection?o[s]!==i&&(this._selectionCount++,o[s]=i):o[s]===i&&(this._selectionCount--,delete o[s])},selectAll:function(){for(var i=this._children,s=0,o=i.length;s<o;s++)i[s].setFullySelected(!0)},deselectAll:function(){var i=this._selectionItems;for(var s in i)i[s].setFullySelected(!1)},addLayer:function(i){return this.insertLayer(De,i)},insertLayer:function(i,s){if(s instanceof xn){s._remove(!1,!0),ne.splice(this._children,[s],i,0),s._setProject(this,!0);var o=s._name;o&&s.setName(o),this._changes&&s._changed(5),this._activeLayer||(this._activeLayer=s)}else s=null;return s},_insertItem:function(i,s,o){return s=this.insertLayer(i,s)||(this._activeLayer||this._insertItem(De,new xn(Ze.NO_INSERT),!0)).insertChild(i,s),o&&s.activate&&s.activate(),s},getItems:function(i){return Ze._getItems(this,i)},getItem:function(i){return Ze._getItems(this,i,null,null,!0)[0]||null},importJSON:function(i){this.activate();var s=this._activeLayer;return ne.importJSON(i,s&&s.isEmpty()&&s)},removeOn:function(i){var s=this._removeSets;if(s){"mouseup"===i&&(s.mousedrag=null);var o=s[i];if(o){for(var l in o){var h=o[l];for(var d in s){var p=s[d];p&&p!=o&&delete p[h._id]}h.remove()}s[i]=null}}},draw:function(i,s,o){this._updateVersion++,i.save(),s.applyToContext(i);for(var l=this._children,h=new ne({offset:new ie(0,0),pixelRatio:o,viewMatrix:s.isIdentity()?null:s,matrices:[new ot],updateMatrix:!0}),d=0,p=l.length;d<p;d++)l[d].draw(i,h);if(i.restore(),this._selectionCount>0){i.save(),i.strokeWidth=1;var g=this._selectionItems,m=this._scope.settings.handleSize,v=this._updateVersion;for(var b in g)g[b]._drawSelection(i,s,m,g,v);i.restore()}}}),Ze=ne.extend(qn,{statics:{extend:function i(s){return s._serializeFields&&(s._serializeFields=ne.set({},this.prototype._serializeFields,s._serializeFields)),i.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new ot,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var i=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return ne.each(i,function(s){this._events[s]={install:function(o){this.getView()._countItemEvent(o,1)},uninstall:function(o){this.getView()._countItemEvent(o,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:i}})},{initialize:function(){},_initialize:function(i,s){var o=i&&ne.isPlainObject(i),l=o&&!0===i.internal,h=this._matrix=new ot,d=o&&i.project||u.project,p=u.settings;return this._id=l?null:ae.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&p.applyMatrix,s&&h.translate(s),h._owner=this,this._style=new Jt(d._currentStyle,this,d),l||o&&0==i.insert||!p.insertItems&&(!o||1!=i.insert)?this._setProject(d):(o&&i.parent||d)._insertItem(De,this,!0),o&&i!==Ze.NO_INSERT&&i!==Ze.INSERT&&this.set(i,{internal:!0,insert:!0,project:!0,parent:!0}),o},_serialize:function(i,s){var o={},l=this;function h(d){for(var p in d){var g=l[p];ne.equals(g,"leading"===p?1.2*d.fontSize:d[p])||(o[p]=ne.serialize(g,i,"data"!==p,s))}}return h(this._serializeFields),this instanceof An||h(this._style._defaults),[this._class,o]},_changed:function(i){var s=this._symbol,o=this._parent||s,l=this._project;8&i&&(this._bounds=this._position=this._decomposed=De),16&i&&(this._globalMatrix=De),o&&72&i&&Ze._clearBoundsCache(o),2&i&&Ze._clearBoundsCache(this),l&&l._changed(i,this),s&&s._changed(i)},getId:function(){return this._id},getName:function(){return this._name},setName:function(i){if(this._name&&this._removeNamed(),i===+i+"")throw new Error("Names consisting only of numbers are not supported.");var s=this._getOwner();if(i&&s){var o=s._children,l=s._namedChildren;(l[i]=l[i]||[]).push(this),i in o||(o[i]=this)}this._name=i||De,this._changed(256)},getStyle:function(){return this._style},setStyle:function(i){this.getStyle().set(i)}},ne.each(["locked","visible","blendMode","opacity","guide"],function(i){var s=ne.capitalize(i),o="_"+i,l={locked:256,visible:265};this["get"+s]=function(){return this[o]},this["set"+s]=function(h){h!=this[o]&&(this[o]=h,this._changed(l[i]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(i){if(i!==this._selection){this._selection=i;var s=this._project;s&&(s._updateSelection(this),this._changed(257))}},_changeSelection:function(i,s){var o=this._selection;this.setSelection(s?o|i:o&~i)},isSelected:function(){if(this._selectChildren)for(var i=this._children,s=0,o=i.length;s<o;s++)if(i[s].isSelected())return!0;return!!(1&this._selection)},setSelected:function(i){if(this._selectChildren)for(var s=this._children,o=0,l=s.length;o<l;o++)s[o].setSelected(i);this._changeSelection(1,i)},isFullySelected:function(){var i=this._children,s=!!(1&this._selection);if(i&&s){for(var o=0,l=i.length;o<l;o++)if(!i[o].isFullySelected())return!1;return!0}return s},setFullySelected:function(i){var s=this._children;if(s)for(var o=0,l=s.length;o<l;o++)s[o].setFullySelected(i);this._changeSelection(1,i)},isClipMask:function(){return this._clipMask},setClipMask:function(i){this._clipMask!=(i=!!i)&&(this._clipMask=i,i&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(i){this._data=i},getPosition:function(i){var s=i?ie:je,o=this._position||(this._position=this._getPositionFromBounds());return new s(o.x,o.y,this,"setPosition")},setPosition:function(){this.translate(ie.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(i){return this._pivot?this._matrix._transformPoint(this._pivot):(i||this.getBounds()).getCenter(!0)},getPivot:function(){var i=this._pivot;return i?new je(i.x,i.y,this,"setPivot"):null},setPivot:function(){this._pivot=ie.read(arguments,0,{clone:!0,readNull:!0}),this._position=De}},ne.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(i,s){this[s]=function(o){return this.getBounds(o,i)}},{beans:!0,getBounds:function(i,s){var o=s||i instanceof ot,l=ne.set({},o?s:i,this._boundsOptions);(!l.stroke||this.getStrokeScaling())&&(l.cacheItem=this);var h=this._getCachedBounds(o&&i,l).rect;return arguments.length?h:new Vt(h.x,h.y,h.width,h.height,this,"setBounds")},setBounds:function(){var i=Ke.read(arguments),s=this.getBounds(),o=this._matrix,l=new ot,h=i.getCenter();l.translate(h),(i.width!=s.width||i.height!=s.height)&&(o.isInvertible()||(o.set(o._backup||(new ot).translate(o.getTranslation())),s=this.getBounds()),l.scale(0!==s.width?i.width/s.width:0,0!==s.height?i.height/s.height:0)),h=s.getCenter(),l.translate(-h.x,-h.y),this.transform(l)},_getBounds:function(i,s){var o=this._children;return o&&o.length?(Ze._updateBoundsCache(this,s.cacheItem),Ze._getBounds(o,i,s)):new Ke},_getBoundsCacheKey:function(i,s){return[i.stroke?1:0,i.handle?1:0,s?1:0].join("")},_getCachedBounds:function(i,s,o){i=i&&i._orNullIfIdentity();var l=s.internal&&!o,h=s.cacheItem,d=l?null:this._matrix._orNullIfIdentity(),p=h&&(!i||i.equals(d))&&this._getBoundsCacheKey(s,l),g=this._bounds;if(Ze._updateBoundsCache(this._parent||this._symbol,h),p&&g&&p in g)return{rect:(m=g[p]).rect.clone(),nonscaling:m.nonscaling};var v=this._getBounds(i||d,s),b=v.rect||v,w=this._style,C=v.nonscaling||w.hasStroke()&&!w.getStrokeScaling();if(p){g||(this._bounds=g={});var m=g[p]={rect:b.clone(),nonscaling:C,internal:l}}return{rect:b,nonscaling:C}},_getStrokeMatrix:function(i,s){var o=this.getStrokeScaling()?null:s&&s.internal?this:this._parent||this._symbol&&this._symbol._item,l=o?o.getViewMatrix().invert():i;return l&&l._shiftless()},statics:{_updateBoundsCache:function(i,s){if(i&&s){var o=s._id,l=i._boundsCache=i._boundsCache||{ids:{},list:[]};l.ids[o]||(l.list.push(s),l.ids[o]=s)}},_clearBoundsCache:function(i){var s=i._boundsCache;if(s){i._bounds=i._position=i._boundsCache=De;for(var o=0,l=s.list,h=l.length;o<h;o++){var d=l[o];d!==i&&(d._bounds=d._position=De,d._boundsCache&&Ze._clearBoundsCache(d))}}},_getBounds:function(i,s,o){var l=1/0,h=-l,d=l,p=h,g=!1;o=o||{};for(var m=0,v=i.length;m<v;m++){var b=i[m];if(b._visible&&!b.isEmpty(!0)){var w=b._getCachedBounds(s&&s.appended(b._matrix),o,!0),C=w.rect;l=Math.min(C.x,l),d=Math.min(C.y,d),h=Math.max(C.x+C.width,h),p=Math.max(C.y+C.height,p),w.nonscaling&&(g=!0)}}return{rect:isFinite(l)?new Ke(l,d,h-l,p-d):new Ke,nonscaling:g}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var i=this._decompose();return i?i.rotation:0},setRotation:function(i){var s=this.getRotation();if(null!=s&&null!=i){var o=this._decomposed;this.rotate(i-s),o&&(o.rotation=i,this._decomposed=o)}},getScaling:function(){var i=this._decompose(),s=i&&i.scaling;return new je(s?s.x:1,s?s.y:1,this,"setScaling")},setScaling:function(){var i=this.getScaling(),s=ie.read(arguments,0,{clone:!0,readNull:!0});if(i&&s&&!i.equals(s)){var o=this.getRotation(),l=this._decomposed,h=new ot,d=ut.isZero;if(d(i.x)||d(i.y))h.translate(l.translation),o&&h.rotate(o),h.scale(s.x,s.y),this._matrix.set(h);else{var p=this.getPosition(!0);h.translate(p),o&&h.rotate(o),h.scale(s.x/i.x,s.y/i.y),o&&h.rotate(-o),h.translate(p.negate()),this.transform(h)}l&&(l.scaling=s,this._decomposed=l)}},getMatrix:function(){return this._matrix},setMatrix:function(){var i=this._matrix;i.set.apply(i,arguments)},getGlobalMatrix:function(i){var s=this._globalMatrix;if(s)for(var o=this._parent,l=[];o;){if(!o._globalMatrix){s=null;for(var h=0,d=l.length;h<d;h++)l[h]._globalMatrix=null;break}l.push(o),o=o._parent}return s||(s=this._globalMatrix=this._matrix.clone(),(o=this._parent)&&s.prepend(o.getGlobalMatrix(!0))),i?s:s.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(i){(this._applyMatrix=this._canApplyMatrix&&!!i)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(i,s){if(this._project!==i){this._project&&this._installEvents(!1),this._project=i;for(var o=this._children,l=0,h=o&&o.length;l<h;l++)o[l]._setProject(i);s=!0}s&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function i(s){i.base.call(this,s);for(var o=this._children,l=0,h=o&&o.length;l<h;l++)o[l]._installEvents(s)},getLayer:function(){for(var i=this;i=i._parent;)if(i instanceof xn)return i;return null},getParent:function(){return this._parent},setParent:function(i){return i.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(i){this.removeChildren(),this.addChildren(i)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var i=this._getOwner();return i&&i._children[this._index+1]||null},getPreviousSibling:function(){var i=this._getOwner();return i&&i._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(i){return i===this||i&&this._class===i._class&&this._style.equals(i._style)&&this._matrix.equals(i._matrix)&&this._locked===i._locked&&this._visible===i._visible&&this._blendMode===i._blendMode&&this._opacity===i._opacity&&this._clipMask===i._clipMask&&this._guide===i._guide&&this._equals(i)||!1},_equals:function(i){return ne.equals(this._children,i._children)},clone:function(i){var s=new this.constructor(Ze.NO_INSERT),o=this._children,l=ne.pick(i?i.insert:De,i===De||!0===i),h=ne.pick(i?i.deep:De,!0);o&&s.copyAttributes(this),(!o||h)&&s.copyContent(this),o||s.copyAttributes(this),l&&s.insertAbove(this);var d=this._name,p=this._parent;if(d&&p){o=p._children;for(var g=d,m=1;o[d];)d=g+" "+m++;d!==g&&s.setName(d)}return s},copyContent:function(i){for(var s=i._children,o=0,l=s&&s.length;o<l;o++)this.addChild(s[o].clone(!1),!0)},copyAttributes:function(i,s){this.setStyle(i._style);for(var o=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],l=0,h=o.length;l<h;l++){var d=o[l];i.hasOwnProperty(d)&&(this[d]=i[d])}s||this._matrix.set(i._matrix,!0),this.setApplyMatrix(i._applyMatrix),this.setPivot(i._pivot),this.setSelection(i._selection);var p=i._data,g=i._name;this._data=p?ne.clone(p):null,g&&this.setName(g)},rasterize:function(i,s){var o,l,h;ne.isPlainObject(i)?(o=i.resolution,l=i.insert,h=i.raster):(o=i,l=s),h||(h=new Dn(Ze.NO_INSERT));var d=this.getStrokeBounds(),p=(o||this.getView().getResolution())/72,g=d.getTopLeft().floor(),m=d.getBottomRight().ceil(),v=new Ee(m.subtract(g)),b=v.multiply(p);if(h.setSize(b,!0),!b.isZero()){var w=h.getContext(!0),C=(new ot).scale(p).translate(g.negate());w.save(),C.applyToContext(w),this.draw(w,new ne({matrices:[C]})),w.restore()}return h._matrix.set((new ot).translate(g.add(v.divide(2))).scale(1/p)),(l===De||l)&&h.insertAbove(this),h},contains:function(){var i=this._matrix;return i.isInvertible()&&!!this._contains(i._inverseTransform(ie.read(arguments)))},_contains:function(i){var s=this._children;if(s){for(var o=s.length-1;o>=0;o--)if(s[o].contains(i))return!0;return!1}return i.isInside(this.getInternalBounds())},isInside:function(){return Ke.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new gt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(i,s){return i instanceof Ze&&this._asPathItem().getIntersections(i._asPathItem(),null,s,!0).length>0}},new function(){function i(){var l=arguments;return this._hitTest(ie.read(l),Ne.getOptions(l))}function s(){var l=arguments,h=ie.read(l),d=Ne.getOptions(l),p=[];return this._hitTest(h,new ne({all:p},d)),p}function o(l,h,d,p){var g=this._children;if(g)for(var m=g.length-1;m>=0;m--){var v=g[m],b=v!==p&&v._hitTest(l,h,d);if(b&&!h.all)return b}return null}return tt.inject({hitTest:i,hitTestAll:s,_hitTest:o}),{hitTest:i,hitTestAll:s,_hitTestChildren:o}},{_hitTest:function(i,s,o){if(this._locked||!this._visible||this._guide&&!s.guides||this.isEmpty())return null;var l=this._matrix,h=o?o.appended(l):this.getGlobalMatrix().prepend(this.getView()._matrix),d=Math.max(s.tolerance,1e-12),p=s._tolerancePadding=new Ee(gt._getStrokePadding(d,l._shiftless().invert()));if(!(i=l._inverseTransform(i))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(p.multiply(2))._containsPoint(i))return null;var b,w,g=!(s.guides&&!this._guide||s.selected&&!this.isSelected()||s.type&&s.type!==ne.hyphenate(this._class)||s.class&&!(this instanceof s.class)),m=s.match,v=this;function C(S){return S&&m&&!m(S)&&(S=null),S&&s.all&&s.all.push(S),S}function D(S,E){var R=E?b["get"+E]():v.getPosition();if(i.subtract(R).divide(p).length<=1)return new Ne(S,v,{name:E?ne.hyphenate(E):S,point:R})}var k=s.position,P=s.center,A=s.bounds;if(g&&this._parent&&(k||P||A)){if((P||A)&&(b=this.getInternalBounds()),!(w=k&&D("position")||P&&D("center","Center"))&&A)for(var I=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!w;x++)w=D("bounds",I[x]);w=C(w)}return w||(w=this._hitTestChildren(i,s,h)||g&&C(this._hitTestSelf(i,s,h,this.getStrokeScaling()?null:h._shiftless().invert()))||null),w&&w.point&&(w.point=l.transform(w.point)),w},_hitTestSelf:function(i,s){if(s.fill&&this.hasFill()&&this._contains(i))return new Ne("fill",this)},matches:function(i,s){var l=typeof i;if("object"===l){for(var h in i)if(i.hasOwnProperty(h)&&!this.matches(h,i[h]))return!1;return!0}if("function"===l)return i(this);if("match"===i)return s(this);var d=/^(empty|editable)$/.test(i)?this["is"+ne.capitalize(i)]():"type"===i?ne.hyphenate(this._class):this[i];if("class"===i){if("function"==typeof s)return this instanceof s;d=this._class}if("function"==typeof s)return!!s(d);if(s){if(s.test)return s.test(d);if(ne.isPlainObject(s))return function o(p,g){for(var m in p)if(p.hasOwnProperty(m)){var v=p[m],b=g[m];if(ne.isPlainObject(v)&&ne.isPlainObject(b)){if(!o(v,b))return!1}else if(!ne.equals(v,b))return!1}return!0}(s,d)}return ne.equals(d,s)},getItems:function(i){return Ze._getItems(this,i,this._matrix)},getItem:function(i){return Ze._getItems(this,i,this._matrix,null,!0)[0]||null},statics:{_getItems:function i(s,o,l,h,d){if(!h){var p="object"==typeof o&&o,g=p&&p.overlapping,m=p&&p.inside,C=(v=g||m)&&Ke.read([v]);h={items:[],recursive:p&&!1!==p.recursive,inside:!!m,overlapping:!!g,rect:C,path:g&&new gt.Rectangle({rectangle:C,insert:!1})},p&&(o=ne.filter({},o,{recursive:!0,inside:!0,overlapping:!0}))}var b=s._children,w=h.items;l=(C=h.rect)&&(l||new ot);for(var D=0,k=b&&b.length;D<k;D++){var P=b[D],A=l&&l.appended(P._matrix),I=!0;if(C){var v=P.getBounds(A);if(!C.intersects(v))continue;C.contains(v)||h.overlapping&&(v.contains(C)||h.path.intersects(P,A))||(I=!1)}if(I&&P.matches(o)&&(w.push(P),d)||(!1!==h.recursive&&i(P,o,A,h,d),d&&w.length>0))break}return w}}},{importJSON:function(i){var s=ne.importJSON(i,this);return s!==this?this.addChild(s):s},addChild:function(i){return this.insertChild(De,i)},insertChild:function(i,s){var o=s?this.insertChildren(i,[s]):null;return o&&o[0]},addChildren:function(i){return this.insertChildren(this._children.length,i)},insertChildren:function(i,s){var o=this._children;if(o&&s&&s.length>0){for(var l={},h=(s=ne.slice(s)).length-1;h>=0;h--){var p=(d=s[h])&&d._id;!d||l[p]?s.splice(h,1):(d._remove(!1,!0),l[p]=!0)}ne.splice(o,s,i,0);for(var g=this._project,m=g._changes,v=(h=0,s.length);h<v;h++){var d,b=(d=s[h])._name;d._parent=this,d._setProject(g,!0),b&&d.setName(b),m&&d._changed(5)}this._changed(11)}else s=null;return s},_insertItem:"#insertChild",_insertAt:function(i,s){var o=i&&i._getOwner(),l=i!==this&&o?this:null;return l&&(l._remove(!1,!0),o._insertItem(i._index+s,l)),l},insertAbove:function(i){return this._insertAt(i,1)},insertBelow:function(i){return this._insertAt(i,0)},sendToBack:function(){var i=this._getOwner();return i?i._insertItem(0,this):null},bringToFront:function(){var i=this._getOwner();return i?i._insertItem(De,this):null},appendTop:"#addChild",appendBottom:function(i){return this.insertChild(0,i)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(i){return i._insertItem(De,this)},copyTo:function(i){return this.clone(!1).addTo(i)},reduce:function(i){var s=this._children;if(s&&1===s.length){var o=s[0].reduce(i);return this._parent?(o.insertAbove(this),this.remove()):o.remove(),o}return this},_removeNamed:function(){var i=this._getOwner();if(i){var s=i._children,o=i._namedChildren,l=this._name,h=o[l],d=h?h.indexOf(this):-1;-1!==d&&(s[l]==this&&delete s[l],h.splice(d,1),h.length?s[l]=h[0]:delete o[l])}},_remove:function(i,s){var o=this._getOwner(),l=this._project,h=this._index;return this._style&&this._style._dispose(),!!o&&(this._name&&this._removeNamed(),null!=h&&(l._activeLayer===this&&(l._activeLayer=this.getNextSibling()||this.getPreviousSibling()),ne.splice(o._children,null,h,1)),this._installEvents(!1),i&&l._changes&&this._changed(5),s&&o._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(i){var s=i&&i.insertBelow(this);return s&&this.remove(),s},removeChildren:function(i,s){if(!this._children)return null;i=i||0,s=ne.pick(s,this._children.length);for(var o=ne.splice(this._children,null,i,s-i),l=o.length-1;l>=0;l--)o[l]._remove(!0,!1);return o.length>0&&this._changed(11),o},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var i=0,s=this._children.length;i<s;i++)this._children[i]._index=i;this._changed(11)}},isEmpty:function(i){var s=this._children,o=s?s.length:0;if(i){for(var l=0;l<o;l++)if(!s[l].isEmpty(i))return!1;return!0}return!o},isEditable:function(){for(var i=this;i;){if(!i._visible||i._locked)return!1;i=i._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(i){function s(p){var g=[];do{g.unshift(p)}while(p=p._parent);return g}for(var o=s(this),l=s(i),h=0,d=Math.min(o.length,l.length);h<d;h++)if(o[h]!=l[h])return o[h]._index<l[h]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(i){return-1===this._getOrder(i)},isBelow:function(i){return 1===this._getOrder(i)},isParent:function(i){return this._parent===i},isChild:function(i){return i&&i._parent===this},isDescendant:function(i){for(var s=this;s=s._parent;)if(s===i)return!0;return!1},isAncestor:function(i){return!!i&&i.isDescendant(this)},isSibling:function(i){return this._parent===i._parent},isGroupedWith:function(i){for(var s=this._parent;s;){if(s._parent&&/^(Group|Layer|CompoundPath)$/.test(s._class)&&i.isDescendant(s))return!0;s=s._parent}return!1}},ne.each(["rotate","scale","shear","skew"],function(i){var s="rotate"===i;this[i]=function(){var o=arguments,l=(s?ne:ie).read(o),h=ie.read(o,0,{readNull:!0});return this.transform((new ot)[i](l,h||this.getPosition(!0)))}},{translate:function(){var i=new ot;return this.transform(i.translate.apply(i,arguments))},transform:function(i,s,o){var l=this._matrix,h=i&&!i.isIdentity(),d=o&&this._canApplyMatrix||this._applyMatrix&&(h||!l.isIdentity()||s&&this._children);if(!h&&!d)return this;if(h){!i.isInvertible()&&l.isInvertible()&&(l._backup=l.getValues()),l.prepend(i,!0);var p=this._style,g=p.getFillColor(!0),m=p.getStrokeColor(!0);g&&g.transform(i),m&&m.transform(i)}if(d&&(d=this._transformContent(l,s,o))){var v=this._pivot;v&&l._transformPoint(v,v,!0),l.reset(!0),o&&this._canApplyMatrix&&(this._applyMatrix=!0)}var b=this._bounds,w=this._position;(h||d)&&this._changed(25);var C=h&&b&&i.decompose();if(C&&C.skewing.isZero()&&C.rotation%90==0){for(var D in b){var k=b[D];if(k.nonscaling)delete b[D];else if(d||!k.internal){var P=k.rect;i._transformBounds(P,P)}}this._bounds=b;var A=b[this._getBoundsCacheKey(this._boundsOptions||{})];A&&(this._position=this._getPositionFromBounds(A.rect))}else h&&w&&this._pivot&&(this._position=i._transformPoint(w,w));return this},_transformContent:function(i,s,o){var l=this._children;if(l){for(var h=0,d=l.length;h<d;h++)l[h].transform(i,s,o);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ie.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ie.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ie.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ie.read(arguments))},fitBounds:function(i,s){i=Ke.read(arguments);var o=this.getBounds(),l=o.height/o.width,h=i.height/i.width,d=(s?l>h:l<h)?i.width/o.width:i.height/o.height,p=new Ke(new ie,new Ee(o.width*d,o.height*d));p.setCenter(i.getCenter()),this.setBounds(p)}}),{_setStyles:function(i,s,o){var l=this._style,h=this._matrix;if(l.hasFill()&&(i.fillStyle=l.getFillColor().toCanvasStyle(i,h)),l.hasStroke()){i.strokeStyle=l.getStrokeColor().toCanvasStyle(i,h),i.lineWidth=l.getStrokeWidth();var d=l.getStrokeJoin(),p=l.getStrokeCap(),g=l.getMiterLimit();if(d&&(i.lineJoin=d),p&&(i.lineCap=p),g&&(i.miterLimit=g),u.support.nativeDash){var m=l.getDashArray(),v=l.getDashOffset();m&&m.length&&("setLineDash"in i?(i.setLineDash(m),i.lineDashOffset=v):(i.mozDash=m,i.mozDashOffset=v))}}if(l.hasShadow()){var b=s.pixelRatio||1,w=o._shiftless().prepend((new ot).scale(b,b)),C=w.transform(new ie(l.getShadowBlur(),0)),D=w.transform(this.getShadowOffset());i.shadowColor=l.getShadowColor().toCanvasStyle(i),i.shadowBlur=C.getLength(),i.shadowOffsetX=D.x,i.shadowOffsetY=D.y}},draw:function(i,s,o){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var h=s.matrices,d=s.viewMatrix,p=this._matrix,g=h[h.length-1].appended(p);if(g.isInvertible()){d=d?d.appended(g):g,h.push(g),s.updateMatrix&&(this._globalMatrix=g);var k,P,A,m=this._blendMode,v=ut.clamp(this._opacity,0,1),b="normal"===m,w=rn.nativeModes[m],C=b&&1===v||s.dontStart||s.clip||(w||b&&v<1)&&this._canComposite(),D=s.pixelRatio||1;if(!C){var I=this.getStrokeBounds(d);if(!I.width||!I.height)return void h.pop();A=s.offset,P=s.offset=I.getTopLeft().floor(),k=i,i=At.getContext(I.getSize().ceil().add(1).multiply(D)),1!==D&&i.scale(D,D)}i.save();var x=o?o.appended(p):this._canScaleStroke&&!this.getStrokeScaling(!0)&&d,S=!C&&s.clipItem,E=!x||S;if(C?(i.globalAlpha=v,w&&(i.globalCompositeOperation=m)):E&&i.translate(-P.x,-P.y),E&&(C?p:d).applyToContext(i),S&&s.clipItem.draw(i,s.extend({clip:!0})),x){i.setTransform(D,0,0,D,0,0);var R=s.offset;R&&i.translate(-R.x,-R.y)}this._draw(i,s,d,x),i.restore(),h.pop(),s.clip&&!s.dontFinish&&i.clip(this.getFillRule()),C||(rn.process(m,i,k,v,P.subtract(A).multiply(D)),At.release(i),s.offset=A)}}},_isUpdated:function(i){var s=this._parent;if(s instanceof Qn)return s._isUpdated(i);var o=this._updateVersion===i;return!o&&s&&s._visible&&s._isUpdated(i)&&(this._updateVersion=i,o=!0),o},_drawSelection:function(i,s,o,l,h){var d=this._selection,p=1&d,g=2&d||p&&this._selectBounds,m=4&d;if(this._drawSelected||(p=!1),(p||g||m)&&this._isUpdated(h)){var v,b=this.getSelectedColor(!0)||(v=this.getLayer())&&v.getSelectedColor(!0),w=s.appended(this.getGlobalMatrix(!0)),C=o/2;if(i.strokeStyle=i.fillStyle=b?b.toCanvasStyle(i):"#009dec",p&&this._drawSelected(i,w,l),m){var D=this.getPosition(!0),k=this._parent,P=k?k.localToGlobal(D):D,A=P.x,I=P.y;i.beginPath(),i.arc(A,I,C,0,2*Math.PI,!0),i.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],S=C,E=o+1,R=0;R<4;R++){var N=x[R],O=N[0],F=N[1];i.moveTo(A+O*S,I+F*S),i.lineTo(A+O*E,I+F*E),i.stroke()}}if(g){var B=w._transformCorners(this.getInternalBounds());for(i.beginPath(),R=0;R<8;R++)i[R?"lineTo":"moveTo"](B[R],B[++R]);for(i.closePath(),i.stroke(),R=0;R<8;R++)i.fillRect(B[R]-C,B[++R]-C,o,o)}}},_canComposite:function(){return!1}},ne.each(["down","drag","up","move"],function(i){this["removeOn"+ne.capitalize(i)]=function(){var s={};return s[i]=!0,this.removeOn(s)}},{removeOn:function(i){for(var s in i)if(i[s]){var o="mouse"+s,l=this._project,h=l._removeSets=l._removeSets||{};h[o]=h[o]||{},h[o][this._id]=this}return this}}),{tween:function(i,s,o){o||(o=s,s=i,i=null,o||(o=s,s=null));var d=null!=o&&("number"==typeof o?o:o.duration),p=new an(this,i,s,d,o&&o.easing,o&&o.start);return d&&this.on("frame",function g(m){p._handleFrame(1e3*m.time),p.running||this.off("frame",g)}),p},tweenTo:function(i,s){return this.tween(null,i,s)},tweenFrom:function(i,s){return this.tween(i,null,s)}}),An=Ze.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||this.addChildren(Array.isArray(s)?s:arguments)},_changed:function i(s){i.base.call(this,s),2050&s&&(this._clipItem=De)},_getClipItem:function(){var i=this._clipItem;if(i===De){i=null;for(var s=this._children,o=0,l=s.length;o<l;o++)if(s[o]._clipMask){i=s[o];break}this._clipItem=i}return i},isClipped:function(){return!!this._getClipItem()},setClipped:function(i){var s=this.getFirstChild();s&&s.setClipMask(i)},_getBounds:function i(s,o){var l=this._getClipItem();return l?l._getCachedBounds(l._matrix.prepended(s),ne.set({},o,{stroke:!1})):i.base.call(this,s,o)},_hitTestChildren:function i(s,o,l){var h=this._getClipItem();return(!h||h.contains(s))&&i.base.call(this,s,o,l,h)},_draw:function(i,s){var o=s.clip,l=!o&&this._getClipItem();s=s.extend({clipItem:l,clip:!1}),o?(i.beginPath(),s.dontStart=s.dontFinish=!0):l&&l.draw(i,s.extend({clip:!0}));for(var h=this._children,d=0,p=h.length;d<p;d++){var g=h[d];g!==l&&g.draw(i,s)}}}),xn=An.extend({_class:"Layer",initialize:function(){An.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function i(){return this._parent?i.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),fn=Ze.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(s,o){this._initialize(s,o)},_equals:function(i){return this._type===i._type&&this._size.equals(i._size)&&ne.equals(this._radius,i._radius)},copyContent:function(i){this.setType(i._type),this.setSize(i._size),this.setRadius(i._radius)},getType:function(){return this._type},setType:function(i){this._type=i},getShape:"#getType",setShape:"#setType",getSize:function(){var i=this._size;return new W(i.width,i.height,this,"setSize")},setSize:function(){var i=Ee.read(arguments);if(this._size){if(!this._size.equals(i)){var s=this._type,o=i.width,l=i.height;"rectangle"===s?this._radius.set(Ee.min(this._radius,i.divide(2).abs())):"circle"===s?(o=l=(o+l)/2,this._radius=o/2):"ellipse"===s&&this._radius._set(o/2,l/2),this._size._set(o,l),this._changed(9)}}else this._size=i.clone()},getRadius:function(){var i=this._radius;return"circle"===this._type?i:new W(i.width,i.height,this,"setRadius")},setRadius:function(i){var s=this._type;if("circle"===s){if(i===this._radius)return;var o=2*i;this._radius=i,this._size._set(o,o)}else if(i=Ee.read(arguments),this._radius){if(this._radius.equals(i))return;this._radius.set(i),"rectangle"===s?(o=Ee.max(this._size,i.multiply(2)),this._size.set(o)):"ellipse"===s&&this._size._set(2*i.width,2*i.height)}else this._radius=i.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(i){var s=new(gt[ne.capitalize(this._type)])({center:new ie,size:this._size,radius:this._radius,insert:!1});return s.copyAttributes(this),u.settings.applyMatrix&&s.setApplyMatrix(!0),(i===De||i)&&s.insertAbove(this),s},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(i,s,o,l){var h=this._style,d=h.hasFill(),p=h.hasStroke(),g=s.dontFinish||s.clip,m=!l;if(d||p||g){var v=this._type,b=this._radius,w="circle"===v;if(s.dontStart||i.beginPath(),m&&w)i.arc(0,0,b,0,2*Math.PI,!0);else{var C=w?b:b.width,D=w?b:b.height,k=this._size,P=k.width,A=k.height;if(m&&"rectangle"===v&&0===C&&0===D)i.rect(-P/2,-A/2,P,A);else{var I=P/2,x=A/2,S=.44771525016920644,E=C*S,R=D*S,N=[-I,-x+D,-I,-x+R,-I+E,-x,-I+C,-x,I-C,-x,I-E,-x,I,-x+R,I,-x+D,I,x-D,I,x-R,I-E,x,I-C,x,-I+C,x,-I+E,x,-I,x-R,-I,x-D];l&&l.transform(N,N,32),i.moveTo(N[0],N[1]),i.bezierCurveTo(N[2],N[3],N[4],N[5],N[6],N[7]),I!==C&&i.lineTo(N[8],N[9]),i.bezierCurveTo(N[10],N[11],N[12],N[13],N[14],N[15]),x!==D&&i.lineTo(N[16],N[17]),i.bezierCurveTo(N[18],N[19],N[20],N[21],N[22],N[23]),I!==C&&i.lineTo(N[24],N[25]),i.bezierCurveTo(N[26],N[27],N[28],N[29],N[30],N[31])}}i.closePath()}!g&&(d||p)&&(this._setStyles(i,s,o),d&&(i.fill(h.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),p&&i.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(i,s){var o=new Ke(this._size).setCenter(0,0),l=this._style,h=s.stroke&&l.hasStroke()&&l.getStrokeWidth();return i&&(o=i._transformBounds(o)),h?o.expand(gt._getStrokePadding(h,this._getStrokeMatrix(i,s))):o}},new function(){function i(o,l,h){var d=o._radius;if(!d.isZero())for(var p=o._size.divide(2),g=1;g<=4;g++){var m=new ie(g>1&&g<4?-1:1,g>2?-1:1),v=m.multiply(p),b=v.subtract(m.multiply(d));if(new Ke(h?v.add(m.multiply(h)):v,b).contains(l))return{point:b,quadrant:g}}}function s(o,l,h,d){var p=o.divide(l);return(!d||p.isInQuadrant(d))&&p.subtract(p.normalize()).multiply(l).divide(h).length<=1}return{_contains:function o(l){if("rectangle"===this._type){var h=i(this,l);return h?l.subtract(h.point).divide(this._radius).getLength()<=1:o.base.call(this,l)}return l.divide(this.size).getLength()<=.5},_hitTestSelf:function o(l,h,d,p){var g=!1,m=this._style,v=h.stroke&&m.hasStroke(),b=h.fill&&m.hasFill();if(v||b){var w=this._type,C=this._radius,D=v?m.getStrokeWidth()/2:0,k=h._tolerancePadding.add(gt._getStrokePadding(D,!m.getStrokeScaling()&&p));if("rectangle"===w){var P=k.multiply(2),A=i(this,l,P);if(A)g=s(l.subtract(A.point),C,k,A.quadrant);else{var I=new Ke(this._size).setCenter(0,0),x=I.expand(P),S=I.expand(P.negate());g=x._containsPoint(l)&&!S._containsPoint(l)}}else g=s(l,C,k)}return g?new Ne(v?"stroke":"fill",this):o.base.apply(this,arguments)}}},{statics:new function(){function i(s,o,l,h,d){var p=ne.create(fn.prototype);return p._type=s,p._size=l,p._radius=h,p._initialize(ne.getNamed(d),o),p}return{Circle:function(){var s=arguments,o=ie.readNamed(s,"center"),l=ne.readNamed(s,"radius");return i("circle",o,new Ee(2*l),l,s)},Rectangle:function(){var s=arguments,o=Ke.readNamed(s,"rectangle"),l=Ee.min(Ee.readNamed(s,"radius"),o.getSize(!0).divide(2));return i("rectangle",o.getCenter(!0),o.getSize(!0),l,s)},Ellipse:function(){var s=arguments,o=fn._readEllipse(s),l=o.radius;return i("ellipse",o.center,l.multiply(2),l,s)},_readEllipse:function(s){var o,l;if(ne.hasNamed(s,"radius"))o=ie.readNamed(s,"center"),l=Ee.readNamed(s,"radius");else{var h=Ke.readNamed(s,"rectangle");o=h.getCenter(!0),l=h.getSize(!0).divide(2)}return{center:o,radius:l}}}}}),Dn=Ze.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(s,o){if(!this._initialize(s,o!==De&&ie.read(arguments))){var l,h=typeof s,d="string"===h?ee.getElementById(s):"object"===h?s:null;if(d&&d!==Ze.NO_INSERT)if(d.getContext||null!=d.naturalHeight)l=d;else if(d){var p=Ee.read(arguments);p.isZero()||(l=At.getCanvas(p))}l?this.setImage(l):this.setSource(s)}this._size||(this._size=new Ee,this._loaded=!1)},_equals:function(i){return this.getSource()===i.getSource()},copyContent:function(i){var s=i._image,o=i._canvas;if(s)this._setImage(s);else if(o){var l=At.getCanvas(i._size);l.getContext("2d").drawImage(o,0,0),this._setImage(l)}this._crossOrigin=i._crossOrigin},getSize:function(){var i=this._size;return new W(i?i.width:0,i?i.height:0,this,"setSize")},setSize:function(i,s){var o=Ee.read(arguments);if(o.equals(this._size))s&&this.clear();else if(o.width>0&&o.height>0){var l=!s&&this.getElement();this._setImage(At.getCanvas(o)),l&&this.getContext(!0).drawImage(l,0,0,o.width,o.height)}else this._canvas&&At.release(this._canvas),this._size=o.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(i){this.setSize(i,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(i){this.setSize(this.getWidth(),i)},getLoaded:function(){return this._loaded},isEmpty:function(){var i=this._size;return!i||0===i.width&&0===i.height},getResolution:function(){var i=this._matrix,s=new ie(0,0).transform(i),o=new ie(1,0).transform(i).subtract(s),l=new ie(0,1).transform(i).subtract(s);return new Ee(72/o.getLength(),72/l.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(i){var s=this;function o(l){var h=s.getView(),d=l&&l.type||"load";h&&s.responds(d)&&(u=h._scope,s.emit(d,new Hi(l)))}this._setImage(i),this._loaded?setTimeout(o,0):i&&yt.add(i,{load:function(l){s._setImage(i),o(l)},error:o})},_setImage:function(i){this._canvas&&At.release(this._canvas),i&&i.getContext?(this._image=null,this._canvas=i,this._loaded=!0):(this._image=i,this._canvas=null,this._loaded=!!(i&&i.src&&i.complete)),this._size=new Ee(i?i.naturalWidth||i.width:0,i?i.naturalHeight||i.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var i=At.getContext(this._size);try{this._image&&i.drawImage(this._image,0,0),this._canvas=i.canvas}catch{At.release(i)}}return this._canvas},setCanvas:"#setImage",getContext:function(i){return this._context||(this._context=this.getCanvas().getContext("2d")),i&&(this._image=null,this._changed(1025)),this._context},setContext:function(i){this._context=i},getSource:function(){var i=this._image;return i&&i.src||this.toDataURL()},setSource:function(i){var s=new xe.Image,o=this._crossOrigin;o&&(s.crossOrigin=o),i&&(s.src=i),this.setImage(s)},getCrossOrigin:function(){var i=this._image;return i&&i.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(i){this._crossOrigin=i;var s=this._image;s&&(s.crossOrigin=i)},getSmoothing:function(){return this._smoothing},setSmoothing:function(i){this._smoothing="string"==typeof i?i:i?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var i=Ke.read(arguments),s=At.getContext(i.getSize());return s.drawImage(this.getCanvas(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),s.canvas},getSubRaster:function(){var i=Ke.read(arguments),s=new Dn(Ze.NO_INSERT);return s._setImage(this.getSubCanvas(i)),s.translate(i.getCenter().subtract(this.getSize().divide(2))),s._matrix.prepend(this._matrix),s.insertAbove(this),s},toDataURL:function(){var i=this._image,s=i&&i.src;if(/^data:/.test(s))return s;var o=this.getCanvas();return o?o.toDataURL.apply(o,arguments):null},drawImage:function(i){var s=ie.read(arguments,1);this.getContext(!0).drawImage(i,s.x,s.y)},getAverageColor:function(i){var s,o;if(i?i instanceof it?(o=i,s=i.getBounds()):"object"==typeof i&&("width"in i?s=new Ke(i):"x"in i&&(s=new Ke(i.x-.5,i.y-.5,1,1))):s=this.getBounds(),!s)return null;var h=Math.min(s.width,32),d=Math.min(s.height,32),p=Dn._sampleContext;p?p.clearRect(0,0,33,33):p=Dn._sampleContext=At.getContext(new Ee(32)),p.save();var g=(new ot).scale(h/s.width,d/s.height).translate(-s.x,-s.y);g.applyToContext(p),o&&o.draw(p,new ne({clip:!0,matrices:[g]})),this._matrix.applyToContext(p);var m=this.getElement(),v=this._size;m&&p.drawImage(m,-v.width/2,-v.height/2),p.restore();for(var b=p.getImageData(.5,.5,Math.ceil(h),Math.ceil(d)).data,w=[0,0,0],C=0,D=0,k=b.length;D<k;D+=4){var P=b[D+3];C+=P,w[0]+=b[D]*(P/=255),w[1]+=b[D+1]*P,w[2]+=b[D+2]*P}for(D=0;D<3;D++)w[D]/=C;return C?Kt.read(w):null},getPixel:function(){var i=ie.read(arguments),s=this.getContext().getImageData(i.x,i.y,1,1).data;return new Kt("rgb",[s[0]/255,s[1]/255,s[2]/255],s[3]/255)},setPixel:function(){var i=arguments,s=ie.read(i),o=Kt.read(i),l=o._convert("rgb"),h=o._alpha,d=this.getContext(!0),p=d.createImageData(1,1),g=p.data;g[0]=255*l[0],g[1]=255*l[1],g[2]=255*l[2],g[3]=null!=h?255*h:255,d.putImageData(p,s.x,s.y)},clear:function(){var i=this._size;this.getContext(!0).clearRect(0,0,i.width+1,i.height+1)},createImageData:function(){var i=Ee.read(arguments);return this.getContext().createImageData(i.width,i.height)},getImageData:function(){var i=Ke.read(arguments);return i.isEmpty()&&(i=new Ke(this._size)),this.getContext().getImageData(i.x,i.y,i.width,i.height)},putImageData:function(i){var s=ie.read(arguments,1);this.getContext(!0).putImageData(i,s.x,s.y)},setImageData:function(i){this.setSize(i),this.getContext(!0).putImageData(i,0,0)},_getBounds:function(i,s){var o=new Ke(this._size).setCenter(0,0);return i?i._transformBounds(o):o},_hitTestSelf:function(i){if(this._contains(i)){var s=this;return new Ne("pixel",s,{offset:i.add(s._size.divide(2)).round(),color:{get:function(){return s.getPixel(this.offset)}}})}},_draw:function(i,s,o){var l=this.getElement();if(l&&l.width>0&&l.height>0){i.globalAlpha=ut.clamp(this._opacity,0,1),this._setStyles(i,s,o);var h=this._smoothing,d="off"===h;bt.setPrefixed(i,d?"imageSmoothingEnabled":"imageSmoothingQuality",!d&&h),i.drawImage(l,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),ni=Ze.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(s,o){this._initialize(s,o!==De&&ie.read(arguments,1))||this.setDefinition(s instanceof tn?s:new tn(s))},_equals:function(i){return this._definition===i._definition},copyContent:function(i){this.setDefinition(i._definition)},getDefinition:function(){return this._definition},setDefinition:function(i){this._definition=i,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(i,s){var o=this._definition._item;return o._getCachedBounds(o._matrix.prepended(i),s)},_hitTestSelf:function(i,s,o){var l=s.extend({all:!1}),h=this._definition._item._hitTest(i,l,o);return h&&(h.item=this),h},_draw:function(i,s){this._definition._item.draw(i,s)}}),tn=ne.extend({_class:"SymbolDefinition",initialize:function(s,o){this._id=ae.get(),this.project=u.project,s&&this.setItem(s,o)},_serialize:function(i,s){return s.add(this,function(){return ne.serialize([this._class,this._item],i,!1,s)})},_changed:function(i){8&i&&Ze._clearBoundsCache(this),1&i&&this.project._changed(i)},getItem:function(){return this._item},setItem:function(i,s){i._symbol&&(i=i.clone()),this._item&&(this._item._symbol=null),this._item=i,i.remove(),i.setSelected(!1),s||i.setPosition(new ie),i._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(i){return new ni(this,i)},clone:function(){return new tn(this._item.clone(!1))},equals:function(i){return i===this||i&&this._item.equals(i._item)||!1}}),Ne=ne.extend({_class:"HitResult",initialize:function(s,o,l){this.type=s,this.item=o,l&&this.inject(l)},statics:{getOptions:function(i){var s=i&&ne.read(i);return new ne({type:null,tolerance:u.settings.hitTolerance,fill:!s,stroke:!s,segments:!s,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},s)}}}),Xe=ne.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(s,o,l,h,d,p){var m,v,b,w,g=arguments.length;g>0&&(null==s||"object"==typeof s?1===g&&s&&"point"in s?(m=s.point,v=s.handleIn,b=s.handleOut,w=s.selection):(m=s,v=o,b=l,w=h):(m=[s,o],v=l!==De?[l,h]:null,b=d!==De?[d,p]:null)),new ke(m,this,"_point"),new ke(v,this,"_handleIn"),new ke(b,this,"_handleOut"),w&&this.setSelection(w)},_serialize:function(i,s){var o=this._point,l=this._selection,h=l||this.hasHandles()?[o,this._handleIn,this._handleOut]:o;return l&&h.push(l),ne.serialize(h,i,!0,s)},_changed:function(i){var s=this._path;if(s){var h,o=s._curves,l=this._index;o&&((!i||i===this._point||i===this._handleIn)&&(h=l>0?o[l-1]:s._closed?o[o.length-1]:null)&&h._changed(),(!i||i===this._point||i===this._handleOut)&&(h=o[l])&&h._changed()),s._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ie.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ie.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ie.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var i=this._handleIn,s=this._handleOut;return!i.isZero()&&!s.isZero()&&i.isCollinear(s)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(i){var s=this._selection,o=this._path;this._selection=i=i||0,o&&i!==s&&(o._updateSelection(this,s,i),o._changed(257))},_changeSelection:function(i,s){var o=this._selection;this.setSelection(s?o|i:o&~i)},isSelected:function(){return!!(7&this._selection)},setSelected:function(i){this._changeSelection(7,i)},getIndex:function(){return this._index!==De?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var i=this._path,s=this._index;return i?(s>0&&!i._closed&&s===i._segments.length-1&&s--,i.getCurves()[s]||null):null},getLocation:function(){var i=this.getCurve();return i?new In(i,this===i._segment1?0:1):null},getNext:function(){var i=this._path&&this._path._segments;return i&&(i[this._index+1]||this._path._closed&&i[0])||null},smooth:function(i,s,o){var l=i||{},h=l.type,d=l.factor,p=this.getPrevious(),g=this.getNext(),m=(p||this)._point,v=this._point,b=(g||this)._point,w=m.getDistance(v),C=v.getDistance(b);if(h&&"catmull-rom"!==h){if("geometric"!==h)throw new Error("Smoothing method '"+h+"' not supported.");if(p&&g){var E=m.subtract(b),R=d===De?.4:d,N=R*w/(w+C);s||this.setHandleIn(E.multiply(N)),o||this.setHandleOut(E.multiply(N-R))}}else{var S,D=d===De?.5:d,k=Math.pow(w,D),P=k*k,A=Math.pow(C,D),I=A*A;if(!s&&p){var x=2*I+3*A*k+P;this.setHandleIn(0!=(S=3*A*(A+k))?new ie((I*m._x+x*v._x-P*b._x)/S-v._x,(I*m._y+x*v._y-P*b._y)/S-v._y):new ie)}if(!o&&g)x=2*P+3*k*A+I,this.setHandleOut(0!=(S=3*k*(k+A))?new ie((P*b._x+x*v._x-I*m._x)/S-v._x,(P*b._y+x*v._y-I*m._y)/S-v._y):new ie)}},getPrevious:function(){var i=this._path&&this._path._segments;return i&&(i[this._index-1]||this._path._closed&&i[i.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var i=this._path;return i&&this._index===i._segments.length-1||!1},reverse:function(){var i=this._handleIn,s=this._handleOut,o=i.clone();i.set(s),s.set(o)},reversed:function(){return new Xe(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Xe(this._point,this._handleIn,this._handleOut)},equals:function(i){return i===this||i&&this._class===i._class&&this._point.equals(i._point)&&this._handleIn.equals(i._handleIn)&&this._handleOut.equals(i._handleOut)||!1},toString:function(){var i=["point: "+this._point];return this._handleIn.isZero()||i.push("handleIn: "+this._handleIn),this._handleOut.isZero()||i.push("handleOut: "+this._handleOut),"{ "+i.join(", ")+" }"},transform:function(i){this._transformCoordinates(i,new Array(6),!0),this._changed()},interpolate:function(i,s,o){var l=1-o,h=o,d=i._point,p=s._point,g=i._handleIn,m=s._handleIn,v=s._handleOut,b=i._handleOut;this._point._set(l*d._x+h*p._x,l*d._y+h*p._y,!0),this._handleIn._set(l*g._x+h*m._x,l*g._y+h*m._y,!0),this._handleOut._set(l*b._x+h*v._x,l*b._y+h*v._y,!0),this._changed()},_transformCoordinates:function(i,s,o){var l=this._point,h=o&&this._handleIn.isZero()?null:this._handleIn,d=o&&this._handleOut.isZero()?null:this._handleOut,p=l._x,g=l._y,m=2;return s[0]=p,s[1]=g,h&&(s[m++]=h._x+p,s[m++]=h._y+g),d&&(s[m++]=d._x+p,s[m++]=d._y+g),i&&(i._transformCoordinates(s,s,m/2),p=s[0],g=s[1],o?(l._x=p,l._y=g,m=2,h&&(h._x=s[m++]-p,h._y=s[m++]-g),d&&(d._x=s[m++]-p,d._y=s[m++]-g)):(h||(s[m++]=p,s[m++]=g),d||(s[m++]=p,s[m++]=g))),s}}),ke=ie.extend({initialize:function(s,o,l){var h,d,p;if(s)if((h=s[0])!==De)d=s[1];else{var g=s;(h=g.x)===De&&(h=(g=ie.read(arguments)).x),d=g.y,p=g.selected}else h=d=0;this._x=h,this._y=d,this._owner=o,o[l]=this,p&&this.setSelected(!0)},_set:function(i,s){return this._x=i,this._y=s,this._owner._changed(this),this},getX:function(){return this._x},setX:function(i){this._x=i,this._owner._changed(this)},getY:function(){return this._y},setY:function(i){this._y=i,this._owner._changed(this)},isZero:function(){var i=ut.isZero;return i(this._x)&&i(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(i){this._owner._changeSelection(this._getSelection(),i)},_getSelection:function(){var i=this._owner;return this===i._point?1:this===i._handleIn?2:this===i._handleOut?4:0}}),Te=ne.extend({_class:"Curve",beans:!0,initialize:function(s,o,l,h,d,p,g,m){var b,w,C,D,k,P,v=arguments.length;3===v?(this._path=s,b=o,w=l):v?1===v?"segment1"in s?(b=new Xe(s.segment1),w=new Xe(s.segment2)):"point1"in s?(C=s.point1,k=s.handle1,P=s.handle2,D=s.point2):Array.isArray(s)&&(C=[s[0],s[1]],D=[s[6],s[7]],k=[s[2]-s[0],s[3]-s[1]],P=[s[4]-s[6],s[5]-s[7]]):2===v?(b=new Xe(s),w=new Xe(o)):4===v?(C=s,k=o,P=l,D=h):8===v&&(C=[s,o],D=[g,m],k=[l-s,h-o],P=[d-g,p-m]):(b=new Xe,w=new Xe),this._segment1=b||new Xe(C,null,k),this._segment2=w||new Xe(D,P,null)},_serialize:function(i,s){return ne.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],i,!0,s)},_changed:function(){this._length=this._bounds=De},clone:function(){return new Te(this._segment1,this._segment2)},toString:function(){var i=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||i.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||i.push("handle2: "+this._segment2._handleIn),i.push("point2: "+this._segment2._point),"{ "+i.join(", ")+" }"},classify:function(){return Te.classify(this.getValues())},remove:function(){var i=!1;if(this._path){var s=this._segment2,o=s._handleOut;(i=s.remove())&&this._segment1._handleOut.set(o)}return i},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ie.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ie.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ie.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ie.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var i=this._path&&this._path._curves;return i&&(i[this._segment1._index+1]||this._path._closed&&i[0])||null},getPrevious:function(){var i=this._path&&this._path._curves;return i&&(i[this._segment1._index-1]||this._path._closed&&i[i.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var i=this._path;return i&&this._segment1._index===i._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(i){this.getPoint1().setSelected(i),this.getHandle1().setSelected(i),this.getHandle2().setSelected(i),this.getPoint2().setSelected(i)},getValues:function(i){return Te.getValues(this._segment1,this._segment2,i)},getPoints:function(){for(var i=this.getValues(),s=[],o=0;o<8;o+=2)s.push(new ie(i[o],i[o+1]));return s}},{getLength:function(){return null==this._length&&(this._length=Te.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Te.getArea(this.getValues())},getLine:function(){return new Xt(this._segment1._point,this._segment2._point)},getPart:function(i,s){return new Te(Te.getPart(this.getValues(),i,s))},getPartLength:function(i,s){return Te.getLength(this.getValues(),i,s)},divideAt:function(i){return this.divideAtTime(i&&i.curve===this?i.time:this.getTimeAt(i))},divideAtTime:function(i,s){var h=null;if(i>=1e-8&&i<=.99999999){var d=Te.subdivide(this.getValues(),i),p=d[0],g=d[1],m=s||this.hasHandles(),v=this._segment1,b=this._segment2,w=this._path;m&&(v._handleOut._set(p[2]-p[0],p[3]-p[1]),b._handleIn._set(g[4]-g[6],g[5]-g[7]));var C=p[6],D=p[7],k=new Xe(new ie(C,D),m&&new ie(p[4]-C,p[5]-D),m&&new ie(g[2]-C,g[3]-D));w?(w.insert(v._index+1,k),h=this.getNext()):(this._segment2=k,this._changed(),h=new Te(k,b))}return h},splitAt:function(i){var s=this._path;return s?s.splitAt(i):null},splitAtTime:function(i){return this.splitAt(this.getLocationAtTime(i))},divide:function(i,s){return this.divideAtTime(i===De?.5:s?i:this.getTimeAt(i))},split:function(i,s){return this.splitAtTime(i===De?.5:s?i:this.getTimeAt(i))},reversed:function(){return new Te(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(i,s,o,l){var h=i._point,d=i._handleOut,p=s._handleIn,g=s._point,m=h.x,v=h.y,b=g.x,w=g.y,C=l?[m,v,m,v,b,w,b,w]:[m,v,m+d._x,v+d._y,b+p._x,w+p._y,b,w];return o&&o._transformCoordinates(C,C,4),C},subdivide:function(i,s){var o=i[0],l=i[1],h=i[2],d=i[3],p=i[4],g=i[5],m=i[6],v=i[7];s===De&&(s=.5);var b=1-s,w=b*o+s*h,C=b*l+s*d,D=b*h+s*p,k=b*d+s*g,P=b*p+s*m,A=b*g+s*v,I=b*w+s*D,x=b*C+s*k,S=b*D+s*P,E=b*k+s*A,R=b*I+s*S,N=b*x+s*E;return[[o,l,w,C,I,x,R,N],[R,N,S,E,P,A,m,v]]},getMonoCurves:function(i,s){var o=[],l=s?0:1,h=i[l+0],d=i[l+2],p=i[l+4],g=i[l+6];if(h>=d==d>=p&&d>=p==p>=g||Te.isStraight(i))o.push(i);else{var D=[],k=ut.solveQuadratic(3*(d-p)-h+g,2*(h+p)-4*d,d-h,D,1e-8,.99999999);if(k){D.sort();var P=D[0],A=Te.subdivide(i,P);o.push(A[0]),k>1&&(A=Te.subdivide(A[1],P=(D[1]-P)/(1-P)),o.push(A[0])),o.push(A[1])}else o.push(i)}return o},solveCubic:function(i,s,o,l,h,d){var p=i[s],g=i[s+2],m=i[s+4],v=i[s+6],b=0;if(!(p<o&&v<o&&g<o&&m<o||p>o&&v>o&&g>o&&m>o)){var w=3*(g-p),C=3*(m-g)-w;b=ut.solveCubic(v-p-w-C,C,w,p-o,l,h,d)}return b},getTimeOf:function(i,s){var o=new ie(i[0],i[1]),l=new ie(i[6],i[7]),d=1e-7;if(null===(s.isClose(o,1e-12)?0:s.isClose(l,1e-12)?1:null))for(var g=[s.x,s.y],m=[],v=0;v<2;v++)for(var b=Te.solveCubic(i,v,g[v],m,0,1),w=0;w<b;w++){var C=m[w];if(s.isClose(Te.getPoint(i,C),d))return C}return s.isClose(o,d)?0:s.isClose(l,d)?1:null},getNearestTime:function(i,s){if(Te.isStraight(i)){var o=i[0],l=i[1],p=i[6]-o,g=i[7]-l,m=p*p+g*g;if(0===m)return 0;var v=((s.x-o)*p+(s.y-l)*g)/m;return v<1e-12?0:v>.999999999999?1:Te.getTimeOf(i,new ie(o+v*p,l+v*g))}var w=1/0,C=0;function D(A){if(A>=0&&A<=1){var I=s.getDistance(Te.getPoint(i,A),!0);if(I<w)return w=I,C=A,!0}}for(var k=0;k<=100;k++)D(k/100);for(var P=.005;P>1e-8;)!D(C-P)&&!D(C+P)&&(P/=2);return C},getPart:function(i,s,o){var l=s>o;if(l){var h=s;s=o,o=h}return s>0&&(i=Te.subdivide(i,s)[1]),o<1&&(i=Te.subdivide(i,(o-s)/(1-s))[0]),l?[i[6],i[7],i[4],i[5],i[2],i[3],i[0],i[1]]:i},isFlatEnough:function(i,s){var o=i[0],l=i[1],m=i[6],v=i[7],b=3*i[2]-2*o-m,w=3*i[3]-2*l-v,C=3*i[4]-2*m-o,D=3*i[5]-2*v-l;return Math.max(b*b,C*C)+Math.max(w*w,D*D)<=16*s*s},getArea:function(i){var s=i[0],o=i[1],l=i[2],h=i[3],d=i[4],p=i[5],g=i[6],m=i[7];return 3*((m-o)*(l+d)-(g-s)*(h+p)+h*(s-d)-l*(o-p)+m*(d+s/3)-g*(p+o/3))/20},getBounds:function(i){for(var s=i.slice(0,2),o=s.slice(),l=[0,0],h=0;h<2;h++)Te._addBounds(i[h],i[h+2],i[h+4],i[h+6],h,0,s,o,l);return new Ke(s[0],s[1],o[0]-s[0],o[1]-s[1])},_addBounds:function(i,s,o,l,h,d,p,g,m){function v(R,N){var O=R-N,F=R+N;O<p[h]&&(p[h]=O),F>g[h]&&(g[h]=F)}var b=p[h]+(d/=2),w=g[h]-d;if(i<b||s<b||o<b||l<b||i>w||s>w||o>w||l>w)if(s<i!=s<l&&o<i!=o<l)v(i,0),v(l,0);else{var P=ut.solveQuadratic(3*(s-o)-i+l,2*(i+o)-4*s,s-i,m);v(l,0);for(var x=0;x<P;x++){var S=m[x],E=1-S;1e-8<=S&&S<=.99999999&&v(E*E*E*i+3*E*E*S*s+3*E*S*S*o+S*S*S*l,d)}}}}},ne.each(["getBounds","getStrokeBounds","getHandleBounds"],function(i){this[i]=function(){this._bounds||(this._bounds={});var s=this._bounds[i];return s||(s=this._bounds[i]=gt[i]([this._segment1,this._segment2],!1,this._path)),s.clone()}},{}),ne.each({isStraight:function(i,s,o,l){if(s.isZero()&&o.isZero())return!0;var h=l.subtract(i);if(h.isZero())return!1;if(h.isCollinear(s)&&h.isCollinear(o)){var d=new Xt(i,l);if(d.getDistance(i.add(s))<1e-7&&d.getDistance(l.add(o))<1e-7){var g=h.dot(h),m=h.dot(s)/g,v=h.dot(o)/g;return m>=0&&m<=1&&v<=0&&v>=-1}}return!1},isLinear:function(i,s,o,l){var h=l.subtract(i).divide(3);return s.equals(h)&&o.negate().equals(h)}},function(i,s){this[s]=function(o){var l=this._segment1,h=this._segment2;return i(l._point,l._handleOut,h._handleIn,h._point,o)},this.statics[s]=function(o,l){var h=o[0],d=o[1],p=o[6],g=o[7];return i(new ie(h,d),new ie(o[2]-h,o[3]-d),new ie(o[4]-p,o[5]-g),new ie(p,g),l)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(i){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(i||0)},isCollinear:function(i){return i&&this.isStraight()&&i.isStraight()&&this.getLine().isCollinear(i.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(i,s){return this.getLocationAtTime(s?i:this.getTimeAt(i))},getLocationAtTime:function(i){return null!=i&&i>=0&&i<=1?new In(this,i):null},getTimeAt:function(i,s){return Te.getTimeAt(this.getValues(),i,s)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var i=ie.read(arguments);return i.isZero()?[]:Te.getTimesWithTangent(this.getValues(),i)},getOffsetAtTime:function(i){return this.getPartLength(0,i)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ie.read(arguments)))},getOffsetOf:function(){var i=this.getLocationOf.apply(this,arguments);return i?i.getOffset():null},getTimeOf:function(){return Te.getTimeOf(this.getValues(),ie.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var i=ie.read(arguments),s=this.getValues(),o=Te.getNearestTime(s,i),l=Te.getPoint(s,o);return new In(this,o,l,null,i.getDistance(l))},getNearestPoint:function(){var i=this.getNearestLocation.apply(this,arguments);return i&&i.getPoint()}},new function(){var i=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return ne.each(i,function(s){this[s+"At"]=function(o,l){var h=this.getValues();return Te[s](h,l?o:Te.getTimeAt(h,o))},this[s+"AtTime"]=function(o){return Te[s](this.getValues(),o)}},{statics:{_evaluateMethods:i}})},new function(){function i(l){var h=l[0],d=l[1],p=l[2],g=l[3],m=l[4],v=l[5],C=9*(p-m)+3*(l[6]-h),D=6*(h+m)-12*p,k=3*(p-h),P=9*(g-v)+3*(l[7]-d),A=6*(d+v)-12*g,I=3*(g-d);return function(x){var S=(C*x+D)*x+k,E=(P*x+A)*x+I;return Math.sqrt(S*S+E*E)}}function s(l,h){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(h-l))))}function o(l,h,d,p){if(null==h||h<0||h>1)return null;var g=l[0],m=l[1],v=l[2],b=l[3],w=l[4],C=l[5],D=l[6],k=l[7],P=ut.isZero;P(v-g)&&P(b-m)&&(v=g,b=m),P(w-D)&&P(C-k)&&(w=D,C=k);var N,O,A=3*(v-g),I=3*(w-v)-A,x=D-g-A-I,S=3*(b-m),E=3*(C-b)-S,R=k-m-S-E;if(0===d)N=0===h?g:1===h?D:((x*h+I)*h+A)*h+g,O=0===h?m:1===h?k:((R*h+E)*h+S)*h+m;else{var F=1e-8,B=1-F;if(h<F?(N=A,O=S):h>B?(N=3*(D-w),O=3*(k-C)):(N=(3*x*h+2*I)*h+A,O=(3*R*h+2*E)*h+S),p){0===N&&0===O&&(h<F||h>B)&&(N=w-v,O=C-b);var z=Math.sqrt(N*N+O*O);z&&(N/=z,O/=z)}if(3===d){w=6*x*h+2*I,C=6*R*h+2*E;var G=Math.pow(N*N+O*O,1.5);N=0!==G?(N*C-O*w)/G:0,O=0}}return 2===d?new ie(O,-N):new ie(N,O)}return{statics:{classify:function(l){var h=l[0],d=l[1],p=l[2],g=l[3],m=l[4],v=l[5],b=l[6],w=l[7],D=p*(d-w)+g*(b-h)+h*w-d*b,P=3*(m*(g-d)+v*(h-p)+p*d-g*h),A=P-D,I=A-D+(h*(w-v)+d*(m-b)+b*v-w*m),x=Math.sqrt(I*I+A*A+P*P),S=0!==x?1/x:0,E=ut.isZero,R="serpentine";function N(z,G,j){var H=G!==De,$=H&&G>0&&G<1,K=H&&j>0&&j<1;return H&&(!($||K)||"loop"===z&&!($&&K))&&(z="arch",$=K=!1),{type:z,roots:$||K?$&&K?G<j?[G,j]:[j,G]:[$?G:j]:null}}if(A*=S,P*=S,E(I*=S))return E(A)?N(E(P)?"line":"quadratic"):N(R,P/(3*A));var O=3*A*A-4*I*P;if(E(O))return N("cusp",A/(2*I));var F=O>0?Math.sqrt(O/3):Math.sqrt(-O),B=2*I;return N(O>0?R:"loop",(A+F)/B,(A-F)/B)},getLength:function(l,h,d,p){if(h===De&&(h=0),d===De&&(d=1),Te.isStraight(l)){var g=l;d<1&&(g=Te.subdivide(g,d)[0],h/=d),h>0&&(g=Te.subdivide(g,h)[1]);var m=g[6]-g[0],v=g[7]-g[1];return Math.sqrt(m*m+v*v)}return ut.integrate(p||i(l),h,d,s(h,d))},getTimeAt:function(l,h,d){if(d===De&&(d=h<0?1:0),0===h)return d;var p=Math.abs,m=h>0,v=m?d:0,b=m?1:d,w=i(l),C=Te.getLength(l,v,b,w),D=p(h)-C;if(p(D)<1e-12)return m?b:v;if(D>1e-12)return null;var P=0;return ut.findRoot(function A(I){return P+=ut.integrate(w,d,I,s(d,I)),d=I,P-h},w,d+h/C,v,b,32,1e-12)},getPoint:function(l,h){return o(l,h,0,!1)},getTangent:function(l,h){return o(l,h,1,!0)},getWeightedTangent:function(l,h){return o(l,h,1,!1)},getNormal:function(l,h){return o(l,h,2,!0)},getWeightedNormal:function(l,h){return o(l,h,2,!1)},getCurvature:function(l,h){return o(l,h,3,!1).x},getPeaks:function(l){var h=l[0],d=l[1],p=l[2],g=l[3],m=l[4],v=l[5],C=3*p-h-3*m+l[6],D=3*h-6*p+3*m,k=-3*h+3*p,P=3*g-d-3*v+l[7],A=3*d-6*g+3*v,I=-3*d+3*g,E=[];return ut.solveCubic(9*(C*C+P*P),9*(C*D+A*P),2*(D*D+A*A)+3*(k*C+I*P),k*D+A*I,E,1e-8,.99999999),E.sort()}}}},new function(){function i(D,k,P,A,I,x,S){var E=!S&&P.getPrevious()===I,R=!S&&P!==I&&P.getNext()===I,N=1e-8,O=1-N;if(null!==A&&A>=(E?N:0)&&A<=(R?O:1)&&null!==x&&x>=(R?N:0)&&x<=(E?O:1)){var F=new In(P,A,null,S),B=new In(I,x,null,S);F._intersection=B,B._intersection=F,(!k||k(F))&&In.insert(D,F,!0)}}function s(D,k,P,A,I,x,S,E,R,N,O,F,B){if(++R>=4096||++E>=40)return R;var Pe,Fe,G=k[0],j=k[1],H=k[6],$=k[7],K=Xt.getSignedDistance,Y=K(G,j,H,$,k[2],k[3]),J=K(G,j,H,$,k[4],k[5]),oe=Y*J>0?3/4:4/9,he=oe*Math.min(0,Y,J),ge=oe*Math.max(0,Y,J),_e=K(G,j,H,$,D[0],D[1]),le=K(G,j,H,$,D[2],D[3]),ce=K(G,j,H,$,D[4],D[5]),ue=K(G,j,H,$,D[6],D[7]),ve=function o(D,k,P,A){var O,I=[0,D],x=[1/3,k],S=[2/3,P],E=[1,A],R=k-(2*D+A)/3,N=P-(D+2*A)/3;if(R*N<0)O=[[I,x,E],[I,S,E]];else{var F=R/N;O=[F>=2?[I,x,E]:F<=.5?[I,S,E]:[I,x,S,E],[I,E]]}return(R||N)<0?O.reverse():O}(_e,le,ce,ue),Ce=ve[0],Me=ve[1];if(0===Y&&0===J&&0===_e&&0===le&&0===ce&&0===ue||null==(Pe=l(Ce,Me,he,ge))||null==(Fe=l(Ce.reverse(),Me.reverse(),he,ge)))return R;var Be=N+(O-N)*Pe,We=N+(O-N)*Fe;if(Math.max(B-F,We-Be)<1e-9){var Pt=(Be+We)/2,nt=(F+B)/2;i(I,x,S?A:P,S?nt:Pt,S?P:A,S?Pt:nt)}else{D=Te.getPart(D,Pe,Fe);var Dt=B-F;if(Fe-Pe>.8)if(We-Be>Dt)R=s(k,(lt=Te.subdivide(D,.5))[0],A,P,I,x,!S,E,R,F,B,Be,Pt=(Be+We)/2),R=s(k,lt[1],A,P,I,x,!S,E,R,F,B,Pt,We);else{var lt;R=s((lt=Te.subdivide(k,.5))[0],D,A,P,I,x,!S,E,R,F,nt=(F+B)/2,Be,We),R=s(lt[1],D,A,P,I,x,!S,E,R,nt,B,Be,We)}else R=0===Dt||Dt>=1e-9?s(k,D,A,P,I,x,!S,E,R,F,B,Be,We):s(D,k,P,A,I,x,S,E,R,Be,We,F,B)}return R}function l(D,k,P,A){return D[0][1]<P?h(D,!0,P):k[0][1]>A?h(k,!1,A):D[0][0]}function h(D,k,P){for(var A=D[0][0],I=D[0][1],x=1,S=D.length;x<S;x++){var E=D[x][0],R=D[x][1];if(k?R>=P:R<=P)return R===P?E:A+(P-I)*(E-A)/(R-I);A=E,I=R}return null}function d(D,k,P,A,I){var x=ut.isZero;if(x(A)&&x(I)){var S=Te.getTimeOf(D,new ie(k,P));return null===S?[]:[S]}for(var E=Math.atan2(-I,A),R=Math.sin(E),N=Math.cos(E),O=[],F=[],B=0;B<8;B+=2){var z=D[B]-k,G=D[B+1]-P;O.push(z*N-G*R,z*R+G*N)}return Te.solveCubic(O,1,0,F,0,1),F}function p(D,k,P,A,I,x,S){for(var E=k[0],R=k[1],F=d(D,E,R,k[6]-E,k[7]-R),B=0,z=F.length;B<z;B++){var G=F[B],j=Te.getPoint(D,G),H=Te.getTimeOf(k,j);null!==H&&i(I,x,S?A:P,S?H:G,S?P:A,S?G:H)}}function g(D,k,P,A,I,x){var S=Xt.intersect(D[0],D[1],D[6],D[7],k[0],k[1],k[6],k[7]);S&&i(I,x,P,Te.getTimeOf(D,S),A,Te.getTimeOf(k,S))}function m(D,k,P,A,I,x){var S=1e-12,E=Math.min,R=Math.max;if(R(D[0],D[2],D[4],D[6])+S>E(k[0],k[2],k[4],k[6])&&E(D[0],D[2],D[4],D[6])-S<R(k[0],k[2],k[4],k[6])&&R(D[1],D[3],D[5],D[7])+S>E(k[1],k[3],k[5],k[7])&&E(D[1],D[3],D[5],D[7])-S<R(k[1],k[3],k[5],k[7])){var N=w(D,k);if(N)for(var O=0;O<2;O++){var F=N[O];i(I,x,P,F[0],A,F[1],!0)}else{var B=Te.isStraight(D),z=Te.isStraight(k),G=B&&z,j=B&&!z,H=I.length;if((G?g:B||z?p:s)(j?k:D,j?D:k,j?A:P,j?P:A,I,x,j,0,0,0,1,0,1),!G||I.length===H)for(O=0;O<4;O++){var $=O>>1,K=1&O,Y=6*$,J=6*K,oe=new ie(D[Y],D[Y+1]),he=new ie(k[J],k[J+1]);oe.isClose(he,S)&&i(I,x,P,$,A,K)}}}return I}function v(D,k,P,A){var I=Te.classify(D);if("loop"===I.type){var x=I.roots;i(P,A,k,x[0],k,x[1])}return P}function w(D,k){function P(ue){var ve=ue[6]-ue[0],Ce=ue[7]-ue[1];return ve*ve+Ce*Ce}var A=Math.abs,I=Xt.getDistance,S=1e-7,E=Te.isStraight(D),R=Te.isStraight(k),N=E&&R,O=P(D)<P(k),F=O?k:D,B=O?D:k,z=F[0],G=F[1],j=F[6]-z,H=F[7]-G;if(I(z,G,j,H,B[0],B[1],!0)<S&&I(z,G,j,H,B[6],B[7],!0)<S)!N&&I(z,G,j,H,F[2],F[3],!0)<S&&I(z,G,j,H,F[4],F[5],!0)<S&&I(z,G,j,H,B[2],B[3],!0)<S&&I(z,G,j,H,B[4],B[5],!0)<S&&(E=R=N=!0);else if(N)return null;if(E^R)return null;for(var $=[D,k],K=[],Y=0;Y<4&&K.length<2;Y++){var J=1&Y,oe=1^J,he=Y>>1,ge=Te.getTimeOf($[J],new ie($[oe][he?6:0],$[oe][he?7:1]));if(null!=ge){var _e=J?[he,ge]:[ge,he];(!K.length||A(_e[0]-K[0][0])>1e-8&&A(_e[1]-K[0][1])>1e-8)&&K.push(_e)}if(Y>2&&!K.length)break}if(2!==K.length)K=null;else if(!N){var le=Te.getPart(D,K[0][0],K[1][0]),ce=Te.getPart(k,K[0][1],K[1][1]);(A(ce[2]-le[2])>S||A(ce[3]-le[3])>S||A(ce[4]-le[4])>S||A(ce[5]-le[5])>S)&&(K=null)}return K}return{getIntersections:function(D){var k=this.getValues(),P=D&&D!==this&&D.getValues();return P?m(k,P,this,D,[]):v(k,this,[])},statics:{getOverlaps:w,getIntersections:function b(D,k,P,A,I,x){var E=!k;E&&(k=D);for(var R=D.length,N=k.length,O=new Array(R),F=E?O:new Array(N),B=[],z=0;z<R;z++)O[z]=D[z].getValues(A);if(!E)for(z=0;z<N;z++)F[z]=k[z].getValues(I);for(var G=sn.findCurveBoundsCollisions(O,F,1e-7),j=0;j<R;j++){var H=D[j],$=O[j];E&&v($,H,B,P);var K=G[j];if(K)for(var Y=0;Y<K.length;Y++){if(x&&B.length)return B;var J=K[Y];(!E||J>j)&&m($,F[J],H,k[J],B,P)}}return B},getCurveLineIntersections:d,getTimesWithTangent:function C(D,k){var P=D[0],A=D[1],I=D[2],x=D[3],S=D[4],E=D[5],R=D[6],N=D[7],O=k.normalize(),F=O.x,B=O.y,z=3*R-9*S+9*I-3*P,G=3*N-9*E+9*x-3*A,j=6*S-12*I+6*P,H=6*E-12*x+6*A,$=3*I-3*P,K=3*x-3*A,Y=2*z*B-2*G*F,J=[];if(Math.abs(Y)<ut.CURVETIME_EPSILON){if(0!=(Y=z*H-G*j)){var he=-(z*K-G*$)/Y;he>=0&&he<=1&&J.push(he)}}else{var ge=(j*j-4*z*$)*B*B+(-2*j*H+4*G*$+4*z*K)*F*B+(H*H-4*G*K)*F*F,_e=j*B-H*F;if(ge>=0&&0!=Y){var le=Math.sqrt(ge),ce=-(_e+le)/Y,ue=(-_e+le)/Y;ce>=0&&ce<=1&&J.push(ce),ue>=0&&ue<=1&&J.push(ue)}}return J}}}}),In=ne.extend({_class:"CurveLocation",initialize:function(s,o,l,h,d){if(o>=.99999999){var p=s.getNext();p&&(o=0,s=p)}this._setCurve(s),this._time=o,this._point=l||s.getPointAtTime(o),this._overlap=h,this._distance=d,this._intersection=this._next=this._previous=null},_setPath:function(i){this._path=i,this._version=i?i._version:0},_setCurve:function(i){this._setPath(i._path),this._curve=i,this._segment=null,this._segment1=i._segment1,this._segment2=i._segment2},_setSegment:function(i){var s=i.getCurve();s?this._setCurve(s):(this._setPath(i._path),this._segment1=i,this._segment2=null),this._segment=i,this._time=i===this._segment1?0:1,this._point=i._point.clone()},getSegment:function(){var i=this._segment;if(!i){var s=this.getCurve(),o=this.getTime();0===o?i=s._segment1:1===o?i=s._segment2:null!=o&&(i=s.getPartLength(0,o)<s.getPartLength(o,1)?s._segment1:s._segment2),this._segment=i}return i},getCurve:function(){var i=this._path,s=this;function o(l){var h=l&&l.getCurve();if(h&&null!=(s._time=h.getTimeOf(s._point)))return s._setCurve(h),h}return i&&i._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||o(this._segment)||o(this._segment1)||o(this._segment2.getPrevious())},getPath:function(){var i=this.getCurve();return i&&i._path},getIndex:function(){var i=this.getCurve();return i&&i.getIndex()},getTime:function(){var i=this.getCurve(),s=this._time;return i&&null==s?this._time=i.getTimeOf(this._point):s},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var i=this._offset;if(null==i){i=0;var s=this.getPath(),o=this.getIndex();if(s&&null!=o)for(var l=s.getCurves(),h=0;h<o;h++)i+=l[h].getLength();this._offset=i+=this.getCurveOffset()}return i},getCurveOffset:function(){var i=this._curveOffset;if(null==i){var s=this.getCurve(),o=this.getTime();this._curveOffset=i=null!=o&&s&&s.getPartLength(0,o)}return i},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var i=this.getCurve(),s=i&&i.divideAtTime(this.getTime());return s&&this._setSegment(s._segment1),s},split:function(){var i=this.getCurve(),s=i._path,o=i&&i.splitAtTime(this.getTime());return o&&this._setSegment(s.getLastSegment()),o},equals:function(i,s){var o=this===i;if(!o&&i instanceof In){var l=this.getCurve(),h=i.getCurve(),d=l._path;if(d===h._path){var g=Math.abs,v=g(this.getOffset()-i.getOffset()),b=!s&&this._intersection,w=!s&&i._intersection;o=(v<1e-7||d&&g(d.getLength()-v)<1e-7)&&(!b&&!w||b&&w&&b.equals(w,!0))}}return o},toString:function(){var i=[],s=this.getPoint(),o=ze.instance;s&&i.push("point: "+s);var l=this.getIndex();null!=l&&i.push("index: "+l);var h=this.getTime();return null!=h&&i.push("time: "+o.number(h)),null!=this._distance&&i.push("distance: "+o.number(this._distance)),"{ "+i.join(", ")+" }"},isTouching:function(){var i=this._intersection;if(i&&this.getTangent().isCollinear(i.getTangent())){var s=this.getCurve(),o=i.getCurve();return!(s.isStraight()&&o.isStraight()&&s.getLine().intersect(o.getLine()))}return!1},isCrossing:function(){var i=this._intersection;if(!i)return!1;var s=this.getTime(),o=i.getTime(),l=1e-8,h=1-l,d=s>=l&&s<=h,p=o>=l&&o<=h;if(d&&p)return!this.isTouching();var g=this.getCurve(),m=g&&s<l?g.getPrevious():g,v=i.getCurve(),b=v&&o<l?v.getPrevious():v;if(s>h&&(g=g.getNext()),o>h&&(v=v.getNext()),!(m&&g&&b&&v))return!1;var w=[];function C(F,B){var z=F.getValues(),G=Te.classify(z).roots||Te.getPeaks(z),j=G.length,H=Te.getLength(z,B&&j?G[j-1]:0,!B&&j?G[0]:1);w.push(j?H:H/32)}function D(F,B,z){return B<z?F>B&&F<z:F>B||F<z}d||(C(m,!0),C(g,!1)),p||(C(b,!0),C(v,!1));var k=this.getPoint(),P=Math.min.apply(Math,w),A=d?g.getTangentAtTime(s):g.getPointAt(P).subtract(k),I=d?A.negate():m.getPointAt(-P).subtract(k),x=p?v.getTangentAtTime(o):v.getPointAt(P).subtract(k),S=p?x.negate():b.getPointAt(-P).subtract(k),E=I.getAngle(),R=A.getAngle(),N=S.getAngle(),O=x.getAngle();return!!(d?D(E,N,O)^D(R,N,O)&&D(E,O,N)^D(R,O,N):D(N,E,R)^D(O,E,R)&&D(N,R,E)^D(O,R,E))},hasOverlap:function(){return!!this._overlap}},ne.each(Te._evaluateMethods,function(i){var s=i+"At";this[i]=function(){var o=this.getCurve(),l=this.getTime();return null!=l&&o&&o[s](l,!0)}},{preserve:!0}),new function(){function i(s,o,l){var h=s.length,d=0,p=h-1;function g(k,P){for(var A=k+P;A>=-1&&A<=h;A+=P){var I=s[(A%h+h)%h];if(!o.getPoint().isClose(I.getPoint(),1e-7))break;if(o.equals(I))return I}return null}for(;d<=p;){var b,m=d+p>>>1,v=s[m];if(l&&(b=o.equals(v)?v:g(m,-1)||g(m,1)))return o._overlap&&(b._overlap=b._intersection._overlap=!0),b;var w=o.getPath(),C=v.getPath();(w!==C?w._id-C._id:o.getIndex()+o.getTime()-(v.getIndex()+v.getTime()))<0?p=m-1:d=m+1}return s.splice(d,0,o),o}return{statics:{insert:i,expand:function(s){for(var o=s.slice(),l=s.length-1;l>=0;l--)i(o,s[l]._intersection,!1);return o}}}}),it=Ze.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(i){var s,o,l;if(ne.isPlainObject(i)?(o=i.segments,s=i.pathData):Array.isArray(i)?o=i:"string"==typeof i&&(s=i),o){var h=o[0];l=h&&Array.isArray(h[0])}else s&&(l=(s.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(s));return new(l?Qn:gt)(i)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(i){this.isClockwise()!=(i=!!i)&&this.reverse()},setPathData:function(i){var o,h,d,s=i&&i.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),l=!1,p=new ie,g=new ie;function m(S,E){var R=+o[S];return l&&(R+=p[E]),R}function v(S){return new ie(m(S,"x"),m(S+1,"y"))}this.clear();for(var b=0,w=s&&s.length;b<w;b++){var C=s[b],D=C[0],k=D.toLowerCase(),P=(o=C.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&o.length;switch(l=D===k,"z"===h&&!/[mz]/.test(k)&&this.moveTo(p),k){case"m":case"l":for(var A="m"===k,I=0;I<P;I+=2)this[A?"moveTo":"lineTo"](p=v(I)),A&&(g=p,A=!1);d=p;break;case"h":case"v":var x="h"===k?"x":"y";for(p=p.clone(),I=0;I<P;I++)p[x]=m(I,x),this.lineTo(p);d=p;break;case"c":for(I=0;I<P;I+=6)this.cubicCurveTo(v(I),d=v(I+2),p=v(I+4));break;case"s":for(I=0;I<P;I+=4)this.cubicCurveTo(/[cs]/.test(h)?p.multiply(2).subtract(d):p,d=v(I),p=v(I+2)),h=k;break;case"q":for(I=0;I<P;I+=4)this.quadraticCurveTo(d=v(I),p=v(I+2));break;case"t":for(I=0;I<P;I+=2)this.quadraticCurveTo(d=/[qt]/.test(h)?p.multiply(2).subtract(d):p,p=v(I)),h=k;break;case"a":for(I=0;I<P;I+=7)this.arcTo(p=v(I+5),new Ee(+o[I],+o[I+1]),+o[I+2],+o[I+4],+o[I+3]);break;case"z":this.closePath(1e-12),p=g}h=k}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(i){var s=i.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(i):{};return s.onPath||!!("evenodd"===this.getFillRule()?1&s.windingL||1&s.windingR:s.winding)},getIntersections:function(i,s,o,l){var h=this===i||!i,d=this._matrix._orNullIfIdentity(),p=h?d:(o||i._matrix)._orNullIfIdentity();return h||this.getBounds(d).intersects(i.getBounds(p),1e-12)?Te.getIntersections(this.getCurves(),!h&&i.getCurves(),s,d,p,l):[]},getCrossings:function(i){return this.getIntersections(i,function(s){return s.isCrossing()})},getNearestLocation:function(){for(var i=ie.read(arguments),s=this.getCurves(),o=1/0,l=null,h=0,d=s.length;h<d;h++){var p=s[h].getNearestLocation(i);p._distance<o&&(o=p._distance,l=p)}return l},getNearestPoint:function(){var i=this.getNearestLocation.apply(this,arguments);return i&&i.getPoint()},interpolate:function(i,s,o){var l=!this._children,h=l?"_segments":"_children",d=i[h],p=s[h],g=this[h];if(!d||!p||d.length!==p.length)throw new Error("Invalid operands in interpolate() call: "+i+", "+s);var m=g.length,v=p.length;if(m<v)for(var b=l?Xe:gt,w=m;w<v;w++)this.add(new b);else m>v&&this[l?"removeSegments":"removeChildren"](v,m);for(w=0;w<v;w++)g[w].interpolate(d[w],p[w],o);l&&(this.setClosed(i._closed),this._changed(9))},compare:function(i){var s=!1;if(i){var o=this._children||[this],l=i._children?i._children.slice():[i],h=o.length,d=l.length,p=[],g=0;s=!0;for(var m=sn.findItemBoundsCollisions(o,l,ut.GEOMETRIC_EPSILON),v=h-1;v>=0&&s;v--){var b=o[v];s=!1;var w=m[v];if(w)for(var C=w.length-1;C>=0&&!s;C--)b.compare(l[w[C]])&&(p[w[C]]||(p[w[C]]=!0,g++),s=!0)}s=s&&g===d}return s}}),gt=it.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(s){this._closed=!1,this._segments=[],this._version=0;var o=arguments,l=Array.isArray(s)?"object"==typeof s[0]?s:o:!s||s.size!==De||s.x===De&&s.point===De?null:o;l&&l.length>0?this.setSegments(l):(this._curves=De,this._segmentSelection=0,!l&&"string"==typeof s&&(this.setPathData(s),s=null)),this._initialize(!l&&s)},_equals:function(i){return this._closed===i._closed&&ne.equals(this._segments,i._segments)},copyContent:function(i){this.setSegments(i._segments),this._closed=i._closed},_changed:function i(s){if(i.base.call(this,s),8&s){if(this._length=this._area=De,32&s)this._version++;else if(this._curves)for(var o=0,l=this._curves.length;o<l;o++)this._curves[o]._changed()}else 64&s&&(this._bounds=De)},getStyle:function(){var i=this._parent;return(i instanceof Qn?i:this)._style},getSegments:function(){return this._segments},setSegments:function(i){var s=this.isFullySelected(),o=i&&i.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=De,o){var l=i[o-1];"boolean"==typeof l&&(this.setClosed(l),o--),this._add(Xe.readList(i,0,{},o))}s&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var i=this._curves,s=this._segments;if(!i){var o=this._countCurves();i=this._curves=new Array(o);for(var l=0;l<o;l++)i[l]=new Te(this,s[l],s[l+1]||s[0])}return i},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var i=this.getCurves();return i[i.length-1]},isClosed:function(){return this._closed},setClosed:function(i){if(this._closed!=(i=!!i)){if(this._closed=i,this._curves){var s=this._curves.length=this._countCurves();i&&(this._curves[s-1]=new Te(this,this._segments[s-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(i,s){var g,m,v,b,w,C,D,k,o=this._segments,l=o.length,h=new ze(s),d=new Array(6),p=!0,P=[];function A(x,S){if(x._transformCoordinates(i,d),g=d[0],m=d[1],p)P.push("M"+h.pair(g,m)),p=!1;else if(C=d[3],(w=d[2])===g&&C===m&&D===v&&k===b){if(!S){var E=g-v,R=m-b;P.push(0===E?"v"+h.number(R):0===R?"h"+h.number(E):"l"+h.pair(E,R))}}else P.push("c"+h.pair(D-v,k-b)+" "+h.pair(w-v,C-b)+" "+h.pair(g-v,m-b));v=g,b=m,D=d[4],k=d[5]}if(!l)return"";for(var I=0;I<l;I++)A(o[I]);return this._closed&&l>0&&(A(o[0],!0),P.push("z")),P.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(i){for(var s=this._segments,o=new Array(6),l=0,h=s.length;l<h;l++)s[l]._transformCoordinates(i,o,!0);return!0},_add:function(i,p){for(var o=this._segments,l=this._curves,h=i.length,d=null==p,g=(p=d?o.length:p,0);g<h;g++){var m=i[g];m._path&&(m=i[g]=m.clone()),m._path=this,m._index=p+g,m._selection&&this._updateSelection(m,0,m._selection)}if(d)ne.push(o,i);else{o.splice.apply(o,[p,0].concat(i)),g=p+h;for(var v=o.length;g<v;g++)o[g]._index=g}if(l){var b=this._countCurves(),w=p>0&&p+h-1===b?p-1:p,C=w,D=Math.min(w+h,b);for(i._curves&&(l.splice.apply(l,[w,0].concat(i._curves)),C+=i._curves.length),g=C;g<D;g++)l.splice(g,0,new Te(this,null,null));this._adjustCurves(w,D)}return this._changed(41),i},_adjustCurves:function(i,s){for(var h,o=this._segments,l=this._curves,d=i;d<s;d++)(h=l[d])._path=this,h._segment1=o[d],h._segment2=o[d+1]||o[0],h._changed();(h=l[this._closed&&!i?o.length-1:i-1])&&(h._segment2=o[i]||o[0],h._changed()),(h=l[s])&&(h._segment1=o[s],h._changed())},_countCurves:function(){var i=this._segments.length;return!this._closed&&i>0?i-1:i},add:function(i){var s=arguments;return s.length>1&&"number"!=typeof i?this._add(Xe.readList(s)):this._add([Xe.read(s)])[0]},insert:function(i,s){var o=arguments;return o.length>2&&"number"!=typeof s?this._add(Xe.readList(o,1),i):this._add([Xe.read(o,1)],i)[0]},addSegment:function(){return this._add([Xe.read(arguments)])[0]},insertSegment:function(i){return this._add([Xe.read(arguments,1)],i)[0]},addSegments:function(i){return this._add(Xe.readList(i))},insertSegments:function(i,s){return this._add(Xe.readList(s),i)},removeSegment:function(i){return this.removeSegments(i,i+1)[0]||null},removeSegments:function(i,s,o){i=i||0,s=ne.pick(s,this._segments.length);var l=this._segments,h=this._curves,d=l.length,p=l.splice(i,s-i),g=p.length;if(!g)return p;for(var m=0;m<g;m++){var v=p[m];v._selection&&this._updateSelection(v,v._selection,0),v._index=v._path=null}m=i;for(var b=l.length;m<b;m++)l[m]._index=m;if(h){var w=i>0&&s===d+(this._closed?1:0)?i-1:i;for(m=(h=h.splice(w,g)).length-1;m>=0;m--)h[m]._path=null;o&&(p._curves=h.slice(1)),this._adjustCurves(w,w)}return this._changed(41),p},clear:"#removeSegments",hasHandles:function(){for(var i=this._segments,s=0,o=i.length;s<o;s++)if(i[s].hasHandles())return!0;return!1},clearHandles:function(){for(var i=this._segments,s=0,o=i.length;s<o;s++)i[s].clearHandles()},getLength:function(){if(null==this._length){for(var i=this.getCurves(),s=0,o=0,l=i.length;o<l;o++)s+=i[o].getLength();this._length=s}return this._length},getArea:function(){var i=this._area;if(null==i){var s=this._segments,o=this._closed;i=0;for(var l=0,h=s.length;l<h;l++){var d=l+1===h;i+=Te.getArea(Te.getValues(s[l],s[d?0:l+1],null,d&&!o))}this._area=i}return i},isFullySelected:function(){var i=this._segments.length;return this.isSelected()&&i>0&&this._segmentSelection===7*i},setFullySelected:function(i){i&&this._selectSegments(!0),this.setSelected(i)},setSelection:function i(s){1&s||this._selectSegments(!1),i.base.call(this,s)},_selectSegments:function(i){var s=this._segments,o=s.length,l=i?7:0;this._segmentSelection=l*o;for(var h=0;h<o;h++)s[h]._selection=l},_updateSelection:function(i,s,o){i._selection=o,(this._segmentSelection+=o-s)>0&&this.setSelected(!0)},divideAt:function(i){var o,s=this.getLocationAt(i);return s&&(o=s.getCurve().divideAt(s.getCurveOffset()))?o._segment1:null},splitAt:function(i){var s=this.getLocationAt(i),o=s&&s.index,l=s&&s.time;l>.99999999&&(o++,l=0);var p=this.getCurves();if(o>=0&&o<p.length){l>=1e-8&&p[o++].divideAtTime(l);var m,g=this.removeSegments(o,this._segments.length,!0);return this._closed?(this.setClosed(!1),m=this):((m=new gt(Ze.NO_INSERT)).insertAbove(this),m.copyAttributes(this)),m._add(g,0),this.addSegment(g[0]),m}return null},split:function(i,s){var o,l=s===De?i:(o=this.getCurves()[i])&&o.getLocationAtTime(s);return null!=l?this.splitAt(l):null},join:function(i,s){var o=s||0;if(i&&i!==this){var l=i._segments,h=this.getLastSegment(),d=i.getLastSegment();if(!d)return this;h&&h._point.isClose(d._point,o)&&i.reverse();var p=i.getFirstSegment();if(h&&h._point.isClose(p._point,o))h.setHandleOut(p._handleOut),this._add(l.slice(1));else{var g=this.getFirstSegment();g&&g._point.isClose(p._point,o)&&i.reverse(),d=i.getLastSegment(),g&&g._point.isClose(d._point,o)?(g.setHandleIn(d._handleIn),this._add(l.slice(0,l.length-1),0)):this._add(l.slice())}i._closed&&this._add([l[0]]),i.remove()}var m=this.getFirstSegment(),v=this.getLastSegment();return m!==v&&m._point.isClose(v._point,o)&&(m.setHandleIn(v._handleIn),v.remove(),this.setClosed(!0)),this},reduce:function(i){for(var s=this.getCurves(),o=i&&i.simplify,l=o?1e-7:0,h=s.length-1;h>=0;h--){var d=s[h];!d.hasHandles()&&(!d.hasLength(l)||o&&d.isCollinear(d.getNext()))&&d.remove()}return this},reverse:function(){this._segments.reverse();for(var i=0,s=this._segments.length;i<s;i++){var o=this._segments[i],l=o._handleIn;o._handleIn=o._handleOut,o._handleOut=l,o._index=i}this._curves=null,this._changed(9)},flatten:function(i){for(var o=new dn(this,i||.25,256,!0).parts,l=o.length,h=[],d=0;d<l;d++)h.push(new Xe(o[d].curve.slice(0,2)));!this._closed&&l>0&&h.push(new Xe(o[l-1].curve.slice(6))),this.setSegments(h)},simplify:function(i){var s=new Zt(this).fit(i||2.5);return s&&this.setSegments(s),!!s},smooth:function(i){var s=this,o=i||{},l=o.type||"asymmetric",h=this._segments,d=h.length,p=this._closed;function g(Ce,Me){var Pe=Ce&&Ce.index;if(null!=Pe){var Fe=Ce.path;if(Fe&&Fe!==s)throw new Error(Ce._class+" "+Pe+" of "+Fe+" is not part of "+s);Me&&Ce instanceof Te&&Pe++}else Pe="number"==typeof Ce?Ce:Me;return Math.min(Pe<0&&p?Pe%d:Pe<0?Pe+d:Pe,d-1)}var m=p&&o.from===De&&o.to===De,v=g(o.from,0),b=g(o.to,d-1);if(v>b)if(p)v-=d;else{var w=v;v=b,b=w}if(/^(?:asymmetric|continuous)$/.test(l)){var C="asymmetric"===l,D=Math.min,k=b-v+1,P=k-1,A=m?D(k,4):1,I=A,x=A,S=[];if(p||(I=D(1,v),x=D(1,d-b-1)),(P+=I+x)<=1)return;for(var E=0,R=v-I;E<=P;E++,R++)S[E]=h[(R<0?R+d:R)%d]._point;var N=S[0]._x+2*S[1]._x,O=S[0]._y+2*S[1]._y,F=2,B=P-1,z=[N],G=[O],j=[F],H=[],$=[];for(E=1;E<P;E++){var K=E<B,oe=K?4:C?3:8,he=K?2:C?0:1,ge=(K||C?1:2)/F;F=j[E]=(K?4:C?2:7)-ge,N=z[E]=oe*S[E]._x+he*S[E+1]._x-ge*N,O=G[E]=oe*S[E]._y+he*S[E+1]._y-ge*O}for(H[B]=z[B]/j[B],$[B]=G[B]/j[B],E=P-2;E>=0;E--)H[E]=(z[E]-H[E+1])/j[E],$[E]=(G[E]-$[E+1])/j[E];H[P]=(3*S[P]._x-H[B])/2,$[P]=(3*S[P]._y-$[B])/2,E=I;var _e=P-x;for(R=v;E<=_e;E++,R++){var le=h[R<0?R+d:R],ce=le._point,ue=H[E]-ce._x,ve=$[E]-ce._y;(m||E<_e)&&le.setHandleOut(ue,ve),(m||E>I)&&le.setHandleIn(-ue,-ve)}}else for(E=v;E<=b;E++)h[E<0?E+d:E].smooth(o,!m&&E===v,!m&&E===b)},toShape:function(i){if(!this._closed)return null;var o,l,h,d,s=this._segments;function p(C,D){var k=s[C],P=k.getNext(),A=s[D],I=A.getNext();return k._handleOut.isZero()&&P._handleIn.isZero()&&A._handleOut.isZero()&&I._handleIn.isZero()&&P._point.subtract(k._point).isCollinear(I._point.subtract(A._point))}function m(C){var D=s[C],k=D.getNext(),P=D._handleOut,A=k._handleIn,I=.5522847498307936;if(P.isOrthogonal(A)){var x=D._point,S=k._point,E=new Xt(x,P,!0).intersect(new Xt(S,A,!0),!0);return E&&ut.isZero(P.getLength()/E.subtract(x).getLength()-I)&&ut.isZero(A.getLength()/E.subtract(S).getLength()-I)}return!1}function v(C,D){return s[C]._point.getDistance(s[D]._point)}if(!this.hasHandles()&&4===s.length&&p(0,2)&&p(1,3)&&function g(C){var D=s[C],k=D.getPrevious(),P=D.getNext();return k._handleOut.isZero()&&D._handleIn.isZero()&&D._handleOut.isZero()&&P._handleIn.isZero()&&D._point.subtract(k._point).isOrthogonal(P._point.subtract(D._point))}(1)?(o=fn.Rectangle,l=new Ee(v(0,3),v(0,1)),d=s[1]._point.add(s[2]._point).divide(2)):8===s.length&&m(0)&&m(2)&&m(4)&&m(6)&&p(1,5)&&p(3,7)?(o=fn.Rectangle,h=(l=new Ee(v(1,6),v(0,3))).subtract(new Ee(v(0,7),v(1,2))).divide(2),d=s[3]._point.add(s[4]._point).divide(2)):4===s.length&&m(0)&&m(1)&&m(2)&&m(3)&&(ut.isZero(v(0,2)-v(1,3))?(o=fn.Circle,h=v(0,2)/2):(o=fn.Ellipse,h=new Ee(v(2,0)/2,v(3,1)/2)),d=s[1]._point),o){var b=this.getPosition(!0),w=new o({center:b,size:l,radius:h,insert:!1});return w.copyAttributes(this,!0),w._matrix.prepend(this._matrix),w.rotate(d.subtract(b).getAngle()+90),(i===De||i)&&w.insertAbove(this),w}return null},toPath:"#clone",compare:function i(s){if(!s||s instanceof Qn)return i.base.call(this,s);var o=this.getCurves(),l=s.getCurves(),h=o.length,d=l.length;if(!h||!d)return h==d;for(var v,w,p=o[0].getValues(),g=[],m=0,b=0,C=0;C<d;C++){var A=l[C].getValues();if(g.push(A),D=Te.getOverlaps(p,A)){v=!C&&D[0][0]>0?d-1:C,w=D[0][1];break}}var I,k=Math.abs;for(A=g[v];p&&A;){var D;if((D=Te.getOverlaps(p,A))&&k(D[0][0]-b)<1e-8){1===(b=D[1][0])&&(p=++m<h?o[m].getValues():null,b=0);var S=D[0][1];if(k(S-w)<1e-8){if(I||(I=[v,S]),1===(w=D[1][1])&&(++v>=d&&(v=0),A=g[v]||l[v].getValues(),w=0),!p)return I[0]===v&&I[1]===w;continue}}break}return!1},_hitTestSelf:function(i,s,o,l){var w,C,D,k,P,A,h=this,d=this.getStyle(),p=this._segments,g=p.length,m=this._closed,v=s._tolerancePadding,b=v,I=s.stroke&&d.hasStroke(),x=s.fill&&d.hasFill(),S=s.curves,E=I?d.getStrokeWidth()/2:x&&s.tolerance>0||S?0:null;function R(H,$){return i.subtract(H).divide($).length<=1}function N(H,$,K){if(!s.selected||$.isSelected()){var Y=H._point;if($!==Y&&($=$.add(Y)),R($,b))return new Ne(K,h,{segment:H,point:$})}}function O(H,$){return($||s.segments)&&N(H,H._point,"segment")||!$&&s.handles&&(N(H,H._handleIn,"handle-in")||N(H,H._handleOut,"handle-out"))}function F(H){k.add(H)}function B(H){var K,$=m||H._index>0&&H._index<g-1;return"round"===($?w:C)?R(H._point,b):(k=new gt({internal:!0,closed:!0}),$?H.isSmooth()||gt._addBevelJoin(H,w,E,D,null,l,F,!0):"square"===C&&gt._addSquareCap(H,C,E,null,l,F,!0),k.isEmpty()?void 0:k.contains(i)||(K=k.getNearestLocation(i))&&R(K.getPoint(),v))}if(null!==E&&(E>0?(w=d.getStrokeJoin(),C=d.getStrokeCap(),D=d.getMiterLimit(),b=b.add(gt._getStrokePadding(E,l))):w=C="round"),!s.ends||s.segments||m){if(s.segments||s.handles)for(var z=0;z<g;z++)if(A=O(p[z]))return A}else if(A=O(p[0],!0)||O(p[g-1],!0))return A;if(null!==E){if(P=this.getNearestLocation(i)){var G=P.getTime();0===G||1===G&&g>1?B(P.getSegment())||(P=null):R(P.getPoint(),b)||(P=null)}if(!P&&"miter"===w&&g>1)for(z=0;z<g;z++){var j=p[z];if(i.getDistance(j._point)<=D*E&&B(j)){P=j.getLocation();break}}}return!P&&x&&this._contains(i)||P&&!I&&!S?new Ne("fill",this):P?new Ne(I?"stroke":"curve",this,{location:P,point:P.getPoint()}):null}},ne.each(Te._evaluateMethods,function(i){this[i+"At"]=function(s){var o=this.getLocationAt(s);return o&&o[i]()}},{beans:!1,getLocationOf:function(){for(var i=ie.read(arguments),s=this.getCurves(),o=0,l=s.length;o<l;o++){var h=s[o].getLocationOf(i);if(h)return h}return null},getOffsetOf:function(){var i=this.getLocationOf.apply(this,arguments);return i?i.getOffset():null},getLocationAt:function(i){if("number"==typeof i){for(var s=this.getCurves(),o=0,l=0,h=s.length;l<h;l++){var d=o,p=s[l];if((o+=p.getLength())>i)return p.getLocationAt(i-d)}if(s.length>0&&i<=this.getLength())return new In(s[s.length-1],1)}else if(i&&i.getPath&&i.getPath()===this)return i;return null},getOffsetsWithTangent:function(){var i=ie.read(arguments);if(i.isZero())return[];for(var s=[],o=0,l=this.getCurves(),h=0,d=l.length;h<d;h++){for(var p=l[h],g=p.getTimesWithTangent(i),m=0,v=g.length;m<v;m++){var b=o+p.getOffsetAtTime(g[m]);s.indexOf(b)<0&&s.push(b)}o+=p.length}return s}}),new function(){function s(o,l,h){var v,b,w,C,D,k,P,A,d=l._segments,p=d.length,g=new Array(6),m=!0;function I(S){if(h)S._transformCoordinates(h,g),v=g[0],b=g[1];else{var E=S._point;v=E._x,b=E._y}var R;m?(o.moveTo(v,b),m=!1):(h?(D=g[2],k=g[3]):(D=v+(R=S._handleIn)._x,k=b+R._y),D===v&&k===b&&P===w&&A===C?o.lineTo(v,b):o.bezierCurveTo(P,A,D,k,v,b)),w=v,C=b,h?(P=g[4],A=g[5]):(P=w+(R=S._handleOut)._x,A=C+R._y)}for(var x=0;x<p;x++)I(d[x]);l._closed&&p>0&&I(d[0])}return{_draw:function(o,l,h,d){var p=l.dontStart,g=l.dontFinish||l.clip,m=this.getStyle(),v=m.hasFill(),b=m.hasStroke(),w=m.getDashArray(),C=!u.support.nativeDash&&b&&w&&w.length;function D(S){return w[(S%C+C)%C]}if(p||o.beginPath(),(v||b&&!C||g)&&(s(o,this,d),this._closed&&o.closePath()),!g&&(v||b)&&(this._setStyles(o,l,h),v&&(o.fill(m.getFillRule()),o.shadowColor="rgba(0,0,0,0)"),b)){if(C){p||o.beginPath();for(var I,k=new dn(this,.25,32,!1,d),P=k.length,A=-m.getDashOffset(),x=0;A>0;)A-=D(x--)+D(x--);for(;A<P;)I=A+D(x++),(A>0||I>0)&&k.drawPart(o,Math.max(A,0),Math.max(I,0)),A=I+D(x++)}o.stroke()}},_drawSelected:function(o,l){o.beginPath(),s(o,this,l),o.stroke(),function i(o,l,h,d){if(!(d<=0))for(var b,w,p=d/2,g=d-2,m=p-1,v=new Array(6),D=0,k=l.length;D<k;D++){var P=l[D],A=P._selection;if(P._transformCoordinates(h,v),b=v[0],w=v[1],2&A&&C(2),4&A&&C(4),o.fillRect(b-p,w-p,d,d),g>0&&!(1&A)){var I=o.fillStyle;o.fillStyle="#ffffff",o.fillRect(b-m,w-m,g,g),o.fillStyle=I}}function C(x){var S=v[x],E=v[x+1];(b!=S||w!=E)&&(o.beginPath(),o.moveTo(b,w),o.lineTo(S,E),o.stroke(),o.beginPath(),o.arc(S,E,p,0,2*Math.PI,!0),o.fill())}}(o,this._segments,l,u.settings.handleSize)}}},new function(){function i(s){var o=s._segments;if(!o.length)throw new Error("Use a moveTo() command first");return o[o.length-1]}return{moveTo:function(){var s=this._segments;1===s.length&&this.removeSegment(0),s.length||this._add([new Xe(ie.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Xe(ie.read(arguments))])},cubicCurveTo:function(){var s=arguments,o=ie.read(s),l=ie.read(s),h=ie.read(s),d=i(this);d.setHandleOut(o.subtract(d._point)),this._add([new Xe(h,l.subtract(h))])},quadraticCurveTo:function(){var s=arguments,o=ie.read(s),l=ie.read(s),h=i(this)._point;this.cubicCurveTo(o.add(h.subtract(o).multiply(1/3)),o.add(l.subtract(o).multiply(1/3)),l)},curveTo:function(){var s=arguments,o=ie.read(s),l=ie.read(s),h=ne.pick(ne.read(s),.5),d=1-h,p=i(this)._point,g=o.subtract(p.multiply(d*d)).subtract(l.multiply(h*h)).divide(2*h*d);if(g.isNaN())throw new Error("Cannot put a curve through points with parameter = "+h);this.quadraticCurveTo(g,l)},arcTo:function(){var b,w,C,D,s=arguments,o=Math.abs,l=Math.sqrt,h=i(this),d=h._point,p=ie.read(s),m=ne.peek(s);if("boolean"==typeof(v=ne.pick(m,!0)))var g=(k=d.add(p).divide(2)).add(k.subtract(d).rotate(v?-90:90));else if(ne.remain(s)<=2)g=p,p=ie.read(s);else if(!d.equals(p)){var P=Ee.read(s),A=ut.isZero;if(A(P.width)||A(P.height))return this.lineTo(p);var I=ne.read(s),v=!!ne.read(s),x=!!ne.read(s),k=d.add(p).divide(2),E=(S=d.subtract(k).rotate(-I)).x,R=S.y,N=o(P.width),O=o(P.height),F=N*N,B=O*O,z=E*E,G=R*R,j=l(z/F+G/B);if(j>1&&(F=(N*=j)*N,B=(O*=j)*O),o(j=(F*B-F*G-B*z)/(F*G+B*z))<1e-12&&(j=0),j<0)throw new Error("Cannot create an arc with the given arguments");b=new ie(N*R/O,-O*E/N).multiply((x===v?-1:1)*l(j)).rotate(I).add(k),w=(C=(D=(new ot).translate(b).rotate(I).scale(N,O))._inverseTransform(d)).getDirectedAngle(D._inverseTransform(p)),!v&&w>0?w-=360:v&&w<0&&(w+=360)}if(g){var H=new Xt(d.add(g).divide(2),g.subtract(d).rotate(90),!0),$=new Xt(g.add(p).divide(2),p.subtract(g).rotate(90),!0),K=new Xt(d,p),Y=K.getSide(g);if(!(b=H.intersect($,!0))){if(!Y)return this.lineTo(p);throw new Error("Cannot create an arc with the given arguments")}w=(C=d.subtract(b)).getDirectedAngle(p.subtract(b));var J=K.getSide(b,!0);0===J?w=Y*o(w):Y===J&&(w+=w<0?360:-360)}if(w){for(var he=o(w),ge=he>=360?4:Math.ceil((he-1e-5)/90),_e=w/ge,le=_e*Math.PI/360,ce=4/3*Math.sin(le)/(1+Math.cos(le)),ue=[],ve=0;ve<=ge;ve++){var S=p,Ce=null;if(ve<ge&&(Ce=C.rotate(90).multiply(ce),D?(S=D._transformPoint(C),Ce=D._transformPoint(C.add(Ce)).subtract(S)):S=b.add(C)),ve){var Me=C.rotate(-90).multiply(ce);D&&(Me=D._transformPoint(C.add(Me)).subtract(S)),ue.push(new Xe(S,Me,Ce))}else h.setHandleOut(Ce);C=C.rotate(_e)}this._add(ue)}},lineBy:function(){var s=ie.read(arguments),o=i(this)._point;this.lineTo(o.add(s))},curveBy:function(){var s=arguments,o=ie.read(s),l=ie.read(s),h=ne.read(s),d=i(this)._point;this.curveTo(d.add(o),d.add(l),h)},cubicCurveBy:function(){var s=arguments,o=ie.read(s),l=ie.read(s),h=ie.read(s),d=i(this)._point;this.cubicCurveTo(d.add(o),d.add(l),d.add(h))},quadraticCurveBy:function(){var s=arguments,o=ie.read(s),l=ie.read(s),h=i(this)._point;this.quadraticCurveTo(h.add(o),h.add(l))},arcBy:function(){var s=arguments,o=i(this)._point,l=o.add(ie.read(s)),h=ne.pick(ne.peek(s),!0);this.arcTo(l,"boolean"==typeof h?h:o.add(ie.read(s)))},closePath:function(s){this.setClosed(!0),this.join(this,s)}}},{_getBounds:function(i,s){return gt[s.handle?"getHandleBounds":s.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,i,s)},statics:{getBounds:function(i,s,o,l,h,d){var p=i[0];if(!p)return new Ke;var g=new Array(6),m=p._transformCoordinates(l,new Array(6)),v=m.slice(0,2),b=v.slice(),w=new Array(2);function C(P){P._transformCoordinates(l,g);for(var A=0;A<2;A++)Te._addBounds(m[A],m[A+4],g[A+2],g[A],A,d?d[A]:0,v,b,w);var I=m;m=g,g=I}for(var D=1,k=i.length;D<k;D++)C(i[D]);return s&&C(p),new Ke(v[0],v[1],b[0]-v[0],b[1]-v[1])},getStrokeBounds:function(i,s,o,l,h){var d=o.getStyle(),p=d.hasStroke(),g=d.getStrokeWidth(),m=p&&o._getStrokeMatrix(l,h),v=p&&gt._getStrokePadding(g,m),b=gt.getBounds(i,s,o,l,h,v);if(!p)return b;var w=g/2,C=d.getStrokeJoin(),D=d.getStrokeCap(),k=d.getMiterLimit(),P=new Ke(new Ee(v));function A(N){b=b.include(N)}function I(N){b=b.unite(P.setCenter(N._point.transform(l)))}function x(N,O){"round"===O||N.isSmooth()?I(N):gt._addBevelJoin(N,O,w,k,l,m,A)}function S(N,O){"round"===O?I(N):gt._addSquareCap(N,O,w,l,m,A)}var E=i.length-(s?0:1);if(E>0){for(var R=1;R<E;R++)x(i[R],C);s?x(i[0],C):(S(i[0],D),S(i[i.length-1],D))}return b},_getStrokePadding:function(i,s){if(!s)return[i,i];var o=new ie(i,0).transform(s),l=new ie(0,i).transform(s),h=o.getAngleInRadians(),d=o.getLength(),p=l.getLength(),g=Math.sin(h),m=Math.cos(h),v=Math.tan(h),b=Math.atan2(p*v,d),w=Math.atan2(p,v*d);return[Math.abs(d*Math.cos(b)*m+p*Math.sin(b)*g),Math.abs(p*Math.sin(w)*m+d*Math.cos(w)*g)]},_addBevelJoin:function(i,s,o,l,h,d,p,g){var m=i.getCurve(),v=m.getPrevious(),b=m.getPoint1().transform(h),w=v.getNormalAtTime(1).multiply(o).transform(d),C=m.getNormalAtTime(0).multiply(o).transform(d),D=w.getDirectedAngle(C);if((D<0||D>=180)&&(w=w.negate(),C=C.negate()),g&&p(b),p(b.add(w)),"miter"===s){var k=new Xt(b.add(w),new ie(-w.y,w.x),!0).intersect(new Xt(b.add(C),new ie(-C.y,C.x),!0),!0);k&&b.getDistance(k)<=l*o&&p(k)}p(b.add(C))},_addSquareCap:function(i,s,o,l,h,d,p){var g=i._point.transform(l),m=i.getLocation(),v=m.getNormal().multiply(0===m.getTime()?o:-o).transform(h);"square"===s&&(p&&(d(g.subtract(v)),d(g.add(v))),g=g.add(v.rotate(-90))),d(g.add(v)),d(g.subtract(v))},getHandleBounds:function(i,s,o,l,h){var g,m,d=o.getStyle();if(h.stroke&&d.hasStroke()){var v=o._getStrokeMatrix(l,h),b=d.getStrokeWidth()/2,w=b;"miter"===d.getStrokeJoin()&&(w=b*d.getMiterLimit()),"square"===d.getStrokeCap()&&(w=Math.max(w,b*Math.SQRT2)),g=gt._getStrokePadding(b,v),m=gt._getStrokePadding(w,v)}for(var C=new Array(6),D=1/0,k=-D,P=D,A=k,I=0,x=i.length;I<x;I++){i[I]._transformCoordinates(l,C);for(var E=0;E<6;E+=2){var R=E?g:m,N=R?R[0]:0,O=R?R[1]:0,F=C[E],B=C[E+1],z=F-N,G=F+N,j=B-O,H=B+O;z<D&&(D=z),G>k&&(k=G),j<P&&(P=j),H>A&&(A=H)}}return new Ke(D,P,k-D,A-P)}}});gt.inject({statics:new function(){var i=.5522847498307936,s=[new Xe([-1,0],[0,i],[0,-i]),new Xe([0,-1],[-i,0],[i,0]),new Xe([1,0],[0,-i],[0,i]),new Xe([0,1],[i,0],[-i,0])];function o(h,d,p){var g=ne.getNamed(p),m=new gt(g&&(1==g.insert?Ze.INSERT:0==g.insert?Ze.NO_INSERT:null));return m._add(h),m._closed=d,m.set(g,Ze.INSERT)}function l(h,d,p){for(var g=new Array(4),m=0;m<4;m++){var v=s[m];g[m]=new Xe(v._point.multiply(d).add(h),v._handleIn.multiply(d),v._handleOut.multiply(d))}return o(g,!0,p)}return{Line:function(){var h=arguments;return o([new Xe(ie.readNamed(h,"from")),new Xe(ie.readNamed(h,"to"))],!1,h)},Circle:function(){var h=arguments,d=ie.readNamed(h,"center"),p=ne.readNamed(h,"radius");return l(d,new Ee(p),h)},Rectangle:function(){var w,h=arguments,d=Ke.readNamed(h,"rectangle"),p=Ee.readNamed(h,"radius",0,{readNull:!0}),g=d.getBottomLeft(!0),m=d.getTopLeft(!0),v=d.getTopRight(!0),b=d.getBottomRight(!0);if(!p||p.isZero())w=[new Xe(g),new Xe(m),new Xe(v),new Xe(b)];else{var C=(p=Ee.min(p,d.getSize(!0).divide(2))).width,D=p.height,k=C*i,P=D*i;w=[new Xe(g.add(C,0),null,[-k,0]),new Xe(g.subtract(0,D),[0,P]),new Xe(m.add(0,D),null,[0,-P]),new Xe(m.add(C,0),[-k,0],null),new Xe(v.subtract(C,0),null,[k,0]),new Xe(v.add(0,D),[0,-P],null),new Xe(b.subtract(0,D),null,[0,P]),new Xe(b.subtract(C,0),[k,0])]}return o(w,!0,h)},RoundRectangle:"#Rectangle",Ellipse:function(){var h=arguments,d=fn._readEllipse(h);return l(d.center,d.radius,h)},Oval:"#Ellipse",Arc:function(){var h=arguments,d=ie.readNamed(h,"from"),p=ie.readNamed(h,"through"),g=ie.readNamed(h,"to"),m=ne.getNamed(h),v=new gt(m&&0==m.insert&&Ze.NO_INSERT);return v.moveTo(d),v.arcTo(p,g),v.set(m)},RegularPolygon:function(){for(var h=arguments,d=ie.readNamed(h,"center"),p=ne.readNamed(h,"sides"),g=ne.readNamed(h,"radius"),m=360/p,v=p%3==0,b=new ie(0,v?-g:g),w=v?-1:.5,C=new Array(p),D=0;D<p;D++)C[D]=new Xe(d.add(b.rotate((D+w)*m)));return o(C,!0,h)},Star:function(){for(var h=arguments,d=ie.readNamed(h,"center"),p=2*ne.readNamed(h,"points"),g=ne.readNamed(h,"radius1"),m=ne.readNamed(h,"radius2"),v=360/p,b=new ie(0,-1),w=new Array(p),C=0;C<p;C++)w[C]=new Xe(d.add(b.rotate(v*C).multiply(C%2?m:g)));return o(w,!0,h)}}}});var Qn=it.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||("string"==typeof s?this.setPathData(s):this.addChildren(Array.isArray(s)?s:arguments))},insertChildren:function i(s,o){var l=o,h=l[0];h&&"number"==typeof h[0]&&(l=[l]);for(var d=o.length-1;d>=0;d--){var p=l[d];l===o&&!(p instanceof gt)&&(l=ne.slice(l)),Array.isArray(p)?l[d]=new gt({segments:p,insert:!1}):p instanceof Qn&&(l.splice.apply(l,[d,1].concat(p.removeChildren())),p.remove())}return i.base.call(this,s,l)},reduce:function i(s){for(var o=this._children,l=o.length-1;l>=0;l--)(h=o[l].reduce(s)).isEmpty()&&h.remove();var h;return o.length?i.base.call(this):((h=new gt(Ze.NO_INSERT)).copyAttributes(this),h.insertAbove(this),this.remove(),h)},isClosed:function(){for(var i=this._children,s=0,o=i.length;s<o;s++)if(!i[s]._closed)return!1;return!0},setClosed:function(i){for(var s=this._children,o=0,l=s.length;o<l;o++)s[o].setClosed(i)},getFirstSegment:function(){var i=this.getFirstChild();return i&&i.getFirstSegment()},getLastSegment:function(){var i=this.getLastChild();return i&&i.getLastSegment()},getCurves:function(){for(var i=this._children,s=[],o=0,l=i.length;o<l;o++)ne.push(s,i[o].getCurves());return s},getFirstCurve:function(){var i=this.getFirstChild();return i&&i.getFirstCurve()},getLastCurve:function(){var i=this.getLastChild();return i&&i.getLastCurve()},getArea:function(){for(var i=this._children,s=0,o=0,l=i.length;o<l;o++)s+=i[o].getArea();return s},getLength:function(){for(var i=this._children,s=0,o=0,l=i.length;o<l;o++)s+=i[o].getLength();return s},getPathData:function(i,s){for(var o=this._children,l=[],h=0,d=o.length;h<d;h++){var p=o[h],g=p._matrix;l.push(p.getPathData(i&&!g.isIdentity()?i.appended(g):i,s))}return l.join("")},_hitTestChildren:function i(s,o,l){return i.base.call(this,s,o.class===gt||"path"===o.type?o:ne.set({},o,{fill:!1}),l)},_draw:function(i,s,o,l){var h=this._children;if(h.length){s=s.extend({dontStart:!0,dontFinish:!0}),i.beginPath();for(var d=0,p=h.length;d<p;d++)h[d].draw(i,s,l);if(!s.clip){this._setStyles(i,s,o);var g=this._style;g.hasFill()&&(i.fill(g.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),g.hasStroke()&&i.stroke()}}},_drawSelected:function(i,s,o){for(var l=this._children,h=0,d=l.length;h<d;h++){var p=l[h],g=p._matrix;o[p._id]||p._drawSelected(i,g.isIdentity()?s:s.appended(g))}}},new function(){function i(s,o){var l=s._children;if(o&&!l.length)throw new Error("Use a moveTo() command first");return l[l.length-1]}return ne.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(s){this[s]=function(){var o=i(this,!0);o[s].apply(o,arguments)}},{moveTo:function(){var s=i(this),o=s&&s.isEmpty()?s:new gt(Ze.NO_INSERT);o!==s&&this.addChild(o),o.moveTo.apply(o,arguments)},moveBy:function(){var s=i(this,!0),o=s&&s.getLastSegment(),l=ie.read(arguments);this.moveTo(o?l.add(o._point):l)},closePath:function(s){i(this,!0).closePath(s)}})},ne.each(["reverse","flatten","simplify","smooth"],function(i){this[i]=function(s){for(var l,o=this._children,h=0,d=o.length;h<d;h++)l=o[h][i](s)||l;return l}},{}));it.inject(new function(){var i=Math.min,s=Math.max,o=Math.abs,l={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function h(I){return I._children||[I]}function d(I,x){var S=I.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var E=h(S),R=0,N=E.length;R<N;R++)!(I=E[R])._closed&&!I.isEmpty()&&(I.closePath(1e-12),I.getFirstSegment().setHandleIn(0,0),I.getLastSegment().setHandleOut(0,0));S=S.resolveCrossings().reorient("nonzero"===S.getFillRule(),!0)}return S}function p(I,x,S,E,R){var N=new Qn(Ze.NO_INSERT);return N.addChildren(I,!0),N=N.reduce({simplify:x}),R&&0==R.insert||N.insertAbove(E&&S.isSibling(E)&&S.getIndex()<E.getIndex()?E:S),N.copyAttributes(S,!0),N}function g(I){return I.hasOverlap()||I.isCrossing()}function m(I,x,S,E){if(E&&(0==E.trace||E.stroke)&&/^(subtract|intersect)$/.test(S))return v(I,x,S);var R=d(I,!0),N=x&&I!==x&&d(x,!0),O=l[S];O[S]=!0,N&&(O.subtract||O.exclude)^N.isClockwise()^R.isClockwise()&&N.reverse();var H,F=D(In.expand(R.getIntersections(N,g))),B=h(R),z=N&&h(N),G=[],j=[];function $(Ce){for(var Me=0,Pe=Ce.length;Me<Pe;Me++){var Fe=Ce[Me];ne.push(G,Fe._segments),ne.push(j,Fe.getCurves()),Fe._overlapsOnly=!0}}function K(Ce){for(var Me=[],Pe=0,Fe=Ce&&Ce.length;Pe<Fe;Pe++)Me.push(j[Ce[Pe]]);return Me}if(F.length){$(B),z&&$(z);for(var Y=new Array(j.length),J=0,oe=j.length;J<oe;J++)Y[J]=j[J].getValues();var he=sn.findCurveBoundsCollisions(Y,Y,0,!0),ge={};for(J=0;J<j.length;J++){var _e=j[J],le=_e._path._id;(ge[le]=ge[le]||{})[_e.getIndex()]={hor:K(he[J].hor),ver:K(he[J].ver)}}for(J=0,oe=F.length;J<oe;J++)P(F[J]._segment,R,N,ge,O);for(J=0,oe=G.length;J<oe;J++){var ue=G[J],ve=ue._intersection;ue._winding||P(ue,R,N,ge,O),ve&&ve._overlap||(ue._path._overlapsOnly=!1)}H=A(G,O)}else H=C(z?B.concat(z):B.slice(),function(Ce){return!!O[Ce]});return p(H,!0,I,x,E)}function v(I,x,S){var E=d(I),R=d(x),N=E.getIntersections(R,g),O="subtract"===S,F="divide"===S,B={},z=[];function G($){if(!B[$._id]&&(F||R.contains($.getPointAt($.getLength()/2))^O))return z.unshift($),B[$._id]=!0}for(var j=N.length-1;j>=0;j--){var H=N[j].split();H&&(G(H)&&H.getFirstSegment().setHandleIn(0,0),E.getLastSegment().setHandleOut(0,0))}return G(E),p(z,!1,I,x)}function b(I,x){for(var S=I;S;){if(S===x)return;S=S._previous}for(;I._next&&I._next!==x;)I=I._next;if(!I._next){for(;x._previous;)x=x._previous;I._next=x,x._previous=I}}function w(I){for(var x=I.length-1;x>=0;x--)I[x].clearHandles()}function C(I,x,S){var E=I&&I.length;if(E){var R=ne.each(I,function(he,ge){this[he._id]={container:null,winding:he.isClockwise()?1:-1,index:ge}},{}),N=I.slice().sort(function(he,ge){return o(ge.getArea())-o(he.getArea())}),O=N[0],F=sn.findItemBoundsCollisions(N,null,ut.GEOMETRIC_EPSILON);null==S&&(S=O.isClockwise());for(var B=0;B<E;B++){var z=N[B],G=R[z._id],j=0,H=F[B];if(H)for(var $=null,K=H.length-1;K>=0;K--)if(H[K]<B){$=$||z.getInteriorPoint();var Y=N[H[K]];if(Y.contains($)){var J=R[Y._id];G.winding+=j=J.winding,G.container=J.exclude?J.container:Y;break}}if(x(G.winding)===x(j))G.exclude=!0,I[G.index]=null;else{var oe=G.container;z.setClockwise(oe?!oe.isClockwise():S)}}}return I}function D(I,x,S){var z,G,j,E=x&&[],O=!1,F=S||[],B=S&&{};function H(Me){return Me._path._id+"."+Me._segment1._index}for(var $=(S&&S.length)-1;$>=0;$--)(K=S[$])._path&&(B[H(K)]=!0);for($=I.length-1;$>=0;$--){var K,ge,Y=I[$],J=Y._time,oe=J,he=x&&!x(Y);if((K=Y._curve)&&(K!==G?(O=!K.hasHandles()||B&&B[H(K)],z=[],j=null,G=K):j>=1e-8&&(J/=j)),he)z&&z.push(Y);else{if(x&&E.unshift(Y),j=oe,J<1e-8)ge=K._segment1;else if(J>.99999999)ge=K._segment2;else{var _e=K.divideAtTime(J,!0);O&&F.push(K,_e),ge=_e._segment1;for(var le=z.length-1;le>=0;le--){var ce=z[le];ce._time=(ce._time-J)/(1-J)}}Y._setSegment(ge);var ue=ge._intersection,ve=Y._intersection;if(ue){b(ue,ve);for(var Ce=ue;Ce;)b(Ce._intersection,ue),Ce=Ce._next}else ge._intersection=ve}}return S||w(F),E||I}function k(I,x,S,E,R){var ue,ve,N=Array.isArray(x)?x:x[S?"hor":"ver"],O=S?1:0,F=1^O,B=[I.x,I.y],z=B[O],G=B[F],H=1e-6,$=z-1e-9,K=z+1e-9,Y=0,J=0,oe=0,he=0,ge=!1,_e=!1,le=1,ce=[];function Ce(rt){var Ye=rt[F+0],Rt=rt[F+6];if(!(G<i(Ye,Rt)||G>s(Ye,Rt))){var Oe=rt[O+0],wn=rt[O+2],Pn=rt[O+4],ln=rt[O+6];if(Ye===Rt)return void((Oe<K&&ln>$||ln<K&&Oe>$)&&(ge=!0));var Ue=G===Ye?0:G===Rt||$>s(Oe,wn,Pn,ln)||K<i(Oe,wn,Pn,ln)?1:Te.solveCubic(rt,F,G,ce,0,1)>0?ce[0]:1,Yt=0===Ue?Oe:1===Ue?ln:Te.getPoint(rt,Ue)[S?"y":"x"],Cn=Ye>Rt?1:-1,_=ue[O+6];return G!==Ye?(Yt<$?oe+=Cn:Yt>K?he+=Cn:ge=!0,Yt>z-H&&Yt<z+H&&(le/=2)):(Cn!==(ue[F]>ue[F+6]?1:-1)?Oe<$?oe+=Cn:Oe>K&&(he+=Cn):Oe!=_&&(_<K&&Yt>K?(he+=Cn,ge=!0):_>$&&Yt<$&&(oe+=Cn,ge=!0)),le/=4),ue=rt,!R&&Yt>$&&Yt<K&&0===Te.getTangent(rt,Ue)[S?"x":"y"]&&k(I,x,!S,E,!0)}}function Me(rt){var Ye=rt[F+0],Rt=rt[F+2],Oe=rt[F+4],wn=rt[F+6];if(G<=s(Ye,Rt,Oe,wn)&&G>=i(Ye,Rt,Oe,wn))for(var Gn,Pn=rt[O+0],ln=rt[O+2],Ue=rt[O+4],Yt=rt[O+6],Cn=$>s(Pn,ln,Ue,Yt)||K<i(Pn,ln,Ue,Yt)?[rt]:Te.getMonoCurves(rt,S),_=0,T=Cn.length;_<T;_++)if(Gn=Ce(Cn[_]))return Gn}for(var Pe=0,Fe=N.length;Pe<Fe;Pe++){var nt,Be=N[Pe],We=Be._path,Pt=Be.getValues();if(!(Pe&&N[Pe-1]._path===We||(ue=null,We._closed||(ve=Te.getValues(We.getLastCurve().getSegment2(),Be.getSegment1(),null,!E),ve[F]!==ve[F+6]&&(ue=ve)),ue))){ue=Pt;for(var Dt=We.getLastCurve();Dt&&Dt!==Be;){var lt=Dt.getValues();if(lt[F]!==lt[F+6]){ue=lt;break}Dt=Dt.getPrevious()}}if(nt=Me(Pt))return nt;if(Pe+1===Fe||N[Pe+1]._path!==We){if(ve&&(nt=Me(ve)))return nt;ge&&!oe&&!he&&(oe=he=We.isClockwise(E)^S?1:-1),Y+=oe,J+=he,oe=he=0,ge&&(_e=!0,ge=!1),ve=null}}return Y=o(Y),J=o(J),{winding:s(Y,J),windingL:Y,windingR:J,quality:le,onPath:_e}}function P(I,x,S,E,R){var N=[],O=I,F=0;do{if(B=I.getCurve()){var z=B.getLength();N.push({segment:I,curve:B,length:z}),F+=z}I=I.getNext()}while(I&&!I._intersection&&I!==O);for(var G=[.5,.25,.75],j={winding:0,quality:-1},K=0;K<G.length&&j.quality<.5;K++){z=F*G[K];for(var Y=0,J=N.length;Y<J;Y++){var oe=N[Y],he=oe.length;if(z<=he){var B,ge=(B=oe.curve)._path,_e=ge._parent,le=_e instanceof Qn?_e:ge,ce=ut.clamp(B.getTimeAt(z),.001,.999),ue=B.getPointAtTime(ce),ve=o(B.getTangentAtTime(ce).y)<Math.SQRT1_2,Ce=null;if(R.subtract&&S){var Pe=(le===x?S:x)._getWinding(ue,ve,!0);if(le===x&&Pe.winding||le===S&&!Pe.winding){if(Pe.quality<1)continue;Ce={winding:0,quality:1}}}(Ce=Ce||k(ue,E[ge._id][B.getIndex()],ve,!0)).quality>j.quality&&(j=Ce);break}z-=he}}for(Y=N.length-1;Y>=0;Y--)N[Y].segment._winding=j}function A(I,x){var E,S=[];function R(Fe){var Be;return!(!Fe||Fe._visited||x&&(!x[(Be=Fe._winding||{}).winding]||x.unite&&2===Be.winding&&Be.windingL&&Be.windingR))}function N(Fe){if(Fe)for(var Be=0,We=E.length;Be<We;Be++)if(Fe===E[Be])return!0;return!1}function O(Fe){for(var Be=Fe._segments,We=0,Pt=Be.length;We<Pt;We++)Be[We]._visited=!0}function F(Fe,Be){var We=Fe._intersection,Pt=We,nt=[];function Dt(lt,rt){for(;lt&&lt!==rt;){var Ye=lt._segment,Rt=Ye&&Ye._path;if(Rt){var Oe=Ye.getNext()||Rt.getFirstSegment(),wn=Oe._intersection;Ye!==Fe&&(N(Ye)||N(Oe)||Oe&&R(Ye)&&(R(Oe)||wn&&R(wn._segment)))&&nt.push(Ye),Be&&E.push(Ye)}lt=lt._next}}if(Be&&(E=[Fe]),We){for(Dt(We);We&&We._previous;)We=We._previous;Dt(We,Pt)}return nt}I.sort(function(Fe,Be){var We=Fe._intersection,Pt=Be._intersection,nt=!(!We||!We._overlap),lt=Fe._path,rt=Be._path;return nt^!(!Pt||!Pt._overlap)?nt?1:-1:!We^!Pt?We?1:-1:lt!==rt?lt._id-rt._id:Fe._index-Be._index});for(var B=0,z=I.length;B<z;B++){var J,oe,he,G=I[B],j=R(G),H=null,$=!1,K=!0,Y=[];if(j&&G._path._overlapsOnly){var ge=G._path,_e=G._intersection._segment._path;ge.compare(_e)&&(ge.getArea()&&S.push(ge.clone(!1)),O(ge),O(_e),j=!1)}for(;j;){var le=!H,ce=F(G,le),ue=ce.shift(),ve=!($=!le&&(N(G)||N(ue)))&&ue;if(le&&(H=new gt(Ze.NO_INSERT),J=null),$){(G.isFirst()||G.isLast())&&(K=G._path._closed),G._visited=!0;break}if(ve&&J&&(Y.push(J),J=null),J||(ve&&ce.push(G),J={start:H._segments.length,crossings:ce,visited:oe=[],handleIn:he}),ve&&(G=ue),!R(G)){H.removeSegments(J.start);for(var Ce=0,Me=oe.length;Ce<Me;Ce++)oe[Ce]._visited=!1;oe.length=0;do{(!(G=J&&J.crossings.shift())||!G._path)&&(G=null,(J=Y.pop())&&(oe=J.visited,he=J.handleIn))}while(J&&!R(G));if(!G)break}var Pe=G.getNext();H.add(new Xe(G._point,he,Pe&&G._handleOut)),G._visited=!0,oe.push(G),G=Pe||G._path.getFirstSegment(),he=Pe&&Pe._handleIn}$&&(K&&(H.getFirstSegment().setHandleIn(he),H.setClosed(K)),0!==H.getArea()&&S.push(H))}return S}return{_getWinding:function(I,x,S){return k(I,this.getCurves(),x,S)},unite:function(I,x){return m(this,I,"unite",x)},intersect:function(I,x){return m(this,I,"intersect",x)},subtract:function(I,x){return m(this,I,"subtract",x)},exclude:function(I,x){return m(this,I,"exclude",x)},divide:function(I,x){return x&&(0==x.trace||x.stroke)?v(this,I,"divide"):p([this.subtract(I,x),this.intersect(I,x)],!0,this,I,x)},resolveCrossings:function(){var I=this._children,x=I||[this];function S(J,oe){var he=J&&J._intersection;return he&&he._overlap&&he._path===oe}var E=!1,R=!1,N=this.getIntersections(null,function(J){return J.hasOverlap()&&(E=!0)||J.isCrossing()&&(R=!0)}),O=E&&R&&[];if(N=In.expand(N),E)for(var F=D(N,function(J){return J.hasOverlap()},O),B=F.length-1;B>=0;B--){var z=F[B],G=z._path,j=z._segment,H=j.getPrevious(),$=j.getNext();S(H,G)&&S($,G)&&(j.remove(),H._handleOut._set(0,0),$._handleIn._set(0,0),H!==j&&!H.getCurve().hasLength()&&($._handleIn.set(H._handleIn),H.remove()))}R&&(D(N,E&&function(J){var oe=J.getCurve(),he=J.getSegment(),ge=J._intersection,_e=ge._curve,le=ge._segment;if(oe&&_e&&oe._path&&_e._path)return!0;he&&(he._intersection=null),le&&(le._intersection=null)},O),O&&w(O),x=A(ne.each(x,function(J){ne.push(this,J._segments)},[])));var Y,K=x.length;return K>1&&I?(x!==I&&this.setChildren(x),Y=this):1===K&&!I&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),Y=this),Y||((Y=new Qn(Ze.NO_INSERT)).addChildren(x),(Y=Y.reduce()).copyAttributes(this),this.replaceWith(Y)),Y},reorient:function(I,x){var S=this._children;return S&&S.length?this.setChildren(C(this.removeChildren(),function(E){return!!(I?E:1&E)},x)):x!==De&&this.setClockwise(x),this},getInteriorPoint:function(){var x=this.getBounds().getCenter(!0);if(!this.contains(x)){for(var S=this.getCurves(),E=x.y,R=[],N=[],O=0,F=S.length;O<F;O++){var B=S[O].getValues(),z=B[1],G=B[3],j=B[5],H=B[7];if(E>=i(z,G,j,H)&&E<=s(z,G,j,H))for(var $=Te.getMonoCurves(B),K=0,Y=$.length;K<Y;K++){var J=$[K],oe=J[1],he=J[7];if(oe!==he&&(E>=oe&&E<=he||E>=he&&E<=oe)){var ge=E===oe?J[0]:E===he?J[6]:1===Te.solveCubic(J,1,E,N,0,1)?Te.getPoint(J,N[0]).x:(J[0]+J[6])/2;R.push(ge)}}}R.length>1&&(R.sort(function(_e,le){return _e-le}),x.x=(R[0]+R[1])/2)}return x}}});var dn=ne.extend({_class:"PathFlattener",initialize:function(i,s,o,l,h){var w,d=[],p=[],g=0,m=1/(o||32),v=i._segments,b=v[0];function C(A,I){var x=Te.getValues(A,I,h);d.push(x),D(x,A._index,0,1)}function D(A,I,x,S){if(!(S-x>m)||l&&Te.isStraight(A)||Te.isFlatEnough(A,s||.25)){var N=A[6]-A[0],O=A[7]-A[1],F=Math.sqrt(N*N+O*O);F>0&&p.push({offset:g+=F,curve:A,index:I,time:S})}else{var E=Te.subdivide(A,.5),R=(x+S)/2;D(E[0],I,x,R),D(E[1],I,R,S)}}for(var k=1,P=v.length;k<P;k++)C(b,w=v[k]),b=w;i._closed&&C(w||b,v[0]),this.curves=d,this.parts=p,this.length=g,this.index=0},_get:function(i){for(var h,s=this.parts,o=s.length,d=this.index;h=d,d&&!(s[--d].offset<i););for(;h<o;h++){var p=s[h];if(p.offset>=i){this.index=h;var g=s[h-1],m=g&&g.index===p.index?g.time:0,v=g?g.offset:0;return{index:p.index,time:m+(p.time-m)*(i-v)/(p.offset-v)}}}return{index:s[o-1].index,time:1}},drawPart:function(i,s,o){for(var l=this._get(s),h=this._get(o),d=l.index,p=h.index;d<=p;d++){var g=Te.getPart(this.curves[d],d===l.index?l.time:0,d===h.index?h.time:1);d===l.index&&i.moveTo(g[0],g[1]),i.bezierCurveTo.apply(i,g.slice(2))}}},ne.each(Te._evaluateMethods,function(i){this[i+"At"]=function(s){var o=this._get(s);return Te[i](this.curves[o.index],o.time)}},{})),Zt=ne.extend({initialize:function(i){for(var d,s=this.points=[],o=i._segments,l=i._closed,h=0,p=o.length;h<p;h++){var g=o[h].point;(!d||!d.equals(g))&&s.push(d=g.clone())}l&&(s.unshift(s[s.length-1]),s.push(s[1])),this.closed=l},fit:function(i){var s=this.points,o=s.length,l=null;return o>0&&(l=[new Xe(s[0])],o>1&&(this.fitCubic(l,i,0,o-1,s[1].subtract(s[0]),s[o-2].subtract(s[o-1])),this.closed&&(l.shift(),l.pop()))),l},fitCubic:function(i,s,o,l,h,d){var p=this.points;if(l-o!=1){for(var C,b=this.chordLengthParameterize(o,l),w=Math.max(s,s*s),D=!0,k=0;k<=4;k++){var P=this.generateBezier(o,l,b,h,d),A=this.findMaxError(o,l,P,b);if(A.error<s&&D)return void this.addCurve(i,P);if(C=A.index,A.error>=w)break;D=this.reparameterize(o,l,b,P),w=A.error}var I=p[C-1].subtract(p[C+1]);this.fitCubic(i,s,o,C,h,I),this.fitCubic(i,s,C,l,I.negate(),d)}else{var g=p[o],m=p[l],v=g.getDistance(m)/3;this.addCurve(i,[g,g.add(h.normalize(v)),m.add(d.normalize(v)),m])}},addCurve:function(i,s){i[i.length-1].setHandleOut(s[1].subtract(s[0])),i.push(new Xe(s[3],s[2].subtract(s[3])))},generateBezier:function(i,s,o,l,h){for(var d=1e-12,p=Math.abs,g=this.points,m=g[i],v=g[s],b=[[0,0],[0,0]],w=[0,0],C=0,D=s-i+1;C<D;C++){var k=o[C],P=1-k,A=3*k*P,I=P*P*P,x=A*P,S=A*k,E=k*k*k,R=l.normalize(x),N=h.normalize(S),O=g[i+C].subtract(m.multiply(I+x)).subtract(v.multiply(S+E));b[0][0]+=R.dot(R),b[0][1]+=R.dot(N),b[1][0]=b[0][1],b[1][1]+=N.dot(N),w[0]+=R.dot(O),w[1]+=N.dot(O)}var B,z,F=b[0][0]*b[1][1]-b[1][0]*b[0][1];if(p(F)>d)B=(w[0]*b[1][1]-w[1]*b[0][1])/F,z=(b[0][0]*w[1]-b[1][0]*w[0])/F;else{var H=b[0][0]+b[0][1],$=b[1][0]+b[1][1];B=z=p(H)>d?w[0]/H:p($)>d?w[1]/$:0}var J,oe,K=v.getDistance(m),Y=d*K;if(B<Y||z<Y)B=z=K/3;else{var he=v.subtract(m);J=l.normalize(B),oe=h.normalize(z),J.dot(he)-oe.dot(he)>K*K&&(B=z=K/3,J=oe=null)}return[m,m.add(J||l.normalize(B)),v.add(oe||h.normalize(z)),v]},reparameterize:function(i,s,o,l){for(var h=i;h<=s;h++)o[h-i]=this.findRoot(l,this.points[h],o[h-i]);h=1;for(var d=o.length;h<d;h++)if(o[h]<=o[h-1])return!1;return!0},findRoot:function(i,s,o){for(var l=[],h=[],d=0;d<=2;d++)l[d]=i[d+1].subtract(i[d]).multiply(3);for(d=0;d<=1;d++)h[d]=l[d+1].subtract(l[d]).multiply(2);var p=this.evaluate(3,i,o),g=this.evaluate(2,l,o),m=this.evaluate(1,h,o),v=p.subtract(s),b=g.dot(g)+v.dot(m);return ut.isMachineZero(b)?o:o-v.dot(g)/b},evaluate:function(i,s,o){for(var l=s.slice(),h=1;h<=i;h++)for(var d=0;d<=i-h;d++)l[d]=l[d].multiply(1-o).add(l[d+1].multiply(o));return l[0]},chordLengthParameterize:function(i,s){for(var o=[0],l=i+1;l<=s;l++)o[l-i]=o[l-i-1]+this.points[l].getDistance(this.points[l-1]);l=1;for(var h=s-i;l<=h;l++)o[l]/=o[h];return o},findMaxError:function(i,s,o,l){for(var h=Math.floor((s-i+1)/2),d=0,p=i+1;p<s;p++){var m=this.evaluate(3,o,l[p-i]).subtract(this.points[p]),v=m.x*m.x+m.y*m.y;v>=d&&(d=v,h=p)}return{error:d,index:h}}}),fi=Ze.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(s){this._content="",this._lines=[];var o=s&&ne.isPlainObject(s)&&s.x===De&&s.y===De;this._initialize(o&&s,!o&&ie.read(arguments))},_equals:function(i){return this._content===i._content},copyContent:function(i){this.setContent(i._content)},getContent:function(){return this._content},setContent:function(i){this._content=""+i,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Je=fi.extend({_class:"PointText",initialize:function(){fi.apply(this,arguments)},getPoint:function(){var i=this._matrix.getTranslation();return new je(i.x,i.y,this,"setPoint")},setPoint:function(){var i=ie.read(arguments);this.translate(i.subtract(this._matrix.getTranslation()))},_draw:function(i,s,o){if(this._content){this._setStyles(i,s,o);var l=this._lines,h=this._style,d=h.hasFill(),p=h.hasStroke(),g=h.getLeading(),m=i.shadowColor;i.font=h.getFontStyle(),i.textAlign=h.getJustification();for(var v=0,b=l.length;v<b;v++){i.shadowColor=m;var w=l[v];d&&(i.fillText(w,0,0),i.shadowColor="rgba(0,0,0,0)"),p&&i.strokeText(w,0,0),i.translate(0,g)}}},_getBounds:function(i,s){var o=this._style,l=this._lines,h=l.length,d=o.getJustification(),p=o.getLeading(),g=this.getView().getTextWidth(o.getFontStyle(),l),m=0;"left"!==d&&(m-=g/("center"===d?2:1));var v=new Ke(m,h?-.75*p:0,g,h*p);return i?i._transformBounds(v,v):v}}),Kt=ne.extend(new function(){var l,i={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},s={},o={transparent:[0,0,0,0]},d=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],p={"rgb-hsb":function(g,m,v){var b=Math.max(g,m,v),C=b-Math.min(g,m,v);return[0===C?0:60*(b==g?(m-v)/C+(m<v?6:0):b==m?(v-g)/C+2:(g-m)/C+4),0===b?0:C/b,b]},"hsb-rgb":function(g,m,v){var w,b=(g=(g/60%6+6)%6)-(w=Math.floor(g)),C=[v,v*(1-m),v*(1-m*b),v*(1-m*(1-b))];return[C[(w=d[w])[0]],C[w[1]],C[w[2]]]},"rgb-hsl":function(g,m,v){var b=Math.max(g,m,v),w=Math.min(g,m,v),C=b-w,D=0===C,P=(b+w)/2;return[D?0:60*(b==g?(m-v)/C+(m<v?6:0):b==m?(v-g)/C+2:(g-m)/C+4),D?0:P<.5?C/(b+w):C/(2-b-w),P]},"hsl-rgb":function(g,m,v){if(0===m)return[v,v,v];for(var b=[(g=(g/360%1+1)%1)+1/3,g,g-1/3],w=v<.5?v*(1+m):v+m-v*m,C=2*v-w,D=[],k=0;k<3;k++){var P=b[k];P<0&&(P+=1),P>1&&(P-=1),D[k]=6*P<1?C+6*(w-C)*P:2*P<1?w:3*P<2?C+(w-C)*(2/3-P)*6:C}return D},"rgb-gray":function(g,m,v){return[.2989*g+.587*m+.114*v]},"gray-rgb":function(g){return[g,g,g]},"gray-hsb":function(g){return[0,0,g]},"gray-hsl":function(g){return[0,0,g]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return ne.each(i,function(g,m){s[m]=[],ne.each(g,function(v,b){var w=ne.capitalize(v),C=/^(hue|saturation)$/.test(v),D=s[m][b]="gradient"===m?"gradient"===v?function(k){var P=this._components[0];return P!==(k=ji.read(Array.isArray(k)?k:arguments,0,{readNull:!0}))&&(P&&P._removeOwner(this),k&&k._addOwner(this)),k}:function(){return ie.read(arguments,0,{readNull:"highlight"===v,clone:!0})}:function(k){return null==k||isNaN(k)?0:+k};this["get"+w]=function(){return this._type===m||C&&/^hs[bl]$/.test(this._type)?this._components[b]:this._convert(m)[b]},this["set"+w]=function(k){this._type!==m&&!(C&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(m),this._properties=i[m],this._type=m),this._components[b]=D.call(this,k),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function g(m){var C,D,k,P,v=arguments,b=this.__read,w=0;Array.isArray(m)&&(m=(v=m)[0]);var A=null!=m&&typeof m;if("string"===A&&m in i&&(C=m,m=v[1],Array.isArray(m)?(D=m,k=v[2]):(b&&(w=1),v=ne.slice(v,1),A=typeof m)),!D){if(P="number"===A?v:"object"===A&&null!=m.length?m:null){C||(C=P.length>=3?"rgb":"gray");var I=i[C].length;k=P[I],b&&(w+=P===arguments?I+(null!=k?1:0):1),P.length>I&&(P=ne.slice(P,0,I))}else if("string"===A){var x=function h(g){var b,m=g.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||g.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),v="rgb";if(m){var w=m[4]?4:3;b=new Array(w);for(var C=0;C<w;C++){var D=m[C+1];b[C]=parseInt(1==D.length?D+D:D,16)/255}}else if(m=g.match(/^(rgb|hsl)a?\((.*)\)$/)){v=m[1],b=m[2].trim().split(/[,\s]+/g);for(var k="hsl"===v,P=(C=0,Math.min(b.length,4));C<P;C++){var A=b[C];if(D=parseFloat(A),k)if(0===C){var I=A.match(/([a-z]*)$/)[1];D*={turn:360,rad:180/Math.PI,grad:.9}[I]||1}else C<3&&(D/=100);else C<3&&(D/=/%$/.test(A)?100:255);b[C]=D}}else{var x=o[g];if(!x)if(Ct){l||((l=At.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),l.fillStyle="rgba(0,0,0,0)",l.fillStyle=g,l.fillRect(0,0,1,1);var S=l.getImageData(0,0,1,1).data;x=o[g]=[S[0]/255,S[1]/255,S[2]/255]}else x=[0,0,0];b=x.slice()}return[v,b]}(m);C=x[0],4===(D=x[1]).length&&(k=D[3],D.length--)}else if("object"===A)if(m.constructor===g){if(C=m._type,D=m._components.slice(),k=m._alpha,"gradient"===C)for(var S=1,E=D.length;S<E;S++){var R=D[S];R&&(D[S]=R.clone())}}else if(m.constructor===ji)C="gradient",P=v;else{var N=i[C="hue"in m?"lightness"in m?"hsl":"hsb":"gradient"in m||"stops"in m||"radial"in m?"gradient":"gray"in m?"gray":"rgb"],O=s[C];for(this._components=D=[],S=0,E=N.length;S<E;S++)null==(F=m[N[S]])&&!S&&"gradient"===C&&"stops"in m&&(F={stops:m.stops,radial:m.radial}),null!=(F=O[S].call(this,F))&&(D[S]=F);k=m.alpha}b&&C&&(w=1)}if(this._type=C||"rgb",!D)for(this._components=D=[],S=0,E=(O=s[this._type]).length;S<E;S++){var F;null!=(F=O[S].call(this,P&&P[S]))&&(D[S]=F)}return this._components=D,this._properties=i[this._type],this._alpha=k,b&&(this.__read=w),this},set:"#initialize",_serialize:function(g,m){var v=this.getComponents();return ne.serialize(/^(gray|rgb)$/.test(this._type)?v:[this._type].concat(v),g,!0,m)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(g){var m;return this._type===g?this._components.slice():(m=p[this._type+"-"+g])?m.apply(this,this._components):p["rgb-"+g].apply(this,p[this._type+"-rgb"].apply(this,this._components))},convert:function(g){return new Kt(g,this._convert(g),this._alpha)},getType:function(){return this._type},setType:function(g){this._components=this._convert(g),this._properties=i[g],this._type=g},getComponents:function(){var g=this._components.slice();return null!=this._alpha&&g.push(this._alpha),g},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(g){this._alpha=null==g?null:Math.min(Math.max(g,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(g){var m=ne.isPlainValue(g,!0)?Kt.read(arguments):g;return m===this||m&&this._class===m._class&&this._type===m._type&&this.getAlpha()===m.getAlpha()&&ne.equals(this._components,m._components)||!1},toString:function(){for(var g=this._properties,m=[],v="gradient"===this._type,b=ze.instance,w=0,C=g.length;w<C;w++){var D=this._components[w];null!=D&&m.push(g[w]+": "+(v?D:b.number(D)))}return null!=this._alpha&&m.push("alpha: "+b.number(this._alpha)),"{ "+m.join(", ")+" }"},toCSS:function(g){var m=this._convert("rgb"),v=g||null==this._alpha?1:this._alpha;function b(w){return Math.round(255*(w<0?0:w>1?1:w))}return m=[b(m[0]),b(m[1]),b(m[2])],v<1&&m.push(v<0?0:v),g?"#"+((1<<24)+(m[0]<<16)+(m[1]<<8)+m[2]).toString(16).slice(1):(4==m.length?"rgba(":"rgb(")+m.join(",")+")"},toCanvasStyle:function(g,m){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var A,v=this._components,b=v[0],w=b._stops,C=v[1],D=v[2],k=v[3],P=m&&m.inverted();if(P&&(C=P._transformPoint(C),D=P._transformPoint(D),k&&(k=P._transformPoint(k))),b._radial){var I=D.getDistance(C);if(k){var x=k.subtract(C);x.getLength()>I&&(k=C.add(x.normalize(I-.1)))}var S=k||C;A=g.createRadialGradient(S.x,S.y,0,C.x,C.y,I)}else A=g.createLinearGradient(C.x,C.y,D.x,D.y);for(var E=0,R=w.length;E<R;E++){var N=w[E];A.addColorStop(N._offset??E/(R-1),N._color.toCanvasStyle())}return this._canvasStyle=A},transform:function(g){if("gradient"===this._type){for(var m=this._components,v=1,b=m.length;v<b;v++){var w=m[v];g._transformPoint(w,w,!0)}this._changed()}},statics:{_types:i,random:function(){var g=Math.random;return new Kt(g(),g(),g())},_setOwner:function(g,m,v){return g&&(g._owner&&m&&g._owner!==m&&(g=g.clone()),!g._owner^!m&&(g._owner=m||null,g._setter=v||null)),g}}})},new function(){return ne.each({add:function(s,o){return s+o},subtract:function(s,o){return s-o},multiply:function(s,o){return s*o},divide:function(s,o){return s/o}},function(s,o){this[o]=function(l){l=Kt.read(arguments);for(var h=this._type,d=this._components,p=l._convert(h),g=0,m=d.length;g<m;g++)p[g]=s(d[g],p[g]);return new Kt(h,p,null!=this._alpha?s(this._alpha,l.getAlpha()):null)}},{})}),ji=ne.extend({_class:"Gradient",initialize:function(s,o){this._id=ae.get(),s&&ne.isPlainObject(s)&&(this.set(s),s=o=null),null==this._stops&&this.setStops(s||["white","black"]),null==this._radial&&this.setRadial("string"==typeof o&&"radial"===o||o||!1)},_serialize:function(i,s){return s.add(this,function(){return ne.serialize([this._stops,this._radial],i,!0,s)})},_changed:function(){for(var i=0,s=this._owners&&this._owners.length;i<s;i++)this._owners[i]._changed()},_addOwner:function(i){this._owners||(this._owners=[]),this._owners.push(i)},_removeOwner:function(i){var s=this._owners?this._owners.indexOf(i):-1;-1!=s&&(this._owners.splice(s,1),this._owners.length||(this._owners=De))},clone:function(){for(var i=[],s=0,o=this._stops.length;s<o;s++)i[s]=this._stops[s].clone();return new ji(i,this._radial)},getStops:function(){return this._stops},setStops:function(i){if(i.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var s=this._stops;if(s)for(var o=0,l=s.length;o<l;o++)s[o]._owner=De;for(o=0,l=(s=this._stops=Mi.readList(i,0,{clone:!0})).length;o<l;o++)s[o]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(i){this._radial=i,this._changed()},equals:function(i){if(i===this)return!0;if(i&&this._class===i._class){var s=this._stops,o=i._stops,l=s.length;if(l===o.length){for(var h=0;h<l;h++)if(!s[h].equals(o[h]))return!1;return!0}}return!1}}),Mi=ne.extend({_class:"GradientStop",initialize:function(s,o){var l=s,h=o;"object"==typeof s&&o===De&&(Array.isArray(s)&&"number"!=typeof s[0]?(l=s[0],h=s[1]):("color"in s||"offset"in s||"rampPoint"in s)&&(l=s.color,h=s.offset||s.rampPoint||0)),this.setColor(l),this.setOffset(h)},clone:function(){return new Mi(this._color.clone(),this._offset)},_serialize:function(i,s){var o=this._color,l=this._offset;return ne.serialize(null==l?[o]:[o,l],i,!0,s)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(i){this._offset=i,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Kt._setOwner(this._color,null),this._color=Kt._setOwner(Kt.read(arguments,0),this,"setColor"),this._changed()},equals:function(i){return i===this||i&&this._class===i._class&&this._color.equals(i._color)&&this._offset==i._offset||!1}}),Jt=ne.extend(new function(){var i={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ie,selectedColor:null},s=ne.set({},i,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),o=ne.set({},s,{fillColor:new Kt}),l={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},h={beans:!0},d={_class:"Style",beans:!0,initialize:function(g,m,v){this._values={},this._owner=m,this._project=m&&m._project||v||u.project,this._defaults=!m||m instanceof An?s:m instanceof fi?o:i,g&&this.set(g)}};return ne.each(s,function(p,g){var m=/Color$/.test(g),v="shadowOffset"===g,b=ne.capitalize(g),w=l[g],C="set"+b,D="get"+b;d[C]=function(k){var P=this._owner,A=P&&P._children,I=A&&A.length>0&&!(P instanceof Qn);if(I)for(var x=0,S=A.length;x<S;x++)A[x]._style[C](k);if(("selectedColor"===g||!I)&&g in this._defaults){var E=this._values[g];E!==k&&(m&&(E&&(Kt._setOwner(E,null),E._canvasStyle=null),k&&k.constructor===Kt&&(k=Kt._setOwner(k,P,I&&C))),this._values[g]=k,P&&P._changed(w||129))}},d[D]=function(k){var P=this._owner,A=P&&P._children,I=A&&A.length>0&&!(P instanceof Qn);if(I&&!k)for(var S=0,E=A.length;S<E;S++){var R=A[S]._style[D]();if(S){if(!ne.equals(x,R))return De}else x=R}else if(g in this._defaults){var x;if((x=this._values[g])===De)(x=this._defaults[g])&&x.clone&&(x=x.clone());else{var N=m?Kt:v?ie:null;N&&(!x||x.constructor!==N)&&(this._values[g]=x=N.read([x],0,{readNull:!0,clone:!0}))}}return x&&m&&(x=Kt._setOwner(x,P,I&&C)),x},h[D]=function(k){return this._style[D](k)},h[C]=function(k){this._style[C](k)}}),ne.each({Font:"FontFamily",WindingRule:"FillRule"},function(p,g){var m="get"+g,v="set"+g;d[m]=h[m]="#get"+p,d[v]=h[v]="#set"+p}),Ze.inject(h),d},{set:function(i){var s=i instanceof Jt,o=s?i._values:i;if(o)for(var l in o)if(l in this._defaults){var h=o[l];this[l]=h&&s&&h.clone?h.clone():h}},equals:function(i){function s(o,l,h){var d=o._values,p=l._values,g=l._defaults;for(var m in d){var b=p[m];if(!(h&&m in p||ne.equals(d[m],b===De?g[m]:b)))return!1}return!0}return i===this||i&&this._class===i._class&&s(this,i)&&s(i,this,!0)||!1},_dispose:function(){var i;(i=this.getFillColor())&&(i._canvasStyle=null),(i=this.getStrokeColor())&&(i._canvasStyle=null),(i=this.getShadowColor())&&(i._canvasStyle=null)},hasFill:function(){var i=this.getFillColor();return!!i&&i.alpha>0},hasStroke:function(){var i=this.getStrokeColor();return!!i&&i.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var i=this.getShadowColor();return!!i&&i.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var i=this.getFontSize();return this.getFontWeight()+" "+i+(/[a-z]/i.test(i+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function i(){var s=i.base.call(this),o=this.getFontSize();return/pt|em|%|px/.test(o)&&(o=this.getView().getPixelSize(o)),s??1.2*o}}),bt=new function(){function i(s,o,l,h){for(var d=["","webkit","moz","Moz","ms","o"],p=o[0].toUpperCase()+o.substring(1),g=0;g<6;g++){var m=d[g],v=m?m+p:o;if(v in s){if(!l)return s[v];s[v]=h;break}}}return{getStyles:function(s){var o=s&&9!==s.nodeType?s.ownerDocument:s,l=o&&o.defaultView;return l&&l.getComputedStyle(s,"")},getBounds:function(s,o){var p,l=s.ownerDocument,h=l.body,d=l.documentElement;try{p=s.getBoundingClientRect()}catch{p={left:0,top:0,width:0,height:0}}var g=p.left-(d.clientLeft||h.clientLeft||0),m=p.top-(d.clientTop||h.clientTop||0);if(!o){var v=l.defaultView;g+=v.pageXOffset||d.scrollLeft||h.scrollLeft,m+=v.pageYOffset||d.scrollTop||h.scrollTop}return new Ke(g,m,p.width,p.height)},getViewportBounds:function(s){var o=s.ownerDocument,l=o.defaultView,h=o.documentElement;return new Ke(0,0,l.innerWidth||h.clientWidth,l.innerHeight||h.clientHeight)},getOffset:function(s,o){return bt.getBounds(s,o).getPoint()},getSize:function(s){return bt.getBounds(s,!0).getSize()},isInvisible:function(s){return bt.getSize(s).equals(new Ee(0,0))},isInView:function(s){return!bt.isInvisible(s)&&bt.getViewportBounds(s).intersects(bt.getBounds(s,!0))},isInserted:function(s){return ee.body.contains(s)},getPrefixed:function(s,o){return s&&i(s,o)},setPrefixed:function(s,o,l){if("object"==typeof o)for(var h in o)i(s,h,!0,o[h]);else i(s,o,!0,l)}}},yt={add:function(i,s){if(i)for(var o in s)for(var l=s[o],h=o.split(/[\s,]+/g),d=0,p=h.length;d<p;d++){var g=h[d];i.addEventListener(g,l,i===ee&&("touchstart"===g||"touchmove"===g)&&{passive:!1})}},remove:function(i,s){if(i)for(var o in s)for(var l=s[o],h=o.split(/[\s,]+/g),d=0,p=h.length;d<p;d++)i.removeEventListener(h[d],l,!1)},getPoint:function(i){var s=i.targetTouches?i.targetTouches.length?i.targetTouches[0]:i.changedTouches[0]:i;return new ie(s.pageX||s.clientX+ee.documentElement.scrollLeft,s.pageY||s.clientY+ee.documentElement.scrollTop)},getTarget:function(i){return i.target||i.srcElement},getRelatedTarget:function(i){return i.relatedTarget||i.toElement},getOffset:function(i,s){return yt.getPoint(i).subtract(bt.getOffset(s||yt.getTarget(i)))}};yt.requestAnimationFrame=new function(){var l,i=bt.getPrefixed(Ct,"requestAnimationFrame"),s=!1,o=[];function h(){var d=o;o=[];for(var p=0,g=d.length;p<g;p++)d[p]();(s=i&&o.length)&&i(h)}return function(d){o.push(d),i?s||(i(h),s=!0):l||(l=setInterval(h,16.666666666666668))}};var nn=ne.extend(qn,{_class:"View",initialize:function i(s,o){function l(w){return o[w]||parseInt(o.getAttribute(w),10)}function h(){var w=bt.getSize(o);return w.isNaN()||w.isZero()?new Ee(l("width"),l("height")):w}var d;if(Ct&&o){this._id=o.getAttribute("id"),null==this._id&&o.setAttribute("id",this._id="paper-view-"+i._id++),yt.add(o,this._viewEvents);var p="none";if(bt.setPrefixed(o.style,{userDrag:p,userSelect:p,touchCallout:p,contentZooming:p,tapHighlightColor:"rgba(0,0,0,0)"}),yn.hasAttribute(o,"resize")){var g=this;yt.add(Ct,this._windowEvents={resize:function(){g.setViewSize(h())}})}if(d=h(),yn.hasAttribute(o,"stats")&&typeof Stats<"u"){this._stats=new Stats;var m=this._stats.domElement,v=m.style,b=bt.getOffset(o);v.position="absolute",v.left=b.x+"px",v.top=b.y+"px",ee.body.appendChild(m)}}else d=new Ee(o),o=null;this._project=s,this._scope=s._scope,this._element=o,this._pixelRatio||(this._pixelRatio=Ct&&Ct.devicePixelRatio||1),this._setElementSize(d.width,d.height),this._viewSize=d,i._views.push(this),i._viewsById[this._id]=this,(this._matrix=new ot)._owner=this,i._focused||(i._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!u.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;nn._focused===this&&(nn._focused=null),nn._views.splice(nn._views.indexOf(this),1),delete nn._viewsById[this._id];var i=this._project;return i._view===this&&(i._view=null),yt.remove(this._element,this._viewEvents),yt.remove(Ct,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:ne.each(Ze._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(i){this[i]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(i){this._autoUpdate=i,i&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var i=this;yt.requestAnimationFrame(function(){if(i._requested=!1,i._animate){i.requestUpdate();var s=i._element;(!bt.getPrefixed(ee,"hidden")||"true"===yn.getAttribute(s,"keepalive"))&&bt.isInView(s)&&i._handleFrame()}i._autoUpdate&&i.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){u=this._scope;var i=Date.now()/1e3,s=this._last?i-this._last:0;this._last=i,this.emit("frame",new ne({delta:s,time:this._time+=s,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(i,s){var o=this._frameItems;s?(o[i._id]={item:i,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete o[i._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(i){for(var s in this._frameItems){var o=this._frameItems[s];o.item.emit("frame",new ne(i,{time:o.time+=i.delta,count:o.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=De},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var i=this._viewSize;return new W(i.width,i.height,this,"setViewSize")},setViewSize:function(){var i=Ee.read(arguments),s=i.subtract(this._viewSize);s.isZero()||(this._setElementSize(i.width,i.height),this._viewSize.set(i),this._changed(),this.emit("resize",{size:i,delta:s}),this._autoUpdate&&this.update())},_setElementSize:function(i,s){var o=this._element;o&&(o.width!==i&&(o.width=i),o.height!==s&&(o.height=s))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new Ke(new ie,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return bt.isInView(this._element)},isInserted:function(){return bt.isInserted(this._element)},getPixelSize:function(i){var o,s=this._element;if(s){var l=s.parentNode,h=ee.createElement("div");h.style.fontSize=i,l.appendChild(h),o=parseFloat(bt.getStyles(h).fontSize),l.removeChild(h)}else o=parseFloat(o);return o},getTextWidth:function(i,s){return 0}},ne.each(["rotate","scale","shear","skew"],function(i){var s="rotate"===i;this[i]=function(){var o=arguments,l=(s?ne:ie).read(o),h=ie.read(o,0,{readNull:!0});return this.transform((new ot)[i](l,h||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var i=new ot;return this.transform(i.translate.apply(i,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var i=ie.read(arguments);this.translate(this.getCenter().subtract(i))},getZoom:function(){var i=this._decompose().scaling;return(i.x+i.y)/2},setZoom:function(i){this.transform((new ot).scale(i/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(i){var s=this.getRotation();null!=s&&null!=i&&this.rotate(i-s)},getScaling:function(){var i=this._decompose().scaling;return new je(i.x,i.y,this,"setScaling")},setScaling:function(){var i=this.getScaling(),s=ie.read(arguments,0,{clone:!0,readNull:!0});i&&s&&this.scale(s.x/i.x,s.y/i.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var i=this._matrix;i.set.apply(i,arguments)},transform:function(i){this._matrix.append(i)},scrollBy:function(){this.translate(ie.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ie.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ie.read(arguments))},getEventPoint:function(i){return this.viewToProject(yt.getOffset(i,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(i,s){return ee&&"string"==typeof s&&(s=ee.getElementById(s)),new(Ct?tr:nn)(i,s)}}},new function(){if(Ct){var i,s,m,v,b,o=!1,l=!1,g=Ct.navigator;g.pointerEnabled||g.msPointerEnabled?(m="pointerdown MSPointerDown",v="pointermove MSPointerMove",b="pointerup pointercancel MSPointerUp MSPointerCancel"):(m="touchstart",v="touchmove",b="touchend touchcancel","ontouchstart"in Ct&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(m+=" mousedown",v+=" mousemove",b+=" mouseup"));var w={},C={mouseout:function(H){var $=nn._focused,K=yt.getRelatedTarget(H);if($&&(!K||"HTML"===K.nodeName)){var Y=yt.getOffset(H,$._element),J=Y.x,oe=Math.abs,he=oe(J),_e=he-(1<<25);Y.x=oe(_e)<he?_e*(J<0?-1:1):J,p($,H,$.viewToProject(Y))}},scroll:d};w[m]=function(H){var $=nn._focused=h(H);o||(o=!0,$._handleMouseEvent("mousedown",H))},C[v]=function(H){var $=nn._focused;if(!l){var K=h(H);K?$!==K&&($&&p($,H),i||(i=$),$=nn._focused=s=K):s&&s===$&&(i&&!i.isInserted()&&(i=null),$=nn._focused=i,i=null,d())}$&&p($,H)},C[m]=function(){l=!0},C[b]=function(H){var $=nn._focused;$&&o&&$._handleMouseEvent("mouseup",H),l=o=!1},yt.add(ee,C),yt.add(Ct,{load:d});var x,S,E,R,N,O,F,B,D=!1,k=!1,P={doubleclick:"click",mousedrag:"mousemove"},A=!1,j={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:w,_handleMouseEvent:function(H,$,K){var Y=this._itemEvents,J=Y.native[H],oe="mousemove"===H,he=this._scope.tool,ge=this;function _e(Pe){return Y.virtual[Pe]||ge.responds(Pe)||he&&he.responds(Pe)}oe&&o&&_e("mousedrag")&&(H="mousedrag"),K||(K=this.getEventPoint($));var le=this.getBounds().contains(K),ce=J&&le&&ge._project.hitTest(K,{tolerance:0,fill:!0,stroke:!0}),ue=ce&&ce.item||null,ve=!1,Ce={};if(Ce[H.substr(5)]=!0,J&&ue!==R&&(R&&z(R,null,"mouseleave",$,K),ue&&z(ue,null,"mouseenter",$,K),R=ue),A^le&&(z(this,null,le?"mouseenter":"mouseleave",$,K),ve=!0),(le||Ce.drag)&&!K.equals(S)&&(G(this,ue,oe?H:"mousemove",$,K,S),ve=!0),A=le,Ce.down&&le||Ce.up&&x){if(G(this,ue,H,$,K,x),Ce.down){if(B=ue===O&&Date.now()-F<300,E=O=ue,!k&&ue){for(var Me=ue;Me&&!Me.responds("mousedrag");)Me=Me._parent;Me&&(N=ue)}x=K}else Ce.up&&(!k&&ue===E&&(F=Date.now(),G(this,ue,B?"doubleclick":"click",$,K,x),B=!1),E=N=null);A=!1,ve=!0}S=K,ve&&he&&(D=he._handleMouseEvent(H,$,K,Ce)||D),!1!==$.cancelable&&(D&&!Ce.move||Ce.down&&_e("mouseup"))&&$.preventDefault()},_handleKeyEvent:function(H,$,K,Y){var he,J=this._scope,oe=J.tool;function ge(_e){_e.responds(H)&&(u=J,_e.emit(H,he=he||new Lr(H,$,K,Y)))}this.isVisible()&&(ge(this),oe&&oe.responds(H)&&ge(oe))},_countItemEvent:function(H,$){var K=this._itemEvents,Y=K.native,J=K.virtual;for(var oe in j)Y[oe]=(Y[oe]||0)+(j[oe][H]||0)*$;J[H]=(J[H]||0)+$},statics:{updateFocus:d,_resetState:function(){o=l=D=A=!1,i=s=x=S=E=R=N=O=F=B=null}}}}function h(H){var $=yt.getTarget(H);return $.getAttribute&&nn._viewsById[$.getAttribute("id")]}function d(){var H=nn._focused;if(!H||!H.isVisible())for(var $=0,K=nn._views.length;$<K;$++)if((H=nn._views[$]).isVisible()){nn._focused=s=H;break}}function p(H,$,K){H._handleMouseEvent("mousemove",$,K)}function z(H,$,K,Y,J,oe,he){var _e,ge=!1;function le(ce,ue){if(ce.responds(ue)){if(_e||(_e=new ts(ue,Y,J,$||ce,oe?J.subtract(oe):null)),ce.emit(ue,_e)&&(D=!0,_e.prevented&&(k=!0),_e.stopped))return ge=!0}else{var ve=P[ue];if(ve)return le(ce,ve)}}for(;H&&H!==he&&!le(H,K);)H=H._parent;return ge}function G(H,$,K,Y,J,oe){return H._project.removeOn(K),k=D=!1,N&&z(N,null,K,Y,J,oe)||$&&$!==N&&!$.isDescendant(N)&&z($,null,"mousedrag"===K?"mousemove":K,Y,J,oe,N)||z(H,N||$||H,K,Y,J,oe)}}),tr=nn.extend({_class:"CanvasView",initialize:function(s,o){if(!(o instanceof Ct.HTMLCanvasElement)){var l=Ee.read(arguments,1);if(l.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+ne.slice(arguments,1));o=At.getCanvas(l)}var h=this._context=o.getContext("2d");if(h.save(),this._pixelRatio=1,!/^off|false$/.test(yn.getAttribute(o,"hidpi"))){var d=Ct.devicePixelRatio||1,p=bt.getPrefixed(h,"backingStorePixelRatio")||1;this._pixelRatio=d/p}nn.call(this,s,o),this._needsUpdate=!0},remove:function i(){return this._context.restore(),i.base.call(this)},_setElementSize:function i(s,o){var l=this._pixelRatio;if(i.base.call(this,s*l,o*l),1!==l){var h=this._element,d=this._context;if(!yn.hasAttribute(h,"resize")){var p=h.style;p.width=s+"px",p.height=o+"px"}d.restore(),d.save(),d.scale(l,l)}},getContext:function(){return this._context},getPixelSize:function i(s){var l,o=u.agent;if(o&&o.firefox)l=i.base.call(this,s);else{var h=this._context,d=h.font;h.font=s+" serif",l=parseFloat(h.font),h.font=d}return l},getTextWidth:function(i,s){var o=this._context,l=o.font,h=0;o.font=i;for(var d=0,p=s.length;d<p;d++)h=Math.max(h,o.measureText(s[d]).width);return o.font=l,h},update:function(){if(!this._needsUpdate)return!1;var i=this._project,s=this._context,o=this._viewSize;return s.clearRect(0,0,o.width+1,o.height+1),i&&i.draw(s,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Hi=ne.extend({_class:"Event",initialize:function(s){this.event=s,this.type=s&&s.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return di.modifiers}}),Lr=Hi.extend({_class:"KeyEvent",initialize:function(s,o,l,h){this.type=s,this.event=o,this.key=l,this.character=h},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),di=new function(){var h,d,i={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},s={tab:"\t",space:" ",enter:"\r"},o={},l={},p=new ne({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var v=u&&u.agent;return v&&v.mac?this.meta:this.control}}});function g(v){var b=v.key||v.keyIdentifier;return b=/^U\+/.test(b)?String.fromCharCode(parseInt(b.substr(2),16)):/^Arrow[A-Z]/.test(b)?b.substr(5):"Unidentified"===b||b===De?String.fromCharCode(v.keyCode):b,i[b]||(b.length>1?ne.hyphenate(b):b.toLowerCase())}function m(v,b,w,C){var P,k=nn._focused;if(o[b]=v,v?l[b]=w:delete l[b],b.length>1&&(P=ne.camelize(b))in p){p[P]=v;var A=u&&u.agent;if("meta"===P&&A&&A.mac)if(v)h={};else{for(var I in h)I in l&&m(!1,I,h[I],C);h=null}}else v&&h&&(h[b]=w);k&&k._handleKeyEvent(v?"keydown":"keyup",C,b,w)}return yt.add(ee,{keydown:function(v){var b=g(v),w=u&&u.agent;b.length>1||w&&w.chrome&&(v.altKey||w.mac&&v.metaKey||!w.mac&&v.ctrlKey)?m(!0,b,s[b]||(b.length>1?"":b),v):d=b},keypress:function(v){if(d){var b=g(v),w=v.charCode,C=w>=32?String.fromCharCode(w):b.length>1?"":b;b!==d&&(b=C.toLowerCase()),m(!0,b,C,v),d=null}},keyup:function(v){var b=g(v);b in l&&m(!1,b,l[b],v)}}),yt.add(Ct,{blur:function(v){for(var b in l)m(!1,b,l[b],v)}}),{modifiers:p,isDown:function(v){return!!o[v]}}},ts=Hi.extend({_class:"MouseEvent",initialize:function(s,o,l,h,d){this.type=s,this.event=o,this.point=l,this.target=h,this.delta=d},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Ks=Hi.extend({_class:"ToolEvent",_item:null,initialize:function(s,o,l){this.tool=s,this.type=o,this.event=l},_choosePoint:function(i,s){return i||(s?s.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(i){this._point=i},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(i){this._lastPoint=i},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(i){this._downPoint=i},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(i){this._middlePoint=i},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(i){this._delta=i},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(i){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=i},getItem:function(){if(!this._item){var i=this.tool._scope.project.hitTest(this.getPoint());if(i){for(var s=i.item,o=s._parent;/^(Group|CompoundPath)$/.test(o._class);)s=o,o=o._parent;this._item=s}}return this._item},setItem:function(i){this._item=i},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Fr=Sn.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(s){Sn.call(this),this._moveCount=-1,this._downCount=-1,this.set(s)},getMinDistance:function(){return this._minDistance},setMinDistance:function(i){this._minDistance=i,null!=i&&null!=this._maxDistance&&i>this._maxDistance&&(this._maxDistance=i)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(i){this._maxDistance=i,null!=this._minDistance&&null!=i&&i<this._minDistance&&(this._minDistance=i)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(i){this._minDistance=this._maxDistance=i},_handleMouseEvent:function(i,s,o,l){u=this._scope,l.drag&&!this.responds(i)&&(i="mousemove");var h=l.move||l.drag,d=this.responds(i),p=this.minDistance,g=this.maxDistance,m=!1,v=this;function b(C,D){var k=o,P=h?v._point:v._downPoint||k;if(h){if(v._moveCount>=0&&k.equals(P))return!1;if(P&&(null!=C||null!=D)){var A=k.subtract(P),I=A.getLength();if(I<(C||0))return!1;D&&(k=P.add(A.normalize(Math.min(I,D))))}v._moveCount++}return v._point=k,v._lastPoint=P||k,l.down&&(v._moveCount=-1,v._downPoint=k,v._downCount++),!0}function w(){d&&(m=v.emit(i,new Ks(v,i,s))||m)}if(l.down)b(),w();else if(l.up)b(null,g),w();else if(d)for(;b(p,g);)w();return m}}),an=ne.extend(qn,{_class:"Tween",statics:{easings:new ne({linear:function(i){return i},easeInQuad:function(i){return i*i},easeOutQuad:function(i){return i*(2-i)},easeInOutQuad:function(i){return i<.5?2*i*i:2*(2-i)*i-1},easeInCubic:function(i){return i*i*i},easeOutCubic:function(i){return--i*i*i+1},easeInOutCubic:function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart:function(i){return i*i*i*i},easeOutQuart:function(i){return 1- --i*i*i*i},easeInOutQuart:function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint:function(i){return i*i*i*i*i},easeOutQuint:function(i){return 1+--i*i*i*i*i},easeInOutQuint:function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}})},initialize:function i(s,o,l,h,d,p){this.object=s;var g=typeof d,m="function"===g;this.type=m?g:"string"===g?d:"linear",this.easing=m?d:i.easings[this.type],this.duration=h,this.running=!1,this._then=null,this._startTime=null;var v=o||l;this._keys=v?Object.keys(v):[],this._parsedKeys=this._parseKeys(this._keys),this._from=v&&this._getState(o),this._to=v&&this._getState(l),!1!==p&&this.start()},then:function(i){return this._then=i,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(i){if(this.running){i>=1&&(i=1,this.running=!1);for(var s=this.easing(i),o=this._keys,l=function(b){return"function"==typeof b?b(s,i):b},h=0,d=o&&o.length;h<d;h++){var p=o[h],g=l(this._from[p]),m=l(this._to[p]),v=g&&m&&g.__add&&m.__add?m.__subtract(g).__multiply(s).__add(g):(m-g)*s+g;this._setProperty(this._parsedKeys[p],v)}this.responds("update")&&this.emit("update",new ne({progress:i,factor:s})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(i){var s=this._startTime,o=s?(i-s)/this.duration:0;s||(this._startTime=i),this.update(o)},_getState:function(i){for(var s=this._keys,o={},l=0,h=s.length;l<h;l++){var m,d=s[l],p=this._parsedKeys[d],g=this._getProperty(p);if(i){var v=this._resolveValue(g,i[d]);this._setProperty(p,v),m=(m=this._getProperty(p))&&m.clone?m.clone():m,this._setProperty(p,g)}else m=g&&g.clone?g.clone():g;o[d]=m}return o},_resolveValue:function(i,s){if(s){if(Array.isArray(s)&&2===s.length){var o=s[0];return o&&o.match&&o.match(/^[+\-\*\/]=/)?this._calculate(i,o[0],s[1]):s}if("string"==typeof s){var l=s.match(/^[+\-*/]=(.*)/);if(l){var h=JSON.parse(l[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(i,s[0],h)}}}return s},_calculate:function(i,s,o){return u.PaperScript.calculateBinary(i,s,o)},_parseKeys:function(i){for(var s={},o=0,l=i.length;o<l;o++){var h=i[o],d=h.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");s[h]=d.split("/")}return s},_getProperty:function(i,s){for(var o=this.object,l=0,h=i.length-(s||0);l<h&&o;l++)o=o[i[l]];return o},_setProperty:function(i,s){var o=this._getProperty(i,1);o&&(o[i[i.length-1]]=s)}}),zt={request:function(i){var s=new xe.XMLHttpRequest;return s.open((i.method||"get").toUpperCase(),i.url,ne.pick(i.async,!0)),i.mimeType&&s.overrideMimeType(i.mimeType),s.onload=function(){var o=s.status;0===o||200===o?i.onLoad&&i.onLoad.call(s,s.responseText):s.onerror()},s.onerror=function(){var o=s.status,l='Could not load "'+i.url+'" (Status: '+o+")";if(!i.onError)throw new Error(l);i.onError(l,o)},s.send(null)}},At=ne.exports.CanvasProvider={canvases:[],getCanvas:function(i,s,o){if(!Ct)return null;var l,h=!0;"object"==typeof i&&(s=i.height,i=i.width),this.canvases.length?l=this.canvases.pop():(l=ee.createElement("canvas"),h=!1);var d=l.getContext("2d",o||{});if(!d)throw new Error("Canvas "+l+" is unable to provide a 2D context.");return l.width===i&&l.height===s?h&&d.clearRect(0,0,i+1,s+1):(l.width=i,l.height=s),d.save(),l},getContext:function(i,s,o){var l=this.getCanvas(i,s,o);return l?l.getContext("2d",o||{}):null},release:function(i){var s=i&&i.canvas?i.canvas:i;s&&s.getContext&&(s.getContext("2d").restore(),this.canvases.push(s))}},rn=new function(){var l,h,d,p,g,m,v,b,w,C,D,i=Math.min,s=Math.max,o=Math.abs;function k(R,N,O){return.2989*R+.587*N+.114*O}function P(R,N,O,z){var B=z-k(R,N,O),G=(z=k(w=R+B,C=N+B,D=O+B),i(w,C,D)),j=s(w,C,D);if(G<0){var H=z-G;w=z+(w-z)*z/H,C=z+(C-z)*z/H,D=z+(D-z)*z/H}if(j>255){var $=255-z,K=j-z;w=z+(w-z)*$/K,C=z+(C-z)*$/K,D=z+(D-z)*$/K}}function A(R,N,O){return s(R,N,O)-i(R,N,O)}function I(R,N,O,F){var j,B=[R,N,O],z=s(R,N,O),G=i(R,N,O);j=0===i(G=G===R?0:G===N?1:2,z=z===R?0:z===N?1:2)?1===s(G,z)?2:1:0,B[z]>B[G]?(B[j]=(B[j]-B[G])*F/(B[z]-B[G]),B[z]=F):B[j]=B[z]=0,B[G]=0,w=B[0],C=B[1],D=B[2]}var x={multiply:function(){w=g*l/255,C=m*h/255,D=v*d/255},screen:function(){w=g+l-g*l/255,C=m+h-m*h/255,D=v+d-v*d/255},overlay:function(){w=g<128?2*g*l/255:255-2*(255-g)*(255-l)/255,C=m<128?2*m*h/255:255-2*(255-m)*(255-h)/255,D=v<128?2*v*d/255:255-2*(255-v)*(255-d)/255},"soft-light":function(){var R=l*g/255;w=R+g*(255-(255-g)*(255-l)/255-R)/255,C=(R=h*m/255)+m*(255-(255-m)*(255-h)/255-R)/255,D=(R=d*v/255)+v*(255-(255-v)*(255-d)/255-R)/255},"hard-light":function(){w=l<128?2*l*g/255:255-2*(255-l)*(255-g)/255,C=h<128?2*h*m/255:255-2*(255-h)*(255-m)/255,D=d<128?2*d*v/255:255-2*(255-d)*(255-v)/255},"color-dodge":function(){w=0===g?0:255===l?255:i(255,255*g/(255-l)),C=0===m?0:255===h?255:i(255,255*m/(255-h)),D=0===v?0:255===d?255:i(255,255*v/(255-d))},"color-burn":function(){w=255===g?255:0===l?0:s(0,255-255*(255-g)/l),C=255===m?255:0===h?0:s(0,255-255*(255-m)/h),D=255===v?255:0===d?0:s(0,255-255*(255-v)/d)},darken:function(){w=g<l?g:l,C=m<h?m:h,D=v<d?v:d},lighten:function(){w=g>l?g:l,C=m>h?m:h,D=v>d?v:d},difference:function(){(w=g-l)<0&&(w=-w),(C=m-h)<0&&(C=-C),(D=v-d)<0&&(D=-D)},exclusion:function(){w=g+l*(255-g-g)/255,C=m+h*(255-m-m)/255,D=v+d*(255-v-v)/255},hue:function(){I(l,h,d,A(g,m,v)),P(w,C,D,k(g,m,v))},saturation:function(){I(g,m,v,A(l,h,d)),P(w,C,D,k(g,m,v))},luminosity:function(){P(g,m,v,k(l,h,d))},color:function(){P(l,h,d,k(g,m,v))},add:function(){w=i(g+l,255),C=i(m+h,255),D=i(v+d,255)},subtract:function(){w=s(g-l,0),C=s(m-h,0),D=s(v-d,0)},average:function(){w=(g+l)/2,C=(m+h)/2,D=(v+d)/2},negation:function(){w=255-o(255-l-g),C=255-o(255-h-m),D=255-o(255-d-v)}},S=this.nativeModes=ne.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(R){this[R]=!0},{}),E=At.getContext(1,1,{willReadFrequently:!0});E&&(ne.each(x,function(R,N){var O="darken"===N,F=!1;E.save();try{E.fillStyle=O?"#300":"#a00",E.fillRect(0,0,1,1),E.globalCompositeOperation=N,E.globalCompositeOperation===N&&(E.fillStyle=O?"#a00":"#300",E.fillRect(0,0,1,1),F=E.getImageData(0,0,1,1).data[0]!==O?170:51)}catch{}E.restore(),S[N]=F}),At.release(E)),this.process=function(R,N,O,F,B){var z=N.canvas,G="normal"===R;if(G||S[R])O.save(),O.setTransform(1,0,0,1,0,0),O.globalAlpha=F,G||(O.globalCompositeOperation=R),O.drawImage(z,B.x,B.y),O.restore();else{var j=x[R];if(!j)return;for(var H=O.getImageData(B.x,B.y,z.width,z.height),$=H.data,K=N.getImageData(0,0,z.width,z.height).data,Y=0,J=$.length;Y<J;Y+=4){l=K[Y],g=$[Y],h=K[Y+1],m=$[Y+1],d=K[Y+2],v=$[Y+2],p=K[Y+3],b=$[Y+3],j();var oe=p*F/255,he=1-oe;$[Y]=oe*w+he*g,$[Y+1]=oe*C+he*m,$[Y+2]=oe*D+he*v,$[Y+3]=p*F+he*b}O.putImageData(H,B.x,B.y)}}},en=new function(){var i="http://www.w3.org/2000/svg",s="http://www.w3.org/2000/xmlns",o="http://www.w3.org/1999/xlink",l={href:o,xlink:s,xmlns:s+"/","xmlns:xlink":s+"/"};function p(g,m,v){for(var b in m){var w=m[b],C=l[b];"number"==typeof w&&v&&(w=v.number(w)),C?g.setAttributeNS(C,b,w):g.setAttribute(b,w)}return g}return{svg:i,xmlns:s,xlink:o,create:function h(g,m,v){return p(ee.createElementNS(i,g),m,v)},get:function d(g,m){var v=l[m],b=v?g.getAttributeNS(v,m):g.getAttribute(m);return"null"===b?null:b},set:p}},Le=ne.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(i,s){return!s&&(i instanceof it||i instanceof fn||i instanceof fi)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(i,s){var o=ne.capitalize(s),l=i[2];this[s]={type:i[1],property:s,attribute:i[0],toSVG:l,fromSVG:l&&ne.each(l,function(h,d){this[h]=d},{}),exportFilter:i[3],get:"get"+o,set:"set"+o}},{});new function(){var i;function s(x,S,E){var O,R=new ne,N=x.getTranslation();if(S&&(x.isInvertible()?(O=(x=x._shiftless())._inverseTransform(N),N=null):O=new ie,R[E?"cx":"x"]=O.x,R[E?"cy":"y"]=O.y),!x.isIdentity()){var F=x.decompose();if(F){var B=[],z=F.rotation,G=F.scaling,j=F.skewing;N&&!N.isZero()&&B.push("translate("+i.point(N)+")"),z&&B.push("rotate("+i.number(z)+")"),(!ut.isZero(G.x-1)||!ut.isZero(G.y-1))&&B.push("scale("+i.point(G)+")"),j.x&&B.push("skewX("+i.number(j.x)+")"),j.y&&B.push("skewY("+i.number(j.y)+")"),R.transform=B.join(" ")}else R.transform="matrix("+x.getValues().join(",")+")"}return R}function o(x,S){for(var E=s(x._matrix),R=x._children,N=en.create("g",E,i),O=0,F=R.length;O<F;O++){var B=R[O],z=A(B,S);if(z)if(B.isClipMask()){var G=en.create("clipPath");G.appendChild(z),k(B,G,"clip"),en.set(N,{"clip-path":"url(#"+G.id+")"})}else N.appendChild(z)}return N}function d(x){var S=x._type,E=x._radius,R=s(x._matrix,!0,"rectangle"!==S);if("rectangle"===S){S="rect";var N=x._size,O=N.width,F=N.height;R.x-=O/2,R.y-=F/2,R.width=O,R.height=F,E.isZero()&&(E=null)}return E&&("circle"===S?R.r=E:(R.rx=E.width,R.ry=E.height)),en.create(S,R,i)}var C,b={Group:o,Layer:o,Raster:function l(x,S){var E=s(x._matrix,!0),R=x.getSize(),N=x.getImage();return E.x-=R.width/2,E.y-=R.height/2,E.width=R.width,E.height=R.height,E.href=0==S.embedImages&&N&&N.src||x.toDataURL(),en.create("image",E,i)},Path:function h(x,S){var E=S.matchShapes;if(E){var R=x.toShape(!1);if(R)return d(R)}var F,N=x._segments,O=N.length,B=s(x._matrix);if(E&&O>=2&&!x.hasHandles())if(O>2){F=x._closed?"polygon":"polyline";for(var z=[],G=0;G<O;G++)z.push(i.point(N[G]._point));B.points=z.join(" ")}else{F="line";var j=N[0]._point,H=N[1]._point;B.set({x1:j.x,y1:j.y,x2:H.x,y2:H.y})}else F="path",B.d=x.getPathData(null,S.precision);return en.create(F,B,i)},Shape:d,CompoundPath:function p(x,S){var E=s(x._matrix),R=x.getPathData(null,S.precision);return R&&(E.d=R),en.create("path",E,i)},SymbolItem:function g(x,S){var E=s(x._matrix,!0),R=x._definition,N=D(R,"symbol"),O=R._item,F=O.getStrokeBounds();return N||((N=en.create("symbol",{viewBox:i.rectangle(F)})).appendChild(A(O,S)),k(R,N,"symbol")),E.href="#"+N.id,E.x+=F.x,E.y+=F.y,E.width=F.width,E.height=F.height,E.overflow="visible",en.create("use",E,i)},PointText:function v(x){var S=en.create("text",s(x._matrix,!0),i);return S.textContent=x._content,S}};function D(x,S){return C||(C={ids:{},svgs:{}}),x&&C.svgs[S+"-"+(x._id||x.__id||(x.__id=ae.get("svg")))]}function k(x,S,E){C||D();var R=C.ids[E]=(C.ids[E]||0)+1;S.id=E+"-"+R,C.svgs[E+"-"+(x._id||x.__id)]=S}function P(x,S){var E=x,R=null;if(C){for(var N in E="svg"===x.nodeName.toLowerCase()&&x,C.svgs)R||(E||(E=en.create("svg")).appendChild(x),R=E.insertBefore(en.create("defs"),E.firstChild)),R.appendChild(C.svgs[N]);C=null}return S.asString?(new xe.XMLSerializer).serializeToString(E):E}function A(x,S,E){var R=b[x._class],N=R&&R(x,S);if(N){var O=S.onExport;O&&(N=O(x,N,S)||N);var F=JSON.stringify(x._data);F&&"{}"!==F&&"null"!==F&&N.setAttribute("data-paper-data",F)}return N&&function w(x,S,E){var R={},N=!E&&x.getParent(),O=[];return null!=x._name&&(R.id=x._name),ne.each(Le,function(F){var B=F.get,z=F.type,G=x[B]();if(F.exportFilter?F.exportFilter(x,G):!N||!ne.equals(N[B](),G)){if("color"===z&&null!=G){var j=G.getAlpha();j<1&&(R[F.attribute+"-opacity"]=j)}"style"===z?O.push(F.attribute+": "+G):R[F.attribute]=null==G?"none":"color"===z?G.gradient?function m(x){var S=D(x,"color");if(!S){var F,E=x.getGradient(),R=E._radial,N=x.getOrigin(),O=x.getDestination();if(R){F={cx:N.x,cy:N.y,r:N.getDistance(O)};var B=x.getHighlight();B&&(F.fx=B.x,F.fy=B.y)}else F={x1:N.x,y1:N.y,x2:O.x,y2:O.y};F.gradientUnits="userSpaceOnUse",S=en.create((R?"radial":"linear")+"Gradient",F,i);for(var z=E._stops,G=0,j=z.length;G<j;G++){var H=z[G],$=H._color,K=$.getAlpha();F={offset:H._offset??G/(j-1)},$&&(F["stop-color"]=$.toCSS(!0)),K<1&&(F["stop-opacity"]=K),S.appendChild(en.create("stop",F,i))}k(x,S,"color")}return"url(#"+S.id+")"}(G):G.toCSS(!0):"array"===z?G.join(","):"lookup"===z?F.toSVG[G]:G}}),O.length&&(R.style=O.join(";")),1===R.opacity&&delete R.opacity,x._visible||(R.visibility="hidden"),en.set(S,R,i)}(x,N,E)}function I(x){return x||(x={}),i=new ze(x.precision),x}Ze.inject({exportSVG:function(x){return P(A(this,x=I(x),!0),x)}}),tt.inject({exportSVG:function(x){x=I(x);var S=this._children,E=this.getView(),R=ne.pick(x.bounds,"view"),N=x.matrix||"view"===R&&E._matrix,O=N&&ot.read([N]),F="view"===R?new Ke([0,0],E.getViewSize()):"content"===R?Ze._getBounds(S,O,{stroke:!0}).rect:Ke.read([R],0,{readNull:!0}),B={version:"1.1",xmlns:en.svg,"xmlns:xlink":en.xlink};F&&(B.width=F.width,B.height=F.height,(F.x||0===F.x||F.y||0===F.y)&&(B.viewBox=i.rectangle(F)));var z=en.create("svg",B,i),G=z;O&&!O.isIdentity()&&(G=z.appendChild(en.create("g",s(O),i)));for(var j=0,H=S.length;j<H;j++)G.appendChild(A(S[j],x,!0));return P(z,x)}})},new function(){var s,i={};function o(S,E,R,N,O,F){var B=en.get(S,E)||F,z=null==B?N?null:R?"":0:R?B:parseFloat(B);return/%\s*$/.test(B)?z/100*(O?1:s[/x|^width/.test(E)?"width":"height"]):z}function l(S,E,R,N,O,F,B){return E=o(S,E||"x",!1,N,O,F),R=o(S,R||"y",!1,N,O,B),!N||null!=E&&null!=R?new ie(E,R):null}function h(S,E,R,N,O){return E=o(S,E||"width",!1,N,O),R=o(S,R||"height",!1,N,O),!N||null!=E&&null!=R?new Ee(E,R):null}function d(S,E,R){return"none"===S?null:"number"===E?parseFloat(S):"array"===E?S?S.split(/[\s,]+/g).map(parseFloat):[]:"color"===E?A(S)||S:"lookup"===E?R[S]:S}function p(S,E,R,N){var O=S.childNodes,F="clippath"===E,B="defs"===E,z=new An,G=z._project,j=G._currentStyle,H=[];if(!F&&!B&&(z=P(z,S,N),G._currentStyle=z._style.clone()),N)for(var $=S.querySelectorAll("defs"),K=0,Y=$.length;K<Y;K++)I($[K],R,!1);for(K=0,Y=O.length;K<Y;K++){var oe,J=O[K];1===J.nodeType&&!/^defs$/i.test(J.nodeName)&&(oe=I(J,R,!1))&&!(oe instanceof tn)&&H.push(oe)}return z.addChildren(H),F&&(z=P(z.reduce(),S,N)),G._currentStyle=j,(F||B)&&(z.remove(),z=null),z}function g(S,E){for(var R=S.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),N=[],O=0,F=R.length;O<F;O+=2)N.push(new ie(parseFloat(R[O]),parseFloat(R[O+1])));var B=new gt(N);return"polygon"===E&&B.closePath(),B}function v(S,E){var O,R=(o(S,"href",!0)||"").substring(1),N="radialgradient"===E;if(R)(O=i[R].getGradient())._radial^N&&((O=O.clone())._radial=N);else{for(var F=S.childNodes,B=[],z=0,G=F.length;z<G;z++){var j=F[z];1===j.nodeType&&B.push(P(new Mi,j))}O=new ji(B,N)}var H,$,K,Y="userSpaceOnUse"!==o(S,"gradientUnits",!0);return N?($=(H=l(S,"cx","cy",!1,Y,"50%","50%")).add(o(S,"r",!1,!1,Y,"50%"),0),K=l(S,"fx","fy",!0,Y)):(H=l(S,"x1","y1",!1,Y,"0%","0%"),$=l(S,"x2","y2",!1,Y,"100%","0%")),P(new Kt(O,H,$,K),S)._scaleToBounds=Y,null}var b={"#document":function(S,E,R,N){for(var O=S.childNodes,F=0,B=O.length;F<B;F++){var z=O[F];if(1===z.nodeType)return I(z,R,N)}},g:p,svg:p,clippath:p,polygon:g,polyline:g,path:function m(S){return it.create(S.getAttribute("d"))},lineargradient:v,radialgradient:v,image:function(S){var E=new Dn(o(S,"href",!0));return E.on("load",function(){var R=h(S);this.setSize(R);var N=l(S).add(R.divide(2));this._matrix.append((new ot).translate(N))}),E},symbol:function(S,E,R,N){return new tn(p(S,E,R,N),!0)},defs:p,use:function(S){var E=(o(S,"href",!0)||"").substring(1),R=i[E],N=l(S);return R?R instanceof tn?R.place(N):R.clone().translate(N):null},circle:function(S){return new fn.Circle(l(S,"cx","cy"),o(S,"r"))},ellipse:function(S){return new fn.Ellipse({center:l(S,"cx","cy"),radius:h(S,"rx","ry")})},rect:function(S){return new fn.Rectangle(new Ke(l(S),h(S)),h(S,"rx","ry"))},line:function(S){return new gt.Line(l(S,"x1","y1"),l(S,"x2","y2"))},text:function(S){var E=new Je(l(S).add(l(S,"dx","dy")));return E.setContent(S.textContent.trim()||""),E},switch:p};function w(S,E,R,N){if(S.transform){for(var O=(N.getAttribute(R)||"").split(/\)\s*/g),F=new ot,B=0,z=O.length;B<z;B++){var G=O[B];if(!G)break;for(var j=G.split(/\(\s*/),H=j[0],$=j[1].split(/[\s,]+/g),K=0,Y=$.length;K<Y;K++)$[K]=parseFloat($[K]);switch(H){case"matrix":F.append(new ot($[0],$[1],$[2],$[3],$[4],$[5]));break;case"rotate":F.rotate($[0],$[1]||0,$[2]||0);break;case"translate":F.translate($[0],$[1]||0);break;case"scale":F.scale($);break;case"skewX":F.skew($[0],0);break;case"skewY":F.skew(0,$[0])}}S.transform(F)}}function C(S,E,R){var N="fill-opacity"===R?"getFillColor":"getStrokeColor",O=S[N]&&S[N]();O&&O.setAlpha(parseFloat(E))}var D=ne.set(ne.each(Le,function(S){this[S.attribute]=function(E,R){if(E[S.set]&&(E[S.set](d(R,S.type,S.fromSVG)),"color"===S.type)){var N=E[S.get]();if(N&&N._scaleToBounds){var O=E.getBounds();N.transform((new ot).translate(O.getPoint()).scale(O.getSize()))}}}},{}),{id:function(S,E){i[E]=S,S.setName&&S.setName(E)},"clip-path":function(S,E){var R=A(E);if(R){if((R=R.clone()).setClipMask(!0),!(S instanceof An))return new An(R,S);S.insertChild(0,R)}},gradientTransform:w,transform:w,"fill-opacity":C,"stroke-opacity":C,visibility:function(S,E){S.setVisible&&S.setVisible("visible"===E)},display:function(S,E){S.setVisible&&S.setVisible(null!==E)},"stop-color":function(S,E){S.setColor&&S.setColor(E)},"stop-opacity":function(S,E){S._color&&S._color.setAlpha(parseFloat(E))},offset:function(S,E){if(S.setOffset){var R=E.match(/(.*)%$/);S.setOffset(R?R[1]/100:parseFloat(E))}},viewBox:function(S,E,R,N,O){var z,F=new Ke(d(E,"array")),B=h(N,null,null,!0);if(S instanceof An){var j=B?B.divide(F.getSize()):1,G=(new ot).scale(j).translate(F.getPoint().negate());z=S}else S instanceof tn&&(B&&F.setSize(B),z=S._item);if(z){if("visible"!==k(N,"overflow",O)){var H=new fn.Rectangle(F);H.setClipMask(!0),z.addChild(H)}G&&z.transform(G)}}});function k(S,E,R){var N=S.attributes[E],O=N&&N.value;if(!O&&S.style){var F=ne.camelize(E);!(O=S.style[F])&&R.node[F]!==R.parent[F]&&(O=R.node[F])}return O?"none"===O?null:O:De}function P(S,E,R){var N=E.parentNode,O={node:bt.getStyles(E)||{},parent:!R&&!/^defs$/i.test(N.tagName)&&bt.getStyles(N)||{}};return ne.each(D,function(F,B){var z=k(E,B,O);S=z!==De&&F(S,z,B,E,O)||S}),S}function A(S){var E=S&&S.match(/\((?:["'#]*)([^"')]+)/),R=E&&E[1],N=R&&i[Ct?R.replace(Ct.location.href.split("#")[0]+"#",""):R];return N&&N._scaleToBounds&&((N=N.clone())._scaleToBounds=!0),N}function I(S,E,R){var B,z,G,N=S.nodeName.toLowerCase(),O="#document"!==N,F=ee.body;R&&O&&(s=u.getView().getSize(),s=h(S,null,null,!0)||s,B=en.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),z=S.parentNode,G=S.nextSibling,B.appendChild(S),F.appendChild(B));var j=u.settings,H=j.applyMatrix,$=j.insertItems;j.applyMatrix=!1,j.insertItems=!1;var K=b[N],Y=K&&K(S,N,E,R)||null;if(j.insertItems=$,j.applyMatrix=H,Y){O&&!(Y instanceof An)&&(Y=P(Y,S,R));var J=E.onImport,oe=O&&S.getAttribute("data-paper-data");J&&(Y=J(S,Y,E)||Y),E.expandShapes&&Y instanceof fn&&(Y.remove(),Y=Y.toPath()),oe&&(Y._data=JSON.parse(oe))}return B&&(F.removeChild(B),z&&(G?z.insertBefore(S,G):z.appendChild(S))),R&&(i={},Y&&ne.pick(E.applyMatrix,H)&&Y.matrix.apply(!0,!0)),Y}function x(S,E,R){if(!S)return null;E="function"==typeof E?{onLoad:E}:E||{};var N=u,O=null;function F(j){try{var H="object"==typeof j?j:(new xe.DOMParser).parseFromString(j.trim(),"image/svg+xml");if(!H.nodeName)throw H=null,new Error("Unsupported SVG source: "+S);u=N,O=I(H,E,!0),(!E||!1!==E.insert)&&R._insertItem(De,O);var $=E.onLoad;$&&$(O,j)}catch(K){B(K)}}function B(j,H){var $=E.onError;if(!$)throw new Error(j);$(j,H)}if("string"!=typeof S||/^[\s\S]*</.test(S)){if(typeof File<"u"&&S instanceof File){var G=new FileReader;return G.onload=function(){F(G.result)},G.onerror=function(){B(G.error)},G.readAsText(S)}F(S)}else{var z=ee.getElementById(S);z?F(z):zt.request({url:S,async:!0,onLoad:F,onError:B})}return O}Ze.inject({importSVG:function(S,E){return x(S,E,this)}}),tt.inject({importSVG:function(S,E){return this.activate(),x(S,E,this)}})},ne.exports.PaperScript=function(){var o,l,A,i=this,s=i.acorn;if(!s)try{s=Bt(77)}catch{}function h(P,A){return(i.acorn||s).parse(P,A)}s||(s=o=l={},A=function(P){"use strict";var A,I,x,S;P.version="0.5.0",P.parse=function(te,se){return I=String(te),x=I.length,R(se),Es(),function Jn(te){J=oe=O,A.locations&&(he=new nr),ge=le=null,_e=[],Vr();var se=te||_n(),pe=!0;for(te||(se.body=[]);j!==Fe;){var we=mn();se.body.push(we),pe&&no(we)&&Pi(!0),pe=!1}return Tt(se,"Program")}(A.program)};var E=P.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function R(te){for(var se in A=te||{},E)Object.prototype.hasOwnProperty.call(A,se)||(A[se]=E[se]);S=A.sourceFile||null}var O,F,B,z,G,j,H,$,K,Y,J,oe,he,ge,_e,le,N=P.getLineInfo=function(te,se){for(var pe=1,we=0;;){Is.lastIndex=we;var ht=Is.exec(te);if(!(ht&&ht.index<se))break;++pe,we=ht.index+ht[0].length}return{line:pe,column:se-we}};function ce(te,se){var pe=N(I,te),we=new SyntaxError(se+=" ("+pe.line+":"+pe.column+")");throw we.pos=te,we.loc=pe,we.raisedAt=O,we}P.tokenize=function(te,se){I=String(te),x=I.length,R(se),Es();var pe={};function we(ht){return oe=B,Vr(ht),pe.start=F,pe.end=B,pe.startLoc=z,pe.endLoc=G,pe.type=j,pe.value=H,pe}return we.jumpTo=function(ht,He){if(O=ht,A.locations){K=1,Y=Is.lastIndex=0;for(var wt;(wt=Is.exec(I))&&wt.index<ht;)++K,Y=wt.index+wt[0].length}$=He,Br()},we};var ue=[],ve={type:"num"},Ce={type:"regexp"},Me={type:"string"},Pe={type:"name"},Fe={type:"eof"},Be={keyword:"break"},We={keyword:"case",beforeExpr:!0},Pt={keyword:"catch"},nt={keyword:"continue"},Dt={keyword:"debugger"},lt={keyword:"default"},rt={keyword:"do",isLoop:!0},Ye={keyword:"else",beforeExpr:!0},Rt={keyword:"finally"},Oe={keyword:"for",isLoop:!0},wn={keyword:"function"},Pn={keyword:"if"},ln={keyword:"return",beforeExpr:!0},Ue={keyword:"switch"},Yt={keyword:"throw",beforeExpr:!0},Cn={keyword:"try"},Gn={keyword:"var"},_={keyword:"while",isLoop:!0},T={keyword:"with"},U={keyword:"new",beforeExpr:!0},q={keyword:"this"},Q={keyword:"null",atomValue:null},de={keyword:"true",atomValue:!0},me={keyword:"false",atomValue:!1},Ae={keyword:"in",binop:7,beforeExpr:!0},Ve={break:Be,case:We,catch:Pt,continue:nt,debugger:Dt,default:lt,do:rt,else:Ye,finally:Rt,for:Oe,function:wn,if:Pn,return:ln,switch:Ue,throw:Yt,try:Cn,var:Gn,while:_,with:T,null:Q,true:de,false:me,new:U,in:Ae,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:q,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Qe={type:"[",beforeExpr:!0},It={type:"]"},pn={type:"{",beforeExpr:!0},oi={type:"}"},gn={type:"(",beforeExpr:!0},Wn={type:")"},pi={type:",",beforeExpr:!0},Xn={type:";",beforeExpr:!0},Si={type:":",beforeExpr:!0},Wa={type:"."},uu={type:"?",beforeExpr:!0},Za={binop:10,beforeExpr:!0},lu={isAssign:!0,beforeExpr:!0},Bn={isAssign:!0,beforeExpr:!0},Wt={postfix:!0,prefix:!0,isUpdate:!0},nc={prefix:!0,beforeExpr:!0},ic={binop:1,beforeExpr:!0},rc={binop:2,beforeExpr:!0},ft={binop:3,beforeExpr:!0},Ud={binop:4,beforeExpr:!0},yr={binop:5,beforeExpr:!0},Ys={binop:6,beforeExpr:!0},sc={binop:7,beforeExpr:!0},cu={binop:8,beforeExpr:!0},ac={binop:9,prefix:!0,beforeExpr:!0},oc={binop:10,beforeExpr:!0};for(var Ka in P.tokTypes={bracketL:Qe,bracketR:It,braceL:pn,braceR:oi,parenL:gn,parenR:Wn,comma:pi,semi:Xn,colon:Si,dot:Wa,question:uu,slash:Za,eq:lu,name:Pe,eof:Fe,num:ve,regexp:Ce,string:Me},Ve)P.tokTypes["_"+Ka]=Ve[Ka];function wr(te){te=te.split(" ");var se="",pe=[];e:for(var we=0;we<te.length;++we){for(var ht=0;ht<pe.length;++ht)if(pe[ht][0].length==te[we].length){pe[ht].push(te[we]);continue e}pe.push([te[we]])}function He(qt){if(1==qt.length)return se+="return str === "+JSON.stringify(qt[0])+";";se+="switch(str){";for(var xi=0;xi<qt.length;++xi)se+="case "+JSON.stringify(qt[xi])+":";se+="return true}return false;"}if(pe.length>3){for(pe.sort(function(qt,xi){return xi.length-qt.length}),se+="switch(str.length){",we=0;we<pe.length;++we){var wt=pe[we];se+="case "+wt[0].length+":",He(wt)}se+="}"}else He(te);return new Function("str",se)}var rr,Ya=wr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),hu=wr("class enum extends super const export import"),fu=wr("implements interface let package private protected public static yield"),st=wr("eval arguments"),Qa=wr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),uc=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,gi="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",lc=new RegExp("["+gi+"]"),on=new RegExp("["+gi+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),Xa=/[\n\r\u2028\u2029]/,Is=/\r\n|[\n\r\u2028\u2029]/g,Ja=P.isIdentifierStart=function(te){return te<65?36===te:te<91||(te<97?95===te:te<123||te>=170&&lc.test(String.fromCharCode(te)))},ns=P.isIdentifierChar=function(te){return te<48?36===te:te<58||!(te<65)&&(te<91||(te<97?95===te:te<123||te>=170&&on.test(String.fromCharCode(te))))};function nr(){this.line=K,this.column=O-Y}function Es(){K=1,O=Y=0,$=!0,Br()}function Vn(te,se){B=O,A.locations&&(G=new nr),j=te,Br(),H=se,$=te.beforeExpr}function cc(){var te=A.onComment&&A.locations&&new nr,se=O,pe=I.indexOf("*/",O+=2);if(-1===pe&&ce(O-2,"Unterminated comment"),O=pe+2,A.locations){Is.lastIndex=se;for(var we;(we=Is.exec(I))&&we.index<O;)++K,Y=we.index+we[0].length}A.onComment&&A.onComment(!0,I.slice(se+2,pe),se,O,te,A.locations&&new nr)}function eo(){for(var te=O,se=A.onComment&&A.locations&&new nr,pe=I.charCodeAt(O+=2);O<x&&10!==pe&&13!==pe&&8232!==pe&&8233!==pe;)++O,pe=I.charCodeAt(O);A.onComment&&A.onComment(!1,I.slice(te+2,O),te,O,se,A.locations&&new nr)}function Br(){for(;O<x;){var te=I.charCodeAt(O);if(32===te)++O;else if(13===te)++O,10===(se=I.charCodeAt(O))&&++O,A.locations&&(++K,Y=O);else if(10===te||8232===te||8233===te)++O,A.locations&&(++K,Y=O);else if(te>8&&te<14)++O;else if(47===te){var se;if(42===(se=I.charCodeAt(O+1)))cc();else{if(47!==se)break;eo()}}else if(160===te)++O;else{if(!(te>=5760&&uc.test(String.fromCharCode(te))))break;++O}}}function Vr(te){if(te?O=F+1:F=O,A.locations&&(z=new nr),te)return gu();if(O>=x)return Vn(Fe);var se=I.charCodeAt(O);if(Ja(se)||92===se)return Js();var pe=function Ms(te){switch(te){case 46:return function Ts(){var te=I.charCodeAt(O+1);return te>=48&&te<=57?Ai(!0):(++O,Vn(Wa))}();case 40:return++O,Vn(gn);case 41:return++O,Vn(Wn);case 59:return++O,Vn(Xn);case 44:return++O,Vn(pi);case 91:return++O,Vn(Qe);case 93:return++O,Vn(It);case 123:return++O,Vn(pn);case 125:return++O,Vn(oi);case 58:return++O,Vn(Si);case 63:return++O,Vn(uu);case 48:var se=I.charCodeAt(O+1);if(120===se||88===se)return function $i(){O+=2;var te=_i(16);return null==te&&ce(F+2,"Expected hexadecimal number"),Ja(I.charCodeAt(O))&&ce(O,"Identifier directly after number"),Vn(ve,te)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ai(!1);case 34:case 39:return function ir(te){O++;for(var se="";;){O>=x&&ce(F,"Unterminated string constant");var pe=I.charCodeAt(O);if(pe===te)return++O,Vn(Me,se);if(92===pe){pe=I.charCodeAt(++O);var we=/^[0-7]+/.exec(I.slice(O,O+3));for(we&&(we=we[0]);we&&parseInt(we,8)>255;)we=we.slice(0,-1);if("0"===we&&(we=null),++O,we)le&&ce(O-2,"Octal literal in strict mode"),se+=String.fromCharCode(parseInt(we,8)),O+=we.length-1;else switch(pe){case 110:se+="\n";break;case 114:se+="\r";break;case 120:se+=String.fromCharCode(Ut(2));break;case 117:se+=String.fromCharCode(Ut(4));break;case 85:se+=String.fromCharCode(Ut(8));break;case 116:se+="\t";break;case 98:se+="\b";break;case 118:se+="\v";break;case 102:se+="\f";break;case 48:se+="\0";break;case 13:10===I.charCodeAt(O)&&++O;case 10:A.locations&&(Y=O,++K);break;default:se+=String.fromCharCode(pe)}}else(13===pe||10===pe||8232===pe||8233===pe)&&ce(F,"Unterminated string constant"),se+=String.fromCharCode(pe),++O}}(te);case 47:return function is(){var te=I.charCodeAt(O+1);return $?(++O,gu()):61===te?zn(Bn,2):zn(Za,1)}();case 37:case 42:return function hc(){return 61===I.charCodeAt(O+1)?zn(Bn,2):zn(oc,1)}();case 124:case 38:return function ct(te){var se=I.charCodeAt(O+1);return se===te?zn(124===te?ic:rc,2):61===se?zn(Bn,2):zn(124===te?ft:yr,1)}(te);case 94:return function pu(){return 61===I.charCodeAt(O+1)?zn(Bn,2):zn(Ud,1)}();case 43:case 45:return function Lt(te){var se=I.charCodeAt(O+1);return se===te?45==se&&62==I.charCodeAt(O+2)&&Xa.test(I.slice(oe,O))?(O+=3,eo(),Br(),Vr()):zn(Wt,2):61===se?zn(Bn,2):zn(ac,1)}(te);case 60:case 62:return function Qs(te){var se=I.charCodeAt(O+1),pe=1;return se===te?(pe=62===te&&62===I.charCodeAt(O+2)?3:2,61===I.charCodeAt(O+pe)?zn(Bn,pe+1):zn(cu,pe)):33==se&&60==te&&45==I.charCodeAt(O+2)&&45==I.charCodeAt(O+3)?(O+=4,eo(),Br(),Vr()):(61===se&&(pe=61===I.charCodeAt(O+2)?3:2),zn(sc,pe))}(te);case 61:case 33:return function to(te){return 61===I.charCodeAt(O+1)?zn(Ys,61===I.charCodeAt(O+2)?3:2):zn(61===te?lu:nc,1)}(te);case 126:return zn(nc,1)}return!1}(se);if(!1===pe){var we=String.fromCharCode(se);if("\\"===we||lc.test(we))return Js();ce(O,"Unexpected character '"+we+"'")}return pe}function zn(te,se){var pe=I.slice(O,O+se);O+=se,Vn(te,pe)}function gu(){for(var te,se,pe=O;;){O>=x&&ce(pe,"Unterminated regular expression");var we=I.charAt(O);if(Xa.test(we)&&ce(pe,"Unterminated regular expression"),te)te=!1;else{if("["===we)se=!0;else if("]"===we&&se)se=!1;else if("/"===we&&!se)break;te="\\"===we}++O}var ht=I.slice(pe,O);++O;var He=Xs();He&&!/^[gmsiy]*$/.test(He)&&ce(pe,"Invalid regexp flag");try{var wt=new RegExp(ht,He)}catch(qt){qt instanceof SyntaxError&&ce(pe,qt.message),ce(qt)}return Vn(Ce,wt)}function _i(te,se){for(var pe=O,we=0,ht=0,He=se??1/0;ht<He;++ht){var qt,wt=I.charCodeAt(O);if((qt=wt>=97?wt-97+10:wt>=65?wt-65+10:wt>=48&&wt<=57?wt-48:1/0)>=te)break;++O,we=we*te+qt}return O===pe||null!=se&&O-pe!==se?null:we}function Ai(te){var se=O,pe=!1,we=48===I.charCodeAt(O);!te&&null===_i(10)&&ce(se,"Invalid number"),46===I.charCodeAt(O)&&(++O,_i(10),pe=!0);var ht=I.charCodeAt(O);(69===ht||101===ht)&&((43===(ht=I.charCodeAt(++O))||45===ht)&&++O,null===_i(10)&&ce(se,"Invalid number"),pe=!0),Ja(I.charCodeAt(O))&&ce(O,"Identifier directly after number");var wt,He=I.slice(se,O);return pe?wt=parseFloat(He):we&&1!==He.length?/[89]/.test(He)||le?ce(se,"Invalid number"):wt=parseInt(He,8):wt=parseInt(He,10),Vn(ve,wt)}function Ut(te){var se=_i(16,te);return null===se&&ce(F,"Bad character escape sequence"),se}function Xs(){rr=!1;for(var te,se=!0,pe=O;;){var we=I.charCodeAt(O);if(ns(we))rr&&(te+=I.charAt(O)),++O;else{if(92!==we)break;rr||(te=I.slice(pe,O)),rr=!0,117!=I.charCodeAt(++O)&&ce(O,"Expecting Unicode escape sequence \\uXXXX"),++O;var ht=Ut(4),He=String.fromCharCode(ht);He||ce(O-1,"Invalid Unicode escape"),(se?Ja(ht):ns(ht))||ce(O-4,"Invalid Unicode escape"),te+=He}se=!1}return rr?te:I.slice(pe,O)}function Js(){var te=Xs(),se=Pe;return!rr&&Qa(te)&&(se=Ve[te]),Vn(se,te)}function jt(){J=F,oe=B,he=G,Vr()}function Pi(te){if(le=te,O=F,A.locations)for(;O<Y;)Y=I.lastIndexOf("\n",Y-2)+1,--K;Br(),Vr()}function rs(){this.type=null,this.start=F,this.end=null}function _u(){this.start=z,this.end=null,null!==S&&(this.source=S)}function _n(){var te=new rs;return A.locations&&(te.loc=new _u),A.directSourceFile&&(te.sourceFile=A.directSourceFile),A.ranges&&(te.range=[F,0]),te}function Cr(te){var se=new rs;return se.start=te.start,A.locations&&(se.loc=new _u,se.loc.start=te.loc.start),A.ranges&&(se.range=[te.range[0],0]),se}function Tt(te,se){return te.type=se,te.end=oe,A.locations&&(te.loc.end=he),A.ranges&&(te.range[1]=oe),te}function no(te){return A.ecmaVersion>=5&&"ExpressionStatement"===te.type&&"Literal"===te.expression.type&&"use strict"===te.expression.value}function Qt(te){if(j===te)return jt(),!0}function ea(){return!A.strictSemicolons&&(j===Fe||j===oi||Xa.test(I.slice(oe,F)))}function br(){!Qt(Xn)&&!ea()&&bn()}function Ht(te){j===te?jt():bn()}function bn(){ce(F,"Unexpected token")}function $t(te){"Identifier"!==te.type&&"MemberExpression"!==te.type&&ce(te.start,"Assigning to rvalue"),le&&"Identifier"===te.type&&st(te.name)&&ce(te.start,"Assigning to "+te.name+" in strict mode")}var ei={kind:"loop"},ss={kind:"switch"};function mn(){(j===Za||j===Bn&&"/="==H)&&Vr(!0);var te=j,se=_n();switch(te){case Be:case nt:jt();var pe=te===Be;Qt(Xn)||ea()?se.label=null:j!==Pe?bn():(se.label=vn(),br());for(var we=0;we<_e.length;++we){var ht=_e[we];if((null==se.label||ht.name===se.label.name)&&(null!=ht.kind&&(pe||"loop"===ht.kind)||se.label&&pe))break}return we===_e.length&&ce(se.start,"Unsyntactic "+te.keyword),Tt(se,pe?"BreakStatement":"ContinueStatement");case Dt:return jt(),br(),Tt(se,"DebuggerStatement");case rt:return jt(),_e.push(ei),se.body=mn(),_e.pop(),Ht(_),se.test=as(),br(),Tt(se,"DoWhileStatement");case Oe:if(jt(),_e.push(ei),Ht(gn),j===Xn)return us(se,null);if(j===Gn){var He=_n();return jt(),qe(He,!0),Tt(He,"VariableDeclaration"),1===He.declarations.length&&Qt(Ae)?qi(se,He):us(se,He)}return He=et(!1,!0),Qt(Ae)?($t(He),qi(se,He)):us(se,He);case wn:return jt(),ta(se,!0);case Pn:return jt(),se.test=as(),se.consequent=mn(),se.alternate=Qt(Ye)?mn():null,Tt(se,"IfStatement");case ln:return!ge&&!A.allowReturnOutsideFunction&&ce(F,"'return' outside of function"),jt(),Qt(Xn)||ea()?se.argument=null:(se.argument=et(),br()),Tt(se,"ReturnStatement");case Ue:jt(),se.discriminant=as(),se.cases=[],Ht(pn),_e.push(ss);for(var wt,qt;j!=oi;)if(j===We||j===lt){var xi=j===We;wt&&Tt(wt,"SwitchCase"),se.cases.push(wt=_n()),wt.consequent=[],jt(),xi?wt.test=et():(qt&&ce(J,"Multiple default clauses"),qt=!0,wt.test=null),Ht(Si)}else wt||bn(),wt.consequent.push(mn());return wt&&Tt(wt,"SwitchCase"),jt(),_e.pop(),Tt(se,"SwitchStatement");case Yt:return jt(),Xa.test(I.slice(oe,F))&&ce(oe,"Illegal newline after throw"),se.argument=et(),br(),Tt(se,"ThrowStatement");case Cn:if(jt(),se.block=os(),se.handler=null,j===Pt){var Gi=_n();jt(),Ht(gn),Gi.param=vn(),le&&st(Gi.param.name)&&ce(Gi.param.start,"Binding "+Gi.param.name+" in strict mode"),Ht(Wn),Gi.guard=null,Gi.body=os(),se.handler=Tt(Gi,"CatchClause")}return se.guardedHandlers=ue,se.finalizer=Qt(Rt)?os():null,!se.handler&&!se.finalizer&&ce(se.start,"Missing catch or finally clause"),Tt(se,"TryStatement");case Gn:return jt(),qe(se),br(),Tt(se,"VariableDeclaration");case _:return jt(),se.test=as(),_e.push(ei),se.body=mn(),_e.pop(),Tt(se,"WhileStatement");case T:return le&&ce(F,"'with' in strict mode"),jt(),se.object=as(),se.body=mn(),Tt(se,"WithStatement");case pn:return os();case Xn:return jt(),Tt(se,"EmptyStatement");default:var hs=H,sr=et();if(te===Pe&&"Identifier"===sr.type&&Qt(Si)){for(we=0;we<_e.length;++we)_e[we].name===hs&&ce(sr.start,"Label '"+hs+"' is already declared");return _e.push({name:hs,kind:j.isLoop?"loop":j===Ue?"switch":null}),se.body=mn(),_e.pop(),se.label=sr,Tt(se,"LabeledStatement")}return se.expression=sr,br(),Tt(se,"ExpressionStatement")}}function as(){Ht(gn);var te=et();return Ht(Wn),te}function os(te){var ht,se=_n(),pe=!0,we=!1;for(se.body=[],Ht(pn);!Qt(oi);){var He=mn();se.body.push(He),pe&&te&&no(He)&&(ht=we,Pi(we=!0)),pe=!1}return we&&!ht&&Pi(!1),Tt(se,"BlockStatement")}function us(te,se){return te.init=se,Ht(Xn),te.test=j===Xn?null:et(),Ht(Xn),te.update=j===Wn?null:et(),Ht(Wn),te.body=mn(),_e.pop(),Tt(te,"ForStatement")}function qi(te,se){return te.left=se,te.right=et(),Ht(Wn),te.body=mn(),_e.pop(),Tt(te,"ForInStatement")}function qe(te,se){for(te.declarations=[],te.kind="var";;){var pe=_n();if(pe.id=vn(),le&&st(pe.id.name)&&ce(pe.id.start,"Binding "+pe.id.name+" in strict mode"),pe.init=Qt(lu)?et(!0,se):null,te.declarations.push(Tt(pe,"VariableDeclarator")),!Qt(pi))break}return te}function et(te,se){var pe=cn(se);if(!te&&j===pi){var we=Cr(pe);for(we.expressions=[pe];Qt(pi);)we.expressions.push(cn(se));return Tt(we,"SequenceExpression")}return pe}function cn(te){var se=function ki(te){var se=function zr(te){return Un(Sr(),-1,te)}(te);if(Qt(uu)){var pe=Cr(se);return pe.test=se,pe.consequent=et(!0),Ht(Si),pe.alternate=et(!0,te),Tt(pe,"ConditionalExpression")}return se}(te);if(j.isAssign){var pe=Cr(se);return pe.operator=H,pe.left=se,jt(),pe.right=cn(te),$t(se),Tt(pe,"AssignmentExpression")}return se}function Un(te,se,pe){var we=j.binop;if(null!=we&&(!pe||j!==Ae)&&we>se){var ht=Cr(te);ht.left=te,ht.operator=H;var He=j;return jt(),ht.right=Un(Sr(),we,pe),Un(Tt(ht,He===ic||He===rc?"LogicalExpression":"BinaryExpression"),se,pe)}return te}function Sr(){if(j.prefix){var te=_n(),se=j.isUpdate;return te.operator=H,te.prefix=!0,$=!0,jt(),te.argument=Sr(),se?$t(te.argument):le&&"delete"===te.operator&&"Identifier"===te.argument.type&&ce(te.start,"Deleting local variable in strict mode"),Tt(te,se?"UpdateExpression":"UnaryExpression")}for(var pe=function En(){return xr(ls())}();j.postfix&&!ea();)(te=Cr(pe)).operator=H,te.prefix=!1,te.argument=pe,$t(pe),jt(),pe=Tt(te,"UpdateExpression");return pe}function xr(te,se){var pe;return Qt(Wa)?((pe=Cr(te)).object=te,pe.property=vn(!0),pe.computed=!1,xr(Tt(pe,"MemberExpression"),se)):Qt(Qe)?((pe=Cr(te)).object=te,pe.property=et(),pe.computed=!0,Ht(It),xr(Tt(pe,"MemberExpression"),se)):!se&&Qt(gn)?((pe=Cr(te)).callee=te,pe.arguments=Dr(Wn,!1),xr(Tt(pe,"CallExpression"),se)):te}function ls(){switch(j){case q:var we=_n();return jt(),Tt(we,"ThisExpression");case Pe:return vn();case ve:case Me:case Ce:return(we=_n()).value=H,we.raw=I.slice(F,B),jt(),Tt(we,"Literal");case Q:case de:case me:return(we=_n()).value=j.atomValue,we.raw=j.keyword,jt(),Tt(we,"Literal");case gn:var te=z,se=F;jt();var pe=et();return pe.start=se,pe.end=B,A.locations&&(pe.loc.start=te,pe.loc.end=G),A.ranges&&(pe.range=[se,B]),Ht(Wn),pe;case Qe:return we=_n(),jt(),we.elements=Dr(It,!0,!0),Tt(we,"ArrayExpression");case pn:return function io(){var te=_n(),se=!0,pe=!1;for(te.properties=[],jt();!Qt(oi);){if(se)se=!1;else if(Ht(pi),A.allowTrailingCommas&&Qt(oi))break;var He,we={key:cs()},ht=!1;if(Qt(Si)?(we.value=et(!0),He=we.kind="init"):A.ecmaVersion>=5&&"Identifier"===we.key.type&&("get"===we.key.name||"set"===we.key.name)?(ht=pe=!0,He=we.kind=we.key.name,we.key=cs(),j!==gn&&bn(),we.value=ta(_n(),!1)):bn(),"Identifier"===we.key.type&&(le||pe))for(var wt=0;wt<te.properties.length;++wt){var qt=te.properties[wt];if(qt.key.name===we.key.name){var xi=He==qt.kind||ht&&"init"===qt.kind||"init"===He&&("get"===qt.kind||"set"===qt.kind);xi&&!le&&"init"===He&&"init"===qt.kind&&(xi=!1),xi&&ce(we.key.start,"Redefinition of property")}}te.properties.push(we)}return Tt(te,"ObjectExpression")}();case wn:return we=_n(),jt(),ta(we,!1);case U:return function Mt(){var te=_n();return jt(),te.callee=xr(ls(),!0),te.arguments=Qt(gn)?Dr(Wn,!1):ue,Tt(te,"NewExpression")}();default:bn()}}function cs(){return j===ve||j===Me?ls():vn(!0)}function ta(te,se){j===Pe?te.id=vn():se?bn():te.id=null,te.params=[];var pe=!0;for(Ht(gn);!Qt(Wn);)pe?pe=!1:Ht(pi),te.params.push(vn());var we=ge,ht=_e;if(ge=!0,_e=[],te.body=os(!0),ge=we,_e=ht,le||te.body.body.length&&no(te.body.body[0]))for(var He=te.id?-1:0;He<te.params.length;++He){var wt=He<0?te.id:te.params[He];if((fu(wt.name)||st(wt.name))&&ce(wt.start,"Defining '"+wt.name+"' in strict mode"),He>=0)for(var qt=0;qt<He;++qt)wt.name===te.params[qt].name&&ce(wt.start,"Argument name clash in strict mode")}return Tt(te,se?"FunctionDeclaration":"FunctionExpression")}function Dr(te,se,pe){for(var we=[],ht=!0;!Qt(te);){if(ht)ht=!1;else if(Ht(pi),se&&A.allowTrailingCommas&&Qt(te))break;we.push(pe&&j===pi?null:et(!0))}return we}function vn(te){var se=_n();return te&&"everywhere"==A.forbidReserved&&(te=!1),j===Pe?(!te&&(A.forbidReserved&&(3===A.ecmaVersion?Ya:hu)(H)||le&&fu(H))&&-1==I.slice(F,B).indexOf("\\")&&ce(F,"The keyword '"+H+"' is reserved"),se.name=H):te&&j.keyword?se.name=j.keyword:bn(),$=!1,jt(),Tt(se,"Identifier")}},"object"==typeof o&&"object"==typeof l?A(o):(Nt=[o],(bi="function"==typeof(Fn=A)?Fn.apply(o,Nt):Fn)!==De&&(l.exports=bi)),s.version||(s=null));var d={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},p={"-":"__negate","+":"__self"},g=ne.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(P){this["__"+P]="#"+P},{__self:function(){return this}});function m(P,A,I){var x=d[A];if(P&&P[x]){var S=P[x](I);return"!="===A?!S:S}switch(A){case"+":return P+I;case"-":return P-I;case"*":return P*I;case"/":return P/I;case"%":return P%I;case"==":return P==I;case"!=":return P!=I}}function v(P,A){var I=p[P];if(A&&A[I])return A[I]();switch(P){case"+":return+A;case"-":return-A}}function b(P,A){if(!P)return"";var I=[];function x(le){for(var ce=0,ue=I.length;ce<ue;ce++){var ve=I[ce];if(ve[0]>=le)break;le+=ve[1]}return le}function S(le){return P.substring(x(le.range[0]),x(le.range[1]))}function R(le,ce){for(var ue=x(le.range[0]),ve=x(le.range[1]),Ce=0,Me=I.length-1;Me>=0;Me--)if(ue>I[Me][0]){Ce=Me+1;break}I.splice(Ce,0,[ue,ce.length-ve+ue]),P=P.substring(0,ue)+ce+P.substring(ve)}var he,z=(A=A||{}).url||"",G=A.sourceMaps,j=A.paperFeatures||{},H=A.source||P,$=A.offset||0,K=u.agent,Y=K.versionNumber,J=!1,oe=/\r\n|\n|\r/gm;if(G&&(K.chrome&&Y>=30||K.webkit&&Y>=537.76||K.firefox&&Y>=23||K.node)){if(K.node)$-=2;else if(Ct&&z&&!Ct.location.href.indexOf(z)){var ge=ee.getElementsByTagName("html")[0].innerHTML;$=ge.substr(0,ge.indexOf(P)+1).match(oe).length+1}var _e=["AA"+function B(le){var ce="";for(le=(Math.abs(le)<<1)+(le<0?1:0);le||!ce;){var ve=31&le;(le>>=5)&&(ve|=32),ce+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ve]}return ce}((J=$>0&&!(K.chrome&&Y>=36||K.safari&&Y>=600||K.firefox&&Y>=40||K.node))?0:$)+"A"];_e.length=(P.match(oe)||[]).length+1+(J?$:0),he={version:3,file:z,names:[],mappings:_e.join(";AACA"),sourceRoot:"",sources:[z],sourcesContent:[H]}}return(!1!==j.operatorOverloading||!1!==j.moduleExports)&&function F(le,ce,ue){if(le){for(var ve in le)if("range"!==ve&&"loc"!==ve){var Ce=le[ve];if(Array.isArray(Ce))for(var Me=0,Pe=Ce.length;Me<Pe;Me++)F(Ce[Me],le,ue);else Ce&&"object"==typeof Ce&&F(Ce,le,ue)}!1!==ue.operatorOverloading&&function N(le,ce){switch(le.type){case"UnaryExpression":if(le.operator in p&&"Literal"!==le.argument.type){var ue=S(le.argument);R(le,'$__("'+le.operator+'", '+ue+")")}break;case"BinaryExpression":if(le.operator in d&&"Literal"!==le.left.type){var ve=S(le.left),Ce=S(le.right),Me=function E(le,ce){return P.substring(x(le.range[1]),x(ce.range[0]))}(le.left,le.right),Pe=le.operator;R(le,"__$__("+ve+","+Me.replace(new RegExp("\\"+Pe),'"'+Pe+'"')+", "+Ce+")")}break;case"UpdateExpression":case"AssignmentExpression":var Fe=ce&&ce.type;if(!("ForStatement"===Fe||"BinaryExpression"===Fe&&/^[=!<>]/.test(ce.operator)||"MemberExpression"===Fe&&ce.computed))if("UpdateExpression"===le.type){var We=(ue=S(le.argument))+" = "+(Be="__$__("+ue+', "'+le.operator[0]+'", 1)');le.prefix?We="("+We+")":("AssignmentExpression"===Fe||"VariableDeclarator"===Fe||"BinaryExpression"===Fe)&&(S(ce.left||ce.id)===ue&&(We=Be),We=ue+"; "+We),R(le,We)}else if(/^.=$/.test(le.operator)&&"Literal"!==le.left.type){ve=S(le.left),Ce=S(le.right);var Be=ve+" = __$__("+ve+', "'+le.operator[0]+'", '+Ce+")";R(le,/^\(.*\)$/.test(S(le))?"("+Be+")":Be)}}}(le,ce),!1!==ue.moduleExports&&function O(le){switch(le.type){case"ExportDefaultDeclaration":R({range:[le.start,le.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ce=le.declaration,ue=le.specifiers;if(ce){var ve=ce.declarations;ve&&(ve.forEach(function(Me){R(Me,"module.exports."+S(Me))}),R({range:[le.start,ce.start+ce.kind.length]},""))}else if(ue){var Ce=ue.map(function(Me){var Pe=S(Me);return"module.exports."+Pe+" = "+Pe+"; "}).join("");Ce&&R(le,Ce)}}}(le)}}(h(P,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,j),he&&(J&&(P=new Array($+1).join("\n")+P),/^(inline|both)$/.test(G)&&(P+="\n//# sourceMappingURL=data:application/json;base64,"+xe.btoa(unescape(encodeURIComponent(JSON.stringify(he))))),P+="\n//# sourceURL="+(z||"paperscript")),{url:z,source:H,code:P,map:he}}function w(P,A,I){u=A;var F,x=A.getView(),S=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(P)&&!/\bnew\s+Tool\b/.test(P)?new Fr:null,E=S?S._events:[],R=["onFrame","onResize"].concat(E),N=[],O=[],B="object"==typeof P?P:b(P,I);function z(Y,J){for(var oe in Y)(J||!/^_/.test(oe))&&new RegExp("([\\b\\s\\W]|^)"+oe.replace(/\$/g,"\\$")+"\\b").test(P)&&(N.push(oe),O.push(Y[oe]))}P=B.code,z({__$__:m,$__:v,paper:A,tool:S},!0),z(A),P="var module = { exports: {} }; "+P,($=ne.each(R,function(Y){new RegExp("\\s+"+Y+"\\b").test(P)&&(N.push(Y),this.push("module.exports."+Y+" = "+Y+";"))},[]).join("\n"))&&(P+="\n"+$),P+="\nreturn module.exports;";var G=u.agent;if(ee&&(G.chrome||G.firefox&&G.versionNumber<40)){var j=ee.createElement("script"),H=ee.head||ee.getElementsByTagName("head")[0];G.firefox&&(P="\n"+P),j.appendChild(ee.createTextNode("document.__paperscript__ = function("+N+") {"+P+"\n}")),H.appendChild(j),F=ee.__paperscript__,delete ee.__paperscript__,H.removeChild(j)}else F=Function(N,P);var $,K=($=F&&F.apply(A,O))||{};return ne.each(E,function(Y){var J=K[Y];J&&(S[Y]=J)}),x&&(K.onResize&&x.setOnResize(K.onResize),x.emit("resize",{size:x.size,delta:new ie}),K.onFrame&&x.setOnFrame(K.onFrame),x.requestUpdate()),$}function C(P){if(/^text\/(?:x-|)paperscript$/.test(P.type)&&"true"!==yn.getAttribute(P,"ignore")){var A=yn.getAttribute(P,"canvas"),I=ee.getElementById(A),x=P.src||P.getAttribute("data-src"),S=yn.hasAttribute(P,"async"),E="data-paper-scope";if(!I)throw new Error('Unable to find canvas with id "'+A+'"');var R=yn.get(I.getAttribute(E))||(new yn).setup(I);return I.setAttribute(E,R._id),x?zt.request({url:x,async:S,mimeType:"text/plain",onLoad:function(N){w(N,R,x)}}):w(P.innerHTML,R,P.baseURI),P.setAttribute("data-paper-ignore","true"),R}}function D(){ne.each(ee&&ee.getElementsByTagName("script"),C)}return ie.inject(g),Ee.inject(g),Kt.inject(g),Ct&&("complete"===ee.readyState?setTimeout(D):yt.add(Ct,{load:D})),{compile:b,execute:w,load:function k(P){return P?C(P):D()},parse:h,calculateBinary:m,calculateUnary:v}}.call(this);var u=new(yn.inject(ne.exports,{Base:ne,Numerical:ut,Key:di,DomEvent:yt,DomElement:bt,document:ee,window:Ct,Symbol:tn,PlacedSymbol:ni}));return u.agent.node&&Bt(858)(u),(bi="function"==typeof(Fn=u)?Fn.call(vr,Bt,vr,Ui):Fn)!==De&&(Ui.exports=bi),u}).call(this,"object"==typeof self?self:null)},858:()=>{},158:()=>{}},Ui=>{Ui(Ui.s=382)}]);