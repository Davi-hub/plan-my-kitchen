(self.webpackChunkplan_my_kitchen=self.webpackChunkplan_my_kitchen||[]).push([[179],{813:($i,vr,Bt)=>{"use strict";function Nt(e){return"function"==typeof e}function Bn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Di=Bn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,u)=>`${u+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ri(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class xe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const c of n)c.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Nt(r))try{r()}catch(c){t=c instanceof Di?c.errors:[c]}const{_finalizers:u}=this;if(u){this._finalizers=null;for(const c of u)try{ee(c)}catch(f){t=t??[],f instanceof Di?t=[...t,...f.errors]:t.push(f)}}if(t)throw new Di(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ee(t);else{if(t instanceof xe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ri(n,t)}remove(t){const{_finalizers:n}=this;n&&ri(n,t),t instanceof xe&&t._removeParent(this)}}xe.EMPTY=(()=>{const e=new xe;return e.closed=!0,e})();const De=xe.EMPTY;function Ct(e){return e instanceof xe||e&&"closed"in e&&Nt(e.remove)&&Nt(e.add)&&Nt(e.unsubscribe)}function ee(e){Nt(e)?e():e.unsubscribe()}const ne={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gn={setTimeout(e,t,...n){const{delegate:r}=Gn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Gn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function yn(e){Gn.setTimeout(()=>{const{onUnhandledError:t}=ne;if(!t)throw e;t(e)})}function Sn(){}const sn=ae("C",void 0,void 0);function ae(e,t,n){return{kind:e,value:t,error:n}}let ie=null;function je(e){if(ne.useDeprecatedSynchronousErrorHandling){const t=!ie;if(t&&(ie={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ie;if(ie=null,n)throw r}}else e()}class W extends xe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ct(t)&&t.add(this)):this.destination=xn}static create(t,n,r){return new Xt(t,n,r)}next(t){this.isStopped?Mn(function ot(e){return ae("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Mn(function ze(e){return ae("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Mn(sn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Vt(e,t){return Ke.call(e,t)}class st{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){tt(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){tt(r)}else tt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){tt(n)}}}class Xt extends W{constructor(t,n,r){let u;if(super(),Nt(t)||!t)u={next:t??void 0,error:n??void 0,complete:r??void 0};else{let c;this&&ne.useDeprecatedNextContext?(c=Object.create(t),c.unsubscribe=()=>this.unsubscribe(),u={next:t.next&&Vt(t.next,c),error:t.error&&Vt(t.error,c),complete:t.complete&&Vt(t.complete,c)}):u=t}this.destination=new st(u)}}function tt(e){ne.useDeprecatedSynchronousErrorHandling?function Ee(e){ne.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=e)}(e):yn(e)}function Mn(e,t){const{onStoppedNotification:n}=ne;n&&Gn.setTimeout(()=>n(e,t))}const xn={closed:!0,next:Sn,error:function Ze(e){throw e},complete:Sn},fn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dn(e){return e}function tn(e){return 0===e.length?Dn:1===e.length?e[0]:function(n){return e.reduce((r,u)=>u(r),n)}}let Ne=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,u){const c=function Te(e){return e&&e instanceof W||function Re(e){return e&&Nt(e.next)&&Nt(e.error)&&Nt(e.complete)}(e)&&Ct(e)}(n)?n:new Xt(n,r,u);return je(()=>{const{operator:f,source:y}=this;c.add(f?f.call(c,y):y?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Xe(r))((u,c)=>{const f=new Xt({next:y=>{try{n(y)}catch(A){c(A),f.unsubscribe()}},error:c,complete:u});this.subscribe(f)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fn](){return this}pipe(...n){return tn(n)(this)}toPromise(n){return new(n=Xe(n))((r,u)=>{let c;this.subscribe(f=>c=f,f=>u(f),()=>r(c))})}}return e.create=t=>new e(t),e})();function Xe(e){var t;return null!==(t=e??ne.Promise)&&void 0!==t?t:Promise}const In=Bn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let at=(()=>{class e extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new gt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new In}next(n){je(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){je(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){je(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:u,observers:c}=this;return r||u?De:(this.currentObservers=null,c.push(n),new xe(()=>{this.currentObservers=null,ri(c,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:u,isStopped:c}=this;r?n.error(u):c&&n.complete()}asObservable(){const n=new Ne;return n.source=this,n}}return e.create=(t,n)=>new gt(t,n),e})();class gt extends at{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:De}}function Jn(e){return Nt(e?.lift)}function dn(e){return t=>{if(Jn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zt(e,t,n,r,u){return new gi(e,t,n,r,u)}class gi extends W{constructor(t,n,r,u,c,f){super(t),this.onFinalize=c,this.shouldUnsubscribe=f,this._next=n?function(y){try{n(y)}catch(A){t.error(A)}}:super._next,this._error=u?function(y){try{u(y)}catch(A){t.error(A)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Je(e,t){return dn((n,r)=>{let u=0;n.subscribe(Zt(r,c=>{r.next(e.call(t,c,u++))}))})}function o(e){return this instanceof o?(this.v=e,this):new o(e)}function a(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function zt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(c){n[c]=e[c]&&function(f){return new Promise(function(y,A){!function u(c,f,y,A){Promise.resolve(A).then(function(L){c({value:L,done:y})},f)}(y,A,(f=e[c](f)).done,f.value)})}}}const b=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function w(e){return Nt(e?.then)}function C(e){return Nt(e[fn])}function D(e){return Symbol.asyncIterator&&Nt(e?.[Symbol.asyncIterator])}function R(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const M=function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I(e){return Nt(e?.[M])}function x(e){return function i(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,r=n.apply(e,t||[]),c=[];return u={},f("next"),f("throw"),f("return"),u[Symbol.asyncIterator]=function(){return this},u;function f(X){r[X]&&(u[X]=function(re){return new Promise(function(fe,ye){c.push([X,re,fe,ye])>1||y(X,re)})})}function y(X,re){try{!function A(X){X.value instanceof o?Promise.resolve(X.value.v).then(L,V):Z(c[0][2],X)}(r[X](re))}catch(fe){Z(c[0][3],fe)}}function L(X){y("next",X)}function V(X){y("throw",X)}function Z(X,re){X(re),c.shift(),c.length&&y(c[0][0],c[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:u}=yield o(n.read());if(u)return yield o(void 0);yield yield o(r)}}finally{n.releaseLock()}})}function S(e){return Nt(e?.getReader)}function E(e){if(e instanceof Ne)return e;if(null!=e){if(C(e))return function k(e){return new Ne(t=>{const n=e[fn]();if(Nt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(b(e))return function N(e){return new Ne(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(w(e))return function O(e){return new Ne(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,yn)})}(e);if(D(e))return B(e);if(I(e))return function F(e){return new Ne(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(S(e))return function z(e){return B(x(e))}(e)}throw R(e)}function B(e){return new Ne(t=>{(function G(e,t){var n,r,u,c;return function es(e,t,n,r){return new(n||(n=Promise))(function(c,f){function y(V){try{L(r.next(V))}catch(Z){f(Z)}}function A(V){try{L(r.throw(V))}catch(Z){f(Z)}}function L(V){V.done?c(V.value):function u(c){return c instanceof n?c:new n(function(f){f(c)})}(V.value).then(y,A)}L((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=a(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(f){u={error:f}}finally{try{r&&!r.done&&(c=n.return)&&(yield c.call(n))}finally{if(u)throw u.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function j(e,t,n,r=0,u=!1){const c=t.schedule(function(){n(),u?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(c),!u)return c}function $(e,t,n=1/0){return Nt(t)?$((r,u)=>Je((c,f)=>t(r,c,u,f))(E(e(r,u))),n):("number"==typeof t&&(n=t),dn((r,u)=>function H(e,t,n,r,u,c,f,y){const A=[];let L=0,V=0,Z=!1;const X=()=>{Z&&!A.length&&!L&&t.complete()},re=ye=>L<r?fe(ye):A.push(ye),fe=ye=>{c&&t.next(ye),L++;let be=!1;E(n(ye,V++)).subscribe(Zt(t,ke=>{u?.(ke),c?re(ke):t.next(ke)},()=>{be=!0},void 0,()=>{if(be)try{for(L--;A.length&&L<r;){const ke=A.shift();f?j(t,f,()=>fe(ke)):fe(ke)}X()}catch(ke){t.error(ke)}}))};return e.subscribe(Zt(t,re,()=>{Z=!0,X()})),()=>{y?.()}}(r,u,e,n)))}function K(e=1/0){return $(Dn,e)}const Y=new Ne(e=>e.complete());function ge(e){return e[e.length-1]}function le(e){return function he(e){return e&&Nt(e.schedule)}(ge(e))?e.pop():void 0}function ue(e,t=0){return dn((n,r)=>{n.subscribe(Zt(r,u=>j(r,e,()=>r.next(u),t),()=>j(r,e,()=>r.complete(),t),u=>j(r,e,()=>r.error(u),t)))})}function ve(e,t=0){return dn((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Be(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ne(n=>{j(n,t,()=>{const r=e[Symbol.asyncIterator]();j(n,t,()=>{r.next().then(u=>{u.done?n.complete():n.next(u.value)})},0,!0)})})}function nt(e,t){return t?function Pt(e,t){if(null!=e){if(C(e))return function Ce(e,t){return E(e).pipe(ve(t),ue(t))}(e,t);if(b(e))return function Pe(e,t){return new Ne(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(w(e))return function Ae(e,t){return E(e).pipe(ve(t),ue(t))}(e,t);if(D(e))return Be(e,t);if(I(e))return function Fe(e,t){return new Ne(n=>{let r;return j(n,t,()=>{r=e[M](),j(n,t,()=>{let u,c;try{({value:u,done:c}=r.next())}catch(f){return void n.error(f)}c?n.complete():n.next(u)},0,!0)}),()=>Nt(r?.return)&&r.return()})}(e,t);if(S(e))return function We(e,t){return Be(x(e),t)}(e,t)}throw R(e)}(e,t):E(e)}function it(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Xt({next:()=>{r.unsubscribe(),e()}});return E(t(...n)).subscribe(r)}function Ye(e){for(let t in e)if(e[t]===Ye)return t;throw Error("Could not find renamed property on target object.")}function Oe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Oe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function wn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Pn=Ye({__forward_ref__:Ye});function ln(e){return e.__forward_ref__=ln,e.toString=function(){return Oe(this())},e}function Ue(e){return Yt(e)?e():e}function Yt(e){return"function"==typeof e&&e.hasOwnProperty(Pn)&&e.__forward_ref__===ln}function Cn(e){return e&&!!e.\u0275providers}class T extends Error{constructor(t,n){super(U(t,n)),this.code=t}}function U(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function q(e){return"string"==typeof e?e:null==e?"":String(e)}function Ve(e,t){throw new T(-201,!1)}function Vn(e,t){null==e&&function Wt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ht(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Gs(e){return cu(e,wr)||cu(e,hu)}function cu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ga(e){return e&&(e.hasOwnProperty(Wa)||e.hasOwnProperty(fu))?e[Wa]:null}const wr=Ye({\u0275prov:Ye}),Wa=Ye({\u0275inj:Ye}),hu=Ye({ngInjectableDef:Ye}),fu=Ye({ngInjectorDef:Ye});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Za;function vi(e){const t=Za;return Za=e,t}function du(e,t,n){const r=Gs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&rt.Optional?null:void 0!==t?t:void Ve(Oe(e))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ts={},rr="__NG_DI_FLAG__",xs="ngTempTokenPath",zn="ngTokenPath",uc=/\n/gm,Qa="\u0275",Fr="__source";let Ds;function ns(e){const t=Ds;return Ds=e,t}function lc(e,t=rt.Default){if(void 0===Ds)throw new T(-203,!1);return null===Ds?du(e,void 0,t):Ds.get(e,t&rt.Optional?null:void 0,t)}function lt(e,t=rt.Default){return(function ac(){return Za}()||lc)(Ue(e),t)}function Lt(e,t=rt.Default){return lt(e,Ws(t))}function Ws(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Xa(e){const t=[];for(let n=0;n<e.length;n++){const r=Ue(e[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let u,c=rt.Default;for(let f=0;f<r.length;f++){const y=r[f],A=Br(y);"number"==typeof A?-1===A?u=y.token:c|=A:u=y}t.push(lt(u,c))}else t.push(lt(r))}return t}function Is(e,t){return e[rr]=t,e.prototype[rr]=t,e}function Br(e){return e[rr]}function yi(e){return{toString:e}.toString()}var Wi=(()=>((Wi=Wi||{})[Wi.OnPush=0]="OnPush",Wi[Wi.Default=1]="Default",Wi))(),Oi=(()=>{return(e=Oi||(Oi={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Oi;var e})();const sr={},Ut=[],ar=Ye({\u0275cmp:Ye}),Zs=Ye({\u0275dir:Ye}),Ks=Ye({\u0275pipe:Ye}),jt=Ye({\u0275mod:Ye}),Ni=Ye({\u0275fac:Ye}),is=Ye({__NG_ELEMENT_ID__:Ye});let _u=0;function _n(e){return yi(()=>{const t=ss(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||Oi.Emulated,id:"c"+_u++,styles:e.styles||Ut,_:null,schemas:e.schemas||null,tView:null};as(n);const r=e.dependencies;return n.directiveDefs=os(r,!1),n.pipeDefs=os(r,!0),n})}function Tt(e){return $t(e)||ti(e)}function Ja(e){return null!==e}function Qt(e){return yi(()=>({type:e.type,bootstrap:e.bootstrap||Ut,declarations:e.declarations||Ut,imports:e.imports||Ut,exports:e.exports||Ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function br(e,t){if(null==e)return sr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let u=e[r],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),n[u]=r,t&&(t[u]=c)}return n}function Ht(e){return yi(()=>{const t=ss(e);return as(t),t})}function $t(e){return e[ar]||null}function ti(e){return e[Zs]||null}function ni(e){return e[Ks]||null}function mn(e,t){const n=e[jt]||null;if(!n&&!0===t)throw new Error(`Type ${Oe(e)} does not have '\u0275mod' property.`);return n}function ss(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ut,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:br(e.inputs,t),outputs:br(e.outputs)}}function as(e){e.features?.forEach(t=>t(e))}function os(e,t){if(!e)return null;const n=t?ni:Tt;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Ja)}const Zi=0,qe=1,et=2,cn=3,Li=4,Vr=5,jn=6,Sr=7,En=8,xr=9,us=10,At=11,eo=12,ls=13,Qs=14,Dr=15,vn=16,te=17,se=18,pe=19,we=20,ct=21,He=22,qt=1,Ei=2,Ki=7,cs=8,or=9,ai=10;function Fi(e){return Array.isArray(e)&&"object"==typeof e[qt]}function ur(e){return Array.isArray(e)&&!0===e[qt]}function cc(e){return 0!=(4&e.flags)}function to(e){return e.componentOffset>-1}function mu(e){return 1==(1&e.flags)}function lr(e){return!!e.template}function yw(e){return 0!=(256&e[et])}function Es(e,t){return e.hasOwnProperty(Ni)?e[Ni]:null}class bw{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ts(){return Bd}function Bd(e){return e.type.prototype.ngOnChanges&&(e.setInput=xw),Sw}function Sw(){const e=zd(this),t=e?.current;if(t){const n=e.previous;if(n===sr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function xw(e,t,n,r){const u=this.declaredInputs[n],c=zd(e)||function Dw(e,t){return e[Vd]=t}(e,{previous:sr,current:null}),f=c.current||(c.current={}),y=c.previous,A=y[u];f[u]=new bw(A&&A.currentValue,t,y===sr),e[r]=t}Ts.ngInherit=!0;const Vd="__ngSimpleChanges__";function zd(e){return e[Vd]||null}const Yi=function(e,t,n){},Ud="svg";function oi(e){for(;Array.isArray(e);)e=e[Zi];return e}function Bi(e,t){return oi(t[e.index])}function Hd(e,t){return e.data[t]}function Vi(e,t){const n=t[e];return Fi(n)?n:n[Zi]}function yu(e){return 64==(64&e[et])}function hs(e,t){return null==t?null:e[t]}function $d(e){e[se]=0}function fc(e,t){e[Vr]+=t;let n=e,r=e[cn];for(;null!==r&&(1===t&&1===n[Vr]||-1===t&&0===n[Vr]);)r[Vr]+=t,n=r,r=r[cn]}const St={lFrame:ep(null),bindingsEnabled:!0};function Gd(){return St.bindingsEnabled}function Ie(){return St.lFrame.lView}function Gt(){return St.lFrame.tView}function no(e){return St.lFrame.contextLView=e,e[En]}function io(e){return St.lFrame.contextLView=null,e}function ui(){let e=Wd();for(;null!==e&&64===e.type;)e=e.parent;return e}function Wd(){return St.lFrame.currentTNode}function Ir(e,t){const n=St.lFrame;n.currentTNode=e,n.isParent=t}function dc(){return St.lFrame.isParent}function Js(){return St.lFrame.bindingIndex++}function Bw(e,t){const n=St.lFrame;n.bindingIndex=n.bindingRootIndex=e,gc(t)}function gc(e){St.lFrame.currentDirectiveIndex=e}function Qd(){return St.lFrame.currentQueryIndex}function mc(e){St.lFrame.currentQueryIndex=e}function zw(e){const t=e[qe];return 2===t.type?t.declTNode:1===t.type?e[jn]:null}function Xd(e,t,n){if(n&rt.SkipSelf){let u=t,c=e;for(;!(u=u.parent,null!==u||n&rt.Host||(u=zw(c),null===u||(c=c[Dr],10&u.type))););if(null===u)return!1;t=u,e=c}const r=St.lFrame=Jd();return r.currentTNode=t,r.lView=e,!0}function vc(e){const t=Jd(),n=e[qe];St.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Jd(){const e=St.lFrame,t=null===e?null:e.child;return null===t?ep(e):t}function ep(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function tp(){const e=St.lFrame;return St.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const np=tp;function yc(){const e=tp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ci(){return St.lFrame.selectedIndex}function As(e){St.lFrame.selectedIndex=e}function Tn(){const e=St.lFrame;return Hd(e.tView,e.selectedIndex)}function jr(){St.lFrame.currentNamespace=Ud}function so(){!function $w(){St.lFrame.currentNamespace=null}()}function wu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:A,ngAfterViewChecked:L,ngOnDestroy:V}=c;f&&(e.contentHooks||(e.contentHooks=[])).push(-n,f),y&&((e.contentHooks||(e.contentHooks=[])).push(n,y),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,y)),A&&(e.viewHooks||(e.viewHooks=[])).push(-n,A),L&&((e.viewHooks||(e.viewHooks=[])).push(n,L),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,L)),null!=V&&(e.destroyHooks||(e.destroyHooks=[])).push(n,V)}}function Cu(e,t,n){ip(e,t,3,n)}function bu(e,t,n,r){(3&e[et])===n&&ip(e,t,n,r)}function wc(e,t){let n=e[et];(3&n)===t&&(n&=2047,n+=1,e[et]=n)}function ip(e,t,n,r){const c=r??-1,f=t.length-1;let y=0;for(let A=void 0!==r?65535&e[se]:0;A<f;A++)if("number"==typeof t[A+1]){if(y=t[A],null!=r&&y>=r)break}else t[A]<0&&(e[se]+=65536),(y<c||-1==c)&&(Ww(e,n,t,A),e[se]=(4294901760&e[se])+A+2),A++}function Ww(e,t,n,r){const u=n[r]<0,c=n[r+1],y=e[u?-n[r]:n[r]];if(u){if(e[et]>>11<e[se]>>16&&(3&e[et])===t){e[et]+=2048,Yi(4,y,c);try{c.call(y)}finally{Yi(5,y,c)}}}else{Yi(4,y,c);try{c.call(y)}finally{Yi(5,y,c)}}}const ea=-1;class ao{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function bc(e,t,n){let r=0;for(;r<n.length;){const u=n[r];if("number"==typeof u){if(0!==u)break;r++;const c=n[r++],f=n[r++],y=n[r++];e.setAttribute(t,f,y,c)}else{const c=u,f=n[++r];sp(c)?e.setProperty(t,c,f):e.setAttribute(t,c,f),r++}}return r}function rp(e){return 3===e||4===e||6===e}function sp(e){return 64===e.charCodeAt(0)}function oo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const u=t[r];"number"==typeof u?n=u:0===n||ap(e,n,u,null,-1===n||2===n?t[++r]:null)}}return e}function ap(e,t,n,r,u){let c=0,f=e.length;if(-1===t)f=-1;else for(;c<e.length;){const y=e[c++];if("number"==typeof y){if(y===t){f=-1;break}if(y>t){f=c-1;break}}}for(;c<e.length;){const y=e[c];if("number"==typeof y)break;if(y===n){if(null===r)return void(null!==u&&(e[c+1]=u));if(r===e[c+1])return void(e[c+2]=u)}c++,null!==r&&c++,null!==u&&c++}-1!==f&&(e.splice(f,0,t),c=f+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==u&&e.splice(c++,0,u)}function op(e){return e!==ea}function Su(e){return 32767&e}function xu(e,t){let n=function Qw(e){return e>>16}(e),r=t;for(;n>0;)r=r[Dr],n--;return r}let Sc=!0;function Du(e){const t=Sc;return Sc=e,t}const up=255,lp=5;let Xw=0;const Er={};function Iu(e,t){const n=cp(e,t);if(-1!==n)return n;const r=t[qe];r.firstCreatePass&&(e.injectorIndex=t.length,xc(r.data,e),xc(t,null),xc(r.blueprint,null));const u=Dc(e,t),c=e.injectorIndex;if(op(u)){const f=Su(u),y=xu(u,t),A=y[qe].data;for(let L=0;L<8;L++)t[c+L]=y[f+L]|A[f+L]}return t[c+8]=u,c}function xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function cp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Dc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,u=t;for(;null!==u;){if(r=vp(u),null===r)return ea;if(n++,u=u[Dr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ea}function Ic(e,t,n){!function Jw(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(is)&&(r=n[is]),null==r&&(r=n[is]=Xw++);const u=r&up;t.data[e+(u>>lp)]|=1<<u}(e,t,n)}function hp(e,t,n){if(n&rt.Optional||void 0!==e)return e;Ve()}function fp(e,t,n,r){if(n&rt.Optional&&void 0===r&&(r=null),!(n&(rt.Self|rt.Host))){const u=e[xr],c=vi(void 0);try{return u?u.get(t,r,n&rt.Optional):du(t,r,n&rt.Optional)}finally{vi(c)}}return hp(r,0,n)}function dp(e,t,n,r=rt.Default,u){if(null!==e){if(1024&t[et]){const f=function r1(e,t,n,r,u){let c=e,f=t;for(;null!==c&&null!==f&&1024&f[et]&&!(256&f[et]);){const y=pp(c,f,n,r|rt.Self,Er);if(y!==Er)return y;let A=c.parent;if(!A){const L=f[ct];if(L){const V=L.get(n,Er,r);if(V!==Er)return V}A=vp(f),f=f[Dr]}c=A}return u}(e,t,n,r,Er);if(f!==Er)return f}const c=pp(e,t,n,r,Er);if(c!==Er)return c}return fp(t,n,r,u)}function pp(e,t,n,r,u){const c=function n1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(is)?e[is]:void 0;return"number"==typeof t?t>=0?t&up:i1:t}(n);if("function"==typeof c){if(!Xd(t,e,r))return r&rt.Host?hp(u,0,r):fp(t,n,r,u);try{const f=c(r);if(null!=f||r&rt.Optional)return f;Ve()}finally{np()}}else if("number"==typeof c){let f=null,y=cp(e,t),A=ea,L=r&rt.Host?t[vn][jn]:null;for((-1===y||r&rt.SkipSelf)&&(A=-1===y?Dc(e,t):t[y+8],A!==ea&&_p(r,!1)?(f=t[qe],y=Su(A),t=xu(A,t)):y=-1);-1!==y;){const V=t[qe];if(gp(c,y,V.data)){const Z=t1(y,t,n,f,r,L);if(Z!==Er)return Z}A=t[y+8],A!==ea&&_p(r,t[qe].data[y+8]===L)&&gp(c,y,t)?(f=V,y=Su(A),t=xu(A,t)):y=-1}}return u}function t1(e,t,n,r,u,c){const f=t[qe],y=f.data[e+8],V=Eu(y,f,n,null==r?to(y)&&Sc:r!=f&&0!=(3&y.type),u&rt.Host&&c===y);return null!==V?Ms(t,f,V,y):Er}function Eu(e,t,n,r,u){const c=e.providerIndexes,f=t.data,y=1048575&c,A=e.directiveStart,V=c>>20,X=u?y+V:e.directiveEnd;for(let re=r?y:y+V;re<X;re++){const fe=f[re];if(re<A&&n===fe||re>=A&&fe.type===n)return re}if(u){const re=f[A];if(re&&lr(re)&&re.type===n)return A}return null}function Ms(e,t,n,r){let u=e[n];const c=t.data;if(function Zw(e){return e instanceof ao}(u)){const f=u;f.resolving&&function de(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Q(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():q(e)}(c[n]));const y=Du(f.canSeeViewProviders);f.resolving=!0;const A=f.injectImpl?vi(f.injectImpl):null;Xd(e,r,rt.Default);try{u=e[n]=f.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Gw(e,t,n){const{ngOnChanges:r,ngOnInit:u,ngDoCheck:c}=t.type.prototype;if(r){const f=Bd(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,f)}u&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,u),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==A&&vi(A),Du(y),f.resolving=!1,np()}}return u}function gp(e,t,n){return!!(n[t+(e>>lp)]&1<<e)}function _p(e,t){return!(e&rt.Self||e&rt.Host&&t)}class ta{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return dp(this._tNode,this._lView,t,Ws(r),n)}}function i1(){return new ta(ui(),Ie())}function Ec(e){return Yt(e)?()=>{const t=Ec(Ue(e));return t&&t()}:Es(e)}function vp(e){const t=e[qe],n=t.type;return 2===n?t.declTNode:1===n?e[jn]:null}const ia="__parameters__";function sa(e,t,n){return yi(()=>{const r=function Tc(e){return function(...n){if(e){const r=e(...n);for(const u in r)this[u]=r[u]}}}(t);function u(...c){if(this instanceof u)return r.apply(this,c),this;const f=new u(...c);return y.annotation=f,y;function y(A,L,V){const Z=A.hasOwnProperty(ia)?A[ia]:Object.defineProperty(A,ia,{value:[]})[ia];for(;Z.length<=V;)Z.push(null);return(Z[V]=Z[V]||[]).push(f),A}}return n&&(u.prototype=Object.create(n.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}class _t{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ht({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ps(e,t){e.forEach(n=>Array.isArray(n)?Ps(n,t):t(n))}function wp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Au(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ho=Is(sa("Optional"),8),fo=Is(sa("SkipSelf"),4);var Ti=(()=>((Ti=Ti||{})[Ti.Important=1]="Important",Ti[Ti.DashCase=2]="DashCase",Ti))();const Lc=new Map;let M1=0;const Bc="__ngContext__";function fi(e,t){Fi(t)?(e[Bc]=t[we],function R1(e){Lc.set(e[we],e)}(t)):e[Bc]=t}let Vc;function zc(e,t){return Vc(e,t)}function mo(e){const t=e[cn];return ur(t)?t[cn]:t}function Uc(e){return Up(e[ls])}function jc(e){return Up(e[Li])}function Up(e){for(;null!==e&&!ur(e);)e=e[Li];return e}function ua(e,t,n,r,u){if(null!=r){let c,f=!1;ur(r)?c=r:Fi(r)&&(f=!0,r=r[Zi]);const y=oi(r);0===e&&null!==n?null==u?Wp(t,n,y):Rs(t,n,y,u||null,!0):1===e&&null!==n?Rs(t,n,y,u||null,!0):2===e?function Kc(e,t,n){const r=ku(e,t);r&&function X1(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,y,f):3===e&&t.destroyNode(y),null!=c&&function tC(e,t,n,r,u){const c=n[Ki];c!==oi(n)&&ua(t,e,r,c,u);for(let y=ai;y<n.length;y++){const A=n[y];vo(A[qe],A,e,t,r,c)}}(t,e,c,n,u)}}function $c(e,t,n){return e.createElement(t,n)}function Hp(e,t){const n=e[or],r=n.indexOf(t),u=t[cn];512&t[et]&&(t[et]&=-513,fc(u,-1)),n.splice(r,1)}function qc(e,t){if(e.length<=ai)return;const n=ai+t,r=e[n];if(r){const u=r[te];null!==u&&u!==e&&Hp(u,r),t>0&&(e[n-1][Li]=r[Li]);const c=Au(e,ai+t);!function $1(e,t){vo(e,t,t[At],2,null,null),t[Zi]=null,t[jn]=null}(r[qe],r);const f=c[pe];null!==f&&f.detachView(c[qe]),r[cn]=null,r[Li]=null,r[et]&=-65}return r}function $p(e,t){if(!(128&t[et])){const n=t[At];n.destroyNode&&vo(e,t,n,3,null,null),function W1(e){let t=e[ls];if(!t)return Gc(e[qe],e);for(;t;){let n=null;if(Fi(t))n=t[ls];else{const r=t[ai];r&&(n=r)}if(!n){for(;t&&!t[Li]&&t!==e;)Fi(t)&&Gc(t[qe],t),t=t[cn];null===t&&(t=e),Fi(t)&&Gc(t[qe],t),n=t&&t[Li]}t=n}}(t)}}function Gc(e,t){if(!(128&t[et])){t[et]&=-65,t[et]|=128,function Q1(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const u=t[n[r]];if(!(u instanceof ao)){const c=n[r+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const y=u[c[f]],A=c[f+1];Yi(4,y,A);try{A.call(y)}finally{Yi(5,y,A)}}else{Yi(4,u,c);try{c.call(u)}finally{Yi(5,u,c)}}}}}(e,t),function Y1(e,t){const n=e.cleanup,r=t[Sr];let u=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const f=n[c+3];f>=0?r[u=f]():r[u=-f].unsubscribe(),c+=2}else{const f=r[u=n[c+1]];n[c].call(f)}if(null!==r){for(let c=u+1;c<r.length;c++)(0,r[c])();t[Sr]=null}}(e,t),1===t[qe].type&&t[At].destroy();const n=t[te];if(null!==n&&ur(t[cn])){n!==t[cn]&&Hp(n,t);const r=t[pe];null!==r&&r.detachView(e)}!function k1(e){Lc.delete(e[we])}(t)}}function qp(e,t,n){return function Gp(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Zi];{const{componentOffset:u}=r;if(u>-1){const{encapsulation:c}=e.data[r.directiveStart+u];if(c===Oi.None||c===Oi.Emulated)return null}return Bi(r,n)}}(e,t.parent,n)}function Rs(e,t,n,r,u){e.insertBefore(t,n,r,u)}function Wp(e,t,n){e.appendChild(t,n)}function Zp(e,t,n,r,u){null!==r?Rs(e,t,n,r,u):Wp(e,t,n)}function ku(e,t){return e.parentNode(t)}let Wc,Xc,Qp=function Yp(e,t,n){return 40&e.type?Bi(e,n):null};function Ou(e,t,n,r){const u=qp(e,r,t),c=t[At],y=function Kp(e,t,n){return Qp(e,t,n)}(r.parent||t[jn],r,t);if(null!=u)if(Array.isArray(n))for(let A=0;A<n.length;A++)Zp(c,u,n[A],y,!1);else Zp(c,u,n,y,!1);void 0!==Wc&&Wc(c,r,t,n,u)}function Nu(e,t){if(null!==t){const n=t.type;if(3&n)return Bi(t,e);if(4&n)return Zc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Nu(e,r);{const u=e[t.index];return ur(u)?Zc(-1,u):oi(u)}}if(32&n)return zc(t,e)()||oi(e[t.index]);{const r=Jp(e,t);return null!==r?Array.isArray(r)?r[0]:Nu(mo(e[vn]),r):Nu(e,t.next)}}return null}function Jp(e,t){return null!==t?e[vn][jn].projection[t.projection]:null}function Zc(e,t){const n=ai+e+1;if(n<t.length){const r=t[n],u=r[qe].firstChild;if(null!==u)return Nu(r,u)}return t[Ki]}function Yc(e,t,n,r,u,c,f){for(;null!=n;){const y=r[n.index],A=n.type;if(f&&0===t&&(y&&fi(oi(y),r),n.flags|=2),32!=(32&n.flags))if(8&A)Yc(e,t,n.child,r,u,c,!1),ua(t,e,u,y,c);else if(32&A){const L=zc(n,r);let V;for(;V=L();)ua(t,e,u,V,c);ua(t,e,u,y,c)}else 16&A?eg(e,t,r,n,u,c):ua(t,e,u,y,c);n=f?n.projectionNext:n.next}}function vo(e,t,n,r,u,c){Yc(n,r,e.firstChild,t,u,c,!1)}function eg(e,t,n,r,u,c){const f=n[vn],A=f[jn].projection[r.projection];if(Array.isArray(A))for(let L=0;L<A.length;L++)ua(t,e,u,A[L],c);else Yc(e,t,A,f[cn],u,c,!0)}function tg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ng(e,t,n){const{mergedAttrs:r,classes:u,styles:c}=n;null!==r&&bc(e,t,r),null!==u&&tg(e,t,u),null!==c&&function iC(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}const Vu=new _t("ENVIRONMENT_INITIALIZER"),mg=new _t("INJECTOR",-1),vg=new _t("INJECTOR_DEF_TYPES");class yg{get(t,n=ts){if(n===ts){const r=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw r.name="NullInjectorError",r}return n}}function MC(...e){return{\u0275providers:wg(0,e),\u0275fromNgModule:!0}}function wg(e,...t){const n=[],r=new Set;let u;return Ps(t,c=>{const f=c;rh(f,n,[],r)&&(u||(u=[]),u.push(f))}),void 0!==u&&Cg(u,n),n}function Cg(e,t){for(let n=0;n<e.length;n++){const{providers:u}=e[n];sh(u,c=>{t.push(c)})}}function rh(e,t,n,r){if(!(e=Ue(e)))return!1;let u=null,c=Ga(e);const f=!c&&$t(e);if(c||f){if(f&&!f.standalone)return!1;u=e}else{const A=e.ngModule;if(c=Ga(A),!c)return!1;u=A}const y=r.has(u);if(f){if(y)return!1;if(r.add(u),f.dependencies){const A="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const L of A)rh(L,t,n,r)}}else{if(!c)return!1;{if(null!=c.imports&&!y){let L;r.add(u);try{Ps(c.imports,V=>{rh(V,t,n,r)&&(L||(L=[]),L.push(V))})}finally{}void 0!==L&&Cg(L,t)}if(!y){const L=Es(u)||(()=>new u);t.push({provide:u,useFactory:L,deps:Ut},{provide:vg,useValue:u,multi:!0},{provide:Vu,useValue:()=>lt(u),multi:!0})}const A=c.providers;null==A||y||sh(A,V=>{t.push(V)})}}return u!==e&&void 0!==e.providers}function sh(e,t){for(let n of e)Cn(n)&&(n=n.\u0275providers),Array.isArray(n)?sh(n,t):t(n)}const PC=Ye({provide:String,useValue:Ye});function ah(e){return null!==e&&"object"==typeof e&&PC in e}function ks(e){return"function"==typeof e}const oh=new _t("Set Injector scope."),zu={},kC={};let uh;function Uu(){return void 0===uh&&(uh=new yg),uh}class $r{}class xg extends $r{get destroyed(){return this._destroyed}constructor(t,n,r,u){super(),this.parent=n,this.source=r,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(t,f=>this.processProvider(f)),this.records.set(mg,ca(void 0,this)),u.has("environment")&&this.records.set($r,ca(void 0,this));const c=this.records.get(oh);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(vg.multi,Ut,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=ns(this),r=vi(void 0);try{return t()}finally{ns(n),vi(r)}}get(t,n=ts,r=rt.Default){this.assertNotDestroyed(),r=Ws(r);const u=ns(this),c=vi(void 0);try{if(!(r&rt.SkipSelf)){let y=this.records.get(t);if(void 0===y){const A=function BC(e){return"function"==typeof e||"object"==typeof e&&e instanceof _t}(t)&&Gs(t);y=A&&this.injectableDefInScope(A)?ca(lh(t),zu):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(r&rt.Self?Uu():this.parent).get(t,n=r&rt.Optional&&n===ts?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[xs]=f[xs]||[]).unshift(Oe(t)),u)throw f;return function Un(e,t,n,r){const u=e[xs];throw t[Fr]&&u.unshift(t[Fr]),e.message=function gu(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Qa?e.slice(2):e;let u=Oe(t);if(Array.isArray(t))u=t.map(Oe).join(" -> ");else if("object"==typeof t){let c=[];for(let f in t)if(t.hasOwnProperty(f)){let y=t[f];c.push(f+":"+("string"==typeof y?JSON.stringify(y):Oe(y)))}u=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${u}]: ${e.replace(uc,"\n  ")}`}("\n"+e.message,u,n,r),e[zn]=u,e[xs]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{vi(c),ns(u)}}resolveInjectorInitializers(){const t=ns(this),n=vi(void 0);try{const r=this.get(Vu.multi,Ut,rt.Self);for(const u of r)u()}finally{ns(t),vi(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Oe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){let n=ks(t=Ue(t))?t:Ue(t&&t.provide);const r=function NC(e){return ah(e)?ca(void 0,e.useValue):ca(function Dg(e,t,n){let r;if(ks(e)){const u=Ue(e);return Es(u)||lh(u)}if(ah(e))r=()=>Ue(e.useValue);else if(function Sg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Xa(e.deps||[]));else if(function bg(e){return!(!e||!e.useExisting)}(e))r=()=>lt(Ue(e.useExisting));else{const u=Ue(e&&(e.useClass||e.provide));if(!function LC(e){return!!e.deps}(e))return Es(u)||lh(u);r=()=>new u(...Xa(e.deps))}return r}(e),zu)}(t);if(ks(t)||!0!==t.multi)this.records.get(n);else{let u=this.records.get(n);u||(u=ca(void 0,zu,!0),u.factory=()=>Xa(u.multi),this.records.set(n,u)),n=t,u.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===zu&&(n.value=kC,n.value=n.factory()),"object"==typeof n.value&&n.value&&function FC(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ue(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function lh(e){const t=Gs(e),n=null!==t?t.factory:Es(e);if(null!==n)return n;if(e instanceof _t)throw new T(204,!1);if(e instanceof Function)return function OC(e){const t=e.length;if(t>0)throw function co(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new T(204,!1);const n=function rc(e){const t=e&&(e[wr]||e[hu]);return t?(function sc(e){if(e.hasOwnProperty("name"))return e.name;(""+e).match(/^function\s*([^\s(]+)/)}(e),t):null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new T(204,!1)}function ca(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ch(e,t){for(const n of e)Array.isArray(n)?ch(n,t):n&&Cn(n)?ch(n.\u0275providers,t):t(n)}class VC{}class Ig{}class UC{resolveComponentFactory(t){throw function zC(e){const t=Error(`No component factory found for ${Oe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let bo=(()=>{class e{}return e.NULL=new UC,e})();function jC(){return ha(ui(),Ie())}function ha(e,t){return new ds(Bi(e,t))}let ds=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=jC,e})();function HC(e){return e instanceof ds?e.nativeElement:e}class Tg{}let qC=(()=>{class e{}return e.\u0275prov=ht({token:e,providedIn:"root",factory:()=>null}),e})();class Hu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const GC=new Hu("15.2.4"),hh={},fh="ngOriginalError";function dh(e){return e[fh]}class fa{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&dh(t);for(;n&&dh(n);)n=dh(n);return n||null}}function ph(e){return e.ownerDocument}function qr(e){return e instanceof Function?e():e}function Mg(e,t,n){let r=e.length;for(;;){const u=e.indexOf(t,n);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const c=t.length;if(u+c===r||e.charCodeAt(u+c)<=32)return u}n=u+1}}const Pg="ng-template";function nb(e,t,n){let r=0,u=!0;for(;r<e.length;){let c=e[r++];if("string"==typeof c&&u){const f=e[r++];if(n&&"class"===c&&-1!==Mg(f.toLowerCase(),t,0))return!0}else{if(1===c){for(;r<e.length&&"string"==typeof(c=e[r++]);)if(c.toLowerCase()===t)return!0;return!1}"number"==typeof c&&(u=!1)}}return!1}function Rg(e){return 4===e.type&&e.value!==Pg}function ib(e,t,n){return t===(4!==e.type||n?e.value:Pg)}function rb(e,t,n){let r=4;const u=e.attrs||[],c=function ob(e){for(let t=0;t<e.length;t++)if(rp(e[t]))return t;return e.length}(u);let f=!1;for(let y=0;y<t.length;y++){const A=t[y];if("number"!=typeof A){if(!f)if(4&r){if(r=2|1&r,""!==A&&!ib(e,A,n)||""===A&&1===t.length){if(cr(r))return!1;f=!0}}else{const L=8&r?A:t[++y];if(8&r&&null!==e.attrs){if(!nb(e.attrs,L,n)){if(cr(r))return!1;f=!0}continue}const Z=sb(8&r?"class":A,u,Rg(e),n);if(-1===Z){if(cr(r))return!1;f=!0;continue}if(""!==L){let X;X=Z>c?"":u[Z+1].toLowerCase();const re=8&r?X:null;if(re&&-1!==Mg(re,L,0)||2&r&&L!==X){if(cr(r))return!1;f=!0}}}}else{if(!f&&!cr(r)&&!cr(A))return!1;if(f&&cr(A))continue;f=!1,r=A|1&r}}return cr(r)||f}function cr(e){return 0==(1&e)}function sb(e,t,n,r){if(null===t)return-1;let u=0;if(r||!n){let c=!1;for(;u<t.length;){const f=t[u];if(f===e)return u;if(3===f||6===f)c=!0;else{if(1===f||2===f){let y=t[++u];for(;"string"==typeof y;)y=t[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=c?1:2}return-1}return function ub(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function kg(e,t,n=!1){for(let r=0;r<t.length;r++)if(rb(e,t[r],n))return!0;return!1}function Og(e,t){return e?":not("+t.trim()+")":t}function cb(e){let t=e[0],n=1,r=2,u="",c=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&r){const y=e[++n];u+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?u+="."+f:4&r&&(u+=" "+f);else""!==u&&!cr(f)&&(t+=Og(c,u),u=""),r=f,c=c||!cr(r);n++}return""!==u&&(t+=Og(c,u)),t}const xt={};function kn(e){Ng(Gt(),Ie(),Ci()+e,!1)}function Ng(e,t,n,r){if(!r)if(3==(3&t[et])){const c=e.preOrderCheckHooks;null!==c&&Cu(t,c,n)}else{const c=e.preOrderHooks;null!==c&&bu(t,c,0,n)}As(n)}function Vg(e,t=null,n=null,r){const u=zg(e,t,n,r);return u.resolveInjectorInitializers(),u}function zg(e,t=null,n=null,r,u=new Set){const c=[n||Ut,MC(e)];return r=r||("object"==typeof e?void 0:Oe(e)),new xg(c,t||Uu(),r||null,u)}let Gr=(()=>{class e{static create(n,r){if(Array.isArray(n))return Vg({name:""},r,n,"");{const u=n.name??"";return Vg({name:u},n.parent,n.providers,u)}}}return e.THROW_IF_NOT_FOUND=ts,e.NULL=new yg,e.\u0275prov=ht({token:e,providedIn:"any",factory:()=>lt(mg)}),e.__NG_ELEMENT_ID__=-1,e})();function ft(e,t=rt.Default){const n=Ie();return null===n?lt(e,t):dp(ui(),n,Ue(e),t)}function Zg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const c=n[r+1];if(-1!==c){const f=e.data[c];mc(n[r]),f.contentQueries(2,t[c],c)}}}function qu(e,t,n,r,u,c,f,y,A,L,V){const Z=t.blueprint.slice();return Z[Zi]=u,Z[et]=76|r,(null!==V||e&&1024&e[et])&&(Z[et]|=1024),$d(Z),Z[cn]=Z[Dr]=e,Z[En]=n,Z[us]=f||e&&e[us],Z[At]=y||e&&e[At],Z[eo]=A||e&&e[eo]||null,Z[xr]=L||e&&e[xr]||null,Z[jn]=c,Z[we]=function P1(){return M1++}(),Z[ct]=V,Z[vn]=2==t.type?e[vn]:Z,Z}function ga(e,t,n,r,u){let c=e.data[t];if(null===c)c=function yh(e,t,n,r,u){const c=Wd(),f=dc(),A=e.data[t]=function Lb(e,t,n,r,u,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,n,t,r,u);return null===e.firstChild&&(e.firstChild=A),null!==c&&(f?null==c.child&&null!==A.parent&&(c.child=A):null===c.next&&(c.next=A,A.prev=c)),A}(e,t,n,r,u),function Fw(){return St.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=r,c.attrs=u;const f=function ro(){const e=St.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===f?-1:f.injectorIndex}return Ir(c,!0),c}function So(e,t,n,r){if(0===n)return-1;const u=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return u}function wh(e,t,n){vc(t);try{const r=e.viewQuery;null!==r&&Mh(1,r,n);const u=e.template;null!==u&&Kg(e,t,u,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zg(e,t),e.staticViewQueries&&Mh(2,e.viewQuery,n);const c=e.components;null!==c&&function kb(e,t){for(let n=0;n<t.length;n++)tS(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[et]&=-5,yc()}}function Gu(e,t,n,r){const u=t[et];if(128!=(128&u)){vc(t);try{$d(t),function Kd(e){return St.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Kg(e,t,n,2,r);const f=3==(3&u);if(f){const L=e.preOrderCheckHooks;null!==L&&Cu(t,L,null)}else{const L=e.preOrderHooks;null!==L&&bu(t,L,0,null),wc(t,0)}if(function Jb(e){for(let t=Uc(e);null!==t;t=jc(t)){if(!t[Ei])continue;const n=t[or];for(let r=0;r<n.length;r++){const u=n[r];512&u[et]||fc(u[cn],1),u[et]|=512}}}(t),function Xb(e){for(let t=Uc(e);null!==t;t=jc(t))for(let n=ai;n<t.length;n++){const r=t[n],u=r[qe];yu(r)&&Gu(u,r,u.template,r[En])}}(t),null!==e.contentQueries&&Zg(e,t),f){const L=e.contentCheckHooks;null!==L&&Cu(t,L)}else{const L=e.contentHooks;null!==L&&bu(t,L,1),wc(t,1)}!function Pb(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const u=n[r];if(u<0)As(~u);else{const c=u,f=n[++r],y=n[++r];Bw(f,c),y(2,t[c])}}}finally{As(-1)}}(e,t);const y=e.components;null!==y&&function Rb(e,t){for(let n=0;n<t.length;n++)eS(e,t[n])}(t,y);const A=e.viewQuery;if(null!==A&&Mh(2,A,r),f){const L=e.viewCheckHooks;null!==L&&Cu(t,L)}else{const L=e.viewHooks;null!==L&&bu(t,L,2),wc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[et]&=-41,512&t[et]&&(t[et]&=-513,fc(t[cn],-1))}finally{yc()}}}function Kg(e,t,n,r,u){const c=Ci(),f=2&r;try{As(-1),f&&t.length>He&&Ng(e,t,He,!1),Yi(f?2:0,u),n(r,u)}finally{As(c),Yi(f?3:1,u)}}function Ch(e,t,n){if(cc(t)){const u=t.directiveEnd;for(let c=t.directiveStart;c<u;c++){const f=e.data[c];f.contentQueries&&f.contentQueries(1,n[c],c)}}}function Yg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xh(e,t,n,r,u,c,f,y,A,L){const V=He+r,Z=V+u,X=function Ob(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:xt);return n}(V,Z),re="function"==typeof L?L():L;return X[qe]={type:e,blueprint:X,template:n,queries:null,viewQuery:y,declTNode:t,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:A,consts:re,incompleteFirstPass:!1}}function Qg(e,t,n,r){const u=r_(t);null===n?u.push(r):(u.push(n),e.firstCreatePass&&s_(e).push(r,u.length-1))}function Xg(e,t,n,r){for(let u in e)if(e.hasOwnProperty(u)){n=null===n?{}:n;const c=e[u];null===r?Jg(n,t,u,c):r.hasOwnProperty(u)&&Jg(n,t,r[u],c)}return n}function Jg(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function e_(e,t){const n=Vi(t,e);16&n[et]||(n[et]|=32)}function t_(e,t,n,r,u,c){for(let L=0;L<r.length;L++)Ic(Iu(n,t),e,r[L].type);!function Wb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let L=0;L<r.length;L++){const V=r[L];V.providersResolver&&V.providersResolver(V)}let f=!1,y=!1,A=So(e,t,r.length,null);for(let L=0;L<r.length;L++){const V=r[L];n.mergedAttrs=oo(n.mergedAttrs,V.hostAttrs),Zb(e,n,t,A,V),Gb(A,V,u),null!==V.contentQueries&&(n.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(n.flags|=64);const Z=V.type.prototype;!f&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),f=!0),!y&&(Z.ngOnChanges||Z.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),y=!0),A++}!function Fb(e,t,n){const u=t.directiveEnd,c=e.data,f=t.attrs,y=[];let A=null,L=null;for(let V=t.directiveStart;V<u;V++){const Z=c[V],X=n?n.get(Z):null,fe=X?X.outputs:null;A=Xg(Z.inputs,V,A,X?X.inputs:null),L=Xg(Z.outputs,V,L,fe);const ye=null===A||null===f||Rg(t)?null:Qb(A,V,f);y.push(ye)}null!==A&&(A.hasOwnProperty("class")&&(t.flags|=8),A.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=A,t.outputs=L}(e,n,c)}function n_(e,t,n){const r=n.directiveStart,u=n.directiveEnd,c=n.index,f=function Vw(){return St.lFrame.currentDirectiveIndex}();try{As(c);for(let y=r;y<u;y++){const A=e.data[y],L=t[y];gc(y),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Hb(A,L)}}finally{As(-1),gc(f)}}function Hb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ih(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function Gb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;lr(t)&&(n[""]=e)}}function Zb(e,t,n,r,u){e.data[r]=u;const c=u.factory||(u.factory=Es(u.type)),f=new ao(c,lr(u),ft);e.blueprint[r]=f,n[r]=f,function zb(e,t,n,r,u){const c=u.hostBindings;if(c){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const y=~t.index;(function Ub(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(f)!=y&&f.push(y),f.push(n,r,c)}}(e,t,r,So(e,n,u.hostVars,xt),u)}function Tr(e,t,n,r,u,c){const f=Bi(e,t);!function Eh(e,t,n,r,u,c,f){if(null==c)e.removeAttribute(t,u,n);else{const y=null==f?q(c):f(c,r||"",u);e.setAttribute(t,u,y,n)}}(t[At],f,c,e.value,n,r,u)}function Yb(e,t,n,r,u,c){const f=c[t];if(null!==f){const y=r.setInput;for(let A=0;A<f.length;){const L=f[A++],V=f[A++],Z=f[A++];null!==y?r.setInput(n,Z,L,V):n[V]=Z}}}function Qb(e,t,n){let r=null,u=0;for(;u<n.length;){const c=n[u];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===r&&(r=[]);const f=e[c];for(let y=0;y<f.length;y+=2)if(f[y]===t){r.push(c,f[y+1],n[u+1]);break}}u+=2}else u+=2;else u+=4}return r}function eS(e,t){const n=Vi(t,e);if(yu(n)){const r=n[qe];48&n[et]?Gu(r,n,r.template,n[En]):n[Vr]>0&&Th(n)}}function Th(e){for(let r=Uc(e);null!==r;r=jc(r))for(let u=ai;u<r.length;u++){const c=r[u];if(yu(c))if(512&c[et]){const f=c[qe];Gu(f,c,f.template,c[En])}else c[Vr]>0&&Th(c)}const n=e[qe].components;if(null!==n)for(let r=0;r<n.length;r++){const u=Vi(n[r],e);yu(u)&&u[Vr]>0&&Th(u)}}function tS(e,t){const n=Vi(t,e),r=n[qe];(function nS(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),wh(r,n,n[En])}function Wu(e,t){return e[ls]?e[Qs][Li]=t:e[ls]=t,e[Qs]=t,t}function Ah(e){for(;e;){e[et]|=32;const t=mo(e);if(yw(e)&&!t)return e;e=t}return null}function Zu(e,t,n,r=!0){const u=t[us];u.begin&&u.begin();try{Gu(e,t,e.template,n)}catch(f){throw r&&o_(t,f),f}finally{u.end&&u.end()}}function Mh(e,t,n){mc(0),t(e,n)}function r_(e){return e[Sr]||(e[Sr]=[])}function s_(e){return e.cleanup||(e.cleanup=[])}function o_(e,t){const n=e[xr],r=n?n.get(fa,null):null;r&&r.handleError(t)}function Ph(e,t,n,r,u){for(let c=0;c<n.length;){const f=n[c++],y=n[c++],A=t[f],L=e.data[f];null!==L.setInput?L.setInput(A,u,r,y):A[y]=u}}function Ku(e,t,n){let r=n?e.styles:null,u=n?e.classes:null,c=0;if(null!==t)for(let f=0;f<t.length;f++){const y=t[f];"number"==typeof y?c=y:1==c?u=wn(u,y):2==c&&(r=wn(r,y+": "+t[++f]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=u:e.classesWithoutHost=u}function Yu(e,t,n,r,u=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(oi(c)),ur(c))for(let y=ai;y<c.length;y++){const A=c[y],L=A[qe].firstChild;null!==L&&Yu(A[qe],A,L,r)}const f=n.type;if(8&f)Yu(e,t,n.child,r);else if(32&f){const y=zc(n,t);let A;for(;A=y();)r.push(A)}else if(16&f){const y=Jp(t,n);if(Array.isArray(y))r.push(...y);else{const A=mo(t[vn]);Yu(A[qe],A,y,r,!0)}}n=u?n.projectionNext:n.next}return r}class xo{get rootNodes(){const t=this._lView,n=t[qe];return Yu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(t){this._lView[En]=t}get destroyed(){return 128==(128&this._lView[et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[cn];if(ur(t)){const n=t[cs],r=n?n.indexOf(this):-1;r>-1&&(qc(t,r),Au(n,r))}this._attachedToViewContainer=!1}$p(this._lView[qe],this._lView)}onDestroy(t){Qg(this._lView[qe],this._lView,null,t)}markForCheck(){Ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[et]&=-65}reattach(){this._lView[et]|=64}detectChanges(){Zu(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function G1(e,t){vo(e,t,t[At],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t}}class iS extends xo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Zu(t[qe],t,t[En],!1)}checkNoChanges(){}get context(){return null}}class u_ extends bo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=$t(t);return new Do(n,this.ngModule)}}function l_(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class sS{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ws(r);const u=this.injector.get(t,hh,r);return u!==hh||n===hh?u:this.parentInjector.get(t,n,r)}}class Do extends Ig{get inputs(){return l_(this.componentDef.inputs)}get outputs(){return l_(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function hb(e){return e.map(cb).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,u){let c=(u=u||this.ngModule)instanceof $r?u:u?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const f=c?new sS(t,c):t,y=f.get(Tg,null);if(null===y)throw new T(407,!1);const A=f.get(qC,null),L=y.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",Z=r?function Nb(e,t,n){return e.selectRootElement(t,n===Oi.ShadowDom)}(L,r,this.componentDef.encapsulation):$c(L,V,function rS(e){const t=e.toLowerCase();return"svg"===t?Ud:"math"===t?"math":null}(V)),X=this.componentDef.onPush?288:272,re=xh(0,null,null,1,0,null,null,null,null,null),fe=qu(null,re,null,X,null,null,y,L,A,f,null);let ye,be;vc(fe);try{const ke=this.componentDef;let Ge,Se=null;ke.findHostDirectiveDefs?(Ge=[],Se=new Map,ke.findHostDirectiveDefs(ke,Ge,Se),Ge.push(ke)):Ge=[ke];const vt=function oS(e,t){const n=e[qe],r=He;return e[r]=t,ga(n,r,2,"#host",null)}(fe,Z),un=function uS(e,t,n,r,u,c,f,y){const A=u[qe];!function lS(e,t,n,r){for(const u of e)t.mergedAttrs=oo(t.mergedAttrs,u.hostAttrs);null!==t.mergedAttrs&&(Ku(t,t.mergedAttrs,!0),null!==n&&ng(r,n,t))}(r,e,t,f);const L=c.createRenderer(t,n),V=qu(u,Yg(n),null,n.onPush?32:16,u[e.index],e,c,L,y||null,null,null);return A.firstCreatePass&&Ih(A,e,r.length-1),Wu(u,V),u[e.index]=V}(vt,Z,ke,Ge,fe,y,L);be=Hd(re,He),Z&&function hS(e,t,n,r){if(r)bc(e,n,["ng-version",GC.full]);else{const{attrs:u,classes:c}=function fb(e){const t=[],n=[];let r=1,u=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===u?""!==c&&t.push(c,e[++r]):8===u&&n.push(c);else{if(!cr(u))break;u=c}r++}return{attrs:t,classes:n}}(t.selectors[0]);u&&bc(e,n,u),c&&c.length>0&&tg(e,n,c.join(" "))}}(L,ke,Z,r),void 0!==n&&function fS(e,t,n){const r=e.projection=[];for(let u=0;u<t.length;u++){const c=n[u];r.push(null!=c?Array.from(c):null)}}(be,this.ngContentSelectors,n),ye=function cS(e,t,n,r,u,c){const f=ui(),y=u[qe],A=Bi(f,u);t_(y,u,f,n,null,r);for(let V=0;V<n.length;V++)fi(Ms(u,y,f.directiveStart+V,f),u);n_(y,u,f),A&&fi(A,u);const L=Ms(u,y,f.directiveStart+f.componentOffset,f);if(e[En]=u[En]=L,null!==c)for(const V of c)V(L,t);return Ch(y,f,e),L}(un,ke,Ge,Se,fe,[dS]),wh(re,fe,null)}finally{yc()}return new aS(this.componentType,ye,ha(be,fe),fe,be)}}class aS extends VC{constructor(t,n,r,u,c){super(),this.location=r,this._rootLView=u,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new iS(u),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let u;if(null!==r&&(u=r[t])){const c=this._rootLView;Ph(c[qe],c,u,t,n),e_(c,this._tNode.index)}}get injector(){return new ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function dS(){const e=ui();wu(Ie()[qe],e)}function di(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Xu(e,t,n,r,u){const c=function Os(e,t,n,r){const u=di(e,t,n);return di(e,t+1,r)||u}(e,t,n,r);return di(e,t+2,u)||c}function Yn(e,t,n,r){const u=Ie();return di(u,Js(),t)&&(Gt(),Tr(Tn(),u,e,t,n,r)),Yn}function ya(e,t,n,r,u,c,f,y){const L=Xu(e,function zr(){return St.lFrame.bindingIndex}(),n,u,f);return function Ur(e){const t=St.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(3),L?t+q(n)+r+q(u)+c+q(f)+y:xt}function Da(e,t,n,r,u,c,f,y,A,L){const V=Ie(),Z=ya(V,t,n,r,u,c,f,y);return Z!==xt&&Tr(Tn(),V,e,Z,A,L),Da}function Eo(e){return function Xs(e,t){return e[t]}(function Lw(){return St.lFrame.contextLView}(),He+e)}function Ia(e,t,n){const r=Ie();return di(r,Js(),t)&&function Ui(e,t,n,r,u,c,f,y){const A=Bi(t,n);let V,L=t.inputs;!y&&null!=L&&(V=L[r])?(Ph(e,n,V,r,u),to(t)&&e_(n,t.index)):3&t.type&&(r=function Bb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),u=null!=f?f(u,t.value||"",r):u,c.setProperty(A,r,u))}(Gt(),Tn(),r,e,t,r[At],n,!1),Ia}function Oh(e,t,n,r,u){const f=u?"class":"style";Ph(e,n,t.inputs[f],f,r)}function ii(e,t,n,r){const u=Ie(),c=Gt(),f=He+e,y=u[At],A=c.firstCreatePass?function MS(e,t,n,r,u,c){const f=t.consts,A=ga(t,e,2,r,hs(f,u));return function Dh(e,t,n,r){if(Gd()){const u=null===r?null:{"":-1},c=function $b(e,t){const n=e.directiveRegistry;let r=null,u=null;if(n)for(let c=0;c<n.length;c++){const f=n[c];if(kg(t,f.selectors,!1))if(r||(r=[]),lr(f))if(null!==f.findHostDirectiveDefs){const y=[];u=u||new Map,f.findHostDirectiveDefs(f,y,u),r.unshift(...y,f),Ih(e,t,y.length)}else r.unshift(f),Ih(e,t,0);else u=u||new Map,f.findHostDirectiveDefs?.(f,r,u),r.push(f)}return null===r?null:[r,u]}(e,n);let f,y;null===c?f=y=null:[f,y]=c,null!==f&&t_(e,t,n,f,u,y),u&&function qb(e,t,n){if(t){const r=e.localNames=[];for(let u=0;u<t.length;u+=2){const c=n[t[u+1]];if(null==c)throw new T(-301,!1);r.push(t[u],c)}}}(n,r,u)}n.mergedAttrs=oo(n.mergedAttrs,n.attrs)}(t,n,A,hs(f,c)),null!==A.attrs&&Ku(A,A.attrs,!1),null!==A.mergedAttrs&&Ku(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(f,c,u,t,n,r):c.data[f],L=u[f]=$c(y,t,function qw(){return St.lFrame.currentNamespace}()),V=mu(A);return Ir(A,!0),ng(y,L,A),32!=(32&A.flags)&&Ou(c,u,L,A),0===function Pw(){return St.lFrame.elementDepthCount}()&&fi(L,u),function Rw(){St.lFrame.elementDepthCount++}(),V&&(function bh(e,t,n){Gd()&&(function jb(e,t,n,r){const u=n.directiveStart,c=n.directiveEnd;to(n)&&function Kb(e,t,n){const r=Bi(t,e),u=Yg(n),c=e[us],f=Wu(e,qu(e,u,null,n.onPush?32:16,r,t,c,c.createRenderer(r,n),null,null,null));e[t.index]=f}(t,n,e.data[u+n.componentOffset]),e.firstCreatePass||Iu(n,t),fi(r,t);const f=n.initialInputs;for(let y=u;y<c;y++){const A=e.data[y],L=Ms(t,e,y,n);fi(L,t),null!==f&&Yb(0,y-u,L,A,0,f),lr(A)&&(Vi(n.index,t)[En]=Ms(t,e,y,n))}}(e,t,n,Bi(n,t)),64==(64&n.flags)&&n_(e,t,n))}(c,u,A),Ch(c,A,u)),null!==r&&function Sh(e,t,n=Bi){const r=t.localNames;if(null!==r){let u=t.index+1;for(let c=0;c<r.length;c+=2){const f=r[c+1],y=-1===f?n(t,e):e[f];e[u++]=y}}}(u,A),ii}function Mi(){let e=ui();dc()?function pc(){St.lFrame.isParent=!1}():(e=e.parent,Ir(e,!1));const t=e;!function kw(){St.lFrame.elementDepthCount--}();const n=Gt();return n.firstCreatePass&&(wu(n,e),cc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Kw(e){return 0!=(8&e.flags)}(t)&&Oh(n,t,Ie(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Yw(e){return 0!=(16&e.flags)}(t)&&Oh(n,t,Ie(),t.stylesWithoutHost,!1),Mi}function Ns(e,t,n,r){return ii(e,t,n,r),Mi(),Ns}function Ju(e){return!!e&&"function"==typeof e.then}const I_=function D_(e){return!!e&&"function"==typeof e.subscribe};function Ji(e,t,n,r){const u=Ie(),c=Gt(),f=ui();return function T_(e,t,n,r,u,c,f){const y=mu(r),L=e.firstCreatePass&&s_(e),V=t[En],Z=r_(t);let X=!0;if(3&r.type||f){const ye=Bi(r,t),be=f?f(ye):ye,ke=Z.length,Ge=f?vt=>f(oi(vt[r.index])):r.index;let Se=null;if(!f&&y&&(Se=function RS(e,t,n,r){const u=e.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const f=u[c];if(f===n&&u[c+1]===r){const y=t[Sr],A=u[c+2];return y.length>A?y[A]:null}"string"==typeof f&&(c+=2)}return null}(e,t,u,r.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=c,Se.__ngLastListenerFn__=c,X=!1;else{c=M_(r,t,V,c,!1);const vt=n.listen(be,u,c);Z.push(c,vt),L&&L.push(u,Ge,ke,ke+1)}}else c=M_(r,t,V,c,!1);const re=r.outputs;let fe;if(X&&null!==re&&(fe=re[u])){const ye=fe.length;if(ye)for(let be=0;be<ye;be+=2){const un=t[fe[be]][fe[be+1]].subscribe(c),Fn=Z.length;Z.push(c,un),L&&L.push(u,r.index,Fn,-(Fn+1))}}}(c,u,u[At],f,e,t,r),Ji}function A_(e,t,n,r){try{return Yi(6,t,n),!1!==n(r)}catch(u){return o_(e,u),!1}finally{Yi(7,t,n)}}function M_(e,t,n,r,u){return function c(f){if(f===Function)return r;Ah(e.componentOffset>-1?Vi(e.index,t):t);let A=A_(t,n,r,f),L=c.__ngNextListenerFn__;for(;L;)A=A_(t,n,L,f)&&A,L=L.__ngNextListenerFn__;return u&&!1===A&&(f.preventDefault(),f.returnValue=!1),A}}const Aa="en-US";let Sm=Aa;class Ma{}class Km{}class Ym extends Ma{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new u_(this);const r=mn(t);this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=zg(t,n,[{provide:Ma,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],Oe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Kh extends Km{constructor(t){super(),this.moduleType=t}create(t){return new Ym(this.moduleType,t)}}class DD extends Ma{constructor(t,n,r){super(),this.componentFactoryResolver=new u_(this),this.instance=null;const u=new xg([...t,{provide:Ma,useValue:this},{provide:bo,useValue:this.componentFactoryResolver}],n||Uu(),r,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function al(e,t,n=null){return new DD(e,t,n).injector}let ID=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=wg(0,n.type),u=r.length>0?al([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,u)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ht({token:e,providedIn:"environment",factory:()=>new e(lt($r))}),e})();function Qm(e){e.getStandaloneInjector=t=>t.get(ID).getOrCreateStandaloneInjector(e)}function Qh(e){return t=>{setTimeout(e,void 0,t)}}const Si=class XD extends at{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let u=t,c=n||(()=>null),f=r;if(t&&"object"==typeof t){const A=t;u=A.next?.bind(A),c=A.error?.bind(A),f=A.complete?.bind(A)}this.__isAsync&&(c=Qh(c),u&&(u=Qh(u)),f&&(f=Qh(f)));const y=super.subscribe({next:u,error:c,complete:f});return t instanceof xe&&t.add(y),y}};function JD(){return this._results[Symbol.iterator]()}class Xh{get changes(){return this._changes||(this._changes=new Si)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Xh.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=JD)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const u=function Qi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function a1(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let u=e[r],c=t[r];if(n&&(u=n(u),c=n(c)),c!==u)return!1}return!0}(r._results,u,n))&&(r._results=u,r.length=u.length,r.last=u[this.length-1],r.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zr=(()=>{class e{}return e.__NG_ELEMENT_ID__=nI,e})();const eI=Zr,tI=class extends eI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,u=qu(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);u[te]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[pe];return null!==f&&(u[pe]=f.createEmbeddedView(r)),wh(r,u,t),new xo(u)}};function nI(){return ol(ui(),Ie())}function ol(e,t){return 4&e.type?new tI(t,e,ha(e,t)):null}let dr=(()=>{class e{}return e.__NG_ELEMENT_ID__=iI,e})();function iI(){return hv(ui(),Ie())}const rI=dr,lv=class extends rI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ha(this._hostTNode,this._hostLView)}get injector(){return new ta(this._hostTNode,this._hostLView)}get parentInjector(){const t=Dc(this._hostTNode,this._hostLView);if(op(t)){const n=xu(t,this._hostLView),r=Su(t);return new ta(n[qe].data[r+8],n)}return new ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=cv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(t,n,r){let u,c;"number"==typeof r?u=r:null!=r&&(u=r.index,c=r.injector);const f=t.createEmbeddedView(n||{},c);return this.insert(f,u),f}createComponent(t,n,r,u,c){const f=t&&!function lo(e){return"function"==typeof e}(t);let y;if(f)y=n;else{const Z=n||{};y=Z.index,r=Z.injector,u=Z.projectableNodes,c=Z.environmentInjector||Z.ngModuleRef}const A=f?t:new Do($t(t)),L=r||this.parentInjector;if(!c&&null==A.ngModule){const X=(f?L:this.parentInjector).get($r,null);X&&(c=X)}const V=A.create(L,u,void 0,c);return this.insert(V.hostView,y),V}insert(t,n){const r=t._lView,u=r[qe];if(function Mw(e){return ur(e[cn])}(r)){const V=this.indexOf(t);if(-1!==V)this.detach(V);else{const Z=r[cn],X=new lv(Z,Z[jn],Z[cn]);X.detach(X.indexOf(t))}}const c=this._adjustIndex(n),f=this._lContainer;!function Z1(e,t,n,r){const u=ai+r,c=n.length;r>0&&(n[u-1][Li]=t),r<c-ai?(t[Li]=n[u],wp(n,ai+r,t)):(n.push(t),t[Li]=null),t[cn]=n;const f=t[te];null!==f&&n!==f&&function K1(e,t){const n=e[or];t[vn]!==t[cn][cn][vn]&&(e[Ei]=!0),null===n?e[or]=[t]:n.push(t)}(f,t);const y=t[pe];null!==y&&y.insertView(e),t[et]|=64}(u,r,f,c);const y=Zc(c,f),A=r[At],L=ku(A,f[Ki]);return null!==L&&function q1(e,t,n,r,u,c){r[Zi]=u,r[jn]=t,vo(e,r,n,1,u,c)}(u,f[jn],A,r,L,y),t.attachToViewContainerRef(),wp(Jh(f),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=cv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=qc(this._lContainer,n);r&&(Au(Jh(this._lContainer),n),$p(r[qe],r))}detach(t){const n=this._adjustIndex(t,-1),r=qc(this._lContainer,n);return r&&null!=Au(Jh(this._lContainer),n)?new xo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function cv(e){return e[cs]}function Jh(e){return e[cs]||(e[cs]=[])}function hv(e,t){let n;const r=t[e.index];if(ur(r))n=r;else{let u;if(8&e.type)u=oi(r);else{const c=t[At];u=c.createComment("");const f=Bi(e,t);Rs(c,ku(c,f),u,function J1(e,t){return e.nextSibling(t)}(c,f),!1)}t[e.index]=n=function i_(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}(r,t,u,e),Wu(t,n)}return new lv(n,e,t)}class ef{constructor(t){this.queryList=t,this.matches=null}clone(){return new ef(this.queryList)}setDirty(){this.queryList.setDirty()}}class tf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,u=[];for(let c=0;c<r;c++){const f=n.getByIndex(c);u.push(this.queries[f.indexInDeclarationView].clone())}return new tf(u)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==vv(t,n).matches&&this.queries[n].setDirty()}}class fv{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class nf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const u=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,u);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new nf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class rf{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new rf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let u=0;u<r.length;u++){const c=r[u];this.matchTNodeWithReadOption(t,n,sI(n,c)),this.matchTNodeWithReadOption(t,n,Eu(n,t,c,!1,!1))}else r===Zr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Eu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const u=this.metadata.read;if(null!==u)if(u===ds||u===dr||u===Zr&&4&n.type)this.addMatch(n.index,-2);else{const c=Eu(n,t,u,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function sI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function oI(e,t,n,r){return-1===n?function aI(e,t){return 11&e.type?ha(e,t):4&e.type?ol(e,t):null}(t,e):-2===n?function uI(e,t,n){return n===ds?ha(t,e):n===Zr?ol(t,e):n===dr?hv(t,e):void 0}(e,t,r):Ms(e,e[qe],n,t)}function dv(e,t,n,r){const u=t[pe].queries[r];if(null===u.matches){const c=e.data,f=n.matches,y=[];for(let A=0;A<f.length;A+=2){const L=f[A];y.push(L<0?null:oI(t,c[L],f[A+1],n.metadata.read))}u.matches=y}return u.matches}function sf(e,t,n,r){const u=e.queries.getByIndex(n),c=u.matches;if(null!==c){const f=dv(e,t,u,n);for(let y=0;y<c.length;y+=2){const A=c[y];if(A>0)r.push(f[y/2]);else{const L=c[y+1],V=t[-A];for(let Z=ai;Z<V.length;Z++){const X=V[Z];X[te]===X[cn]&&sf(X[qe],X,L,r)}if(null!==V[or]){const Z=V[or];for(let X=0;X<Z.length;X++){const re=Z[X];sf(re[qe],re,L,r)}}}}}return r}function af(e){const t=Ie(),n=Gt(),r=Qd();mc(r+1);const u=vv(n,r);if(e.dirty&&function Aw(e){return 4==(4&e[et])}(t)===(2==(2&u.metadata.flags))){if(null===u.matches)e.reset([]);else{const c=u.crossesNgTemplate?sf(n,t,r,[]):dv(n,t,u,r);e.reset(c,HC),e.notifyOnChanges()}return!0}return!1}function pv(e,t,n){const r=Gt();r.firstCreatePass&&(function mv(e,t,n){null===e.queries&&(e.queries=new nf),e.queries.track(new rf(t,n))}(r,new fv(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function _v(e,t,n){const r=new Xh(4==(4&n));Qg(e,t,r,r.destroy),null===t[pe]&&(t[pe]=new tf),t[pe].queries.push(new ef(r))}(r,Ie(),t)}function vv(e,t){return e.queries.getByIndex(t)}function ll(...e){}const cl=new _t("Application Initializer");let hl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ll,this.reject=ll,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,u)=>{this.resolve=r,this.reject=u})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const c=this.appInits[u]();if(Ju(c))n.push(c);else if(I_(c)){const f=new Promise((y,A)=>{c.subscribe({complete:y,error:A})});n.push(f)}}Promise.all(n).then(()=>{r()}).catch(u=>{this.reject(u)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(lt(cl,8))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Fo=new _t("AppId",{providedIn:"root",factory:function Lv(){return`${pf()}${pf()}${pf()}`}});function pf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fv=new _t("Platform Initializer"),Bv=new _t("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let PI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Kr=new _t("LocaleId",{providedIn:"root",factory:()=>Lt(Kr,rt.Optional|rt.SkipSelf)||function RI(){return typeof $localize<"u"&&$localize.locale||Aa}()});class OI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Vv=(()=>{class e{compileModuleSync(n){return new Kh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=qr(mn(n).declarations).reduce((f,y)=>{const A=$t(y);return A&&f.push(new Do(A)),f},[]);return new OI(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const FI=(()=>Promise.resolve(0))();function gf(e){typeof Zone>"u"?FI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class On{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Si(!1),this.onMicrotaskEmpty=new Si(!1),this.onStable=new Si(!1),this.onError=new Si(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!r&&n,u.shouldCoalesceRunChangeDetection=r,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function BI(){let e=on.requestAnimationFrame,t=on.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function UI(e){const t=()=>{!function zI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(on,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mf(e),e.isCheckStableRunning=!0,_f(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,u,c,f,y)=>{try{return jv(e),n.invokeTask(u,c,f,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),Hv(e)}},onInvoke:(n,r,u,c,f,y,A)=>{try{return jv(e),n.invoke(u,c,f,y,A)}finally{e.shouldCoalesceRunChangeDetection&&t(),Hv(e)}},onHasTask:(n,r,u,c)=>{n.hasTask(u,c),r===u&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,mf(e),_f(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,u,c)=>(n.handleError(u,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!On.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(On.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,u){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+u,t,VI,ll,ll);try{return c.runTask(f,n,r)}finally{c.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const VI={};function _f(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function jv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Hv(e){e._nesting--,_f(e)}class jI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Si,this.onMicrotaskEmpty=new Si,this.onStable=new Si,this.onError=new Si}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,u){return t.apply(n,r)}}const $v=new _t(""),fl=new _t("");let wf,vf=(()=>{class e{constructor(n,r,u){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wf||(function HI(e){wf=e}(u),u.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{On.assertNotInAngularZone(),gf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,u){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:u})}whenStable(n,r,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,u){return[]}}return e.\u0275fac=function(n){return new(n||e)(lt(On),lt(yf),lt(fl))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})(),yf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wf?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Yr=!1;let gs=null;const qv=new _t("AllowMultipleToken"),Cf=new _t("PlatformDestroyListeners"),Gv=new _t("appBootstrapListener");class Wv{constructor(t,n){this.name=t,this.token=n}}function Kv(e,t,n=[]){const r=`Platform: ${t}`,u=new _t(r);return(c=[])=>{let f=bf();if(!f||f.injector.get(qv,!1)){const y=[...n,...c,{provide:u,useValue:!0}];e?e(y):function GI(e){if(gs&&!gs.get(qv,!1))throw new T(400,!1);gs=e;const t=e.get(Qv);(function Zv(e){const t=e.get(Fv,null);t&&t.forEach(n=>n())})(e)}(function Yv(e=[],t){return Gr.create({name:t,providers:[{provide:oh,useValue:"platform"},{provide:Cf,useValue:new Set([()=>gs=null])},...e]})}(y,r))}return function ZI(e){const t=bf();if(!t)throw new T(401,!1);return t}()}}function bf(){return gs?.get(Qv)??null}let Qv=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const u=function Jv(e,t){let n;return n="noop"===e?new jI:("zone.js"===e?void 0:e)||new On(t),n}(r?.ngZone,function Xv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),c=[{provide:On,useValue:u}];return u.run(()=>{const f=Gr.create({providers:c,parent:this.injector,name:n.moduleType.name}),y=n.create(f),A=y.injector.get(fa,null);if(!A)throw new T(402,!1);return u.runOutsideAngular(()=>{const L=u.onError.subscribe({next:V=>{A.handleError(V)}});y.onDestroy(()=>{pl(this._modules,y),L.unsubscribe()})}),function e0(e,t,n){try{const r=n();return Ju(r)?r.catch(u=>{throw t.runOutsideAngular(()=>e.handleError(u)),u}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(A,u,()=>{const L=y.injector.get(hl);return L.runInitializers(),L.donePromise.then(()=>(function xm(e){Vn(e,"Expected localeId to be defined"),"string"==typeof e&&(Sm=e.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Kr,Aa)||Aa),this._moduleDoBootstrap(y),y))})})}bootstrapModule(n,r=[]){const u=t0({},r);return function $I(e,t,n){const r=new Kh(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(n){const r=n.injector.get(dl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(u=>r.bootstrap(u));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Cf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(lt(Gr))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function t0(e,t){return Array.isArray(t)?t.reduce(t0,e):{...e,...t}}let dl=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,u){this._zone=n,this._injector=r,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Ne(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),f=new Ne(y=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{On.assertNotInAngularZone(),gf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{On.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{A.unsubscribe(),L.unsubscribe()}});this.isStable=function Dt(...e){const t=le(e),n=function ce(e,t){return"number"==typeof ge(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?E(r[0]):K(n)(nt(r,t)):Y}(c,f.pipe(function ut(e={}){const{connector:t=(()=>new at),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:u=!0}=e;return c=>{let f,y,A,L=0,V=!1,Z=!1;const X=()=>{y?.unsubscribe(),y=void 0},re=()=>{X(),f=A=void 0,V=Z=!1},fe=()=>{const ye=f;re(),ye?.unsubscribe()};return dn((ye,be)=>{L++,!Z&&!V&&X();const ke=A=A??t();be.add(()=>{L--,0===L&&!Z&&!V&&(y=it(fe,u))}),ke.subscribe(be),!f&&L>0&&(f=new Xt({next:Ge=>ke.next(Ge),error:Ge=>{Z=!0,X(),y=it(re,n,Ge),ke.error(Ge)},complete:()=>{V=!0,X(),y=it(re,r),ke.complete()}}),E(ye).subscribe(f))})(c)}}()))}bootstrap(n,r){const u=n instanceof Ig;if(!this._injector.get(hl).done){!u&&function rs(e){const t=$t(e)||ti(e)||ni(e);return null!==t&&t.standalone}(n);throw new T(405,Yr)}let f;f=u?n:this._injector.get(bo).resolveComponentFactory(n),this.componentTypes.push(f.componentType);const y=function qI(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Ma),L=f.create(Gr.NULL,[],r||f.selector,y),V=L.location.nativeElement,Z=L.injector.get($v,null);return Z?.registerApplication(V),L.onDestroy(()=>{this.detachView(L.hostView),pl(this.components,L),Z?.unregisterApplication(V)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;pl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Gv,[]);r.push(...this._bootstrapListeners),r.forEach(u=>u(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(lt(On),lt($r),lt(fa))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Sf=(()=>{class e{}return e.__NG_ELEMENT_ID__=YI,e})();function YI(e){return function QI(e,t,n){if(to(e)&&!n){const r=Vi(e.index,t);return new xo(r,r)}return 47&e.type?new xo(t[vn],t):null}(ui(),Ie(),16==(16&e))}const cE=Kv(null,"core",[]);let hE=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(lt(dl))},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({}),e})(),Af=null;function Vs(){return Af}class pE{}const Pi=new _t("DocumentToken");let Mf=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:function(){return function gE(){return lt(d0)}()},providedIn:"platform"}),e})();const _E=new _t("Location Initialized");let d0=(()=>{class e extends Mf{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vs().getBaseHref(this._doc)}onPopState(n){const r=Vs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Vs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,u){p0()?this._history.pushState(n,r,u):this._location.hash=u}replaceState(n,r,u){p0()?this._history.replaceState(n,r,u):this._location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(lt(Pi))},e.\u0275prov=ht({token:e,factory:function(){return function mE(){return new d0(lt(Pi))}()},providedIn:"platform"}),e})();function p0(){return!!window.history.pushState}function Pf(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Qr(e){return e&&"?"!==e[0]?"?"+e:e}let zs=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:function(){return Lt(m0)},providedIn:"root"}),e})();const _0=new _t("appBaseHref");let m0=(()=>{class e extends zs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Lt(Pi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pf(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Qr(this._platformLocation.search),u=this._platformLocation.hash;return u&&n?`${r}${u}`:r}pushState(n,r,u,c){const f=this.prepareExternalUrl(u+Qr(c));this._platformLocation.pushState(n,r,f)}replaceState(n,r,u,c){const f=this.prepareExternalUrl(u+Qr(c));this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(lt(Mf),lt(_0,8))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vE=(()=>{class e extends zs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Pf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,u,c){let f=this.prepareExternalUrl(u+Qr(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,r,f)}replaceState(n,r,u,c){let f=this.prepareExternalUrl(u+Qr(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(lt(Mf),lt(_0,8))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})(),Rf=(()=>{class e{constructor(n){this._subject=new Si,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function CE(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(g0(v0(r))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qr(r))}normalize(n){return e.stripTrailingSlash(function wE(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,v0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",u=null){this._locationStrategy.pushState(u,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),u)}replaceState(n,r="",u=null){this._locationStrategy.replaceState(u,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(u=>u(n,r))}subscribe(n,r,u){return this._subject.subscribe({next:n,error:r,complete:u})}}return e.normalizeQueryParams=Qr,e.joinWithSlash=Pf,e.stripTrailingSlash=g0,e.\u0275fac=function(n){return new(n||e)(lt(zs))},e.\u0275prov=ht({token:e,factory:function(){return function yE(){return new Rf(lt(zs))}()},providedIn:"root"}),e})();function v0(e){return e.replace(/\/index.html$/,"")}let L2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({}),e})();let z2=(()=>{class e{}return e.\u0275prov=ht({token:e,providedIn:"root",factory:()=>new U2(lt(Pi),window)}),e})();class U2{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function j2(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let u=r.currentNode;for(;u;){const c=u.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}u=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,u=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],u-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=N0(this.window.history)||N0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function N0(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class _T extends pE{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kf extends _T{static makeCurrent(){!function dE(e){Af||(Af=e)}(new Kf)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function mT(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}();return null==n?null:function vT(e){Al=Al||document.createElement("a"),Al.setAttribute("href",e);const t=Al.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function r2(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[u,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(u.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Al,jo=null;const z0=new _t("TRANSITION_ID"),wT=[{provide:cl,useFactory:function yT(e,t,n){return()=>{n.get(hl).donePromise.then(()=>{const r=Vs(),u=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let c=0;c<u.length;c++)r.remove(u[c])})}},deps:[z0,Pi,Gr],multi:!0}];let bT=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();const Ml=new _t("EventManagerPlugins");let Pl=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(u=>{u.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,u){return this._findPluginFor(r).addEventListener(n,r,u)}addGlobalEventListener(n,r,u){return this._findPluginFor(r).addGlobalEventListener(n,r,u)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const u=this._plugins;for(let c=0;c<u.length;c++){const f=u[c];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(lt(Ml),lt(On))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();class U0{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const u=Vs().getGlobalEventTarget(this._doc,t);if(!u)throw new Error(`Unsupported event target ${u} for event ${n}`);return this.addEventListener(u,n,r)}}let j0=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const u=this.usageCount;let c=u.get(n)??0;return c+=r,c>0?u.set(n,c):u.delete(n),c}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})(),Ho=(()=>{class e extends j0{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(c=>c.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const u=this.doc.createElement("style");u.textContent=r,n.appendChild(u);const c=this.styleRef.get(r);c?c.push(u):this.styleRef.set(r,[u])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(lt(Pi))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();const Yf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qf=/%COMP%/g,q0=new _t("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function G0(e,t){return t.flat(100).map(n=>n.replace(Qf,e))}function W0(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xf=(()=>{class e{constructor(n,r,u,c){this.eventManager=n,this.sharedStylesHost=r,this.appId=u,this.removeStylesOnCompDestory=c,this.rendererByCompId=new Map,this.defaultRenderer=new Jf(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const u=this.getOrCreateRenderer(n,r);return u instanceof Y0?u.applyToHost(n):u instanceof ed&&u.applyStyles(),u}getOrCreateRenderer(n,r){const u=this.rendererByCompId;let c=u.get(r.id);if(!c){const f=this.eventManager,y=this.sharedStylesHost,A=this.removeStylesOnCompDestory;switch(r.encapsulation){case Oi.Emulated:c=new Y0(f,y,r,this.appId,A);break;case Oi.ShadowDom:return new AT(f,y,n,r);default:c=new ed(f,y,r,A)}c.onDestroy=()=>u.delete(r.id),u.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(lt(Pl),lt(Ho),lt(Fo),lt(q0))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();class Jf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Yf[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(K0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(K0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,u){if(u){n=u+":"+n;const c=Yf[u];c?t.setAttributeNS(c,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const u=Yf[r];u?t.removeAttributeNS(u,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,u){u&(Ti.DashCase|Ti.Important)?t.style.setProperty(n,r,u&Ti.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ti.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,W0(r)):this.eventManager.addEventListener(t,n,W0(r))}}function K0(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class AT extends Jf{constructor(t,n,r,u){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=G0(u.id,u.styles);for(const f of c){const y=document.createElement("style");y.textContent=f,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ed extends Jf{constructor(t,n,r,u,c=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=u,this.rendererUsageCount=0,this.styles=G0(c,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Y0 extends ed{constructor(t,n,r,u,c){const f=u+"-"+r.id;super(t,n,r,c,f),this.contentAttr=function IT(e){return"_ngcontent-%COMP%".replace(Qf,e)}(f),this.hostAttr=function ET(e){return"_nghost-%COMP%".replace(Qf,e)}(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let MT=(()=>{class e extends U0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,u){return n.addEventListener(r,u,!1),()=>this.removeEventListener(n,r,u)}removeEventListener(n,r,u){return n.removeEventListener(r,u)}}return e.\u0275fac=function(n){return new(n||e)(lt(Pi))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();const Q0=["alt","control","meta","shift"],PT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let kT=(()=>{class e extends U0{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,u){const c=e.parseEventName(r),f=e.eventCallback(c.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vs().onAndCancel(n,c.domEventName,f))}static parseEventName(n){const r=n.toLowerCase().split("."),u=r.shift();if(0===r.length||"keydown"!==u&&"keyup"!==u)return null;const c=e._normalizeKey(r.pop());let f="",y=r.indexOf("code");if(y>-1&&(r.splice(y,1),f="code."),Q0.forEach(L=>{const V=r.indexOf(L);V>-1&&(r.splice(V,1),f+=L+".")}),f+=c,0!=r.length||0===c.length)return null;const A={};return A.domEventName=u,A.fullKey=f,A}static matchEventFullKeyCode(n,r){let u=PT[n.key]||n.key,c="";return r.indexOf("code.")>-1&&(u=n.code,c="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Q0.forEach(f=>{f!==u&&(0,RT[f])(n)&&(c+=f+".")}),c+=u,c===r)}static eventCallback(n,r,u){return c=>{e.matchEventFullKeyCode(c,n)&&u.runGuarded(()=>r(c))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(lt(Pi))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();const FT=Kv(cE,"browser",[{provide:Bv,useValue:"browser"},{provide:Fv,useValue:function OT(){Kf.makeCurrent()},multi:!0},{provide:Pi,useFactory:function LT(){return function oC(e){Xc=e}(document),document},deps:[]}]),ey=new _t(""),ty=[{provide:fl,useClass:class CT{addToWindow(t){on.getAngularTestability=(r,u=!0)=>{const c=t.findTestabilityInTree(r,u);if(null==c)throw new Error("Could not find testability for element.");return c},on.getAllAngularTestabilities=()=>t.getAllTestabilities(),on.getAllAngularRootElements=()=>t.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push(r=>{const u=on.getAllAngularTestabilities();let c=u.length,f=!1;const y=function(A){f=f||A,c--,0==c&&r(f)};u.forEach(function(A){A.whenStable(y)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Vs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:$v,useClass:vf,deps:[On,yf,fl]},{provide:vf,useClass:vf,deps:[On,yf,fl]}],ny=[{provide:oh,useValue:"root"},{provide:fa,useFactory:function NT(){return new fa},deps:[]},{provide:Ml,useClass:MT,multi:!0,deps:[Pi,On,Bv]},{provide:Ml,useClass:kT,multi:!0,deps:[Pi]},{provide:Xf,useClass:Xf,deps:[Pl,Ho,Fo,q0]},{provide:Tg,useExisting:Xf},{provide:j0,useExisting:Ho},{provide:Ho,useClass:Ho,deps:[Pi]},{provide:Pl,useClass:Pl,deps:[Ml,On]},{provide:class H2{},useClass:bT,deps:[]},[]];let BT=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Fo,useValue:n.appId},{provide:z0,useExisting:Fo},wT]}}}return e.\u0275fac=function(n){return new(n||e)(lt(ey,12))},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({providers:[...ny,...ty],imports:[L2,hE]}),e})(),iy=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(lt(Pi))},e.\u0275prov=ht({token:e,factory:function(n){let r=null;return r=n?new n:function zT(){return new iy(lt(Pi))}(),r},providedIn:"root"}),e})();function pt(...e){return nt(e,le(e))}typeof window<"u"&&window;class mr extends at{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Rl=Bn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:GT}=Array,{getPrototypeOf:WT,prototype:ZT,keys:KT}=Object;const{isArray:XT}=Array;function ay(...e){const t=le(e),n=function _e(e){return Nt(ge(e))?e.pop():void 0}(e),{args:r,keys:u}=function YT(e){if(1===e.length){const t=e[0];if(GT(t))return{args:t,keys:null};if(function QT(e){return e&&"object"==typeof e&&WT(e)===ZT}(t)){const n=KT(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return nt([],t);const c=new Ne(function nA(e,t,n=Dn){return r=>{oy(t,()=>{const{length:u}=e,c=new Array(u);let f=u,y=u;for(let A=0;A<u;A++)oy(t,()=>{const L=nt(e[A],t);let V=!1;L.subscribe(Zt(r,Z=>{c[A]=Z,V||(V=!0,y--),y||r.next(n(c.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,u?f=>function tA(e,t){return e.reduce((n,r,u)=>(n[r]=t[u],n),{})}(u,f):Dn));return n?c.pipe(function eA(e){return Je(t=>function JT(e,t){return XT(t)?e(...t):e(t)}(e,t))}(n)):c}function oy(e,t,n){e?j(n,e,t):t()}function id(...e){return function iA(){return K(1)}()(nt(e,le(e)))}function uy(e){return new Ne(t=>{E(e()).subscribe(t)})}function $o(e,t){const n=Nt(e)?e:()=>e,r=u=>u.error(n());return new Ne(t?u=>t.schedule(r,0,u):r)}function rd(){return dn((e,t)=>{let n=null;e._refCount++;const r=Zt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const u=e._connection,c=n;n=null,u&&(!c||u===c)&&u.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class ly extends Ne{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Jn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xe;const n=this.getSubject();t.add(this.source.subscribe(Zt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xe.EMPTY)}return t}refCount(){return rd()(this)}}function Rr(e,t){return dn((n,r)=>{let u=null,c=0,f=!1;const y=()=>f&&!u&&r.complete();n.subscribe(Zt(r,A=>{u?.unsubscribe();let L=0;const V=c++;E(e(A,V)).subscribe(u=Zt(r,Z=>r.next(t?t(A,Z,V,L++):Z),()=>{u=null,y()}))},()=>{f=!0,y()}))})}function qo(e){return e<=0?()=>Y:dn((t,n)=>{let r=0;t.subscribe(Zt(n,u=>{++r<=e&&(n.next(u),e<=r&&n.complete())}))})}function ms(e,t){return dn((n,r)=>{let u=0;n.subscribe(Zt(r,c=>e.call(t,c,u++)&&r.next(c)))})}function kl(e){return dn((t,n)=>{let r=!1;t.subscribe(Zt(n,u=>{r=!0,n.next(u)},()=>{r||n.next(e),n.complete()}))})}function cy(e=sA){return dn((t,n)=>{let r=!1;t.subscribe(Zt(n,u=>{r=!0,n.next(u)},()=>r?n.complete():n.error(e())))})}function sA(){return new Rl}function vs(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ms((u,c)=>e(u,c,r)):Dn,qo(1),n?kl(t):cy(()=>new Rl))}function Us(e,t){return Nt(t)?$(e,t,1):$(e,1)}function pi(e,t,n){const r=Nt(e)||t||n?{next:e,error:t,complete:n}:e;return r?dn((u,c)=>{var f;null===(f=r.subscribe)||void 0===f||f.call(r);let y=!0;u.subscribe(Zt(c,A=>{var L;null===(L=r.next)||void 0===L||L.call(r,A),c.next(A)},()=>{var A;y=!1,null===(A=r.complete)||void 0===A||A.call(r),c.complete()},A=>{var L;y=!1,null===(L=r.error)||void 0===L||L.call(r,A),c.error(A)},()=>{var A,L;y&&(null===(A=r.unsubscribe)||void 0===A||A.call(r)),null===(L=r.finalize)||void 0===L||L.call(r)}))}):Dn}function ys(e){return dn((t,n)=>{let c,r=null,u=!1;r=t.subscribe(Zt(n,void 0,void 0,f=>{c=E(e(f,ys(e)(t))),r?(r.unsubscribe(),r=null,c.subscribe(n)):u=!0})),u&&(r.unsubscribe(),r=null,c.subscribe(n))})}function hy(e,t){return dn(function aA(e,t,n,r,u){return(c,f)=>{let y=n,A=t,L=0;c.subscribe(Zt(f,V=>{const Z=L++;A=y?e(A,V,Z):(y=!0,V),r&&f.next(A)},u&&(()=>{y&&f.next(A),f.complete()})))}}(e,t,arguments.length>=2,!0))}function sd(e){return e<=0?()=>Y:dn((t,n)=>{let r=[];t.subscribe(Zt(n,u=>{r.push(u),e<r.length&&r.shift()},()=>{for(const u of r)n.next(u);n.complete()},void 0,()=>{r=null}))})}function fy(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ms((u,c)=>e(u,c,r)):Dn,sd(1),n?kl(t):cy(()=>new Rl))}function ad(e){return dn((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Et="primary",Go=Symbol("RouteTitle");class lA{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ka(e){return new lA(e)}function cA(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const u={};for(let c=0;c<r.length;c++){const f=r[c],y=e[c];if(f.startsWith(":"))u[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:e.slice(0,r.length),posParams:u}}function kr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let u;for(let c=0;c<n.length;c++)if(u=n[c],!dy(e[u],t[u]))return!1;return!0}function dy(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((u,c)=>r[c]===u)}return e===t}function py(e){return Array.prototype.concat.apply([],e)}function gy(e){return e.length>0?e[e.length-1]:null}function li(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ws(e){return I_(e)?e:Ju(e)?nt(Promise.resolve(e)):pt(e)}const Ol=!1,fA={exact:function vy(e,t,n){if(!js(e.segments,t.segments)||!Nl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!vy(e.children[r],t.children[r],n))return!1;return!0},subset:yy},_y={exact:function dA(e,t){return kr(e,t)},subset:function pA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>dy(e[n],t[n]))},ignored:()=>!0};function my(e,t,n){return fA[n.paths](e.root,t.root,n.matrixParams)&&_y[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function yy(e,t,n){return wy(e,t,t.segments,n)}function wy(e,t,n,r){if(e.segments.length>n.length){const u=e.segments.slice(0,n.length);return!(!js(u,n)||t.hasChildren()||!Nl(u,n,r))}if(e.segments.length===n.length){if(!js(e.segments,n)||!Nl(e.segments,n,r))return!1;for(const u in t.children)if(!e.children[u]||!yy(e.children[u],t.children[u],r))return!1;return!0}{const u=n.slice(0,e.segments.length),c=n.slice(e.segments.length);return!!(js(e.segments,u)&&Nl(e.segments,u,r)&&e.children[Et])&&wy(e.children[Et],t,c,r)}}function Nl(e,t,n){return t.every((r,u)=>_y[n](e[u].parameters,r.parameters))}class Cs{constructor(t=new Ot([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return mA.serialize(this)}}class Ot{constructor(t,n){this.segments=t,this.children=n,this.parent=null,li(n,(r,u)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ll(this)}}class Wo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ka(this.parameters)),this._parameterMap}toString(){return Sy(this)}}function js(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Zo=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:function(){return new od},providedIn:"root"}),e})();class od{parse(t){const n=new IA(t);return new Cs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ko(t.root,!0)}`,r=function wA(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(u=>`${Fl(n)}=${Fl(u)}`).join("&"):`${Fl(n)}=${Fl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function vA(e){return encodeURI(e)}(t.fragment)}`:""}`}}const mA=new od;function Ll(e){return e.segments.map(t=>Sy(t)).join("/")}function Ko(e,t){if(!e.hasChildren())return Ll(e);if(t){const n=e.children[Et]?Ko(e.children[Et],!1):"",r=[];return li(e.children,(u,c)=>{c!==Et&&r.push(`${c}:${Ko(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _A(e,t){let n=[];return li(e.children,(r,u)=>{u===Et&&(n=n.concat(t(r,u)))}),li(e.children,(r,u)=>{u!==Et&&(n=n.concat(t(r,u)))}),n}(e,(r,u)=>u===Et?[Ko(e.children[Et],!1)]:[`${u}:${Ko(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Et]?`${Ll(e)}/${n[0]}`:`${Ll(e)}/(${n.join("//")})`}}function Cy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fl(e){return Cy(e).replace(/%3B/gi,";")}function ud(e){return Cy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bl(e){return decodeURIComponent(e)}function by(e){return Bl(e.replace(/\+/g,"%20"))}function Sy(e){return`${ud(e.path)}${function yA(e){return Object.keys(e).map(t=>`;${ud(t)}=${ud(e[t])}`).join("")}(e.parameters)}`}const CA=/^[^\/()?;=#]+/;function Vl(e){const t=e.match(CA);return t?t[0]:""}const bA=/^[^=?&#]+/,xA=/^[^&#]+/;class IA{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Et]=new Ot(t,n)),r}parseSegment(){const t=Vl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new T(4009,Ol);return this.capture(t),new Wo(Bl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Vl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=Vl(this.remaining);u&&(r=u,this.capture(r))}t[Bl(n)]=Bl(r)}parseQueryParam(t){const n=function SA(e){const t=e.match(bA);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const f=function DA(e){const t=e.match(xA);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const u=by(n),c=by(r);if(t.hasOwnProperty(u)){let f=t[u];Array.isArray(f)||(f=[f],t[u]=f),f.push(c)}else t[u]=c}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vl(this.remaining),u=this.remaining[r.length];if("/"!==u&&")"!==u&&";"!==u)throw new T(4010,Ol);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Et);const f=this.parseChildren();n[c]=1===Object.keys(f).length?f[Et]:new Ot([],f),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new T(4011,Ol)}}function ld(e){return e.segments.length>0?new Ot([],{[Et]:e}):e}function zl(e){const t={};for(const r of Object.keys(e.children)){const c=zl(e.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function EA(e){if(1===e.numberOfChildren&&e.children[Et]){const t=e.children[Et];return new Ot(e.segments.concat(t.segments),t.children)}return e}(new Ot(e.segments,t))}function Hs(e){return e instanceof Cs}const cd=!1;function TA(e,t,n,r,u){if(0===n.length)return Oa(t.root,t.root,t.root,r,u);const c=function Ty(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ey(!0,0,e);let t=0,n=!1;const r=e.reduce((u,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const y={};return li(c.outlets,(A,L)=>{y[L]="string"==typeof A?A.split("/"):A}),[...u,{outlets:y}]}if(c.segmentPath)return[...u,c.segmentPath]}return"string"!=typeof c?[...u,c]:0===f?(c.split("/").forEach((y,A)=>{0==A&&"."===y||(0==A&&""===y?n=!0:".."===y?t++:""!=y&&u.push(y))}),u):[...u,c]},[]);return new Ey(n,t,r)}(n);return c.toRoot()?Oa(t.root,t.root,new Ot([],{}),r,u):function f(A){const L=function MA(e,t,n,r){if(e.isAbsolute)return new Na(t.root,!0,0);if(-1===r)return new Na(n,n===t.root,0);return function Ay(e,t,n){let r=e,u=t,c=n;for(;c>u;){if(c-=u,r=r.parent,!r)throw new T(4005,cd&&"Invalid number of '../'");u=r.segments.length}return new Na(r,!1,u-c)}(n,r+(Yo(e.commands[0])?0:1),e.numberOfDoubleDots)}(c,t,e.snapshot?._urlSegment,A),V=L.processChildren?La(L.segmentGroup,L.index,c.commands):hd(L.segmentGroup,L.index,c.commands);return Oa(t.root,L.segmentGroup,V,r,u)}(e.snapshot?._lastPathIndex)}function Yo(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Qo(e){return"object"==typeof e&&null!=e&&e.outlets}function Oa(e,t,n,r,u){let f,c={};r&&li(r,(A,L)=>{c[L]=Array.isArray(A)?A.map(V=>`${V}`):`${A}`}),f=e===t?n:Iy(e,t,n);const y=ld(zl(f));return new Cs(y,c,u)}function Iy(e,t,n){const r={};return li(e.children,(u,c)=>{r[c]=u===t?n:Iy(u,t,n)}),new Ot(e.segments,r)}class Ey{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Yo(r[0]))throw new T(4003,cd&&"Root segment cannot have matrix parameters");const u=r.find(Qo);if(u&&u!==gy(r))throw new T(4004,cd&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Na{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function hd(e,t,n){if(e||(e=new Ot([],{})),0===e.segments.length&&e.hasChildren())return La(e,t,n);const r=function RA(e,t,n){let r=0,u=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;u<e.segments.length;){if(r>=n.length)return c;const f=e.segments[u],y=n[r];if(Qo(y))break;const A=`${y}`,L=r<n.length-1?n[r+1]:null;if(u>0&&void 0===A)break;if(A&&L&&"object"==typeof L&&void 0===L.outlets){if(!Py(A,L,f))return c;r+=2}else{if(!Py(A,{},f))return c;r++}u++}return{match:!0,pathIndex:u,commandIndex:r}}(e,t,n),u=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const c=new Ot(e.segments.slice(0,r.pathIndex),{});return c.children[Et]=new Ot(e.segments.slice(r.pathIndex),e.children),La(c,0,u)}return r.match&&0===u.length?new Ot(e.segments,{}):r.match&&!e.hasChildren()?fd(e,t,n):r.match?La(e,0,u):fd(e,t,n)}function La(e,t,n){if(0===n.length)return new Ot(e.segments,{});{const r=function PA(e){return Qo(e[0])?e[0].outlets:{[Et]:e}}(n),u={};return!r[Et]&&e.children[Et]&&1===e.numberOfChildren&&0===e.children[Et].segments.length?La(e.children[Et],t,n):(li(r,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(u[f]=hd(e.children[f],t,c))}),li(e.children,(c,f)=>{void 0===r[f]&&(u[f]=c)}),new Ot(e.segments,u))}}function fd(e,t,n){const r=e.segments.slice(0,t);let u=0;for(;u<n.length;){const c=n[u];if(Qo(c)){const A=kA(c.outlets);return new Ot(r,A)}if(0===u&&Yo(n[0])){r.push(new Wo(e.segments[t].path,My(n[0]))),u++;continue}const f=Qo(c)?c.outlets[Et]:`${c}`,y=u<n.length-1?n[u+1]:null;f&&y&&Yo(y)?(r.push(new Wo(f,My(y))),u+=2):(r.push(new Wo(f,{})),u++)}return new Ot(r,{})}function kA(e){const t={};return li(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=fd(new Ot([],{}),0,n))}),t}function My(e){const t={};return li(e,(n,r)=>t[r]=`${n}`),t}function Py(e,t,n){return e==n.path&&kr(t,n.parameters)}const Xo="imperative";class Or{constructor(t,n){this.id=t,this.url=n}}class dd extends Or{constructor(t,n,r="imperative",u=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $s extends Or{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ul extends Or{constructor(t,n,r,u){super(t,n),this.reason=r,this.code=u,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jl extends Or{constructor(t,n,r,u){super(t,n),this.reason=r,this.code=u,this.type=16}}class pd extends Or{constructor(t,n,r,u){super(t,n),this.error=r,this.target=u,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OA extends Or{constructor(t,n,r,u){super(t,n),this.urlAfterRedirects=r,this.state=u,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NA extends Or{constructor(t,n,r,u){super(t,n),this.urlAfterRedirects=r,this.state=u,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LA extends Or{constructor(t,n,r,u,c){super(t,n),this.urlAfterRedirects=r,this.state=u,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FA extends Or{constructor(t,n,r,u){super(t,n),this.urlAfterRedirects=r,this.state=u,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BA extends Or{constructor(t,n,r,u){super(t,n),this.urlAfterRedirects=r,this.state=u,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VA{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zA{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class UA{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jA{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HA{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $A{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ry{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let WA=(()=>{class e{createUrlTree(n,r,u,c,f,y){return TA(n||r.root,u,c,f,y)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})(),KA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:function(t){return WA.\u0275fac(t)},providedIn:"root"}),e})();class ky{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=gd(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=gd(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=_d(t,this._root);return n.length<2?[]:n[n.length-2].children.map(u=>u.value).filter(u=>u!==t)}pathFromRoot(t){return _d(t,this._root).map(n=>n.value)}}function gd(e,t){if(e===t.value)return t;for(const n of t.children){const r=gd(e,n);if(r)return r}return null}function _d(e,t){if(e===t.value)return[t];for(const n of t.children){const r=_d(e,n);if(r.length)return r.unshift(t),r}return[]}class Jr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Fa(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class Oy extends ky{constructor(t,n){super(t),this.snapshot=n,md(this,t)}toString(){return this.snapshot.toString()}}function Ny(e,t){const n=function YA(e,t){const f=new Hl([],{},{},"",{},Et,t,null,e.root,-1,{});return new Fy("",new Jr(f,[]))}(e,t),r=new mr([new Wo("",{})]),u=new mr({}),c=new mr({}),f=new mr({}),y=new mr(""),A=new Ba(r,u,f,y,c,Et,t,n.root);return A.snapshot=n.root,new Oy(new Jr(A,[]),n)}class Ba{constructor(t,n,r,u,c,f,y,A){this.url=t,this.params=n,this.queryParams=r,this.fragment=u,this.data=c,this.outlet=f,this.component=y,this.title=this.data?.pipe(Je(L=>L[Go]))??pt(void 0),this._futureSnapshot=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(t=>ka(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(t=>ka(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ly(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const u=n[r],c=n[r-1];if(u.routeConfig&&""===u.routeConfig.path)r--;else{if(c.component)break;r--}}return function QA(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Hl{get title(){return this.data?.[Go]}constructor(t,n,r,u,c,f,y,A,L,V,Z){this.url=t,this.params=n,this.queryParams=r,this.fragment=u,this.data=c,this.outlet=f,this.component=y,this.routeConfig=A,this._urlSegment=L,this._lastPathIndex=V,this._resolve=Z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fy extends ky{constructor(t,n){super(n),this.url=t,md(this,n)}toString(){return By(this._root)}}function md(e,t){t.value._routerState=e,t.children.forEach(n=>md(e,n))}function By(e){const t=e.children.length>0?` { ${e.children.map(By).join(", ")} } `:"";return`${e.value}${t}`}function vd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,kr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),kr(t.params,n.params)||e.params.next(n.params),function hA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!kr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),kr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function yd(e,t){const n=kr(e.params,t.params)&&function gA(e,t){return js(e,t)&&e.every((n,r)=>kr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||yd(e.parent,t.parent))}function Jo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const u=function JA(e,t,n){return t.children.map(r=>{for(const u of n.children)if(e.shouldReuseRoute(r.value,u.value.snapshot))return Jo(e,r,u);return Jo(e,r)})}(e,t,n);return new Jr(r,u)}{if(e.shouldAttach(t.value)){const c=e.retrieve(t.value);if(null!==c){const f=c.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(y=>Jo(e,y)),f}}const r=function eM(e){return new Ba(new mr(e.url),new mr(e.params),new mr(e.queryParams),new mr(e.fragment),new mr(e.data),e.outlet,e.component,e)}(t.value),u=t.children.map(c=>Jo(e,c));return new Jr(r,u)}}const wd="ngNavigationCancelingError";function Vy(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Hs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,u=zy(!1,0,t);return u.url=n,u.navigationBehaviorOptions=r,u}function zy(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[wd]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Uy(e){return jy(e)&&Hs(e.url)}function jy(e){return e&&e[wd]}class tM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new eu,this.attachRef=null}}let eu=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const u=this.getOrCreateContext(n);u.outlet=r,this.contexts.set(n,u)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new tM,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $l=!1;let Hy=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new Si,this.deactivateEvents=new Si,this.attachEvents=new Si,this.detachEvents=new Si,this.parentContexts=Lt(eu),this.location=Lt(dr),this.changeDetector=Lt(Sf),this.environmentInjector=Lt($r)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:u}=n.name;if(r)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,$l);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,$l);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,$l);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,$l);this._activatedRoute=n;const u=this.location,f=n.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,A=new nM(n,y,u.injector);if(r&&function iM(e){return!!e.resolveComponentFactory}(r)){const L=r.resolveComponentFactory(f);this.activated=u.createComponent(L,u.length,A)}else this.activated=u.createComponent(f,{index:u.length,injector:A,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ht({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ts]}),e})();class nM{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Ba?this.route:t===eu?this.childContexts:this.parent.get(t,n)}}let Cd=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_n({type:e,selectors:[["ng-component"]],standalone:!0,features:[Qm],decls:1,vars:0,template:function(n,r){1&n&&Ns(0,"router-outlet")},dependencies:[Hy],encapsulation:2}),e})();function $y(e,t){return e.providers&&!e._injector&&(e._injector=al(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Sd(e){const t=e.children&&e.children.map(Sd),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Et&&(n.component=Cd),n}function nr(e){return e.outlet||Et}function qy(e,t){const n=e.filter(r=>nr(r)===t);return n.push(...e.filter(r=>nr(r)!==t)),n}function tu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class uM{constructor(t,n,r,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=u}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),vd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const u=Fa(n);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,u[f],r),delete u[f]}),li(u,(c,f)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,n,r){const u=t.value,c=n?n.value:null;if(u===c)if(u.component){const f=r.getContext(u.outlet);f&&this.deactivateChildRoutes(t,n,f.children)}else this.deactivateChildRoutes(t,n,r);else c&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),u=r&&t.value.component?r.children:n,c=Fa(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],u);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:y})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),u=r&&t.value.component?r.children:n,c=Fa(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],u);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const u=Fa(n);t.children.forEach(c=>{this.activateRoutes(c,u[c.value.outlet],r),this.forwardEvent(new $A(c.value.snapshot))}),t.children.length&&this.forwardEvent(new jA(t.value.snapshot))}activateRoutes(t,n,r){const u=t.value,c=n?n.value:null;if(vd(u),u===c)if(u.component){const f=r.getOrCreateContext(u.outlet);this.activateChildRoutes(t,n,f.children)}else this.activateChildRoutes(t,n,r);else if(u.component){const f=r.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const y=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),vd(y.route.value),this.activateChildRoutes(t,null,f.children)}else{const y=tu(u.snapshot),A=y?.get(bo)??null;f.attachRef=null,f.route=u,f.resolver=A,f.injector=y,f.outlet&&f.outlet.activateWith(u,f.injector),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class Gy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ql{constructor(t,n){this.component=t,this.route=n}}function lM(e,t,n){const r=e._root;return nu(r,t?t._root:null,n,[r.value])}function Va(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function ic(e){return null!==Gs(e)}(e)?t.get(e):e:r}function nu(e,t,n,r,u={canDeactivateChecks:[],canActivateChecks:[]}){const c=Fa(t);return e.children.forEach(f=>{(function hM(e,t,n,r,u={canDeactivateChecks:[],canActivateChecks:[]}){const c=e.value,f=t?t.value:null,y=n?n.getContext(e.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const A=function fM(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!js(e.url,t.url);case"pathParamsOrQueryParamsChange":return!js(e.url,t.url)||!kr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yd(e,t)||!kr(e.queryParams,t.queryParams);default:return!yd(e,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);A?u.canActivateChecks.push(new Gy(r)):(c.data=f.data,c._resolvedData=f._resolvedData),nu(e,t,c.component?y?y.children:null:n,r,u),A&&y&&y.outlet&&y.outlet.isActivated&&u.canDeactivateChecks.push(new ql(y.outlet.component,f))}else f&&iu(t,y,u),u.canActivateChecks.push(new Gy(r)),nu(e,null,c.component?y?y.children:null:n,r,u)})(f,c[f.value.outlet],n,r.concat([f.value]),u),delete c[f.value.outlet]}),li(c,(f,y)=>iu(f,n.getContext(y),u)),u}function iu(e,t,n){const r=Fa(e),u=e.value;li(r,(c,f)=>{iu(c,u.component?t?t.children.getContext(f):null:t,n)}),n.canDeactivateChecks.push(new ql(u.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,u))}function ru(e){return"function"==typeof e}function xd(e){return e instanceof Rl||"EmptyError"===e?.name}const Gl=Symbol("INITIAL_VALUE");function za(){return Rr(e=>ay(e.map(t=>t.pipe(qo(1),function rA(...e){const t=le(e);return dn((n,r)=>{(t?id(e,n,t):id(e,n)).subscribe(r)})}(Gl)))).pipe(Je(t=>{for(const n of t)if(!0!==n){if(n===Gl)return Gl;if(!1===n||n instanceof Cs)return n}return!0}),ms(t=>t!==Gl),qo(1)))}function Wy(e){return function si(...e){return tn(e)}(pi(t=>{if(Hs(t))throw Vy(0,t)}),Je(t=>!0===t))}const Dd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zy(e,t,n,r,u){const c=Id(e,t,n);return c.matched?function AM(e,t,n,r){const u=t.canMatch;return u&&0!==u.length?pt(u.map(f=>{const y=Va(f,e);return ws(function vM(e){return e&&ru(e.canMatch)}(y)?y.canMatch(t,n):e.runInContext(()=>y(t,n)))})).pipe(za(),Wy()):pt(!0)}(r=$y(t,r),t,n).pipe(Je(f=>!0===f?c:{...Dd})):pt(c)}function Id(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Dd}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const u=(t.matcher||cA)(n,e,t);if(!u)return{...Dd};const c={};li(u.posParams,(y,A)=>{c[A]=y.path});const f=u.consumed.length>0?{...c,...u.consumed[u.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:n.slice(u.consumed.length),parameters:f,positionalParamSegments:u.posParams??{}}}function Wl(e,t,n,r){if(n.length>0&&function RM(e,t,n){return n.some(r=>Zl(e,t,r)&&nr(r)!==Et)}(e,n,r)){const c=new Ot(t,function PM(e,t,n,r){const u={};u[Et]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const c of n)if(""===c.path&&nr(c)!==Et){const f=new Ot([],{});f._sourceSegment=e,f._segmentIndexShift=t.length,u[nr(c)]=f}return u}(e,t,r,new Ot(n,e.children)));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===n.length&&function kM(e,t,n){return n.some(r=>Zl(e,t,r))}(e,n,r)){const c=new Ot(e.segments,function MM(e,t,n,r,u){const c={};for(const f of r)if(Zl(e,n,f)&&!u[nr(f)]){const y=new Ot([],{});y._sourceSegment=e,y._segmentIndexShift=t.length,c[nr(f)]=y}return{...u,...c}}(e,t,n,r,e.children));return c._sourceSegment=e,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:n}}const u=new Ot(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function Zl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ky(e,t,n,r){return!!(nr(e)===r||r!==Et&&Zl(t,n,e))&&("**"===e.path||Id(t,e,n).matched)}function Yy(e,t,n){return 0===t.length&&!e.children[n]}const Kl=!1;class Yl{constructor(t){this.segmentGroup=t||null}}class Qy{constructor(t){this.urlTree=t}}function su(e){return $o(new Yl(e))}function Xy(e){return $o(new Qy(e))}class FM{constructor(t,n,r,u,c){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=u,this.config=c,this.allowRedirects=!0}apply(){const t=Wl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ot(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Et).pipe(Je(c=>this.createUrlTree(zl(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ys(c=>{if(c instanceof Qy)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Yl?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Et).pipe(Je(u=>this.createUrlTree(zl(u),t.queryParams,t.fragment))).pipe(ys(u=>{throw u instanceof Yl?this.noMatchError(u):u}))}noMatchError(t){return new T(4002,Kl)}createUrlTree(t,n,r){const u=ld(t);return new Cs(u,n,r)}expandSegmentGroup(t,n,r,u){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Je(c=>new Ot([],c))):this.expandSegment(t,r,n,r.segments,u,!0)}expandChildren(t,n,r){const u=[];for(const c of Object.keys(r.children))"primary"===c?u.unshift(c):u.push(c);return nt(u).pipe(Us(c=>{const f=r.children[c],y=qy(n,c);return this.expandSegmentGroup(t,y,f,c).pipe(Je(A=>({segment:A,outlet:c})))}),hy((c,f)=>(c[f.outlet]=f.segment,c),{}),fy())}expandSegment(t,n,r,u,c,f){return nt(r).pipe(Us(y=>this.expandSegmentAgainstRoute(t,n,r,y,u,c,f).pipe(ys(L=>{if(L instanceof Yl)return pt(null);throw L}))),vs(y=>!!y),ys((y,A)=>{if(xd(y))return Yy(n,u,c)?pt(new Ot([],{})):su(n);throw y}))}expandSegmentAgainstRoute(t,n,r,u,c,f,y){return Ky(u,n,c,f)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(t,n,u,c,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,u,c,f):su(n):su(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,u,c,f){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,u,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,u,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,u){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Xy(c):this.lineralizeSegments(r,c).pipe($(f=>{const y=new Ot(f,{});return this.expandSegment(t,y,n,f,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,u,c,f){const{matched:y,consumedSegments:A,remainingSegments:L,positionalParamSegments:V}=Id(n,u,c);if(!y)return su(n);const Z=this.applyRedirectCommands(A,u.redirectTo,V);return u.redirectTo.startsWith("/")?Xy(Z):this.lineralizeSegments(u,Z).pipe($(X=>this.expandSegment(t,n,r,X.concat(L),f,!1)))}matchSegmentAgainstRoute(t,n,r,u,c){return"**"===r.path?(t=$y(r,t),r.loadChildren?(r._loadedRoutes?pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Je(y=>(r._loadedRoutes=y.routes,r._loadedInjector=y.injector,new Ot(u,{})))):pt(new Ot(u,{}))):Zy(n,r,u,t).pipe(Rr(({matched:f,consumedSegments:y,remainingSegments:A})=>f?this.getChildConfig(t=r._injector??t,r,u).pipe($(V=>{const Z=V.injector??t,X=V.routes,{segmentGroup:re,slicedSegments:fe}=Wl(n,y,A,X),ye=new Ot(re.segments,re.children);if(0===fe.length&&ye.hasChildren())return this.expandChildren(Z,X,ye).pipe(Je(Se=>new Ot(y,Se)));if(0===X.length&&0===fe.length)return pt(new Ot(y,{}));const be=nr(r)===c;return this.expandSegment(Z,ye,X,fe,be?Et:c,!0).pipe(Je(Ge=>new Ot(y.concat(Ge.segments),Ge.children)))})):su(n)))}getChildConfig(t,n,r){return n.children?pt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?pt({routes:n._loadedRoutes,injector:n._loadedInjector}):function TM(e,t,n,r){const u=t.canLoad;return void 0===u||0===u.length?pt(!0):pt(u.map(f=>{const y=Va(f,e);return ws(function pM(e){return e&&ru(e.canLoad)}(y)?y.canLoad(t,n):e.runInContext(()=>y(t,n)))})).pipe(za(),Wy())}(t,n,r).pipe($(u=>u?this.configLoader.loadChildren(t,n).pipe(pi(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):function NM(e){return $o(zy(Kl,3))}())):pt({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],u=n.root;for(;;){if(r=r.concat(u.segments),0===u.numberOfChildren)return pt(r);if(u.numberOfChildren>1||!u.children[Et])return t.redirectTo,$o(new T(4e3,Kl));u=u.children[Et]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,u){const c=this.createSegmentGroup(t,n.root,r,u);return new Cs(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return li(t,(u,c)=>{if("string"==typeof u&&u.startsWith(":")){const y=u.substring(1);r[c]=n[y]}else r[c]=u}),r}createSegmentGroup(t,n,r,u){const c=this.createSegments(t,n.segments,r,u);let f={};return li(n.children,(y,A)=>{f[A]=this.createSegmentGroup(t,y,r,u)}),new Ot(c,f)}createSegments(t,n,r,u){return n.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,u):this.findOrReturn(c,r))}findPosParam(t,n,r){const u=r[n.path.substring(1)];if(!u)throw new T(4001,Kl);return u}findOrReturn(t,n){let r=0;for(const u of n){if(u.path===t.path)return n.splice(r),u;r++}return t}}class VM{}class jM{constructor(t,n,r,u,c,f,y){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=u,this.url=c,this.paramsInheritanceStrategy=f,this.urlSerializer=y}recognize(){const t=Wl(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Et).pipe(Je(n=>{if(null===n)return null;const r=new Hl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new Jr(r,n),c=new Fy(this.url,u);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(t){const n=t.value,r=Ly(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(t,n,r,u){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,u)}processChildren(t,n,r){return nt(Object.keys(r.children)).pipe(Us(u=>{const c=r.children[u],f=qy(n,u);return this.processSegmentGroup(t,f,c,u)}),hy((u,c)=>u&&c?(u.push(...c),u):null),function oA(e,t=!1){return dn((n,r)=>{let u=0;n.subscribe(Zt(r,c=>{const f=e(c,u++);(f||t)&&r.next(c),!f&&r.complete()}))})}(u=>null!==u),kl(null),fy(),Je(u=>{if(null===u)return null;const c=ew(u);return function HM(e){e.sort((t,n)=>t.value.outlet===Et?-1:n.value.outlet===Et?1:t.value.outlet.localeCompare(n.value.outlet))}(c),c}))}processSegment(t,n,r,u,c){return nt(n).pipe(Us(f=>this.processSegmentAgainstRoute(f._injector??t,f,r,u,c)),vs(f=>!!f),ys(f=>{if(xd(f))return Yy(r,u,c)?pt([]):pt(null);throw f}))}processSegmentAgainstRoute(t,n,r,u,c){if(n.redirectTo||!Ky(n,r,u,c))return pt(null);let f;if("**"===n.path){const y=u.length>0?gy(u).parameters:{},A=nw(r)+u.length;f=pt({snapshot:new Hl(u,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iw(n),nr(n),n.component??n._loadedComponent??null,n,tw(r),A,rw(n)),consumedSegments:[],remainingSegments:[]})}else f=Zy(r,n,u,t).pipe(Je(({matched:y,consumedSegments:A,remainingSegments:L,parameters:V})=>{if(!y)return null;const Z=nw(r)+A.length;return{snapshot:new Hl(A,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iw(n),nr(n),n.component??n._loadedComponent??null,n,tw(r),Z,rw(n)),consumedSegments:A,remainingSegments:L}}));return f.pipe(Rr(y=>{if(null===y)return pt(null);const{snapshot:A,consumedSegments:L,remainingSegments:V}=y;t=n._injector??t;const Z=n._loadedInjector??t,X=function $M(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:re,slicedSegments:fe}=Wl(r,L,V,X.filter(be=>void 0===be.redirectTo));if(0===fe.length&&re.hasChildren())return this.processChildren(Z,X,re).pipe(Je(be=>null===be?null:[new Jr(A,be)]));if(0===X.length&&0===fe.length)return pt([new Jr(A,[])]);const ye=nr(n)===c;return this.processSegment(Z,X,re,fe,ye?Et:c).pipe(Je(be=>null===be?null:[new Jr(A,be)]))}))}}function qM(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ew(e){const t=[],n=new Set;for(const r of e){if(!qM(r)){t.push(r);continue}const u=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==u?(u.children.push(...r.children),n.add(u)):t.push(r)}for(const r of n){const u=ew(r.children);t.push(new Jr(r.value,u))}return t.filter(r=>!n.has(r))}function tw(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function nw(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function iw(e){return e.data||{}}function rw(e){return e.resolve||{}}function sw(e){return"string"==typeof e.title||null===e.title}function Ed(e){return Rr(t=>{const n=e(t);return n?nt(n).pipe(Je(()=>t)):pt(t)})}const Ua=new _t("ROUTES");let Td=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Lt(Vv)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ws(n.loadComponent()).pipe(Je(ow),pi(c=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=c}),ad(()=>{this.componentLoaders.delete(n)})),u=new ly(r,()=>new at).pipe(rd());return this.componentLoaders.set(n,u),u}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Je(y=>{this.onLoadEndListener&&this.onLoadEndListener(r);let A,L,V=!1;Array.isArray(y)?L=y:(A=y.create(n).injector,L=py(A.get(Ua,[],rt.Self|rt.Optional)));return{routes:L.map(Sd),injector:A}}),ad(()=>{this.childrenLoaders.delete(r)})),f=new ly(c,()=>new at).pipe(rd());return this.childrenLoaders.set(r,f),f}loadModuleFactoryOrRoutes(n){return ws(n()).pipe(Je(ow),$(r=>r instanceof Km||Array.isArray(r)?pt(r):nt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ow(e){return function JM(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Xl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new at,this.configLoader=Lt(Td),this.environmentInjector=Lt($r),this.urlSerializer=Lt(Zo),this.rootContexts=Lt(eu),this.navigationId=0,this.afterPreactivation=()=>pt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new zA(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new VA(u))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new mr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xo,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ms(r=>0!==r.id),Je(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Rr(r=>{let u=!1,c=!1;return pt(r).pipe(pi(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rr(f=>{const y=n.browserUrlTree.toString(),A=!n.navigated||f.extractedUrl.toString()!==y||y!==n.currentUrlTree.toString();if(!A&&"reload"!==(f.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const V="";return this.events.next(new jl(f.id,n.serializeUrl(r.rawUrl),V,0)),n.rawUrlTree=f.rawUrl,f.resolve(null),Y}if(n.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return uw(f.source)&&(n.browserUrlTree=f.extractedUrl),pt(f).pipe(Rr(V=>{const Z=this.transitions?.getValue();return this.events.next(new dd(V.id,this.urlSerializer.serialize(V.extractedUrl),V.source,V.restoredState)),Z!==this.transitions?.getValue()?Y:Promise.resolve(V)}),function BM(e,t,n,r){return Rr(u=>function LM(e,t,n,r,u){return new FM(e,t,n,r,u).apply()}(e,t,n,u.extractedUrl,r).pipe(Je(c=>({...u,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),pi(V=>{this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects},r.urlAfterRedirects=V.urlAfterRedirects}),function WM(e,t,n,r,u){return $(c=>function UM(e,t,n,r,u,c,f="emptyOnly"){return new jM(e,t,n,r,u,f,c).recognize().pipe(Rr(y=>null===y?function zM(e){return new Ne(t=>t.error(e))}(new VM):pt(y)))}(e,t,n,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,u).pipe(Je(f=>({...c,targetSnapshot:f}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),pi(V=>{if(r.targetSnapshot=V.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!V.extras.skipLocationChange){const X=n.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);n.setBrowserUrl(X,V)}n.browserUrlTree=V.urlAfterRedirects}const Z=new OA(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(Z)}));if(A&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:V,extractedUrl:Z,source:X,restoredState:re,extras:fe}=f,ye=new dd(V,this.urlSerializer.serialize(Z),X,re);this.events.next(ye);const be=Ny(Z,this.rootComponentType).snapshot;return pt(r={...f,targetSnapshot:be,urlAfterRedirects:Z,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}})}{const V="";return this.events.next(new jl(f.id,n.serializeUrl(r.extractedUrl),V,1)),n.rawUrlTree=f.rawUrl,f.resolve(null),Y}}),pi(f=>{const y=new NA(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),Je(f=>r={...f,guards:lM(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function wM(e,t){return $(n=>{const{targetSnapshot:r,currentSnapshot:u,guards:{canActivateChecks:c,canDeactivateChecks:f}}=n;return 0===f.length&&0===c.length?pt({...n,guardsResult:!0}):function CM(e,t,n,r){return nt(e).pipe($(u=>function EM(e,t,n,r,u){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?pt(c.map(y=>{const A=tu(t)??u,L=Va(y,A);return ws(function mM(e){return e&&ru(e.canDeactivate)}(L)?L.canDeactivate(e,t,n,r):A.runInContext(()=>L(e,t,n,r))).pipe(vs())})).pipe(za()):pt(!0)}(u.component,u.route,n,t,r)),vs(u=>!0!==u,!0))}(f,r,u,e).pipe($(y=>y&&function dM(e){return"boolean"==typeof e}(y)?function bM(e,t,n,r){return nt(t).pipe(Us(u=>id(function xM(e,t){return null!==e&&t&&t(new UA(e)),pt(!0)}(u.route.parent,r),function SM(e,t){return null!==e&&t&&t(new HA(e)),pt(!0)}(u.route,r),function IM(e,t,n){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function cM(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(f)).filter(f=>null!==f).map(f=>uy(()=>pt(f.guards.map(A=>{const L=tu(f.node)??n,V=Va(A,L);return ws(function _M(e){return e&&ru(e.canActivateChild)}(V)?V.canActivateChild(r,e):L.runInContext(()=>V(r,e))).pipe(vs())})).pipe(za())));return pt(c).pipe(za())}(e,u.path,n),function DM(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const u=r.map(c=>uy(()=>{const f=tu(t)??n,y=Va(c,f);return ws(function gM(e){return e&&ru(e.canActivate)}(y)?y.canActivate(t,e):f.runInContext(()=>y(t,e))).pipe(vs())}));return pt(u).pipe(za())}(e,u.route,n))),vs(u=>!0!==u,!0))}(r,c,e,t):pt(y)),Je(y=>({...n,guardsResult:y})))})}(this.environmentInjector,f=>this.events.next(f)),pi(f=>{if(r.guardsResult=f.guardsResult,Hs(f.guardsResult))throw Vy(0,f.guardsResult);const y=new LA(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(y)}),ms(f=>!!f.guardsResult||(n.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Ed(f=>{if(f.guards.canActivateChecks.length)return pt(f).pipe(pi(y=>{const A=new FA(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(A)}),Rr(y=>{let A=!1;return pt(y).pipe(function ZM(e,t){return $(n=>{const{targetSnapshot:r,guards:{canActivateChecks:u}}=n;if(!u.length)return pt(n);let c=0;return nt(u).pipe(Us(f=>function KM(e,t,n,r){const u=e.routeConfig,c=e._resolve;return void 0!==u?.title&&!sw(u)&&(c[Go]=u.title),function YM(e,t,n,r){const u=function QM(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===u.length)return pt({});const c={};return nt(u).pipe($(f=>function XM(e,t,n,r){const u=tu(t)??r,c=Va(e,u);return ws(c.resolve?c.resolve(t,n):u.runInContext(()=>c(t,n)))}(e[f],t,n,r).pipe(vs(),pi(y=>{c[f]=y}))),sd(1),function uA(e){return Je(()=>e)}(c),ys(f=>xd(f)?Y:$o(f)))}(c,e,t,r).pipe(Je(f=>(e._resolvedData=f,e.data=Ly(e,n).resolve,u&&sw(u)&&(e.data[Go]=u.title),null)))}(f.route,r,e,t)),pi(()=>c++),sd(1),$(f=>c===u.length?pt(n):Y))})}(n.paramsInheritanceStrategy,this.environmentInjector),pi({next:()=>A=!0,complete:()=>{A||(n.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),pi(y=>{const A=new BA(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(A)}))}),Ed(f=>{const y=A=>{const L=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(A.routeConfig).pipe(pi(V=>{A.component=V}),Je(()=>{})));for(const V of A.children)L.push(...y(V));return L};return ay(y(f.targetSnapshot.root)).pipe(kl(),qo(1))}),Ed(()=>this.afterPreactivation()),Je(f=>{const y=function XA(e,t,n){const r=Jo(e,t._root,n?n._root:void 0);return new Oy(r,t)}(n.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:y}}),pi(f=>{n.currentUrlTree=f.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),n.routerState=f.targetRouterState,"deferred"===n.urlUpdateStrategy&&(f.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,f),n.browserUrlTree=f.urlAfterRedirects)}),((e,t,n)=>Je(r=>(new uM(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,f=>this.events.next(f)),pi({next:f=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new $s(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{u=!0}}),ad(()=>{u||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ys(f=>{if(c=!0,jy(f)){Uy(f)||(n.navigated=!0,n.restoreHistory(r,!0));const y=new Ul(r.id,this.urlSerializer.serialize(r.extractedUrl),f.message,f.cancellationCode);if(this.events.next(y),Uy(f)){const A=n.urlHandlingStrategy.merge(f.url,n.rawUrlTree),L={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||uw(r.source)};n.scheduleNavigation(A,Xo,null,L,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const y=new pd(r.id,this.urlSerializer.serialize(r.extractedUrl),f,r.targetSnapshot??void 0);this.events.next(y);try{r.resolve(n.errorHandler(f))}catch(A){r.reject(A)}}return Y}))}))}cancelNavigationTransition(n,r,u){const c=new Ul(n.id,this.urlSerializer.serialize(n.extractedUrl),r,u);this.events.next(c),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uw(e){return e!==Xo}let lw=(()=>{class e{buildTitle(n){let r,u=n.root;for(;void 0!==u;)r=this.getResolvedTitleForRoute(u)??r,u=u.children.find(c=>c.outlet===Et);return r}getResolvedTitleForRoute(n){return n.data[Go]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:function(){return Lt(eP)},providedIn:"root"}),e})(),eP=(()=>{class e extends lw{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(lt(iy))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:function(){return Lt(iP)},providedIn:"root"}),e})();class nP{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let iP=(()=>{class e extends nP{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function mp(e){return yi(()=>{const t=e.prototype.constructor,n=t[Ni]||Ec(t),r=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==r;){const c=u[Ni]||Ec(u);if(c&&c!==n)return c;u=Object.getPrototypeOf(u)}return c=>new c})}(e)))(r||e)}}(),e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Jl=new _t("",{providedIn:"root",factory:()=>({})});let sP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:function(){return Lt(aP)},providedIn:"root"}),e})(),aP=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function oP(e){throw e}function uP(e,t,n){return t.parse("/")}const lP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Lt(PI),this.isNgZoneEnabled=!1,this.options=Lt(Jl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||oP,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uP,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Lt(sP),this.routeReuseStrategy=Lt(tP),this.urlCreationStrategy=Lt(KA),this.titleStrategy=Lt(lw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=py(Lt(Ua,{optional:!0})??[]),this.navigationTransitions=Lt(Xl),this.urlSerializer=Lt(Zo),this.location=Lt(Rf),this.isNgZoneEnabled=Lt(On)instanceof On&&On.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ny(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xo,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,u){const c={replaceUrl:!0},f=u?.navigationId?u:null;if(u){const A={...u};delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(c.state=A)}const y=this.parseUrl(n);this.scheduleNavigation(y,r,f,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Sd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:u,queryParams:c,fragment:f,queryParamsHandling:y,preserveFragment:A}=r,L=A?this.currentUrlTree.fragment:f;let V=null;switch(y){case"merge":V={...this.currentUrlTree.queryParams,...c};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=c||null}return null!==V&&(V=this.removeEmptyProps(V)),this.urlCreationStrategy.createUrlTree(u,this.routerState,this.currentUrlTree,n,V,L??null)}navigateByUrl(n,r={skipLocationChange:!1}){const u=Hs(n)?n:this.parseUrl(n),c=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(c,Xo,null,r)}navigate(n,r={skipLocationChange:!1}){return function hP(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(u){r=this.malformedUriErrorHandler(u,this.urlSerializer,n)}return r}isActive(n,r){let u;if(u=!0===r?{...lP}:!1===r?{...cP}:r,Hs(n))return my(this.currentUrlTree,n,u);const c=this.parseUrl(n);return my(this.currentUrlTree,c,u)}removeEmptyProps(n){return Object.keys(n).reduce((r,u)=>{const c=n[u];return null!=c&&(r[u]=c),r},{})}scheduleNavigation(n,r,u,c,f){if(this.disposed)return Promise.resolve(!1);let y,A,L,V;return f?(y=f.resolve,A=f.reject,L=f.promise):L=new Promise((Z,X)=>{y=Z,A=X}),V="computed"===this.canceledNavigationResolution?u&&u.\u0275routerPageId?u.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:V,source:r,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:c,resolve:y,reject:A,promise:L,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),L.catch(Z=>Promise.reject(Z))}setBrowserUrl(n,r){const u=this.urlSerializer.serialize(n),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(u)||r.extras.replaceUrl?this.location.replaceState(u,"",c):this.location.go(u,"",c)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===u?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class cw{}let pP=(()=>{class e{constructor(n,r,u,c,f){this.router=n,this.injector=u,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(ms(n=>n instanceof $s),Us(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const u=[];for(const c of r){c.providers&&!c._injector&&(c._injector=al(c.providers,n,`Route: ${c.path}`));const f=c._injector??n,y=c._loadedInjector??f;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?u.push(this.preloadConfig(f,c)):(c.children||c._loadedRoutes)&&u.push(this.processRoutes(y,c.children??c._loadedRoutes))}return nt(u).pipe(K())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let u;u=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):pt(null);const c=u.pipe($(f=>null===f?pt(void 0):(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,this.processRoutes(f.injector??n,f.routes))));return r.loadComponent&&!r._loadedComponent?nt([c,this.loader.loadComponent(r)]).pipe(K()):c})}}return e.\u0275fac=function(n){return new(n||e)(lt(ji),lt(Vv),lt($r),lt(cw),lt(Td))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Pd=new _t("");let hw=(()=>{class e{constructor(n,r,u,c,f={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=u,this.zone=c,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $s&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ry&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ry(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Wg(){throw new Error("invalid")}()},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})();var Hi=(()=>((Hi=Hi||{})[Hi.COMPLETE=0]="COMPLETE",Hi[Hi.FAILED=1]="FAILED",Hi[Hi.REDIRECTING=2]="REDIRECTING",Hi))();const ja=!1;function bs(e,t){return{\u0275kind:e,\u0275providers:t}}const Rd=new _t("",{providedIn:"root",factory:()=>!1});function dw(){const e=Lt(Gr);return t=>{const n=e.get(dl);if(t!==n.components[0])return;const r=e.get(ji),u=e.get(pw);1===e.get(kd)&&r.initialNavigation(),e.get(gw,null,rt.Optional)?.setUpPreloading(),e.get(Pd,null,rt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),u.closed||(u.next(),u.unsubscribe())}}const pw=new _t(ja?"bootstrap done indicator":"",{factory:()=>new at}),kd=new _t(ja?"initial navigation":"",{providedIn:"root",factory:()=>1});function yP(){let e=[];return e=ja?[{provide:Vu,multi:!0,useFactory:()=>{const t=Lt(ji);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function qA(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],bs(1,e)}const gw=new _t(ja?"router preloader":"");function wP(e){return bs(0,[{provide:gw,useExisting:pP},{provide:cw,useExisting:e}])}const au=!1,_w=new _t(au?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),CP=[Rf,{provide:Zo,useClass:od},ji,eu,{provide:Ba,useFactory:function fw(e){return e.routerState.root},deps:[ji]},Td,au?{provide:Rd,useValue:!0}:[]];function bP(){return new Wv("Router",ji)}let mw=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[CP,au&&r?.enableTracing?yP().\u0275providers:[],{provide:Ua,multi:!0,useValue:n},{provide:_w,useFactory:IP,deps:[[ji,new ho,new fo]]},{provide:Jl,useValue:r||{}},r?.useHash?{provide:zs,useClass:vE}:{provide:zs,useClass:m0},{provide:Pd,useFactory:()=>{const e=Lt(z2),t=Lt(On),n=Lt(Jl),r=Lt(Xl),u=Lt(Zo);return n.scrollOffset&&e.setOffset(n.scrollOffset),new hw(u,r,e,t,n)}},r?.preloadingStrategy?wP(r.preloadingStrategy).\u0275providers:[],{provide:Wv,multi:!0,useFactory:bP},r?.initialNavigation?EP(r):[],[{provide:vw,useFactory:dw},{provide:Gv,multi:!0,useExisting:vw}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ua,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(lt(_w,8))},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({imports:[Cd]}),e})();function IP(e){if(au&&e)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function EP(e){return["disabled"===e.initialNavigation?bs(3,[{provide:cl,multi:!0,useFactory:()=>{const t=Lt(ji);return()=>{t.setUpLocationChangeListener()}}},{provide:kd,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?bs(2,[{provide:kd,useValue:0},{provide:cl,multi:!0,deps:[Gr],useFactory:t=>{const n=t.get(_E,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const u=t.get(ji),c=t.get(pw);(function gP(e,t){e.events.pipe(ms(n=>n instanceof $s||n instanceof Ul||n instanceof pd||n instanceof jl),Je(n=>n instanceof $s||n instanceof jl?Hi.COMPLETE:n instanceof Ul&&(0===n.code||1===n.code)?Hi.REDIRECTING:Hi.FAILED),ms(n=>n!==Hi.REDIRECTING),qo(1)).subscribe(()=>{t()})})(u,()=>{r(!0)}),t.get(Xl).afterPreactivation=()=>(r(!0),c.closed?pt(void 0):c),u.initialNavigation()}))}}]).\u0275providers:[]]}const vw=new _t(au?"Router Initializer":""),AP=[];let MP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=yr({imports:[mw.forRoot(AP),mw]}),e})();var ou=Bt(956),ci=Bt(946);class Ha{constructor(t,n,r){this.P1=t,this.P2=n,this.name=r,this.v=new ci.Point(this.P2.x-this.P1.x,this.P2.y-this.P1.y),this.n=new ci.Point(this.P2.y-this.P1.y,this.P2.x-this.P1.x),this.length=this.v.length,this.angleV=this.v.angle,this.angleN=this.n.angle,this.a=this.n.x,this.b=-this.n.y,this.c=-(this.a*this.P1.x+this.b*this.P1.y),this.inputPositionPoint=this.getInputVector(10).point}getParallelLine(t){let n=new ci.Point(this.n.x,this.n.y);n.length=t;let r=new ci.Point(this.P1.x+n.x,this.P1.y-n.y),u=new ci.Point(this.P2.x+n.x,this.P2.y-n.y);return new Ha(u,r)}drawRuler(t){return this.drawHalfRuler(this.P1,t)+" "+this.drawHalfRuler(this.P2,t)+" Z"}drawHalfRuler(t,n){let r=1;t===this.P2&&(r=-1);let u=new ci.Point(this.n.x,this.n.y),c=new ci.Point(this.n.x,this.n.y),f=new ci.Point(this.n.x,this.n.y),y=new ci.Point(this.v.x,this.v.y);u.length=n,c.length=n+5,f.length=n+10,y.length=r*(this.length/2-25);let A=new ci.Point(t.x+u.x,t.y-u.y),L=new ci.Point(t.x+c.x,t.y-c.y),V=new ci.Point(t.x+f.x,t.y-f.y),Z=new ci.Point(L.x+y.x,L.y+y.y);return"M"+L.x+" "+L.y+" L"+A.x+" "+A.y+" L"+V.x+" "+V.y+"M"+L.x+" "+L.y+" L"+Z.x+" "+Z.y}getInputVector(t){let n=new ci.Point(this.n.x,this.n.y);n.length=t+27;let r=new ci.Point(this.P1.x+n.x,this.P1.y-n.y),u=new ci.Point(this.v.x,this.v.y);return u.length=this.length/2-25,{point:new ci.Point(r.x+u.x,r.y+u.y),angle:u.angle}}}let PP=(()=>{class e{constructor(){}getIntersection(n,r){return new ou.Point((n.b*r.c-r.b*n.c)/(n.a*r.b-r.a*n.b),(n.c*r.a-r.c*n.a)/(n.a*r.b-r.a*n.b))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Od=(()=>{class e{constructor(n){this.helpersService=n,this.ABLength=500,this.BCLength=500,this.CDLength=500,this.DALength=500,this.wallWidth=10}getAllIntersection(){this.outerA=this.helpersService.getIntersection(this.DA.getParallelLine(10),this.AB.getParallelLine(10)),this.outerB=this.helpersService.getIntersection(this.AB.getParallelLine(10),this.BC.getParallelLine(10)),this.outerC=this.helpersService.getIntersection(this.BC.getParallelLine(10),this.CD.getParallelLine(10)),this.outerD=this.helpersService.getIntersection(this.CD.getParallelLine(10),this.DA.getParallelLine(10))}drawAll(){this.drawWalls(),this.drawRulers()}drawWalls(){this.AB=new Ha(this.A,this.B,"AB"),this.BC=new Ha(this.B,this.C,"BC"),this.CD=new Ha(this.C,this.D,"CD"),this.DA=new Ha(this.D,this.A,"DA"),this.getAllIntersection(),this.drawWallA(),this.drawWallB(),this.drawWallC(),this.drawWallD()}drawWallA(){this.wallA=this.A.x+","+this.A.y+" "+this.B.x+","+this.B.y+" "+this.outerB.x+","+this.outerB.y+" "+this.outerA.x+","+this.outerA.y}drawWallB(){this.wallB=this.B.x+","+this.B.y+" "+this.C.x+","+this.C.y+" "+this.outerC.x+","+this.outerC.y+" "+this.outerB.x+","+this.outerB.y}drawWallC(){this.wallC=this.C.x+","+this.C.y+" "+this.D.x+","+this.D.y+" "+this.outerD.x+","+this.outerD.y+" "+this.outerC.x+","+this.outerC.y}drawWallD(){this.wallD=this.D.x+","+this.D.y+" "+this.A.x+","+this.A.y+" "+this.outerA.x+","+this.outerA.y+" "+this.outerD.x+","+this.outerD.y}drawRulers(){this.drawRulerA(),this.drawRulerB(),this.drawRulerC(),this.drawRulerD()}drawRulerA(){this.rulerA=this.AB.drawRuler(20)}drawRulerB(){this.rulerB=this.BC.drawRuler(20)}drawRulerC(){this.rulerC=this.CD.drawRuler(20),document.getElementById("inputCD")}drawRulerD(){this.rulerD=this.DA.drawRuler(20),document.getElementById("inputDA")}}return e.\u0275fac=function(n){return new(n||e)(lt(PP))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const RP=["app-square-room-walls",""];let kP=(()=>{class e{constructor(n){this.squareRoomService=n}ngOnInit(){this.squareRoomService.A=new ou.Point(100,100),this.squareRoomService.B=new ou.Point(600,100),this.squareRoomService.C=new ou.Point(600,600),this.squareRoomService.D=new ou.Point(100,600),this.squareRoomService.drawWalls()}}return e.\u0275fac=function(n){return new(n||e)(ft(Od))},e.\u0275cmp=_n({type:e,selectors:[["","app-square-room-walls",""]],attrs:RP,decls:5,vars:4,template:function(n,r){1&n&&(jr(),ii(0,"g"),Ns(1,"polygon")(2,"polygon")(3,"polygon")(4,"polygon"),Mi()),2&n&&(kn(1),Yn("points",r.squareRoomService.wallA),kn(1),Yn("points",r.squareRoomService.wallB),kn(1),Yn("points",r.squareRoomService.wallC),kn(1),Yn("points",r.squareRoomService.wallD))},styles:["polygon[_ngcontent-%COMP%]{fill:gray;stroke:#000;stroke-width:1}polygon[_ngcontent-%COMP%]:hover{cursor:pointer;fill:#5b5b5b}"]}),e})();const OP=["app-square-room-rulers",""];let NP=(()=>{class e{constructor(n){this.squareRoomService=n}ngOnInit(){this.squareRoomService.drawRulers()}startDrag(n,r,u){n.preventDefault();const c=n.clientX,f=n.clientY,y=r.getAttributeNS(null,"x"),A=r.getAttributeNS(null,"y"),L=Z=>{const re=A+Z.clientY-f;switch(r.setAttributeNS(null,"x",y+Z.clientX-c),r.setAttributeNS(null,"y",re),u){case"AB":this.squareRoomService.AB.length=+r.getAttributeNS(null,"width");break;case"BC":this.squareRoomService.BC.length=+r.getAttributeNS(null,"height");break;case"CD":this.squareRoomService.CD.length=+r.getAttributeNS(null,"width");break;case"DA":this.squareRoomService.DA.length=+r.getAttributeNS(null,"height")}},V=Z=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",V)};document.addEventListener("mousemove",L),document.addEventListener("mouseup",V)}}return e.\u0275fac=function(n){return new(n||e)(ft(Od))},e.\u0275cmp=_n({type:e,selectors:[["","app-square-room-rulers",""]],attrs:OP,decls:17,vars:36,consts:[["id","inputAB","type","text",3,"value","change"],["inputAB",""],["id","inputBC","type","text",3,"value","change"],["inputBC",""],["id","inputCD","type","text",3,"value","change"],["inputCD",""],["id","inputDA","type","text",3,"value","change"],["inputDA",""],["stroke","black","fill","none"]],template:function(n,r){if(1&n){const u=function x_(){return Ie()}();jr(),ii(0,"g")(1,"foreignObject"),so(),ii(2,"input",0,1),Ji("change",function(){no(u);const f=Eo(6);return io(r.squareRoomService.BC.length=+f.value)}),Mi()(),jr(),ii(4,"foreignObject"),so(),ii(5,"input",2,3),Ji("change",function(){no(u);const f=Eo(6);return io(r.squareRoomService.BC.length=+f.value)}),Mi()(),jr(),ii(7,"foreignObject"),so(),ii(8,"input",4,5),Ji("change",function(){no(u);const f=Eo(9);return io(r.squareRoomService.CD.length=+f.value)}),Mi()(),jr(),ii(10,"foreignObject"),so(),ii(11,"input",6,7),Ji("change",function(){no(u);const f=Eo(12);return io(r.squareRoomService.DA.length=+f.value)}),Mi()(),jr(),Ns(13,"path",8)(14,"path",8)(15,"path",8)(16,"path",8),Mi()}2&n&&(kn(1),Da("transform","\n      rotate(\n        ",r.squareRoomService.AB.getInputVector(10).angle,",\n        ",r.squareRoomService.AB.inputPositionPoint.x,",\n        ",r.squareRoomService.AB.inputPositionPoint.y,"\n      )\n    "),Yn("height",50)("width",50)("x",r.squareRoomService.AB.inputPositionPoint.x)("y",r.squareRoomService.AB.inputPositionPoint.y),kn(1),Ia("value",r.squareRoomService.AB.length),kn(2),Da("transform","\n      rotate(\n        ",r.squareRoomService.BC.getInputVector(10).angle,",\n        ",r.squareRoomService.BC.inputPositionPoint.x,",\n        ",r.squareRoomService.BC.inputPositionPoint.y,"\n      )\n    "),Yn("height",50)("width",50)("x",r.squareRoomService.BC.inputPositionPoint.x)("y",r.squareRoomService.BC.inputPositionPoint.y),kn(1),Ia("value",r.squareRoomService.BC.length),kn(2),Da("transform","\n      rotate(\n        ",r.squareRoomService.CD.getInputVector(10).angle,",\n        ",r.squareRoomService.CD.inputPositionPoint.x,",\n        ",r.squareRoomService.CD.inputPositionPoint.y,"\n      )\n    "),Yn("height",50)("width",50)("x",r.squareRoomService.CD.inputPositionPoint.x)("y",r.squareRoomService.CD.inputPositionPoint.y),kn(1),Ia("value",r.squareRoomService.CD.length),kn(2),Da("transform","\n      rotate(\n        ",r.squareRoomService.DA.getInputVector(10).angle,",\n        ",r.squareRoomService.DA.inputPositionPoint.x,",\n        ",r.squareRoomService.DA.inputPositionPoint.y,"\n      )\n    "),Yn("height",50)("width",50)("x",r.squareRoomService.DA.inputPositionPoint.x)("y",r.squareRoomService.DA.inputPositionPoint.y),kn(1),Ia("value",r.squareRoomService.DA.length),kn(2),Yn("d",r.squareRoomService.rulerA),kn(1),Yn("d",r.squareRoomService.rulerB),kn(1),Yn("d",r.squareRoomService.rulerC),kn(1),Yn("d",r.squareRoomService.rulerD))},styles:["input[_ngcontent-%COMP%]{width:40px;height:12px;padding:4px;border:1px solid black;margin:0;text-align:center}"]}),e})();const LP=["svgEl"],FP=["app-square-room-resize",""];let BP=(()=>{class e{constructor(n){this.squareRoomService=n,this.draggingPoint=null,this.isDraggingPoint=!1}ngOnInit(){}upHandle(n){this.isDraggingPoint=!1,this.draggingPoint=null}moveHandle(n){n.preventDefault(),n.stopPropagation(),this.isDraggingPoint&&(this.svgEl=this.svgElRef.nativeElement,this.svgElArr=[this.svgEl.parentElement.parentElement.getBoundingClientRect().x,this.svgEl.parentElement.parentElement.getBoundingClientRect().y],this.draggingPoint.x=n.pageX-this.svgElArr[0],this.draggingPoint.y=n.pageY-this.svgElArr[1],this.squareRoomService.drawAll())}downHandlePoints(n,r){this.isDraggingPoint=!0,this.draggingPoint=r,n.preventDefault()}}return e.\u0275fac=function(n){return new(n||e)(ft(Od))},e.\u0275cmp=_n({type:e,selectors:[["","app-square-room-resize",""]],viewQuery:function(n,r){if(1&n&&pv(LP,7),2&n){let u;af(u=function uf(){return function lI(e,t){return e[pe].queries[t].queryList}(Ie(),Qd())}())&&(r.svgElRef=u.first)}},hostBindings:function(n,r){1&n&&Ji("pointerup",function(c){return r.upHandle(c)},0,ph)("pointermove",function(c){return r.moveHandle(c)},!1,ph)},attrs:FP,decls:6,vars:8,consts:[["id","svgEl"],["svgEl",""],["r","8",3,"pointerdown"]],template:function(n,r){1&n&&(jr(),ii(0,"g",0,1)(2,"circle",2),Ji("pointerdown",function(c){return r.downHandlePoints(c,r.squareRoomService.A)}),Mi(),ii(3,"circle",2),Ji("pointerdown",function(c){return r.downHandlePoints(c,r.squareRoomService.B)}),Mi(),ii(4,"circle",2),Ji("pointerdown",function(c){return r.downHandlePoints(c,r.squareRoomService.C)}),Mi(),ii(5,"circle",2),Ji("pointerdown",function(c){return r.downHandlePoints(c,r.squareRoomService.D)}),Mi()()),2&n&&(kn(2),Yn("cx",r.squareRoomService.A.x)("cy",r.squareRoomService.A.y),kn(1),Yn("cx",r.squareRoomService.B.x)("cy",r.squareRoomService.B.y),kn(1),Yn("cx",r.squareRoomService.C.x)("cy",r.squareRoomService.C.y),kn(1),Yn("cx",r.squareRoomService.D.x)("cy",r.squareRoomService.D.y))},styles:["circle[_ngcontent-%COMP%]{fill:#58ace400;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:hover{fill:#58ace4;cursor:crosshair;touch-action:none}circle[_ngcontent-%COMP%]:active{fill:#58ace4;cursor:crosshair;touch-action:none}"]}),e})(),VP=(()=>{class e{constructor(){this.title="plan-my-kitchen"}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_n({type:e,selectors:[["app-square-room"]],decls:5,vars:0,consts:[["id","container"],["width","1000","height","1000"],["app-square-room-walls",""],["app-square-room-rulers",""],["app-square-room-resize",""]],template:function(n,r){1&n&&(ii(0,"div",0),jr(),ii(1,"svg",1),Ns(2,"g",2)(3,"g",3)(4,"g",4),Mi()())},dependencies:[kP,NP,BP],styles:["#container[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),e})(),zP=(()=>{class e{constructor(){this.title="PlanMyKitchen"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_n({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Ns(0,"app-square-room")},dependencies:[VP]}),e})(),UP=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Qt({type:e,bootstrap:[zP]}),e.\u0275inj=yr({imports:[BT,MP]}),e})();FT().bootstrapModule(UP).catch(e=>console.error(e))},77:function($i,vr){!function(Bt){"use strict";var Nt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Bn=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],ri="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u0870-\u0887\u0889-\u088e\u08a0-\u08c9\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c5d\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cdd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u1711\u171f-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4c\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ca\ua7d0\ua7d1\ua7d3\ua7d5-\ua7d9\ua7f2-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",xe={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},De="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Ct={5:De,"5module":De+" export import",6:De+" const class extends export import super"},ee=/^in(stanceof)?$/,ne=new RegExp("["+ri+"]"),Gn=new RegExp("["+ri+"\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0898-\u089f\u08ca-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3c\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0cf3\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ece\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u180f-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf-\u1ace\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");function yn(_,T){for(var U=65536,q=0;q<T.length;q+=2){if((U+=T[q])>_)return!1;if((U+=T[q+1])>=_)return!0}return!1}function Sn(_,T){return _<65?36===_:_<91||(_<97?95===_:_<123||(_<=65535?_>=170&&ne.test(String.fromCharCode(_)):!1!==T&&yn(_,Bn)))}function sn(_,T){return _<48?36===_:_<58||!(_<65)&&(_<91||(_<97?95===_:_<123||(_<=65535?_>=170&&Gn.test(String.fromCharCode(_)):!1!==T&&(yn(_,Bn)||yn(_,Nt)))))}var ze=function(T,U){void 0===U&&(U={}),this.label=T,this.keyword=U.keyword,this.beforeExpr=!!U.beforeExpr,this.startsExpr=!!U.startsExpr,this.isLoop=!!U.isLoop,this.isAssign=!!U.isAssign,this.prefix=!!U.prefix,this.postfix=!!U.postfix,this.binop=U.binop||null,this.updateContext=null};function ot(_,T){return new ze(_,{beforeExpr:!0,binop:T})}var ae={beforeExpr:!0},ie={startsExpr:!0},je={};function Ee(_,T){return void 0===T&&(T={}),T.keyword=_,je[_]=new ze(_,T)}var W={num:new ze("num",ie),regexp:new ze("regexp",ie),string:new ze("string",ie),name:new ze("name",ie),privateId:new ze("privateId",ie),eof:new ze("eof"),bracketL:new ze("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ze("]"),braceL:new ze("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ze("}"),parenL:new ze("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ze(")"),comma:new ze(",",ae),semi:new ze(";",ae),colon:new ze(":",ae),dot:new ze("."),question:new ze("?",ae),questionDot:new ze("?."),arrow:new ze("=>",ae),template:new ze("template"),invalidTemplate:new ze("invalidTemplate"),ellipsis:new ze("...",ae),backQuote:new ze("`",ie),dollarBraceL:new ze("${",{beforeExpr:!0,startsExpr:!0}),eq:new ze("=",{beforeExpr:!0,isAssign:!0}),assign:new ze("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ze("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ze("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ot("||",1),logicalAND:ot("&&",2),bitwiseOR:ot("|",3),bitwiseXOR:ot("^",4),bitwiseAND:ot("&",5),equality:ot("==/!=/===/!==",6),relational:ot("</>/<=/>=",7),bitShift:ot("<</>>/>>>",8),plusMin:new ze("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ot("%",10),star:ot("*",10),slash:ot("/",10),starstar:new ze("**",{beforeExpr:!0}),coalesce:ot("??",1),_break:Ee("break"),_case:Ee("case",ae),_catch:Ee("catch"),_continue:Ee("continue"),_debugger:Ee("debugger"),_default:Ee("default",ae),_do:Ee("do",{isLoop:!0,beforeExpr:!0}),_else:Ee("else",ae),_finally:Ee("finally"),_for:Ee("for",{isLoop:!0}),_function:Ee("function",ie),_if:Ee("if"),_return:Ee("return",ae),_switch:Ee("switch"),_throw:Ee("throw",ae),_try:Ee("try"),_var:Ee("var"),_const:Ee("const"),_while:Ee("while",{isLoop:!0}),_with:Ee("with"),_new:Ee("new",{beforeExpr:!0,startsExpr:!0}),_this:Ee("this",ie),_super:Ee("super",ie),_class:Ee("class",ie),_extends:Ee("extends",ae),_export:Ee("export"),_import:Ee("import",ie),_null:Ee("null",ie),_true:Ee("true",ie),_false:Ee("false",ie),_in:Ee("in",{beforeExpr:!0,binop:7}),_instanceof:Ee("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ee("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ee("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ee("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ke=/\r\n?|\n|\u2028|\u2029/,Vt=new RegExp(Ke.source,"g");function st(_){return 10===_||13===_||8232===_||8233===_}function Xt(_,T,U){void 0===U&&(U=_.length);for(var q=T;q<U;q++){var Q=_.charCodeAt(q);if(st(Q))return q<U-1&&13===Q&&10===_.charCodeAt(q+1)?q+2:q+1}return-1}var tt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ze=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Mn=Object.prototype,xn=Mn.hasOwnProperty,fn=Mn.toString,Dn=Object.hasOwn||function(_,T){return xn.call(_,T)},si=Array.isArray||function(_){return"[object Array]"===fn.call(_)};function tn(_){return new RegExp("^(?:"+_.replace(/ /g,"|")+")$")}function Ne(_){return _<=65535?String.fromCharCode(_):(_-=65536,String.fromCharCode(55296+(_>>10),56320+(1023&_)))}var Xe=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Re=function(T,U){this.line=T,this.column=U};Re.prototype.offset=function(T){return new Re(this.line,this.column+T)};var Te=function(T,U,q){this.start=U,this.end=q,null!==T.sourceFile&&(this.source=T.sourceFile)};function In(_,T){for(var U=1,q=0;;){var Q=Xt(_,q,T);if(Q<0)return new Re(U,T-q);++U,q=Q}}var at={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},gt=!1;function Jn(_){var T={};for(var U in at)T[U]=_&&Dn(_,U)?_[U]:at[U];if("latest"===T.ecmaVersion?T.ecmaVersion=1e8:null==T.ecmaVersion?(!gt&&"object"==typeof console&&console.warn&&(gt=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),T.ecmaVersion=11):T.ecmaVersion>=2015&&(T.ecmaVersion-=2009),null==T.allowReserved&&(T.allowReserved=T.ecmaVersion<5),(!_||null==_.allowHashBang)&&(T.allowHashBang=T.ecmaVersion>=14),si(T.onToken)){var q=T.onToken;T.onToken=function(Q){return q.push(Q)}}return si(T.onComment)&&(T.onComment=function dn(_,T){return function(U,q,Q,de,me,Me){var Ve={type:U?"Block":"Line",value:q,start:Q,end:de};_.locations&&(Ve.loc=new Te(this,me,Me)),_.ranges&&(Ve.range=[Q,de]),T.push(Ve)}}(T,T.onComment)),T}var gi=2,Je=4,Kt=8,nn=257|gi;function ir(_,T){return gi|(_?Je:0)|(T?Kt:0)}var an=function(T,U,q){this.options=T=Jn(T),this.sourceFile=T.sourceFile,this.keywords=tn(Ct[T.ecmaVersion>=6?6:"module"===T.sourceType?"5module":5]);var Q="";!0!==T.allowReserved&&(Q=xe[T.ecmaVersion>=6?6:5===T.ecmaVersion?5:3],"module"===T.sourceType&&(Q+=" await")),this.reservedWords=tn(Q);var de=(Q?Q+" ":"")+xe.strict;this.reservedWordsStrict=tn(de),this.reservedWordsStrictBind=tn(de+" "+xe.strictBind),this.input=String(U),this.containsEsc=!1,q?(this.pos=q,this.lineStart=this.input.lastIndexOf("\n",q-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ke).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=W.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===T.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&T.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},zt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};an.prototype.parse=function(){var T=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(T)},zt.inFunction.get=function(){return(this.currentVarScope().flags&gi)>0},zt.inGenerator.get=function(){return(this.currentVarScope().flags&Kt)>0&&!this.currentVarScope().inClassFieldInit},zt.inAsync.get=function(){return(this.currentVarScope().flags&Je)>0&&!this.currentVarScope().inClassFieldInit},zt.canAwait.get=function(){for(var _=this.scopeStack.length-1;_>=0;_--){var T=this.scopeStack[_];if(T.inClassFieldInit||256&T.flags)return!1;if(T.flags&gi)return(T.flags&Je)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},zt.allowSuper.get=function(){var _=this.currentThisScope();return(64&_.flags)>0||_.inClassFieldInit||this.options.allowSuperOutsideMethod},zt.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},zt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},zt.allowNewDotTarget.get=function(){var _=this.currentThisScope();return(_.flags&(256|gi))>0||_.inClassFieldInit},zt.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},an.extend=function(){for(var T=[],U=arguments.length;U--;)T[U]=arguments[U];for(var q=this,Q=0;Q<T.length;Q++)q=T[Q](q);return q},an.parse=function(T,U){return new this(U,T).parse()},an.parseExpressionAt=function(T,U,q){var Q=new this(q,T,U);return Q.nextToken(),Q.parseExpression()},an.tokenizer=function(T,U){return new this(U,T)},Object.defineProperties(an.prototype,zt);var Mt=an.prototype,rn=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Mt.strictDirective=function(_){if(this.options.ecmaVersion<5)return!1;for(;;){Ze.lastIndex=_,_+=Ze.exec(this.input)[0].length;var T=rn.exec(this.input.slice(_));if(!T)return!1;if("use strict"===(T[1]||T[2])){Ze.lastIndex=_+T[0].length;var U=Ze.exec(this.input),q=U.index+U[0].length,Q=this.input.charAt(q);return";"===Q||"}"===Q||Ke.test(U[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Q)||"!"===Q&&"="===this.input.charAt(q+1))}Ze.lastIndex=_+=T[0].length,_+=Ze.exec(this.input)[0].length,";"===this.input[_]&&_++}},Mt.eat=function(_){return this.type===_&&(this.next(),!0)},Mt.isContextual=function(_){return this.type===W.name&&this.value===_&&!this.containsEsc},Mt.eatContextual=function(_){return!!this.isContextual(_)&&(this.next(),!0)},Mt.expectContextual=function(_){this.eatContextual(_)||this.unexpected()},Mt.canInsertSemicolon=function(){return this.type===W.eof||this.type===W.braceR||Ke.test(this.input.slice(this.lastTokEnd,this.start))},Mt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Mt.semicolon=function(){!this.eat(W.semi)&&!this.insertSemicolon()&&this.unexpected()},Mt.afterTrailingComma=function(_,T){if(this.type===_)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),T||this.next(),!0},Mt.expect=function(_){this.eat(_)||this.unexpected()},Mt.unexpected=function(_){this.raise(_??this.start,"Unexpected token")};var en=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Mt.checkPatternErrors=function(_,T){if(_){_.trailingComma>-1&&this.raiseRecoverable(_.trailingComma,"Comma is not permitted after the rest element");var U=T?_.parenthesizedAssign:_.parenthesizedBind;U>-1&&this.raiseRecoverable(U,T?"Assigning to rvalue":"Parenthesized pattern")}},Mt.checkExpressionErrors=function(_,T){if(!_)return!1;var U=_.shorthandAssign,q=_.doubleProto;if(!T)return U>=0||q>=0;U>=0&&this.raise(U,"Shorthand property assignments are valid only in destructuring patterns"),q>=0&&this.raiseRecoverable(q,"Redefinition of __proto__ property")},Mt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Mt.isSimpleAssignTarget=function(_){return"ParenthesizedExpression"===_.type?this.isSimpleAssignTarget(_.expression):"Identifier"===_.type||"MemberExpression"===_.type};var Le=an.prototype;Le.parseTopLevel=function(_){var T=Object.create(null);for(_.body||(_.body=[]);this.type!==W.eof;){var U=this.parseStatement(null,!0,T);_.body.push(U)}if(this.inModule)for(var q=0,Q=Object.keys(this.undefinedExports);q<Q.length;q+=1){var de=Q[q];this.raiseRecoverable(this.undefinedExports[de].start,"Export '"+de+"' is not defined")}return this.adaptDirectivePrologue(_.body),this.next(),_.sourceType=this.options.sourceType,this.finishNode(_,"Program")};var o={kind:"loop"},i={kind:"switch"};Le.isLet=function(_){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ze.lastIndex=this.pos;var T=Ze.exec(this.input),U=this.pos+T[0].length,q=this.input.charCodeAt(U);if(91===q||92===q)return!0;if(_)return!1;if(123===q||q>55295&&q<56320)return!0;if(Sn(q,!0)){for(var Q=U+1;sn(q=this.input.charCodeAt(Q),!0);)++Q;if(92===q||q>55295&&q<56320)return!0;var de=this.input.slice(U,Q);if(!ee.test(de))return!0}return!1},Le.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ze.lastIndex=this.pos;var U,_=Ze.exec(this.input),T=this.pos+_[0].length;return!(Ke.test(this.input.slice(this.pos,T))||"function"!==this.input.slice(T,T+8)||T+8!==this.input.length&&(sn(U=this.input.charCodeAt(T+8))||U>55295&&U<56320))},Le.parseStatement=function(_,T,U){var de,q=this.type,Q=this.startNode();switch(this.isLet(_)&&(q=W._var,de="let"),q){case W._break:case W._continue:return this.parseBreakContinueStatement(Q,q.keyword);case W._debugger:return this.parseDebuggerStatement(Q);case W._do:return this.parseDoStatement(Q);case W._for:return this.parseForStatement(Q);case W._function:return _&&(this.strict||"if"!==_&&"label"!==_)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Q,!1,!_);case W._class:return _&&this.unexpected(),this.parseClass(Q,!0);case W._if:return this.parseIfStatement(Q);case W._return:return this.parseReturnStatement(Q);case W._switch:return this.parseSwitchStatement(Q);case W._throw:return this.parseThrowStatement(Q);case W._try:return this.parseTryStatement(Q);case W._const:case W._var:return de=de||this.value,_&&"var"!==de&&this.unexpected(),this.parseVarStatement(Q,de);case W._while:return this.parseWhileStatement(Q);case W._with:return this.parseWithStatement(Q);case W.braceL:return this.parseBlock(!0,Q);case W.semi:return this.parseEmptyStatement(Q);case W._export:case W._import:if(this.options.ecmaVersion>10&&q===W._import){Ze.lastIndex=this.pos;var me=Ze.exec(this.input),Ve=this.input.charCodeAt(this.pos+me[0].length);if(40===Ve||46===Ve)return this.parseExpressionStatement(Q,this.parseExpression())}return this.options.allowImportExportEverywhere||(T||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),q===W._import?this.parseImport(Q):this.parseExport(Q,U);default:if(this.isAsyncFunction())return _&&this.unexpected(),this.next(),this.parseFunctionStatement(Q,!0,!_);var Qe=this.value,It=this.parseExpression();return q===W.name&&"Identifier"===It.type&&this.eat(W.colon)?this.parseLabeledStatement(Q,Qe,It,_):this.parseExpressionStatement(Q,It)}},Le.parseBreakContinueStatement=function(_,T){var U="break"===T;this.next(),this.eat(W.semi)||this.insertSemicolon()?_.label=null:this.type!==W.name?this.unexpected():(_.label=this.parseIdent(),this.semicolon());for(var q=0;q<this.labels.length;++q){var Q=this.labels[q];if((null==_.label||Q.name===_.label.name)&&(null!=Q.kind&&(U||"loop"===Q.kind)||_.label&&U))break}return q===this.labels.length&&this.raise(_.start,"Unsyntactic "+T),this.finishNode(_,U?"BreakStatement":"ContinueStatement")},Le.parseDebuggerStatement=function(_){return this.next(),this.semicolon(),this.finishNode(_,"DebuggerStatement")},Le.parseDoStatement=function(_){return this.next(),this.labels.push(o),_.body=this.parseStatement("do"),this.labels.pop(),this.expect(W._while),_.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(W.semi):this.semicolon(),this.finishNode(_,"DoWhileStatement")},Le.parseForStatement=function(_){this.next();var T=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(o),this.enterScope(0),this.expect(W.parenL),this.type===W.semi)return T>-1&&this.unexpected(T),this.parseFor(_,null);var U=this.isLet();if(this.type===W._var||this.type===W._const||U){var q=this.startNode(),Q=U?"let":this.value;return this.next(),this.parseVar(q,!0,Q),this.finishNode(q,"VariableDeclaration"),(this.type===W._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===q.declarations.length?(this.options.ecmaVersion>=9&&(this.type===W._in?T>-1&&this.unexpected(T):_.await=T>-1),this.parseForIn(_,q)):(T>-1&&this.unexpected(T),this.parseFor(_,q))}var de=this.isContextual("let"),me=!1,Me=new en,Ve=this.parseExpression(!(T>-1)||"await",Me);return this.type===W._in||(me=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===W._in?T>-1&&this.unexpected(T):_.await=T>-1),de&&me&&this.raise(Ve.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Ve,!1,Me),this.checkLValPattern(Ve),this.parseForIn(_,Ve)):(this.checkExpressionErrors(Me,!0),T>-1&&this.unexpected(T),this.parseFor(_,Ve))},Le.parseFunctionStatement=function(_,T,U){return this.next(),this.parseFunction(_,a|(U?0:l),!1,T)},Le.parseIfStatement=function(_){return this.next(),_.test=this.parseParenExpression(),_.consequent=this.parseStatement("if"),_.alternate=this.eat(W._else)?this.parseStatement("if"):null,this.finishNode(_,"IfStatement")},Le.parseReturnStatement=function(_){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(W.semi)||this.insertSemicolon()?_.argument=null:(_.argument=this.parseExpression(),this.semicolon()),this.finishNode(_,"ReturnStatement")},Le.parseSwitchStatement=function(_){this.next(),_.discriminant=this.parseParenExpression(),_.cases=[],this.expect(W.braceL),this.labels.push(i),this.enterScope(0);for(var T,U=!1;this.type!==W.braceR;)if(this.type===W._case||this.type===W._default){var q=this.type===W._case;T&&this.finishNode(T,"SwitchCase"),_.cases.push(T=this.startNode()),T.consequent=[],this.next(),q?T.test=this.parseExpression():(U&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),U=!0,T.test=null),this.expect(W.colon)}else T||this.unexpected(),T.consequent.push(this.parseStatement(null));return this.exitScope(),T&&this.finishNode(T,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(_,"SwitchStatement")},Le.parseThrowStatement=function(_){return this.next(),Ke.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),_.argument=this.parseExpression(),this.semicolon(),this.finishNode(_,"ThrowStatement")};var s=[];Le.parseTryStatement=function(_){if(this.next(),_.block=this.parseBlock(),_.handler=null,this.type===W._catch){var T=this.startNode();if(this.next(),this.eat(W.parenL)){T.param=this.parseBindingAtom();var U="Identifier"===T.param.type;this.enterScope(U?32:0),this.checkLValPattern(T.param,U?4:2),this.expect(W.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),T.param=null,this.enterScope(0);T.body=this.parseBlock(!1),this.exitScope(),_.handler=this.finishNode(T,"CatchClause")}return _.finalizer=this.eat(W._finally)?this.parseBlock():null,!_.handler&&!_.finalizer&&this.raise(_.start,"Missing catch or finally clause"),this.finishNode(_,"TryStatement")},Le.parseVarStatement=function(_,T){return this.next(),this.parseVar(_,!1,T),this.semicolon(),this.finishNode(_,"VariableDeclaration")},Le.parseWhileStatement=function(_){return this.next(),_.test=this.parseParenExpression(),this.labels.push(o),_.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(_,"WhileStatement")},Le.parseWithStatement=function(_){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),_.object=this.parseParenExpression(),_.body=this.parseStatement("with"),this.finishNode(_,"WithStatement")},Le.parseEmptyStatement=function(_){return this.next(),this.finishNode(_,"EmptyStatement")},Le.parseLabeledStatement=function(_,T,U,q){for(var Q=0,de=this.labels;Q<de.length;Q+=1)de[Q].name===T&&this.raise(U.start,"Label '"+T+"' is already declared");for(var Me=this.type.isLoop?"loop":this.type===W._switch?"switch":null,Ve=this.labels.length-1;Ve>=0;Ve--){var Qe=this.labels[Ve];if(Qe.statementStart!==_.start)break;Qe.statementStart=this.start,Qe.kind=Me}return this.labels.push({name:T,kind:Me,statementStart:this.start}),_.body=this.parseStatement(q?-1===q.indexOf("label")?q+"label":q:"label"),this.labels.pop(),_.label=U,this.finishNode(_,"LabeledStatement")},Le.parseExpressionStatement=function(_,T){return _.expression=T,this.semicolon(),this.finishNode(_,"ExpressionStatement")},Le.parseBlock=function(_,T,U){for(void 0===_&&(_=!0),void 0===T&&(T=this.startNode()),T.body=[],this.expect(W.braceL),_&&this.enterScope(0);this.type!==W.braceR;){var q=this.parseStatement(null);T.body.push(q)}return U&&(this.strict=!1),this.next(),_&&this.exitScope(),this.finishNode(T,"BlockStatement")},Le.parseFor=function(_,T){return _.init=T,this.expect(W.semi),_.test=this.type===W.semi?null:this.parseExpression(),this.expect(W.semi),_.update=this.type===W.parenR?null:this.parseExpression(),this.expect(W.parenR),_.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_,"ForStatement")},Le.parseForIn=function(_,T){var U=this.type===W._in;return this.next(),"VariableDeclaration"===T.type&&null!=T.declarations[0].init&&(!U||this.options.ecmaVersion<8||this.strict||"var"!==T.kind||"Identifier"!==T.declarations[0].id.type)&&this.raise(T.start,(U?"for-in":"for-of")+" loop variable declaration may not have an initializer"),_.left=T,_.right=U?this.parseExpression():this.parseMaybeAssign(),this.expect(W.parenR),_.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(_,U?"ForInStatement":"ForOfStatement")},Le.parseVar=function(_,T,U){for(_.declarations=[],_.kind=U;;){var q=this.startNode();if(this.parseVarId(q,U),this.eat(W.eq)?q.init=this.parseMaybeAssign(T):"const"!==U||this.type===W._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===q.id.type||T&&(this.type===W._in||this.isContextual("of"))?q.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),_.declarations.push(this.finishNode(q,"VariableDeclarator")),!this.eat(W.comma))break}return _},Le.parseVarId=function(_,T){_.id=this.parseBindingAtom(),this.checkLValPattern(_.id,"var"===T?1:2,!1)};var a=1,l=2;function d(_,T){var U=T.key.name,q=_[U],Q="true";return"MethodDefinition"===T.type&&("get"===T.kind||"set"===T.kind)&&(Q=(T.static?"s":"i")+T.kind),"iget"===q&&"iset"===Q||"iset"===q&&"iget"===Q||"sget"===q&&"sset"===Q||"sset"===q&&"sget"===Q?(_[U]="true",!1):!!q||(_[U]=Q,!1)}function p(_,T){var q=_.key;return!_.computed&&("Identifier"===q.type&&q.name===T||"Literal"===q.type&&q.value===T)}Le.parseFunction=function(_,T,U,q,Q){this.initFunction(_),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!q)&&(this.type===W.star&&T&l&&this.unexpected(),_.generator=this.eat(W.star)),this.options.ecmaVersion>=8&&(_.async=!!q),T&a&&(_.id=4&T&&this.type!==W.name?null:this.parseIdent(),_.id&&!(T&l)&&this.checkLValSimple(_.id,this.strict||_.generator||_.async?this.treatFunctionsAsVar?1:2:3));var de=this.yieldPos,me=this.awaitPos,Me=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ir(_.async,_.generator)),T&a||(_.id=this.type===W.name?this.parseIdent():null),this.parseFunctionParams(_),this.parseFunctionBody(_,U,!1,Q),this.yieldPos=de,this.awaitPos=me,this.awaitIdentPos=Me,this.finishNode(_,T&a?"FunctionDeclaration":"FunctionExpression")},Le.parseFunctionParams=function(_){this.expect(W.parenL),_.params=this.parseBindingList(W.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Le.parseClass=function(_,T){this.next();var U=this.strict;this.strict=!0,this.parseClassId(_,T),this.parseClassSuper(_);var q=this.enterClassBody(),Q=this.startNode(),de=!1;for(Q.body=[],this.expect(W.braceL);this.type!==W.braceR;){var me=this.parseClassElement(null!==_.superClass);me&&(Q.body.push(me),"MethodDefinition"===me.type&&"constructor"===me.kind?(de&&this.raise(me.start,"Duplicate constructor in the same class"),de=!0):me.key&&"PrivateIdentifier"===me.key.type&&d(q,me)&&this.raiseRecoverable(me.key.start,"Identifier '#"+me.key.name+"' has already been declared"))}return this.strict=U,this.next(),_.body=this.finishNode(Q,"ClassBody"),this.exitClassBody(),this.finishNode(_,T?"ClassDeclaration":"ClassExpression")},Le.parseClassElement=function(_){if(this.eat(W.semi))return null;var T=this.options.ecmaVersion,U=this.startNode(),q="",Q=!1,de=!1,me="method",Me=!1;if(this.eatContextual("static")){if(T>=13&&this.eat(W.braceL))return this.parseClassStaticBlock(U),U;this.isClassElementNameStart()||this.type===W.star?Me=!0:q="static"}if(U.static=Me,!q&&T>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==W.star||this.canInsertSemicolon()?q="async":de=!0),!q&&(T>=9||!de)&&this.eat(W.star)&&(Q=!0),!q&&!de&&!Q){var Ve=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?me=Ve:q=Ve)}if(q?(U.computed=!1,U.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),U.key.name=q,this.finishNode(U.key,"Identifier")):this.parseClassElementName(U),T<13||this.type===W.parenL||"method"!==me||Q||de){var Qe=!U.static&&p(U,"constructor"),It=Qe&&_;Qe&&"method"!==me&&this.raise(U.key.start,"Constructor can't have get/set modifier"),U.kind=Qe?"constructor":me,this.parseClassMethod(U,Q,de,It)}else this.parseClassField(U);return U},Le.isClassElementNameStart=function(){return this.type===W.name||this.type===W.privateId||this.type===W.num||this.type===W.string||this.type===W.bracketL||this.type.keyword},Le.parseClassElementName=function(_){this.type===W.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),_.computed=!1,_.key=this.parsePrivateIdent()):this.parsePropertyName(_)},Le.parseClassMethod=function(_,T,U,q){var Q=_.key;"constructor"===_.kind?(T&&this.raise(Q.start,"Constructor can't be a generator"),U&&this.raise(Q.start,"Constructor can't be an async method")):_.static&&p(_,"prototype")&&this.raise(Q.start,"Classes may not have a static property named prototype");var de=_.value=this.parseMethod(T,U,q);return"get"===_.kind&&0!==de.params.length&&this.raiseRecoverable(de.start,"getter should have no params"),"set"===_.kind&&1!==de.params.length&&this.raiseRecoverable(de.start,"setter should have exactly one param"),"set"===_.kind&&"RestElement"===de.params[0].type&&this.raiseRecoverable(de.params[0].start,"Setter cannot use rest params"),this.finishNode(_,"MethodDefinition")},Le.parseClassField=function(_){if(p(_,"constructor")?this.raise(_.key.start,"Classes can't have a field named 'constructor'"):_.static&&p(_,"prototype")&&this.raise(_.key.start,"Classes can't have a static field named 'prototype'"),this.eat(W.eq)){var T=this.currentThisScope(),U=T.inClassFieldInit;T.inClassFieldInit=!0,_.value=this.parseMaybeAssign(),T.inClassFieldInit=U}else _.value=null;return this.semicolon(),this.finishNode(_,"PropertyDefinition")},Le.parseClassStaticBlock=function(_){_.body=[];var T=this.labels;for(this.labels=[],this.enterScope(320);this.type!==W.braceR;){var U=this.parseStatement(null);_.body.push(U)}return this.next(),this.exitScope(),this.labels=T,this.finishNode(_,"StaticBlock")},Le.parseClassId=function(_,T){this.type===W.name?(_.id=this.parseIdent(),T&&this.checkLValSimple(_.id,2,!1)):(!0===T&&this.unexpected(),_.id=null)},Le.parseClassSuper=function(_){_.superClass=this.eat(W._extends)?this.parseExprSubscripts(null,!1):null},Le.enterClassBody=function(){var _={declared:Object.create(null),used:[]};return this.privateNameStack.push(_),_.declared},Le.exitClassBody=function(){for(var _=this.privateNameStack.pop(),T=_.declared,U=_.used,q=this.privateNameStack.length,Q=0===q?null:this.privateNameStack[q-1],de=0;de<U.length;++de){var me=U[de];Dn(T,me.name)||(Q?Q.used.push(me):this.raiseRecoverable(me.start,"Private field '#"+me.name+"' must be declared in an enclosing class"))}},Le.parseExport=function(_,T){if(this.next(),this.eat(W.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(_.exported=this.parseModuleExportName(),this.checkExport(T,_.exported,this.lastTokStart)):_.exported=null),this.expectContextual("from"),this.type!==W.string&&this.unexpected(),_.source=this.parseExprAtom(),this.semicolon(),this.finishNode(_,"ExportAllDeclaration");if(this.eat(W._default)){var U;if(this.checkExport(T,"default",this.lastTokStart),this.type===W._function||(U=this.isAsyncFunction())){var q=this.startNode();this.next(),U&&this.next(),_.declaration=this.parseFunction(q,4|a,!1,U)}else if(this.type===W._class){var Q=this.startNode();_.declaration=this.parseClass(Q,"nullableID")}else _.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(_,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())_.declaration=this.parseStatement(null),"VariableDeclaration"===_.declaration.type?this.checkVariableExport(T,_.declaration.declarations):this.checkExport(T,_.declaration.id,_.declaration.id.start),_.specifiers=[],_.source=null;else{if(_.declaration=null,_.specifiers=this.parseExportSpecifiers(T),this.eatContextual("from"))this.type!==W.string&&this.unexpected(),_.source=this.parseExprAtom();else{for(var de=0,me=_.specifiers;de<me.length;de+=1){var Me=me[de];this.checkUnreserved(Me.local),this.checkLocalExport(Me.local),"Literal"===Me.local.type&&this.raise(Me.local.start,"A string literal cannot be used as an exported binding without `from`.")}_.source=null}this.semicolon()}return this.finishNode(_,"ExportNamedDeclaration")},Le.checkExport=function(_,T,U){_&&("string"!=typeof T&&(T="Identifier"===T.type?T.name:T.value),Dn(_,T)&&this.raiseRecoverable(U,"Duplicate export '"+T+"'"),_[T]=!0)},Le.checkPatternExport=function(_,T){var U=T.type;if("Identifier"===U)this.checkExport(_,T,T.start);else if("ObjectPattern"===U)for(var q=0,Q=T.properties;q<Q.length;q+=1)this.checkPatternExport(_,Q[q]);else if("ArrayPattern"===U)for(var me=0,Me=T.elements;me<Me.length;me+=1){var Ve=Me[me];Ve&&this.checkPatternExport(_,Ve)}else"Property"===U?this.checkPatternExport(_,T.value):"AssignmentPattern"===U?this.checkPatternExport(_,T.left):"RestElement"===U?this.checkPatternExport(_,T.argument):"ParenthesizedExpression"===U&&this.checkPatternExport(_,T.expression)},Le.checkVariableExport=function(_,T){if(_)for(var U=0,q=T;U<q.length;U+=1)this.checkPatternExport(_,q[U].id)},Le.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Le.parseExportSpecifiers=function(_){var T=[],U=!0;for(this.expect(W.braceL);!this.eat(W.braceR);){if(U)U=!1;else if(this.expect(W.comma),this.afterTrailingComma(W.braceR))break;var q=this.startNode();q.local=this.parseModuleExportName(),q.exported=this.eatContextual("as")?this.parseModuleExportName():q.local,this.checkExport(_,q.exported,q.exported.start),T.push(this.finishNode(q,"ExportSpecifier"))}return T},Le.parseImport=function(_){return this.next(),this.type===W.string?(_.specifiers=s,_.source=this.parseExprAtom()):(_.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),_.source=this.type===W.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(_,"ImportDeclaration")},Le.parseImportSpecifiers=function(){var _=[],T=!0;if(this.type===W.name){var U=this.startNode();if(U.local=this.parseIdent(),this.checkLValSimple(U.local,2),_.push(this.finishNode(U,"ImportDefaultSpecifier")),!this.eat(W.comma))return _}if(this.type===W.star){var q=this.startNode();return this.next(),this.expectContextual("as"),q.local=this.parseIdent(),this.checkLValSimple(q.local,2),_.push(this.finishNode(q,"ImportNamespaceSpecifier")),_}for(this.expect(W.braceL);!this.eat(W.braceR);){if(T)T=!1;else if(this.expect(W.comma),this.afterTrailingComma(W.braceR))break;var Q=this.startNode();Q.imported=this.parseModuleExportName(),this.eatContextual("as")?Q.local=this.parseIdent():(this.checkUnreserved(Q.imported),Q.local=Q.imported),this.checkLValSimple(Q.local,2),_.push(this.finishNode(Q,"ImportSpecifier"))}return _},Le.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===W.string){var _=this.parseLiteral(this.value);return Xe.test(_.value)&&this.raise(_.start,"An export name cannot include a lone surrogate."),_}return this.parseIdent(!0)},Le.adaptDirectivePrologue=function(_){for(var T=0;T<_.length&&this.isDirectiveCandidate(_[T]);++T)_[T].directive=_[T].expression.raw.slice(1,-1)},Le.isDirectiveCandidate=function(_){return this.options.ecmaVersion>=5&&"ExpressionStatement"===_.type&&"Literal"===_.expression.type&&"string"==typeof _.expression.value&&('"'===this.input[_.start]||"'"===this.input[_.start])};var g=an.prototype;g.toAssignable=function(_,T,U){if(this.options.ecmaVersion>=6&&_)switch(_.type){case"Identifier":this.inAsync&&"await"===_.name&&this.raise(_.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":_.type="ObjectPattern",U&&this.checkPatternErrors(U,!0);for(var q=0,Q=_.properties;q<Q.length;q+=1){var de=Q[q];this.toAssignable(de,T),"RestElement"===de.type&&("ArrayPattern"===de.argument.type||"ObjectPattern"===de.argument.type)&&this.raise(de.argument.start,"Unexpected token")}break;case"Property":"init"!==_.kind&&this.raise(_.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(_.value,T);break;case"ArrayExpression":_.type="ArrayPattern",U&&this.checkPatternErrors(U,!0),this.toAssignableList(_.elements,T);break;case"SpreadElement":_.type="RestElement",this.toAssignable(_.argument,T),"AssignmentPattern"===_.argument.type&&this.raise(_.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==_.operator&&this.raise(_.left.end,"Only '=' operator can be used for specifying default value."),_.type="AssignmentPattern",delete _.operator,this.toAssignable(_.left,T);break;case"ParenthesizedExpression":this.toAssignable(_.expression,T,U);break;case"ChainExpression":this.raiseRecoverable(_.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!T)break;default:this.raise(_.start,"Assigning to rvalue")}else U&&this.checkPatternErrors(U,!0);return _},g.toAssignableList=function(_,T){for(var U=_.length,q=0;q<U;q++){var Q=_[q];Q&&this.toAssignable(Q,T)}if(U){var de=_[U-1];6===this.options.ecmaVersion&&T&&de&&"RestElement"===de.type&&"Identifier"!==de.argument.type&&this.unexpected(de.argument.start)}return _},g.parseSpread=function(_){var T=this.startNode();return this.next(),T.argument=this.parseMaybeAssign(!1,_),this.finishNode(T,"SpreadElement")},g.parseRestBinding=function(){var _=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==W.name&&this.unexpected(),_.argument=this.parseBindingAtom(),this.finishNode(_,"RestElement")},g.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case W.bracketL:var _=this.startNode();return this.next(),_.elements=this.parseBindingList(W.bracketR,!0,!0),this.finishNode(_,"ArrayPattern");case W.braceL:return this.parseObj(!0)}return this.parseIdent()},g.parseBindingList=function(_,T,U){for(var q=[],Q=!0;!this.eat(_);)if(Q?Q=!1:this.expect(W.comma),T&&this.type===W.comma)q.push(null);else{if(U&&this.afterTrailingComma(_))break;if(this.type===W.ellipsis){var de=this.parseRestBinding();this.parseBindingListItem(de),q.push(de),this.type===W.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(_);break}var me=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(me),q.push(me)}return q},g.parseBindingListItem=function(_){return _},g.parseMaybeDefault=function(_,T,U){if(U=U||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(W.eq))return U;var q=this.startNodeAt(_,T);return q.left=U,q.right=this.parseMaybeAssign(),this.finishNode(q,"AssignmentPattern")},g.checkLValSimple=function(_,T,U){void 0===T&&(T=0);var q=0!==T;switch(_.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(_.name)&&this.raiseRecoverable(_.start,(q?"Binding ":"Assigning to ")+_.name+" in strict mode"),q&&(2===T&&"let"===_.name&&this.raiseRecoverable(_.start,"let is disallowed as a lexically bound name"),U&&(Dn(U,_.name)&&this.raiseRecoverable(_.start,"Argument name clash"),U[_.name]=!0),5!==T&&this.declareName(_.name,T,_.start));break;case"ChainExpression":this.raiseRecoverable(_.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":q&&this.raiseRecoverable(_.start,"Binding member expression");break;case"ParenthesizedExpression":return q&&this.raiseRecoverable(_.start,"Binding parenthesized expression"),this.checkLValSimple(_.expression,T,U);default:this.raise(_.start,(q?"Binding":"Assigning to")+" rvalue")}},g.checkLValPattern=function(_,T,U){switch(void 0===T&&(T=0),_.type){case"ObjectPattern":for(var q=0,Q=_.properties;q<Q.length;q+=1)this.checkLValInnerPattern(Q[q],T,U);break;case"ArrayPattern":for(var me=0,Me=_.elements;me<Me.length;me+=1){var Ve=Me[me];Ve&&this.checkLValInnerPattern(Ve,T,U)}break;default:this.checkLValSimple(_,T,U)}},g.checkLValInnerPattern=function(_,T,U){switch(void 0===T&&(T=0),_.type){case"Property":this.checkLValInnerPattern(_.value,T,U);break;case"AssignmentPattern":this.checkLValPattern(_.left,T,U);break;case"RestElement":this.checkLValPattern(_.argument,T,U);break;default:this.checkLValPattern(_,T,U)}};var m=function(T,U,q,Q,de){this.token=T,this.isExpr=!!U,this.preserveSpace=!!q,this.override=Q,this.generator=!!de},v={b_stat:new m("{",!1),b_expr:new m("{",!0),b_tmpl:new m("${",!1),p_stat:new m("(",!1),p_expr:new m("(",!0),q_tmpl:new m("`",!0,!0,function(_){return _.tryReadTemplateToken()}),f_stat:new m("function",!1),f_expr:new m("function",!0),f_expr_gen:new m("function",!0,!1,null,!0),f_gen:new m("function",!1,!1,null,!0)},b=an.prototype;b.initialContext=function(){return[v.b_stat]},b.curContext=function(){return this.context[this.context.length-1]},b.braceIsBlock=function(_){var T=this.curContext();return T===v.f_expr||T===v.f_stat||(_!==W.colon||T!==v.b_stat&&T!==v.b_expr?_===W._return||_===W.name&&this.exprAllowed?Ke.test(this.input.slice(this.lastTokEnd,this.start)):_===W._else||_===W.semi||_===W.eof||_===W.parenR||_===W.arrow||(_===W.braceL?T===v.b_stat:_!==W._var&&_!==W._const&&_!==W.name&&!this.exprAllowed):!T.isExpr)},b.inGeneratorContext=function(){for(var _=this.context.length-1;_>=1;_--){var T=this.context[_];if("function"===T.token)return T.generator}return!1},b.updateContext=function(_){var T,U=this.type;U.keyword&&_===W.dot?this.exprAllowed=!1:(T=U.updateContext)?T.call(this,_):this.exprAllowed=U.beforeExpr},b.overrideContext=function(_){this.curContext()!==_&&(this.context[this.context.length-1]=_)},W.parenR.updateContext=W.braceR.updateContext=function(){if(1!==this.context.length){var _=this.context.pop();_===v.b_stat&&"function"===this.curContext().token&&(_=this.context.pop()),this.exprAllowed=!_.isExpr}else this.exprAllowed=!0},W.braceL.updateContext=function(_){this.context.push(this.braceIsBlock(_)?v.b_stat:v.b_expr),this.exprAllowed=!0},W.dollarBraceL.updateContext=function(){this.context.push(v.b_tmpl),this.exprAllowed=!0},W.parenL.updateContext=function(_){this.context.push(_===W._if||_===W._for||_===W._with||_===W._while?v.p_stat:v.p_expr),this.exprAllowed=!0},W.incDec.updateContext=function(){},W._function.updateContext=W._class.updateContext=function(_){!_.beforeExpr||_===W._else||_===W.semi&&this.curContext()!==v.p_stat||_===W._return&&Ke.test(this.input.slice(this.lastTokEnd,this.start))||(_===W.colon||_===W.braceL)&&this.curContext()===v.b_stat?this.context.push(v.f_stat):this.context.push(v.f_expr),this.exprAllowed=!1},W.backQuote.updateContext=function(){this.curContext()===v.q_tmpl?this.context.pop():this.context.push(v.q_tmpl),this.exprAllowed=!1},W.star.updateContext=function(_){if(_===W._function){var T=this.context.length-1;this.context[T]=this.context[T]===v.f_expr?v.f_expr_gen:v.f_gen}this.exprAllowed=!0},W.name.updateContext=function(_){var T=!1;this.options.ecmaVersion>=6&&_!==W.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(T=!0),this.exprAllowed=T};var w=an.prototype;function C(_){return"MemberExpression"===_.type&&"PrivateIdentifier"===_.property.type||"ChainExpression"===_.type&&C(_.expression)}w.checkPropClash=function(_,T,U){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===_.type||this.options.ecmaVersion>=6&&(_.computed||_.method||_.shorthand))){var Q,q=_.key;switch(q.type){case"Identifier":Q=q.name;break;case"Literal":Q=String(q.value);break;default:return}var de=_.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===Q&&"init"===de&&(T.proto&&(U?U.doubleProto<0&&(U.doubleProto=q.start):this.raiseRecoverable(q.start,"Redefinition of __proto__ property")),T.proto=!0));var me=T[Q="$"+Q];me?("init"===de?this.strict&&me.init||me.get||me.set:me.init||me[de])&&this.raiseRecoverable(q.start,"Redefinition of property"):me=T[Q]={init:!1,get:!1,set:!1},me[de]=!0}},w.parseExpression=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseMaybeAssign(_,T);if(this.type===W.comma){var de=this.startNodeAt(U,q);for(de.expressions=[Q];this.eat(W.comma);)de.expressions.push(this.parseMaybeAssign(_,T));return this.finishNode(de,"SequenceExpression")}return Q},w.parseMaybeAssign=function(_,T,U){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(_);this.exprAllowed=!1}var q=!1,Q=-1,de=-1,me=-1;T?(Q=T.parenthesizedAssign,de=T.trailingComma,me=T.doubleProto,T.parenthesizedAssign=T.trailingComma=-1):(T=new en,q=!0);var Me=this.start,Ve=this.startLoc;(this.type===W.parenL||this.type===W.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===_);var Qe=this.parseMaybeConditional(_,T);if(U&&(Qe=U.call(this,Qe,Me,Ve)),this.type.isAssign){var It=this.startNodeAt(Me,Ve);return It.operator=this.value,this.type===W.eq&&(Qe=this.toAssignable(Qe,!1,T)),q||(T.parenthesizedAssign=T.trailingComma=T.doubleProto=-1),T.shorthandAssign>=Qe.start&&(T.shorthandAssign=-1),this.type===W.eq?this.checkLValPattern(Qe):this.checkLValSimple(Qe),It.left=Qe,this.next(),It.right=this.parseMaybeAssign(_),me>-1&&(T.doubleProto=me),this.finishNode(It,"AssignmentExpression")}return q&&this.checkExpressionErrors(T,!0),Q>-1&&(T.parenthesizedAssign=Q),de>-1&&(T.trailingComma=de),Qe},w.parseMaybeConditional=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseExprOps(_,T);if(this.checkExpressionErrors(T))return Q;if(this.eat(W.question)){var de=this.startNodeAt(U,q);return de.test=Q,de.consequent=this.parseMaybeAssign(),this.expect(W.colon),de.alternate=this.parseMaybeAssign(_),this.finishNode(de,"ConditionalExpression")}return Q},w.parseExprOps=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseMaybeUnary(T,!1,!1,_);return this.checkExpressionErrors(T)||Q.start===U&&"ArrowFunctionExpression"===Q.type?Q:this.parseExprOp(Q,U,q,-1,_)},w.parseExprOp=function(_,T,U,q,Q){var de=this.type.binop;if(null!=de&&(!Q||this.type!==W._in)&&de>q){var me=this.type===W.logicalOR||this.type===W.logicalAND,Me=this.type===W.coalesce;Me&&(de=W.logicalAND.binop);var Ve=this.value;this.next();var Qe=this.start,It=this.startLoc,pn=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Q),Qe,It,de,Q),hi=this.buildBinary(T,U,_,pn,Ve,me||Me);return(me&&this.type===W.coalesce||Me&&(this.type===W.logicalOR||this.type===W.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(hi,T,U,q,Q)}return _},w.buildBinary=function(_,T,U,q,Q,de){"PrivateIdentifier"===q.type&&this.raise(q.start,"Private identifier can only be left side of binary expression");var me=this.startNodeAt(_,T);return me.left=U,me.operator=Q,me.right=q,this.finishNode(me,de?"LogicalExpression":"BinaryExpression")},w.parseMaybeUnary=function(_,T,U,q){var me,Q=this.start,de=this.startLoc;if(this.isContextual("await")&&this.canAwait)me=this.parseAwait(q),T=!0;else if(this.type.prefix){var Me=this.startNode(),Ve=this.type===W.incDec;Me.operator=this.value,Me.prefix=!0,this.next(),Me.argument=this.parseMaybeUnary(null,!0,Ve,q),this.checkExpressionErrors(_,!0),Ve?this.checkLValSimple(Me.argument):this.strict&&"delete"===Me.operator&&"Identifier"===Me.argument.type?this.raiseRecoverable(Me.start,"Deleting local variable in strict mode"):"delete"===Me.operator&&C(Me.argument)?this.raiseRecoverable(Me.start,"Private fields can not be deleted"):T=!0,me=this.finishNode(Me,Ve?"UpdateExpression":"UnaryExpression")}else if(T||this.type!==W.privateId){if(me=this.parseExprSubscripts(_,q),this.checkExpressionErrors(_))return me;for(;this.type.postfix&&!this.canInsertSemicolon();){var Qe=this.startNodeAt(Q,de);Qe.operator=this.value,Qe.prefix=!1,Qe.argument=me,this.checkLValSimple(me),this.next(),me=this.finishNode(Qe,"UpdateExpression")}}else(q||0===this.privateNameStack.length)&&this.unexpected(),me=this.parsePrivateIdent(),this.type!==W._in&&this.unexpected();return U||!this.eat(W.starstar)?me:T?void this.unexpected(this.lastTokStart):this.buildBinary(Q,de,me,this.parseMaybeUnary(null,!1,!1,q),"**",!1)},w.parseExprSubscripts=function(_,T){var U=this.start,q=this.startLoc,Q=this.parseExprAtom(_,T);if("ArrowFunctionExpression"===Q.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return Q;var de=this.parseSubscripts(Q,U,q,!1,T);return _&&"MemberExpression"===de.type&&(_.parenthesizedAssign>=de.start&&(_.parenthesizedAssign=-1),_.parenthesizedBind>=de.start&&(_.parenthesizedBind=-1),_.trailingComma>=de.start&&(_.trailingComma=-1)),de},w.parseSubscripts=function(_,T,U,q,Q){for(var de=this.options.ecmaVersion>=8&&"Identifier"===_.type&&"async"===_.name&&this.lastTokEnd===_.end&&!this.canInsertSemicolon()&&_.end-_.start==5&&this.potentialArrowAt===_.start,me=!1;;){var Me=this.parseSubscript(_,T,U,q,de,me,Q);if(Me.optional&&(me=!0),Me===_||"ArrowFunctionExpression"===Me.type){if(me){var Ve=this.startNodeAt(T,U);Ve.expression=Me,Me=this.finishNode(Ve,"ChainExpression")}return Me}_=Me}},w.parseSubscript=function(_,T,U,q,Q,de,me){var Me=this.options.ecmaVersion>=11,Ve=Me&&this.eat(W.questionDot);q&&Ve&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Qe=this.eat(W.bracketL);if(Qe||Ve&&this.type!==W.parenL&&this.type!==W.backQuote||this.eat(W.dot)){var It=this.startNodeAt(T,U);It.object=_,Qe?(It.property=this.parseExpression(),this.expect(W.bracketR)):It.property=this.type===W.privateId&&"Super"!==_.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),It.computed=!!Qe,Me&&(It.optional=Ve),_=this.finishNode(It,"MemberExpression")}else if(!q&&this.eat(W.parenL)){var pn=new en,hi=this.yieldPos,gn=this.awaitPos,Zn=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var mi=this.parseExprList(W.parenR,this.options.ecmaVersion>=8,!1,pn);if(Q&&!Ve&&!this.canInsertSemicolon()&&this.eat(W.arrow))return this.checkPatternErrors(pn,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=hi,this.awaitPos=gn,this.awaitIdentPos=Zn,this.parseArrowExpression(this.startNodeAt(T,U),mi,!0,me);this.checkExpressionErrors(pn,!0),this.yieldPos=hi||this.yieldPos,this.awaitPos=gn||this.awaitPos,this.awaitIdentPos=Zn||this.awaitIdentPos;var ei=this.startNodeAt(T,U);ei.callee=_,ei.arguments=mi,Me&&(ei.optional=Ve),_=this.finishNode(ei,"CallExpression")}else if(this.type===W.backQuote){(Ve||de)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ii=this.startNodeAt(T,U);Ii.tag=_,Ii.quasi=this.parseTemplate({isTagged:!0}),_=this.finishNode(Ii,"TaggedTemplateExpression")}return _},w.parseExprAtom=function(_,T){this.type===W.slash&&this.readRegexp();var U,q=this.potentialArrowAt===this.start;switch(this.type){case W._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),U=this.startNode(),this.next(),this.type===W.parenL&&!this.allowDirectSuper&&this.raise(U.start,"super() call outside constructor of a subclass"),this.type!==W.dot&&this.type!==W.bracketL&&this.type!==W.parenL&&this.unexpected(),this.finishNode(U,"Super");case W._this:return U=this.startNode(),this.next(),this.finishNode(U,"ThisExpression");case W.name:var Q=this.start,de=this.startLoc,me=this.containsEsc,Me=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!me&&"async"===Me.name&&!this.canInsertSemicolon()&&this.eat(W._function))return this.overrideContext(v.f_expr),this.parseFunction(this.startNodeAt(Q,de),0,!1,!0,T);if(q&&!this.canInsertSemicolon()){if(this.eat(W.arrow))return this.parseArrowExpression(this.startNodeAt(Q,de),[Me],!1,T);if(this.options.ecmaVersion>=8&&"async"===Me.name&&this.type===W.name&&!me&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return Me=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(W.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Q,de),[Me],!0,T)}return Me;case W.regexp:var Ve=this.value;return(U=this.parseLiteral(Ve.value)).regex={pattern:Ve.pattern,flags:Ve.flags},U;case W.num:case W.string:return this.parseLiteral(this.value);case W._null:case W._true:case W._false:return(U=this.startNode()).value=this.type===W._null?null:this.type===W._true,U.raw=this.type.keyword,this.next(),this.finishNode(U,"Literal");case W.parenL:var Qe=this.start,It=this.parseParenAndDistinguishExpression(q,T);return _&&(_.parenthesizedAssign<0&&!this.isSimpleAssignTarget(It)&&(_.parenthesizedAssign=Qe),_.parenthesizedBind<0&&(_.parenthesizedBind=Qe)),It;case W.bracketL:return U=this.startNode(),this.next(),U.elements=this.parseExprList(W.bracketR,!0,!0,_),this.finishNode(U,"ArrayExpression");case W.braceL:return this.overrideContext(v.b_expr),this.parseObj(!1,_);case W._function:return U=this.startNode(),this.next(),this.parseFunction(U,0);case W._class:return this.parseClass(this.startNode(),!1);case W._new:return this.parseNew();case W.backQuote:return this.parseTemplate();case W._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},w.parseExprImport=function(){var _=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var T=this.parseIdent(!0);switch(this.type){case W.parenL:return this.parseDynamicImport(_);case W.dot:return _.meta=T,this.parseImportMeta(_);default:this.unexpected()}},w.parseDynamicImport=function(_){if(this.next(),_.source=this.parseMaybeAssign(),!this.eat(W.parenR)){var T=this.start;this.eat(W.comma)&&this.eat(W.parenR)?this.raiseRecoverable(T,"Trailing comma is not allowed in import()"):this.unexpected(T)}return this.finishNode(_,"ImportExpression")},w.parseImportMeta=function(_){this.next();var T=this.containsEsc;return _.property=this.parseIdent(!0),"meta"!==_.property.name&&this.raiseRecoverable(_.property.start,"The only valid meta property for import is 'import.meta'"),T&&this.raiseRecoverable(_.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(_.start,"Cannot use 'import.meta' outside a module"),this.finishNode(_,"MetaProperty")},w.parseLiteral=function(_){var T=this.startNode();return T.value=_,T.raw=this.input.slice(this.start,this.end),110===T.raw.charCodeAt(T.raw.length-1)&&(T.bigint=T.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(T,"Literal")},w.parseParenExpression=function(){this.expect(W.parenL);var _=this.parseExpression();return this.expect(W.parenR),_},w.parseParenAndDistinguishExpression=function(_,T){var Q,U=this.start,q=this.startLoc,de=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Zn,me=this.start,Me=this.startLoc,Ve=[],Qe=!0,It=!1,pn=new en,hi=this.yieldPos,gn=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==W.parenR;){if(Qe?Qe=!1:this.expect(W.comma),de&&this.afterTrailingComma(W.parenR,!0)){It=!0;break}if(this.type===W.ellipsis){Zn=this.start,Ve.push(this.parseParenItem(this.parseRestBinding())),this.type===W.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}Ve.push(this.parseMaybeAssign(!1,pn,this.parseParenItem))}var mi=this.lastTokEnd,ei=this.lastTokEndLoc;if(this.expect(W.parenR),_&&!this.canInsertSemicolon()&&this.eat(W.arrow))return this.checkPatternErrors(pn,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=hi,this.awaitPos=gn,this.parseParenArrowList(U,q,Ve,T);(!Ve.length||It)&&this.unexpected(this.lastTokStart),Zn&&this.unexpected(Zn),this.checkExpressionErrors(pn,!0),this.yieldPos=hi||this.yieldPos,this.awaitPos=gn||this.awaitPos,Ve.length>1?((Q=this.startNodeAt(me,Me)).expressions=Ve,this.finishNodeAt(Q,"SequenceExpression",mi,ei)):Q=Ve[0]}else Q=this.parseParenExpression();if(this.options.preserveParens){var Ii=this.startNodeAt(U,q);return Ii.expression=Q,this.finishNode(Ii,"ParenthesizedExpression")}return Q},w.parseParenItem=function(_){return _},w.parseParenArrowList=function(_,T,U,q){return this.parseArrowExpression(this.startNodeAt(_,T),U,!1,q)};var D=[];w.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var _=this.startNode(),T=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(W.dot)){_.meta=T;var U=this.containsEsc;return _.property=this.parseIdent(!0),"target"!==_.property.name&&this.raiseRecoverable(_.property.start,"The only valid meta property for new is 'new.target'"),U&&this.raiseRecoverable(_.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(_.start,"'new.target' can only be used in functions and class static block"),this.finishNode(_,"MetaProperty")}var q=this.start,Q=this.startLoc,de=this.type===W._import;return _.callee=this.parseSubscripts(this.parseExprAtom(),q,Q,!0,!1),de&&"ImportExpression"===_.callee.type&&this.raise(q,"Cannot use new with import()"),_.arguments=this.eat(W.parenL)?this.parseExprList(W.parenR,this.options.ecmaVersion>=8,!1):D,this.finishNode(_,"NewExpression")},w.parseTemplateElement=function(_){var T=_.isTagged,U=this.startNode();return this.type===W.invalidTemplate?(T||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),U.value={raw:this.value,cooked:null}):U.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),U.tail=this.type===W.backQuote,this.finishNode(U,"TemplateElement")},w.parseTemplate=function(_){void 0===_&&(_={});var T=_.isTagged;void 0===T&&(T=!1);var U=this.startNode();this.next(),U.expressions=[];var q=this.parseTemplateElement({isTagged:T});for(U.quasis=[q];!q.tail;)this.type===W.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(W.dollarBraceL),U.expressions.push(this.parseExpression()),this.expect(W.braceR),U.quasis.push(q=this.parseTemplateElement({isTagged:T}));return this.next(),this.finishNode(U,"TemplateLiteral")},w.isAsyncProp=function(_){return!_.computed&&"Identifier"===_.key.type&&"async"===_.key.name&&(this.type===W.name||this.type===W.num||this.type===W.string||this.type===W.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===W.star)&&!Ke.test(this.input.slice(this.lastTokEnd,this.start))},w.parseObj=function(_,T){var U=this.startNode(),q=!0,Q={};for(U.properties=[],this.next();!this.eat(W.braceR);){if(q)q=!1;else if(this.expect(W.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(W.braceR))break;var de=this.parseProperty(_,T);_||this.checkPropClash(de,Q,T),U.properties.push(de)}return this.finishNode(U,_?"ObjectPattern":"ObjectExpression")},w.parseProperty=function(_,T){var q,Q,de,me,U=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(W.ellipsis))return _?(U.argument=this.parseIdent(!1),this.type===W.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(U,"RestElement")):(U.argument=this.parseMaybeAssign(!1,T),this.type===W.comma&&T&&T.trailingComma<0&&(T.trailingComma=this.start),this.finishNode(U,"SpreadElement"));this.options.ecmaVersion>=6&&(U.method=!1,U.shorthand=!1,(_||T)&&(de=this.start,me=this.startLoc),_||(q=this.eat(W.star)));var Me=this.containsEsc;return this.parsePropertyName(U),!_&&!Me&&this.options.ecmaVersion>=8&&!q&&this.isAsyncProp(U)?(Q=!0,q=this.options.ecmaVersion>=9&&this.eat(W.star),this.parsePropertyName(U)):Q=!1,this.parsePropertyValue(U,_,q,Q,de,me,T,Me),this.finishNode(U,"Property")},w.parsePropertyValue=function(_,T,U,q,Q,de,me,Me){if((U||q)&&this.type===W.colon&&this.unexpected(),this.eat(W.colon))_.value=T?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,me),_.kind="init";else if(this.options.ecmaVersion>=6&&this.type===W.parenL)T&&this.unexpected(),_.kind="init",_.method=!0,_.value=this.parseMethod(U,q);else if(T||Me||!(this.options.ecmaVersion>=5)||_.computed||"Identifier"!==_.key.type||"get"!==_.key.name&&"set"!==_.key.name||this.type===W.comma||this.type===W.braceR||this.type===W.eq)this.options.ecmaVersion>=6&&!_.computed&&"Identifier"===_.key.type?((U||q)&&this.unexpected(),this.checkUnreserved(_.key),"await"===_.key.name&&!this.awaitIdentPos&&(this.awaitIdentPos=Q),_.kind="init",T?_.value=this.parseMaybeDefault(Q,de,this.copyNode(_.key)):this.type===W.eq&&me?(me.shorthandAssign<0&&(me.shorthandAssign=this.start),_.value=this.parseMaybeDefault(Q,de,this.copyNode(_.key))):_.value=this.copyNode(_.key),_.shorthand=!0):this.unexpected();else if((U||q)&&this.unexpected(),_.kind=_.key.name,this.parsePropertyName(_),_.value=this.parseMethod(!1),_.value.params.length!==("get"===_.kind?0:1)){this.raiseRecoverable(_.value.start,"get"===_.kind?"getter should have no params":"setter should have exactly one param")}else"set"===_.kind&&"RestElement"===_.value.params[0].type&&this.raiseRecoverable(_.value.params[0].start,"Setter cannot use rest params")},w.parsePropertyName=function(_){if(this.options.ecmaVersion>=6){if(this.eat(W.bracketL))return _.computed=!0,_.key=this.parseMaybeAssign(),this.expect(W.bracketR),_.key;_.computed=!1}return _.key=this.type===W.num||this.type===W.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},w.initFunction=function(_){_.id=null,this.options.ecmaVersion>=6&&(_.generator=_.expression=!1),this.options.ecmaVersion>=8&&(_.async=!1)},w.parseMethod=function(_,T,U){var q=this.startNode(),Q=this.yieldPos,de=this.awaitPos,me=this.awaitIdentPos;return this.initFunction(q),this.options.ecmaVersion>=6&&(q.generator=_),this.options.ecmaVersion>=8&&(q.async=!!T),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|ir(T,q.generator)|(U?128:0)),this.expect(W.parenL),q.params=this.parseBindingList(W.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(q,!1,!0,!1),this.yieldPos=Q,this.awaitPos=de,this.awaitIdentPos=me,this.finishNode(q,"FunctionExpression")},w.parseArrowExpression=function(_,T,U,q){var Q=this.yieldPos,de=this.awaitPos,me=this.awaitIdentPos;return this.enterScope(16|ir(U,!1)),this.initFunction(_),this.options.ecmaVersion>=8&&(_.async=!!U),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,_.params=this.toAssignableList(T,!0),this.parseFunctionBody(_,!0,!1,q),this.yieldPos=Q,this.awaitPos=de,this.awaitIdentPos=me,this.finishNode(_,"ArrowFunctionExpression")},w.parseFunctionBody=function(_,T,U,q){var de=this.strict,me=!1;if(T&&this.type!==W.braceL)_.body=this.parseMaybeAssign(q),_.expression=!0,this.checkParams(_,!1);else{var Me=this.options.ecmaVersion>=7&&!this.isSimpleParamList(_.params);(!de||Me)&&(me=this.strictDirective(this.end))&&Me&&this.raiseRecoverable(_.start,"Illegal 'use strict' directive in function with non-simple parameter list");var Ve=this.labels;this.labels=[],me&&(this.strict=!0),this.checkParams(_,!de&&!me&&!T&&!U&&this.isSimpleParamList(_.params)),this.strict&&_.id&&this.checkLValSimple(_.id,5),_.body=this.parseBlock(!1,void 0,me&&!de),_.expression=!1,this.adaptDirectivePrologue(_.body.body),this.labels=Ve}this.exitScope()},w.isSimpleParamList=function(_){for(var T=0,U=_;T<U.length;T+=1)if("Identifier"!==U[T].type)return!1;return!0},w.checkParams=function(_,T){for(var U=Object.create(null),q=0,Q=_.params;q<Q.length;q+=1)this.checkLValInnerPattern(Q[q],1,T?null:U)},w.parseExprList=function(_,T,U,q){for(var Q=[],de=!0;!this.eat(_);){if(de)de=!1;else if(this.expect(W.comma),T&&this.afterTrailingComma(_))break;var me=void 0;U&&this.type===W.comma?me=null:this.type===W.ellipsis?(me=this.parseSpread(q),q&&this.type===W.comma&&q.trailingComma<0&&(q.trailingComma=this.start)):me=this.parseMaybeAssign(!1,q),Q.push(me)}return Q},w.checkUnreserved=function(_){var T=_.start,U=_.end,q=_.name;this.inGenerator&&"yield"===q&&this.raiseRecoverable(T,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===q&&this.raiseRecoverable(T,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===q&&this.raiseRecoverable(T,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===q||"await"===q)&&this.raise(T,"Cannot use "+q+" in class static initialization block"),this.keywords.test(q)&&this.raise(T,"Unexpected keyword '"+q+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(T,U).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(q)&&(!this.inAsync&&"await"===q&&this.raiseRecoverable(T,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(T,"The keyword '"+q+"' is reserved"))},w.parseIdent=function(_){var T=this.startNode();return this.type===W.name?T.name=this.value:this.type.keyword?(T.name=this.type.keyword,("class"===T.name||"function"===T.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop()):this.unexpected(),this.next(!!_),this.finishNode(T,"Identifier"),_||(this.checkUnreserved(T),"await"===T.name&&!this.awaitIdentPos&&(this.awaitIdentPos=T.start)),T},w.parsePrivateIdent=function(){var _=this.startNode();return this.type===W.privateId?_.name=this.value:this.unexpected(),this.next(),this.finishNode(_,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(_.start,"Private field '#"+_.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(_),_},w.parseYield=function(_){this.yieldPos||(this.yieldPos=this.start);var T=this.startNode();return this.next(),this.type===W.semi||this.canInsertSemicolon()||this.type!==W.star&&!this.type.startsExpr?(T.delegate=!1,T.argument=null):(T.delegate=this.eat(W.star),T.argument=this.parseMaybeAssign(_)),this.finishNode(T,"YieldExpression")},w.parseAwait=function(_){this.awaitPos||(this.awaitPos=this.start);var T=this.startNode();return this.next(),T.argument=this.parseMaybeUnary(null,!0,!1,_),this.finishNode(T,"AwaitExpression")};var R=an.prototype;R.raise=function(_,T){var U=In(this.input,_),q=new SyntaxError(T+=" ("+U.line+":"+U.column+")");throw q.pos=_,q.loc=U,q.raisedAt=this.pos,q},R.raiseRecoverable=R.raise,R.curPosition=function(){if(this.options.locations)return new Re(this.curLine,this.pos-this.lineStart)};var P=an.prototype,M=function(T){this.flags=T,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};P.enterScope=function(_){this.scopeStack.push(new M(_))},P.exitScope=function(){this.scopeStack.pop()},P.treatFunctionsAsVarInScope=function(_){return _.flags&gi||!this.inModule&&1&_.flags},P.declareName=function(_,T,U){var q=!1;if(2===T){var Q=this.currentScope();q=Q.lexical.indexOf(_)>-1||Q.functions.indexOf(_)>-1||Q.var.indexOf(_)>-1,Q.lexical.push(_),this.inModule&&1&Q.flags&&delete this.undefinedExports[_]}else if(4===T)this.currentScope().lexical.push(_);else if(3===T){var me=this.currentScope();q=this.treatFunctionsAsVar?me.lexical.indexOf(_)>-1:me.lexical.indexOf(_)>-1||me.var.indexOf(_)>-1,me.functions.push(_)}else for(var Me=this.scopeStack.length-1;Me>=0;--Me){var Ve=this.scopeStack[Me];if(Ve.lexical.indexOf(_)>-1&&!(32&Ve.flags&&Ve.lexical[0]===_)||!this.treatFunctionsAsVarInScope(Ve)&&Ve.functions.indexOf(_)>-1){q=!0;break}if(Ve.var.push(_),this.inModule&&1&Ve.flags&&delete this.undefinedExports[_],Ve.flags&nn)break}q&&this.raiseRecoverable(U,"Identifier '"+_+"' has already been declared")},P.checkLocalExport=function(_){-1===this.scopeStack[0].lexical.indexOf(_.name)&&-1===this.scopeStack[0].var.indexOf(_.name)&&(this.undefinedExports[_.name]=_)},P.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},P.currentVarScope=function(){for(var _=this.scopeStack.length-1;;_--){var T=this.scopeStack[_];if(T.flags&nn)return T}},P.currentThisScope=function(){for(var _=this.scopeStack.length-1;;_--){var T=this.scopeStack[_];if(T.flags&nn&&!(16&T.flags))return T}};var I=function(T,U,q){this.type="",this.start=U,this.end=0,T.options.locations&&(this.loc=new Te(T,q)),T.options.directSourceFile&&(this.sourceFile=T.options.directSourceFile),T.options.ranges&&(this.range=[U,0])},x=an.prototype;function S(_,T,U,q){return _.type=T,_.end=U,this.options.locations&&(_.loc.end=q),this.options.ranges&&(_.range[1]=U),_}x.startNode=function(){return new I(this,this.start,this.startLoc)},x.startNodeAt=function(_,T){return new I(this,_,T)},x.finishNode=function(_,T){return S.call(this,_,T,this.lastTokEnd,this.lastTokEndLoc)},x.finishNodeAt=function(_,T,U,q){return S.call(this,_,T,U,q)},x.copyNode=function(_){var T=new I(this,_.start,this.startLoc);for(var U in _)T[U]=_[U];return T};var _,T,E="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",k=E+" Extended_Pictographic",O=k+" EBase EComp EMod EPres ExtPict",z={9:E,10:k,11:k,12:O,13:O,14:O},G="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",j="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",H=j+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",$=H+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",K=$+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Y=K+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",oe={9:j,10:H,11:$,12:K,13:Y,14:Y+" Kawi Nag_Mundari Nagm"},he={};for(var _e=0,le=[9,10,11,12,13,14];_e<le.length;_e+=1)T=void 0,(T=he[_=le[_e]]={binary:tn(z[_]+" "+G),nonBinary:{General_Category:tn(G),Script:tn(oe[_])}}).nonBinary.Script_Extensions=T.nonBinary.Script,T.nonBinary.gc=T.nonBinary.General_Category,T.nonBinary.sc=T.nonBinary.Script,T.nonBinary.scx=T.nonBinary.Script_Extensions;var ue=an.prototype,ve=function(T){this.parser=T,this.validFlags="gim"+(T.options.ecmaVersion>=6?"uy":"")+(T.options.ecmaVersion>=9?"s":"")+(T.options.ecmaVersion>=13?"d":""),this.unicodeProperties=he[T.options.ecmaVersion>=14?14:T.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Ce(_){return 36===_||_>=40&&_<=43||46===_||63===_||_>=91&&_<=94||_>=123&&_<=125}function Fe(_){return _>=65&&_<=90||_>=97&&_<=122}function Pt(_){return Fe(_)||95===_}function nt(_){return Pt(_)||Dt(_)}function Dt(_){return _>=48&&_<=57}function ut(_){return _>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102}function it(_){return _>=65&&_<=70?_-65+10:_>=97&&_<=102?_-97+10:_-48}function Ye(_){return _>=48&&_<=55}ve.prototype.reset=function(T,U,q){var Q=-1!==q.indexOf("u");this.start=0|T,this.source=U+"",this.flags=q,this.switchU=Q&&this.parser.options.ecmaVersion>=6,this.switchN=Q&&this.parser.options.ecmaVersion>=9},ve.prototype.raise=function(T){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+T)},ve.prototype.at=function(T,U){void 0===U&&(U=!1);var q=this.source,Q=q.length;if(T>=Q)return-1;var de=q.charCodeAt(T);if(!U&&!this.switchU||de<=55295||de>=57344||T+1>=Q)return de;var me=q.charCodeAt(T+1);return me>=56320&&me<=57343?(de<<10)+me-56613888:de},ve.prototype.nextIndex=function(T,U){void 0===U&&(U=!1);var q=this.source,Q=q.length;if(T>=Q)return Q;var me,de=q.charCodeAt(T);return!U&&!this.switchU||de<=55295||de>=57344||T+1>=Q||(me=q.charCodeAt(T+1))<56320||me>57343?T+1:T+2},ve.prototype.current=function(T){return void 0===T&&(T=!1),this.at(this.pos,T)},ve.prototype.lookahead=function(T){return void 0===T&&(T=!1),this.at(this.nextIndex(this.pos,T),T)},ve.prototype.advance=function(T){void 0===T&&(T=!1),this.pos=this.nextIndex(this.pos,T)},ve.prototype.eat=function(T,U){return void 0===U&&(U=!1),this.current(U)===T&&(this.advance(U),!0)},ue.validateRegExpFlags=function(_){for(var T=_.validFlags,U=_.flags,q=0;q<U.length;q++){var Q=U.charAt(q);-1===T.indexOf(Q)&&this.raise(_.start,"Invalid regular expression flag"),U.indexOf(Q,q+1)>-1&&this.raise(_.start,"Duplicate regular expression flag")}},ue.validateRegExpPattern=function(_){this.regexp_pattern(_),!_.switchN&&this.options.ecmaVersion>=9&&_.groupNames.length>0&&(_.switchN=!0,this.regexp_pattern(_))},ue.regexp_pattern=function(_){_.pos=0,_.lastIntValue=0,_.lastStringValue="",_.lastAssertionIsQuantifiable=!1,_.numCapturingParens=0,_.maxBackReference=0,_.groupNames.length=0,_.backReferenceNames.length=0,this.regexp_disjunction(_),_.pos!==_.source.length&&(_.eat(41)&&_.raise("Unmatched ')'"),(_.eat(93)||_.eat(125))&&_.raise("Lone quantifier brackets")),_.maxBackReference>_.numCapturingParens&&_.raise("Invalid escape");for(var T=0,U=_.backReferenceNames;T<U.length;T+=1)-1===_.groupNames.indexOf(U[T])&&_.raise("Invalid named capture referenced")},ue.regexp_disjunction=function(_){for(this.regexp_alternative(_);_.eat(124);)this.regexp_alternative(_);this.regexp_eatQuantifier(_,!0)&&_.raise("Nothing to repeat"),_.eat(123)&&_.raise("Lone quantifier brackets")},ue.regexp_alternative=function(_){for(;_.pos<_.source.length&&this.regexp_eatTerm(_););},ue.regexp_eatTerm=function(_){return this.regexp_eatAssertion(_)?(_.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(_)&&_.switchU&&_.raise("Invalid quantifier"),!0):!!(_.switchU?this.regexp_eatAtom(_):this.regexp_eatExtendedAtom(_))&&(this.regexp_eatQuantifier(_),!0)},ue.regexp_eatAssertion=function(_){var T=_.pos;if(_.lastAssertionIsQuantifiable=!1,_.eat(94)||_.eat(36))return!0;if(_.eat(92)){if(_.eat(66)||_.eat(98))return!0;_.pos=T}if(_.eat(40)&&_.eat(63)){var U=!1;if(this.options.ecmaVersion>=9&&(U=_.eat(60)),_.eat(61)||_.eat(33))return this.regexp_disjunction(_),_.eat(41)||_.raise("Unterminated group"),_.lastAssertionIsQuantifiable=!U,!0}return _.pos=T,!1},ue.regexp_eatQuantifier=function(_,T){return void 0===T&&(T=!1),!!this.regexp_eatQuantifierPrefix(_,T)&&(_.eat(63),!0)},ue.regexp_eatQuantifierPrefix=function(_,T){return _.eat(42)||_.eat(43)||_.eat(63)||this.regexp_eatBracedQuantifier(_,T)},ue.regexp_eatBracedQuantifier=function(_,T){var U=_.pos;if(_.eat(123)){var q=0,Q=-1;if(this.regexp_eatDecimalDigits(_)&&(q=_.lastIntValue,_.eat(44)&&this.regexp_eatDecimalDigits(_)&&(Q=_.lastIntValue),_.eat(125)))return-1!==Q&&Q<q&&!T&&_.raise("numbers out of order in {} quantifier"),!0;_.switchU&&!T&&_.raise("Incomplete quantifier"),_.pos=U}return!1},ue.regexp_eatAtom=function(_){return this.regexp_eatPatternCharacters(_)||_.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_)||this.regexp_eatCharacterClass(_)||this.regexp_eatUncapturingGroup(_)||this.regexp_eatCapturingGroup(_)},ue.regexp_eatReverseSolidusAtomEscape=function(_){var T=_.pos;if(_.eat(92)){if(this.regexp_eatAtomEscape(_))return!0;_.pos=T}return!1},ue.regexp_eatUncapturingGroup=function(_){var T=_.pos;if(_.eat(40)){if(_.eat(63)&&_.eat(58)){if(this.regexp_disjunction(_),_.eat(41))return!0;_.raise("Unterminated group")}_.pos=T}return!1},ue.regexp_eatCapturingGroup=function(_){if(_.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(_):63===_.current()&&_.raise("Invalid group"),this.regexp_disjunction(_),_.eat(41))return _.numCapturingParens+=1,!0;_.raise("Unterminated group")}return!1},ue.regexp_eatExtendedAtom=function(_){return _.eat(46)||this.regexp_eatReverseSolidusAtomEscape(_)||this.regexp_eatCharacterClass(_)||this.regexp_eatUncapturingGroup(_)||this.regexp_eatCapturingGroup(_)||this.regexp_eatInvalidBracedQuantifier(_)||this.regexp_eatExtendedPatternCharacter(_)},ue.regexp_eatInvalidBracedQuantifier=function(_){return this.regexp_eatBracedQuantifier(_,!0)&&_.raise("Nothing to repeat"),!1},ue.regexp_eatSyntaxCharacter=function(_){var T=_.current();return!!Ce(T)&&(_.lastIntValue=T,_.advance(),!0)},ue.regexp_eatPatternCharacters=function(_){for(var T=_.pos,U=0;-1!==(U=_.current())&&!Ce(U);)_.advance();return _.pos!==T},ue.regexp_eatExtendedPatternCharacter=function(_){var T=_.current();return!(-1===T||36===T||T>=40&&T<=43||46===T||63===T||91===T||94===T||124===T||(_.advance(),0))},ue.regexp_groupSpecifier=function(_){if(_.eat(63)){if(this.regexp_eatGroupName(_))return-1!==_.groupNames.indexOf(_.lastStringValue)&&_.raise("Duplicate capture group name"),void _.groupNames.push(_.lastStringValue);_.raise("Invalid group")}},ue.regexp_eatGroupName=function(_){if(_.lastStringValue="",_.eat(60)){if(this.regexp_eatRegExpIdentifierName(_)&&_.eat(62))return!0;_.raise("Invalid capture group name")}return!1},ue.regexp_eatRegExpIdentifierName=function(_){if(_.lastStringValue="",this.regexp_eatRegExpIdentifierStart(_)){for(_.lastStringValue+=Ne(_.lastIntValue);this.regexp_eatRegExpIdentifierPart(_);)_.lastStringValue+=Ne(_.lastIntValue);return!0}return!1},ue.regexp_eatRegExpIdentifierStart=function(_){var T=_.pos,U=this.options.ecmaVersion>=11,q=_.current(U);return _.advance(U),92===q&&this.regexp_eatRegExpUnicodeEscapeSequence(_,U)&&(q=_.lastIntValue),function Ae(_){return Sn(_,!0)||36===_||95===_}(q)?(_.lastIntValue=q,!0):(_.pos=T,!1)},ue.regexp_eatRegExpIdentifierPart=function(_){var T=_.pos,U=this.options.ecmaVersion>=11,q=_.current(U);return _.advance(U),92===q&&this.regexp_eatRegExpUnicodeEscapeSequence(_,U)&&(q=_.lastIntValue),function Pe(_){return sn(_,!0)||36===_||95===_||8204===_||8205===_}(q)?(_.lastIntValue=q,!0):(_.pos=T,!1)},ue.regexp_eatAtomEscape=function(_){return!!(this.regexp_eatBackReference(_)||this.regexp_eatCharacterClassEscape(_)||this.regexp_eatCharacterEscape(_)||_.switchN&&this.regexp_eatKGroupName(_))||(_.switchU&&(99===_.current()&&_.raise("Invalid unicode escape"),_.raise("Invalid escape")),!1)},ue.regexp_eatBackReference=function(_){var T=_.pos;if(this.regexp_eatDecimalEscape(_)){var U=_.lastIntValue;if(_.switchU)return U>_.maxBackReference&&(_.maxBackReference=U),!0;if(U<=_.numCapturingParens)return!0;_.pos=T}return!1},ue.regexp_eatKGroupName=function(_){if(_.eat(107)){if(this.regexp_eatGroupName(_))return _.backReferenceNames.push(_.lastStringValue),!0;_.raise("Invalid named reference")}return!1},ue.regexp_eatCharacterEscape=function(_){return this.regexp_eatControlEscape(_)||this.regexp_eatCControlLetter(_)||this.regexp_eatZero(_)||this.regexp_eatHexEscapeSequence(_)||this.regexp_eatRegExpUnicodeEscapeSequence(_,!1)||!_.switchU&&this.regexp_eatLegacyOctalEscapeSequence(_)||this.regexp_eatIdentityEscape(_)},ue.regexp_eatCControlLetter=function(_){var T=_.pos;if(_.eat(99)){if(this.regexp_eatControlLetter(_))return!0;_.pos=T}return!1},ue.regexp_eatZero=function(_){return 48===_.current()&&!Dt(_.lookahead())&&(_.lastIntValue=0,_.advance(),!0)},ue.regexp_eatControlEscape=function(_){var T=_.current();return 116===T?(_.lastIntValue=9,_.advance(),!0):110===T?(_.lastIntValue=10,_.advance(),!0):118===T?(_.lastIntValue=11,_.advance(),!0):102===T?(_.lastIntValue=12,_.advance(),!0):114===T&&(_.lastIntValue=13,_.advance(),!0)},ue.regexp_eatControlLetter=function(_){var T=_.current();return!!Fe(T)&&(_.lastIntValue=T%32,_.advance(),!0)},ue.regexp_eatRegExpUnicodeEscapeSequence=function(_,T){void 0===T&&(T=!1);var U=_.pos,q=T||_.switchU;if(_.eat(117)){if(this.regexp_eatFixedHexDigits(_,4)){var Q=_.lastIntValue;if(q&&Q>=55296&&Q<=56319){var de=_.pos;if(_.eat(92)&&_.eat(117)&&this.regexp_eatFixedHexDigits(_,4)){var me=_.lastIntValue;if(me>=56320&&me<=57343)return _.lastIntValue=1024*(Q-55296)+(me-56320)+65536,!0}_.pos=de,_.lastIntValue=Q}return!0}if(q&&_.eat(123)&&this.regexp_eatHexDigits(_)&&_.eat(125)&&function Be(_){return _>=0&&_<=1114111}(_.lastIntValue))return!0;q&&_.raise("Invalid unicode escape"),_.pos=U}return!1},ue.regexp_eatIdentityEscape=function(_){if(_.switchU)return!!this.regexp_eatSyntaxCharacter(_)||!!_.eat(47)&&(_.lastIntValue=47,!0);var T=_.current();return!(99===T||_.switchN&&107===T||(_.lastIntValue=T,_.advance(),0))},ue.regexp_eatDecimalEscape=function(_){_.lastIntValue=0;var T=_.current();if(T>=49&&T<=57){do{_.lastIntValue=10*_.lastIntValue+(T-48),_.advance()}while((T=_.current())>=48&&T<=57);return!0}return!1},ue.regexp_eatCharacterClassEscape=function(_){var T=_.current();if(function We(_){return 100===_||68===_||115===_||83===_||119===_||87===_}(T))return _.lastIntValue=-1,_.advance(),!0;if(_.switchU&&this.options.ecmaVersion>=9&&(80===T||112===T)){if(_.lastIntValue=-1,_.advance(),_.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(_)&&_.eat(125))return!0;_.raise("Invalid property name")}return!1},ue.regexp_eatUnicodePropertyValueExpression=function(_){var T=_.pos;if(this.regexp_eatUnicodePropertyName(_)&&_.eat(61)){var U=_.lastStringValue;if(this.regexp_eatUnicodePropertyValue(_))return this.regexp_validateUnicodePropertyNameAndValue(_,U,_.lastStringValue),!0}return _.pos=T,!!this.regexp_eatLoneUnicodePropertyNameOrValue(_)&&(this.regexp_validateUnicodePropertyNameOrValue(_,_.lastStringValue),!0)},ue.regexp_validateUnicodePropertyNameAndValue=function(_,T,U){Dn(_.unicodeProperties.nonBinary,T)||_.raise("Invalid property name"),_.unicodeProperties.nonBinary[T].test(U)||_.raise("Invalid property value")},ue.regexp_validateUnicodePropertyNameOrValue=function(_,T){_.unicodeProperties.binary.test(T)||_.raise("Invalid property name")},ue.regexp_eatUnicodePropertyName=function(_){var T=0;for(_.lastStringValue="";Pt(T=_.current());)_.lastStringValue+=Ne(T),_.advance();return""!==_.lastStringValue},ue.regexp_eatUnicodePropertyValue=function(_){var T=0;for(_.lastStringValue="";nt(T=_.current());)_.lastStringValue+=Ne(T),_.advance();return""!==_.lastStringValue},ue.regexp_eatLoneUnicodePropertyNameOrValue=function(_){return this.regexp_eatUnicodePropertyValue(_)},ue.regexp_eatCharacterClass=function(_){if(_.eat(91)){if(_.eat(94),this.regexp_classRanges(_),_.eat(93))return!0;_.raise("Unterminated character class")}return!1},ue.regexp_classRanges=function(_){for(;this.regexp_eatClassAtom(_);){var T=_.lastIntValue;if(_.eat(45)&&this.regexp_eatClassAtom(_)){var U=_.lastIntValue;_.switchU&&(-1===T||-1===U)&&_.raise("Invalid character class"),-1!==T&&-1!==U&&T>U&&_.raise("Range out of order in character class")}}},ue.regexp_eatClassAtom=function(_){var T=_.pos;if(_.eat(92)){if(this.regexp_eatClassEscape(_))return!0;if(_.switchU){var U=_.current();(99===U||Ye(U))&&_.raise("Invalid class escape"),_.raise("Invalid escape")}_.pos=T}var q=_.current();return 93!==q&&(_.lastIntValue=q,_.advance(),!0)},ue.regexp_eatClassEscape=function(_){var T=_.pos;if(_.eat(98))return _.lastIntValue=8,!0;if(_.switchU&&_.eat(45))return _.lastIntValue=45,!0;if(!_.switchU&&_.eat(99)){if(this.regexp_eatClassControlLetter(_))return!0;_.pos=T}return this.regexp_eatCharacterClassEscape(_)||this.regexp_eatCharacterEscape(_)},ue.regexp_eatClassControlLetter=function(_){var T=_.current();return!(!Dt(T)&&95!==T||(_.lastIntValue=T%32,_.advance(),0))},ue.regexp_eatHexEscapeSequence=function(_){var T=_.pos;if(_.eat(120)){if(this.regexp_eatFixedHexDigits(_,2))return!0;_.switchU&&_.raise("Invalid escape"),_.pos=T}return!1},ue.regexp_eatDecimalDigits=function(_){var T=_.pos,U=0;for(_.lastIntValue=0;Dt(U=_.current());)_.lastIntValue=10*_.lastIntValue+(U-48),_.advance();return _.pos!==T},ue.regexp_eatHexDigits=function(_){var T=_.pos,U=0;for(_.lastIntValue=0;ut(U=_.current());)_.lastIntValue=16*_.lastIntValue+it(U),_.advance();return _.pos!==T},ue.regexp_eatLegacyOctalEscapeSequence=function(_){if(this.regexp_eatOctalDigit(_)){var T=_.lastIntValue;if(this.regexp_eatOctalDigit(_)){var U=_.lastIntValue;_.lastIntValue=T<=3&&this.regexp_eatOctalDigit(_)?64*T+8*U+_.lastIntValue:8*T+U}else _.lastIntValue=T;return!0}return!1},ue.regexp_eatOctalDigit=function(_){var T=_.current();return Ye(T)?(_.lastIntValue=T-48,_.advance(),!0):(_.lastIntValue=0,!1)},ue.regexp_eatFixedHexDigits=function(_,T){var U=_.pos;_.lastIntValue=0;for(var q=0;q<T;++q){var Q=_.current();if(!ut(Q))return _.pos=U,!1;_.lastIntValue=16*_.lastIntValue+it(Q),_.advance()}return!0};var kt=function(T){this.type=T.type,this.value=T.value,this.start=T.start,this.end=T.end,T.options.locations&&(this.loc=new Te(T,T.startLoc,T.endLoc)),T.options.ranges&&(this.range=[T.start,T.end])},Oe=an.prototype;function Pn(_){return"function"!=typeof BigInt?null:BigInt(_.replace(/_/g,""))}Oe.next=function(_){!_&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new kt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Oe.getToken=function(){return this.next(),new kt(this)},typeof Symbol<"u"&&(Oe[Symbol.iterator]=function(){var _=this;return{next:function(){var T=_.getToken();return{done:T.type===W.eof,value:T}}}}),Oe.nextToken=function(){var _=this.curContext();return(!_||!_.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(W.eof):_.override?_.override(this):void this.readToken(this.fullCharCodeAtPos())},Oe.readToken=function(_){return Sn(_,this.options.ecmaVersion>=6)||92===_?this.readWord():this.getTokenFromCode(_)},Oe.fullCharCodeAtPos=function(){var _=this.input.charCodeAt(this.pos);if(_<=55295||_>=56320)return _;var T=this.input.charCodeAt(this.pos+1);return T<=56319||T>=57344?_:(_<<10)+T-56613888},Oe.skipBlockComment=function(){var _=this.options.onComment&&this.curPosition(),T=this.pos,U=this.input.indexOf("*/",this.pos+=2);if(-1===U&&this.raise(this.pos-2,"Unterminated comment"),this.pos=U+2,this.options.locations)for(var q=void 0,Q=T;(q=Xt(this.input,Q,this.pos))>-1;)++this.curLine,Q=this.lineStart=q;this.options.onComment&&this.options.onComment(!0,this.input.slice(T+2,U),T,this.pos,_,this.curPosition())},Oe.skipLineComment=function(_){for(var T=this.pos,U=this.options.onComment&&this.curPosition(),q=this.input.charCodeAt(this.pos+=_);this.pos<this.input.length&&!st(q);)q=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(T+_,this.pos),T,this.pos,U,this.curPosition())},Oe.skipSpace=function(){e:for(;this.pos<this.input.length;){var _=this.input.charCodeAt(this.pos);switch(_){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(_>8&&_<14||_>=5760&&tt.test(String.fromCharCode(_))))break e;++this.pos}}},Oe.finishToken=function(_,T){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var U=this.type;this.type=_,this.value=T,this.updateContext(U)},Oe.readToken_dot=function(){var _=this.input.charCodeAt(this.pos+1);if(_>=48&&_<=57)return this.readNumber(!0);var T=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===_&&46===T?(this.pos+=3,this.finishToken(W.ellipsis)):(++this.pos,this.finishToken(W.dot))},Oe.readToken_slash=function(){var _=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===_?this.finishOp(W.assign,2):this.finishOp(W.slash,1)},Oe.readToken_mult_modulo_exp=function(_){var T=this.input.charCodeAt(this.pos+1),U=1,q=42===_?W.star:W.modulo;return this.options.ecmaVersion>=7&&42===_&&42===T&&(++U,q=W.starstar,T=this.input.charCodeAt(this.pos+2)),61===T?this.finishOp(W.assign,U+1):this.finishOp(q,U)},Oe.readToken_pipe_amp=function(_){var T=this.input.charCodeAt(this.pos+1);return T===_?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(W.assign,3):this.finishOp(124===_?W.logicalOR:W.logicalAND,2):61===T?this.finishOp(W.assign,2):this.finishOp(124===_?W.bitwiseOR:W.bitwiseAND,1)},Oe.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(W.assign,2):this.finishOp(W.bitwiseXOR,1)},Oe.readToken_plus_min=function(_){var T=this.input.charCodeAt(this.pos+1);return T===_?45!==T||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!Ke.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(W.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===T?this.finishOp(W.assign,2):this.finishOp(W.plusMin,1)},Oe.readToken_lt_gt=function(_){var T=this.input.charCodeAt(this.pos+1),U=1;return T===_?(U=62===_&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+U)?this.finishOp(W.assign,U+1):this.finishOp(W.bitShift,U)):33!==T||60!==_||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===T&&(U=2),this.finishOp(W.relational,U)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Oe.readToken_eq_excl=function(_){var T=this.input.charCodeAt(this.pos+1);return 61===T?this.finishOp(W.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===_&&62===T&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(W.arrow)):this.finishOp(61===_?W.eq:W.prefix,1)},Oe.readToken_question=function(){var _=this.options.ecmaVersion;if(_>=11){var T=this.input.charCodeAt(this.pos+1);if(46===T){var U=this.input.charCodeAt(this.pos+2);if(U<48||U>57)return this.finishOp(W.questionDot,2)}if(63===T)return _>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(W.assign,3):this.finishOp(W.coalesce,2)}return this.finishOp(W.question,1)},Oe.readToken_numberSign=function(){var T=35;if(this.options.ecmaVersion>=13&&(++this.pos,Sn(T=this.fullCharCodeAtPos(),!0)||92===T))return this.finishToken(W.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ne(T)+"'")},Oe.getTokenFromCode=function(_){switch(_){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(W.parenL);case 41:return++this.pos,this.finishToken(W.parenR);case 59:return++this.pos,this.finishToken(W.semi);case 44:return++this.pos,this.finishToken(W.comma);case 91:return++this.pos,this.finishToken(W.bracketL);case 93:return++this.pos,this.finishToken(W.bracketR);case 123:return++this.pos,this.finishToken(W.braceL);case 125:return++this.pos,this.finishToken(W.braceR);case 58:return++this.pos,this.finishToken(W.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(W.backQuote);case 48:var T=this.input.charCodeAt(this.pos+1);if(120===T||88===T)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===T||79===T)return this.readRadixNumber(8);if(98===T||66===T)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(_);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(_);case 124:case 38:return this.readToken_pipe_amp(_);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(_);case 60:case 62:return this.readToken_lt_gt(_);case 61:case 33:return this.readToken_eq_excl(_);case 63:return this.readToken_question();case 126:return this.finishOp(W.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ne(_)+"'")},Oe.finishOp=function(_,T){var U=this.input.slice(this.pos,this.pos+T);return this.pos+=T,this.finishToken(_,U)},Oe.readRegexp=function(){for(var _,T,U=this.pos;;){this.pos>=this.input.length&&this.raise(U,"Unterminated regular expression");var q=this.input.charAt(this.pos);if(Ke.test(q)&&this.raise(U,"Unterminated regular expression"),_)_=!1;else{if("["===q)T=!0;else if("]"===q&&T)T=!1;else if("/"===q&&!T)break;_="\\"===q}++this.pos}var Q=this.input.slice(U,this.pos);++this.pos;var de=this.pos,me=this.readWord1();this.containsEsc&&this.unexpected(de);var Me=this.regexpState||(this.regexpState=new ve(this));Me.reset(U,Q,me),this.validateRegExpFlags(Me),this.validateRegExpPattern(Me);var Ve=null;try{Ve=new RegExp(Q,me)}catch{}return this.finishToken(W.regexp,{pattern:Q,flags:me,value:Ve})},Oe.readInt=function(_,T,U){for(var q=this.options.ecmaVersion>=12&&void 0===T,Q=U&&48===this.input.charCodeAt(this.pos),de=this.pos,me=0,Me=0,Ve=0,Qe=T??1/0;Ve<Qe;++Ve,++this.pos){var It=this.input.charCodeAt(this.pos),pn=void 0;if(q&&95===It)Q&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===Me&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===Ve&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Me=It;else{if((pn=It>=97?It-97+10:It>=65?It-65+10:It>=48&&It<=57?It-48:1/0)>=_)break;Me=It,me=me*_+pn}}return q&&95===Me&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===de||null!=T&&this.pos-de!==T?null:me},Oe.readRadixNumber=function(_){var T=this.pos;this.pos+=2;var U=this.readInt(_);return null==U&&this.raise(this.start+2,"Expected number in radix "+_),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(U=Pn(this.input.slice(T,this.pos)),++this.pos):Sn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(W.num,U)},Oe.readNumber=function(_){var T=this.pos;!_&&null===this.readInt(10,void 0,!0)&&this.raise(T,"Invalid number");var U=this.pos-T>=2&&48===this.input.charCodeAt(T);U&&this.strict&&this.raise(T,"Invalid number");var q=this.input.charCodeAt(this.pos);if(!U&&!_&&this.options.ecmaVersion>=11&&110===q){var Q=Pn(this.input.slice(T,this.pos));return++this.pos,Sn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(W.num,Q)}U&&/[89]/.test(this.input.slice(T,this.pos))&&(U=!1),46===q&&!U&&(++this.pos,this.readInt(10),q=this.input.charCodeAt(this.pos)),(69===q||101===q)&&!U&&((43===(q=this.input.charCodeAt(++this.pos))||45===q)&&++this.pos,null===this.readInt(10)&&this.raise(T,"Invalid number")),Sn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var de=function wn(_,T){return T?parseInt(_,8):parseFloat(_.replace(/_/g,""))}(this.input.slice(T,this.pos),U);return this.finishToken(W.num,de)},Oe.readCodePoint=function(){var T;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var U=++this.pos;T=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,T>1114111&&this.invalidStringToken(U,"Code point out of bounds")}else T=this.readHexChar(4);return T},Oe.readString=function(_){for(var T="",U=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var q=this.input.charCodeAt(this.pos);if(q===_)break;92===q?(T+=this.input.slice(U,this.pos),T+=this.readEscapedChar(!1),U=this.pos):8232===q||8233===q?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(st(q)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return T+=this.input.slice(U,this.pos++),this.finishToken(W.string,T)};var ln={};Oe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(_){if(_!==ln)throw _;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Oe.invalidStringToken=function(_,T){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ln;this.raise(_,T)},Oe.readTmplToken=function(){for(var _="",T=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var U=this.input.charCodeAt(this.pos);if(96===U||36===U&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==W.template&&this.type!==W.invalidTemplate?(_+=this.input.slice(T,this.pos),this.finishToken(W.template,_)):36===U?(this.pos+=2,this.finishToken(W.dollarBraceL)):(++this.pos,this.finishToken(W.backQuote));if(92===U)_+=this.input.slice(T,this.pos),_+=this.readEscapedChar(!0),T=this.pos;else if(st(U)){switch(_+=this.input.slice(T,this.pos),++this.pos,U){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:_+="\n";break;default:_+=String.fromCharCode(U)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),T=this.pos}else++this.pos}},Oe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(W.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Oe.readEscapedChar=function(_){var T=this.input.charCodeAt(++this.pos);switch(++this.pos,T){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ne(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),_&&this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string");default:if(T>=48&&T<=55){var q=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Q=parseInt(q,8);return Q>255&&(q=q.slice(0,-1),Q=parseInt(q,8)),this.pos+=q.length-1,T=this.input.charCodeAt(this.pos),("0"!==q||56===T||57===T)&&(this.strict||_)&&this.invalidStringToken(this.pos-1-q.length,_?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Q)}return st(T)?"":String.fromCharCode(T)}},Oe.readHexChar=function(_){var T=this.pos,U=this.readInt(16,_);return null===U&&this.invalidStringToken(T,"Bad character escape sequence"),U},Oe.readWord1=function(){this.containsEsc=!1;for(var _="",T=!0,U=this.pos,q=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Q=this.fullCharCodeAtPos();if(sn(Q,q))this.pos+=Q<=65535?1:2;else{if(92!==Q)break;this.containsEsc=!0,_+=this.input.slice(U,this.pos);var de=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var me=this.readCodePoint();(T?Sn:sn)(me,q)||this.invalidStringToken(de,"Invalid Unicode escape"),_+=Ne(me),U=this.pos}T=!1}return _+this.input.slice(U,this.pos)},Oe.readWord=function(){var _=this.readWord1(),T=W.name;return this.keywords.test(_)&&(T=je[_]),this.finishToken(T,_)};an.acorn={Parser:an,version:"8.8.2",defaultOptions:at,Position:Re,SourceLocation:Te,getLineInfo:In,Node:I,TokenType:ze,tokTypes:W,keywordTypes:je,TokContext:m,tokContexts:v,isIdentifierChar:sn,isIdentifierStart:Sn,Token:kt,isNewLine:st,lineBreak:Ke,lineBreakG:Vt,nonASCIIwhitespace:tt},Bt.Node=I,Bt.Parser=an,Bt.Position=Re,Bt.SourceLocation=Te,Bt.TokContext=m,Bt.Token=kt,Bt.TokenType=ze,Bt.defaultOptions=at,Bt.getLineInfo=In,Bt.isIdentifierChar=sn,Bt.isIdentifierStart=Sn,Bt.isNewLine=st,Bt.keywordTypes=je,Bt.lineBreak=Ke,Bt.lineBreakG=Vt,Bt.nonASCIIwhitespace=tt,Bt.parse=function Yt(_,T){return an.parse(_,T)},Bt.parseExpressionAt=function Cn(_,T,U){return an.parseExpressionAt(_,T,U)},Bt.tokContexts=v,Bt.tokTypes=W,Bt.tokenizer=function Wn(_,T){return an.tokenizer(_,T)},Bt.version="8.8.2"}(vr)},956:function($i,vr,Bt){var Nt,Bn;(function(ri,xe){var De=(ri=ri||Bt(158)).window,Ct=ri.document,ee=new function(){var o=/^(statics|enumerable|beans|preserve)$/,i=[],s=i.slice,a=Object.create,l=Object.getOwnPropertyDescriptor,h=Object.defineProperty,d=i.forEach||function(w,C){for(var D=0,R=this.length;D<R;D++)w.call(C,this[D],D,this)},p=function(w,C){for(var D in this)this.hasOwnProperty(D)&&w.call(C,this[D],D,this)},g=Object.assign||function(w){for(var C=1,D=arguments.length;C<D;C++){var R=arguments[C];for(var P in R)R.hasOwnProperty(P)&&(w[P]=R[P])}return w},m=function(w,C,D){if(w){var R=l(w,"length");(R&&"number"==typeof R.value?d:p).call(w,C,D=D||w)}return D};function v(w,C,D,R,P){var M={};function I(N,O){"string"==typeof(O=O||(O=l(C,N))&&(O.get?O:O.value))&&"#"===O[0]&&(O=w[O.substring(1)]||O);var G,F="function"==typeof O,B=O,z=P||F&&!O.base?O&&O.get?N in w:w[N]:null;(!P||!z)&&(F&&z&&(O.base=z),F&&!1!==R&&(G=N.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(M[G[3].toLowerCase()+G[4]]=G[2]),(!B||F||!B.get||"function"!=typeof B.get||!b.isPlainObject(B))&&(B={value:B,writable:!0}),(l(w,N)||{configurable:!0}).configurable&&(B.configurable=!0,B.enumerable=D??!G),h(w,N,B))}if(C){for(var x in C)C.hasOwnProperty(x)&&!o.test(x)&&I(x);for(var x in M){var S=M[x],E=w["set"+S],k=w["get"+S]||E&&w["is"+S];k&&(!0===R||0===k.length)&&I(x,{get:k,set:E})}}return w}function b(){for(var w=0,C=arguments.length;w<C;w++){var D=arguments[w];D&&g(this,D)}return this}return v(b,{inject:function(w){if(w){var C=!0===w.statics?w:w.statics,D=w.beans,R=w.preserve;C!==w&&v(this.prototype,w,w.enumerable,D,R),v(this,C,null,D,R)}for(var P=1,M=arguments.length;P<M;P++)this.inject(arguments[P]);return this},extend:function(){for(var C,D,P,w=this,R=0,M=arguments.length;R<M&&(!C||!D);R++)P=arguments[R],C=C||P.initialize,D=D||P.prototype;return C=C||function(){w.apply(this,arguments)},D=C.prototype=D||a(this.prototype),h(D,"constructor",{value:C,writable:!0,configurable:!0}),v(C,this),arguments.length&&this.inject.apply(C,arguments),C.base=w,C}}).inject({enumerable:!1,initialize:b,set:b,inject:function(){for(var w=0,C=arguments.length;w<C;w++){var D=arguments[w];D&&v(this,D,D.enumerable,D.beans,D.preserve)}return this},extend:function(){var w=a(this);return w.inject.apply(w,arguments)},each:function(w,C){return m(this,w,C)},clone:function(){return new this.constructor(this)},statics:{set:g,each:m,create:a,define:h,describe:l,clone:function(w){return g(new w.constructor,w)},isPlainObject:function(w){var C=null!=w&&w.constructor;return C&&(C===Object||C===b||"Object"===C.name)},pick:function(w,C){return w!==xe?w:C},slice:function(w,C,D){return s.call(w,C,D)}}})};$i.exports=ee,ee.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+ee.each(this,function(o,i){if(!/^_/.test(i)){var s=typeof o;this.push(i+": "+("number"===s?sn.instance.number(o):"string"===s?"'"+o+"'":o))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(o){return ee.importJSON(o,this)},exportJSON:function(o){return ee.exportJSON(this,o)},toJSON:function(){return ee.serialize(this)},set:function(o,i){return o&&ee.filter(this,o,i,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function o(){var i=o.base.apply(this,arguments),s=i.prototype._class;return s&&!ee.exports[s]&&(ee.exports[s]=i),i},equals:function(o,i){if(o===i)return!0;if(o&&o.equals)return o.equals(i);if(i&&i.equals)return i.equals(o);if(o&&i&&"object"==typeof o&&"object"==typeof i){if(Array.isArray(o)&&Array.isArray(i)){if((s=o.length)!==i.length)return!1;for(;s--;)if(!ee.equals(o[s],i[s]))return!1}else{var s,a=Object.keys(o);if((s=a.length)!==Object.keys(i).length)return!1;for(;s--;){var l=a[s];if(!i.hasOwnProperty(l)||!ee.equals(o[l],i[l]))return!1}}return!0}return!1},read:function(o,i,s,a){if(this===ee){var l=this.peek(o,i);return o.__index++,l}var h=this.prototype,d=h._readIndex,p=i||d&&o.__index||0,g=o.length,m=o[p];if(a=a||g-p,m instanceof this||s&&s.readNull&&null==m&&a<=1)return d&&(o.__index=p+1),m&&s&&s.clone?m.clone():m;if(m=ee.create(h),d&&(m.__read=!0),m=m.initialize.apply(m,p>0||p+a<g?ee.slice(o,p,p+a):o)||m,d){o.__index=p+m.__read;var v=m.__filtered;v&&(o.__filtered=v,m.__filtered=xe),m.__read=xe}return m},peek:function(o,i){return o[o.__index=i||o.__index||0]},remain:function(o){return o.length-(o.__index||0)},readList:function(o,i,s,a){for(var h,l=[],d=i||0,p=a?d+a:o.length,g=d;g<p;g++)l.push(Array.isArray(h=o[g])?this.read(h,0,s):this.read(o,g,s,1));return l},readNamed:function(o,i,s,a,l){var h=this.getNamed(o,i),d=h!==xe;if(d){var p=o.__filtered;if(!p){var g=this.getSource(o);(p=o.__filtered=ee.create(g)).__unfiltered=g}p[i]=xe}return this.read(d?[h]:o,s,a,l)},readSupported:function(o,i){var s=this.getSource(o),a=this,l=!1;return s&&Object.keys(s).forEach(function(h){if(h in i){var d=a.readNamed(o,h);d!==xe&&(i[h]=d),l=!0}}),l},getSource:function(o){var i=o.__source;if(i===xe){var s=1===o.length&&o[0];i=o.__source=s&&ee.isPlainObject(s)?s:null}return i},getNamed:function(o,i){var s=this.getSource(o);if(s)return i?s[i]:o.__filtered||s},hasNamed:function(o,i){return!!this.getNamed(o,i)},filter:function(o,i,s,a){var l;function h(v){if(!(s&&v in s||l&&v in l)){var b=i[v];b!==xe&&(o[v]=b)}}if(a){for(var g,d={},p=0,m=a.length;p<m;p++)(g=a[p])in i&&(h(g),d[g]=!0);l=d}return Object.keys(i.__unfiltered||i).forEach(h),o},isPlainValue:function(o,i){return ee.isPlainObject(o)||Array.isArray(o)||i&&"string"==typeof o},serialize:function(o,i,s,a){i=i||{};var h,l=!a;if(l&&(i.formatter=new sn(i.precision),a={length:0,definitions:{},references:{},add:function(b,w){var C="#"+b._id,D=this.references[C];if(!D){this.length++;var R=w.call(b),P=b._class;P&&R[0]!==P&&R.unshift(P),this.definitions[C]=R,D=this.references[C]=[C]}return D}}),o&&o._serialize){h=o._serialize(i,a);var d=o._class;d&&!o._compactSerialize&&(l||!s)&&h[0]!==d&&h.unshift(d)}else if(Array.isArray(o)){h=[];for(var p=0,g=o.length;p<g;p++)h[p]=ee.serialize(o[p],i,s,a)}else if(ee.isPlainObject(o)){h={};var m=Object.keys(o);for(p=0,g=m.length;p<g;p++){var v=m[p];h[v]=ee.serialize(o[v],i,s,a)}}else h="number"==typeof o?i.formatter.number(o,i.precision):o;return l&&a.length>0?[["dictionary",a.definitions],h]:h},deserialize:function(o,i,s,a,l){var h=o,d=!s,p=d&&o&&o.length&&"dictionary"===o[0][0];if(s=s||{},Array.isArray(o)){var g=o[0],m="dictionary"===g;if(1==o.length&&/^#/.test(g))return s.dictionary[g];h=[];for(var v=(g=ee.exports[g])?1:0,b=o.length;v<b;v++)h.push(ee.deserialize(o[v],i,s,m,p));if(g){var w=h;h=i?i(g,w,d||l):new g(w)}}else if(ee.isPlainObject(o))for(var C in h={},a&&(s.dictionary=h),o)h[C]=ee.deserialize(o[C],i,s);return p?h[1]:h},exportJSON:function(o,i){var s=ee.serialize(o,i);return i&&0==i.asString?s:JSON.stringify(s)},importJSON:function(o,i){return ee.deserialize("string"==typeof o?JSON.parse(o):o,function(s,a,l){var h=l&&i&&i.constructor===s,d=h?i:ee.create(s.prototype);if(1===a.length&&d instanceof tt&&(h||!(d instanceof Mn))){var p=a[0];ee.isPlainObject(p)&&(p.insert=!1,h&&(a=a.concat([tt.INSERT])))}return(h?d.set:s).apply(d,a),h&&(i=null),d})},push:function(o,i){var s=i.length;if(s<4096)o.push.apply(o,i);else{var a=o.length;o.length+=s;for(var l=0;l<s;l++)o[a+l]=i[l]}return o},splice:function(o,i,s,a){var l=i&&i.length,h=s===xe;(s=h?o.length:s)>o.length&&(s=o.length);for(var d=0;d<l;d++)i[d]._index=s+d;if(h)return ee.push(o,i),[];var p=[s,a];i&&ee.push(p,i);for(var g=o.splice.apply(o,p),m=(d=0,g.length);d<m;d++)g[d]._index=xe;for(d=s+l,m=o.length;d<m;d++)o[d]._index=d;return g},capitalize:function(o){return o.replace(/\b[a-z]/g,function(i){return i.toUpperCase()})},camelize:function(o){return o.replace(/-(.)/g,function(i,s){return s.toUpperCase()})},hyphenate:function(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var ne={on:function(o,i){if("string"!=typeof o)ee.each(o,function(h,d){this.on(d,h)},this);else{var s=this._eventTypes,a=s&&s[o],l=this._callbacks=this._callbacks||{};-1===(l=l[o]=l[o]||[]).indexOf(i)&&(l.push(i),a&&a.install&&1===l.length&&a.install.call(this,o))}return this},off:function(o,i){if("string"==typeof o){var h,s=this._eventTypes,a=s&&s[o],l=this._callbacks&&this._callbacks[o];return l&&(!i||-1!==(h=l.indexOf(i))&&1===l.length?(a&&a.uninstall&&a.uninstall.call(this,o),delete this._callbacks[o]):-1!==h&&l.splice(h,1)),this}ee.each(o,function(d,p){this.off(p,d)},this)},once:function(o,i){return this.on(o,function s(){i.apply(this,arguments),this.off(o,s)})},emit:function(o,i){var s=this._callbacks&&this._callbacks[o];if(!s)return!1;var a=ee.slice(arguments,1),l=i&&i.target&&!i.currentTarget;s=s.slice(),l&&(i.currentTarget=this);for(var h=0,d=s.length;h<d;h++)if(0==s[h].apply(this,a)){i&&i.stop&&i.stop();break}return l&&delete i.currentTarget,!0},responds:function(o){return!(!this._callbacks||!this._callbacks[o])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(o){var i=this._eventTypes,s=this._callbacks,a=o?"install":"uninstall";if(i)for(var l in s)if(s[l].length>0){var h=i[l],d=h&&h[a];d&&d.call(this,l)}},statics:{inject:function o(i){var s=i._events;if(s){var a={};ee.each(s,function(l,h){var d="string"==typeof l,p=d?l:h,g=ee.capitalize(p),m=p.substring(2).toLowerCase();a[m]=d?{}:l,p="_"+p,i["get"+g]=function(){return this[p]},i["set"+g]=function(v){var b=this[p];b&&this.off(m,b),v&&this.on(m,v),this[p]=v}}),i._eventTypes=a}return o.base.apply(this,arguments)}}},Gn=ee.extend({_class:"PaperScope",initialize:function o(){Le=this,this.settings=new ee({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=o._id++,o._scopes[this._id]=this;var i=o.prototype;if(!this.support){var s=zt.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:Mt.nativeModes},zt.release(s)}if(!this.agent){var a=ri.navigator.userAgent.toLowerCase(),l=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(a)||[])[0],h="darwin"===l?"mac":l,d=i.agent=i.browser={platform:h};h&&(d[h]=!0),a.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(p,g,m,v,b){if(!d.chrome){var w="opera"===g?v:/^(node|trident)$/.test(g)?b:m;d.version=w,d.versionNumber=parseFloat(w),d.name=g={trident:"msie",jsdom:"node"}[g]||g,d[g]=!0}}),d.chrome&&delete d.webkit,d.atom&&delete d.chrome}},version:"0.12.17",getView:function(){var o=this.project;return o&&o._view},getPaper:function(){return this},execute:function(o,i){},install:function(o){var i=this;for(var s in ee.each(["project","view","tool"],function(a){ee.define(o,a,{configurable:!0,get:function(){return i[a]}})}),this)!/^_/.test(s)&&this[s]&&(o[s]=this[s])},setup:function(o){return Le=this,this.project=new Xt(o),this},createCanvas:function(o,i){return zt.getCanvas(o,i)},activate:function(){Le=this},clear:function(){for(var o=this.projects,i=this.tools,s=o.length-1;s>=0;s--)o[s].remove();for(s=i.length-1;s>=0;s--)i[s].remove()},remove:function(){this.clear(),delete Gn._scopes[this._id]},statics:new function(){function o(i){return i+="Attribute",function(s,a){return s[i](a)||s[i]("data-paper-"+a)}}return{_scopes:{},_id:0,get:function(i){return this._scopes[i]||null},getAttribute:o("get"),hasAttribute:o("has")}}}),yn=ee.extend(ne,{initialize:function(o){this._scope=Le,this._index=this._scope[this._list].push(this)-1,(o||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var o=this._scope[this._reference];return o&&o!==this&&o.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",o),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(ee.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Sn={findItemBoundsCollisions:function(o,i,s){function a(d){for(var p=new Array(d.length),g=0;g<d.length;g++){var m=d[g].getBounds();p[g]=[m.left,m.top,m.right,m.bottom]}return p}var l=a(o),h=i&&i!==o?a(i):l;return this.findBoundsCollisions(l,h,s||0)},findCurveBoundsCollisions:function(o,i,s,a){function l(w){for(var C=Math.min,D=Math.max,R=new Array(w.length),P=0;P<w.length;P++){var M=w[P];R[P]=[C(M[0],M[2],M[4],M[6]),C(M[1],M[3],M[5],M[7]),D(M[0],M[2],M[4],M[6]),D(M[1],M[3],M[5],M[7])]}return R}var h=l(o),d=i&&i!==o?l(i):h;if(a){for(var p=this.findBoundsCollisions(h,d,s||0,!1,!0),g=this.findBoundsCollisions(h,d,s||0,!0,!0),m=[],v=0,b=p.length;v<b;v++)m[v]={hor:p[v],ver:g[v]};return m}return this.findBoundsCollisions(h,d,s||0)},findBoundsCollisions:function(o,i,s,a,l){var h=!i||o===i,d=h?o:o.concat(i),p=o.length,g=d.length;function m(oe,he,ge){for(var _e=0,le=oe.length;_e<le;){var ce=le+_e>>>1;d[oe[ce]][he]<ge?_e=ce+1:le=ce}return _e-1}for(var v=a?1:0,b=v+2,w=a?0:1,C=w+2,D=new Array(g),R=0;R<g;R++)D[R]=R;D.sort(function(oe,he){return d[oe][v]-d[he][v]});var P=[],M=new Array(p);for(R=0;R<g;R++){var I=D[R],x=d[I],S=h?I:I-p,E=I<p,k=h||!E,N=E?[]:null;if(P.length){var O=m(P,b,x[v]-s)+1;if(P.splice(0,O),h&&l){N=N.concat(P);for(var F=0;F<P.length;F++)M[B=P[F]].push(S)}else{var z=x[C],G=x[w];for(F=0;F<P.length;F++){var B,j=d[B=P[F]],H=B<p,$=h||B>=p;(l||(E&&$||k&&H)&&z>=j[w]-s&&G<=j[C]+s)&&(E&&$&&N.push(h?B:B-p),k&&H&&M[B].push(S))}}}if(E&&(o===i&&N.push(I),M[I]=N),P.length){var Y=m(P,b,x[b]);P.splice(Y+1,0,I)}else P.push(I)}for(R=0;R<M.length;R++){var J=M[R];J&&J.sort(function(he,ge){return he-ge})}return M}},sn=ee.extend({initialize:function(o){this.precision=ee.pick(o,5),this.multiplier=Math.pow(10,this.precision)},number:function(o){return this.precision<16?Math.round(o*this.multiplier)/this.multiplier:o},pair:function(o,i,s){return this.number(o)+(s||",")+this.number(i)},point:function(o,i){return this.number(o.x)+(i||",")+this.number(o.y)},size:function(o,i){return this.number(o.width)+(i||",")+this.number(o.height)},rectangle:function(o,i){return this.point(o,i)+(i||",")+this.size(o,i)}});sn.instance=new sn;var ze=new function(){var o=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],i=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,a=Math.sqrt,l=Math.pow,h=Math.log2||function(b){return Math.log(b)*Math.LOG2E},d=1e-12,p=112e-18;function g(b,w,C){return b<w?w:b>C?C:b}function m(b,w,C){function D(O){var F=134217729*O,z=O-F+F;return[z,O-z]}var R=w*w-b*C,P=w*w+b*C;if(3*s(R)<P){var M=D(b),I=D(w),x=D(C),S=w*w,k=b*C;R=S-k+(I[0]*I[0]-S+2*I[0]*I[1]+I[1]*I[1]-(M[0]*x[0]-k+M[0]*x[1]+M[1]*x[0]+M[1]*x[1]))}return R}function v(){var b=Math.max.apply(Math,arguments);return b&&(b<1e-8||b>1e8)?l(2,-Math.round(h(b))):0}return{EPSILON:d,MACHINE_EPSILON:p,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(a(2)-1)/3,isZero:function(b){return b>=-d&&b<=d},isMachineZero:function(b){return b>=-p&&b<=p},clamp:g,integrate:function(b,w,C,D){for(var R=o[D-2],P=i[D-2],M=.5*(C-w),I=M+w,x=0,S=D+1>>1,E=1&D?P[x++]*b(I):0;x<S;){var k=M*R[x];E+=P[x++]*(b(I+k)+b(I-k))}return M*E},findRoot:function(b,w,C,D,R,P,M){for(var I=0;I<P;I++){var x=b(C),S=x/w(C),E=C-S;if(s(S)<M){C=E;break}x>0?(R=C,C=E<=D?.5*(D+R):E):(D=C,C=E>=R?.5*(D+R):E)}return g(C,D,R)},solveQuadratic:function(b,w,C,D,R,P){var M,I=1/0;if(s(b)<d){if(s(w)<d)return s(C)<d?-1:0;M=-C/w}else{var x=m(b,w*=-.5,C);if(x&&s(x)<p){var S=v(s(b),s(w),s(C));S&&(x=m(b*=S,w*=S,C*=S))}if(x>=-p){var E=x<0?0:a(x),k=w+(w<0?-E:E);0===k?I=-(M=C/b):(M=k/b,I=C/k)}}var N=0,O=null==R,F=R-d,B=P+d;return isFinite(M)&&(O||M>F&&M<B)&&(D[N++]=O?M:g(M,R,P)),I!==M&&isFinite(I)&&(O||I>F&&I<B)&&(D[N++]=O?I:g(I,R,P)),N},solveCubic:function(b,w,C,D,R,P,M){var x,S,E,k,N,I=v(s(b),s(w),s(C),s(D));function O(Y){var J=b*(x=Y);k=(J+(S=J+w))*x+(E=S*x+C),N=E*x+D}if(I&&(b*=I,w*=I,C*=I,D*=I),s(b)<d)b=w,S=C,E=D,x=1/0;else if(s(D)<d)S=w,E=C,x=0;else{O(-w/b/3);var F=N/b,B=l(s(F),1/3),z=F<0?-1:1,G=-k/b,j=G>0?1.324717957244746*Math.max(B,a(G)):B,H=x-z*j;if(H!==x){do{O(H),H=0===k?x:x-N/k/(1+p)}while(z*H>z*x);s(b)*x*x>s(D/x)&&(S=((E=-D/x)-C)/x)}}var $=ze.solveQuadratic(b,S,E,R,P,M),K=null==P;return isFinite(x)&&(0===$||$>0&&x!==R[0]&&x!==R[1])&&(K||x>P-d&&x<M+d)&&(R[$++]=K?x:g(x,P,M)),$}}},ot={_id:1,_pools:{},get:function(o){if(o){var i=this._pools[o];return i||(i=this._pools[o]={_id:1}),i._id++}return this._id++}},ae=ee.extend({_class:"Point",_readIndex:!0,initialize:function(i,s){var a=typeof i,l=this.__read,h=0;if("number"===a){var d="number"==typeof s;this._set(i,d?s:i),l&&(h=d?2:1)}else if("undefined"===a||null===i)this._set(0,0),l&&(h=null===i?1:0);else{var p="string"===a?i.split(/[\s,]+/)||[]:i;h=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"x"in p?this._set(p.x||0,p.y||0):"width"in p?this._set(p.width||0,p.height||0):"angle"in p?(this._set(p.length||0,0),this.setAngle(p.angle||0)):(this._set(0,0),h=0)}return l&&(this.__read=h),this},set:"#initialize",_set:function(o,i){return this.x=o,this.y=i,this},equals:function(o){return this===o||o&&(this.x===o.x&&this.y===o.y||Array.isArray(o)&&this.x===o[0]&&this.y===o[1])||!1},clone:function(){return new ae(this.x,this.y)},toString:function(){var o=sn.instance;return"{ x: "+o.number(this.x)+", y: "+o.number(this.y)+" }"},_serialize:function(o){var i=o.formatter;return[i.number(this.x),i.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(o){if(this.isZero()){var i=this._angle||0;this._set(Math.cos(i)*o,Math.sin(i)*o)}else{var s=o/this.getLength();ze.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(o){this.setAngleInRadians.call(this,o*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var o=ae.read(arguments),i=this.getLength()*o.getLength();if(ze.isZero(i))return NaN;var s=this.dot(o)/i;return Math.acos(s<-1?-1:s>1?1:s)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(o){if(this._angle=o,!this.isZero()){var i=this.getLength();this._set(Math.cos(o)*i,Math.sin(o)*i)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var o=ae.read(arguments);return 180*Math.atan2(this.cross(o),this.dot(o))/Math.PI},getDistance:function(){var o=arguments,i=ae.read(o),s=i.x-this.x,a=i.y-this.y,l=s*s+a*a;return ee.read(o)?l:Math.sqrt(l)},normalize:function(o){o===xe&&(o=1);var i=this.getLength(),s=0!==i?o/i:0,a=new ae(this.x*s,this.y*s);return s>=0&&(a._angle=this._angle),a},rotate:function(o,i){if(0===o)return this.clone();o=o*Math.PI/180;var s=i?this.subtract(i):this,a=Math.sin(o),l=Math.cos(o);return s=new ae(s.x*l-s.y*a,s.x*a+s.y*l),i?s.add(i):s},transform:function(o){return o?o._transformPoint(this):this},add:function(){var o=ae.read(arguments);return new ae(this.x+o.x,this.y+o.y)},subtract:function(){var o=ae.read(arguments);return new ae(this.x-o.x,this.y-o.y)},multiply:function(){var o=ae.read(arguments);return new ae(this.x*o.x,this.y*o.y)},divide:function(){var o=ae.read(arguments);return new ae(this.x/o.x,this.y/o.y)},modulo:function(){var o=ae.read(arguments);return new ae(this.x%o.x,this.y%o.y)},negate:function(){return new ae(-this.x,-this.y)},isInside:function(){return W.read(arguments).contains(this)},isClose:function(){var o=arguments,i=ae.read(o),s=ee.read(o);return this.getDistance(i)<=s},isCollinear:function(){var o=ae.read(arguments);return ae.isCollinear(this.x,this.y,o.x,o.y)},isColinear:"#isCollinear",isOrthogonal:function(){var o=ae.read(arguments);return ae.isOrthogonal(this.x,this.y,o.x,o.y)},isZero:function(){var o=ze.isZero;return o(this.x)&&o(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(o){return this.x*(o>1&&o<4?-1:1)>=0&&this.y*(o>2?-1:1)>=0},dot:function(){var o=ae.read(arguments);return this.x*o.x+this.y*o.y},cross:function(){var o=ae.read(arguments);return this.x*o.y-this.y*o.x},project:function(){var o=ae.read(arguments),i=o.isZero()?0:this.dot(o)/o.dot(o);return new ae(o.x*i,o.y*i)},statics:{min:function(){var o=arguments,i=ae.read(o),s=ae.read(o);return new ae(Math.min(i.x,s.x),Math.min(i.y,s.y))},max:function(){var o=arguments,i=ae.read(o),s=ae.read(o);return new ae(Math.max(i.x,s.x),Math.max(i.y,s.y))},random:function(){return new ae(Math.random(),Math.random())},isCollinear:function(o,i,s,a){return Math.abs(o*a-i*s)<=1e-8*Math.sqrt((o*o+i*i)*(s*s+a*a))},isOrthogonal:function(o,i,s,a){return Math.abs(o*s+i*a)<=1e-8*Math.sqrt((o*o+i*i)*(s*s+a*a))}}},ee.each(["round","ceil","floor","abs"],function(o){var i=Math[o];this[o]=function(){return new ae(i(this.x),i(this.y))}},{})),ie=ae.extend({initialize:function(i,s,a,l){this._x=i,this._y=s,this._owner=a,this._setter=l},_set:function(o,i,s){return this._x=o,this._y=i,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(o){this._x=o,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(o){this._y=o,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(o){this._owner._changeSelection(this._getSelection(),o)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),je=ee.extend({_class:"Size",_readIndex:!0,initialize:function(i,s){var a=typeof i,l=this.__read,h=0;if("number"===a){var d="number"==typeof s;this._set(i,d?s:i),l&&(h=d?2:1)}else if("undefined"===a||null===i)this._set(0,0),l&&(h=null===i?1:0);else{var p="string"===a?i.split(/[\s,]+/)||[]:i;h=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"width"in p?this._set(p.width||0,p.height||0):"x"in p?this._set(p.x||0,p.y||0):(this._set(0,0),h=0)}return l&&(this.__read=h),this},set:"#initialize",_set:function(o,i){return this.width=o,this.height=i,this},equals:function(o){return o===this||o&&(this.width===o.width&&this.height===o.height||Array.isArray(o)&&this.width===o[0]&&this.height===o[1])||!1},clone:function(){return new je(this.width,this.height)},toString:function(){var o=sn.instance;return"{ width: "+o.number(this.width)+", height: "+o.number(this.height)+" }"},_serialize:function(o){var i=o.formatter;return[i.number(this.width),i.number(this.height)]},add:function(){var o=je.read(arguments);return new je(this.width+o.width,this.height+o.height)},subtract:function(){var o=je.read(arguments);return new je(this.width-o.width,this.height-o.height)},multiply:function(){var o=je.read(arguments);return new je(this.width*o.width,this.height*o.height)},divide:function(){var o=je.read(arguments);return new je(this.width/o.width,this.height/o.height)},modulo:function(){var o=je.read(arguments);return new je(this.width%o.width,this.height%o.height)},negate:function(){return new je(-this.width,-this.height)},isZero:function(){var o=ze.isZero;return o(this.width)&&o(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(o,i){return new je(Math.min(o.width,i.width),Math.min(o.height,i.height))},max:function(o,i){return new je(Math.max(o.width,i.width),Math.max(o.height,i.height))},random:function(){return new je(Math.random(),Math.random())}}},ee.each(["round","ceil","floor","abs"],function(o){var i=Math[o];this[o]=function(){return new je(i(this.width),i(this.height))}},{})),Ee=je.extend({initialize:function(i,s,a,l){this._width=i,this._height=s,this._owner=a,this._setter=l},_set:function(o,i,s){return this._width=o,this._height=i,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(o){this._width=o,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(o){this._height=o,this._owner[this._setter](this)}}),W=ee.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(i,s,a,l){var p,h=arguments,d=typeof i;if("number"===d?(this._set(i,s,a,l),p=4):"undefined"===d||null===i?(this._set(0,0,0,0),p=null===i?1:0):1===h.length&&(Array.isArray(i)?(this._set.apply(this,i),p=1):i.x!==xe||i.width!==xe?(this._set(i.x||0,i.y||0,i.width||0,i.height||0),p=1):i.from===xe&&i.to===xe&&(this._set(0,0,0,0),ee.readSupported(h,this)&&(p=1))),p===xe){var w,C,g=ae.readNamed(h,"from"),m=ee.peek(h),v=g.x,b=g.y;if(m&&m.x!==xe||ee.hasNamed(h,"to")){var D=ae.readNamed(h,"to");(w=D.x-v)<0&&(v=D.x,w=-w),(C=D.y-b)<0&&(b=D.y,C=-C)}else{var R=je.read(h);w=R.width,C=R.height}this._set(v,b,w,C),p=h.__index}var P=h.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=p),this},set:"#initialize",_set:function(o,i,s,a){return this.x=o,this.y=i,this.width=s,this.height=a,this},clone:function(){return new W(this.x,this.y,this.width,this.height)},equals:function(o){var i=ee.isPlainValue(o)?W.read(arguments):o;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var o=sn.instance;return"{ x: "+o.number(this.x)+", y: "+o.number(this.y)+", width: "+o.number(this.width)+", height: "+o.number(this.height)+" }"},_serialize:function(o){var i=o.formatter;return[i.number(this.x),i.number(this.y),i.number(this.width),i.number(this.height)]},getPoint:function(o){return new(o?ae:ie)(this.x,this.y,this,"setPoint")},setPoint:function(){var o=ae.read(arguments);this.x=o.x,this.y=o.y},getSize:function(o){return new(o?je:Ee)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var o=je.read(arguments),i=this._sx,s=this._sy,a=o.width,l=o.height;i&&(this.x+=(this.width-a)*i),s&&(this.y+=(this.height-l)*s),this.width=a,this.height=l,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(o){if(!this._fw){var i=o-this.x;this.width-=.5===this._sx?2*i:i}this.x=o,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(o){if(!this._fh){var i=o-this.y;this.height-=.5===this._sy?2*i:i}this.y=o,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(o){if(!this._fw){var i=o-this.x;this.width=.5===this._sx?2*i:i}this.x=o-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(o){if(!this._fh){var i=o-this.y;this.height=.5===this._sy?2*i:i}this.y=o-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(o){this._fw||.5===this._sx?this.x=o-this.width/2:(this._sx&&(this.x+=2*(o-this.x)*this._sx),this.width=2*(o-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(o){this._fh||.5===this._sy?this.y=o-this.height/2:(this._sy&&(this.y+=2*(o-this.y)*this._sy),this.height=2*(o-this.y)),this._sy=.5,this._fh=0},getCenter:function(o){return new(o?ae:ie)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var o=ae.read(arguments);return this.setCenterX(o.x),this.setCenterY(o.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(o){return o&&o.width!==xe||4===(Array.isArray(o)?o:arguments).length?this._containsRectangle(W.read(arguments)):this._containsPoint(ae.read(arguments))},_containsPoint:function(o){var i=o.x,s=o.y;return i>=this.x&&s>=this.y&&i<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(o){var i=o.x,s=o.y;return i>=this.x&&s>=this.y&&i+o.width<=this.x+this.width&&s+o.height<=this.y+this.height},intersects:function(){var o=W.read(arguments),i=ee.read(arguments)||0;return o.x+o.width>this.x-i&&o.y+o.height>this.y-i&&o.x<this.x+this.width+i&&o.y<this.y+this.height+i},intersect:function(){var o=W.read(arguments),i=Math.max(this.x,o.x),s=Math.max(this.y,o.y),a=Math.min(this.x+this.width,o.x+o.width),l=Math.min(this.y+this.height,o.y+o.height);return new W(i,s,a-i,l-s)},unite:function(){var o=W.read(arguments),i=Math.min(this.x,o.x),s=Math.min(this.y,o.y),a=Math.max(this.x+this.width,o.x+o.width),l=Math.max(this.y+this.height,o.y+o.height);return new W(i,s,a-i,l-s)},include:function(){var o=ae.read(arguments),i=Math.min(this.x,o.x),s=Math.min(this.y,o.y),a=Math.max(this.x+this.width,o.x),l=Math.max(this.y+this.height,o.y);return new W(i,s,a-i,l-s)},expand:function(){var o=je.read(arguments),i=o.width,s=o.height;return new W(this.x-i/2,this.y-s/2,this.width+i,this.height+s)},scale:function(o,i){return this.expand(this.width*o-this.width,this.height*(i===xe?o:i)-this.height)}},ee.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(o,i){var s=o.join(""),a=/^[RL]/.test(s);i>=4&&(o[1]+=a?"Y":"X");var l=o[a?0:1],h=o[a?1:0],d="get"+l,p="get"+h,g="set"+l,m="set"+h,b="set"+s;this["get"+s]=function(w){return new(w?ae:ie)(this[d](),this[p](),this,b)},this[b]=function(){var w=ae.read(arguments);this[g](w.x),this[m](w.y)}},{beans:!0})),Ke=W.extend({initialize:function(i,s,a,l,h,d){this._set(i,s,a,l,!0),this._owner=h,this._setter=d},_set:function(o,i,s,a,l){return this._x=o,this._y=i,this._width=s,this._height=a,l||this._owner[this._setter](this),this}},new function(){var o=W.prototype;return ee.each(["x","y","width","height"],function(i){var s=ee.capitalize(i),a="_"+i;this["get"+s]=function(){return this[a]},this["set"+s]=function(l){this[a]=l,this._dontNotify||this._owner[this._setter](this)}},ee.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(i){var s="set"+i;this[s]=function(){this._dontNotify=!0,o[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(i){var s=this._owner;s._changeSelection&&s._changeSelection(2,i)}}))}),Vt=ee.extend({_class:"Matrix",initialize:function o(i,s){var a=arguments,l=a.length,h=!0;if(l>=6?this._set.apply(this,a):1===l||2===l?i instanceof o?this._set(i._a,i._b,i._c,i._d,i._tx,i._ty,s):Array.isArray(i)?this._set.apply(this,s?i.concat([s]):i):h=!1:l?h=!1:this.reset(),!h)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(o,i,s,a,l,h,d){return this._a=o,this._b=i,this._c=s,this._d=a,this._tx=l,this._ty=h,d||this._changed(),this},_serialize:function(o,i){return ee.serialize(this.getValues(),o,!0,i)},_changed:function(){var o=this._owner;o&&(o._applyMatrix?o.transform(null,!0):o._changed(25))},clone:function(){return new Vt(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(o){return o===this||o&&this._a===o._a&&this._b===o._b&&this._c===o._c&&this._d===o._d&&this._tx===o._tx&&this._ty===o._ty},toString:function(){var o=sn.instance;return"[["+[o.number(this._a),o.number(this._c),o.number(this._tx)].join(", ")+"], ["+[o.number(this._b),o.number(this._d),o.number(this._ty)].join(", ")+"]]"},reset:function(o){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,o||this._changed(),this},apply:function(o,i){var s=this._owner;return!!s&&(s.transform(null,ee.pick(o,!0),i),this.isIdentity())},translate:function(){var o=ae.read(arguments),i=o.x,s=o.y;return this._tx+=i*this._a+s*this._c,this._ty+=i*this._b+s*this._d,this._changed(),this},scale:function(){var o=arguments,i=ae.read(o),s=ae.read(o,0,{readNull:!0});return s&&this.translate(s),this._a*=i.x,this._b*=i.x,this._c*=i.y,this._d*=i.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(o){o*=Math.PI/180;var i=ae.read(arguments,1),s=i.x,a=i.y,l=Math.cos(o),h=Math.sin(o),d=s-s*l+a*h,p=a-s*h-a*l,g=this._a,m=this._b,v=this._c,b=this._d;return this._a=l*g+h*v,this._b=l*m+h*b,this._c=-h*g+l*v,this._d=-h*m+l*b,this._tx+=d*g+p*v,this._ty+=d*m+p*b,this._changed(),this},shear:function(){var o=arguments,i=ae.read(o),s=ae.read(o,0,{readNull:!0});s&&this.translate(s);var a=this._a,l=this._b;return this._a+=i.y*this._c,this._b+=i.y*this._d,this._c+=i.x*a,this._d+=i.x*l,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var o=arguments,i=ae.read(o),s=ae.read(o,0,{readNull:!0}),a=Math.PI/180,l=new ae(Math.tan(i.x*a),Math.tan(i.y*a));return this.shear(l,s)},append:function(o,i){if(o){var s=this._a,a=this._b,l=this._c,h=this._d,d=o._a,p=o._c,g=o._b,m=o._d,v=o._tx,b=o._ty;this._a=d*s+g*l,this._c=p*s+m*l,this._b=d*a+g*h,this._d=p*a+m*h,this._tx+=v*s+b*l,this._ty+=v*a+b*h,i||this._changed()}return this},prepend:function(o,i){if(o){var s=this._a,a=this._b,l=this._c,h=this._d,d=this._tx,p=this._ty,g=o._a,m=o._c,v=o._b,b=o._d,w=o._tx,C=o._ty;this._a=g*s+m*a,this._c=g*l+m*h,this._b=v*s+b*a,this._d=v*l+b*h,this._tx=g*d+m*p+w,this._ty=v*d+b*p+C,i||this._changed()}return this},appended:function(o){return this.clone().append(o)},prepended:function(o){return this.clone().prepend(o)},invert:function(){var o=this._a,i=this._b,s=this._c,a=this._d,l=this._tx,h=this._ty,d=o*a-i*s,p=null;return d&&!isNaN(d)&&isFinite(l)&&isFinite(h)&&(this._a=a/d,this._b=-i/d,this._c=-s/d,this._d=o/d,this._tx=(s*h-a*l)/d,this._ty=(i*l-o*h)/d,p=this),p},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Vt(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var o=this._a*this._d-this._c*this._b;return o&&!isNaN(o)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(o,i,s){return arguments.length<3?this._transformPoint(ae.read(arguments)):this._transformCoordinates(o,i,s)},_transformPoint:function(o,i,s){var a=o.x,l=o.y;return i||(i=new ae),i._set(a*this._a+l*this._c+this._tx,a*this._b+l*this._d+this._ty,s)},_transformCoordinates:function(o,i,s){for(var a=0,l=2*s;a<l;a+=2){var h=o[a],d=o[a+1];i[a]=h*this._a+d*this._c+this._tx,i[a+1]=h*this._b+d*this._d+this._ty}return i},_transformCorners:function(o){var i=o.x,s=o.y,a=i+o.width,l=s+o.height,h=[i,s,a,s,a,l,i,l];return this._transformCoordinates(h,h,4)},_transformBounds:function(o,i,s){for(var a=this._transformCorners(o),l=a.slice(0,2),h=l.slice(),d=2;d<8;d++){var p=a[d],g=1&d;p<l[g]?l[g]=p:p>h[g]&&(h[g]=p)}return i||(i=new W),i._set(l[0],l[1],h[0]-l[0],h[1]-l[1],s)},inverseTransform:function(){return this._inverseTransform(ae.read(arguments))},_inverseTransform:function(o,i,s){var a=this._a,l=this._b,h=this._c,d=this._d,p=this._tx,g=this._ty,m=a*d-l*h,v=null;if(m&&!isNaN(m)&&isFinite(p)&&isFinite(g)){var b=o.x-this._tx,w=o.y-this._ty;i||(i=new ae),v=i._set((b*d-w*h)/m,(w*a-b*l)/m,s)}return v},decompose:function(){var g,m,v,o=this._a,i=this._b,s=this._c,a=this._d,l=o*a-i*s,h=Math.sqrt,d=Math.atan2,p=180/Math.PI;if(0!==o||0!==i){var b=h(o*o+i*i);g=Math.acos(o/b)*(i>0?1:-1),m=[b,l/b],v=[d(o*s+i*a,b*b),0]}else if(0!==s||0!==a){var w=h(s*s+a*a);g=Math.asin(s/w)*(a>0?1:-1),m=[l/w,w],v=[0,d(o*s+i*a,w*w)]}else g=0,v=m=[0,0];return{translation:this.getTranslation(),rotation:g*p,scaling:new ae(m),skewing:new ae(v[0]*p,v[1]*p)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ae(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(o){this.isIdentity()||o.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},ee.each(["a","b","c","d","tx","ty"],function(o){var i=ee.capitalize(o),s="_"+o;this["get"+i]=function(){return this[s]},this["set"+i]=function(a){this[s]=a,this._changed()}},{})),st=ee.extend({_class:"Line",initialize:function(i,s,a,l,h){var d=!1;arguments.length>=4?(this._px=i,this._py=s,this._vx=a,this._vy=l,d=h):(this._px=i.x,this._py=i.y,this._vx=s.x,this._vy=s.y,d=a),d||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ae(this._px,this._py)},getVector:function(){return new ae(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(o,i){return st.intersect(this._px,this._py,this._vx,this._vy,o._px,o._py,o._vx,o._vy,!0,i)},getSide:function(o,i){return st.getSide(this._px,this._py,this._vx,this._vy,o.x,o.y,!0,i)},getDistance:function(o){return Math.abs(this.getSignedDistance(o))},getSignedDistance:function(o){return st.getSignedDistance(this._px,this._py,this._vx,this._vy,o.x,o.y,!0)},isCollinear:function(o){return ae.isCollinear(this._vx,this._vy,o._vx,o._vy)},isOrthogonal:function(o){return ae.isOrthogonal(this._vx,this._vy,o._vx,o._vy)},statics:{intersect:function(o,i,s,a,l,h,d,p,g,m){g||(s-=o,a-=i,d-=l,p-=h);var v=s*p-a*d;if(!ze.isMachineZero(v)){var b=o-l,w=i-h,C=(d*w-p*b)/v,D=(s*w-a*b)/v,P=-1e-12,M=1+1e-12;if(m||P<C&&C<M&&P<D&&D<M)return m||(C=C<=0?0:C>=1?1:C),new ae(o+C*s,i+C*a)}},getSide:function(o,i,s,a,l,h,d,p){d||(s-=o,a-=i);var g=l-o,v=g*a-(h-i)*s;return!p&&ze.isMachineZero(v)&&(v=(g*s+g*s)/(s*s+a*a))>=0&&v<=1&&(v=0),v<0?-1:v>0?1:0},getSignedDistance:function(o,i,s,a,l,h,d){return d||(s-=o,a-=i),0===s?a>0?l-o:o-l:0===a?s<0?h-i:i-h:((l-o)*a-(h-i)*s)/(a>s?a*Math.sqrt(1+s*s/(a*a)):s*Math.sqrt(1+a*a/(s*s)))},getDistance:function(o,i,s,a,l,h,d){return Math.abs(st.getSignedDistance(o,i,s,a,l,h,d))}}}),Xt=yn.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(i){yn.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ki(null,null,this),this._view=yt.create(this,i||zt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(o,i){return ee.serialize(this._children,o,!0,i)},_changed:function(o,i){if(1&o){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var a=this._changes;if(a&&i){var l=this._changesById,h=i._id,d=l[h];d?d.flags|=o:a.push(l[h]={item:i,flags:o})}},clear:function(){for(var o=this._children,i=o.length-1;i>=0;i--)o[i].remove()},isEmpty:function(){return!this._children.length},remove:function o(){return!!o.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(o){this._currentStyle.set(o)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Mn({project:this,insert:!0})},getSymbolDefinitions:function(){var o=[],i={};return this.getItems({class:Dn,match:function(s){var a=s._definition,l=a._id;return i[l]||(i[l]=!0,o.push(a)),!1}}),o},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var o=this._selectionItems,i=[];for(var s in o){var a=o[s],l=a._selection;1&l&&a.isInserted()?i.push(a):l||this._updateSelection(a)}return i},_updateSelection:function(o){var i=o._id,s=this._selectionItems;o._selection?s[i]!==o&&(this._selectionCount++,s[i]=o):s[i]===o&&(this._selectionCount--,delete s[i])},selectAll:function(){for(var o=this._children,i=0,s=o.length;i<s;i++)o[i].setFullySelected(!0)},deselectAll:function(){var o=this._selectionItems;for(var i in o)o[i].setFullySelected(!1)},addLayer:function(o){return this.insertLayer(xe,o)},insertLayer:function(o,i){if(i instanceof Mn){i._remove(!1,!0),ee.splice(this._children,[i],o,0),i._setProject(this,!0);var s=i._name;s&&i.setName(s),this._changes&&i._changed(5),this._activeLayer||(this._activeLayer=i)}else i=null;return i},_insertItem:function(o,i,s){return i=this.insertLayer(o,i)||(this._activeLayer||this._insertItem(xe,new Mn(tt.NO_INSERT),!0)).insertChild(o,i),s&&i.activate&&i.activate(),i},getItems:function(o){return tt._getItems(this,o)},getItem:function(o){return tt._getItems(this,o,null,null,!0)[0]||null},importJSON:function(o){this.activate();var i=this._activeLayer;return ee.importJSON(o,i&&i.isEmpty()&&i)},removeOn:function(o){var i=this._removeSets;if(i){"mouseup"===o&&(i.mousedrag=null);var s=i[o];if(s){for(var a in s){var l=s[a];for(var h in i){var d=i[h];d&&d!=s&&delete d[l._id]}l.remove()}i[o]=null}}},draw:function(o,i,s){this._updateVersion++,o.save(),i.applyToContext(o);for(var a=this._children,l=new ee({offset:new ae(0,0),pixelRatio:s,viewMatrix:i.isIdentity()?null:i,matrices:[new Vt],updateMatrix:!0}),h=0,d=a.length;h<d;h++)a[h].draw(o,l);if(o.restore(),this._selectionCount>0){o.save(),o.strokeWidth=1;var p=this._selectionItems,g=this._scope.settings.handleSize,m=this._updateVersion;for(var v in p)p[v]._drawSelection(o,i,g,p,m);o.restore()}}}),tt=ee.extend(ne,{statics:{extend:function o(i){return i._serializeFields&&(i._serializeFields=ee.set({},this.prototype._serializeFields,i._serializeFields)),o.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Vt,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var o=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return ee.each(o,function(i){this._events[i]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:o}})},{initialize:function(){},_initialize:function(o,i){var s=o&&ee.isPlainObject(o),a=s&&!0===o.internal,l=this._matrix=new Vt,h=s&&o.project||Le.project,d=Le.settings;return this._id=a?null:ot.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&d.applyMatrix,i&&l.translate(i),l._owner=this,this._style=new ki(h._currentStyle,this,h),a||s&&0==o.insert||!d.insertItems&&(!s||1!=o.insert)?this._setProject(h):(s&&o.parent||h)._insertItem(xe,this,!0),s&&o!==tt.NO_INSERT&&o!==tt.INSERT&&this.set(o,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(o,i){var s={},a=this;function l(h){for(var d in h){var p=a[d];ee.equals(p,"leading"===d?1.2*h.fontSize:h[d])||(s[d]=ee.serialize(p,o,"data"!==d,i))}}return l(this._serializeFields),this instanceof Ze||l(this._style._defaults),[this._class,s]},_changed:function(o){var i=this._symbol,s=this._parent||i,a=this._project;8&o&&(this._bounds=this._position=this._decomposed=xe),16&o&&(this._globalMatrix=xe),s&&72&o&&tt._clearBoundsCache(s),2&o&&tt._clearBoundsCache(this),a&&a._changed(o,this),i&&i._changed(o)},getId:function(){return this._id},getName:function(){return this._name},setName:function(o){if(this._name&&this._removeNamed(),o===+o+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(o&&i){var s=i._children,a=i._namedChildren;(a[o]=a[o]||[]).push(this),o in s||(s[o]=this)}this._name=o||xe,this._changed(256)},getStyle:function(){return this._style},setStyle:function(o){this.getStyle().set(o)}},ee.each(["locked","visible","blendMode","opacity","guide"],function(o){var i=ee.capitalize(o),s="_"+o,a={locked:256,visible:265};this["get"+i]=function(){return this[s]},this["set"+i]=function(l){l!=this[s]&&(this[s]=l,this._changed(a[o]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(o){if(o!==this._selection){this._selection=o;var i=this._project;i&&(i._updateSelection(this),this._changed(257))}},_changeSelection:function(o,i){var s=this._selection;this.setSelection(i?s|o:s&~o)},isSelected:function(){if(this._selectChildren)for(var o=this._children,i=0,s=o.length;i<s;i++)if(o[i].isSelected())return!0;return!!(1&this._selection)},setSelected:function(o){if(this._selectChildren)for(var i=this._children,s=0,a=i.length;s<a;s++)i[s].setSelected(o);this._changeSelection(1,o)},isFullySelected:function(){var o=this._children,i=!!(1&this._selection);if(o&&i){for(var s=0,a=o.length;s<a;s++)if(!o[s].isFullySelected())return!1;return!0}return i},setFullySelected:function(o){var i=this._children;if(i)for(var s=0,a=i.length;s<a;s++)i[s].setFullySelected(o);this._changeSelection(1,o)},isClipMask:function(){return this._clipMask},setClipMask:function(o){this._clipMask!=(o=!!o)&&(this._clipMask=o,o&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(o){this._data=o},getPosition:function(o){var i=o?ae:ie,s=this._position||(this._position=this._getPositionFromBounds());return new i(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(ae.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(o){return this._pivot?this._matrix._transformPoint(this._pivot):(o||this.getBounds()).getCenter(!0)},getPivot:function(){var o=this._pivot;return o?new ie(o.x,o.y,this,"setPivot"):null},setPivot:function(){this._pivot=ae.read(arguments,0,{clone:!0,readNull:!0}),this._position=xe}},ee.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(o,i){this[i]=function(s){return this.getBounds(s,o)}},{beans:!0,getBounds:function(o,i){var s=i||o instanceof Vt,a=ee.set({},s?i:o,this._boundsOptions);(!a.stroke||this.getStrokeScaling())&&(a.cacheItem=this);var l=this._getCachedBounds(s&&o,a).rect;return arguments.length?l:new Ke(l.x,l.y,l.width,l.height,this,"setBounds")},setBounds:function(){var o=W.read(arguments),i=this.getBounds(),s=this._matrix,a=new Vt,l=o.getCenter();a.translate(l),(o.width!=i.width||o.height!=i.height)&&(s.isInvertible()||(s.set(s._backup||(new Vt).translate(s.getTranslation())),i=this.getBounds()),a.scale(0!==i.width?o.width/i.width:0,0!==i.height?o.height/i.height:0)),l=i.getCenter(),a.translate(-l.x,-l.y),this.transform(a)},_getBounds:function(o,i){var s=this._children;return s&&s.length?(tt._updateBoundsCache(this,i.cacheItem),tt._getBounds(s,o,i)):new W},_getBoundsCacheKey:function(o,i){return[o.stroke?1:0,o.handle?1:0,i?1:0].join("")},_getCachedBounds:function(o,i,s){o=o&&o._orNullIfIdentity();var a=i.internal&&!s,l=i.cacheItem,h=a?null:this._matrix._orNullIfIdentity(),d=l&&(!o||o.equals(h))&&this._getBoundsCacheKey(i,a),p=this._bounds;if(tt._updateBoundsCache(this._parent||this._symbol,l),d&&p&&d in p)return{rect:(g=p[d]).rect.clone(),nonscaling:g.nonscaling};var m=this._getBounds(o||h,i),v=m.rect||m,b=this._style,w=m.nonscaling||b.hasStroke()&&!b.getStrokeScaling();if(d){p||(this._bounds=p={});var g=p[d]={rect:v.clone(),nonscaling:w,internal:a}}return{rect:v,nonscaling:w}},_getStrokeMatrix:function(o,i){var s=this.getStrokeScaling()?null:i&&i.internal?this:this._parent||this._symbol&&this._symbol._item,a=s?s.getViewMatrix().invert():o;return a&&a._shiftless()},statics:{_updateBoundsCache:function(o,i){if(o&&i){var s=i._id,a=o._boundsCache=o._boundsCache||{ids:{},list:[]};a.ids[s]||(a.list.push(i),a.ids[s]=i)}},_clearBoundsCache:function(o){var i=o._boundsCache;if(i){o._bounds=o._position=o._boundsCache=xe;for(var s=0,a=i.list,l=a.length;s<l;s++){var h=a[s];h!==o&&(h._bounds=h._position=xe,h._boundsCache&&tt._clearBoundsCache(h))}}},_getBounds:function(o,i,s){var a=1/0,l=-a,h=a,d=l,p=!1;s=s||{};for(var g=0,m=o.length;g<m;g++){var v=o[g];if(v._visible&&!v.isEmpty(!0)){var b=v._getCachedBounds(i&&i.appended(v._matrix),s,!0),w=b.rect;a=Math.min(w.x,a),h=Math.min(w.y,h),l=Math.max(w.x+w.width,l),d=Math.max(w.y+w.height,d),b.nonscaling&&(p=!0)}}return{rect:isFinite(a)?new W(a,h,l-a,d-h):new W,nonscaling:p}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var o=this._decompose();return o?o.rotation:0},setRotation:function(o){var i=this.getRotation();if(null!=i&&null!=o){var s=this._decomposed;this.rotate(o-i),s&&(s.rotation=o,this._decomposed=s)}},getScaling:function(){var o=this._decompose(),i=o&&o.scaling;return new ie(i?i.x:1,i?i.y:1,this,"setScaling")},setScaling:function(){var o=this.getScaling(),i=ae.read(arguments,0,{clone:!0,readNull:!0});if(o&&i&&!o.equals(i)){var s=this.getRotation(),a=this._decomposed,l=new Vt,h=ze.isZero;if(h(o.x)||h(o.y))l.translate(a.translation),s&&l.rotate(s),l.scale(i.x,i.y),this._matrix.set(l);else{var d=this.getPosition(!0);l.translate(d),s&&l.rotate(s),l.scale(i.x/o.x,i.y/o.y),s&&l.rotate(-s),l.translate(d.negate()),this.transform(l)}a&&(a.scaling=i,this._decomposed=a)}},getMatrix:function(){return this._matrix},setMatrix:function(){var o=this._matrix;o.set.apply(o,arguments)},getGlobalMatrix:function(o){var i=this._globalMatrix;if(i)for(var s=this._parent,a=[];s;){if(!s._globalMatrix){i=null;for(var l=0,h=a.length;l<h;l++)a[l]._globalMatrix=null;break}a.push(s),s=s._parent}return i||(i=this._globalMatrix=this._matrix.clone(),(s=this._parent)&&i.prepend(s.getGlobalMatrix(!0))),o?i:i.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(o){(this._applyMatrix=this._canApplyMatrix&&!!o)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(o,i){if(this._project!==o){this._project&&this._installEvents(!1),this._project=o;for(var s=this._children,a=0,l=s&&s.length;a<l;a++)s[a]._setProject(o);i=!0}i&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function o(i){o.base.call(this,i);for(var s=this._children,a=0,l=s&&s.length;a<l;a++)s[a]._installEvents(i)},getLayer:function(){for(var o=this;o=o._parent;)if(o instanceof Mn)return o;return null},getParent:function(){return this._parent},setParent:function(o){return o.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(o){this.removeChildren(),this.addChildren(o)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var o=this._getOwner();return o&&o._children[this._index+1]||null},getPreviousSibling:function(){var o=this._getOwner();return o&&o._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(o){return o===this||o&&this._class===o._class&&this._style.equals(o._style)&&this._matrix.equals(o._matrix)&&this._locked===o._locked&&this._visible===o._visible&&this._blendMode===o._blendMode&&this._opacity===o._opacity&&this._clipMask===o._clipMask&&this._guide===o._guide&&this._equals(o)||!1},_equals:function(o){return ee.equals(this._children,o._children)},clone:function(o){var i=new this.constructor(tt.NO_INSERT),s=this._children,a=ee.pick(o?o.insert:xe,o===xe||!0===o),l=ee.pick(o?o.deep:xe,!0);s&&i.copyAttributes(this),(!s||l)&&i.copyContent(this),s||i.copyAttributes(this),a&&i.insertAbove(this);var h=this._name,d=this._parent;if(h&&d){s=d._children;for(var p=h,g=1;s[h];)h=p+" "+g++;h!==p&&i.setName(h)}return i},copyContent:function(o){for(var i=o._children,s=0,a=i&&i.length;s<a;s++)this.addChild(i[s].clone(!1),!0)},copyAttributes:function(o,i){this.setStyle(o._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],a=0,l=s.length;a<l;a++){var h=s[a];o.hasOwnProperty(h)&&(this[h]=o[h])}i||this._matrix.set(o._matrix,!0),this.setApplyMatrix(o._applyMatrix),this.setPivot(o._pivot),this.setSelection(o._selection);var d=o._data,p=o._name;this._data=d?ee.clone(d):null,p&&this.setName(p)},rasterize:function(o,i){var s,a,l;ee.isPlainObject(o)?(s=o.resolution,a=o.insert,l=o.raster):(s=o,a=i),l||(l=new fn(tt.NO_INSERT));var h=this.getStrokeBounds(),d=(s||this.getView().getResolution())/72,p=h.getTopLeft().floor(),g=h.getBottomRight().ceil(),m=new je(g.subtract(p)),v=m.multiply(d);if(l.setSize(v,!0),!v.isZero()){var b=l.getContext(!0),w=(new Vt).scale(d).translate(p.negate());b.save(),w.applyToContext(b),this.draw(b,new ee({matrices:[w]})),b.restore()}return l._matrix.set((new Vt).translate(p.add(m.divide(2))).scale(1/d)),(a===xe||a)&&l.insertAbove(this),l},contains:function(){var o=this._matrix;return o.isInvertible()&&!!this._contains(o._inverseTransform(ae.read(arguments)))},_contains:function(o){var i=this._children;if(i){for(var s=i.length-1;s>=0;s--)if(i[s].contains(o))return!0;return!1}return o.isInside(this.getInternalBounds())},isInside:function(){return W.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new at.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(o,i){return o instanceof tt&&this._asPathItem().getIntersections(o._asPathItem(),null,i,!0).length>0}},new function(){function o(){var a=arguments;return this._hitTest(ae.read(a),tn.getOptions(a))}function i(){var a=arguments,l=ae.read(a),h=tn.getOptions(a),d=[];return this._hitTest(l,new ee({all:d},h)),d}function s(a,l,h,d){var p=this._children;if(p)for(var g=p.length-1;g>=0;g--){var m=p[g],v=m!==d&&m._hitTest(a,l,h);if(v&&!l.all)return v}return null}return Xt.inject({hitTest:o,hitTestAll:i,_hitTest:s}),{hitTest:o,hitTestAll:i,_hitTestChildren:s}},{_hitTest:function(o,i,s){if(this._locked||!this._visible||this._guide&&!i.guides||this.isEmpty())return null;var a=this._matrix,l=s?s.appended(a):this.getGlobalMatrix().prepend(this.getView()._matrix),h=Math.max(i.tolerance,1e-12),d=i._tolerancePadding=new je(at._getStrokePadding(h,a._shiftless().invert()));if(!(o=a._inverseTransform(o))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(d.multiply(2))._containsPoint(o))return null;var v,b,p=!(i.guides&&!this._guide||i.selected&&!this.isSelected()||i.type&&i.type!==ee.hyphenate(this._class)||i.class&&!(this instanceof i.class)),g=i.match,m=this;function w(x){return x&&g&&!g(x)&&(x=null),x&&i.all&&i.all.push(x),x}function C(x,S){var E=S?v["get"+S]():m.getPosition();if(o.subtract(E).divide(d).length<=1)return new tn(x,m,{name:S?ee.hyphenate(S):x,point:E})}var D=i.position,R=i.center,P=i.bounds;if(p&&this._parent&&(D||R||P)){if((R||P)&&(v=this.getInternalBounds()),!(b=D&&C("position")||R&&C("center","Center"))&&P)for(var M=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],I=0;I<8&&!b;I++)b=C("bounds",M[I]);b=w(b)}return b||(b=this._hitTestChildren(o,i,l)||p&&w(this._hitTestSelf(o,i,l,this.getStrokeScaling()?null:l._shiftless().invert()))||null),b&&b.point&&(b.point=a.transform(b.point)),b},_hitTestSelf:function(o,i){if(i.fill&&this.hasFill()&&this._contains(o))return new tn("fill",this)},matches:function(o,i){var a=typeof o;if("object"===a){for(var l in o)if(o.hasOwnProperty(l)&&!this.matches(l,o[l]))return!1;return!0}if("function"===a)return o(this);if("match"===o)return i(this);var h=/^(empty|editable)$/.test(o)?this["is"+ee.capitalize(o)]():"type"===o?ee.hyphenate(this._class):this[o];if("class"===o){if("function"==typeof i)return this instanceof i;h=this._class}if("function"==typeof i)return!!i(h);if(i){if(i.test)return i.test(h);if(ee.isPlainObject(i))return function s(d,p){for(var g in d)if(d.hasOwnProperty(g)){var m=d[g],v=p[g];if(ee.isPlainObject(m)&&ee.isPlainObject(v)){if(!s(m,v))return!1}else if(!ee.equals(m,v))return!1}return!0}(i,h)}return ee.equals(h,i)},getItems:function(o){return tt._getItems(this,o,this._matrix)},getItem:function(o){return tt._getItems(this,o,this._matrix,null,!0)[0]||null},statics:{_getItems:function o(i,s,a,l,h){if(!l){var d="object"==typeof s&&s,p=d&&d.overlapping,g=d&&d.inside,w=(m=p||g)&&W.read([m]);l={items:[],recursive:d&&!1!==d.recursive,inside:!!g,overlapping:!!p,rect:w,path:p&&new at.Rectangle({rectangle:w,insert:!1})},d&&(s=ee.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var v=i._children,b=l.items;a=(w=l.rect)&&(a||new Vt);for(var C=0,D=v&&v.length;C<D;C++){var R=v[C],P=a&&a.appended(R._matrix),M=!0;if(w){var m=R.getBounds(P);if(!w.intersects(m))continue;w.contains(m)||l.overlapping&&(m.contains(w)||l.path.intersects(R,P))||(M=!1)}if(M&&R.matches(s)&&(b.push(R),h)||(!1!==l.recursive&&o(R,s,P,l,h),h&&b.length>0))break}return b}}},{importJSON:function(o){var i=ee.importJSON(o,this);return i!==this?this.addChild(i):i},addChild:function(o){return this.insertChild(xe,o)},insertChild:function(o,i){var s=i?this.insertChildren(o,[i]):null;return s&&s[0]},addChildren:function(o){return this.insertChildren(this._children.length,o)},insertChildren:function(o,i){var s=this._children;if(s&&i&&i.length>0){for(var a={},l=(i=ee.slice(i)).length-1;l>=0;l--){var d=(h=i[l])&&h._id;!h||a[d]?i.splice(l,1):(h._remove(!1,!0),a[d]=!0)}ee.splice(s,i,o,0);for(var p=this._project,g=p._changes,m=(l=0,i.length);l<m;l++){var h,v=(h=i[l])._name;h._parent=this,h._setProject(p,!0),v&&h.setName(v),g&&h._changed(5)}this._changed(11)}else i=null;return i},_insertItem:"#insertChild",_insertAt:function(o,i){var s=o&&o._getOwner(),a=o!==this&&s?this:null;return a&&(a._remove(!1,!0),s._insertItem(o._index+i,a)),a},insertAbove:function(o){return this._insertAt(o,1)},insertBelow:function(o){return this._insertAt(o,0)},sendToBack:function(){var o=this._getOwner();return o?o._insertItem(0,this):null},bringToFront:function(){var o=this._getOwner();return o?o._insertItem(xe,this):null},appendTop:"#addChild",appendBottom:function(o){return this.insertChild(0,o)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(o){return o._insertItem(xe,this)},copyTo:function(o){return this.clone(!1).addTo(o)},reduce:function(o){var i=this._children;if(i&&1===i.length){var s=i[0].reduce(o);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var o=this._getOwner();if(o){var i=o._children,s=o._namedChildren,a=this._name,l=s[a],h=l?l.indexOf(this):-1;-1!==h&&(i[a]==this&&delete i[a],l.splice(h,1),l.length?i[a]=l[0]:delete s[a])}},_remove:function(o,i){var s=this._getOwner(),a=this._project,l=this._index;return this._style&&this._style._dispose(),!!s&&(this._name&&this._removeNamed(),null!=l&&(a._activeLayer===this&&(a._activeLayer=this.getNextSibling()||this.getPreviousSibling()),ee.splice(s._children,null,l,1)),this._installEvents(!1),o&&a._changes&&this._changed(5),i&&s._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(o){var i=o&&o.insertBelow(this);return i&&this.remove(),i},removeChildren:function(o,i){if(!this._children)return null;o=o||0,i=ee.pick(i,this._children.length);for(var s=ee.splice(this._children,null,o,i-o),a=s.length-1;a>=0;a--)s[a]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var o=0,i=this._children.length;o<i;o++)this._children[o]._index=o;this._changed(11)}},isEmpty:function(o){var i=this._children,s=i?i.length:0;if(o){for(var a=0;a<s;a++)if(!i[a].isEmpty(o))return!1;return!0}return!s},isEditable:function(){for(var o=this;o;){if(!o._visible||o._locked)return!1;o=o._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(o){function i(d){var p=[];do{p.unshift(d)}while(d=d._parent);return p}for(var s=i(this),a=i(o),l=0,h=Math.min(s.length,a.length);l<h;l++)if(s[l]!=a[l])return s[l]._index<a[l]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(o){return-1===this._getOrder(o)},isBelow:function(o){return 1===this._getOrder(o)},isParent:function(o){return this._parent===o},isChild:function(o){return o&&o._parent===this},isDescendant:function(o){for(var i=this;i=i._parent;)if(i===o)return!0;return!1},isAncestor:function(o){return!!o&&o.isDescendant(this)},isSibling:function(o){return this._parent===o._parent},isGroupedWith:function(o){for(var i=this._parent;i;){if(i._parent&&/^(Group|Layer|CompoundPath)$/.test(i._class)&&o.isDescendant(i))return!0;i=i._parent}return!1}},ee.each(["rotate","scale","shear","skew"],function(o){var i="rotate"===o;this[o]=function(){var s=arguments,a=(i?ee:ae).read(s),l=ae.read(s,0,{readNull:!0});return this.transform((new Vt)[o](a,l||this.getPosition(!0)))}},{translate:function(){var o=new Vt;return this.transform(o.translate.apply(o,arguments))},transform:function(o,i,s){var a=this._matrix,l=o&&!o.isIdentity(),h=s&&this._canApplyMatrix||this._applyMatrix&&(l||!a.isIdentity()||i&&this._children);if(!l&&!h)return this;if(l){!o.isInvertible()&&a.isInvertible()&&(a._backup=a.getValues()),a.prepend(o,!0);var d=this._style,p=d.getFillColor(!0),g=d.getStrokeColor(!0);p&&p.transform(o),g&&g.transform(o)}if(h&&(h=this._transformContent(a,i,s))){var m=this._pivot;m&&a._transformPoint(m,m,!0),a.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var v=this._bounds,b=this._position;(l||h)&&this._changed(25);var w=l&&v&&o.decompose();if(w&&w.skewing.isZero()&&w.rotation%90==0){for(var C in v){var D=v[C];if(D.nonscaling)delete v[C];else if(h||!D.internal){var R=D.rect;o._transformBounds(R,R)}}this._bounds=v;var P=v[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else l&&b&&this._pivot&&(this._position=o._transformPoint(b,b));return this},_transformContent:function(o,i,s){var a=this._children;if(a){for(var l=0,h=a.length;l<h;l++)a[l].transform(o,i,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ae.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ae.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ae.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ae.read(arguments))},fitBounds:function(o,i){o=W.read(arguments);var s=this.getBounds(),a=s.height/s.width,l=o.height/o.width,h=(i?a>l:a<l)?o.width/s.width:o.height/s.height,d=new W(new ae,new je(s.width*h,s.height*h));d.setCenter(o.getCenter()),this.setBounds(d)}}),{_setStyles:function(o,i,s){var a=this._style,l=this._matrix;if(a.hasFill()&&(o.fillStyle=a.getFillColor().toCanvasStyle(o,l)),a.hasStroke()){o.strokeStyle=a.getStrokeColor().toCanvasStyle(o,l),o.lineWidth=a.getStrokeWidth();var h=a.getStrokeJoin(),d=a.getStrokeCap(),p=a.getMiterLimit();if(h&&(o.lineJoin=h),d&&(o.lineCap=d),p&&(o.miterLimit=p),Le.support.nativeDash){var g=a.getDashArray(),m=a.getDashOffset();g&&g.length&&("setLineDash"in o?(o.setLineDash(g),o.lineDashOffset=m):(o.mozDash=g,o.mozDashOffset=m))}}if(a.hasShadow()){var v=i.pixelRatio||1,b=s._shiftless().prepend((new Vt).scale(v,v)),w=b.transform(new ae(a.getShadowBlur(),0)),C=b.transform(this.getShadowOffset());o.shadowColor=a.getShadowColor().toCanvasStyle(o),o.shadowBlur=w.getLength(),o.shadowOffsetX=C.x,o.shadowOffsetY=C.y}},draw:function(o,i,s){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var l=i.matrices,h=i.viewMatrix,d=this._matrix,p=l[l.length-1].appended(d);if(p.isInvertible()){h=h?h.appended(p):p,l.push(p),i.updateMatrix&&(this._globalMatrix=p);var D,R,P,g=this._blendMode,m=ze.clamp(this._opacity,0,1),v="normal"===g,b=Mt.nativeModes[g],w=v&&1===m||i.dontStart||i.clip||(b||v&&m<1)&&this._canComposite(),C=i.pixelRatio||1;if(!w){var M=this.getStrokeBounds(h);if(!M.width||!M.height)return void l.pop();P=i.offset,R=i.offset=M.getTopLeft().floor(),D=o,o=zt.getContext(M.getSize().ceil().add(1).multiply(C)),1!==C&&o.scale(C,C)}o.save();var I=s?s.appended(d):this._canScaleStroke&&!this.getStrokeScaling(!0)&&h,x=!w&&i.clipItem,S=!I||x;if(w?(o.globalAlpha=m,b&&(o.globalCompositeOperation=g)):S&&o.translate(-R.x,-R.y),S&&(w?d:h).applyToContext(o),x&&i.clipItem.draw(o,i.extend({clip:!0})),I){o.setTransform(C,0,0,C,0,0);var E=i.offset;E&&o.translate(-E.x,-E.y)}this._draw(o,i,h,I),o.restore(),l.pop(),i.clip&&!i.dontFinish&&o.clip(this.getFillRule()),w||(Mt.process(g,o,D,m,R.subtract(P).multiply(C)),zt.release(o),i.offset=P)}}},_isUpdated:function(o){var i=this._parent;if(i instanceof gt)return i._isUpdated(o);var s=this._updateVersion===o;return!s&&i&&i._visible&&i._isUpdated(o)&&(this._updateVersion=o,s=!0),s},_drawSelection:function(o,i,s,a,l){var h=this._selection,d=1&h,p=2&h||d&&this._selectBounds,g=4&h;if(this._drawSelected||(d=!1),(d||p||g)&&this._isUpdated(l)){var m,v=this.getSelectedColor(!0)||(m=this.getLayer())&&m.getSelectedColor(!0),b=i.appended(this.getGlobalMatrix(!0)),w=s/2;if(o.strokeStyle=o.fillStyle=v?v.toCanvasStyle(o):"#009dec",d&&this._drawSelected(o,b,a),g){var C=this.getPosition(!0),D=this._parent,R=D?D.localToGlobal(C):C,P=R.x,M=R.y;o.beginPath(),o.arc(P,M,w,0,2*Math.PI,!0),o.stroke();for(var I=[[0,-1],[1,0],[0,1],[-1,0]],x=w,S=s+1,E=0;E<4;E++){var k=I[E],N=k[0],O=k[1];o.moveTo(P+N*x,M+O*x),o.lineTo(P+N*S,M+O*S),o.stroke()}}if(p){var F=b._transformCorners(this.getInternalBounds());for(o.beginPath(),E=0;E<8;E++)o[E?"lineTo":"moveTo"](F[E],F[++E]);for(o.closePath(),o.stroke(),E=0;E<8;E++)o.fillRect(F[E]-w,F[++E]-w,s,s)}}},_canComposite:function(){return!1}},ee.each(["down","drag","up","move"],function(o){this["removeOn"+ee.capitalize(o)]=function(){var i={};return i[o]=!0,this.removeOn(i)}},{removeOn:function(o){for(var i in o)if(o[i]){var s="mouse"+i,a=this._project,l=a._removeSets=a._removeSets||{};l[s]=l[s]||{},l[s][this._id]=this}return this}}),{tween:function(o,i,s){s||(s=i,i=o,o=null,s||(s=i,i=null));var h=null!=s&&("number"==typeof s?s:s.duration),d=new Lr(this,o,i,h,s&&s.easing,s&&s.start);return h&&this.on("frame",function p(g){d._handleFrame(1e3*g.time),d.running||this.off("frame",p)}),d},tweenTo:function(o,i){return this.tween(null,o,i)},tweenFrom:function(o,i){return this.tween(o,null,i)}}),Ze=tt.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||this.addChildren(Array.isArray(i)?i:arguments)},_changed:function o(i){o.base.call(this,i),2050&i&&(this._clipItem=xe)},_getClipItem:function(){var o=this._clipItem;if(o===xe){o=null;for(var i=this._children,s=0,a=i.length;s<a;s++)if(i[s]._clipMask){o=i[s];break}this._clipItem=o}return o},isClipped:function(){return!!this._getClipItem()},setClipped:function(o){var i=this.getFirstChild();i&&i.setClipMask(o)},_getBounds:function o(i,s){var a=this._getClipItem();return a?a._getCachedBounds(a._matrix.prepended(i),ee.set({},s,{stroke:!1})):o.base.call(this,i,s)},_hitTestChildren:function o(i,s,a){var l=this._getClipItem();return(!l||l.contains(i))&&o.base.call(this,i,s,a,l)},_draw:function(o,i){var s=i.clip,a=!s&&this._getClipItem();i=i.extend({clipItem:a,clip:!1}),s?(o.beginPath(),i.dontStart=i.dontFinish=!0):a&&a.draw(o,i.extend({clip:!0}));for(var l=this._children,h=0,d=l.length;h<d;h++){var p=l[h];p!==a&&p.draw(o,i)}}}),Mn=Ze.extend({_class:"Layer",initialize:function(){Ze.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function o(){return this._parent?o.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),xn=tt.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(i,s){this._initialize(i,s)},_equals:function(o){return this._type===o._type&&this._size.equals(o._size)&&ee.equals(this._radius,o._radius)},copyContent:function(o){this.setType(o._type),this.setSize(o._size),this.setRadius(o._radius)},getType:function(){return this._type},setType:function(o){this._type=o},getShape:"#getType",setShape:"#setType",getSize:function(){var o=this._size;return new Ee(o.width,o.height,this,"setSize")},setSize:function(){var o=je.read(arguments);if(this._size){if(!this._size.equals(o)){var i=this._type,s=o.width,a=o.height;"rectangle"===i?this._radius.set(je.min(this._radius,o.divide(2).abs())):"circle"===i?(s=a=(s+a)/2,this._radius=s/2):"ellipse"===i&&this._radius._set(s/2,a/2),this._size._set(s,a),this._changed(9)}}else this._size=o.clone()},getRadius:function(){var o=this._radius;return"circle"===this._type?o:new Ee(o.width,o.height,this,"setRadius")},setRadius:function(o){var i=this._type;if("circle"===i){if(o===this._radius)return;var s=2*o;this._radius=o,this._size._set(s,s)}else if(o=je.read(arguments),this._radius){if(this._radius.equals(o))return;this._radius.set(o),"rectangle"===i?(s=je.max(this._size,o.multiply(2)),this._size.set(s)):"ellipse"===i&&this._size._set(2*o.width,2*o.height)}else this._radius=o.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(o){var i=new(at[ee.capitalize(this._type)])({center:new ae,size:this._size,radius:this._radius,insert:!1});return i.copyAttributes(this),Le.settings.applyMatrix&&i.setApplyMatrix(!0),(o===xe||o)&&i.insertAbove(this),i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(o,i,s,a){var l=this._style,h=l.hasFill(),d=l.hasStroke(),p=i.dontFinish||i.clip,g=!a;if(h||d||p){var m=this._type,v=this._radius,b="circle"===m;if(i.dontStart||o.beginPath(),g&&b)o.arc(0,0,v,0,2*Math.PI,!0);else{var w=b?v:v.width,C=b?v:v.height,D=this._size,R=D.width,P=D.height;if(g&&"rectangle"===m&&0===w&&0===C)o.rect(-R/2,-P/2,R,P);else{var M=R/2,I=P/2,x=.44771525016920644,S=w*x,E=C*x,k=[-M,-I+C,-M,-I+E,-M+S,-I,-M+w,-I,M-w,-I,M-S,-I,M,-I+E,M,-I+C,M,I-C,M,I-E,M-S,I,M-w,I,-M+w,I,-M+S,I,-M,I-E,-M,I-C];a&&a.transform(k,k,32),o.moveTo(k[0],k[1]),o.bezierCurveTo(k[2],k[3],k[4],k[5],k[6],k[7]),M!==w&&o.lineTo(k[8],k[9]),o.bezierCurveTo(k[10],k[11],k[12],k[13],k[14],k[15]),I!==C&&o.lineTo(k[16],k[17]),o.bezierCurveTo(k[18],k[19],k[20],k[21],k[22],k[23]),M!==w&&o.lineTo(k[24],k[25]),o.bezierCurveTo(k[26],k[27],k[28],k[29],k[30],k[31])}}o.closePath()}!p&&(h||d)&&(this._setStyles(o,i,s),h&&(o.fill(l.getFillRule()),o.shadowColor="rgba(0,0,0,0)"),d&&o.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(o,i){var s=new W(this._size).setCenter(0,0),a=this._style,l=i.stroke&&a.hasStroke()&&a.getStrokeWidth();return o&&(s=o._transformBounds(s)),l?s.expand(at._getStrokePadding(l,this._getStrokeMatrix(o,i))):s}},new function(){function o(s,a,l){var h=s._radius;if(!h.isZero())for(var d=s._size.divide(2),p=1;p<=4;p++){var g=new ae(p>1&&p<4?-1:1,p>2?-1:1),m=g.multiply(d),v=m.subtract(g.multiply(h));if(new W(l?m.add(g.multiply(l)):m,v).contains(a))return{point:v,quadrant:p}}}function i(s,a,l,h){var d=s.divide(a);return(!h||d.isInQuadrant(h))&&d.subtract(d.normalize()).multiply(a).divide(l).length<=1}return{_contains:function s(a){if("rectangle"===this._type){var l=o(this,a);return l?a.subtract(l.point).divide(this._radius).getLength()<=1:s.base.call(this,a)}return a.divide(this.size).getLength()<=.5},_hitTestSelf:function s(a,l,h,d){var p=!1,g=this._style,m=l.stroke&&g.hasStroke(),v=l.fill&&g.hasFill();if(m||v){var b=this._type,w=this._radius,C=m?g.getStrokeWidth()/2:0,D=l._tolerancePadding.add(at._getStrokePadding(C,!g.getStrokeScaling()&&d));if("rectangle"===b){var R=D.multiply(2),P=o(this,a,R);if(P)p=i(a.subtract(P.point),w,D,P.quadrant);else{var M=new W(this._size).setCenter(0,0),I=M.expand(R),x=M.expand(R.negate());p=I._containsPoint(a)&&!x._containsPoint(a)}}else p=i(a,w,D)}return p?new tn(m?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function o(i,s,a,l,h){var d=ee.create(xn.prototype);return d._type=i,d._size=a,d._radius=l,d._initialize(ee.getNamed(h),s),d}return{Circle:function(){var i=arguments,s=ae.readNamed(i,"center"),a=ee.readNamed(i,"radius");return o("circle",s,new je(2*a),a,i)},Rectangle:function(){var i=arguments,s=W.readNamed(i,"rectangle"),a=je.min(je.readNamed(i,"radius"),s.getSize(!0).divide(2));return o("rectangle",s.getCenter(!0),s.getSize(!0),a,i)},Ellipse:function(){var i=arguments,s=xn._readEllipse(i),a=s.radius;return o("ellipse",s.center,a.multiply(2),a,i)},_readEllipse:function(i){var s,a;if(ee.hasNamed(i,"radius"))s=ae.readNamed(i,"center"),a=je.readNamed(i,"radius");else{var l=W.readNamed(i,"rectangle");s=l.getCenter(!0),a=l.getSize(!0).divide(2)}return{center:s,radius:a}}}}}),fn=tt.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(i,s){if(!this._initialize(i,s!==xe&&ae.read(arguments))){var a,l=typeof i,h="string"===l?Ct.getElementById(i):"object"===l?i:null;if(h&&h!==tt.NO_INSERT)if(h.getContext||null!=h.naturalHeight)a=h;else if(h){var d=je.read(arguments);d.isZero()||(a=zt.getCanvas(d))}a?this.setImage(a):this.setSource(i)}this._size||(this._size=new je,this._loaded=!1)},_equals:function(o){return this.getSource()===o.getSource()},copyContent:function(o){var i=o._image,s=o._canvas;if(i)this._setImage(i);else if(s){var a=zt.getCanvas(o._size);a.getContext("2d").drawImage(s,0,0),this._setImage(a)}this._crossOrigin=o._crossOrigin},getSize:function(){var o=this._size;return new Ee(o?o.width:0,o?o.height:0,this,"setSize")},setSize:function(o,i){var s=je.read(arguments);if(s.equals(this._size))i&&this.clear();else if(s.width>0&&s.height>0){var a=!i&&this.getElement();this._setImage(zt.getCanvas(s)),a&&this.getContext(!0).drawImage(a,0,0,s.width,s.height)}else this._canvas&&zt.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(o){this.setSize(o,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(o){this.setSize(this.getWidth(),o)},getLoaded:function(){return this._loaded},isEmpty:function(){var o=this._size;return!o||0===o.width&&0===o.height},getResolution:function(){var o=this._matrix,i=new ae(0,0).transform(o),s=new ae(1,0).transform(o).subtract(i),a=new ae(0,1).transform(o).subtract(i);return new je(72/s.getLength(),72/a.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(o){var i=this;function s(a){var l=i.getView(),h=a&&a.type||"load";l&&i.responds(h)&&(Le=l._scope,i.emit(h,new ir(a)))}this._setImage(o),this._loaded?setTimeout(s,0):o&&bt.add(o,{load:function(a){i._setImage(o),s(a)},error:s})},_setImage:function(o){this._canvas&&zt.release(this._canvas),o&&o.getContext?(this._image=null,this._canvas=o,this._loaded=!0):(this._image=o,this._canvas=null,this._loaded=!!(o&&o.src&&o.complete)),this._size=new je(o?o.naturalWidth||o.width:0,o?o.naturalHeight||o.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var o=zt.getContext(this._size);try{this._image&&o.drawImage(this._image,0,0),this._canvas=o.canvas}catch{zt.release(o)}}return this._canvas},setCanvas:"#setImage",getContext:function(o){return this._context||(this._context=this.getCanvas().getContext("2d")),o&&(this._image=null,this._changed(1025)),this._context},setContext:function(o){this._context=o},getSource:function(){var o=this._image;return o&&o.src||this.toDataURL()},setSource:function(o){var i=new ri.Image,s=this._crossOrigin;s&&(i.crossOrigin=s),o&&(i.src=o),this.setImage(i)},getCrossOrigin:function(){var o=this._image;return o&&o.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(o){this._crossOrigin=o;var i=this._image;i&&(i.crossOrigin=o)},getSmoothing:function(){return this._smoothing},setSmoothing:function(o){this._smoothing="string"==typeof o?o:o?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var o=W.read(arguments),i=zt.getContext(o.getSize());return i.drawImage(this.getCanvas(),o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.canvas},getSubRaster:function(){var o=W.read(arguments),i=new fn(tt.NO_INSERT);return i._setImage(this.getSubCanvas(o)),i.translate(o.getCenter().subtract(this.getSize().divide(2))),i._matrix.prepend(this._matrix),i.insertAbove(this),i},toDataURL:function(){var o=this._image,i=o&&o.src;if(/^data:/.test(i))return i;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(o){var i=ae.read(arguments,1);this.getContext(!0).drawImage(o,i.x,i.y)},getAverageColor:function(o){var i,s;if(o?o instanceof In?(s=o,i=o.getBounds()):"object"==typeof o&&("width"in o?i=new W(o):"x"in o&&(i=new W(o.x-.5,o.y-.5,1,1))):i=this.getBounds(),!i)return null;var l=Math.min(i.width,32),h=Math.min(i.height,32),d=fn._sampleContext;d?d.clearRect(0,0,33,33):d=fn._sampleContext=zt.getContext(new je(32)),d.save();var p=(new Vt).scale(l/i.width,h/i.height).translate(-i.x,-i.y);p.applyToContext(d),s&&s.draw(d,new ee({clip:!0,matrices:[p]})),this._matrix.applyToContext(d);var g=this.getElement(),m=this._size;g&&d.drawImage(g,-m.width/2,-m.height/2),d.restore();for(var v=d.getImageData(.5,.5,Math.ceil(l),Math.ceil(h)).data,b=[0,0,0],w=0,C=0,D=v.length;C<D;C+=4){var R=v[C+3];w+=R,b[0]+=v[C]*(R/=255),b[1]+=v[C+1]*R,b[2]+=v[C+2]*R}for(C=0;C<3;C++)b[C]/=w;return w?Je.read(b):null},getPixel:function(){var o=ae.read(arguments),i=this.getContext().getImageData(o.x,o.y,1,1).data;return new Je("rgb",[i[0]/255,i[1]/255,i[2]/255],i[3]/255)},setPixel:function(){var o=arguments,i=ae.read(o),s=Je.read(o),a=s._convert("rgb"),l=s._alpha,h=this.getContext(!0),d=h.createImageData(1,1),p=d.data;p[0]=255*a[0],p[1]=255*a[1],p[2]=255*a[2],p[3]=null!=l?255*l:255,h.putImageData(d,i.x,i.y)},clear:function(){var o=this._size;this.getContext(!0).clearRect(0,0,o.width+1,o.height+1)},createImageData:function(){var o=je.read(arguments);return this.getContext().createImageData(o.width,o.height)},getImageData:function(){var o=W.read(arguments);return o.isEmpty()&&(o=new W(this._size)),this.getContext().getImageData(o.x,o.y,o.width,o.height)},putImageData:function(o){var i=ae.read(arguments,1);this.getContext(!0).putImageData(o,i.x,i.y)},setImageData:function(o){this.setSize(o),this.getContext(!0).putImageData(o,0,0)},_getBounds:function(o,i){var s=new W(this._size).setCenter(0,0);return o?o._transformBounds(s):s},_hitTestSelf:function(o){if(this._contains(o)){var i=this;return new tn("pixel",i,{offset:o.add(i._size.divide(2)).round(),color:{get:function(){return i.getPixel(this.offset)}}})}},_draw:function(o,i,s){var a=this.getElement();if(a&&a.width>0&&a.height>0){o.globalAlpha=ze.clamp(this._opacity,0,1),this._setStyles(o,i,s);var l=this._smoothing,h="off"===l;Jt.setPrefixed(o,h?"imageSmoothingEnabled":"imageSmoothingQuality",!h&&l),o.drawImage(a,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Dn=tt.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(i,s){this._initialize(i,s!==xe&&ae.read(arguments,1))||this.setDefinition(i instanceof si?i:new si(i))},_equals:function(o){return this._definition===o._definition},copyContent:function(o){this.setDefinition(o._definition)},getDefinition:function(){return this._definition},setDefinition:function(o){this._definition=o,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(o,i){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(o),i)},_hitTestSelf:function(o,i,s){var a=i.extend({all:!1}),l=this._definition._item._hitTest(o,a,s);return l&&(l.item=this),l},_draw:function(o,i){this._definition._item.draw(o,i)}}),si=ee.extend({_class:"SymbolDefinition",initialize:function(i,s){this._id=ot.get(),this.project=Le.project,i&&this.setItem(i,s)},_serialize:function(o,i){return i.add(this,function(){return ee.serialize([this._class,this._item],o,!1,i)})},_changed:function(o){8&o&&tt._clearBoundsCache(this),1&o&&this.project._changed(o)},getItem:function(){return this._item},setItem:function(o,i){o._symbol&&(o=o.clone()),this._item&&(this._item._symbol=null),this._item=o,o.remove(),o.setSelected(!1),i||o.setPosition(new ae),o._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(o){return new Dn(this,o)},clone:function(){return new si(this._item.clone(!1))},equals:function(o){return o===this||o&&this._item.equals(o._item)||!1}}),tn=ee.extend({_class:"HitResult",initialize:function(i,s,a){this.type=i,this.item=s,a&&this.inject(a)},statics:{getOptions:function(o){var i=o&&ee.read(o);return new ee({type:null,tolerance:Le.settings.hitTolerance,fill:!i,stroke:!i,segments:!i,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},i)}}}),Ne=ee.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(i,s,a,l,h,d){var g,m,v,b,p=arguments.length;p>0&&(null==i||"object"==typeof i?1===p&&i&&"point"in i?(g=i.point,m=i.handleIn,v=i.handleOut,b=i.selection):(g=i,m=s,v=a,b=l):(g=[i,s],m=a!==xe?[a,l]:null,v=h!==xe?[h,d]:null)),new Xe(g,this,"_point"),new Xe(m,this,"_handleIn"),new Xe(v,this,"_handleOut"),b&&this.setSelection(b)},_serialize:function(o,i){var s=this._point,a=this._selection,l=a||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return a&&l.push(a),ee.serialize(l,o,!0,i)},_changed:function(o){var i=this._path;if(i){var l,s=i._curves,a=this._index;s&&((!o||o===this._point||o===this._handleIn)&&(l=a>0?s[a-1]:i._closed?s[s.length-1]:null)&&l._changed(),(!o||o===this._point||o===this._handleOut)&&(l=s[a])&&l._changed()),i._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ae.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ae.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ae.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var o=this._handleIn,i=this._handleOut;return!o.isZero()&&!i.isZero()&&o.isCollinear(i)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(o){var i=this._selection,s=this._path;this._selection=o=o||0,s&&o!==i&&(s._updateSelection(this,i,o),s._changed(257))},_changeSelection:function(o,i){var s=this._selection;this.setSelection(i?s|o:s&~o)},isSelected:function(){return!!(7&this._selection)},setSelected:function(o){this._changeSelection(7,o)},getIndex:function(){return this._index!==xe?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var o=this._path,i=this._index;return o?(i>0&&!o._closed&&i===o._segments.length-1&&i--,o.getCurves()[i]||null):null},getLocation:function(){var o=this.getCurve();return o?new Te(o,this===o._segment1?0:1):null},getNext:function(){var o=this._path&&this._path._segments;return o&&(o[this._index+1]||this._path._closed&&o[0])||null},smooth:function(o,i,s){var a=o||{},l=a.type,h=a.factor,d=this.getPrevious(),p=this.getNext(),g=(d||this)._point,m=this._point,v=(p||this)._point,b=g.getDistance(m),w=m.getDistance(v);if(l&&"catmull-rom"!==l){if("geometric"!==l)throw new Error("Smoothing method '"+l+"' not supported.");if(d&&p){var S=g.subtract(v),E=h===xe?.4:h,k=E*b/(b+w);i||this.setHandleIn(S.multiply(k)),s||this.setHandleOut(S.multiply(k-E))}}else{var x,C=h===xe?.5:h,D=Math.pow(b,C),R=D*D,P=Math.pow(w,C),M=P*P;if(!i&&d){var I=2*M+3*P*D+R;this.setHandleIn(0!=(x=3*P*(P+D))?new ae((M*g._x+I*m._x-R*v._x)/x-m._x,(M*g._y+I*m._y-R*v._y)/x-m._y):new ae)}if(!s&&p)I=2*R+3*D*P+M,this.setHandleOut(0!=(x=3*D*(D+P))?new ae((R*v._x+I*m._x-M*g._x)/x-m._x,(R*v._y+I*m._y-M*g._y)/x-m._y):new ae)}},getPrevious:function(){var o=this._path&&this._path._segments;return o&&(o[this._index-1]||this._path._closed&&o[o.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var o=this._path;return o&&this._index===o._segments.length-1||!1},reverse:function(){var o=this._handleIn,i=this._handleOut,s=o.clone();o.set(i),i.set(s)},reversed:function(){return new Ne(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Ne(this._point,this._handleIn,this._handleOut)},equals:function(o){return o===this||o&&this._class===o._class&&this._point.equals(o._point)&&this._handleIn.equals(o._handleIn)&&this._handleOut.equals(o._handleOut)||!1},toString:function(){var o=["point: "+this._point];return this._handleIn.isZero()||o.push("handleIn: "+this._handleIn),this._handleOut.isZero()||o.push("handleOut: "+this._handleOut),"{ "+o.join(", ")+" }"},transform:function(o){this._transformCoordinates(o,new Array(6),!0),this._changed()},interpolate:function(o,i,s){var a=1-s,l=s,h=o._point,d=i._point,p=o._handleIn,g=i._handleIn,m=i._handleOut,v=o._handleOut;this._point._set(a*h._x+l*d._x,a*h._y+l*d._y,!0),this._handleIn._set(a*p._x+l*g._x,a*p._y+l*g._y,!0),this._handleOut._set(a*v._x+l*m._x,a*v._y+l*m._y,!0),this._changed()},_transformCoordinates:function(o,i,s){var a=this._point,l=s&&this._handleIn.isZero()?null:this._handleIn,h=s&&this._handleOut.isZero()?null:this._handleOut,d=a._x,p=a._y,g=2;return i[0]=d,i[1]=p,l&&(i[g++]=l._x+d,i[g++]=l._y+p),h&&(i[g++]=h._x+d,i[g++]=h._y+p),o&&(o._transformCoordinates(i,i,g/2),d=i[0],p=i[1],s?(a._x=d,a._y=p,g=2,l&&(l._x=i[g++]-d,l._y=i[g++]-p),h&&(h._x=i[g++]-d,h._y=i[g++]-p)):(l||(i[g++]=d,i[g++]=p),h||(i[g++]=d,i[g++]=p))),i}}),Xe=ae.extend({initialize:function(i,s,a){var l,h,d;if(i)if((l=i[0])!==xe)h=i[1];else{var p=i;(l=p.x)===xe&&(l=(p=ae.read(arguments)).x),h=p.y,d=p.selected}else l=h=0;this._x=l,this._y=h,this._owner=s,s[a]=this,d&&this.setSelected(!0)},_set:function(o,i){return this._x=o,this._y=i,this._owner._changed(this),this},getX:function(){return this._x},setX:function(o){this._x=o,this._owner._changed(this)},getY:function(){return this._y},setY:function(o){this._y=o,this._owner._changed(this)},isZero:function(){var o=ze.isZero;return o(this._x)&&o(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(o){this._owner._changeSelection(this._getSelection(),o)},_getSelection:function(){var o=this._owner;return this===o._point?1:this===o._handleIn?2:this===o._handleOut?4:0}}),Re=ee.extend({_class:"Curve",beans:!0,initialize:function(i,s,a,l,h,d,p,g){var v,b,w,C,D,R,m=arguments.length;3===m?(this._path=i,v=s,b=a):m?1===m?"segment1"in i?(v=new Ne(i.segment1),b=new Ne(i.segment2)):"point1"in i?(w=i.point1,D=i.handle1,R=i.handle2,C=i.point2):Array.isArray(i)&&(w=[i[0],i[1]],C=[i[6],i[7]],D=[i[2]-i[0],i[3]-i[1]],R=[i[4]-i[6],i[5]-i[7]]):2===m?(v=new Ne(i),b=new Ne(s)):4===m?(w=i,D=s,R=a,C=l):8===m&&(w=[i,s],C=[p,g],D=[a-i,l-s],R=[h-p,d-g]):(v=new Ne,b=new Ne),this._segment1=v||new Ne(w,null,D),this._segment2=b||new Ne(C,R,null)},_serialize:function(o,i){return ee.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],o,!0,i)},_changed:function(){this._length=this._bounds=xe},clone:function(){return new Re(this._segment1,this._segment2)},toString:function(){var o=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||o.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||o.push("handle2: "+this._segment2._handleIn),o.push("point2: "+this._segment2._point),"{ "+o.join(", ")+" }"},classify:function(){return Re.classify(this.getValues())},remove:function(){var o=!1;if(this._path){var i=this._segment2,s=i._handleOut;(o=i.remove())&&this._segment1._handleOut.set(s)}return o},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ae.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ae.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ae.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ae.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var o=this._path&&this._path._curves;return o&&(o[this._segment1._index+1]||this._path._closed&&o[0])||null},getPrevious:function(){var o=this._path&&this._path._curves;return o&&(o[this._segment1._index-1]||this._path._closed&&o[o.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var o=this._path;return o&&this._segment1._index===o._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(o){this.getPoint1().setSelected(o),this.getHandle1().setSelected(o),this.getHandle2().setSelected(o),this.getPoint2().setSelected(o)},getValues:function(o){return Re.getValues(this._segment1,this._segment2,o)},getPoints:function(){for(var o=this.getValues(),i=[],s=0;s<8;s+=2)i.push(new ae(o[s],o[s+1]));return i}},{getLength:function(){return null==this._length&&(this._length=Re.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Re.getArea(this.getValues())},getLine:function(){return new st(this._segment1._point,this._segment2._point)},getPart:function(o,i){return new Re(Re.getPart(this.getValues(),o,i))},getPartLength:function(o,i){return Re.getLength(this.getValues(),o,i)},divideAt:function(o){return this.divideAtTime(o&&o.curve===this?o.time:this.getTimeAt(o))},divideAtTime:function(o,i){var l=null;if(o>=1e-8&&o<=.99999999){var h=Re.subdivide(this.getValues(),o),d=h[0],p=h[1],g=i||this.hasHandles(),m=this._segment1,v=this._segment2,b=this._path;g&&(m._handleOut._set(d[2]-d[0],d[3]-d[1]),v._handleIn._set(p[4]-p[6],p[5]-p[7]));var w=d[6],C=d[7],D=new Ne(new ae(w,C),g&&new ae(d[4]-w,d[5]-C),g&&new ae(p[2]-w,p[3]-C));b?(b.insert(m._index+1,D),l=this.getNext()):(this._segment2=D,this._changed(),l=new Re(D,v))}return l},splitAt:function(o){var i=this._path;return i?i.splitAt(o):null},splitAtTime:function(o){return this.splitAt(this.getLocationAtTime(o))},divide:function(o,i){return this.divideAtTime(o===xe?.5:i?o:this.getTimeAt(o))},split:function(o,i){return this.splitAtTime(o===xe?.5:i?o:this.getTimeAt(o))},reversed:function(){return new Re(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(o,i,s,a){var l=o._point,h=o._handleOut,d=i._handleIn,p=i._point,g=l.x,m=l.y,v=p.x,b=p.y,w=a?[g,m,g,m,v,b,v,b]:[g,m,g+h._x,m+h._y,v+d._x,b+d._y,v,b];return s&&s._transformCoordinates(w,w,4),w},subdivide:function(o,i){var s=o[0],a=o[1],l=o[2],h=o[3],d=o[4],p=o[5],g=o[6],m=o[7];i===xe&&(i=.5);var v=1-i,b=v*s+i*l,w=v*a+i*h,C=v*l+i*d,D=v*h+i*p,R=v*d+i*g,P=v*p+i*m,M=v*b+i*C,I=v*w+i*D,x=v*C+i*R,S=v*D+i*P,E=v*M+i*x,k=v*I+i*S;return[[s,a,b,w,M,I,E,k],[E,k,x,S,R,P,g,m]]},getMonoCurves:function(o,i){var s=[],a=i?0:1,l=o[a+0],h=o[a+2],d=o[a+4],p=o[a+6];if(l>=h==h>=d&&h>=d==d>=p||Re.isStraight(o))s.push(o);else{var C=[],D=ze.solveQuadratic(3*(h-d)-l+p,2*(l+d)-4*h,h-l,C,1e-8,.99999999);if(D){C.sort();var R=C[0],P=Re.subdivide(o,R);s.push(P[0]),D>1&&(P=Re.subdivide(P[1],R=(C[1]-R)/(1-R)),s.push(P[0])),s.push(P[1])}else s.push(o)}return s},solveCubic:function(o,i,s,a,l,h){var d=o[i],p=o[i+2],g=o[i+4],m=o[i+6],v=0;if(!(d<s&&m<s&&p<s&&g<s||d>s&&m>s&&p>s&&g>s)){var b=3*(p-d),w=3*(g-p)-b;v=ze.solveCubic(m-d-b-w,w,b,d-s,a,l,h)}return v},getTimeOf:function(o,i){var s=new ae(o[0],o[1]),a=new ae(o[6],o[7]),h=1e-7;if(null===(i.isClose(s,1e-12)?0:i.isClose(a,1e-12)?1:null))for(var p=[i.x,i.y],g=[],m=0;m<2;m++)for(var v=Re.solveCubic(o,m,p[m],g,0,1),b=0;b<v;b++){var w=g[b];if(i.isClose(Re.getPoint(o,w),h))return w}return i.isClose(s,h)?0:i.isClose(a,h)?1:null},getNearestTime:function(o,i){if(Re.isStraight(o)){var s=o[0],a=o[1],d=o[6]-s,p=o[7]-a,g=d*d+p*p;if(0===g)return 0;var m=((i.x-s)*d+(i.y-a)*p)/g;return m<1e-12?0:m>.999999999999?1:Re.getTimeOf(o,new ae(s+m*d,a+m*p))}var b=1/0,w=0;function C(P){if(P>=0&&P<=1){var M=i.getDistance(Re.getPoint(o,P),!0);if(M<b)return b=M,w=P,!0}}for(var D=0;D<=100;D++)C(D/100);for(var R=.005;R>1e-8;)!C(w-R)&&!C(w+R)&&(R/=2);return w},getPart:function(o,i,s){var a=i>s;if(a){var l=i;i=s,s=l}return i>0&&(o=Re.subdivide(o,i)[1]),s<1&&(o=Re.subdivide(o,(s-i)/(1-i))[0]),a?[o[6],o[7],o[4],o[5],o[2],o[3],o[0],o[1]]:o},isFlatEnough:function(o,i){var s=o[0],a=o[1],g=o[6],m=o[7],v=3*o[2]-2*s-g,b=3*o[3]-2*a-m,w=3*o[4]-2*g-s,C=3*o[5]-2*m-a;return Math.max(v*v,w*w)+Math.max(b*b,C*C)<=16*i*i},getArea:function(o){var i=o[0],s=o[1],a=o[2],l=o[3],h=o[4],d=o[5],p=o[6],g=o[7];return 3*((g-s)*(a+h)-(p-i)*(l+d)+l*(i-h)-a*(s-d)+g*(h+i/3)-p*(d+s/3))/20},getBounds:function(o){for(var i=o.slice(0,2),s=i.slice(),a=[0,0],l=0;l<2;l++)Re._addBounds(o[l],o[l+2],o[l+4],o[l+6],l,0,i,s,a);return new W(i[0],i[1],s[0]-i[0],s[1]-i[1])},_addBounds:function(o,i,s,a,l,h,d,p,g){function m(E,k){var N=E-k,O=E+k;N<d[l]&&(d[l]=N),O>p[l]&&(p[l]=O)}var v=d[l]+(h/=2),b=p[l]-h;if(o<v||i<v||s<v||a<v||o>b||i>b||s>b||a>b)if(i<o!=i<a&&s<o!=s<a)m(o,0),m(a,0);else{var R=ze.solveQuadratic(3*(i-s)-o+a,2*(o+s)-4*i,i-o,g);m(a,0);for(var I=0;I<R;I++){var x=g[I],S=1-x;1e-8<=x&&x<=.99999999&&m(S*S*S*o+3*S*S*x*i+3*S*x*x*s+x*x*x*a,h)}}}}},ee.each(["getBounds","getStrokeBounds","getHandleBounds"],function(o){this[o]=function(){this._bounds||(this._bounds={});var i=this._bounds[o];return i||(i=this._bounds[o]=at[o]([this._segment1,this._segment2],!1,this._path)),i.clone()}},{}),ee.each({isStraight:function(o,i,s,a){if(i.isZero()&&s.isZero())return!0;var l=a.subtract(o);if(l.isZero())return!1;if(l.isCollinear(i)&&l.isCollinear(s)){var h=new st(o,a);if(h.getDistance(o.add(i))<1e-7&&h.getDistance(a.add(s))<1e-7){var p=l.dot(l),g=l.dot(i)/p,m=l.dot(s)/p;return g>=0&&g<=1&&m<=0&&m>=-1}}return!1},isLinear:function(o,i,s,a){var l=a.subtract(o).divide(3);return i.equals(l)&&s.negate().equals(l)}},function(o,i){this[i]=function(s){var a=this._segment1,l=this._segment2;return o(a._point,a._handleOut,l._handleIn,l._point,s)},this.statics[i]=function(s,a){var l=s[0],h=s[1],d=s[6],p=s[7];return o(new ae(l,h),new ae(s[2]-l,s[3]-h),new ae(s[4]-d,s[5]-p),new ae(d,p),a)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(o){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(o||0)},isCollinear:function(o){return o&&this.isStraight()&&o.isStraight()&&this.getLine().isCollinear(o.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(o,i){return this.getLocationAtTime(i?o:this.getTimeAt(o))},getLocationAtTime:function(o){return null!=o&&o>=0&&o<=1?new Te(this,o):null},getTimeAt:function(o,i){return Re.getTimeAt(this.getValues(),o,i)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var o=ae.read(arguments);return o.isZero()?[]:Re.getTimesWithTangent(this.getValues(),o)},getOffsetAtTime:function(o){return this.getPartLength(0,o)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ae.read(arguments)))},getOffsetOf:function(){var o=this.getLocationOf.apply(this,arguments);return o?o.getOffset():null},getTimeOf:function(){return Re.getTimeOf(this.getValues(),ae.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var o=ae.read(arguments),i=this.getValues(),s=Re.getNearestTime(i,o),a=Re.getPoint(i,s);return new Te(this,s,a,null,o.getDistance(a))},getNearestPoint:function(){var o=this.getNearestLocation.apply(this,arguments);return o&&o.getPoint()}},new function(){var o=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return ee.each(o,function(i){this[i+"At"]=function(s,a){var l=this.getValues();return Re[i](l,a?s:Re.getTimeAt(l,s))},this[i+"AtTime"]=function(s){return Re[i](this.getValues(),s)}},{statics:{_evaluateMethods:o}})},new function(){function o(a){var l=a[0],h=a[1],d=a[2],p=a[3],g=a[4],m=a[5],w=9*(d-g)+3*(a[6]-l),C=6*(l+g)-12*d,D=3*(d-l),R=9*(p-m)+3*(a[7]-h),P=6*(h+m)-12*p,M=3*(p-h);return function(I){var x=(w*I+C)*I+D,S=(R*I+P)*I+M;return Math.sqrt(x*x+S*S)}}function i(a,l){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(l-a))))}function s(a,l,h,d){if(null==l||l<0||l>1)return null;var p=a[0],g=a[1],m=a[2],v=a[3],b=a[4],w=a[5],C=a[6],D=a[7],R=ze.isZero;R(m-p)&&R(v-g)&&(m=p,v=g),R(b-C)&&R(w-D)&&(b=C,w=D);var k,N,P=3*(m-p),M=3*(b-m)-P,I=C-p-P-M,x=3*(v-g),S=3*(w-v)-x,E=D-g-x-S;if(0===h)k=0===l?p:1===l?C:((I*l+M)*l+P)*l+p,N=0===l?g:1===l?D:((E*l+S)*l+x)*l+g;else{var O=1e-8,F=1-O;if(l<O?(k=P,N=x):l>F?(k=3*(C-b),N=3*(D-w)):(k=(3*I*l+2*M)*l+P,N=(3*E*l+2*S)*l+x),d){0===k&&0===N&&(l<O||l>F)&&(k=b-m,N=w-v);var B=Math.sqrt(k*k+N*N);B&&(k/=B,N/=B)}if(3===h){b=6*I*l+2*M,w=6*E*l+2*S;var z=Math.pow(k*k+N*N,1.5);k=0!==z?(k*w-N*b)/z:0,N=0}}return 2===h?new ae(N,-k):new ae(k,N)}return{statics:{classify:function(a){var l=a[0],h=a[1],d=a[2],p=a[3],g=a[4],m=a[5],v=a[6],b=a[7],C=d*(h-b)+p*(v-l)+l*b-h*v,R=3*(g*(p-h)+m*(l-d)+d*h-p*l),P=R-C,M=P-C+(l*(b-m)+h*(g-v)+v*m-b*g),I=Math.sqrt(M*M+P*P+R*R),x=0!==I?1/I:0,S=ze.isZero,E="serpentine";function k(B,z,G){var j=z!==xe,H=j&&z>0&&z<1,$=j&&G>0&&G<1;return j&&(!(H||$)||"loop"===B&&!(H&&$))&&(B="arch",H=$=!1),{type:B,roots:H||$?H&&$?z<G?[z,G]:[G,z]:[H?z:G]:null}}if(P*=x,R*=x,S(M*=x))return S(P)?k(S(R)?"line":"quadratic"):k(E,R/(3*P));var N=3*P*P-4*M*R;if(S(N))return k("cusp",P/(2*M));var O=N>0?Math.sqrt(N/3):Math.sqrt(-N),F=2*M;return k(N>0?E:"loop",(P+O)/F,(P-O)/F)},getLength:function(a,l,h,d){if(l===xe&&(l=0),h===xe&&(h=1),Re.isStraight(a)){var p=a;h<1&&(p=Re.subdivide(p,h)[0],l/=h),l>0&&(p=Re.subdivide(p,l)[1]);var g=p[6]-p[0],m=p[7]-p[1];return Math.sqrt(g*g+m*m)}return ze.integrate(d||o(a),l,h,i(l,h))},getTimeAt:function(a,l,h){if(h===xe&&(h=l<0?1:0),0===l)return h;var d=Math.abs,g=l>0,m=g?h:0,v=g?1:h,b=o(a),w=Re.getLength(a,m,v,b),C=d(l)-w;if(d(C)<1e-12)return g?v:m;if(C>1e-12)return null;var R=0;return ze.findRoot(function P(M){return R+=ze.integrate(b,h,M,i(h,M)),h=M,R-l},b,h+l/w,m,v,32,1e-12)},getPoint:function(a,l){return s(a,l,0,!1)},getTangent:function(a,l){return s(a,l,1,!0)},getWeightedTangent:function(a,l){return s(a,l,1,!1)},getNormal:function(a,l){return s(a,l,2,!0)},getWeightedNormal:function(a,l){return s(a,l,2,!1)},getCurvature:function(a,l){return s(a,l,3,!1).x},getPeaks:function(a){var l=a[0],h=a[1],d=a[2],p=a[3],g=a[4],m=a[5],w=3*d-l-3*g+a[6],C=3*l-6*d+3*g,D=-3*l+3*d,R=3*p-h-3*m+a[7],P=3*h-6*p+3*m,M=-3*h+3*p,S=[];return ze.solveCubic(9*(w*w+R*R),9*(w*C+P*R),2*(C*C+P*P)+3*(D*w+M*R),D*C+P*M,S,1e-8,.99999999),S.sort()}}}},new function(){function o(C,D,R,P,M,I,x){var S=!x&&R.getPrevious()===M,E=!x&&R!==M&&R.getNext()===M,k=1e-8,N=1-k;if(null!==P&&P>=(S?k:0)&&P<=(E?N:1)&&null!==I&&I>=(E?k:0)&&I<=(S?N:1)){var O=new Te(R,P,null,x),F=new Te(M,I,null,x);O._intersection=F,F._intersection=O,(!D||D(O))&&Te.insert(C,O,!0)}}function i(C,D,R,P,M,I,x,S,E,k,N,O,F){if(++E>=4096||++S>=40)return E;var Ae,Pe,z=D[0],G=D[1],j=D[6],H=D[7],$=st.getSignedDistance,K=$(z,G,j,H,D[2],D[3]),Y=$(z,G,j,H,D[4],D[5]),J=K*Y>0?3/4:4/9,oe=J*Math.min(0,K,Y),he=J*Math.max(0,K,Y),ge=$(z,G,j,H,C[0],C[1]),_e=$(z,G,j,H,C[2],C[3]),le=$(z,G,j,H,C[4],C[5]),ce=$(z,G,j,H,C[6],C[7]),ue=function s(C,D,R,P){var N,M=[0,C],I=[1/3,D],x=[2/3,R],S=[1,P],E=D-(2*C+P)/3,k=R-(C+2*P)/3;if(E*k<0)N=[[M,I,S],[M,x,S]];else{var O=E/k;N=[O>=2?[M,I,S]:O<=.5?[M,x,S]:[M,I,x,S],[M,S]]}return(E||k)<0?N.reverse():N}(ge,_e,le,ce),ve=ue[0],Ce=ue[1];if(0===K&&0===Y&&0===ge&&0===_e&&0===le&&0===ce||null==(Ae=a(ve,Ce,oe,he))||null==(Pe=a(ve.reverse(),Ce.reverse(),oe,he)))return E;var Fe=k+(N-k)*Ae,Be=k+(N-k)*Pe;if(Math.max(F-O,Be-Fe)<1e-9){var We=(Fe+Be)/2,Pt=(O+F)/2;o(M,I,x?P:R,x?Pt:We,x?R:P,x?We:Pt)}else{C=Re.getPart(C,Ae,Pe);var nt=F-O;if(Pe-Ae>.8)if(Be-Fe>nt)E=i(D,(Dt=Re.subdivide(C,.5))[0],P,R,M,I,!x,S,E,O,F,Fe,We=(Fe+Be)/2),E=i(D,Dt[1],P,R,M,I,!x,S,E,O,F,We,Be);else{var Dt;E=i((Dt=Re.subdivide(D,.5))[0],C,P,R,M,I,!x,S,E,O,Pt=(O+F)/2,Fe,Be),E=i(Dt[1],C,P,R,M,I,!x,S,E,Pt,F,Fe,Be)}else E=0===nt||nt>=1e-9?i(D,C,P,R,M,I,!x,S,E,O,F,Fe,Be):i(C,D,R,P,M,I,x,S,E,Fe,Be,O,F)}return E}function a(C,D,R,P){return C[0][1]<R?l(C,!0,R):D[0][1]>P?l(D,!1,P):C[0][0]}function l(C,D,R){for(var P=C[0][0],M=C[0][1],I=1,x=C.length;I<x;I++){var S=C[I][0],E=C[I][1];if(D?E>=R:E<=R)return E===R?S:P+(R-M)*(S-P)/(E-M);P=S,M=E}return null}function h(C,D,R,P,M){var I=ze.isZero;if(I(P)&&I(M)){var x=Re.getTimeOf(C,new ae(D,R));return null===x?[]:[x]}for(var S=Math.atan2(-M,P),E=Math.sin(S),k=Math.cos(S),N=[],O=[],F=0;F<8;F+=2){var B=C[F]-D,z=C[F+1]-R;N.push(B*k-z*E,B*E+z*k)}return Re.solveCubic(N,1,0,O,0,1),O}function d(C,D,R,P,M,I,x){for(var S=D[0],E=D[1],O=h(C,S,E,D[6]-S,D[7]-E),F=0,B=O.length;F<B;F++){var z=O[F],G=Re.getPoint(C,z),j=Re.getTimeOf(D,G);null!==j&&o(M,I,x?P:R,x?j:z,x?R:P,x?z:j)}}function p(C,D,R,P,M,I){var x=st.intersect(C[0],C[1],C[6],C[7],D[0],D[1],D[6],D[7]);x&&o(M,I,R,Re.getTimeOf(C,x),P,Re.getTimeOf(D,x))}function g(C,D,R,P,M,I){var x=1e-12,S=Math.min,E=Math.max;if(E(C[0],C[2],C[4],C[6])+x>S(D[0],D[2],D[4],D[6])&&S(C[0],C[2],C[4],C[6])-x<E(D[0],D[2],D[4],D[6])&&E(C[1],C[3],C[5],C[7])+x>S(D[1],D[3],D[5],D[7])&&S(C[1],C[3],C[5],C[7])-x<E(D[1],D[3],D[5],D[7])){var k=b(C,D);if(k)for(var N=0;N<2;N++){var O=k[N];o(M,I,R,O[0],P,O[1],!0)}else{var F=Re.isStraight(C),B=Re.isStraight(D),z=F&&B,G=F&&!B,j=M.length;if((z?p:F||B?d:i)(G?D:C,G?C:D,G?P:R,G?R:P,M,I,G,0,0,0,1,0,1),!z||M.length===j)for(N=0;N<4;N++){var H=N>>1,$=1&N,K=6*H,Y=6*$,J=new ae(C[K],C[K+1]),oe=new ae(D[Y],D[Y+1]);J.isClose(oe,x)&&o(M,I,R,H,P,$)}}}return M}function m(C,D,R,P){var M=Re.classify(C);if("loop"===M.type){var I=M.roots;o(R,P,D,I[0],D,I[1])}return R}function b(C,D){function R(ce){var ue=ce[6]-ce[0],ve=ce[7]-ce[1];return ue*ue+ve*ve}var P=Math.abs,M=st.getDistance,x=1e-7,S=Re.isStraight(C),E=Re.isStraight(D),k=S&&E,N=R(C)<R(D),O=N?D:C,F=N?C:D,B=O[0],z=O[1],G=O[6]-B,j=O[7]-z;if(M(B,z,G,j,F[0],F[1],!0)<x&&M(B,z,G,j,F[6],F[7],!0)<x)!k&&M(B,z,G,j,O[2],O[3],!0)<x&&M(B,z,G,j,O[4],O[5],!0)<x&&M(B,z,G,j,F[2],F[3],!0)<x&&M(B,z,G,j,F[4],F[5],!0)<x&&(S=E=k=!0);else if(k)return null;if(S^E)return null;for(var H=[C,D],$=[],K=0;K<4&&$.length<2;K++){var Y=1&K,J=1^Y,oe=K>>1,he=Re.getTimeOf(H[Y],new ae(H[J][oe?6:0],H[J][oe?7:1]));if(null!=he){var ge=Y?[oe,he]:[he,oe];(!$.length||P(ge[0]-$[0][0])>1e-8&&P(ge[1]-$[0][1])>1e-8)&&$.push(ge)}if(K>2&&!$.length)break}if(2!==$.length)$=null;else if(!k){var _e=Re.getPart(C,$[0][0],$[1][0]),le=Re.getPart(D,$[0][1],$[1][1]);(P(le[2]-_e[2])>x||P(le[3]-_e[3])>x||P(le[4]-_e[4])>x||P(le[5]-_e[5])>x)&&($=null)}return $}return{getIntersections:function(C){var D=this.getValues(),R=C&&C!==this&&C.getValues();return R?g(D,R,this,C,[]):m(D,this,[])},statics:{getOverlaps:b,getIntersections:function v(C,D,R,P,M,I){var S=!D;S&&(D=C);for(var E=C.length,k=D.length,N=new Array(E),O=S?N:new Array(k),F=[],B=0;B<E;B++)N[B]=C[B].getValues(P);if(!S)for(B=0;B<k;B++)O[B]=D[B].getValues(M);for(var z=Sn.findCurveBoundsCollisions(N,O,1e-7),G=0;G<E;G++){var j=C[G],H=N[G];S&&m(H,j,F,R);var $=z[G];if($)for(var K=0;K<$.length;K++){if(I&&F.length)return F;var Y=$[K];(!S||Y>G)&&g(H,O[Y],j,D[Y],F,R)}}return F},getCurveLineIntersections:h,getTimesWithTangent:function w(C,D){var R=C[0],P=C[1],M=C[2],I=C[3],x=C[4],S=C[5],E=C[6],k=C[7],N=D.normalize(),O=N.x,F=N.y,B=3*E-9*x+9*M-3*R,z=3*k-9*S+9*I-3*P,G=6*x-12*M+6*R,j=6*S-12*I+6*P,H=3*M-3*R,$=3*I-3*P,K=2*B*F-2*z*O,Y=[];if(Math.abs(K)<ze.CURVETIME_EPSILON){if(0!=(K=B*j-z*G)){var oe=-(B*$-z*H)/K;oe>=0&&oe<=1&&Y.push(oe)}}else{var he=(G*G-4*B*H)*F*F+(-2*G*j+4*z*H+4*B*$)*O*F+(j*j-4*z*$)*O*O,ge=G*F-j*O;if(he>=0&&0!=K){var _e=Math.sqrt(he),le=-(ge+_e)/K,ce=(-ge+_e)/K;le>=0&&le<=1&&Y.push(le),ce>=0&&ce<=1&&Y.push(ce)}}return Y}}}}),Te=ee.extend({_class:"CurveLocation",initialize:function(i,s,a,l,h){if(s>=.99999999){var d=i.getNext();d&&(s=0,i=d)}this._setCurve(i),this._time=s,this._point=a||i.getPointAtTime(s),this._overlap=l,this._distance=h,this._intersection=this._next=this._previous=null},_setPath:function(o){this._path=o,this._version=o?o._version:0},_setCurve:function(o){this._setPath(o._path),this._curve=o,this._segment=null,this._segment1=o._segment1,this._segment2=o._segment2},_setSegment:function(o){var i=o.getCurve();i?this._setCurve(i):(this._setPath(o._path),this._segment1=o,this._segment2=null),this._segment=o,this._time=o===this._segment1?0:1,this._point=o._point.clone()},getSegment:function(){var o=this._segment;if(!o){var i=this.getCurve(),s=this.getTime();0===s?o=i._segment1:1===s?o=i._segment2:null!=s&&(o=i.getPartLength(0,s)<i.getPartLength(s,1)?i._segment1:i._segment2),this._segment=o}return o},getCurve:function(){var o=this._path,i=this;function s(a){var l=a&&a.getCurve();if(l&&null!=(i._time=l.getTimeOf(i._point)))return i._setCurve(l),l}return o&&o._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var o=this.getCurve();return o&&o._path},getIndex:function(){var o=this.getCurve();return o&&o.getIndex()},getTime:function(){var o=this.getCurve(),i=this._time;return o&&null==i?this._time=o.getTimeOf(this._point):i},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var o=this._offset;if(null==o){o=0;var i=this.getPath(),s=this.getIndex();if(i&&null!=s)for(var a=i.getCurves(),l=0;l<s;l++)o+=a[l].getLength();this._offset=o+=this.getCurveOffset()}return o},getCurveOffset:function(){var o=this._curveOffset;if(null==o){var i=this.getCurve(),s=this.getTime();this._curveOffset=o=null!=s&&i&&i.getPartLength(0,s)}return o},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var o=this.getCurve(),i=o&&o.divideAtTime(this.getTime());return i&&this._setSegment(i._segment1),i},split:function(){var o=this.getCurve(),i=o._path,s=o&&o.splitAtTime(this.getTime());return s&&this._setSegment(i.getLastSegment()),s},equals:function(o,i){var s=this===o;if(!s&&o instanceof Te){var a=this.getCurve(),l=o.getCurve(),h=a._path;if(h===l._path){var p=Math.abs,m=p(this.getOffset()-o.getOffset()),v=!i&&this._intersection,b=!i&&o._intersection;s=(m<1e-7||h&&p(h.getLength()-m)<1e-7)&&(!v&&!b||v&&b&&v.equals(b,!0))}}return s},toString:function(){var o=[],i=this.getPoint(),s=sn.instance;i&&o.push("point: "+i);var a=this.getIndex();null!=a&&o.push("index: "+a);var l=this.getTime();return null!=l&&o.push("time: "+s.number(l)),null!=this._distance&&o.push("distance: "+s.number(this._distance)),"{ "+o.join(", ")+" }"},isTouching:function(){var o=this._intersection;if(o&&this.getTangent().isCollinear(o.getTangent())){var i=this.getCurve(),s=o.getCurve();return!(i.isStraight()&&s.isStraight()&&i.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var o=this._intersection;if(!o)return!1;var i=this.getTime(),s=o.getTime(),a=1e-8,l=1-a,h=i>=a&&i<=l,d=s>=a&&s<=l;if(h&&d)return!this.isTouching();var p=this.getCurve(),g=p&&i<a?p.getPrevious():p,m=o.getCurve(),v=m&&s<a?m.getPrevious():m;if(i>l&&(p=p.getNext()),s>l&&(m=m.getNext()),!(g&&p&&v&&m))return!1;var b=[];function w(O,F){var B=O.getValues(),z=Re.classify(B).roots||Re.getPeaks(B),G=z.length,j=Re.getLength(B,F&&G?z[G-1]:0,!F&&G?z[0]:1);b.push(G?j:j/32)}function C(O,F,B){return F<B?O>F&&O<B:O>F||O<B}h||(w(g,!0),w(p,!1)),d||(w(v,!0),w(m,!1));var D=this.getPoint(),R=Math.min.apply(Math,b),P=h?p.getTangentAtTime(i):p.getPointAt(R).subtract(D),M=h?P.negate():g.getPointAt(-R).subtract(D),I=d?m.getTangentAtTime(s):m.getPointAt(R).subtract(D),x=d?I.negate():v.getPointAt(-R).subtract(D),S=M.getAngle(),E=P.getAngle(),k=x.getAngle(),N=I.getAngle();return!!(h?C(S,k,N)^C(E,k,N)&&C(S,N,k)^C(E,N,k):C(k,S,E)^C(N,S,E)&&C(k,E,S)^C(N,E,S))},hasOverlap:function(){return!!this._overlap}},ee.each(Re._evaluateMethods,function(o){var i=o+"At";this[o]=function(){var s=this.getCurve(),a=this.getTime();return null!=a&&s&&s[i](a,!0)}},{preserve:!0}),new function(){function o(i,s,a){var l=i.length,h=0,d=l-1;function p(D,R){for(var P=D+R;P>=-1&&P<=l;P+=R){var M=i[(P%l+l)%l];if(!s.getPoint().isClose(M.getPoint(),1e-7))break;if(s.equals(M))return M}return null}for(;h<=d;){var v,g=h+d>>>1,m=i[g];if(a&&(v=s.equals(m)?m:p(g,-1)||p(g,1)))return s._overlap&&(v._overlap=v._intersection._overlap=!0),v;var b=s.getPath(),w=m.getPath();(b!==w?b._id-w._id:s.getIndex()+s.getTime()-(m.getIndex()+m.getTime()))<0?d=g-1:h=g+1}return i.splice(h,0,s),s}return{statics:{insert:o,expand:function(i){for(var s=i.slice(),a=i.length-1;a>=0;a--)o(s,i[a]._intersection,!1);return s}}}}),In=tt.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(o){var i,s,a;if(ee.isPlainObject(o)?(s=o.segments,i=o.pathData):Array.isArray(o)?s=o:"string"==typeof o&&(i=o),s){var l=s[0];a=l&&Array.isArray(l[0])}else i&&(a=(i.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(i));return new(a?gt:at)(o)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(o){this.isClockwise()!=(o=!!o)&&this.reverse()},setPathData:function(o){var s,l,h,i=o&&o.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,d=new ae,p=new ae;function g(x,S){var E=+s[x];return a&&(E+=d[S]),E}function m(x){return new ae(g(x,"x"),g(x+1,"y"))}this.clear();for(var v=0,b=i&&i.length;v<b;v++){var w=i[v],C=w[0],D=C.toLowerCase(),R=(s=w.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&s.length;switch(a=C===D,"z"===l&&!/[mz]/.test(D)&&this.moveTo(d),D){case"m":case"l":for(var P="m"===D,M=0;M<R;M+=2)this[P?"moveTo":"lineTo"](d=m(M)),P&&(p=d,P=!1);h=d;break;case"h":case"v":var I="h"===D?"x":"y";for(d=d.clone(),M=0;M<R;M++)d[I]=g(M,I),this.lineTo(d);h=d;break;case"c":for(M=0;M<R;M+=6)this.cubicCurveTo(m(M),h=m(M+2),d=m(M+4));break;case"s":for(M=0;M<R;M+=4)this.cubicCurveTo(/[cs]/.test(l)?d.multiply(2).subtract(h):d,h=m(M),d=m(M+2)),l=D;break;case"q":for(M=0;M<R;M+=4)this.quadraticCurveTo(h=m(M),d=m(M+2));break;case"t":for(M=0;M<R;M+=2)this.quadraticCurveTo(h=/[qt]/.test(l)?d.multiply(2).subtract(h):d,d=m(M)),l=D;break;case"a":for(M=0;M<R;M+=7)this.arcTo(d=m(M+5),new je(+s[M],+s[M+1]),+s[M+2],+s[M+4],+s[M+3]);break;case"z":this.closePath(1e-12),d=p}l=D}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(o){var i=o.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(o):{};return i.onPath||!!("evenodd"===this.getFillRule()?1&i.windingL||1&i.windingR:i.winding)},getIntersections:function(o,i,s,a){var l=this===o||!o,h=this._matrix._orNullIfIdentity(),d=l?h:(s||o._matrix)._orNullIfIdentity();return l||this.getBounds(h).intersects(o.getBounds(d),1e-12)?Re.getIntersections(this.getCurves(),!l&&o.getCurves(),i,h,d,a):[]},getCrossings:function(o){return this.getIntersections(o,function(i){return i.isCrossing()})},getNearestLocation:function(){for(var o=ae.read(arguments),i=this.getCurves(),s=1/0,a=null,l=0,h=i.length;l<h;l++){var d=i[l].getNearestLocation(o);d._distance<s&&(s=d._distance,a=d)}return a},getNearestPoint:function(){var o=this.getNearestLocation.apply(this,arguments);return o&&o.getPoint()},interpolate:function(o,i,s){var a=!this._children,l=a?"_segments":"_children",h=o[l],d=i[l],p=this[l];if(!h||!d||h.length!==d.length)throw new Error("Invalid operands in interpolate() call: "+o+", "+i);var g=p.length,m=d.length;if(g<m)for(var v=a?Ne:at,b=g;b<m;b++)this.add(new v);else g>m&&this[a?"removeSegments":"removeChildren"](m,g);for(b=0;b<m;b++)p[b].interpolate(h[b],d[b],s);a&&(this.setClosed(o._closed),this._changed(9))},compare:function(o){var i=!1;if(o){var s=this._children||[this],a=o._children?o._children.slice():[o],l=s.length,h=a.length,d=[],p=0;i=!0;for(var g=Sn.findItemBoundsCollisions(s,a,ze.GEOMETRIC_EPSILON),m=l-1;m>=0&&i;m--){var v=s[m];i=!1;var b=g[m];if(b)for(var w=b.length-1;w>=0&&!i;w--)v.compare(a[b[w]])&&(d[b[w]]||(d[b[w]]=!0,p++),i=!0)}i=i&&p===h}return i}}),at=In.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(i){this._closed=!1,this._segments=[],this._version=0;var s=arguments,a=Array.isArray(i)?"object"==typeof i[0]?i:s:!i||i.size!==xe||i.x===xe&&i.point===xe?null:s;a&&a.length>0?this.setSegments(a):(this._curves=xe,this._segmentSelection=0,!a&&"string"==typeof i&&(this.setPathData(i),i=null)),this._initialize(!a&&i)},_equals:function(o){return this._closed===o._closed&&ee.equals(this._segments,o._segments)},copyContent:function(o){this.setSegments(o._segments),this._closed=o._closed},_changed:function o(i){if(o.base.call(this,i),8&i){if(this._length=this._area=xe,32&i)this._version++;else if(this._curves)for(var s=0,a=this._curves.length;s<a;s++)this._curves[s]._changed()}else 64&i&&(this._bounds=xe)},getStyle:function(){var o=this._parent;return(o instanceof gt?o:this)._style},getSegments:function(){return this._segments},setSegments:function(o){var i=this.isFullySelected(),s=o&&o.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=xe,s){var a=o[s-1];"boolean"==typeof a&&(this.setClosed(a),s--),this._add(Ne.readList(o,0,{},s))}i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var o=this._curves,i=this._segments;if(!o){var s=this._countCurves();o=this._curves=new Array(s);for(var a=0;a<s;a++)o[a]=new Re(this,i[a],i[a+1]||i[0])}return o},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var o=this.getCurves();return o[o.length-1]},isClosed:function(){return this._closed},setClosed:function(o){if(this._closed!=(o=!!o)){if(this._closed=o,this._curves){var i=this._curves.length=this._countCurves();o&&(this._curves[i-1]=new Re(this,this._segments[i-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(o,i){var p,g,m,v,b,w,C,D,s=this._segments,a=s.length,l=new sn(i),h=new Array(6),d=!0,R=[];function P(I,x){if(I._transformCoordinates(o,h),p=h[0],g=h[1],d)R.push("M"+l.pair(p,g)),d=!1;else if(w=h[3],(b=h[2])===p&&w===g&&C===m&&D===v){if(!x){var S=p-m,E=g-v;R.push(0===S?"v"+l.number(E):0===E?"h"+l.number(S):"l"+l.pair(S,E))}}else R.push("c"+l.pair(C-m,D-v)+" "+l.pair(b-m,w-v)+" "+l.pair(p-m,g-v));m=p,v=g,C=h[4],D=h[5]}if(!a)return"";for(var M=0;M<a;M++)P(s[M]);return this._closed&&a>0&&(P(s[0],!0),R.push("z")),R.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(o){for(var i=this._segments,s=new Array(6),a=0,l=i.length;a<l;a++)i[a]._transformCoordinates(o,s,!0);return!0},_add:function(o,d){for(var s=this._segments,a=this._curves,l=o.length,h=null==d,p=(d=h?s.length:d,0);p<l;p++){var g=o[p];g._path&&(g=o[p]=g.clone()),g._path=this,g._index=d+p,g._selection&&this._updateSelection(g,0,g._selection)}if(h)ee.push(s,o);else{s.splice.apply(s,[d,0].concat(o)),p=d+l;for(var m=s.length;p<m;p++)s[p]._index=p}if(a){var v=this._countCurves(),b=d>0&&d+l-1===v?d-1:d,w=b,C=Math.min(b+l,v);for(o._curves&&(a.splice.apply(a,[b,0].concat(o._curves)),w+=o._curves.length),p=w;p<C;p++)a.splice(p,0,new Re(this,null,null));this._adjustCurves(b,C)}return this._changed(41),o},_adjustCurves:function(o,i){for(var l,s=this._segments,a=this._curves,h=o;h<i;h++)(l=a[h])._path=this,l._segment1=s[h],l._segment2=s[h+1]||s[0],l._changed();(l=a[this._closed&&!o?s.length-1:o-1])&&(l._segment2=s[o]||s[0],l._changed()),(l=a[i])&&(l._segment1=s[i],l._changed())},_countCurves:function(){var o=this._segments.length;return!this._closed&&o>0?o-1:o},add:function(o){var i=arguments;return i.length>1&&"number"!=typeof o?this._add(Ne.readList(i)):this._add([Ne.read(i)])[0]},insert:function(o,i){var s=arguments;return s.length>2&&"number"!=typeof i?this._add(Ne.readList(s,1),o):this._add([Ne.read(s,1)],o)[0]},addSegment:function(){return this._add([Ne.read(arguments)])[0]},insertSegment:function(o){return this._add([Ne.read(arguments,1)],o)[0]},addSegments:function(o){return this._add(Ne.readList(o))},insertSegments:function(o,i){return this._add(Ne.readList(i),o)},removeSegment:function(o){return this.removeSegments(o,o+1)[0]||null},removeSegments:function(o,i,s){o=o||0,i=ee.pick(i,this._segments.length);var a=this._segments,l=this._curves,h=a.length,d=a.splice(o,i-o),p=d.length;if(!p)return d;for(var g=0;g<p;g++){var m=d[g];m._selection&&this._updateSelection(m,m._selection,0),m._index=m._path=null}g=o;for(var v=a.length;g<v;g++)a[g]._index=g;if(l){var b=o>0&&i===h+(this._closed?1:0)?o-1:o;for(g=(l=l.splice(b,p)).length-1;g>=0;g--)l[g]._path=null;s&&(d._curves=l.slice(1)),this._adjustCurves(b,b)}return this._changed(41),d},clear:"#removeSegments",hasHandles:function(){for(var o=this._segments,i=0,s=o.length;i<s;i++)if(o[i].hasHandles())return!0;return!1},clearHandles:function(){for(var o=this._segments,i=0,s=o.length;i<s;i++)o[i].clearHandles()},getLength:function(){if(null==this._length){for(var o=this.getCurves(),i=0,s=0,a=o.length;s<a;s++)i+=o[s].getLength();this._length=i}return this._length},getArea:function(){var o=this._area;if(null==o){var i=this._segments,s=this._closed;o=0;for(var a=0,l=i.length;a<l;a++){var h=a+1===l;o+=Re.getArea(Re.getValues(i[a],i[h?0:a+1],null,h&&!s))}this._area=o}return o},isFullySelected:function(){var o=this._segments.length;return this.isSelected()&&o>0&&this._segmentSelection===7*o},setFullySelected:function(o){o&&this._selectSegments(!0),this.setSelected(o)},setSelection:function o(i){1&i||this._selectSegments(!1),o.base.call(this,i)},_selectSegments:function(o){var i=this._segments,s=i.length,a=o?7:0;this._segmentSelection=a*s;for(var l=0;l<s;l++)i[l]._selection=a},_updateSelection:function(o,i,s){o._selection=s,(this._segmentSelection+=s-i)>0&&this.setSelected(!0)},divideAt:function(o){var s,i=this.getLocationAt(o);return i&&(s=i.getCurve().divideAt(i.getCurveOffset()))?s._segment1:null},splitAt:function(o){var i=this.getLocationAt(o),s=i&&i.index,a=i&&i.time;a>.99999999&&(s++,a=0);var d=this.getCurves();if(s>=0&&s<d.length){a>=1e-8&&d[s++].divideAtTime(a);var g,p=this.removeSegments(s,this._segments.length,!0);return this._closed?(this.setClosed(!1),g=this):((g=new at(tt.NO_INSERT)).insertAbove(this),g.copyAttributes(this)),g._add(p,0),this.addSegment(p[0]),g}return null},split:function(o,i){var s,a=i===xe?o:(s=this.getCurves()[o])&&s.getLocationAtTime(i);return null!=a?this.splitAt(a):null},join:function(o,i){var s=i||0;if(o&&o!==this){var a=o._segments,l=this.getLastSegment(),h=o.getLastSegment();if(!h)return this;l&&l._point.isClose(h._point,s)&&o.reverse();var d=o.getFirstSegment();if(l&&l._point.isClose(d._point,s))l.setHandleOut(d._handleOut),this._add(a.slice(1));else{var p=this.getFirstSegment();p&&p._point.isClose(d._point,s)&&o.reverse(),h=o.getLastSegment(),p&&p._point.isClose(h._point,s)?(p.setHandleIn(h._handleIn),this._add(a.slice(0,a.length-1),0)):this._add(a.slice())}o._closed&&this._add([a[0]]),o.remove()}var g=this.getFirstSegment(),m=this.getLastSegment();return g!==m&&g._point.isClose(m._point,s)&&(g.setHandleIn(m._handleIn),m.remove(),this.setClosed(!0)),this},reduce:function(o){for(var i=this.getCurves(),s=o&&o.simplify,a=s?1e-7:0,l=i.length-1;l>=0;l--){var h=i[l];!h.hasHandles()&&(!h.hasLength(a)||s&&h.isCollinear(h.getNext()))&&h.remove()}return this},reverse:function(){this._segments.reverse();for(var o=0,i=this._segments.length;o<i;o++){var s=this._segments[o],a=s._handleIn;s._handleIn=s._handleOut,s._handleOut=a,s._index=o}this._curves=null,this._changed(9)},flatten:function(o){for(var s=new Jn(this,o||.25,256,!0).parts,a=s.length,l=[],h=0;h<a;h++)l.push(new Ne(s[h].curve.slice(0,2)));!this._closed&&a>0&&l.push(new Ne(s[a-1].curve.slice(6))),this.setSegments(l)},simplify:function(o){var i=new dn(this).fit(o||2.5);return i&&this.setSegments(i),!!i},smooth:function(o){var i=this,s=o||{},a=s.type||"asymmetric",l=this._segments,h=l.length,d=this._closed;function p(ve,Ce){var Ae=ve&&ve.index;if(null!=Ae){var Pe=ve.path;if(Pe&&Pe!==i)throw new Error(ve._class+" "+Ae+" of "+Pe+" is not part of "+i);Ce&&ve instanceof Re&&Ae++}else Ae="number"==typeof ve?ve:Ce;return Math.min(Ae<0&&d?Ae%h:Ae<0?Ae+h:Ae,h-1)}var g=d&&s.from===xe&&s.to===xe,m=p(s.from,0),v=p(s.to,h-1);if(m>v)if(d)m-=h;else{var b=m;m=v,v=b}if(/^(?:asymmetric|continuous)$/.test(a)){var w="asymmetric"===a,C=Math.min,D=v-m+1,R=D-1,P=g?C(D,4):1,M=P,I=P,x=[];if(d||(M=C(1,m),I=C(1,h-v-1)),(R+=M+I)<=1)return;for(var S=0,E=m-M;S<=R;S++,E++)x[S]=l[(E<0?E+h:E)%h]._point;var k=x[0]._x+2*x[1]._x,N=x[0]._y+2*x[1]._y,O=2,F=R-1,B=[k],z=[N],G=[O],j=[],H=[];for(S=1;S<R;S++){var $=S<F,J=$?4:w?3:8,oe=$?2:w?0:1,he=($||w?1:2)/O;O=G[S]=($?4:w?2:7)-he,k=B[S]=J*x[S]._x+oe*x[S+1]._x-he*k,N=z[S]=J*x[S]._y+oe*x[S+1]._y-he*N}for(j[F]=B[F]/G[F],H[F]=z[F]/G[F],S=R-2;S>=0;S--)j[S]=(B[S]-j[S+1])/G[S],H[S]=(z[S]-H[S+1])/G[S];j[R]=(3*x[R]._x-j[F])/2,H[R]=(3*x[R]._y-H[F])/2,S=M;var ge=R-I;for(E=m;S<=ge;S++,E++){var _e=l[E<0?E+h:E],le=_e._point,ce=j[S]-le._x,ue=H[S]-le._y;(g||S<ge)&&_e.setHandleOut(ce,ue),(g||S>M)&&_e.setHandleIn(-ce,-ue)}}else for(S=m;S<=v;S++)l[S<0?S+h:S].smooth(s,!g&&S===m,!g&&S===v)},toShape:function(o){if(!this._closed)return null;var s,a,l,h,i=this._segments;function d(w,C){var D=i[w],R=D.getNext(),P=i[C],M=P.getNext();return D._handleOut.isZero()&&R._handleIn.isZero()&&P._handleOut.isZero()&&M._handleIn.isZero()&&R._point.subtract(D._point).isCollinear(M._point.subtract(P._point))}function g(w){var C=i[w],D=C.getNext(),R=C._handleOut,P=D._handleIn,M=.5522847498307936;if(R.isOrthogonal(P)){var I=C._point,x=D._point,S=new st(I,R,!0).intersect(new st(x,P,!0),!0);return S&&ze.isZero(R.getLength()/S.subtract(I).getLength()-M)&&ze.isZero(P.getLength()/S.subtract(x).getLength()-M)}return!1}function m(w,C){return i[w]._point.getDistance(i[C]._point)}if(!this.hasHandles()&&4===i.length&&d(0,2)&&d(1,3)&&function p(w){var C=i[w],D=C.getPrevious(),R=C.getNext();return D._handleOut.isZero()&&C._handleIn.isZero()&&C._handleOut.isZero()&&R._handleIn.isZero()&&C._point.subtract(D._point).isOrthogonal(R._point.subtract(C._point))}(1)?(s=xn.Rectangle,a=new je(m(0,3),m(0,1)),h=i[1]._point.add(i[2]._point).divide(2)):8===i.length&&g(0)&&g(2)&&g(4)&&g(6)&&d(1,5)&&d(3,7)?(s=xn.Rectangle,l=(a=new je(m(1,6),m(0,3))).subtract(new je(m(0,7),m(1,2))).divide(2),h=i[3]._point.add(i[4]._point).divide(2)):4===i.length&&g(0)&&g(1)&&g(2)&&g(3)&&(ze.isZero(m(0,2)-m(1,3))?(s=xn.Circle,l=m(0,2)/2):(s=xn.Ellipse,l=new je(m(2,0)/2,m(3,1)/2)),h=i[1]._point),s){var v=this.getPosition(!0),b=new s({center:v,size:a,radius:l,insert:!1});return b.copyAttributes(this,!0),b._matrix.prepend(this._matrix),b.rotate(h.subtract(v).getAngle()+90),(o===xe||o)&&b.insertAbove(this),b}return null},toPath:"#clone",compare:function o(i){if(!i||i instanceof gt)return o.base.call(this,i);var s=this.getCurves(),a=i.getCurves(),l=s.length,h=a.length;if(!l||!h)return l==h;for(var m,b,d=s[0].getValues(),p=[],g=0,v=0,w=0;w<h;w++){var P=a[w].getValues();if(p.push(P),C=Re.getOverlaps(d,P)){m=!w&&C[0][0]>0?h-1:w,b=C[0][1];break}}var M,D=Math.abs;for(P=p[m];d&&P;){var C;if((C=Re.getOverlaps(d,P))&&D(C[0][0]-v)<1e-8){1===(v=C[1][0])&&(d=++g<l?s[g].getValues():null,v=0);var x=C[0][1];if(D(x-b)<1e-8){if(M||(M=[m,x]),1===(b=C[1][1])&&(++m>=h&&(m=0),P=p[m]||a[m].getValues(),b=0),!d)return M[0]===m&&M[1]===b;continue}}break}return!1},_hitTestSelf:function(o,i,s,a){var b,w,C,D,R,P,l=this,h=this.getStyle(),d=this._segments,p=d.length,g=this._closed,m=i._tolerancePadding,v=m,M=i.stroke&&h.hasStroke(),I=i.fill&&h.hasFill(),x=i.curves,S=M?h.getStrokeWidth()/2:I&&i.tolerance>0||x?0:null;function E(j,H){return o.subtract(j).divide(H).length<=1}function k(j,H,$){if(!i.selected||H.isSelected()){var K=j._point;if(H!==K&&(H=H.add(K)),E(H,v))return new tn($,l,{segment:j,point:H})}}function N(j,H){return(H||i.segments)&&k(j,j._point,"segment")||!H&&i.handles&&(k(j,j._handleIn,"handle-in")||k(j,j._handleOut,"handle-out"))}function O(j){D.add(j)}function F(j){var $,H=g||j._index>0&&j._index<p-1;return"round"===(H?b:w)?E(j._point,v):(D=new at({internal:!0,closed:!0}),H?j.isSmooth()||at._addBevelJoin(j,b,S,C,null,a,O,!0):"square"===w&&at._addSquareCap(j,w,S,null,a,O,!0),D.isEmpty()?void 0:D.contains(o)||($=D.getNearestLocation(o))&&E($.getPoint(),m))}if(null!==S&&(S>0?(b=h.getStrokeJoin(),w=h.getStrokeCap(),C=h.getMiterLimit(),v=v.add(at._getStrokePadding(S,a))):b=w="round"),!i.ends||i.segments||g){if(i.segments||i.handles)for(var B=0;B<p;B++)if(P=N(d[B]))return P}else if(P=N(d[0],!0)||N(d[p-1],!0))return P;if(null!==S){if(R=this.getNearestLocation(o)){var z=R.getTime();0===z||1===z&&p>1?F(R.getSegment())||(R=null):E(R.getPoint(),v)||(R=null)}if(!R&&"miter"===b&&p>1)for(B=0;B<p;B++){var G=d[B];if(o.getDistance(G._point)<=C*S&&F(G)){R=G.getLocation();break}}}return!R&&I&&this._contains(o)||R&&!M&&!x?new tn("fill",this):R?new tn(M?"stroke":"curve",this,{location:R,point:R.getPoint()}):null}},ee.each(Re._evaluateMethods,function(o){this[o+"At"]=function(i){var s=this.getLocationAt(i);return s&&s[o]()}},{beans:!1,getLocationOf:function(){for(var o=ae.read(arguments),i=this.getCurves(),s=0,a=i.length;s<a;s++){var l=i[s].getLocationOf(o);if(l)return l}return null},getOffsetOf:function(){var o=this.getLocationOf.apply(this,arguments);return o?o.getOffset():null},getLocationAt:function(o){if("number"==typeof o){for(var i=this.getCurves(),s=0,a=0,l=i.length;a<l;a++){var h=s,d=i[a];if((s+=d.getLength())>o)return d.getLocationAt(o-h)}if(i.length>0&&o<=this.getLength())return new Te(i[i.length-1],1)}else if(o&&o.getPath&&o.getPath()===this)return o;return null},getOffsetsWithTangent:function(){var o=ae.read(arguments);if(o.isZero())return[];for(var i=[],s=0,a=this.getCurves(),l=0,h=a.length;l<h;l++){for(var d=a[l],p=d.getTimesWithTangent(o),g=0,m=p.length;g<m;g++){var v=s+d.getOffsetAtTime(p[g]);i.indexOf(v)<0&&i.push(v)}s+=d.length}return i}}),new function(){function i(s,a,l){var m,v,b,w,C,D,R,P,h=a._segments,d=h.length,p=new Array(6),g=!0;function M(x){if(l)x._transformCoordinates(l,p),m=p[0],v=p[1];else{var S=x._point;m=S._x,v=S._y}var E;g?(s.moveTo(m,v),g=!1):(l?(C=p[2],D=p[3]):(C=m+(E=x._handleIn)._x,D=v+E._y),C===m&&D===v&&R===b&&P===w?s.lineTo(m,v):s.bezierCurveTo(R,P,C,D,m,v)),b=m,w=v,l?(R=p[4],P=p[5]):(R=b+(E=x._handleOut)._x,P=w+E._y)}for(var I=0;I<d;I++)M(h[I]);a._closed&&d>0&&M(h[0])}return{_draw:function(s,a,l,h){var d=a.dontStart,p=a.dontFinish||a.clip,g=this.getStyle(),m=g.hasFill(),v=g.hasStroke(),b=g.getDashArray(),w=!Le.support.nativeDash&&v&&b&&b.length;function C(x){return b[(x%w+w)%w]}if(d||s.beginPath(),(m||v&&!w||p)&&(i(s,this,h),this._closed&&s.closePath()),!p&&(m||v)&&(this._setStyles(s,a,l),m&&(s.fill(g.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),v)){if(w){d||s.beginPath();for(var M,D=new Jn(this,.25,32,!1,h),R=D.length,P=-g.getDashOffset(),I=0;P>0;)P-=C(I--)+C(I--);for(;P<R;)M=P+C(I++),(P>0||M>0)&&D.drawPart(s,Math.max(P,0),Math.max(M,0)),P=M+C(I++)}s.stroke()}},_drawSelected:function(s,a){s.beginPath(),i(s,this,a),s.stroke(),function o(s,a,l,h){if(!(h<=0))for(var v,b,d=h/2,p=h-2,g=d-1,m=new Array(6),C=0,D=a.length;C<D;C++){var R=a[C],P=R._selection;if(R._transformCoordinates(l,m),v=m[0],b=m[1],2&P&&w(2),4&P&&w(4),s.fillRect(v-d,b-d,h,h),p>0&&!(1&P)){var M=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(v-g,b-g,p,p),s.fillStyle=M}}function w(I){var x=m[I],S=m[I+1];(v!=x||b!=S)&&(s.beginPath(),s.moveTo(v,b),s.lineTo(x,S),s.stroke(),s.beginPath(),s.arc(x,S,d,0,2*Math.PI,!0),s.fill())}}(s,this._segments,a,Le.settings.handleSize)}}},new function(){function o(i){var s=i._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var i=this._segments;1===i.length&&this.removeSegment(0),i.length||this._add([new Ne(ae.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Ne(ae.read(arguments))])},cubicCurveTo:function(){var i=arguments,s=ae.read(i),a=ae.read(i),l=ae.read(i),h=o(this);h.setHandleOut(s.subtract(h._point)),this._add([new Ne(l,a.subtract(l))])},quadraticCurveTo:function(){var i=arguments,s=ae.read(i),a=ae.read(i),l=o(this)._point;this.cubicCurveTo(s.add(l.subtract(s).multiply(1/3)),s.add(a.subtract(s).multiply(1/3)),a)},curveTo:function(){var i=arguments,s=ae.read(i),a=ae.read(i),l=ee.pick(ee.read(i),.5),h=1-l,d=o(this)._point,p=s.subtract(d.multiply(h*h)).subtract(a.multiply(l*l)).divide(2*l*h);if(p.isNaN())throw new Error("Cannot put a curve through points with parameter = "+l);this.quadraticCurveTo(p,a)},arcTo:function(){var v,b,w,C,i=arguments,s=Math.abs,a=Math.sqrt,l=o(this),h=l._point,d=ae.read(i),g=ee.peek(i);if("boolean"==typeof(m=ee.pick(g,!0)))var p=(D=h.add(d).divide(2)).add(D.subtract(h).rotate(m?-90:90));else if(ee.remain(i)<=2)p=d,d=ae.read(i);else if(!h.equals(d)){var R=je.read(i),P=ze.isZero;if(P(R.width)||P(R.height))return this.lineTo(d);var M=ee.read(i),m=!!ee.read(i),I=!!ee.read(i),D=h.add(d).divide(2),S=(x=h.subtract(D).rotate(-M)).x,E=x.y,k=s(R.width),N=s(R.height),O=k*k,F=N*N,B=S*S,z=E*E,G=a(B/O+z/F);if(G>1&&(O=(k*=G)*k,F=(N*=G)*N),s(G=(O*F-O*z-F*B)/(O*z+F*B))<1e-12&&(G=0),G<0)throw new Error("Cannot create an arc with the given arguments");v=new ae(k*E/N,-N*S/k).multiply((I===m?-1:1)*a(G)).rotate(M).add(D),b=(w=(C=(new Vt).translate(v).rotate(M).scale(k,N))._inverseTransform(h)).getDirectedAngle(C._inverseTransform(d)),!m&&b>0?b-=360:m&&b<0&&(b+=360)}if(p){var j=new st(h.add(p).divide(2),p.subtract(h).rotate(90),!0),H=new st(p.add(d).divide(2),d.subtract(p).rotate(90),!0),$=new st(h,d),K=$.getSide(p);if(!(v=j.intersect(H,!0))){if(!K)return this.lineTo(d);throw new Error("Cannot create an arc with the given arguments")}b=(w=h.subtract(v)).getDirectedAngle(d.subtract(v));var Y=$.getSide(v,!0);0===Y?b=K*s(b):K===Y&&(b+=b<0?360:-360)}if(b){for(var oe=s(b),he=oe>=360?4:Math.ceil((oe-1e-5)/90),ge=b/he,_e=ge*Math.PI/360,le=4/3*Math.sin(_e)/(1+Math.cos(_e)),ce=[],ue=0;ue<=he;ue++){var x=d,ve=null;if(ue<he&&(ve=w.rotate(90).multiply(le),C?(x=C._transformPoint(w),ve=C._transformPoint(w.add(ve)).subtract(x)):x=v.add(w)),ue){var Ce=w.rotate(-90).multiply(le);C&&(Ce=C._transformPoint(w.add(Ce)).subtract(x)),ce.push(new Ne(x,Ce,ve))}else l.setHandleOut(ve);w=w.rotate(ge)}this._add(ce)}},lineBy:function(){var i=ae.read(arguments),s=o(this)._point;this.lineTo(s.add(i))},curveBy:function(){var i=arguments,s=ae.read(i),a=ae.read(i),l=ee.read(i),h=o(this)._point;this.curveTo(h.add(s),h.add(a),l)},cubicCurveBy:function(){var i=arguments,s=ae.read(i),a=ae.read(i),l=ae.read(i),h=o(this)._point;this.cubicCurveTo(h.add(s),h.add(a),h.add(l))},quadraticCurveBy:function(){var i=arguments,s=ae.read(i),a=ae.read(i),l=o(this)._point;this.quadraticCurveTo(l.add(s),l.add(a))},arcBy:function(){var i=arguments,s=o(this)._point,a=s.add(ae.read(i)),l=ee.pick(ee.peek(i),!0);this.arcTo(a,"boolean"==typeof l?l:s.add(ae.read(i)))},closePath:function(i){this.setClosed(!0),this.join(this,i)}}},{_getBounds:function(o,i){return at[i.handle?"getHandleBounds":i.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,o,i)},statics:{getBounds:function(o,i,s,a,l,h){var d=o[0];if(!d)return new W;var p=new Array(6),g=d._transformCoordinates(a,new Array(6)),m=g.slice(0,2),v=m.slice(),b=new Array(2);function w(R){R._transformCoordinates(a,p);for(var P=0;P<2;P++)Re._addBounds(g[P],g[P+4],p[P+2],p[P],P,h?h[P]:0,m,v,b);var M=g;g=p,p=M}for(var C=1,D=o.length;C<D;C++)w(o[C]);return i&&w(d),new W(m[0],m[1],v[0]-m[0],v[1]-m[1])},getStrokeBounds:function(o,i,s,a,l){var h=s.getStyle(),d=h.hasStroke(),p=h.getStrokeWidth(),g=d&&s._getStrokeMatrix(a,l),m=d&&at._getStrokePadding(p,g),v=at.getBounds(o,i,s,a,l,m);if(!d)return v;var b=p/2,w=h.getStrokeJoin(),C=h.getStrokeCap(),D=h.getMiterLimit(),R=new W(new je(m));function P(k){v=v.include(k)}function M(k){v=v.unite(R.setCenter(k._point.transform(a)))}function I(k,N){"round"===N||k.isSmooth()?M(k):at._addBevelJoin(k,N,b,D,a,g,P)}function x(k,N){"round"===N?M(k):at._addSquareCap(k,N,b,a,g,P)}var S=o.length-(i?0:1);if(S>0){for(var E=1;E<S;E++)I(o[E],w);i?I(o[0],w):(x(o[0],C),x(o[o.length-1],C))}return v},_getStrokePadding:function(o,i){if(!i)return[o,o];var s=new ae(o,0).transform(i),a=new ae(0,o).transform(i),l=s.getAngleInRadians(),h=s.getLength(),d=a.getLength(),p=Math.sin(l),g=Math.cos(l),m=Math.tan(l),v=Math.atan2(d*m,h),b=Math.atan2(d,m*h);return[Math.abs(h*Math.cos(v)*g+d*Math.sin(v)*p),Math.abs(d*Math.sin(b)*g+h*Math.cos(b)*p)]},_addBevelJoin:function(o,i,s,a,l,h,d,p){var g=o.getCurve(),m=g.getPrevious(),v=g.getPoint1().transform(l),b=m.getNormalAtTime(1).multiply(s).transform(h),w=g.getNormalAtTime(0).multiply(s).transform(h),C=b.getDirectedAngle(w);if((C<0||C>=180)&&(b=b.negate(),w=w.negate()),p&&d(v),d(v.add(b)),"miter"===i){var D=new st(v.add(b),new ae(-b.y,b.x),!0).intersect(new st(v.add(w),new ae(-w.y,w.x),!0),!0);D&&v.getDistance(D)<=a*s&&d(D)}d(v.add(w))},_addSquareCap:function(o,i,s,a,l,h,d){var p=o._point.transform(a),g=o.getLocation(),m=g.getNormal().multiply(0===g.getTime()?s:-s).transform(l);"square"===i&&(d&&(h(p.subtract(m)),h(p.add(m))),p=p.add(m.rotate(-90))),h(p.add(m)),h(p.subtract(m))},getHandleBounds:function(o,i,s,a,l){var p,g,h=s.getStyle();if(l.stroke&&h.hasStroke()){var m=s._getStrokeMatrix(a,l),v=h.getStrokeWidth()/2,b=v;"miter"===h.getStrokeJoin()&&(b=v*h.getMiterLimit()),"square"===h.getStrokeCap()&&(b=Math.max(b,v*Math.SQRT2)),p=at._getStrokePadding(v,m),g=at._getStrokePadding(b,m)}for(var w=new Array(6),C=1/0,D=-C,R=C,P=D,M=0,I=o.length;M<I;M++){o[M]._transformCoordinates(a,w);for(var S=0;S<6;S+=2){var E=S?p:g,k=E?E[0]:0,N=E?E[1]:0,O=w[S],F=w[S+1],B=O-k,z=O+k,G=F-N,j=F+N;B<C&&(C=B),z>D&&(D=z),G<R&&(R=G),j>P&&(P=j)}}return new W(C,R,D-C,P-R)}}});at.inject({statics:new function(){var o=.5522847498307936,i=[new Ne([-1,0],[0,o],[0,-o]),new Ne([0,-1],[-o,0],[o,0]),new Ne([1,0],[0,-o],[0,o]),new Ne([0,1],[o,0],[-o,0])];function s(l,h,d){var p=ee.getNamed(d),g=new at(p&&(1==p.insert?tt.INSERT:0==p.insert?tt.NO_INSERT:null));return g._add(l),g._closed=h,g.set(p,tt.INSERT)}function a(l,h,d){for(var p=new Array(4),g=0;g<4;g++){var m=i[g];p[g]=new Ne(m._point.multiply(h).add(l),m._handleIn.multiply(h),m._handleOut.multiply(h))}return s(p,!0,d)}return{Line:function(){var l=arguments;return s([new Ne(ae.readNamed(l,"from")),new Ne(ae.readNamed(l,"to"))],!1,l)},Circle:function(){var l=arguments,h=ae.readNamed(l,"center"),d=ee.readNamed(l,"radius");return a(h,new je(d),l)},Rectangle:function(){var b,l=arguments,h=W.readNamed(l,"rectangle"),d=je.readNamed(l,"radius",0,{readNull:!0}),p=h.getBottomLeft(!0),g=h.getTopLeft(!0),m=h.getTopRight(!0),v=h.getBottomRight(!0);if(!d||d.isZero())b=[new Ne(p),new Ne(g),new Ne(m),new Ne(v)];else{var w=(d=je.min(d,h.getSize(!0).divide(2))).width,C=d.height,D=w*o,R=C*o;b=[new Ne(p.add(w,0),null,[-D,0]),new Ne(p.subtract(0,C),[0,R]),new Ne(g.add(0,C),null,[0,-R]),new Ne(g.add(w,0),[-D,0],null),new Ne(m.subtract(w,0),null,[D,0]),new Ne(m.add(0,C),[0,-R],null),new Ne(v.subtract(0,C),null,[0,R]),new Ne(v.subtract(w,0),[D,0])]}return s(b,!0,l)},RoundRectangle:"#Rectangle",Ellipse:function(){var l=arguments,h=xn._readEllipse(l);return a(h.center,h.radius,l)},Oval:"#Ellipse",Arc:function(){var l=arguments,h=ae.readNamed(l,"from"),d=ae.readNamed(l,"through"),p=ae.readNamed(l,"to"),g=ee.getNamed(l),m=new at(g&&0==g.insert&&tt.NO_INSERT);return m.moveTo(h),m.arcTo(d,p),m.set(g)},RegularPolygon:function(){for(var l=arguments,h=ae.readNamed(l,"center"),d=ee.readNamed(l,"sides"),p=ee.readNamed(l,"radius"),g=360/d,m=d%3==0,v=new ae(0,m?-p:p),b=m?-1:.5,w=new Array(d),C=0;C<d;C++)w[C]=new Ne(h.add(v.rotate((C+b)*g)));return s(w,!0,l)},Star:function(){for(var l=arguments,h=ae.readNamed(l,"center"),d=2*ee.readNamed(l,"points"),p=ee.readNamed(l,"radius1"),g=ee.readNamed(l,"radius2"),m=360/d,v=new ae(0,-1),b=new Array(d),w=0;w<d;w++)b[w]=new Ne(h.add(v.rotate(m*w).multiply(w%2?g:p)));return s(b,!0,l)}}}});var gt=In.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||("string"==typeof i?this.setPathData(i):this.addChildren(Array.isArray(i)?i:arguments))},insertChildren:function o(i,s){var a=s,l=a[0];l&&"number"==typeof l[0]&&(a=[a]);for(var h=s.length-1;h>=0;h--){var d=a[h];a===s&&!(d instanceof at)&&(a=ee.slice(a)),Array.isArray(d)?a[h]=new at({segments:d,insert:!1}):d instanceof gt&&(a.splice.apply(a,[h,1].concat(d.removeChildren())),d.remove())}return o.base.call(this,i,a)},reduce:function o(i){for(var s=this._children,a=s.length-1;a>=0;a--)(l=s[a].reduce(i)).isEmpty()&&l.remove();var l;return s.length?o.base.call(this):((l=new at(tt.NO_INSERT)).copyAttributes(this),l.insertAbove(this),this.remove(),l)},isClosed:function(){for(var o=this._children,i=0,s=o.length;i<s;i++)if(!o[i]._closed)return!1;return!0},setClosed:function(o){for(var i=this._children,s=0,a=i.length;s<a;s++)i[s].setClosed(o)},getFirstSegment:function(){var o=this.getFirstChild();return o&&o.getFirstSegment()},getLastSegment:function(){var o=this.getLastChild();return o&&o.getLastSegment()},getCurves:function(){for(var o=this._children,i=[],s=0,a=o.length;s<a;s++)ee.push(i,o[s].getCurves());return i},getFirstCurve:function(){var o=this.getFirstChild();return o&&o.getFirstCurve()},getLastCurve:function(){var o=this.getLastChild();return o&&o.getLastCurve()},getArea:function(){for(var o=this._children,i=0,s=0,a=o.length;s<a;s++)i+=o[s].getArea();return i},getLength:function(){for(var o=this._children,i=0,s=0,a=o.length;s<a;s++)i+=o[s].getLength();return i},getPathData:function(o,i){for(var s=this._children,a=[],l=0,h=s.length;l<h;l++){var d=s[l],p=d._matrix;a.push(d.getPathData(o&&!p.isIdentity()?o.appended(p):o,i))}return a.join("")},_hitTestChildren:function o(i,s,a){return o.base.call(this,i,s.class===at||"path"===s.type?s:ee.set({},s,{fill:!1}),a)},_draw:function(o,i,s,a){var l=this._children;if(l.length){i=i.extend({dontStart:!0,dontFinish:!0}),o.beginPath();for(var h=0,d=l.length;h<d;h++)l[h].draw(o,i,a);if(!i.clip){this._setStyles(o,i,s);var p=this._style;p.hasFill()&&(o.fill(p.getFillRule()),o.shadowColor="rgba(0,0,0,0)"),p.hasStroke()&&o.stroke()}}},_drawSelected:function(o,i,s){for(var a=this._children,l=0,h=a.length;l<h;l++){var d=a[l],p=d._matrix;s[d._id]||d._drawSelected(o,p.isIdentity()?i:i.appended(p))}}},new function(){function o(i,s){var a=i._children;if(s&&!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return ee.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(i){this[i]=function(){var s=o(this,!0);s[i].apply(s,arguments)}},{moveTo:function(){var i=o(this),s=i&&i.isEmpty()?i:new at(tt.NO_INSERT);s!==i&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var i=o(this,!0),s=i&&i.getLastSegment(),a=ae.read(arguments);this.moveTo(s?a.add(s._point):a)},closePath:function(i){o(this,!0).closePath(i)}})},ee.each(["reverse","flatten","simplify","smooth"],function(o){this[o]=function(i){for(var a,s=this._children,l=0,h=s.length;l<h;l++)a=s[l][o](i)||a;return a}},{}));In.inject(new function(){var o=Math.min,i=Math.max,s=Math.abs,a={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function l(M){return M._children||[M]}function h(M,I){var x=M.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(I){for(var S=l(x),E=0,k=S.length;E<k;E++)!(M=S[E])._closed&&!M.isEmpty()&&(M.closePath(1e-12),M.getFirstSegment().setHandleIn(0,0),M.getLastSegment().setHandleOut(0,0));x=x.resolveCrossings().reorient("nonzero"===x.getFillRule(),!0)}return x}function d(M,I,x,S,E){var k=new gt(tt.NO_INSERT);return k.addChildren(M,!0),k=k.reduce({simplify:I}),E&&0==E.insert||k.insertAbove(S&&x.isSibling(S)&&x.getIndex()<S.getIndex()?S:x),k.copyAttributes(x,!0),k}function p(M){return M.hasOverlap()||M.isCrossing()}function g(M,I,x,S){if(S&&(0==S.trace||S.stroke)&&/^(subtract|intersect)$/.test(x))return m(M,I,x);var E=h(M,!0),k=I&&M!==I&&h(I,!0),N=a[x];N[x]=!0,k&&(N.subtract||N.exclude)^k.isClockwise()^E.isClockwise()&&k.reverse();var j,O=C(Te.expand(E.getIntersections(k,p))),F=l(E),B=k&&l(k),z=[],G=[];function H(ve){for(var Ce=0,Ae=ve.length;Ce<Ae;Ce++){var Pe=ve[Ce];ee.push(z,Pe._segments),ee.push(G,Pe.getCurves()),Pe._overlapsOnly=!0}}function $(ve){for(var Ce=[],Ae=0,Pe=ve&&ve.length;Ae<Pe;Ae++)Ce.push(G[ve[Ae]]);return Ce}if(O.length){H(F),B&&H(B);for(var K=new Array(G.length),Y=0,J=G.length;Y<J;Y++)K[Y]=G[Y].getValues();var oe=Sn.findCurveBoundsCollisions(K,K,0,!0),he={};for(Y=0;Y<G.length;Y++){var ge=G[Y],_e=ge._path._id;(he[_e]=he[_e]||{})[ge.getIndex()]={hor:$(oe[Y].hor),ver:$(oe[Y].ver)}}for(Y=0,J=O.length;Y<J;Y++)R(O[Y]._segment,E,k,he,N);for(Y=0,J=z.length;Y<J;Y++){var ce=z[Y],ue=ce._intersection;ce._winding||R(ce,E,k,he,N),ue&&ue._overlap||(ce._path._overlapsOnly=!1)}j=P(z,N)}else j=w(B?F.concat(B):F.slice(),function(ve){return!!N[ve]});return d(j,!0,M,I,S)}function m(M,I,x){var S=h(M),E=h(I),k=S.getIntersections(E,p),N="subtract"===x,O="divide"===x,F={},B=[];function z(H){if(!F[H._id]&&(O||E.contains(H.getPointAt(H.getLength()/2))^N))return B.unshift(H),F[H._id]=!0}for(var G=k.length-1;G>=0;G--){var j=k[G].split();j&&(z(j)&&j.getFirstSegment().setHandleIn(0,0),S.getLastSegment().setHandleOut(0,0))}return z(S),d(B,!1,M,I)}function v(M,I){for(var x=M;x;){if(x===I)return;x=x._previous}for(;M._next&&M._next!==I;)M=M._next;if(!M._next){for(;I._previous;)I=I._previous;M._next=I,I._previous=M}}function b(M){for(var I=M.length-1;I>=0;I--)M[I].clearHandles()}function w(M,I,x){var S=M&&M.length;if(S){var E=ee.each(M,function(oe,he){this[oe._id]={container:null,winding:oe.isClockwise()?1:-1,index:he}},{}),k=M.slice().sort(function(oe,he){return s(he.getArea())-s(oe.getArea())}),N=k[0],O=Sn.findItemBoundsCollisions(k,null,ze.GEOMETRIC_EPSILON);null==x&&(x=N.isClockwise());for(var F=0;F<S;F++){var B=k[F],z=E[B._id],G=0,j=O[F];if(j)for(var H=null,$=j.length-1;$>=0;$--)if(j[$]<F){H=H||B.getInteriorPoint();var K=k[j[$]];if(K.contains(H)){var Y=E[K._id];z.winding+=G=Y.winding,z.container=Y.exclude?Y.container:K;break}}if(I(z.winding)===I(G))z.exclude=!0,M[z.index]=null;else{var J=z.container;B.setClockwise(J?!J.isClockwise():x)}}}return M}function C(M,I,x){var B,z,G,S=I&&[],N=!1,O=x||[],F=x&&{};function j(Ce){return Ce._path._id+"."+Ce._segment1._index}for(var H=(x&&x.length)-1;H>=0;H--)($=x[H])._path&&(F[j($)]=!0);for(H=M.length-1;H>=0;H--){var $,he,K=M[H],Y=K._time,J=Y,oe=I&&!I(K);if(($=K._curve)&&($!==z?(N=!$.hasHandles()||F&&F[j($)],B=[],G=null,z=$):G>=1e-8&&(Y/=G)),oe)B&&B.push(K);else{if(I&&S.unshift(K),G=J,Y<1e-8)he=$._segment1;else if(Y>.99999999)he=$._segment2;else{var ge=$.divideAtTime(Y,!0);N&&O.push($,ge),he=ge._segment1;for(var _e=B.length-1;_e>=0;_e--){var le=B[_e];le._time=(le._time-Y)/(1-Y)}}K._setSegment(he);var ce=he._intersection,ue=K._intersection;if(ce){v(ce,ue);for(var ve=ce;ve;)v(ve._intersection,ce),ve=ve._next}else he._intersection=ue}}return x||b(O),S||M}function D(M,I,x,S,E){var ce,ue,k=Array.isArray(I)?I:I[x?"hor":"ver"],N=x?1:0,O=1^N,F=[M.x,M.y],B=F[N],z=F[O],j=1e-6,H=B-1e-9,$=B+1e-9,K=0,Y=0,J=0,oe=0,he=!1,ge=!1,_e=1,le=[];function ve(ut){var it=ut[O+0],Ye=ut[O+6];if(!(z<o(it,Ye)||z>i(it,Ye))){var kt=ut[N+0],Oe=ut[N+2],wn=ut[N+4],Pn=ut[N+6];if(it===Ye)return void((kt<$&&Pn>H||Pn<$&&kt>H)&&(he=!0));var ln=z===it?0:z===Ye||H>i(kt,Oe,wn,Pn)||$<o(kt,Oe,wn,Pn)?1:Re.solveCubic(ut,O,z,le,0,1)>0?le[0]:1,Ue=0===ln?kt:1===ln?Pn:Re.getPoint(ut,ln)[x?"y":"x"],Yt=it>Ye?1:-1,Wn=ce[N+6];return z!==it?(Ue<H?J+=Yt:Ue>$?oe+=Yt:he=!0,Ue>B-j&&Ue<B+j&&(_e/=2)):(Yt!==(ce[O]>ce[O+6]?1:-1)?kt<H?J+=Yt:kt>$&&(oe+=Yt):kt!=Wn&&(Wn<$&&Ue>$?(oe+=Yt,he=!0):Wn>H&&Ue<H&&(J+=Yt,he=!0)),_e/=4),ce=ut,!E&&Ue>H&&Ue<$&&0===Re.getTangent(ut,ln)[x?"x":"y"]&&D(M,I,!x,S,!0)}}function Ce(ut){var it=ut[O+0],Ye=ut[O+2],kt=ut[O+4],Oe=ut[O+6];if(z<=i(it,Ye,kt,Oe)&&z>=o(it,Ye,kt,Oe))for(var Cn,wn=ut[N+0],Pn=ut[N+2],ln=ut[N+4],Ue=ut[N+6],Yt=H>i(wn,Pn,ln,Ue)||$<o(wn,Pn,ln,Ue)?[ut]:Re.getMonoCurves(ut,x),Wn=0,_=Yt.length;Wn<_;Wn++)if(Cn=ve(Yt[Wn]))return Cn}for(var Ae=0,Pe=k.length;Ae<Pe;Ae++){var Pt,Fe=k[Ae],Be=Fe._path,We=Fe.getValues();if(!(Ae&&k[Ae-1]._path===Be||(ce=null,Be._closed||(ue=Re.getValues(Be.getLastCurve().getSegment2(),Fe.getSegment1(),null,!S),ue[O]!==ue[O+6]&&(ce=ue)),ce))){ce=We;for(var nt=Be.getLastCurve();nt&&nt!==Fe;){var Dt=nt.getValues();if(Dt[O]!==Dt[O+6]){ce=Dt;break}nt=nt.getPrevious()}}if(Pt=Ce(We))return Pt;if(Ae+1===Pe||k[Ae+1]._path!==Be){if(ue&&(Pt=Ce(ue)))return Pt;he&&!J&&!oe&&(J=oe=Be.isClockwise(S)^x?1:-1),K+=J,Y+=oe,J=oe=0,he&&(ge=!0,he=!1),ue=null}}return K=s(K),Y=s(Y),{winding:i(K,Y),windingL:K,windingR:Y,quality:_e,onPath:ge}}function R(M,I,x,S,E){var k=[],N=M,O=0;do{if(F=M.getCurve()){var B=F.getLength();k.push({segment:M,curve:F,length:B}),O+=B}M=M.getNext()}while(M&&!M._intersection&&M!==N);for(var z=[.5,.25,.75],G={winding:0,quality:-1},$=0;$<z.length&&G.quality<.5;$++){B=O*z[$];for(var K=0,Y=k.length;K<Y;K++){var J=k[K],oe=J.length;if(B<=oe){var F,he=(F=J.curve)._path,ge=he._parent,_e=ge instanceof gt?ge:he,le=ze.clamp(F.getTimeAt(B),.001,.999),ce=F.getPointAtTime(le),ue=s(F.getTangentAtTime(le).y)<Math.SQRT1_2,ve=null;if(E.subtract&&x){var Ae=(_e===I?x:I)._getWinding(ce,ue,!0);if(_e===I&&Ae.winding||_e===x&&!Ae.winding){if(Ae.quality<1)continue;ve={winding:0,quality:1}}}(ve=ve||D(ce,S[he._id][F.getIndex()],ue,!0)).quality>G.quality&&(G=ve);break}B-=oe}}for(K=k.length-1;K>=0;K--)k[K].segment._winding=G}function P(M,I){var S,x=[];function E(Pe){var Fe;return!(!Pe||Pe._visited||I&&(!I[(Fe=Pe._winding||{}).winding]||I.unite&&2===Fe.winding&&Fe.windingL&&Fe.windingR))}function k(Pe){if(Pe)for(var Fe=0,Be=S.length;Fe<Be;Fe++)if(Pe===S[Fe])return!0;return!1}function N(Pe){for(var Fe=Pe._segments,Be=0,We=Fe.length;Be<We;Be++)Fe[Be]._visited=!0}function O(Pe,Fe){var Be=Pe._intersection,We=Be,Pt=[];function nt(Dt,ut){for(;Dt&&Dt!==ut;){var it=Dt._segment,Ye=it&&it._path;if(Ye){var kt=it.getNext()||Ye.getFirstSegment(),Oe=kt._intersection;it!==Pe&&(k(it)||k(kt)||kt&&E(it)&&(E(kt)||Oe&&E(Oe._segment)))&&Pt.push(it),Fe&&S.push(it)}Dt=Dt._next}}if(Fe&&(S=[Pe]),Be){for(nt(Be);Be&&Be._previous;)Be=Be._previous;nt(Be,We)}return Pt}M.sort(function(Pe,Fe){var Be=Pe._intersection,We=Fe._intersection,Pt=!(!Be||!Be._overlap),Dt=Pe._path,ut=Fe._path;return Pt^!(!We||!We._overlap)?Pt?1:-1:!Be^!We?Be?1:-1:Dt!==ut?Dt._id-ut._id:Pe._index-Fe._index});for(var F=0,B=M.length;F<B;F++){var Y,J,oe,z=M[F],G=E(z),j=null,H=!1,$=!0,K=[];if(G&&z._path._overlapsOnly){var he=z._path,ge=z._intersection._segment._path;he.compare(ge)&&(he.getArea()&&x.push(he.clone(!1)),N(he),N(ge),G=!1)}for(;G;){var _e=!j,le=O(z,_e),ce=le.shift(),ue=!(H=!_e&&(k(z)||k(ce)))&&ce;if(_e&&(j=new at(tt.NO_INSERT),Y=null),H){(z.isFirst()||z.isLast())&&($=z._path._closed),z._visited=!0;break}if(ue&&Y&&(K.push(Y),Y=null),Y||(ue&&le.push(z),Y={start:j._segments.length,crossings:le,visited:J=[],handleIn:oe}),ue&&(z=ce),!E(z)){j.removeSegments(Y.start);for(var ve=0,Ce=J.length;ve<Ce;ve++)J[ve]._visited=!1;J.length=0;do{(!(z=Y&&Y.crossings.shift())||!z._path)&&(z=null,(Y=K.pop())&&(J=Y.visited,oe=Y.handleIn))}while(Y&&!E(z));if(!z)break}var Ae=z.getNext();j.add(new Ne(z._point,oe,Ae&&z._handleOut)),z._visited=!0,J.push(z),z=Ae||z._path.getFirstSegment(),oe=Ae&&Ae._handleIn}H&&($&&(j.getFirstSegment().setHandleIn(oe),j.setClosed($)),0!==j.getArea()&&x.push(j))}return x}return{_getWinding:function(M,I,x){return D(M,this.getCurves(),I,x)},unite:function(M,I){return g(this,M,"unite",I)},intersect:function(M,I){return g(this,M,"intersect",I)},subtract:function(M,I){return g(this,M,"subtract",I)},exclude:function(M,I){return g(this,M,"exclude",I)},divide:function(M,I){return I&&(0==I.trace||I.stroke)?m(this,M,"divide"):d([this.subtract(M,I),this.intersect(M,I)],!0,this,M,I)},resolveCrossings:function(){var M=this._children,I=M||[this];function x(Y,J){var oe=Y&&Y._intersection;return oe&&oe._overlap&&oe._path===J}var S=!1,E=!1,k=this.getIntersections(null,function(Y){return Y.hasOverlap()&&(S=!0)||Y.isCrossing()&&(E=!0)}),N=S&&E&&[];if(k=Te.expand(k),S)for(var O=C(k,function(Y){return Y.hasOverlap()},N),F=O.length-1;F>=0;F--){var B=O[F],z=B._path,G=B._segment,j=G.getPrevious(),H=G.getNext();x(j,z)&&x(H,z)&&(G.remove(),j._handleOut._set(0,0),H._handleIn._set(0,0),j!==G&&!j.getCurve().hasLength()&&(H._handleIn.set(j._handleIn),j.remove()))}E&&(C(k,S&&function(Y){var J=Y.getCurve(),oe=Y.getSegment(),he=Y._intersection,ge=he._curve,_e=he._segment;if(J&&ge&&J._path&&ge._path)return!0;oe&&(oe._intersection=null),_e&&(_e._intersection=null)},N),N&&b(N),I=P(ee.each(I,function(Y){ee.push(this,Y._segments)},[])));var K,$=I.length;return $>1&&M?(I!==M&&this.setChildren(I),K=this):1===$&&!M&&(I[0]!==this&&this.setSegments(I[0].removeSegments()),K=this),K||((K=new gt(tt.NO_INSERT)).addChildren(I),(K=K.reduce()).copyAttributes(this),this.replaceWith(K)),K},reorient:function(M,I){var x=this._children;return x&&x.length?this.setChildren(w(this.removeChildren(),function(S){return!!(M?S:1&S)},I)):I!==xe&&this.setClockwise(I),this},getInteriorPoint:function(){var I=this.getBounds().getCenter(!0);if(!this.contains(I)){for(var x=this.getCurves(),S=I.y,E=[],k=[],N=0,O=x.length;N<O;N++){var F=x[N].getValues(),B=F[1],z=F[3],G=F[5],j=F[7];if(S>=o(B,z,G,j)&&S<=i(B,z,G,j))for(var H=Re.getMonoCurves(F),$=0,K=H.length;$<K;$++){var Y=H[$],J=Y[1],oe=Y[7];if(J!==oe&&(S>=J&&S<=oe||S>=oe&&S<=J)){var he=S===J?Y[0]:S===oe?Y[6]:1===Re.solveCubic(Y,1,S,k,0,1)?Re.getPoint(Y,k[0]).x:(Y[0]+Y[6])/2;E.push(he)}}}E.length>1&&(E.sort(function(ge,_e){return ge-_e}),I.x=(E[0]+E[1])/2)}return I}}});var Jn=ee.extend({_class:"PathFlattener",initialize:function(o,i,s,a,l){var b,h=[],d=[],p=0,g=1/(s||32),m=o._segments,v=m[0];function w(P,M){var I=Re.getValues(P,M,l);h.push(I),C(I,P._index,0,1)}function C(P,M,I,x){if(!(x-I>g)||a&&Re.isStraight(P)||Re.isFlatEnough(P,i||.25)){var k=P[6]-P[0],N=P[7]-P[1],O=Math.sqrt(k*k+N*N);O>0&&d.push({offset:p+=O,curve:P,index:M,time:x})}else{var S=Re.subdivide(P,.5),E=(I+x)/2;C(S[0],M,I,E),C(S[1],M,E,x)}}for(var D=1,R=m.length;D<R;D++)w(v,b=m[D]),v=b;o._closed&&w(b||v,m[0]),this.curves=h,this.parts=d,this.length=p,this.index=0},_get:function(o){for(var l,i=this.parts,s=i.length,h=this.index;l=h,h&&!(i[--h].offset<o););for(;l<s;l++){var d=i[l];if(d.offset>=o){this.index=l;var p=i[l-1],g=p&&p.index===d.index?p.time:0,m=p?p.offset:0;return{index:d.index,time:g+(d.time-g)*(o-m)/(d.offset-m)}}}return{index:i[s-1].index,time:1}},drawPart:function(o,i,s){for(var a=this._get(i),l=this._get(s),h=a.index,d=l.index;h<=d;h++){var p=Re.getPart(this.curves[h],h===a.index?a.time:0,h===l.index?l.time:1);h===a.index&&o.moveTo(p[0],p[1]),o.bezierCurveTo.apply(o,p.slice(2))}}},ee.each(Re._evaluateMethods,function(o){this[o+"At"]=function(i){var s=this._get(i);return Re[o](this.curves[s.index],s.time)}},{})),dn=ee.extend({initialize:function(o){for(var h,i=this.points=[],s=o._segments,a=o._closed,l=0,d=s.length;l<d;l++){var p=s[l].point;(!h||!h.equals(p))&&i.push(h=p.clone())}a&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=a},fit:function(o){var i=this.points,s=i.length,a=null;return s>0&&(a=[new Ne(i[0])],s>1&&(this.fitCubic(a,o,0,s-1,i[1].subtract(i[0]),i[s-2].subtract(i[s-1])),this.closed&&(a.shift(),a.pop()))),a},fitCubic:function(o,i,s,a,l,h){var d=this.points;if(a-s!=1){for(var w,v=this.chordLengthParameterize(s,a),b=Math.max(i,i*i),C=!0,D=0;D<=4;D++){var R=this.generateBezier(s,a,v,l,h),P=this.findMaxError(s,a,R,v);if(P.error<i&&C)return void this.addCurve(o,R);if(w=P.index,P.error>=b)break;C=this.reparameterize(s,a,v,R),b=P.error}var M=d[w-1].subtract(d[w+1]);this.fitCubic(o,i,s,w,l,M),this.fitCubic(o,i,w,a,M.negate(),h)}else{var p=d[s],g=d[a],m=p.getDistance(g)/3;this.addCurve(o,[p,p.add(l.normalize(m)),g.add(h.normalize(m)),g])}},addCurve:function(o,i){o[o.length-1].setHandleOut(i[1].subtract(i[0])),o.push(new Ne(i[3],i[2].subtract(i[3])))},generateBezier:function(o,i,s,a,l){for(var h=1e-12,d=Math.abs,p=this.points,g=p[o],m=p[i],v=[[0,0],[0,0]],b=[0,0],w=0,C=i-o+1;w<C;w++){var D=s[w],R=1-D,P=3*D*R,M=R*R*R,I=P*R,x=P*D,S=D*D*D,E=a.normalize(I),k=l.normalize(x),N=p[o+w].subtract(g.multiply(M+I)).subtract(m.multiply(x+S));v[0][0]+=E.dot(E),v[0][1]+=E.dot(k),v[1][0]=v[0][1],v[1][1]+=k.dot(k),b[0]+=E.dot(N),b[1]+=k.dot(N)}var F,B,O=v[0][0]*v[1][1]-v[1][0]*v[0][1];if(d(O)>h)F=(b[0]*v[1][1]-b[1]*v[0][1])/O,B=(v[0][0]*b[1]-v[1][0]*b[0])/O;else{var j=v[0][0]+v[0][1],H=v[1][0]+v[1][1];F=B=d(j)>h?b[0]/j:d(H)>h?b[1]/H:0}var Y,J,$=m.getDistance(g),K=h*$;if(F<K||B<K)F=B=$/3;else{var oe=m.subtract(g);Y=a.normalize(F),J=l.normalize(B),Y.dot(oe)-J.dot(oe)>$*$&&(F=B=$/3,Y=J=null)}return[g,g.add(Y||a.normalize(F)),m.add(J||l.normalize(B)),m]},reparameterize:function(o,i,s,a){for(var l=o;l<=i;l++)s[l-o]=this.findRoot(a,this.points[l],s[l-o]);l=1;for(var h=s.length;l<h;l++)if(s[l]<=s[l-1])return!1;return!0},findRoot:function(o,i,s){for(var a=[],l=[],h=0;h<=2;h++)a[h]=o[h+1].subtract(o[h]).multiply(3);for(h=0;h<=1;h++)l[h]=a[h+1].subtract(a[h]).multiply(2);var d=this.evaluate(3,o,s),p=this.evaluate(2,a,s),g=this.evaluate(1,l,s),m=d.subtract(i),v=p.dot(p)+m.dot(g);return ze.isMachineZero(v)?s:s-m.dot(p)/v},evaluate:function(o,i,s){for(var a=i.slice(),l=1;l<=o;l++)for(var h=0;h<=o-l;h++)a[h]=a[h].multiply(1-s).add(a[h+1].multiply(s));return a[0]},chordLengthParameterize:function(o,i){for(var s=[0],a=o+1;a<=i;a++)s[a-o]=s[a-o-1]+this.points[a].getDistance(this.points[a-1]);a=1;for(var l=i-o;a<=l;a++)s[a]/=s[l];return s},findMaxError:function(o,i,s,a){for(var l=Math.floor((i-o+1)/2),h=0,d=o+1;d<i;d++){var g=this.evaluate(3,s,a[d-o]).subtract(this.points[d]),m=g.x*g.x+g.y*g.y;m>=h&&(h=m,l=d)}return{error:h,index:l}}}),Zt=tt.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(i){this._content="",this._lines=[];var s=i&&ee.isPlainObject(i)&&i.x===xe&&i.y===xe;this._initialize(s&&i,!s&&ae.read(arguments))},_equals:function(o){return this._content===o._content},copyContent:function(o){this.setContent(o._content)},getContent:function(){return this._content},setContent:function(o){this._content=""+o,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),gi=Zt.extend({_class:"PointText",initialize:function(){Zt.apply(this,arguments)},getPoint:function(){var o=this._matrix.getTranslation();return new ie(o.x,o.y,this,"setPoint")},setPoint:function(){var o=ae.read(arguments);this.translate(o.subtract(this._matrix.getTranslation()))},_draw:function(o,i,s){if(this._content){this._setStyles(o,i,s);var a=this._lines,l=this._style,h=l.hasFill(),d=l.hasStroke(),p=l.getLeading(),g=o.shadowColor;o.font=l.getFontStyle(),o.textAlign=l.getJustification();for(var m=0,v=a.length;m<v;m++){o.shadowColor=g;var b=a[m];h&&(o.fillText(b,0,0),o.shadowColor="rgba(0,0,0,0)"),d&&o.strokeText(b,0,0),o.translate(0,p)}}},_getBounds:function(o,i){var s=this._style,a=this._lines,l=a.length,h=s.getJustification(),d=s.getLeading(),p=this.getView().getTextWidth(s.getFontStyle(),a),g=0;"left"!==h&&(g-=p/("center"===h?2:1));var m=new W(g,l?-.75*d:0,p,l*d);return o?o._transformBounds(m,m):m}}),Je=ee.extend(new function(){var a,o={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},s={transparent:[0,0,0,0]},h=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],d={"rgb-hsb":function(p,g,m){var v=Math.max(p,g,m),w=v-Math.min(p,g,m);return[0===w?0:60*(v==p?(g-m)/w+(g<m?6:0):v==g?(m-p)/w+2:(p-g)/w+4),0===v?0:w/v,v]},"hsb-rgb":function(p,g,m){var b,v=(p=(p/60%6+6)%6)-(b=Math.floor(p)),w=[m,m*(1-g),m*(1-g*v),m*(1-g*(1-v))];return[w[(b=h[b])[0]],w[b[1]],w[b[2]]]},"rgb-hsl":function(p,g,m){var v=Math.max(p,g,m),b=Math.min(p,g,m),w=v-b,C=0===w,R=(v+b)/2;return[C?0:60*(v==p?(g-m)/w+(g<m?6:0):v==g?(m-p)/w+2:(p-g)/w+4),C?0:R<.5?w/(v+b):w/(2-v-b),R]},"hsl-rgb":function(p,g,m){if(0===g)return[m,m,m];for(var v=[(p=(p/360%1+1)%1)+1/3,p,p-1/3],b=m<.5?m*(1+g):m+g-m*g,w=2*m-b,C=[],D=0;D<3;D++){var R=v[D];R<0&&(R+=1),R>1&&(R-=1),C[D]=6*R<1?w+6*(b-w)*R:2*R<1?b:3*R<2?w+(b-w)*(2/3-R)*6:w}return C},"rgb-gray":function(p,g,m){return[.2989*p+.587*g+.114*m]},"gray-rgb":function(p){return[p,p,p]},"gray-hsb":function(p){return[0,0,p]},"gray-hsl":function(p){return[0,0,p]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return ee.each(o,function(p,g){i[g]=[],ee.each(p,function(m,v){var b=ee.capitalize(m),w=/^(hue|saturation)$/.test(m),C=i[g][v]="gradient"===g?"gradient"===m?function(D){var R=this._components[0];return R!==(D=Kt.read(Array.isArray(D)?D:arguments,0,{readNull:!0}))&&(R&&R._removeOwner(this),D&&D._addOwner(this)),D}:function(){return ae.read(arguments,0,{readNull:"highlight"===m,clone:!0})}:function(D){return null==D||isNaN(D)?0:+D};this["get"+b]=function(){return this._type===g||w&&/^hs[bl]$/.test(this._type)?this._components[v]:this._convert(g)[v]},this["set"+b]=function(D){this._type!==g&&!(w&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(g),this._properties=o[g],this._type=g),this._components[v]=C.call(this,D),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function p(g){var w,C,D,R,m=arguments,v=this.__read,b=0;Array.isArray(g)&&(g=(m=g)[0]);var P=null!=g&&typeof g;if("string"===P&&g in o&&(w=g,g=m[1],Array.isArray(g)?(C=g,D=m[2]):(v&&(b=1),m=ee.slice(m,1),P=typeof g)),!C){if(R="number"===P?m:"object"===P&&null!=g.length?g:null){w||(w=R.length>=3?"rgb":"gray");var M=o[w].length;D=R[M],v&&(b+=R===arguments?M+(null!=D?1:0):1),R.length>M&&(R=ee.slice(R,0,M))}else if("string"===P){var I=function l(p){var v,g=p.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||p.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),m="rgb";if(g){var b=g[4]?4:3;v=new Array(b);for(var w=0;w<b;w++){var C=g[w+1];v[w]=parseInt(1==C.length?C+C:C,16)/255}}else if(g=p.match(/^(rgb|hsl)a?\((.*)\)$/)){m=g[1],v=g[2].trim().split(/[,\s]+/g);for(var D="hsl"===m,R=(w=0,Math.min(v.length,4));w<R;w++){var P=v[w];if(C=parseFloat(P),D)if(0===w){var M=P.match(/([a-z]*)$/)[1];C*={turn:360,rad:180/Math.PI,grad:.9}[M]||1}else w<3&&(C/=100);else w<3&&(C/=/%$/.test(P)?100:255);v[w]=C}}else{var I=s[p];if(!I)if(De){a||((a=zt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),a.fillStyle="rgba(0,0,0,0)",a.fillStyle=p,a.fillRect(0,0,1,1);var x=a.getImageData(0,0,1,1).data;I=s[p]=[x[0]/255,x[1]/255,x[2]/255]}else I=[0,0,0];v=I.slice()}return[m,v]}(g);w=I[0],4===(C=I[1]).length&&(D=C[3],C.length--)}else if("object"===P)if(g.constructor===p){if(w=g._type,C=g._components.slice(),D=g._alpha,"gradient"===w)for(var x=1,S=C.length;x<S;x++){var E=C[x];E&&(C[x]=E.clone())}}else if(g.constructor===Kt)w="gradient",R=m;else{var k=o[w="hue"in g?"lightness"in g?"hsl":"hsb":"gradient"in g||"stops"in g||"radial"in g?"gradient":"gray"in g?"gray":"rgb"],N=i[w];for(this._components=C=[],x=0,S=k.length;x<S;x++)null==(O=g[k[x]])&&!x&&"gradient"===w&&"stops"in g&&(O={stops:g.stops,radial:g.radial}),null!=(O=N[x].call(this,O))&&(C[x]=O);D=g.alpha}v&&w&&(b=1)}if(this._type=w||"rgb",!C)for(this._components=C=[],x=0,S=(N=i[this._type]).length;x<S;x++){var O;null!=(O=N[x].call(this,R&&R[x]))&&(C[x]=O)}return this._components=C,this._properties=o[this._type],this._alpha=D,v&&(this.__read=b),this},set:"#initialize",_serialize:function(p,g){var m=this.getComponents();return ee.serialize(/^(gray|rgb)$/.test(this._type)?m:[this._type].concat(m),p,!0,g)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(p){var g;return this._type===p?this._components.slice():(g=d[this._type+"-"+p])?g.apply(this,this._components):d["rgb-"+p].apply(this,d[this._type+"-rgb"].apply(this,this._components))},convert:function(p){return new Je(p,this._convert(p),this._alpha)},getType:function(){return this._type},setType:function(p){this._components=this._convert(p),this._properties=o[p],this._type=p},getComponents:function(){var p=this._components.slice();return null!=this._alpha&&p.push(this._alpha),p},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(p){this._alpha=null==p?null:Math.min(Math.max(p,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(p){var g=ee.isPlainValue(p,!0)?Je.read(arguments):p;return g===this||g&&this._class===g._class&&this._type===g._type&&this.getAlpha()===g.getAlpha()&&ee.equals(this._components,g._components)||!1},toString:function(){for(var p=this._properties,g=[],m="gradient"===this._type,v=sn.instance,b=0,w=p.length;b<w;b++){var C=this._components[b];null!=C&&g.push(p[b]+": "+(m?C:v.number(C)))}return null!=this._alpha&&g.push("alpha: "+v.number(this._alpha)),"{ "+g.join(", ")+" }"},toCSS:function(p){var g=this._convert("rgb"),m=p||null==this._alpha?1:this._alpha;function v(b){return Math.round(255*(b<0?0:b>1?1:b))}return g=[v(g[0]),v(g[1]),v(g[2])],m<1&&g.push(m<0?0:m),p?"#"+((1<<24)+(g[0]<<16)+(g[1]<<8)+g[2]).toString(16).slice(1):(4==g.length?"rgba(":"rgb(")+g.join(",")+")"},toCanvasStyle:function(p,g){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var P,m=this._components,v=m[0],b=v._stops,w=m[1],C=m[2],D=m[3],R=g&&g.inverted();if(R&&(w=R._transformPoint(w),C=R._transformPoint(C),D&&(D=R._transformPoint(D))),v._radial){var M=C.getDistance(w);if(D){var I=D.subtract(w);I.getLength()>M&&(D=w.add(I.normalize(M-.1)))}var x=D||w;P=p.createRadialGradient(x.x,x.y,0,w.x,w.y,M)}else P=p.createLinearGradient(w.x,w.y,C.x,C.y);for(var S=0,E=b.length;S<E;S++){var k=b[S];P.addColorStop(k._offset??S/(E-1),k._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(p){if("gradient"===this._type){for(var g=this._components,m=1,v=g.length;m<v;m++){var b=g[m];p._transformPoint(b,b,!0)}this._changed()}},statics:{_types:o,random:function(){var p=Math.random;return new Je(p(),p(),p())},_setOwner:function(p,g,m){return p&&(p._owner&&g&&p._owner!==g&&(p=p.clone()),!p._owner^!g&&(p._owner=g||null,p._setter=m||null)),p}}})},new function(){return ee.each({add:function(i,s){return i+s},subtract:function(i,s){return i-s},multiply:function(i,s){return i*s},divide:function(i,s){return i/s}},function(i,s){this[s]=function(a){a=Je.read(arguments);for(var l=this._type,h=this._components,d=a._convert(l),p=0,g=h.length;p<g;p++)d[p]=i(h[p],d[p]);return new Je(l,d,null!=this._alpha?i(this._alpha,a.getAlpha()):null)}},{})}),Kt=ee.extend({_class:"Gradient",initialize:function(i,s){this._id=ot.get(),i&&ee.isPlainObject(i)&&(this.set(i),i=s=null),null==this._stops&&this.setStops(i||["white","black"]),null==this._radial&&this.setRadial("string"==typeof s&&"radial"===s||s||!1)},_serialize:function(o,i){return i.add(this,function(){return ee.serialize([this._stops,this._radial],o,!0,i)})},_changed:function(){for(var o=0,i=this._owners&&this._owners.length;o<i;o++)this._owners[o]._changed()},_addOwner:function(o){this._owners||(this._owners=[]),this._owners.push(o)},_removeOwner:function(o){var i=this._owners?this._owners.indexOf(o):-1;-1!=i&&(this._owners.splice(i,1),this._owners.length||(this._owners=xe))},clone:function(){for(var o=[],i=0,s=this._stops.length;i<s;i++)o[i]=this._stops[i].clone();return new Kt(o,this._radial)},getStops:function(){return this._stops},setStops:function(o){if(o.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var s=0,a=i.length;s<a;s++)i[s]._owner=xe;for(s=0,a=(i=this._stops=qi.readList(o,0,{clone:!0})).length;s<a;s++)i[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(o){this._radial=o,this._changed()},equals:function(o){if(o===this)return!0;if(o&&this._class===o._class){var i=this._stops,s=o._stops,a=i.length;if(a===s.length){for(var l=0;l<a;l++)if(!i[l].equals(s[l]))return!1;return!0}}return!1}}),qi=ee.extend({_class:"GradientStop",initialize:function(i,s){var a=i,l=s;"object"==typeof i&&s===xe&&(Array.isArray(i)&&"number"!=typeof i[0]?(a=i[0],l=i[1]):("color"in i||"offset"in i||"rampPoint"in i)&&(a=i.color,l=i.offset||i.rampPoint||0)),this.setColor(a),this.setOffset(l)},clone:function(){return new qi(this._color.clone(),this._offset)},_serialize:function(o,i){var s=this._color,a=this._offset;return ee.serialize(null==a?[s]:[s,a],o,!0,i)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(o){this._offset=o,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Je._setOwner(this._color,null),this._color=Je._setOwner(Je.read(arguments,0),this,"setColor"),this._changed()},equals:function(o){return o===this||o&&this._class===o._class&&this._color.equals(o._color)&&this._offset==o._offset||!1}}),ki=ee.extend(new function(){var o={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ae,selectedColor:null},i=ee.set({},o,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=ee.set({},i,{fillColor:new Je}),a={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},l={beans:!0},h={_class:"Style",beans:!0,initialize:function(p,g,m){this._values={},this._owner=g,this._project=g&&g._project||m||Le.project,this._defaults=!g||g instanceof Ze?i:g instanceof Zt?s:o,p&&this.set(p)}};return ee.each(i,function(d,p){var g=/Color$/.test(p),m="shadowOffset"===p,v=ee.capitalize(p),b=a[p],w="set"+v,C="get"+v;h[w]=function(D){var R=this._owner,P=R&&R._children,M=P&&P.length>0&&!(R instanceof gt);if(M)for(var I=0,x=P.length;I<x;I++)P[I]._style[w](D);if(("selectedColor"===p||!M)&&p in this._defaults){var S=this._values[p];S!==D&&(g&&(S&&(Je._setOwner(S,null),S._canvasStyle=null),D&&D.constructor===Je&&(D=Je._setOwner(D,R,M&&w))),this._values[p]=D,R&&R._changed(b||129))}},h[C]=function(D){var R=this._owner,P=R&&R._children,M=P&&P.length>0&&!(R instanceof gt);if(M&&!D)for(var x=0,S=P.length;x<S;x++){var E=P[x]._style[C]();if(x){if(!ee.equals(I,E))return xe}else I=E}else if(p in this._defaults){var I;if((I=this._values[p])===xe)(I=this._defaults[p])&&I.clone&&(I=I.clone());else{var k=g?Je:m?ae:null;k&&(!I||I.constructor!==k)&&(this._values[p]=I=k.read([I],0,{readNull:!0,clone:!0}))}}return I&&g&&(I=Je._setOwner(I,R,M&&w)),I},l[C]=function(D){return this._style[C](D)},l[w]=function(D){this._style[w](D)}}),ee.each({Font:"FontFamily",WindingRule:"FillRule"},function(d,p){var g="get"+p,m="set"+p;h[g]=l[g]="#get"+d,h[m]=l[m]="#set"+d}),tt.inject(l),h},{set:function(o){var i=o instanceof ki,s=i?o._values:o;if(s)for(var a in s)if(a in this._defaults){var l=s[a];this[a]=l&&i&&l.clone?l.clone():l}},equals:function(o){function i(s,a,l){var h=s._values,d=a._values,p=a._defaults;for(var g in h){var v=d[g];if(!(l&&g in d||ee.equals(h[g],v===xe?p[g]:v)))return!1}return!0}return o===this||o&&this._class===o._class&&i(this,o)&&i(o,this,!0)||!1},_dispose:function(){var o;(o=this.getFillColor())&&(o._canvasStyle=null),(o=this.getStrokeColor())&&(o._canvasStyle=null),(o=this.getShadowColor())&&(o._canvasStyle=null)},hasFill:function(){var o=this.getFillColor();return!!o&&o.alpha>0},hasStroke:function(){var o=this.getStrokeColor();return!!o&&o.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var o=this.getShadowColor();return!!o&&o.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var o=this.getFontSize();return this.getFontWeight()+" "+o+(/[a-z]/i.test(o+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function o(){var i=o.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),i??1.2*s}}),Jt=new function(){function o(i,s,a,l){for(var h=["","webkit","moz","Moz","ms","o"],d=s[0].toUpperCase()+s.substring(1),p=0;p<6;p++){var g=h[p],m=g?g+d:s;if(m in i){if(!a)return i[m];i[m]=l;break}}}return{getStyles:function(i){var s=i&&9!==i.nodeType?i.ownerDocument:i,a=s&&s.defaultView;return a&&a.getComputedStyle(i,"")},getBounds:function(i,s){var d,a=i.ownerDocument,l=a.body,h=a.documentElement;try{d=i.getBoundingClientRect()}catch{d={left:0,top:0,width:0,height:0}}var p=d.left-(h.clientLeft||l.clientLeft||0),g=d.top-(h.clientTop||l.clientTop||0);if(!s){var m=a.defaultView;p+=m.pageXOffset||h.scrollLeft||l.scrollLeft,g+=m.pageYOffset||h.scrollTop||l.scrollTop}return new W(p,g,d.width,d.height)},getViewportBounds:function(i){var s=i.ownerDocument,a=s.defaultView,l=s.documentElement;return new W(0,0,a.innerWidth||l.clientWidth,a.innerHeight||l.clientHeight)},getOffset:function(i,s){return Jt.getBounds(i,s).getPoint()},getSize:function(i){return Jt.getBounds(i,!0).getSize()},isInvisible:function(i){return Jt.getSize(i).equals(new je(0,0))},isInView:function(i){return!Jt.isInvisible(i)&&Jt.getViewportBounds(i).intersects(Jt.getBounds(i,!0))},isInserted:function(i){return Ct.body.contains(i)},getPrefixed:function(i,s){return i&&o(i,s)},setPrefixed:function(i,s,a){if("object"==typeof s)for(var l in s)o(i,l,!0,s[l]);else o(i,s,!0,a)}}},bt={add:function(o,i){if(o)for(var s in i)for(var a=i[s],l=s.split(/[\s,]+/g),h=0,d=l.length;h<d;h++){var p=l[h];o.addEventListener(p,a,o===Ct&&("touchstart"===p||"touchmove"===p)&&{passive:!1})}},remove:function(o,i){if(o)for(var s in i)for(var a=i[s],l=s.split(/[\s,]+/g),h=0,d=l.length;h<d;h++)o.removeEventListener(l[h],a,!1)},getPoint:function(o){var i=o.targetTouches?o.targetTouches.length?o.targetTouches[0]:o.changedTouches[0]:o;return new ae(i.pageX||i.clientX+Ct.documentElement.scrollLeft,i.pageY||i.clientY+Ct.documentElement.scrollTop)},getTarget:function(o){return o.target||o.srcElement},getRelatedTarget:function(o){return o.relatedTarget||o.toElement},getOffset:function(o,i){return bt.getPoint(o).subtract(Jt.getOffset(i||bt.getTarget(o)))}};bt.requestAnimationFrame=new function(){var a,o=Jt.getPrefixed(De,"requestAnimationFrame"),i=!1,s=[];function l(){var h=s;s=[];for(var d=0,p=h.length;d<p;d++)h[d]();(i=o&&s.length)&&o(l)}return function(h){s.push(h),o?i||(o(l),i=!0):a||(a=setInterval(l,16.666666666666668))}};var yt=ee.extend(ne,{_class:"View",initialize:function o(i,s){function a(b){return s[b]||parseInt(s.getAttribute(b),10)}function l(){var b=Jt.getSize(s);return b.isNaN()||b.isZero()?new je(a("width"),a("height")):b}var h;if(De&&s){this._id=s.getAttribute("id"),null==this._id&&s.setAttribute("id",this._id="paper-view-"+o._id++),bt.add(s,this._viewEvents);var d="none";if(Jt.setPrefixed(s.style,{userDrag:d,userSelect:d,touchCallout:d,contentZooming:d,tapHighlightColor:"rgba(0,0,0,0)"}),Gn.hasAttribute(s,"resize")){var p=this;bt.add(De,this._windowEvents={resize:function(){p.setViewSize(l())}})}if(h=l(),Gn.hasAttribute(s,"stats")&&typeof Stats<"u"){this._stats=new Stats;var g=this._stats.domElement,m=g.style,v=Jt.getOffset(s);m.position="absolute",m.left=v.x+"px",m.top=v.y+"px",Ct.body.appendChild(g)}}else h=new je(s),s=null;this._project=i,this._scope=i._scope,this._element=s,this._pixelRatio||(this._pixelRatio=De&&De.devicePixelRatio||1),this._setElementSize(h.width,h.height),this._viewSize=h,o._views.push(this),o._viewsById[this._id]=this,(this._matrix=new Vt)._owner=this,o._focused||(o._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Le.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;yt._focused===this&&(yt._focused=null),yt._views.splice(yt._views.indexOf(this),1),delete yt._viewsById[this._id];var o=this._project;return o._view===this&&(o._view=null),bt.remove(this._element,this._viewEvents),bt.remove(De,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:ee.each(tt._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(o){this[o]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(o){this._autoUpdate=o,o&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var o=this;bt.requestAnimationFrame(function(){if(o._requested=!1,o._animate){o.requestUpdate();var i=o._element;(!Jt.getPrefixed(Ct,"hidden")||"true"===Gn.getAttribute(i,"keepalive"))&&Jt.isInView(i)&&o._handleFrame()}o._autoUpdate&&o.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Le=this._scope;var o=Date.now()/1e3,i=this._last?o-this._last:0;this._last=o,this.emit("frame",new ee({delta:i,time:this._time+=i,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(o,i){var s=this._frameItems;i?(s[o._id]={item:o,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete s[o._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(o){for(var i in this._frameItems){var s=this._frameItems[i];s.item.emit("frame",new ee(o,{time:s.time+=o.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=xe},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var o=this._viewSize;return new Ee(o.width,o.height,this,"setViewSize")},setViewSize:function(){var o=je.read(arguments),i=o.subtract(this._viewSize);i.isZero()||(this._setElementSize(o.width,o.height),this._viewSize.set(o),this._changed(),this.emit("resize",{size:o,delta:i}),this._autoUpdate&&this.update())},_setElementSize:function(o,i){var s=this._element;s&&(s.width!==o&&(s.width=o),s.height!==i&&(s.height=i))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new W(new ae,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Jt.isInView(this._element)},isInserted:function(){return Jt.isInserted(this._element)},getPixelSize:function(o){var s,i=this._element;if(i){var a=i.parentNode,l=Ct.createElement("div");l.style.fontSize=o,a.appendChild(l),s=parseFloat(Jt.getStyles(l).fontSize),a.removeChild(l)}else s=parseFloat(s);return s},getTextWidth:function(o,i){return 0}},ee.each(["rotate","scale","shear","skew"],function(o){var i="rotate"===o;this[o]=function(){var s=arguments,a=(i?ee:ae).read(s),l=ae.read(s,0,{readNull:!0});return this.transform((new Vt)[o](a,l||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var o=new Vt;return this.transform(o.translate.apply(o,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var o=ae.read(arguments);this.translate(this.getCenter().subtract(o))},getZoom:function(){var o=this._decompose().scaling;return(o.x+o.y)/2},setZoom:function(o){this.transform((new Vt).scale(o/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(o){var i=this.getRotation();null!=i&&null!=o&&this.rotate(o-i)},getScaling:function(){var o=this._decompose().scaling;return new ie(o.x,o.y,this,"setScaling")},setScaling:function(){var o=this.getScaling(),i=ae.read(arguments,0,{clone:!0,readNull:!0});o&&i&&this.scale(i.x/o.x,i.y/o.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var o=this._matrix;o.set.apply(o,arguments)},transform:function(o){this._matrix.append(o)},scrollBy:function(){this.translate(ae.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ae.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ae.read(arguments))},getEventPoint:function(o){return this.viewToProject(bt.getOffset(o,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(o,i){return Ct&&"string"==typeof i&&(i=Ct.getElementById(i)),new(De?nn:yt)(o,i)}}},new function(){if(De){var o,i,g,m,v,s=!1,a=!1,p=De.navigator;p.pointerEnabled||p.msPointerEnabled?(g="pointerdown MSPointerDown",m="pointermove MSPointerMove",v="pointerup pointercancel MSPointerUp MSPointerCancel"):(g="touchstart",m="touchmove",v="touchend touchcancel","ontouchstart"in De&&p.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(g+=" mousedown",m+=" mousemove",v+=" mouseup"));var b={},w={mouseout:function(j){var H=yt._focused,$=bt.getRelatedTarget(j);if(H&&(!$||"HTML"===$.nodeName)){var K=bt.getOffset(j,H._element),Y=K.x,J=Math.abs,oe=J(Y),ge=oe-(1<<25);K.x=J(ge)<oe?ge*(Y<0?-1:1):Y,d(H,j,H.viewToProject(K))}},scroll:h};b[g]=function(j){var H=yt._focused=l(j);s||(s=!0,H._handleMouseEvent("mousedown",j))},w[m]=function(j){var H=yt._focused;if(!a){var $=l(j);$?H!==$&&(H&&d(H,j),o||(o=H),H=yt._focused=i=$):i&&i===H&&(o&&!o.isInserted()&&(o=null),H=yt._focused=o,o=null,h())}H&&d(H,j)},w[g]=function(){a=!0},w[v]=function(j){var H=yt._focused;H&&s&&H._handleMouseEvent("mouseup",j),a=s=!1},bt.add(Ct,w),bt.add(De,{load:h});var I,x,S,E,k,N,O,F,C=!1,D=!1,R={doubleclick:"click",mousedrag:"mousemove"},P=!1,G={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:b,_handleMouseEvent:function(j,H,$){var K=this._itemEvents,Y=K.native[j],J="mousemove"===j,oe=this._scope.tool,he=this;function ge(Ae){return K.virtual[Ae]||he.responds(Ae)||oe&&oe.responds(Ae)}J&&s&&ge("mousedrag")&&(j="mousedrag"),$||($=this.getEventPoint(H));var _e=this.getBounds().contains($),le=Y&&_e&&he._project.hitTest($,{tolerance:0,fill:!0,stroke:!0}),ce=le&&le.item||null,ue=!1,ve={};if(ve[j.substr(5)]=!0,Y&&ce!==E&&(E&&B(E,null,"mouseleave",H,$),ce&&B(ce,null,"mouseenter",H,$),E=ce),P^_e&&(B(this,null,_e?"mouseenter":"mouseleave",H,$),ue=!0),(_e||ve.drag)&&!$.equals(x)&&(z(this,ce,J?j:"mousemove",H,$,x),ue=!0),P=_e,ve.down&&_e||ve.up&&I){if(z(this,ce,j,H,$,I),ve.down){if(F=ce===N&&Date.now()-O<300,S=N=ce,!D&&ce){for(var Ce=ce;Ce&&!Ce.responds("mousedrag");)Ce=Ce._parent;Ce&&(k=ce)}I=$}else ve.up&&(!D&&ce===S&&(O=Date.now(),z(this,ce,F?"doubleclick":"click",H,$,I),F=!1),S=k=null);P=!1,ue=!0}x=$,ue&&oe&&(C=oe._handleMouseEvent(j,H,$,ve)||C),!1!==H.cancelable&&(C&&!ve.move||ve.down&&ge("mouseup"))&&H.preventDefault()},_handleKeyEvent:function(j,H,$,K){var oe,Y=this._scope,J=Y.tool;function he(ge){ge.responds(j)&&(Le=Y,ge.emit(j,oe=oe||new Gi(j,H,$,K)))}this.isVisible()&&(he(this),J&&J.responds(j)&&he(J))},_countItemEvent:function(j,H){var $=this._itemEvents,K=$.native,Y=$.virtual;for(var J in G)K[J]=(K[J]||0)+(G[J][j]||0)*H;Y[j]=(Y[j]||0)+H},statics:{updateFocus:h,_resetState:function(){s=a=C=P=!1,o=i=I=x=S=E=k=N=O=F=null}}}}function l(j){var H=bt.getTarget(j);return H.getAttribute&&yt._viewsById[H.getAttribute("id")]}function h(){var j=yt._focused;if(!j||!j.isVisible())for(var H=0,$=yt._views.length;H<$;H++)if((j=yt._views[H]).isVisible()){yt._focused=i=j;break}}function d(j,H,$){j._handleMouseEvent("mousemove",H,$)}function B(j,H,$,K,Y,J,oe){var ge,he=!1;function _e(le,ce){if(le.responds(ce)){if(ge||(ge=new _i(ce,K,Y,H||le,J?Y.subtract(J):null)),le.emit(ce,ge)&&(C=!0,ge.prevented&&(D=!0),ge.stopped))return he=!0}else{var ue=R[ce];if(ue)return _e(le,ue)}}for(;j&&j!==oe&&!_e(j,$);)j=j._parent;return he}function z(j,H,$,K,Y,J){return j._project.removeOn($),D=C=!1,k&&B(k,null,$,K,Y,J)||H&&H!==k&&!H.isDescendant(k)&&B(H,null,"mousedrag"===$?"mousemove":$,K,Y,J,k)||B(j,k||H||j,$,K,Y,J)}}),nn=yt.extend({_class:"CanvasView",initialize:function(i,s){if(!(s instanceof De.HTMLCanvasElement)){var a=je.read(arguments,1);if(a.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+ee.slice(arguments,1));s=zt.getCanvas(a)}var l=this._context=s.getContext("2d");if(l.save(),this._pixelRatio=1,!/^off|false$/.test(Gn.getAttribute(s,"hidpi"))){var h=De.devicePixelRatio||1,d=Jt.getPrefixed(l,"backingStorePixelRatio")||1;this._pixelRatio=h/d}yt.call(this,i,s),this._needsUpdate=!0},remove:function o(){return this._context.restore(),o.base.call(this)},_setElementSize:function o(i,s){var a=this._pixelRatio;if(o.base.call(this,i*a,s*a),1!==a){var l=this._element,h=this._context;if(!Gn.hasAttribute(l,"resize")){var d=l.style;d.width=i+"px",d.height=s+"px"}h.restore(),h.save(),h.scale(a,a)}},getContext:function(){return this._context},getPixelSize:function o(i){var a,s=Le.agent;if(s&&s.firefox)a=o.base.call(this,i);else{var l=this._context,h=l.font;l.font=i+" serif",a=parseFloat(l.font),l.font=h}return a},getTextWidth:function(o,i){var s=this._context,a=s.font,l=0;s.font=o;for(var h=0,d=i.length;h<d;h++)l=Math.max(l,s.measureText(i[h]).width);return s.font=a,l},update:function(){if(!this._needsUpdate)return!1;var o=this._project,i=this._context,s=this._viewSize;return i.clearRect(0,0,s.width+1,s.height+1),o&&o.draw(i,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ir=ee.extend({_class:"Event",initialize:function(i){this.event=i,this.type=i&&i.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Nr.modifiers}}),Gi=ir.extend({_class:"KeyEvent",initialize:function(i,s,a,l){this.type=i,this.event=s,this.key=a,this.character=l},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Nr=new function(){var l,h,o={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},s={},a={},d=new ee({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var m=Le&&Le.agent;return m&&m.mac?this.meta:this.control}}});function p(m){var v=m.key||m.keyIdentifier;return v=/^U\+/.test(v)?String.fromCharCode(parseInt(v.substr(2),16)):/^Arrow[A-Z]/.test(v)?v.substr(5):"Unidentified"===v||v===xe?String.fromCharCode(m.keyCode):v,o[v]||(v.length>1?ee.hyphenate(v):v.toLowerCase())}function g(m,v,b,w){var R,D=yt._focused;if(s[v]=m,m?a[v]=b:delete a[v],v.length>1&&(R=ee.camelize(v))in d){d[R]=m;var P=Le&&Le.agent;if("meta"===R&&P&&P.mac)if(m)l={};else{for(var M in l)M in a&&g(!1,M,l[M],w);l=null}}else m&&l&&(l[v]=b);D&&D._handleKeyEvent(m?"keydown":"keyup",w,v,b)}return bt.add(Ct,{keydown:function(m){var v=p(m),b=Le&&Le.agent;v.length>1||b&&b.chrome&&(m.altKey||b.mac&&m.metaKey||!b.mac&&m.ctrlKey)?g(!0,v,i[v]||(v.length>1?"":v),m):h=v},keypress:function(m){if(h){var v=p(m),b=m.charCode,w=b>=32?String.fromCharCode(b):v.length>1?"":v;v!==h&&(v=w.toLowerCase()),g(!0,v,w,m),h=null}},keyup:function(m){var v=p(m);v in a&&g(!1,v,a[v],m)}}),bt.add(De,{blur:function(m){for(var v in a)g(!1,v,a[v],m)}}),{modifiers:d,isDown:function(m){return!!s[m]}}},_i=ir.extend({_class:"MouseEvent",initialize:function(i,s,a,l,h){this.type=i,this.event=s,this.point=a,this.target=l,this.delta=h},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),es=ir.extend({_class:"ToolEvent",_item:null,initialize:function(i,s,a){this.tool=i,this.type=s,this.event=a},_choosePoint:function(o,i){return o||(i?i.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(o){this._point=o},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(o){this._lastPoint=o},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(o){this._downPoint=o},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(o){this._middlePoint=o},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(o){this._delta=o},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(o){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=o},getItem:function(){if(!this._item){var o=this.tool._scope.project.hitTest(this.getPoint());if(o){for(var i=o.item,s=i._parent;/^(Group|CompoundPath)$/.test(s._class);)i=s,s=s._parent;this._item=i}}return this._item},setItem:function(o){this._item=o},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Lr=(yn.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(i){yn.call(this),this._moveCount=-1,this._downCount=-1,this.set(i)},getMinDistance:function(){return this._minDistance},setMinDistance:function(o){this._minDistance=o,null!=o&&null!=this._maxDistance&&o>this._maxDistance&&(this._maxDistance=o)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(o){this._maxDistance=o,null!=this._minDistance&&null!=o&&o<this._minDistance&&(this._minDistance=o)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(o){this._minDistance=this._maxDistance=o},_handleMouseEvent:function(o,i,s,a){Le=this._scope,a.drag&&!this.responds(o)&&(o="mousemove");var l=a.move||a.drag,h=this.responds(o),d=this.minDistance,p=this.maxDistance,g=!1,m=this;function v(w,C){var D=s,R=l?m._point:m._downPoint||D;if(l){if(m._moveCount>=0&&D.equals(R))return!1;if(R&&(null!=w||null!=C)){var P=D.subtract(R),M=P.getLength();if(M<(w||0))return!1;C&&(D=R.add(P.normalize(Math.min(M,C))))}m._moveCount++}return m._point=D,m._lastPoint=R||D,a.down&&(m._moveCount=-1,m._downPoint=D,m._downCount++),!0}function b(){h&&(g=m.emit(o,new es(m,o,i))||g)}if(a.down)v(),b();else if(a.up)v(null,p),b();else if(h)for(;v(d,p);)b();return g}}),ee.extend(ne,{_class:"Tween",statics:{easings:new ee({linear:function(o){return o},easeInQuad:function(o){return o*o},easeOutQuad:function(o){return o*(2-o)},easeInOutQuad:function(o){return o<.5?2*o*o:2*(2-o)*o-1},easeInCubic:function(o){return o*o*o},easeOutCubic:function(o){return--o*o*o+1},easeInOutCubic:function(o){return o<.5?4*o*o*o:(o-1)*(2*o-2)*(2*o-2)+1},easeInQuart:function(o){return o*o*o*o},easeOutQuart:function(o){return 1- --o*o*o*o},easeInOutQuart:function(o){return o<.5?8*o*o*o*o:1-8*--o*o*o*o},easeInQuint:function(o){return o*o*o*o*o},easeOutQuint:function(o){return 1+--o*o*o*o*o},easeInOutQuint:function(o){return o<.5?16*o*o*o*o*o:1+16*--o*o*o*o*o}})},initialize:function o(i,s,a,l,h,d){this.object=i;var p=typeof h,g="function"===p;this.type=g?p:"string"===p?h:"linear",this.easing=g?h:o.easings[this.type],this.duration=l,this.running=!1,this._then=null,this._startTime=null;var m=s||a;this._keys=m?Object.keys(m):[],this._parsedKeys=this._parseKeys(this._keys),this._from=m&&this._getState(s),this._to=m&&this._getState(a),!1!==d&&this.start()},then:function(o){return this._then=o,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(o){if(this.running){o>=1&&(o=1,this.running=!1);for(var i=this.easing(o),s=this._keys,a=function(v){return"function"==typeof v?v(i,o):v},l=0,h=s&&s.length;l<h;l++){var d=s[l],p=a(this._from[d]),g=a(this._to[d]),m=p&&g&&p.__add&&g.__add?g.__subtract(p).__multiply(i).__add(p):(g-p)*i+p;this._setProperty(this._parsedKeys[d],m)}this.responds("update")&&this.emit("update",new ee({progress:o,factor:i})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(o){var i=this._startTime,s=i?(o-i)/this.duration:0;i||(this._startTime=o),this.update(s)},_getState:function(o){for(var i=this._keys,s={},a=0,l=i.length;a<l;a++){var g,h=i[a],d=this._parsedKeys[h],p=this._getProperty(d);if(o){var m=this._resolveValue(p,o[h]);this._setProperty(d,m),g=(g=this._getProperty(d))&&g.clone?g.clone():g,this._setProperty(d,p)}else g=p&&p.clone?p.clone():p;s[h]=g}return s},_resolveValue:function(o,i){if(i){if(Array.isArray(i)&&2===i.length){var s=i[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(o,s[0],i[1]):i}if("string"==typeof i){var a=i.match(/^[+\-*/]=(.*)/);if(a){var l=JSON.parse(a[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(o,i[0],l)}}}return i},_calculate:function(o,i,s){return Le.PaperScript.calculateBinary(o,i,s)},_parseKeys:function(o){for(var i={},s=0,a=o.length;s<a;s++){var l=o[s],h=l.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");i[l]=h.split("/")}return i},_getProperty:function(o,i){for(var s=this.object,a=0,l=o.length-(i||0);a<l&&s;a++)s=s[o[a]];return s},_setProperty:function(o,i){var s=this._getProperty(o,1);s&&(s[o[o.length-1]]=i)}})),an={request:function(o){var i=new ri.XMLHttpRequest;return i.open((o.method||"get").toUpperCase(),o.url,ee.pick(o.async,!0)),o.mimeType&&i.overrideMimeType(o.mimeType),i.onload=function(){var s=i.status;0===s||200===s?o.onLoad&&o.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var s=i.status,a='Could not load "'+o.url+'" (Status: '+s+")";if(!o.onError)throw new Error(a);o.onError(a,s)},i.send(null)}},zt=ee.exports.CanvasProvider={canvases:[],getCanvas:function(o,i,s){if(!De)return null;var a,l=!0;"object"==typeof o&&(i=o.height,o=o.width),this.canvases.length?a=this.canvases.pop():(a=Ct.createElement("canvas"),l=!1);var h=a.getContext("2d",s||{});if(!h)throw new Error("Canvas "+a+" is unable to provide a 2D context.");return a.width===o&&a.height===i?l&&h.clearRect(0,0,o+1,i+1):(a.width=o,a.height=i),h.save(),a},getContext:function(o,i,s){var a=this.getCanvas(o,i,s);return a?a.getContext("2d",s||{}):null},release:function(o){var i=o&&o.canvas?o.canvas:o;i&&i.getContext&&(i.getContext("2d").restore(),this.canvases.push(i))}},Mt=new function(){var a,l,h,d,p,g,m,v,b,w,C,o=Math.min,i=Math.max,s=Math.abs;function D(E,k,N){return.2989*E+.587*k+.114*N}function R(E,k,N,B){var F=B-D(E,k,N),z=(B=D(b=E+F,w=k+F,C=N+F),o(b,w,C)),G=i(b,w,C);if(z<0){var j=B-z;b=B+(b-B)*B/j,w=B+(w-B)*B/j,C=B+(C-B)*B/j}if(G>255){var H=255-B,$=G-B;b=B+(b-B)*H/$,w=B+(w-B)*H/$,C=B+(C-B)*H/$}}function P(E,k,N){return i(E,k,N)-o(E,k,N)}function M(E,k,N,O){var G,F=[E,k,N],B=i(E,k,N),z=o(E,k,N);G=0===o(z=z===E?0:z===k?1:2,B=B===E?0:B===k?1:2)?1===i(z,B)?2:1:0,F[B]>F[z]?(F[G]=(F[G]-F[z])*O/(F[B]-F[z]),F[B]=O):F[G]=F[B]=0,F[z]=0,b=F[0],w=F[1],C=F[2]}var I={multiply:function(){b=p*a/255,w=g*l/255,C=m*h/255},screen:function(){b=p+a-p*a/255,w=g+l-g*l/255,C=m+h-m*h/255},overlay:function(){b=p<128?2*p*a/255:255-2*(255-p)*(255-a)/255,w=g<128?2*g*l/255:255-2*(255-g)*(255-l)/255,C=m<128?2*m*h/255:255-2*(255-m)*(255-h)/255},"soft-light":function(){var E=a*p/255;b=E+p*(255-(255-p)*(255-a)/255-E)/255,w=(E=l*g/255)+g*(255-(255-g)*(255-l)/255-E)/255,C=(E=h*m/255)+m*(255-(255-m)*(255-h)/255-E)/255},"hard-light":function(){b=a<128?2*a*p/255:255-2*(255-a)*(255-p)/255,w=l<128?2*l*g/255:255-2*(255-l)*(255-g)/255,C=h<128?2*h*m/255:255-2*(255-h)*(255-m)/255},"color-dodge":function(){b=0===p?0:255===a?255:o(255,255*p/(255-a)),w=0===g?0:255===l?255:o(255,255*g/(255-l)),C=0===m?0:255===h?255:o(255,255*m/(255-h))},"color-burn":function(){b=255===p?255:0===a?0:i(0,255-255*(255-p)/a),w=255===g?255:0===l?0:i(0,255-255*(255-g)/l),C=255===m?255:0===h?0:i(0,255-255*(255-m)/h)},darken:function(){b=p<a?p:a,w=g<l?g:l,C=m<h?m:h},lighten:function(){b=p>a?p:a,w=g>l?g:l,C=m>h?m:h},difference:function(){(b=p-a)<0&&(b=-b),(w=g-l)<0&&(w=-w),(C=m-h)<0&&(C=-C)},exclusion:function(){b=p+a*(255-p-p)/255,w=g+l*(255-g-g)/255,C=m+h*(255-m-m)/255},hue:function(){M(a,l,h,P(p,g,m)),R(b,w,C,D(p,g,m))},saturation:function(){M(p,g,m,P(a,l,h)),R(b,w,C,D(p,g,m))},luminosity:function(){R(p,g,m,D(a,l,h))},color:function(){R(a,l,h,D(p,g,m))},add:function(){b=o(p+a,255),w=o(g+l,255),C=o(m+h,255)},subtract:function(){b=i(p-a,0),w=i(g-l,0),C=i(m-h,0)},average:function(){b=(p+a)/2,w=(g+l)/2,C=(m+h)/2},negation:function(){b=255-s(255-a-p),w=255-s(255-l-g),C=255-s(255-h-m)}},x=this.nativeModes=ee.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(E){this[E]=!0},{}),S=zt.getContext(1,1,{willReadFrequently:!0});S&&(ee.each(I,function(E,k){var N="darken"===k,O=!1;S.save();try{S.fillStyle=N?"#300":"#a00",S.fillRect(0,0,1,1),S.globalCompositeOperation=k,S.globalCompositeOperation===k&&(S.fillStyle=N?"#a00":"#300",S.fillRect(0,0,1,1),O=S.getImageData(0,0,1,1).data[0]!==N?170:51)}catch{}S.restore(),x[k]=O}),zt.release(S)),this.process=function(E,k,N,O,F){var B=k.canvas,z="normal"===E;if(z||x[E])N.save(),N.setTransform(1,0,0,1,0,0),N.globalAlpha=O,z||(N.globalCompositeOperation=E),N.drawImage(B,F.x,F.y),N.restore();else{var G=I[E];if(!G)return;for(var j=N.getImageData(F.x,F.y,B.width,B.height),H=j.data,$=k.getImageData(0,0,B.width,B.height).data,K=0,Y=H.length;K<Y;K+=4){a=$[K],p=H[K],l=$[K+1],g=H[K+1],h=$[K+2],m=H[K+2],d=$[K+3],v=H[K+3],G();var J=d*O/255,oe=1-J;H[K]=J*b+oe*p,H[K+1]=J*w+oe*g,H[K+2]=J*C+oe*m,H[K+3]=d*O+oe*v}N.putImageData(j,F.x,F.y)}}},rn=new function(){var o="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",a={href:s,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};function d(p,g,m){for(var v in g){var b=g[v],w=a[v];"number"==typeof b&&m&&(b=m.number(b)),w?p.setAttributeNS(w,v,b):p.setAttribute(v,b)}return p}return{svg:o,xmlns:i,xlink:s,create:function l(p,g,m){return d(Ct.createElementNS(o,p),g,m)},get:function h(p,g){var m=a[g],v=m?p.getAttributeNS(m,g):p.getAttribute(g);return"null"===v?null:v},set:d}},en=ee.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(o,i){return!i&&(o instanceof In||o instanceof xn||o instanceof Zt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(o,i){var s=ee.capitalize(i),a=o[2];this[i]={type:o[1],property:i,attribute:o[0],toSVG:a,fromSVG:a&&ee.each(a,function(l,h){this[l]=h},{}),exportFilter:o[3],get:"get"+s,set:"set"+s}},{});new function(){var o;function i(I,x,S){var N,E=new ee,k=I.getTranslation();if(x&&(I.isInvertible()?(N=(I=I._shiftless())._inverseTransform(k),k=null):N=new ae,E[S?"cx":"x"]=N.x,E[S?"cy":"y"]=N.y),!I.isIdentity()){var O=I.decompose();if(O){var F=[],B=O.rotation,z=O.scaling,G=O.skewing;k&&!k.isZero()&&F.push("translate("+o.point(k)+")"),B&&F.push("rotate("+o.number(B)+")"),(!ze.isZero(z.x-1)||!ze.isZero(z.y-1))&&F.push("scale("+o.point(z)+")"),G.x&&F.push("skewX("+o.number(G.x)+")"),G.y&&F.push("skewY("+o.number(G.y)+")"),E.transform=F.join(" ")}else E.transform="matrix("+I.getValues().join(",")+")"}return E}function s(I,x){for(var S=i(I._matrix),E=I._children,k=rn.create("g",S,o),N=0,O=E.length;N<O;N++){var F=E[N],B=P(F,x);if(B)if(F.isClipMask()){var z=rn.create("clipPath");z.appendChild(B),D(F,z,"clip"),rn.set(k,{"clip-path":"url(#"+z.id+")"})}else k.appendChild(B)}return k}function h(I){var x=I._type,S=I._radius,E=i(I._matrix,!0,"rectangle"!==x);if("rectangle"===x){x="rect";var k=I._size,N=k.width,O=k.height;E.x-=N/2,E.y-=O/2,E.width=N,E.height=O,S.isZero()&&(S=null)}return S&&("circle"===x?E.r=S:(E.rx=S.width,E.ry=S.height)),rn.create(x,E,o)}var w,v={Group:s,Layer:s,Raster:function a(I,x){var S=i(I._matrix,!0),E=I.getSize(),k=I.getImage();return S.x-=E.width/2,S.y-=E.height/2,S.width=E.width,S.height=E.height,S.href=0==x.embedImages&&k&&k.src||I.toDataURL(),rn.create("image",S,o)},Path:function l(I,x){var S=x.matchShapes;if(S){var E=I.toShape(!1);if(E)return h(E)}var O,k=I._segments,N=k.length,F=i(I._matrix);if(S&&N>=2&&!I.hasHandles())if(N>2){O=I._closed?"polygon":"polyline";for(var B=[],z=0;z<N;z++)B.push(o.point(k[z]._point));F.points=B.join(" ")}else{O="line";var G=k[0]._point,j=k[1]._point;F.set({x1:G.x,y1:G.y,x2:j.x,y2:j.y})}else O="path",F.d=I.getPathData(null,x.precision);return rn.create(O,F,o)},Shape:h,CompoundPath:function d(I,x){var S=i(I._matrix),E=I.getPathData(null,x.precision);return E&&(S.d=E),rn.create("path",S,o)},SymbolItem:function p(I,x){var S=i(I._matrix,!0),E=I._definition,k=C(E,"symbol"),N=E._item,O=N.getStrokeBounds();return k||((k=rn.create("symbol",{viewBox:o.rectangle(O)})).appendChild(P(N,x)),D(E,k,"symbol")),S.href="#"+k.id,S.x+=O.x,S.y+=O.y,S.width=O.width,S.height=O.height,S.overflow="visible",rn.create("use",S,o)},PointText:function m(I){var x=rn.create("text",i(I._matrix,!0),o);return x.textContent=I._content,x}};function C(I,x){return w||(w={ids:{},svgs:{}}),I&&w.svgs[x+"-"+(I._id||I.__id||(I.__id=ot.get("svg")))]}function D(I,x,S){w||C();var E=w.ids[S]=(w.ids[S]||0)+1;x.id=S+"-"+E,w.svgs[S+"-"+(I._id||I.__id)]=x}function R(I,x){var S=I,E=null;if(w){for(var k in S="svg"===I.nodeName.toLowerCase()&&I,w.svgs)E||(S||(S=rn.create("svg")).appendChild(I),E=S.insertBefore(rn.create("defs"),S.firstChild)),E.appendChild(w.svgs[k]);w=null}return x.asString?(new ri.XMLSerializer).serializeToString(S):S}function P(I,x,S){var E=v[I._class],k=E&&E(I,x);if(k){var N=x.onExport;N&&(k=N(I,k,x)||k);var O=JSON.stringify(I._data);O&&"{}"!==O&&"null"!==O&&k.setAttribute("data-paper-data",O)}return k&&function b(I,x,S){var E={},k=!S&&I.getParent(),N=[];return null!=I._name&&(E.id=I._name),ee.each(en,function(O){var F=O.get,B=O.type,z=I[F]();if(O.exportFilter?O.exportFilter(I,z):!k||!ee.equals(k[F](),z)){if("color"===B&&null!=z){var G=z.getAlpha();G<1&&(E[O.attribute+"-opacity"]=G)}"style"===B?N.push(O.attribute+": "+z):E[O.attribute]=null==z?"none":"color"===B?z.gradient?function g(I){var x=C(I,"color");if(!x){var O,S=I.getGradient(),E=S._radial,k=I.getOrigin(),N=I.getDestination();if(E){O={cx:k.x,cy:k.y,r:k.getDistance(N)};var F=I.getHighlight();F&&(O.fx=F.x,O.fy=F.y)}else O={x1:k.x,y1:k.y,x2:N.x,y2:N.y};O.gradientUnits="userSpaceOnUse",x=rn.create((E?"radial":"linear")+"Gradient",O,o);for(var B=S._stops,z=0,G=B.length;z<G;z++){var j=B[z],H=j._color,$=H.getAlpha();O={offset:j._offset??z/(G-1)},H&&(O["stop-color"]=H.toCSS(!0)),$<1&&(O["stop-opacity"]=$),x.appendChild(rn.create("stop",O,o))}D(I,x,"color")}return"url(#"+x.id+")"}(z):z.toCSS(!0):"array"===B?z.join(","):"lookup"===B?O.toSVG[z]:z}}),N.length&&(E.style=N.join(";")),1===E.opacity&&delete E.opacity,I._visible||(E.visibility="hidden"),rn.set(x,E,o)}(I,k,S)}function M(I){return I||(I={}),o=new sn(I.precision),I}tt.inject({exportSVG:function(I){return R(P(this,I=M(I),!0),I)}}),Xt.inject({exportSVG:function(I){I=M(I);var x=this._children,S=this.getView(),E=ee.pick(I.bounds,"view"),k=I.matrix||"view"===E&&S._matrix,N=k&&Vt.read([k]),O="view"===E?new W([0,0],S.getViewSize()):"content"===E?tt._getBounds(x,N,{stroke:!0}).rect:W.read([E],0,{readNull:!0}),F={version:"1.1",xmlns:rn.svg,"xmlns:xlink":rn.xlink};O&&(F.width=O.width,F.height=O.height,(O.x||0===O.x||O.y||0===O.y)&&(F.viewBox=o.rectangle(O)));var B=rn.create("svg",F,o),z=B;N&&!N.isIdentity()&&(z=B.appendChild(rn.create("g",i(N),o)));for(var G=0,j=x.length;G<j;G++)z.appendChild(P(x[G],I,!0));return R(B,I)}})},new function(){var i,o={};function s(x,S,E,k,N,O){var F=rn.get(x,S)||O,B=null==F?k?null:E?"":0:E?F:parseFloat(F);return/%\s*$/.test(F)?B/100*(N?1:i[/x|^width/.test(S)?"width":"height"]):B}function a(x,S,E,k,N,O,F){return S=s(x,S||"x",!1,k,N,O),E=s(x,E||"y",!1,k,N,F),!k||null!=S&&null!=E?new ae(S,E):null}function l(x,S,E,k,N){return S=s(x,S||"width",!1,k,N),E=s(x,E||"height",!1,k,N),!k||null!=S&&null!=E?new je(S,E):null}function h(x,S,E){return"none"===x?null:"number"===S?parseFloat(x):"array"===S?x?x.split(/[\s,]+/g).map(parseFloat):[]:"color"===S?P(x)||x:"lookup"===S?E[x]:x}function d(x,S,E,k){var N=x.childNodes,O="clippath"===S,F="defs"===S,B=new Ze,z=B._project,G=z._currentStyle,j=[];if(!O&&!F&&(B=R(B,x,k),z._currentStyle=B._style.clone()),k)for(var H=x.querySelectorAll("defs"),$=0,K=H.length;$<K;$++)M(H[$],E,!1);for($=0,K=N.length;$<K;$++){var J,Y=N[$];1===Y.nodeType&&!/^defs$/i.test(Y.nodeName)&&(J=M(Y,E,!1))&&!(J instanceof si)&&j.push(J)}return B.addChildren(j),O&&(B=R(B.reduce(),x,k)),z._currentStyle=G,(O||F)&&(B.remove(),B=null),B}function p(x,S){for(var E=x.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),k=[],N=0,O=E.length;N<O;N+=2)k.push(new ae(parseFloat(E[N]),parseFloat(E[N+1])));var F=new at(k);return"polygon"===S&&F.closePath(),F}function m(x,S){var N,E=(s(x,"href",!0)||"").substring(1),k="radialgradient"===S;if(E)(N=o[E].getGradient())._radial^k&&((N=N.clone())._radial=k);else{for(var O=x.childNodes,F=[],B=0,z=O.length;B<z;B++){var G=O[B];1===G.nodeType&&F.push(R(new qi,G))}N=new Kt(F,k)}var j,H,$,K="userSpaceOnUse"!==s(x,"gradientUnits",!0);return k?(H=(j=a(x,"cx","cy",!1,K,"50%","50%")).add(s(x,"r",!1,!1,K,"50%"),0),$=a(x,"fx","fy",!0,K)):(j=a(x,"x1","y1",!1,K,"0%","0%"),H=a(x,"x2","y2",!1,K,"100%","0%")),R(new Je(N,j,H,$),x)._scaleToBounds=K,null}var v={"#document":function(x,S,E,k){for(var N=x.childNodes,O=0,F=N.length;O<F;O++){var B=N[O];if(1===B.nodeType)return M(B,E,k)}},g:d,svg:d,clippath:d,polygon:p,polyline:p,path:function g(x){return In.create(x.getAttribute("d"))},lineargradient:m,radialgradient:m,image:function(x){var S=new fn(s(x,"href",!0));return S.on("load",function(){var E=l(x);this.setSize(E);var k=a(x).add(E.divide(2));this._matrix.append((new Vt).translate(k))}),S},symbol:function(x,S,E,k){return new si(d(x,S,E,k),!0)},defs:d,use:function(x){var S=(s(x,"href",!0)||"").substring(1),E=o[S],k=a(x);return E?E instanceof si?E.place(k):E.clone().translate(k):null},circle:function(x){return new xn.Circle(a(x,"cx","cy"),s(x,"r"))},ellipse:function(x){return new xn.Ellipse({center:a(x,"cx","cy"),radius:l(x,"rx","ry")})},rect:function(x){return new xn.Rectangle(new W(a(x),l(x)),l(x,"rx","ry"))},line:function(x){return new at.Line(a(x,"x1","y1"),a(x,"x2","y2"))},text:function(x){var S=new gi(a(x).add(a(x,"dx","dy")));return S.setContent(x.textContent.trim()||""),S},switch:d};function b(x,S,E,k){if(x.transform){for(var N=(k.getAttribute(E)||"").split(/\)\s*/g),O=new Vt,F=0,B=N.length;F<B;F++){var z=N[F];if(!z)break;for(var G=z.split(/\(\s*/),j=G[0],H=G[1].split(/[\s,]+/g),$=0,K=H.length;$<K;$++)H[$]=parseFloat(H[$]);switch(j){case"matrix":O.append(new Vt(H[0],H[1],H[2],H[3],H[4],H[5]));break;case"rotate":O.rotate(H[0],H[1]||0,H[2]||0);break;case"translate":O.translate(H[0],H[1]||0);break;case"scale":O.scale(H);break;case"skewX":O.skew(H[0],0);break;case"skewY":O.skew(0,H[0])}}x.transform(O)}}function w(x,S,E){var k="fill-opacity"===E?"getFillColor":"getStrokeColor",N=x[k]&&x[k]();N&&N.setAlpha(parseFloat(S))}var C=ee.set(ee.each(en,function(x){this[x.attribute]=function(S,E){if(S[x.set]&&(S[x.set](h(E,x.type,x.fromSVG)),"color"===x.type)){var k=S[x.get]();if(k&&k._scaleToBounds){var N=S.getBounds();k.transform((new Vt).translate(N.getPoint()).scale(N.getSize()))}}}},{}),{id:function(x,S){o[S]=x,x.setName&&x.setName(S)},"clip-path":function(x,S){var E=P(S);if(E){if((E=E.clone()).setClipMask(!0),!(x instanceof Ze))return new Ze(E,x);x.insertChild(0,E)}},gradientTransform:b,transform:b,"fill-opacity":w,"stroke-opacity":w,visibility:function(x,S){x.setVisible&&x.setVisible("visible"===S)},display:function(x,S){x.setVisible&&x.setVisible(null!==S)},"stop-color":function(x,S){x.setColor&&x.setColor(S)},"stop-opacity":function(x,S){x._color&&x._color.setAlpha(parseFloat(S))},offset:function(x,S){if(x.setOffset){var E=S.match(/(.*)%$/);x.setOffset(E?E[1]/100:parseFloat(S))}},viewBox:function(x,S,E,k,N){var B,O=new W(h(S,"array")),F=l(k,null,null,!0);if(x instanceof Ze){var G=F?F.divide(O.getSize()):1,z=(new Vt).scale(G).translate(O.getPoint().negate());B=x}else x instanceof si&&(F&&O.setSize(F),B=x._item);if(B){if("visible"!==D(k,"overflow",N)){var j=new xn.Rectangle(O);j.setClipMask(!0),B.addChild(j)}z&&B.transform(z)}}});function D(x,S,E){var k=x.attributes[S],N=k&&k.value;if(!N&&x.style){var O=ee.camelize(S);!(N=x.style[O])&&E.node[O]!==E.parent[O]&&(N=E.node[O])}return N?"none"===N?null:N:xe}function R(x,S,E){var k=S.parentNode,N={node:Jt.getStyles(S)||{},parent:!E&&!/^defs$/i.test(k.tagName)&&Jt.getStyles(k)||{}};return ee.each(C,function(O,F){var B=D(S,F,N);x=B!==xe&&O(x,B,F,S,N)||x}),x}function P(x){var S=x&&x.match(/\((?:["'#]*)([^"')]+)/),E=S&&S[1],k=E&&o[De?E.replace(De.location.href.split("#")[0]+"#",""):E];return k&&k._scaleToBounds&&((k=k.clone())._scaleToBounds=!0),k}function M(x,S,E){var F,B,z,k=x.nodeName.toLowerCase(),N="#document"!==k,O=Ct.body;E&&N&&(i=Le.getView().getSize(),i=l(x,null,null,!0)||i,F=rn.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),B=x.parentNode,z=x.nextSibling,F.appendChild(x),O.appendChild(F));var G=Le.settings,j=G.applyMatrix,H=G.insertItems;G.applyMatrix=!1,G.insertItems=!1;var $=v[k],K=$&&$(x,k,S,E)||null;if(G.insertItems=H,G.applyMatrix=j,K){N&&!(K instanceof Ze)&&(K=R(K,x,E));var Y=S.onImport,J=N&&x.getAttribute("data-paper-data");Y&&(K=Y(x,K,S)||K),S.expandShapes&&K instanceof xn&&(K.remove(),K=K.toPath()),J&&(K._data=JSON.parse(J))}return F&&(O.removeChild(F),B&&(z?B.insertBefore(x,z):B.appendChild(x))),E&&(o={},K&&ee.pick(S.applyMatrix,j)&&K.matrix.apply(!0,!0)),K}function I(x,S,E){if(!x)return null;S="function"==typeof S?{onLoad:S}:S||{};var k=Le,N=null;function O(G){try{var j="object"==typeof G?G:(new ri.DOMParser).parseFromString(G.trim(),"image/svg+xml");if(!j.nodeName)throw j=null,new Error("Unsupported SVG source: "+x);Le=k,N=M(j,S,!0),(!S||!1!==S.insert)&&E._insertItem(xe,N);var H=S.onLoad;H&&H(N,G)}catch($){F($)}}function F(G,j){var H=S.onError;if(!H)throw new Error(G);H(G,j)}if("string"!=typeof x||/^[\s\S]*</.test(x)){if(typeof File<"u"&&x instanceof File){var z=new FileReader;return z.onload=function(){O(z.result)},z.onerror=function(){F(z.error)},z.readAsText(x)}O(x)}else{var B=Ct.getElementById(x);B?O(B):an.request({url:x,async:!0,onLoad:O,onError:F})}return N}tt.inject({importSVG:function(x,S){return I(x,S,this)}}),Xt.inject({importSVG:function(x,S){return this.activate(),I(x,S,this)}})};var Le=new(Gn.inject(ee.exports,{Base:ee,Numerical:ze,Key:Nr,DomEvent:bt,DomElement:Jt,document:Ct,window:De,Symbol:si,PlacedSymbol:Dn}));return Le.agent.node&&Bt(858)(Le),(Bn="function"==typeof(Nt=Le)?Nt.call(vr,Bt,vr,$i):Nt)!==xe&&($i.exports=Bn),Le}).call(this,"object"==typeof self?self:null)},946:function($i,vr,Bt){var Nt,Bn,Di;(function(xe,De){var Ct=(xe=xe||Bt(158)).window,ee=xe.document,ne=new function(){var i=/^(statics|enumerable|beans|preserve)$/,s=[],a=s.slice,l=Object.create,h=Object.getOwnPropertyDescriptor,d=Object.defineProperty,p=s.forEach||function(C,D){for(var R=0,P=this.length;R<P;R++)C.call(D,this[R],R,this)},g=function(C,D){for(var R in this)this.hasOwnProperty(R)&&C.call(D,this[R],R,this)},m=Object.assign||function(C){for(var D=1,R=arguments.length;D<R;D++){var P=arguments[D];for(var M in P)P.hasOwnProperty(M)&&(C[M]=P[M])}return C},v=function(C,D,R){if(C){var P=h(C,"length");(P&&"number"==typeof P.value?p:g).call(C,D,R=R||C)}return R};function b(C,D,R,P,M){var I={};function x(O,F){"string"==typeof(F=F||(F=h(D,O))&&(F.get?F:F.value))&&"#"===F[0]&&(F=C[F.substring(1)]||F);var j,B="function"==typeof F,z=F,G=M||B&&!F.base?F&&F.get?O in C:C[O]:null;(!M||!G)&&(B&&G&&(F.base=G),B&&!1!==P&&(j=O.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(I[j[3].toLowerCase()+j[4]]=j[2]),(!z||B||!z.get||"function"!=typeof z.get||!w.isPlainObject(z))&&(z={value:z,writable:!0}),(h(C,O)||{configurable:!0}).configurable&&(z.configurable=!0,z.enumerable=R??!j),d(C,O,z))}if(D){for(var S in D)D.hasOwnProperty(S)&&!i.test(S)&&x(S);for(var S in I){var E=I[S],k=C["set"+E],N=C["get"+E]||k&&C["is"+E];N&&(!0===P||0===N.length)&&x(S,{get:N,set:k})}}return C}function w(){for(var C=0,D=arguments.length;C<D;C++){var R=arguments[C];R&&m(this,R)}return this}return b(w,{inject:function(C){if(C){var D=!0===C.statics?C:C.statics,R=C.beans,P=C.preserve;D!==C&&b(this.prototype,C,C.enumerable,R,P),b(this,D,null,R,P)}for(var M=1,I=arguments.length;M<I;M++)this.inject(arguments[M]);return this},extend:function(){for(var D,R,M,C=this,P=0,I=arguments.length;P<I&&(!D||!R);P++)M=arguments[P],D=D||M.initialize,R=R||M.prototype;return D=D||function(){C.apply(this,arguments)},R=D.prototype=R||l(this.prototype),d(R,"constructor",{value:D,writable:!0,configurable:!0}),b(D,this),arguments.length&&this.inject.apply(D,arguments),D.base=C,D}}).inject({enumerable:!1,initialize:w,set:w,inject:function(){for(var C=0,D=arguments.length;C<D;C++){var R=arguments[C];R&&b(this,R,R.enumerable,R.beans,R.preserve)}return this},extend:function(){var C=l(this);return C.inject.apply(C,arguments)},each:function(C,D){return v(this,C,D)},clone:function(){return new this.constructor(this)},statics:{set:m,each:v,create:l,define:d,describe:h,clone:function(C){return m(new C.constructor,C)},isPlainObject:function(C){var D=null!=C&&C.constructor;return D&&(D===Object||D===w||"Object"===D.name)},pick:function(C,D){return C!==De?C:D},slice:function(C,D,R){return a.call(C,D,R)}}})};$i.exports=ne,ne.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+ne.each(this,function(i,s){if(!/^_/.test(s)){var a=typeof i;this.push(s+": "+("number"===a?ze.instance.number(i):"string"===a?"'"+i+"'":i))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(i){return ne.importJSON(i,this)},exportJSON:function(i){return ne.exportJSON(this,i)},toJSON:function(){return ne.serialize(this)},set:function(i,s){return i&&ne.filter(this,i,s,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function i(){var s=i.base.apply(this,arguments),a=s.prototype._class;return a&&!ne.exports[a]&&(ne.exports[a]=s),s},equals:function(i,s){if(i===s)return!0;if(i&&i.equals)return i.equals(s);if(s&&s.equals)return s.equals(i);if(i&&s&&"object"==typeof i&&"object"==typeof s){if(Array.isArray(i)&&Array.isArray(s)){if((a=i.length)!==s.length)return!1;for(;a--;)if(!ne.equals(i[a],s[a]))return!1}else{var a,l=Object.keys(i);if((a=l.length)!==Object.keys(s).length)return!1;for(;a--;){var h=l[a];if(!s.hasOwnProperty(h)||!ne.equals(i[h],s[h]))return!1}}return!0}return!1},read:function(i,s,a,l){if(this===ne){var h=this.peek(i,s);return i.__index++,h}var d=this.prototype,p=d._readIndex,g=s||p&&i.__index||0,m=i.length,v=i[g];if(l=l||m-g,v instanceof this||a&&a.readNull&&null==v&&l<=1)return p&&(i.__index=g+1),v&&a&&a.clone?v.clone():v;if(v=ne.create(d),p&&(v.__read=!0),v=v.initialize.apply(v,g>0||g+l<m?ne.slice(i,g,g+l):i)||v,p){i.__index=g+v.__read;var b=v.__filtered;b&&(i.__filtered=b,v.__filtered=De),v.__read=De}return v},peek:function(i,s){return i[i.__index=s||i.__index||0]},remain:function(i){return i.length-(i.__index||0)},readList:function(i,s,a,l){for(var d,h=[],p=s||0,g=l?p+l:i.length,m=p;m<g;m++)h.push(Array.isArray(d=i[m])?this.read(d,0,a):this.read(i,m,a,1));return h},readNamed:function(i,s,a,l,h){var d=this.getNamed(i,s),p=d!==De;if(p){var g=i.__filtered;if(!g){var m=this.getSource(i);(g=i.__filtered=ne.create(m)).__unfiltered=m}g[s]=De}return this.read(p?[d]:i,a,l,h)},readSupported:function(i,s){var a=this.getSource(i),l=this,h=!1;return a&&Object.keys(a).forEach(function(d){if(d in s){var p=l.readNamed(i,d);p!==De&&(s[d]=p),h=!0}}),h},getSource:function(i){var s=i.__source;if(s===De){var a=1===i.length&&i[0];s=i.__source=a&&ne.isPlainObject(a)?a:null}return s},getNamed:function(i,s){var a=this.getSource(i);if(a)return s?a[s]:i.__filtered||a},hasNamed:function(i,s){return!!this.getNamed(i,s)},filter:function(i,s,a,l){var h;function d(b){if(!(a&&b in a||h&&b in h)){var w=s[b];w!==De&&(i[b]=w)}}if(l){for(var m,p={},g=0,v=l.length;g<v;g++)(m=l[g])in s&&(d(m),p[m]=!0);h=p}return Object.keys(s.__unfiltered||s).forEach(d),i},isPlainValue:function(i,s){return ne.isPlainObject(i)||Array.isArray(i)||s&&"string"==typeof i},serialize:function(i,s,a,l){s=s||{};var d,h=!l;if(h&&(s.formatter=new ze(s.precision),l={length:0,definitions:{},references:{},add:function(w,C){var D="#"+w._id,R=this.references[D];if(!R){this.length++;var P=C.call(w),M=w._class;M&&P[0]!==M&&P.unshift(M),this.definitions[D]=P,R=this.references[D]=[D]}return R}}),i&&i._serialize){d=i._serialize(s,l);var p=i._class;p&&!i._compactSerialize&&(h||!a)&&d[0]!==p&&d.unshift(p)}else if(Array.isArray(i)){d=[];for(var g=0,m=i.length;g<m;g++)d[g]=ne.serialize(i[g],s,a,l)}else if(ne.isPlainObject(i)){d={};var v=Object.keys(i);for(g=0,m=v.length;g<m;g++){var b=v[g];d[b]=ne.serialize(i[b],s,a,l)}}else d="number"==typeof i?s.formatter.number(i,s.precision):i;return h&&l.length>0?[["dictionary",l.definitions],d]:d},deserialize:function(i,s,a,l,h){var d=i,p=!a,g=p&&i&&i.length&&"dictionary"===i[0][0];if(a=a||{},Array.isArray(i)){var m=i[0],v="dictionary"===m;if(1==i.length&&/^#/.test(m))return a.dictionary[m];d=[];for(var b=(m=ne.exports[m])?1:0,w=i.length;b<w;b++)d.push(ne.deserialize(i[b],s,a,v,g));if(m){var C=d;d=s?s(m,C,p||h):new m(C)}}else if(ne.isPlainObject(i))for(var D in d={},l&&(a.dictionary=d),i)d[D]=ne.deserialize(i[D],s,a);return g?d[1]:d},exportJSON:function(i,s){var a=ne.serialize(i,s);return s&&0==s.asString?a:JSON.stringify(a)},importJSON:function(i,s){return ne.deserialize("string"==typeof i?JSON.parse(i):i,function(a,l,h){var d=h&&s&&s.constructor===a,p=d?s:ne.create(a.prototype);if(1===l.length&&p instanceof Ze&&(d||!(p instanceof xn))){var g=l[0];ne.isPlainObject(g)&&(g.insert=!1,d&&(l=l.concat([Ze.INSERT])))}return(d?p.set:a).apply(p,l),d&&(s=null),p})},push:function(i,s){var a=s.length;if(a<4096)i.push.apply(i,s);else{var l=i.length;i.length+=a;for(var h=0;h<a;h++)i[l+h]=s[h]}return i},splice:function(i,s,a,l){var h=s&&s.length,d=a===De;(a=d?i.length:a)>i.length&&(a=i.length);for(var p=0;p<h;p++)s[p]._index=a+p;if(d)return ne.push(i,s),[];var g=[a,l];s&&ne.push(g,s);for(var m=i.splice.apply(i,g),v=(p=0,m.length);p<v;p++)m[p]._index=De;for(p=a+h,v=i.length;p<v;p++)i[p]._index=p;return m},capitalize:function(i){return i.replace(/\b[a-z]/g,function(s){return s.toUpperCase()})},camelize:function(i){return i.replace(/-(.)/g,function(s,a){return a.toUpperCase()})},hyphenate:function(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var Gn={on:function(i,s){if("string"!=typeof i)ne.each(i,function(d,p){this.on(p,d)},this);else{var a=this._eventTypes,l=a&&a[i],h=this._callbacks=this._callbacks||{};-1===(h=h[i]=h[i]||[]).indexOf(s)&&(h.push(s),l&&l.install&&1===h.length&&l.install.call(this,i))}return this},off:function(i,s){if("string"==typeof i){var d,a=this._eventTypes,l=a&&a[i],h=this._callbacks&&this._callbacks[i];return h&&(!s||-1!==(d=h.indexOf(s))&&1===h.length?(l&&l.uninstall&&l.uninstall.call(this,i),delete this._callbacks[i]):-1!==d&&h.splice(d,1)),this}ne.each(i,function(p,g){this.off(g,p)},this)},once:function(i,s){return this.on(i,function a(){s.apply(this,arguments),this.off(i,a)})},emit:function(i,s){var a=this._callbacks&&this._callbacks[i];if(!a)return!1;var l=ne.slice(arguments,1),h=s&&s.target&&!s.currentTarget;a=a.slice(),h&&(s.currentTarget=this);for(var d=0,p=a.length;d<p;d++)if(0==a[d].apply(this,l)){s&&s.stop&&s.stop();break}return h&&delete s.currentTarget,!0},responds:function(i){return!(!this._callbacks||!this._callbacks[i])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(i){var s=this._eventTypes,a=this._callbacks,l=i?"install":"uninstall";if(s)for(var h in a)if(a[h].length>0){var d=s[h],p=d&&d[l];p&&p.call(this,h)}},statics:{inject:function i(s){var a=s._events;if(a){var l={};ne.each(a,function(h,d){var p="string"==typeof h,g=p?h:d,m=ne.capitalize(g),v=g.substring(2).toLowerCase();l[v]=p?{}:h,g="_"+g,s["get"+m]=function(){return this[g]},s["set"+m]=function(b){var w=this[g];w&&this.off(v,w),b&&this.on(v,b),this[g]=b}}),s._eventTypes=l}return i.base.apply(this,arguments)}}},yn=ne.extend({_class:"PaperScope",initialize:function i(){o=this,this.settings=new ne({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=i._id++,i._scopes[this._id]=this;var s=i.prototype;if(!this.support){var a=Mt.getContext(1,1)||{};s.support={nativeDash:"setLineDash"in a||"mozDash"in a,nativeBlendModes:rn.nativeModes},Mt.release(a)}if(!this.agent){var l=xe.navigator.userAgent.toLowerCase(),h=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(l)||[])[0],d="darwin"===h?"mac":h,p=s.agent=s.browser={platform:d};d&&(p[d]=!0),l.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(g,m,v,b,w){if(!p.chrome){var C="opera"===m?b:/^(node|trident)$/.test(m)?w:v;p.version=C,p.versionNumber=parseFloat(C),p.name=m={trident:"msie",jsdom:"node"}[m]||m,p[m]=!0}}),p.chrome&&delete p.webkit,p.atom&&delete p.chrome}},version:"0.12.17",getView:function(){var i=this.project;return i&&i._view},getPaper:function(){return this},execute:function(i,s){var a=o.PaperScript.execute(i,this,s);return nn.updateFocus(),a},install:function(i){var s=this;for(var a in ne.each(["project","view","tool"],function(l){ne.define(i,l,{configurable:!0,get:function(){return s[l]}})}),this)!/^_/.test(a)&&this[a]&&(i[a]=this[a])},setup:function(i){return o=this,this.project=new tt(i),this},createCanvas:function(i,s){return Mt.getCanvas(i,s)},activate:function(){o=this},clear:function(){for(var i=this.projects,s=this.tools,a=i.length-1;a>=0;a--)i[a].remove();for(a=s.length-1;a>=0;a--)s[a].remove()},remove:function(){this.clear(),delete yn._scopes[this._id]},statics:new function(){function i(s){return s+="Attribute",function(a,l){return a[s](l)||a[s]("data-paper-"+l)}}return{_scopes:{},_id:0,get:function(s){return this._scopes[s]||null},getAttribute:i("get"),hasAttribute:i("has")}}}),Sn=ne.extend(Gn,{initialize:function(i){this._scope=o,this._index=this._scope[this._list].push(this)-1,(i||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var i=this._scope[this._reference];return i&&i!==this&&i.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",i),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(ne.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),sn={findItemBoundsCollisions:function(i,s,a){function l(p){for(var g=new Array(p.length),m=0;m<p.length;m++){var v=p[m].getBounds();g[m]=[v.left,v.top,v.right,v.bottom]}return g}var h=l(i),d=s&&s!==i?l(s):h;return this.findBoundsCollisions(h,d,a||0)},findCurveBoundsCollisions:function(i,s,a,l){function h(C){for(var D=Math.min,R=Math.max,P=new Array(C.length),M=0;M<C.length;M++){var I=C[M];P[M]=[D(I[0],I[2],I[4],I[6]),D(I[1],I[3],I[5],I[7]),R(I[0],I[2],I[4],I[6]),R(I[1],I[3],I[5],I[7])]}return P}var d=h(i),p=s&&s!==i?h(s):d;if(l){for(var g=this.findBoundsCollisions(d,p,a||0,!1,!0),m=this.findBoundsCollisions(d,p,a||0,!0,!0),v=[],b=0,w=g.length;b<w;b++)v[b]={hor:g[b],ver:m[b]};return v}return this.findBoundsCollisions(d,p,a||0)},findBoundsCollisions:function(i,s,a,l,h){var d=!s||i===s,p=d?i:i.concat(s),g=i.length,m=p.length;function v(he,ge,_e){for(var le=0,ce=he.length;le<ce;){var ue=ce+le>>>1;p[he[ue]][ge]<_e?le=ue+1:ce=ue}return le-1}for(var b=l?1:0,w=b+2,C=l?0:1,D=C+2,R=new Array(m),P=0;P<m;P++)R[P]=P;R.sort(function(he,ge){return p[he][b]-p[ge][b]});var M=[],I=new Array(g);for(P=0;P<m;P++){var x=R[P],S=p[x],E=d?x:x-g,k=x<g,N=d||!k,O=k?[]:null;if(M.length){var F=v(M,w,S[b]-a)+1;if(M.splice(0,F),d&&h){O=O.concat(M);for(var B=0;B<M.length;B++)I[z=M[B]].push(E)}else{var G=S[D],j=S[C];for(B=0;B<M.length;B++){var z,H=p[z=M[B]],$=z<g,K=d||z>=g;(h||(k&&K||N&&$)&&G>=H[C]-a&&j<=H[D]+a)&&(k&&K&&O.push(d?z:z-g),N&&$&&I[z].push(E))}}}if(k&&(i===s&&O.push(x),I[x]=O),M.length){var J=v(M,w,S[w]);M.splice(J+1,0,x)}else M.push(x)}for(P=0;P<I.length;P++){var oe=I[P];oe&&oe.sort(function(ge,_e){return ge-_e})}return I}},ze=ne.extend({initialize:function(i){this.precision=ne.pick(i,5),this.multiplier=Math.pow(10,this.precision)},number:function(i){return this.precision<16?Math.round(i*this.multiplier)/this.multiplier:i},pair:function(i,s,a){return this.number(i)+(a||",")+this.number(s)},point:function(i,s){return this.number(i.x)+(s||",")+this.number(i.y)},size:function(i,s){return this.number(i.width)+(s||",")+this.number(i.height)},rectangle:function(i,s){return this.point(i,s)+(s||",")+this.size(i,s)}});ze.instance=new ze;var ot=new function(){var i=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],s=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],a=Math.abs,l=Math.sqrt,h=Math.pow,d=Math.log2||function(w){return Math.log(w)*Math.LOG2E},p=1e-12,g=112e-18;function m(w,C,D){return w<C?C:w>D?D:w}function v(w,C,D){function R(F){var B=134217729*F,G=F-B+B;return[G,F-G]}var P=C*C-w*D,M=C*C+w*D;if(3*a(P)<M){var I=R(w),x=R(C),S=R(D),E=C*C,N=w*D;P=E-N+(x[0]*x[0]-E+2*x[0]*x[1]+x[1]*x[1]-(I[0]*S[0]-N+I[0]*S[1]+I[1]*S[0]+I[1]*S[1]))}return P}function b(){var w=Math.max.apply(Math,arguments);return w&&(w<1e-8||w>1e8)?h(2,-Math.round(d(w))):0}return{EPSILON:p,MACHINE_EPSILON:g,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(l(2)-1)/3,isZero:function(w){return w>=-p&&w<=p},isMachineZero:function(w){return w>=-g&&w<=g},clamp:m,integrate:function(w,C,D,R){for(var P=i[R-2],M=s[R-2],I=.5*(D-C),x=I+C,S=0,E=R+1>>1,k=1&R?M[S++]*w(x):0;S<E;){var N=I*P[S];k+=M[S++]*(w(x+N)+w(x-N))}return I*k},findRoot:function(w,C,D,R,P,M,I){for(var x=0;x<M;x++){var S=w(D),E=S/C(D),k=D-E;if(a(E)<I){D=k;break}S>0?(P=D,D=k<=R?.5*(R+P):k):(R=D,D=k>=P?.5*(R+P):k)}return m(D,R,P)},solveQuadratic:function(w,C,D,R,P,M){var I,x=1/0;if(a(w)<p){if(a(C)<p)return a(D)<p?-1:0;I=-D/C}else{var S=v(w,C*=-.5,D);if(S&&a(S)<g){var E=b(a(w),a(C),a(D));E&&(S=v(w*=E,C*=E,D*=E))}if(S>=-g){var k=S<0?0:l(S),N=C+(C<0?-k:k);0===N?x=-(I=D/w):(I=N/w,x=D/N)}}var O=0,F=null==P,B=P-p,z=M+p;return isFinite(I)&&(F||I>B&&I<z)&&(R[O++]=F?I:m(I,P,M)),x!==I&&isFinite(x)&&(F||x>B&&x<z)&&(R[O++]=F?x:m(x,P,M)),O},solveCubic:function(w,C,D,R,P,M,I){var S,E,k,N,O,x=b(a(w),a(C),a(D),a(R));function F(J){var oe=w*(S=J);N=(oe+(E=oe+C))*S+(k=E*S+D),O=k*S+R}if(x&&(w*=x,C*=x,D*=x,R*=x),a(w)<p)w=C,E=D,k=R,S=1/0;else if(a(R)<p)E=C,k=D,S=0;else{F(-C/w/3);var B=O/w,z=h(a(B),1/3),G=B<0?-1:1,j=-N/w,H=j>0?1.324717957244746*Math.max(z,l(j)):z,$=S-G*H;if($!==S){do{F($),$=0===N?S:S-O/N/(1+g)}while(G*$>G*S);a(w)*S*S>a(R/S)&&(E=((k=-R/S)-D)/S)}}var K=ot.solveQuadratic(w,E,k,P,M,I),Y=null==M;return isFinite(S)&&(0===K||K>0&&S!==P[0]&&S!==P[1])&&(Y||S>M-p&&S<I+p)&&(P[K++]=Y?S:m(S,M,I)),K}}},ae={_id:1,_pools:{},get:function(i){if(i){var s=this._pools[i];return s||(s=this._pools[i]={_id:1}),s._id++}return this._id++}},ie=ne.extend({_class:"Point",_readIndex:!0,initialize:function(s,a){var l=typeof s,h=this.__read,d=0;if("number"===l){var p="number"==typeof a;this._set(s,p?a:s),h&&(d=p?2:1)}else if("undefined"===l||null===s)this._set(0,0),h&&(d=null===s?1:0);else{var g="string"===l?s.split(/[\s,]+/)||[]:s;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"x"in g?this._set(g.x||0,g.y||0):"width"in g?this._set(g.width||0,g.height||0):"angle"in g?(this._set(g.length||0,0),this.setAngle(g.angle||0)):(this._set(0,0),d=0)}return h&&(this.__read=d),this},set:"#initialize",_set:function(i,s){return this.x=i,this.y=s,this},equals:function(i){return this===i||i&&(this.x===i.x&&this.y===i.y||Array.isArray(i)&&this.x===i[0]&&this.y===i[1])||!1},clone:function(){return new ie(this.x,this.y)},toString:function(){var i=ze.instance;return"{ x: "+i.number(this.x)+", y: "+i.number(this.y)+" }"},_serialize:function(i){var s=i.formatter;return[s.number(this.x),s.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(i){if(this.isZero()){var s=this._angle||0;this._set(Math.cos(s)*i,Math.sin(s)*i)}else{var a=i/this.getLength();ot.isZero(a)&&this.getAngle(),this._set(this.x*a,this.y*a)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(i){this.setAngleInRadians.call(this,i*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var i=ie.read(arguments),s=this.getLength()*i.getLength();if(ot.isZero(s))return NaN;var a=this.dot(i)/s;return Math.acos(a<-1?-1:a>1?1:a)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(i){if(this._angle=i,!this.isZero()){var s=this.getLength();this._set(Math.cos(i)*s,Math.sin(i)*s)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var i=ie.read(arguments);return 180*Math.atan2(this.cross(i),this.dot(i))/Math.PI},getDistance:function(){var i=arguments,s=ie.read(i),a=s.x-this.x,l=s.y-this.y,h=a*a+l*l;return ne.read(i)?h:Math.sqrt(h)},normalize:function(i){i===De&&(i=1);var s=this.getLength(),a=0!==s?i/s:0,l=new ie(this.x*a,this.y*a);return a>=0&&(l._angle=this._angle),l},rotate:function(i,s){if(0===i)return this.clone();i=i*Math.PI/180;var a=s?this.subtract(s):this,l=Math.sin(i),h=Math.cos(i);return a=new ie(a.x*h-a.y*l,a.x*l+a.y*h),s?a.add(s):a},transform:function(i){return i?i._transformPoint(this):this},add:function(){var i=ie.read(arguments);return new ie(this.x+i.x,this.y+i.y)},subtract:function(){var i=ie.read(arguments);return new ie(this.x-i.x,this.y-i.y)},multiply:function(){var i=ie.read(arguments);return new ie(this.x*i.x,this.y*i.y)},divide:function(){var i=ie.read(arguments);return new ie(this.x/i.x,this.y/i.y)},modulo:function(){var i=ie.read(arguments);return new ie(this.x%i.x,this.y%i.y)},negate:function(){return new ie(-this.x,-this.y)},isInside:function(){return Ke.read(arguments).contains(this)},isClose:function(){var i=arguments,s=ie.read(i),a=ne.read(i);return this.getDistance(s)<=a},isCollinear:function(){var i=ie.read(arguments);return ie.isCollinear(this.x,this.y,i.x,i.y)},isColinear:"#isCollinear",isOrthogonal:function(){var i=ie.read(arguments);return ie.isOrthogonal(this.x,this.y,i.x,i.y)},isZero:function(){var i=ot.isZero;return i(this.x)&&i(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(i){return this.x*(i>1&&i<4?-1:1)>=0&&this.y*(i>2?-1:1)>=0},dot:function(){var i=ie.read(arguments);return this.x*i.x+this.y*i.y},cross:function(){var i=ie.read(arguments);return this.x*i.y-this.y*i.x},project:function(){var i=ie.read(arguments),s=i.isZero()?0:this.dot(i)/i.dot(i);return new ie(i.x*s,i.y*s)},statics:{min:function(){var i=arguments,s=ie.read(i),a=ie.read(i);return new ie(Math.min(s.x,a.x),Math.min(s.y,a.y))},max:function(){var i=arguments,s=ie.read(i),a=ie.read(i);return new ie(Math.max(s.x,a.x),Math.max(s.y,a.y))},random:function(){return new ie(Math.random(),Math.random())},isCollinear:function(i,s,a,l){return Math.abs(i*l-s*a)<=1e-8*Math.sqrt((i*i+s*s)*(a*a+l*l))},isOrthogonal:function(i,s,a,l){return Math.abs(i*a+s*l)<=1e-8*Math.sqrt((i*i+s*s)*(a*a+l*l))}}},ne.each(["round","ceil","floor","abs"],function(i){var s=Math[i];this[i]=function(){return new ie(s(this.x),s(this.y))}},{})),je=ie.extend({initialize:function(s,a,l,h){this._x=s,this._y=a,this._owner=l,this._setter=h},_set:function(i,s,a){return this._x=i,this._y=s,a||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(i){this._x=i,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(i){this._y=i,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(i){this._owner._changeSelection(this._getSelection(),i)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),Ee=ne.extend({_class:"Size",_readIndex:!0,initialize:function(s,a){var l=typeof s,h=this.__read,d=0;if("number"===l){var p="number"==typeof a;this._set(s,p?a:s),h&&(d=p?2:1)}else if("undefined"===l||null===s)this._set(0,0),h&&(d=null===s?1:0);else{var g="string"===l?s.split(/[\s,]+/)||[]:s;d=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"width"in g?this._set(g.width||0,g.height||0):"x"in g?this._set(g.x||0,g.y||0):(this._set(0,0),d=0)}return h&&(this.__read=d),this},set:"#initialize",_set:function(i,s){return this.width=i,this.height=s,this},equals:function(i){return i===this||i&&(this.width===i.width&&this.height===i.height||Array.isArray(i)&&this.width===i[0]&&this.height===i[1])||!1},clone:function(){return new Ee(this.width,this.height)},toString:function(){var i=ze.instance;return"{ width: "+i.number(this.width)+", height: "+i.number(this.height)+" }"},_serialize:function(i){var s=i.formatter;return[s.number(this.width),s.number(this.height)]},add:function(){var i=Ee.read(arguments);return new Ee(this.width+i.width,this.height+i.height)},subtract:function(){var i=Ee.read(arguments);return new Ee(this.width-i.width,this.height-i.height)},multiply:function(){var i=Ee.read(arguments);return new Ee(this.width*i.width,this.height*i.height)},divide:function(){var i=Ee.read(arguments);return new Ee(this.width/i.width,this.height/i.height)},modulo:function(){var i=Ee.read(arguments);return new Ee(this.width%i.width,this.height%i.height)},negate:function(){return new Ee(-this.width,-this.height)},isZero:function(){var i=ot.isZero;return i(this.width)&&i(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(i,s){return new Ee(Math.min(i.width,s.width),Math.min(i.height,s.height))},max:function(i,s){return new Ee(Math.max(i.width,s.width),Math.max(i.height,s.height))},random:function(){return new Ee(Math.random(),Math.random())}}},ne.each(["round","ceil","floor","abs"],function(i){var s=Math[i];this[i]=function(){return new Ee(s(this.width),s(this.height))}},{})),W=Ee.extend({initialize:function(s,a,l,h){this._width=s,this._height=a,this._owner=l,this._setter=h},_set:function(i,s,a){return this._width=i,this._height=s,a||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(i){this._width=i,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(i){this._height=i,this._owner[this._setter](this)}}),Ke=ne.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(s,a,l,h){var g,d=arguments,p=typeof s;if("number"===p?(this._set(s,a,l,h),g=4):"undefined"===p||null===s?(this._set(0,0,0,0),g=null===s?1:0):1===d.length&&(Array.isArray(s)?(this._set.apply(this,s),g=1):s.x!==De||s.width!==De?(this._set(s.x||0,s.y||0,s.width||0,s.height||0),g=1):s.from===De&&s.to===De&&(this._set(0,0,0,0),ne.readSupported(d,this)&&(g=1))),g===De){var C,D,m=ie.readNamed(d,"from"),v=ne.peek(d),b=m.x,w=m.y;if(v&&v.x!==De||ne.hasNamed(d,"to")){var R=ie.readNamed(d,"to");(C=R.x-b)<0&&(b=R.x,C=-C),(D=R.y-w)<0&&(w=R.y,D=-D)}else{var P=Ee.read(d);C=P.width,D=P.height}this._set(b,w,C,D),g=d.__index}var M=d.__filtered;return M&&(this.__filtered=M),this.__read&&(this.__read=g),this},set:"#initialize",_set:function(i,s,a,l){return this.x=i,this.y=s,this.width=a,this.height=l,this},clone:function(){return new Ke(this.x,this.y,this.width,this.height)},equals:function(i){var s=ne.isPlainValue(i)?Ke.read(arguments):i;return s===this||s&&this.x===s.x&&this.y===s.y&&this.width===s.width&&this.height===s.height||!1},toString:function(){var i=ze.instance;return"{ x: "+i.number(this.x)+", y: "+i.number(this.y)+", width: "+i.number(this.width)+", height: "+i.number(this.height)+" }"},_serialize:function(i){var s=i.formatter;return[s.number(this.x),s.number(this.y),s.number(this.width),s.number(this.height)]},getPoint:function(i){return new(i?ie:je)(this.x,this.y,this,"setPoint")},setPoint:function(){var i=ie.read(arguments);this.x=i.x,this.y=i.y},getSize:function(i){return new(i?Ee:W)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var i=Ee.read(arguments),s=this._sx,a=this._sy,l=i.width,h=i.height;s&&(this.x+=(this.width-l)*s),a&&(this.y+=(this.height-h)*a),this.width=l,this.height=h,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(i){if(!this._fw){var s=i-this.x;this.width-=.5===this._sx?2*s:s}this.x=i,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(i){if(!this._fh){var s=i-this.y;this.height-=.5===this._sy?2*s:s}this.y=i,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(i){if(!this._fw){var s=i-this.x;this.width=.5===this._sx?2*s:s}this.x=i-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(i){if(!this._fh){var s=i-this.y;this.height=.5===this._sy?2*s:s}this.y=i-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(i){this._fw||.5===this._sx?this.x=i-this.width/2:(this._sx&&(this.x+=2*(i-this.x)*this._sx),this.width=2*(i-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(i){this._fh||.5===this._sy?this.y=i-this.height/2:(this._sy&&(this.y+=2*(i-this.y)*this._sy),this.height=2*(i-this.y)),this._sy=.5,this._fh=0},getCenter:function(i){return new(i?ie:je)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var i=ie.read(arguments);return this.setCenterX(i.x),this.setCenterY(i.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(i){return i&&i.width!==De||4===(Array.isArray(i)?i:arguments).length?this._containsRectangle(Ke.read(arguments)):this._containsPoint(ie.read(arguments))},_containsPoint:function(i){var s=i.x,a=i.y;return s>=this.x&&a>=this.y&&s<=this.x+this.width&&a<=this.y+this.height},_containsRectangle:function(i){var s=i.x,a=i.y;return s>=this.x&&a>=this.y&&s+i.width<=this.x+this.width&&a+i.height<=this.y+this.height},intersects:function(){var i=Ke.read(arguments),s=ne.read(arguments)||0;return i.x+i.width>this.x-s&&i.y+i.height>this.y-s&&i.x<this.x+this.width+s&&i.y<this.y+this.height+s},intersect:function(){var i=Ke.read(arguments),s=Math.max(this.x,i.x),a=Math.max(this.y,i.y),l=Math.min(this.x+this.width,i.x+i.width),h=Math.min(this.y+this.height,i.y+i.height);return new Ke(s,a,l-s,h-a)},unite:function(){var i=Ke.read(arguments),s=Math.min(this.x,i.x),a=Math.min(this.y,i.y),l=Math.max(this.x+this.width,i.x+i.width),h=Math.max(this.y+this.height,i.y+i.height);return new Ke(s,a,l-s,h-a)},include:function(){var i=ie.read(arguments),s=Math.min(this.x,i.x),a=Math.min(this.y,i.y),l=Math.max(this.x+this.width,i.x),h=Math.max(this.y+this.height,i.y);return new Ke(s,a,l-s,h-a)},expand:function(){var i=Ee.read(arguments),s=i.width,a=i.height;return new Ke(this.x-s/2,this.y-a/2,this.width+s,this.height+a)},scale:function(i,s){return this.expand(this.width*i-this.width,this.height*(s===De?i:s)-this.height)}},ne.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(i,s){var a=i.join(""),l=/^[RL]/.test(a);s>=4&&(i[1]+=l?"Y":"X");var h=i[l?0:1],d=i[l?1:0],p="get"+h,g="get"+d,m="set"+h,v="set"+d,w="set"+a;this["get"+a]=function(C){return new(C?ie:je)(this[p](),this[g](),this,w)},this[w]=function(){var C=ie.read(arguments);this[m](C.x),this[v](C.y)}},{beans:!0})),Vt=Ke.extend({initialize:function(s,a,l,h,d,p){this._set(s,a,l,h,!0),this._owner=d,this._setter=p},_set:function(i,s,a,l,h){return this._x=i,this._y=s,this._width=a,this._height=l,h||this._owner[this._setter](this),this}},new function(){var i=Ke.prototype;return ne.each(["x","y","width","height"],function(s){var a=ne.capitalize(s),l="_"+s;this["get"+a]=function(){return this[l]},this["set"+a]=function(h){this[l]=h,this._dontNotify||this._owner[this._setter](this)}},ne.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(s){var a="set"+s;this[a]=function(){this._dontNotify=!0,i[a].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(s){var a=this._owner;a._changeSelection&&a._changeSelection(2,s)}}))}),st=ne.extend({_class:"Matrix",initialize:function i(s,a){var l=arguments,h=l.length,d=!0;if(h>=6?this._set.apply(this,l):1===h||2===h?s instanceof i?this._set(s._a,s._b,s._c,s._d,s._tx,s._ty,a):Array.isArray(s)?this._set.apply(this,a?s.concat([a]):s):d=!1:h?d=!1:this.reset(),!d)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(i,s,a,l,h,d,p){return this._a=i,this._b=s,this._c=a,this._d=l,this._tx=h,this._ty=d,p||this._changed(),this},_serialize:function(i,s){return ne.serialize(this.getValues(),i,!0,s)},_changed:function(){var i=this._owner;i&&(i._applyMatrix?i.transform(null,!0):i._changed(25))},clone:function(){return new st(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(i){return i===this||i&&this._a===i._a&&this._b===i._b&&this._c===i._c&&this._d===i._d&&this._tx===i._tx&&this._ty===i._ty},toString:function(){var i=ze.instance;return"[["+[i.number(this._a),i.number(this._c),i.number(this._tx)].join(", ")+"], ["+[i.number(this._b),i.number(this._d),i.number(this._ty)].join(", ")+"]]"},reset:function(i){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,i||this._changed(),this},apply:function(i,s){var a=this._owner;return!!a&&(a.transform(null,ne.pick(i,!0),s),this.isIdentity())},translate:function(){var i=ie.read(arguments),s=i.x,a=i.y;return this._tx+=s*this._a+a*this._c,this._ty+=s*this._b+a*this._d,this._changed(),this},scale:function(){var i=arguments,s=ie.read(i),a=ie.read(i,0,{readNull:!0});return a&&this.translate(a),this._a*=s.x,this._b*=s.x,this._c*=s.y,this._d*=s.y,a&&this.translate(a.negate()),this._changed(),this},rotate:function(i){i*=Math.PI/180;var s=ie.read(arguments,1),a=s.x,l=s.y,h=Math.cos(i),d=Math.sin(i),p=a-a*h+l*d,g=l-a*d-l*h,m=this._a,v=this._b,b=this._c,w=this._d;return this._a=h*m+d*b,this._b=h*v+d*w,this._c=-d*m+h*b,this._d=-d*v+h*w,this._tx+=p*m+g*b,this._ty+=p*v+g*w,this._changed(),this},shear:function(){var i=arguments,s=ie.read(i),a=ie.read(i,0,{readNull:!0});a&&this.translate(a);var l=this._a,h=this._b;return this._a+=s.y*this._c,this._b+=s.y*this._d,this._c+=s.x*l,this._d+=s.x*h,a&&this.translate(a.negate()),this._changed(),this},skew:function(){var i=arguments,s=ie.read(i),a=ie.read(i,0,{readNull:!0}),l=Math.PI/180,h=new ie(Math.tan(s.x*l),Math.tan(s.y*l));return this.shear(h,a)},append:function(i,s){if(i){var a=this._a,l=this._b,h=this._c,d=this._d,p=i._a,g=i._c,m=i._b,v=i._d,b=i._tx,w=i._ty;this._a=p*a+m*h,this._c=g*a+v*h,this._b=p*l+m*d,this._d=g*l+v*d,this._tx+=b*a+w*h,this._ty+=b*l+w*d,s||this._changed()}return this},prepend:function(i,s){if(i){var a=this._a,l=this._b,h=this._c,d=this._d,p=this._tx,g=this._ty,m=i._a,v=i._c,b=i._b,w=i._d,C=i._tx,D=i._ty;this._a=m*a+v*l,this._c=m*h+v*d,this._b=b*a+w*l,this._d=b*h+w*d,this._tx=m*p+v*g+C,this._ty=b*p+w*g+D,s||this._changed()}return this},appended:function(i){return this.clone().append(i)},prepended:function(i){return this.clone().prepend(i)},invert:function(){var i=this._a,s=this._b,a=this._c,l=this._d,h=this._tx,d=this._ty,p=i*l-s*a,g=null;return p&&!isNaN(p)&&isFinite(h)&&isFinite(d)&&(this._a=l/p,this._b=-s/p,this._c=-a/p,this._d=i/p,this._tx=(a*d-l*h)/p,this._ty=(s*h-i*d)/p,g=this),g},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new st(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var i=this._a*this._d-this._c*this._b;return i&&!isNaN(i)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(i,s,a){return arguments.length<3?this._transformPoint(ie.read(arguments)):this._transformCoordinates(i,s,a)},_transformPoint:function(i,s,a){var l=i.x,h=i.y;return s||(s=new ie),s._set(l*this._a+h*this._c+this._tx,l*this._b+h*this._d+this._ty,a)},_transformCoordinates:function(i,s,a){for(var l=0,h=2*a;l<h;l+=2){var d=i[l],p=i[l+1];s[l]=d*this._a+p*this._c+this._tx,s[l+1]=d*this._b+p*this._d+this._ty}return s},_transformCorners:function(i){var s=i.x,a=i.y,l=s+i.width,h=a+i.height,d=[s,a,l,a,l,h,s,h];return this._transformCoordinates(d,d,4)},_transformBounds:function(i,s,a){for(var l=this._transformCorners(i),h=l.slice(0,2),d=h.slice(),p=2;p<8;p++){var g=l[p],m=1&p;g<h[m]?h[m]=g:g>d[m]&&(d[m]=g)}return s||(s=new Ke),s._set(h[0],h[1],d[0]-h[0],d[1]-h[1],a)},inverseTransform:function(){return this._inverseTransform(ie.read(arguments))},_inverseTransform:function(i,s,a){var l=this._a,h=this._b,d=this._c,p=this._d,g=this._tx,m=this._ty,v=l*p-h*d,b=null;if(v&&!isNaN(v)&&isFinite(g)&&isFinite(m)){var w=i.x-this._tx,C=i.y-this._ty;s||(s=new ie),b=s._set((w*p-C*d)/v,(C*l-w*h)/v,a)}return b},decompose:function(){var m,v,b,i=this._a,s=this._b,a=this._c,l=this._d,h=i*l-s*a,d=Math.sqrt,p=Math.atan2,g=180/Math.PI;if(0!==i||0!==s){var w=d(i*i+s*s);m=Math.acos(i/w)*(s>0?1:-1),v=[w,h/w],b=[p(i*a+s*l,w*w),0]}else if(0!==a||0!==l){var C=d(a*a+l*l);m=Math.asin(a/C)*(l>0?1:-1),v=[h/C,C],b=[0,p(i*a+s*l,C*C)]}else m=0,b=v=[0,0];return{translation:this.getTranslation(),rotation:m*g,scaling:new ie(v),skewing:new ie(b[0]*g,b[1]*g)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new ie(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(i){this.isIdentity()||i.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},ne.each(["a","b","c","d","tx","ty"],function(i){var s=ne.capitalize(i),a="_"+i;this["get"+s]=function(){return this[a]},this["set"+s]=function(l){this[a]=l,this._changed()}},{})),Xt=ne.extend({_class:"Line",initialize:function(s,a,l,h,d){var p=!1;arguments.length>=4?(this._px=s,this._py=a,this._vx=l,this._vy=h,p=d):(this._px=s.x,this._py=s.y,this._vx=a.x,this._vy=a.y,p=l),p||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new ie(this._px,this._py)},getVector:function(){return new ie(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(i,s){return Xt.intersect(this._px,this._py,this._vx,this._vy,i._px,i._py,i._vx,i._vy,!0,s)},getSide:function(i,s){return Xt.getSide(this._px,this._py,this._vx,this._vy,i.x,i.y,!0,s)},getDistance:function(i){return Math.abs(this.getSignedDistance(i))},getSignedDistance:function(i){return Xt.getSignedDistance(this._px,this._py,this._vx,this._vy,i.x,i.y,!0)},isCollinear:function(i){return ie.isCollinear(this._vx,this._vy,i._vx,i._vy)},isOrthogonal:function(i){return ie.isOrthogonal(this._vx,this._vy,i._vx,i._vy)},statics:{intersect:function(i,s,a,l,h,d,p,g,m,v){m||(a-=i,l-=s,p-=h,g-=d);var b=a*g-l*p;if(!ot.isMachineZero(b)){var w=i-h,C=s-d,D=(p*C-g*w)/b,R=(a*C-l*w)/b,M=-1e-12,I=1+1e-12;if(v||M<D&&D<I&&M<R&&R<I)return v||(D=D<=0?0:D>=1?1:D),new ie(i+D*a,s+D*l)}},getSide:function(i,s,a,l,h,d,p,g){p||(a-=i,l-=s);var m=h-i,b=m*l-(d-s)*a;return!g&&ot.isMachineZero(b)&&(b=(m*a+m*a)/(a*a+l*l))>=0&&b<=1&&(b=0),b<0?-1:b>0?1:0},getSignedDistance:function(i,s,a,l,h,d,p){return p||(a-=i,l-=s),0===a?l>0?h-i:i-h:0===l?a<0?d-s:s-d:((h-i)*l-(d-s)*a)/(l>a?l*Math.sqrt(1+a*a/(l*l)):a*Math.sqrt(1+l*l/(a*a)))},getDistance:function(i,s,a,l,h,d,p){return Math.abs(Xt.getSignedDistance(i,s,a,l,h,d,p))}}}),tt=Sn.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(s){Sn.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Jt(null,null,this),this._view=nn.create(this,s||Mt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(i,s){return ne.serialize(this._children,i,!0,s)},_changed:function(i,s){if(1&i){var a=this._view;a&&(a._needsUpdate=!0,!a._requested&&a._autoUpdate&&a.requestUpdate())}var l=this._changes;if(l&&s){var h=this._changesById,d=s._id,p=h[d];p?p.flags|=i:l.push(h[d]={item:s,flags:i})}},clear:function(){for(var i=this._children,s=i.length-1;s>=0;s--)i[s].remove()},isEmpty:function(){return!this._children.length},remove:function i(){return!!i.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(i){this._currentStyle.set(i)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new xn({project:this,insert:!0})},getSymbolDefinitions:function(){var i=[],s={};return this.getItems({class:si,match:function(a){var l=a._definition,h=l._id;return s[h]||(s[h]=!0,i.push(l)),!1}}),i},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var i=this._selectionItems,s=[];for(var a in i){var l=i[a],h=l._selection;1&h&&l.isInserted()?s.push(l):h||this._updateSelection(l)}return s},_updateSelection:function(i){var s=i._id,a=this._selectionItems;i._selection?a[s]!==i&&(this._selectionCount++,a[s]=i):a[s]===i&&(this._selectionCount--,delete a[s])},selectAll:function(){for(var i=this._children,s=0,a=i.length;s<a;s++)i[s].setFullySelected(!0)},deselectAll:function(){var i=this._selectionItems;for(var s in i)i[s].setFullySelected(!1)},addLayer:function(i){return this.insertLayer(De,i)},insertLayer:function(i,s){if(s instanceof xn){s._remove(!1,!0),ne.splice(this._children,[s],i,0),s._setProject(this,!0);var a=s._name;a&&s.setName(a),this._changes&&s._changed(5),this._activeLayer||(this._activeLayer=s)}else s=null;return s},_insertItem:function(i,s,a){return s=this.insertLayer(i,s)||(this._activeLayer||this._insertItem(De,new xn(Ze.NO_INSERT),!0)).insertChild(i,s),a&&s.activate&&s.activate(),s},getItems:function(i){return Ze._getItems(this,i)},getItem:function(i){return Ze._getItems(this,i,null,null,!0)[0]||null},importJSON:function(i){this.activate();var s=this._activeLayer;return ne.importJSON(i,s&&s.isEmpty()&&s)},removeOn:function(i){var s=this._removeSets;if(s){"mouseup"===i&&(s.mousedrag=null);var a=s[i];if(a){for(var l in a){var h=a[l];for(var d in s){var p=s[d];p&&p!=a&&delete p[h._id]}h.remove()}s[i]=null}}},draw:function(i,s,a){this._updateVersion++,i.save(),s.applyToContext(i);for(var l=this._children,h=new ne({offset:new ie(0,0),pixelRatio:a,viewMatrix:s.isIdentity()?null:s,matrices:[new st],updateMatrix:!0}),d=0,p=l.length;d<p;d++)l[d].draw(i,h);if(i.restore(),this._selectionCount>0){i.save(),i.strokeWidth=1;var g=this._selectionItems,m=this._scope.settings.handleSize,v=this._updateVersion;for(var b in g)g[b]._drawSelection(i,s,m,g,v);i.restore()}}}),Ze=ne.extend(Gn,{statics:{extend:function i(s){return s._serializeFields&&(s._serializeFields=ne.set({},this.prototype._serializeFields,s._serializeFields)),i.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new st,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var i=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return ne.each(i,function(s){this._events[s]={install:function(a){this.getView()._countItemEvent(a,1)},uninstall:function(a){this.getView()._countItemEvent(a,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:i}})},{initialize:function(){},_initialize:function(i,s){var a=i&&ne.isPlainObject(i),l=a&&!0===i.internal,h=this._matrix=new st,d=a&&i.project||o.project,p=o.settings;return this._id=l?null:ae.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&p.applyMatrix,s&&h.translate(s),h._owner=this,this._style=new Jt(d._currentStyle,this,d),l||a&&0==i.insert||!p.insertItems&&(!a||1!=i.insert)?this._setProject(d):(a&&i.parent||d)._insertItem(De,this,!0),a&&i!==Ze.NO_INSERT&&i!==Ze.INSERT&&this.set(i,{internal:!0,insert:!0,project:!0,parent:!0}),a},_serialize:function(i,s){var a={},l=this;function h(d){for(var p in d){var g=l[p];ne.equals(g,"leading"===p?1.2*d.fontSize:d[p])||(a[p]=ne.serialize(g,i,"data"!==p,s))}}return h(this._serializeFields),this instanceof Mn||h(this._style._defaults),[this._class,a]},_changed:function(i){var s=this._symbol,a=this._parent||s,l=this._project;8&i&&(this._bounds=this._position=this._decomposed=De),16&i&&(this._globalMatrix=De),a&&72&i&&Ze._clearBoundsCache(a),2&i&&Ze._clearBoundsCache(this),l&&l._changed(i,this),s&&s._changed(i)},getId:function(){return this._id},getName:function(){return this._name},setName:function(i){if(this._name&&this._removeNamed(),i===+i+"")throw new Error("Names consisting only of numbers are not supported.");var s=this._getOwner();if(i&&s){var a=s._children,l=s._namedChildren;(l[i]=l[i]||[]).push(this),i in a||(a[i]=this)}this._name=i||De,this._changed(256)},getStyle:function(){return this._style},setStyle:function(i){this.getStyle().set(i)}},ne.each(["locked","visible","blendMode","opacity","guide"],function(i){var s=ne.capitalize(i),a="_"+i,l={locked:256,visible:265};this["get"+s]=function(){return this[a]},this["set"+s]=function(h){h!=this[a]&&(this[a]=h,this._changed(l[i]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(i){if(i!==this._selection){this._selection=i;var s=this._project;s&&(s._updateSelection(this),this._changed(257))}},_changeSelection:function(i,s){var a=this._selection;this.setSelection(s?a|i:a&~i)},isSelected:function(){if(this._selectChildren)for(var i=this._children,s=0,a=i.length;s<a;s++)if(i[s].isSelected())return!0;return!!(1&this._selection)},setSelected:function(i){if(this._selectChildren)for(var s=this._children,a=0,l=s.length;a<l;a++)s[a].setSelected(i);this._changeSelection(1,i)},isFullySelected:function(){var i=this._children,s=!!(1&this._selection);if(i&&s){for(var a=0,l=i.length;a<l;a++)if(!i[a].isFullySelected())return!1;return!0}return s},setFullySelected:function(i){var s=this._children;if(s)for(var a=0,l=s.length;a<l;a++)s[a].setFullySelected(i);this._changeSelection(1,i)},isClipMask:function(){return this._clipMask},setClipMask:function(i){this._clipMask!=(i=!!i)&&(this._clipMask=i,i&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(i){this._data=i},getPosition:function(i){var s=i?ie:je,a=this._position||(this._position=this._getPositionFromBounds());return new s(a.x,a.y,this,"setPosition")},setPosition:function(){this.translate(ie.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(i){return this._pivot?this._matrix._transformPoint(this._pivot):(i||this.getBounds()).getCenter(!0)},getPivot:function(){var i=this._pivot;return i?new je(i.x,i.y,this,"setPivot"):null},setPivot:function(){this._pivot=ie.read(arguments,0,{clone:!0,readNull:!0}),this._position=De}},ne.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(i,s){this[s]=function(a){return this.getBounds(a,i)}},{beans:!0,getBounds:function(i,s){var a=s||i instanceof st,l=ne.set({},a?s:i,this._boundsOptions);(!l.stroke||this.getStrokeScaling())&&(l.cacheItem=this);var h=this._getCachedBounds(a&&i,l).rect;return arguments.length?h:new Vt(h.x,h.y,h.width,h.height,this,"setBounds")},setBounds:function(){var i=Ke.read(arguments),s=this.getBounds(),a=this._matrix,l=new st,h=i.getCenter();l.translate(h),(i.width!=s.width||i.height!=s.height)&&(a.isInvertible()||(a.set(a._backup||(new st).translate(a.getTranslation())),s=this.getBounds()),l.scale(0!==s.width?i.width/s.width:0,0!==s.height?i.height/s.height:0)),h=s.getCenter(),l.translate(-h.x,-h.y),this.transform(l)},_getBounds:function(i,s){var a=this._children;return a&&a.length?(Ze._updateBoundsCache(this,s.cacheItem),Ze._getBounds(a,i,s)):new Ke},_getBoundsCacheKey:function(i,s){return[i.stroke?1:0,i.handle?1:0,s?1:0].join("")},_getCachedBounds:function(i,s,a){i=i&&i._orNullIfIdentity();var l=s.internal&&!a,h=s.cacheItem,d=l?null:this._matrix._orNullIfIdentity(),p=h&&(!i||i.equals(d))&&this._getBoundsCacheKey(s,l),g=this._bounds;if(Ze._updateBoundsCache(this._parent||this._symbol,h),p&&g&&p in g)return{rect:(m=g[p]).rect.clone(),nonscaling:m.nonscaling};var v=this._getBounds(i||d,s),b=v.rect||v,w=this._style,C=v.nonscaling||w.hasStroke()&&!w.getStrokeScaling();if(p){g||(this._bounds=g={});var m=g[p]={rect:b.clone(),nonscaling:C,internal:l}}return{rect:b,nonscaling:C}},_getStrokeMatrix:function(i,s){var a=this.getStrokeScaling()?null:s&&s.internal?this:this._parent||this._symbol&&this._symbol._item,l=a?a.getViewMatrix().invert():i;return l&&l._shiftless()},statics:{_updateBoundsCache:function(i,s){if(i&&s){var a=s._id,l=i._boundsCache=i._boundsCache||{ids:{},list:[]};l.ids[a]||(l.list.push(s),l.ids[a]=s)}},_clearBoundsCache:function(i){var s=i._boundsCache;if(s){i._bounds=i._position=i._boundsCache=De;for(var a=0,l=s.list,h=l.length;a<h;a++){var d=l[a];d!==i&&(d._bounds=d._position=De,d._boundsCache&&Ze._clearBoundsCache(d))}}},_getBounds:function(i,s,a){var l=1/0,h=-l,d=l,p=h,g=!1;a=a||{};for(var m=0,v=i.length;m<v;m++){var b=i[m];if(b._visible&&!b.isEmpty(!0)){var w=b._getCachedBounds(s&&s.appended(b._matrix),a,!0),C=w.rect;l=Math.min(C.x,l),d=Math.min(C.y,d),h=Math.max(C.x+C.width,h),p=Math.max(C.y+C.height,p),w.nonscaling&&(g=!0)}}return{rect:isFinite(l)?new Ke(l,d,h-l,p-d):new Ke,nonscaling:g}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var i=this._decompose();return i?i.rotation:0},setRotation:function(i){var s=this.getRotation();if(null!=s&&null!=i){var a=this._decomposed;this.rotate(i-s),a&&(a.rotation=i,this._decomposed=a)}},getScaling:function(){var i=this._decompose(),s=i&&i.scaling;return new je(s?s.x:1,s?s.y:1,this,"setScaling")},setScaling:function(){var i=this.getScaling(),s=ie.read(arguments,0,{clone:!0,readNull:!0});if(i&&s&&!i.equals(s)){var a=this.getRotation(),l=this._decomposed,h=new st,d=ot.isZero;if(d(i.x)||d(i.y))h.translate(l.translation),a&&h.rotate(a),h.scale(s.x,s.y),this._matrix.set(h);else{var p=this.getPosition(!0);h.translate(p),a&&h.rotate(a),h.scale(s.x/i.x,s.y/i.y),a&&h.rotate(-a),h.translate(p.negate()),this.transform(h)}l&&(l.scaling=s,this._decomposed=l)}},getMatrix:function(){return this._matrix},setMatrix:function(){var i=this._matrix;i.set.apply(i,arguments)},getGlobalMatrix:function(i){var s=this._globalMatrix;if(s)for(var a=this._parent,l=[];a;){if(!a._globalMatrix){s=null;for(var h=0,d=l.length;h<d;h++)l[h]._globalMatrix=null;break}l.push(a),a=a._parent}return s||(s=this._globalMatrix=this._matrix.clone(),(a=this._parent)&&s.prepend(a.getGlobalMatrix(!0))),i?s:s.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(i){(this._applyMatrix=this._canApplyMatrix&&!!i)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(i,s){if(this._project!==i){this._project&&this._installEvents(!1),this._project=i;for(var a=this._children,l=0,h=a&&a.length;l<h;l++)a[l]._setProject(i);s=!0}s&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function i(s){i.base.call(this,s);for(var a=this._children,l=0,h=a&&a.length;l<h;l++)a[l]._installEvents(s)},getLayer:function(){for(var i=this;i=i._parent;)if(i instanceof xn)return i;return null},getParent:function(){return this._parent},setParent:function(i){return i.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(i){this.removeChildren(),this.addChildren(i)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var i=this._getOwner();return i&&i._children[this._index+1]||null},getPreviousSibling:function(){var i=this._getOwner();return i&&i._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(i){return i===this||i&&this._class===i._class&&this._style.equals(i._style)&&this._matrix.equals(i._matrix)&&this._locked===i._locked&&this._visible===i._visible&&this._blendMode===i._blendMode&&this._opacity===i._opacity&&this._clipMask===i._clipMask&&this._guide===i._guide&&this._equals(i)||!1},_equals:function(i){return ne.equals(this._children,i._children)},clone:function(i){var s=new this.constructor(Ze.NO_INSERT),a=this._children,l=ne.pick(i?i.insert:De,i===De||!0===i),h=ne.pick(i?i.deep:De,!0);a&&s.copyAttributes(this),(!a||h)&&s.copyContent(this),a||s.copyAttributes(this),l&&s.insertAbove(this);var d=this._name,p=this._parent;if(d&&p){a=p._children;for(var g=d,m=1;a[d];)d=g+" "+m++;d!==g&&s.setName(d)}return s},copyContent:function(i){for(var s=i._children,a=0,l=s&&s.length;a<l;a++)this.addChild(s[a].clone(!1),!0)},copyAttributes:function(i,s){this.setStyle(i._style);for(var a=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],l=0,h=a.length;l<h;l++){var d=a[l];i.hasOwnProperty(d)&&(this[d]=i[d])}s||this._matrix.set(i._matrix,!0),this.setApplyMatrix(i._applyMatrix),this.setPivot(i._pivot),this.setSelection(i._selection);var p=i._data,g=i._name;this._data=p?ne.clone(p):null,g&&this.setName(g)},rasterize:function(i,s){var a,l,h;ne.isPlainObject(i)?(a=i.resolution,l=i.insert,h=i.raster):(a=i,l=s),h||(h=new Dn(Ze.NO_INSERT));var d=this.getStrokeBounds(),p=(a||this.getView().getResolution())/72,g=d.getTopLeft().floor(),m=d.getBottomRight().ceil(),v=new Ee(m.subtract(g)),b=v.multiply(p);if(h.setSize(b,!0),!b.isZero()){var w=h.getContext(!0),C=(new st).scale(p).translate(g.negate());w.save(),C.applyToContext(w),this.draw(w,new ne({matrices:[C]})),w.restore()}return h._matrix.set((new st).translate(g.add(v.divide(2))).scale(1/p)),(l===De||l)&&h.insertAbove(this),h},contains:function(){var i=this._matrix;return i.isInvertible()&&!!this._contains(i._inverseTransform(ie.read(arguments)))},_contains:function(i){var s=this._children;if(s){for(var a=s.length-1;a>=0;a--)if(s[a].contains(i))return!0;return!1}return i.isInside(this.getInternalBounds())},isInside:function(){return Ke.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new gt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(i,s){return i instanceof Ze&&this._asPathItem().getIntersections(i._asPathItem(),null,s,!0).length>0}},new function(){function i(){var l=arguments;return this._hitTest(ie.read(l),Ne.getOptions(l))}function s(){var l=arguments,h=ie.read(l),d=Ne.getOptions(l),p=[];return this._hitTest(h,new ne({all:p},d)),p}function a(l,h,d,p){var g=this._children;if(g)for(var m=g.length-1;m>=0;m--){var v=g[m],b=v!==p&&v._hitTest(l,h,d);if(b&&!h.all)return b}return null}return tt.inject({hitTest:i,hitTestAll:s,_hitTest:a}),{hitTest:i,hitTestAll:s,_hitTestChildren:a}},{_hitTest:function(i,s,a){if(this._locked||!this._visible||this._guide&&!s.guides||this.isEmpty())return null;var l=this._matrix,h=a?a.appended(l):this.getGlobalMatrix().prepend(this.getView()._matrix),d=Math.max(s.tolerance,1e-12),p=s._tolerancePadding=new Ee(gt._getStrokePadding(d,l._shiftless().invert()));if(!(i=l._inverseTransform(i))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(p.multiply(2))._containsPoint(i))return null;var b,w,g=!(s.guides&&!this._guide||s.selected&&!this.isSelected()||s.type&&s.type!==ne.hyphenate(this._class)||s.class&&!(this instanceof s.class)),m=s.match,v=this;function C(S){return S&&m&&!m(S)&&(S=null),S&&s.all&&s.all.push(S),S}function D(S,E){var k=E?b["get"+E]():v.getPosition();if(i.subtract(k).divide(p).length<=1)return new Ne(S,v,{name:E?ne.hyphenate(E):S,point:k})}var R=s.position,P=s.center,M=s.bounds;if(g&&this._parent&&(R||P||M)){if((P||M)&&(b=this.getInternalBounds()),!(w=R&&D("position")||P&&D("center","Center"))&&M)for(var I=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!w;x++)w=D("bounds",I[x]);w=C(w)}return w||(w=this._hitTestChildren(i,s,h)||g&&C(this._hitTestSelf(i,s,h,this.getStrokeScaling()?null:h._shiftless().invert()))||null),w&&w.point&&(w.point=l.transform(w.point)),w},_hitTestSelf:function(i,s){if(s.fill&&this.hasFill()&&this._contains(i))return new Ne("fill",this)},matches:function(i,s){var l=typeof i;if("object"===l){for(var h in i)if(i.hasOwnProperty(h)&&!this.matches(h,i[h]))return!1;return!0}if("function"===l)return i(this);if("match"===i)return s(this);var d=/^(empty|editable)$/.test(i)?this["is"+ne.capitalize(i)]():"type"===i?ne.hyphenate(this._class):this[i];if("class"===i){if("function"==typeof s)return this instanceof s;d=this._class}if("function"==typeof s)return!!s(d);if(s){if(s.test)return s.test(d);if(ne.isPlainObject(s))return function a(p,g){for(var m in p)if(p.hasOwnProperty(m)){var v=p[m],b=g[m];if(ne.isPlainObject(v)&&ne.isPlainObject(b)){if(!a(v,b))return!1}else if(!ne.equals(v,b))return!1}return!0}(s,d)}return ne.equals(d,s)},getItems:function(i){return Ze._getItems(this,i,this._matrix)},getItem:function(i){return Ze._getItems(this,i,this._matrix,null,!0)[0]||null},statics:{_getItems:function i(s,a,l,h,d){if(!h){var p="object"==typeof a&&a,g=p&&p.overlapping,m=p&&p.inside,C=(v=g||m)&&Ke.read([v]);h={items:[],recursive:p&&!1!==p.recursive,inside:!!m,overlapping:!!g,rect:C,path:g&&new gt.Rectangle({rectangle:C,insert:!1})},p&&(a=ne.filter({},a,{recursive:!0,inside:!0,overlapping:!0}))}var b=s._children,w=h.items;l=(C=h.rect)&&(l||new st);for(var D=0,R=b&&b.length;D<R;D++){var P=b[D],M=l&&l.appended(P._matrix),I=!0;if(C){var v=P.getBounds(M);if(!C.intersects(v))continue;C.contains(v)||h.overlapping&&(v.contains(C)||h.path.intersects(P,M))||(I=!1)}if(I&&P.matches(a)&&(w.push(P),d)||(!1!==h.recursive&&i(P,a,M,h,d),d&&w.length>0))break}return w}}},{importJSON:function(i){var s=ne.importJSON(i,this);return s!==this?this.addChild(s):s},addChild:function(i){return this.insertChild(De,i)},insertChild:function(i,s){var a=s?this.insertChildren(i,[s]):null;return a&&a[0]},addChildren:function(i){return this.insertChildren(this._children.length,i)},insertChildren:function(i,s){var a=this._children;if(a&&s&&s.length>0){for(var l={},h=(s=ne.slice(s)).length-1;h>=0;h--){var p=(d=s[h])&&d._id;!d||l[p]?s.splice(h,1):(d._remove(!1,!0),l[p]=!0)}ne.splice(a,s,i,0);for(var g=this._project,m=g._changes,v=(h=0,s.length);h<v;h++){var d,b=(d=s[h])._name;d._parent=this,d._setProject(g,!0),b&&d.setName(b),m&&d._changed(5)}this._changed(11)}else s=null;return s},_insertItem:"#insertChild",_insertAt:function(i,s){var a=i&&i._getOwner(),l=i!==this&&a?this:null;return l&&(l._remove(!1,!0),a._insertItem(i._index+s,l)),l},insertAbove:function(i){return this._insertAt(i,1)},insertBelow:function(i){return this._insertAt(i,0)},sendToBack:function(){var i=this._getOwner();return i?i._insertItem(0,this):null},bringToFront:function(){var i=this._getOwner();return i?i._insertItem(De,this):null},appendTop:"#addChild",appendBottom:function(i){return this.insertChild(0,i)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(i){return i._insertItem(De,this)},copyTo:function(i){return this.clone(!1).addTo(i)},reduce:function(i){var s=this._children;if(s&&1===s.length){var a=s[0].reduce(i);return this._parent?(a.insertAbove(this),this.remove()):a.remove(),a}return this},_removeNamed:function(){var i=this._getOwner();if(i){var s=i._children,a=i._namedChildren,l=this._name,h=a[l],d=h?h.indexOf(this):-1;-1!==d&&(s[l]==this&&delete s[l],h.splice(d,1),h.length?s[l]=h[0]:delete a[l])}},_remove:function(i,s){var a=this._getOwner(),l=this._project,h=this._index;return this._style&&this._style._dispose(),!!a&&(this._name&&this._removeNamed(),null!=h&&(l._activeLayer===this&&(l._activeLayer=this.getNextSibling()||this.getPreviousSibling()),ne.splice(a._children,null,h,1)),this._installEvents(!1),i&&l._changes&&this._changed(5),s&&a._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(i){var s=i&&i.insertBelow(this);return s&&this.remove(),s},removeChildren:function(i,s){if(!this._children)return null;i=i||0,s=ne.pick(s,this._children.length);for(var a=ne.splice(this._children,null,i,s-i),l=a.length-1;l>=0;l--)a[l]._remove(!0,!1);return a.length>0&&this._changed(11),a},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var i=0,s=this._children.length;i<s;i++)this._children[i]._index=i;this._changed(11)}},isEmpty:function(i){var s=this._children,a=s?s.length:0;if(i){for(var l=0;l<a;l++)if(!s[l].isEmpty(i))return!1;return!0}return!a},isEditable:function(){for(var i=this;i;){if(!i._visible||i._locked)return!1;i=i._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(i){function s(p){var g=[];do{g.unshift(p)}while(p=p._parent);return g}for(var a=s(this),l=s(i),h=0,d=Math.min(a.length,l.length);h<d;h++)if(a[h]!=l[h])return a[h]._index<l[h]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(i){return-1===this._getOrder(i)},isBelow:function(i){return 1===this._getOrder(i)},isParent:function(i){return this._parent===i},isChild:function(i){return i&&i._parent===this},isDescendant:function(i){for(var s=this;s=s._parent;)if(s===i)return!0;return!1},isAncestor:function(i){return!!i&&i.isDescendant(this)},isSibling:function(i){return this._parent===i._parent},isGroupedWith:function(i){for(var s=this._parent;s;){if(s._parent&&/^(Group|Layer|CompoundPath)$/.test(s._class)&&i.isDescendant(s))return!0;s=s._parent}return!1}},ne.each(["rotate","scale","shear","skew"],function(i){var s="rotate"===i;this[i]=function(){var a=arguments,l=(s?ne:ie).read(a),h=ie.read(a,0,{readNull:!0});return this.transform((new st)[i](l,h||this.getPosition(!0)))}},{translate:function(){var i=new st;return this.transform(i.translate.apply(i,arguments))},transform:function(i,s,a){var l=this._matrix,h=i&&!i.isIdentity(),d=a&&this._canApplyMatrix||this._applyMatrix&&(h||!l.isIdentity()||s&&this._children);if(!h&&!d)return this;if(h){!i.isInvertible()&&l.isInvertible()&&(l._backup=l.getValues()),l.prepend(i,!0);var p=this._style,g=p.getFillColor(!0),m=p.getStrokeColor(!0);g&&g.transform(i),m&&m.transform(i)}if(d&&(d=this._transformContent(l,s,a))){var v=this._pivot;v&&l._transformPoint(v,v,!0),l.reset(!0),a&&this._canApplyMatrix&&(this._applyMatrix=!0)}var b=this._bounds,w=this._position;(h||d)&&this._changed(25);var C=h&&b&&i.decompose();if(C&&C.skewing.isZero()&&C.rotation%90==0){for(var D in b){var R=b[D];if(R.nonscaling)delete b[D];else if(d||!R.internal){var P=R.rect;i._transformBounds(P,P)}}this._bounds=b;var M=b[this._getBoundsCacheKey(this._boundsOptions||{})];M&&(this._position=this._getPositionFromBounds(M.rect))}else h&&w&&this._pivot&&(this._position=i._transformPoint(w,w));return this},_transformContent:function(i,s,a){var l=this._children;if(l){for(var h=0,d=l.length;h<d;h++)l[h].transform(i,s,a);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(ie.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(ie.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(ie.read(arguments))},localToParent:function(){return this._matrix._transformPoint(ie.read(arguments))},fitBounds:function(i,s){i=Ke.read(arguments);var a=this.getBounds(),l=a.height/a.width,h=i.height/i.width,d=(s?l>h:l<h)?i.width/a.width:i.height/a.height,p=new Ke(new ie,new Ee(a.width*d,a.height*d));p.setCenter(i.getCenter()),this.setBounds(p)}}),{_setStyles:function(i,s,a){var l=this._style,h=this._matrix;if(l.hasFill()&&(i.fillStyle=l.getFillColor().toCanvasStyle(i,h)),l.hasStroke()){i.strokeStyle=l.getStrokeColor().toCanvasStyle(i,h),i.lineWidth=l.getStrokeWidth();var d=l.getStrokeJoin(),p=l.getStrokeCap(),g=l.getMiterLimit();if(d&&(i.lineJoin=d),p&&(i.lineCap=p),g&&(i.miterLimit=g),o.support.nativeDash){var m=l.getDashArray(),v=l.getDashOffset();m&&m.length&&("setLineDash"in i?(i.setLineDash(m),i.lineDashOffset=v):(i.mozDash=m,i.mozDashOffset=v))}}if(l.hasShadow()){var b=s.pixelRatio||1,w=a._shiftless().prepend((new st).scale(b,b)),C=w.transform(new ie(l.getShadowBlur(),0)),D=w.transform(this.getShadowOffset());i.shadowColor=l.getShadowColor().toCanvasStyle(i),i.shadowBlur=C.getLength(),i.shadowOffsetX=D.x,i.shadowOffsetY=D.y}},draw:function(i,s,a){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var h=s.matrices,d=s.viewMatrix,p=this._matrix,g=h[h.length-1].appended(p);if(g.isInvertible()){d=d?d.appended(g):g,h.push(g),s.updateMatrix&&(this._globalMatrix=g);var R,P,M,m=this._blendMode,v=ot.clamp(this._opacity,0,1),b="normal"===m,w=rn.nativeModes[m],C=b&&1===v||s.dontStart||s.clip||(w||b&&v<1)&&this._canComposite(),D=s.pixelRatio||1;if(!C){var I=this.getStrokeBounds(d);if(!I.width||!I.height)return void h.pop();M=s.offset,P=s.offset=I.getTopLeft().floor(),R=i,i=Mt.getContext(I.getSize().ceil().add(1).multiply(D)),1!==D&&i.scale(D,D)}i.save();var x=a?a.appended(p):this._canScaleStroke&&!this.getStrokeScaling(!0)&&d,S=!C&&s.clipItem,E=!x||S;if(C?(i.globalAlpha=v,w&&(i.globalCompositeOperation=m)):E&&i.translate(-P.x,-P.y),E&&(C?p:d).applyToContext(i),S&&s.clipItem.draw(i,s.extend({clip:!0})),x){i.setTransform(D,0,0,D,0,0);var k=s.offset;k&&i.translate(-k.x,-k.y)}this._draw(i,s,d,x),i.restore(),h.pop(),s.clip&&!s.dontFinish&&i.clip(this.getFillRule()),C||(rn.process(m,i,R,v,P.subtract(M).multiply(D)),Mt.release(i),s.offset=M)}}},_isUpdated:function(i){var s=this._parent;if(s instanceof Jn)return s._isUpdated(i);var a=this._updateVersion===i;return!a&&s&&s._visible&&s._isUpdated(i)&&(this._updateVersion=i,a=!0),a},_drawSelection:function(i,s,a,l,h){var d=this._selection,p=1&d,g=2&d||p&&this._selectBounds,m=4&d;if(this._drawSelected||(p=!1),(p||g||m)&&this._isUpdated(h)){var v,b=this.getSelectedColor(!0)||(v=this.getLayer())&&v.getSelectedColor(!0),w=s.appended(this.getGlobalMatrix(!0)),C=a/2;if(i.strokeStyle=i.fillStyle=b?b.toCanvasStyle(i):"#009dec",p&&this._drawSelected(i,w,l),m){var D=this.getPosition(!0),R=this._parent,P=R?R.localToGlobal(D):D,M=P.x,I=P.y;i.beginPath(),i.arc(M,I,C,0,2*Math.PI,!0),i.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],S=C,E=a+1,k=0;k<4;k++){var N=x[k],O=N[0],F=N[1];i.moveTo(M+O*S,I+F*S),i.lineTo(M+O*E,I+F*E),i.stroke()}}if(g){var B=w._transformCorners(this.getInternalBounds());for(i.beginPath(),k=0;k<8;k++)i[k?"lineTo":"moveTo"](B[k],B[++k]);for(i.closePath(),i.stroke(),k=0;k<8;k++)i.fillRect(B[k]-C,B[++k]-C,a,a)}}},_canComposite:function(){return!1}},ne.each(["down","drag","up","move"],function(i){this["removeOn"+ne.capitalize(i)]=function(){var s={};return s[i]=!0,this.removeOn(s)}},{removeOn:function(i){for(var s in i)if(i[s]){var a="mouse"+s,l=this._project,h=l._removeSets=l._removeSets||{};h[a]=h[a]||{},h[a][this._id]=this}return this}}),{tween:function(i,s,a){a||(a=s,s=i,i=null,a||(a=s,s=null));var d=null!=a&&("number"==typeof a?a:a.duration),p=new an(this,i,s,d,a&&a.easing,a&&a.start);return d&&this.on("frame",function g(m){p._handleFrame(1e3*m.time),p.running||this.off("frame",g)}),p},tweenTo:function(i,s){return this.tween(null,i,s)},tweenFrom:function(i,s){return this.tween(i,null,s)}}),Mn=Ze.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||this.addChildren(Array.isArray(s)?s:arguments)},_changed:function i(s){i.base.call(this,s),2050&s&&(this._clipItem=De)},_getClipItem:function(){var i=this._clipItem;if(i===De){i=null;for(var s=this._children,a=0,l=s.length;a<l;a++)if(s[a]._clipMask){i=s[a];break}this._clipItem=i}return i},isClipped:function(){return!!this._getClipItem()},setClipped:function(i){var s=this.getFirstChild();s&&s.setClipMask(i)},_getBounds:function i(s,a){var l=this._getClipItem();return l?l._getCachedBounds(l._matrix.prepended(s),ne.set({},a,{stroke:!1})):i.base.call(this,s,a)},_hitTestChildren:function i(s,a,l){var h=this._getClipItem();return(!h||h.contains(s))&&i.base.call(this,s,a,l,h)},_draw:function(i,s){var a=s.clip,l=!a&&this._getClipItem();s=s.extend({clipItem:l,clip:!1}),a?(i.beginPath(),s.dontStart=s.dontFinish=!0):l&&l.draw(i,s.extend({clip:!0}));for(var h=this._children,d=0,p=h.length;d<p;d++){var g=h[d];g!==l&&g.draw(i,s)}}}),xn=Mn.extend({_class:"Layer",initialize:function(){Mn.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function i(){return this._parent?i.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),fn=Ze.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(s,a){this._initialize(s,a)},_equals:function(i){return this._type===i._type&&this._size.equals(i._size)&&ne.equals(this._radius,i._radius)},copyContent:function(i){this.setType(i._type),this.setSize(i._size),this.setRadius(i._radius)},getType:function(){return this._type},setType:function(i){this._type=i},getShape:"#getType",setShape:"#setType",getSize:function(){var i=this._size;return new W(i.width,i.height,this,"setSize")},setSize:function(){var i=Ee.read(arguments);if(this._size){if(!this._size.equals(i)){var s=this._type,a=i.width,l=i.height;"rectangle"===s?this._radius.set(Ee.min(this._radius,i.divide(2).abs())):"circle"===s?(a=l=(a+l)/2,this._radius=a/2):"ellipse"===s&&this._radius._set(a/2,l/2),this._size._set(a,l),this._changed(9)}}else this._size=i.clone()},getRadius:function(){var i=this._radius;return"circle"===this._type?i:new W(i.width,i.height,this,"setRadius")},setRadius:function(i){var s=this._type;if("circle"===s){if(i===this._radius)return;var a=2*i;this._radius=i,this._size._set(a,a)}else if(i=Ee.read(arguments),this._radius){if(this._radius.equals(i))return;this._radius.set(i),"rectangle"===s?(a=Ee.max(this._size,i.multiply(2)),this._size.set(a)):"ellipse"===s&&this._size._set(2*i.width,2*i.height)}else this._radius=i.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(i){var s=new(gt[ne.capitalize(this._type)])({center:new ie,size:this._size,radius:this._radius,insert:!1});return s.copyAttributes(this),o.settings.applyMatrix&&s.setApplyMatrix(!0),(i===De||i)&&s.insertAbove(this),s},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(i,s,a,l){var h=this._style,d=h.hasFill(),p=h.hasStroke(),g=s.dontFinish||s.clip,m=!l;if(d||p||g){var v=this._type,b=this._radius,w="circle"===v;if(s.dontStart||i.beginPath(),m&&w)i.arc(0,0,b,0,2*Math.PI,!0);else{var C=w?b:b.width,D=w?b:b.height,R=this._size,P=R.width,M=R.height;if(m&&"rectangle"===v&&0===C&&0===D)i.rect(-P/2,-M/2,P,M);else{var I=P/2,x=M/2,S=.44771525016920644,E=C*S,k=D*S,N=[-I,-x+D,-I,-x+k,-I+E,-x,-I+C,-x,I-C,-x,I-E,-x,I,-x+k,I,-x+D,I,x-D,I,x-k,I-E,x,I-C,x,-I+C,x,-I+E,x,-I,x-k,-I,x-D];l&&l.transform(N,N,32),i.moveTo(N[0],N[1]),i.bezierCurveTo(N[2],N[3],N[4],N[5],N[6],N[7]),I!==C&&i.lineTo(N[8],N[9]),i.bezierCurveTo(N[10],N[11],N[12],N[13],N[14],N[15]),x!==D&&i.lineTo(N[16],N[17]),i.bezierCurveTo(N[18],N[19],N[20],N[21],N[22],N[23]),I!==C&&i.lineTo(N[24],N[25]),i.bezierCurveTo(N[26],N[27],N[28],N[29],N[30],N[31])}}i.closePath()}!g&&(d||p)&&(this._setStyles(i,s,a),d&&(i.fill(h.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),p&&i.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(i,s){var a=new Ke(this._size).setCenter(0,0),l=this._style,h=s.stroke&&l.hasStroke()&&l.getStrokeWidth();return i&&(a=i._transformBounds(a)),h?a.expand(gt._getStrokePadding(h,this._getStrokeMatrix(i,s))):a}},new function(){function i(a,l,h){var d=a._radius;if(!d.isZero())for(var p=a._size.divide(2),g=1;g<=4;g++){var m=new ie(g>1&&g<4?-1:1,g>2?-1:1),v=m.multiply(p),b=v.subtract(m.multiply(d));if(new Ke(h?v.add(m.multiply(h)):v,b).contains(l))return{point:b,quadrant:g}}}function s(a,l,h,d){var p=a.divide(l);return(!d||p.isInQuadrant(d))&&p.subtract(p.normalize()).multiply(l).divide(h).length<=1}return{_contains:function a(l){if("rectangle"===this._type){var h=i(this,l);return h?l.subtract(h.point).divide(this._radius).getLength()<=1:a.base.call(this,l)}return l.divide(this.size).getLength()<=.5},_hitTestSelf:function a(l,h,d,p){var g=!1,m=this._style,v=h.stroke&&m.hasStroke(),b=h.fill&&m.hasFill();if(v||b){var w=this._type,C=this._radius,D=v?m.getStrokeWidth()/2:0,R=h._tolerancePadding.add(gt._getStrokePadding(D,!m.getStrokeScaling()&&p));if("rectangle"===w){var P=R.multiply(2),M=i(this,l,P);if(M)g=s(l.subtract(M.point),C,R,M.quadrant);else{var I=new Ke(this._size).setCenter(0,0),x=I.expand(P),S=I.expand(P.negate());g=x._containsPoint(l)&&!S._containsPoint(l)}}else g=s(l,C,R)}return g?new Ne(v?"stroke":"fill",this):a.base.apply(this,arguments)}}},{statics:new function(){function i(s,a,l,h,d){var p=ne.create(fn.prototype);return p._type=s,p._size=l,p._radius=h,p._initialize(ne.getNamed(d),a),p}return{Circle:function(){var s=arguments,a=ie.readNamed(s,"center"),l=ne.readNamed(s,"radius");return i("circle",a,new Ee(2*l),l,s)},Rectangle:function(){var s=arguments,a=Ke.readNamed(s,"rectangle"),l=Ee.min(Ee.readNamed(s,"radius"),a.getSize(!0).divide(2));return i("rectangle",a.getCenter(!0),a.getSize(!0),l,s)},Ellipse:function(){var s=arguments,a=fn._readEllipse(s),l=a.radius;return i("ellipse",a.center,l.multiply(2),l,s)},_readEllipse:function(s){var a,l;if(ne.hasNamed(s,"radius"))a=ie.readNamed(s,"center"),l=Ee.readNamed(s,"radius");else{var h=Ke.readNamed(s,"rectangle");a=h.getCenter(!0),l=h.getSize(!0).divide(2)}return{center:a,radius:l}}}}}),Dn=Ze.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(s,a){if(!this._initialize(s,a!==De&&ie.read(arguments))){var l,h=typeof s,d="string"===h?ee.getElementById(s):"object"===h?s:null;if(d&&d!==Ze.NO_INSERT)if(d.getContext||null!=d.naturalHeight)l=d;else if(d){var p=Ee.read(arguments);p.isZero()||(l=Mt.getCanvas(p))}l?this.setImage(l):this.setSource(s)}this._size||(this._size=new Ee,this._loaded=!1)},_equals:function(i){return this.getSource()===i.getSource()},copyContent:function(i){var s=i._image,a=i._canvas;if(s)this._setImage(s);else if(a){var l=Mt.getCanvas(i._size);l.getContext("2d").drawImage(a,0,0),this._setImage(l)}this._crossOrigin=i._crossOrigin},getSize:function(){var i=this._size;return new W(i?i.width:0,i?i.height:0,this,"setSize")},setSize:function(i,s){var a=Ee.read(arguments);if(a.equals(this._size))s&&this.clear();else if(a.width>0&&a.height>0){var l=!s&&this.getElement();this._setImage(Mt.getCanvas(a)),l&&this.getContext(!0).drawImage(l,0,0,a.width,a.height)}else this._canvas&&Mt.release(this._canvas),this._size=a.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(i){this.setSize(i,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(i){this.setSize(this.getWidth(),i)},getLoaded:function(){return this._loaded},isEmpty:function(){var i=this._size;return!i||0===i.width&&0===i.height},getResolution:function(){var i=this._matrix,s=new ie(0,0).transform(i),a=new ie(1,0).transform(i).subtract(s),l=new ie(0,1).transform(i).subtract(s);return new Ee(72/a.getLength(),72/l.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(i){var s=this;function a(l){var h=s.getView(),d=l&&l.type||"load";h&&s.responds(d)&&(o=h._scope,s.emit(d,new Gi(l)))}this._setImage(i),this._loaded?setTimeout(a,0):i&&yt.add(i,{load:function(l){s._setImage(i),a(l)},error:a})},_setImage:function(i){this._canvas&&Mt.release(this._canvas),i&&i.getContext?(this._image=null,this._canvas=i,this._loaded=!0):(this._image=i,this._canvas=null,this._loaded=!!(i&&i.src&&i.complete)),this._size=new Ee(i?i.naturalWidth||i.width:0,i?i.naturalHeight||i.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var i=Mt.getContext(this._size);try{this._image&&i.drawImage(this._image,0,0),this._canvas=i.canvas}catch{Mt.release(i)}}return this._canvas},setCanvas:"#setImage",getContext:function(i){return this._context||(this._context=this.getCanvas().getContext("2d")),i&&(this._image=null,this._changed(1025)),this._context},setContext:function(i){this._context=i},getSource:function(){var i=this._image;return i&&i.src||this.toDataURL()},setSource:function(i){var s=new xe.Image,a=this._crossOrigin;a&&(s.crossOrigin=a),i&&(s.src=i),this.setImage(s)},getCrossOrigin:function(){var i=this._image;return i&&i.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(i){this._crossOrigin=i;var s=this._image;s&&(s.crossOrigin=i)},getSmoothing:function(){return this._smoothing},setSmoothing:function(i){this._smoothing="string"==typeof i?i:i?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var i=Ke.read(arguments),s=Mt.getContext(i.getSize());return s.drawImage(this.getCanvas(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),s.canvas},getSubRaster:function(){var i=Ke.read(arguments),s=new Dn(Ze.NO_INSERT);return s._setImage(this.getSubCanvas(i)),s.translate(i.getCenter().subtract(this.getSize().divide(2))),s._matrix.prepend(this._matrix),s.insertAbove(this),s},toDataURL:function(){var i=this._image,s=i&&i.src;if(/^data:/.test(s))return s;var a=this.getCanvas();return a?a.toDataURL.apply(a,arguments):null},drawImage:function(i){var s=ie.read(arguments,1);this.getContext(!0).drawImage(i,s.x,s.y)},getAverageColor:function(i){var s,a;if(i?i instanceof at?(a=i,s=i.getBounds()):"object"==typeof i&&("width"in i?s=new Ke(i):"x"in i&&(s=new Ke(i.x-.5,i.y-.5,1,1))):s=this.getBounds(),!s)return null;var h=Math.min(s.width,32),d=Math.min(s.height,32),p=Dn._sampleContext;p?p.clearRect(0,0,33,33):p=Dn._sampleContext=Mt.getContext(new Ee(32)),p.save();var g=(new st).scale(h/s.width,d/s.height).translate(-s.x,-s.y);g.applyToContext(p),a&&a.draw(p,new ne({clip:!0,matrices:[g]})),this._matrix.applyToContext(p);var m=this.getElement(),v=this._size;m&&p.drawImage(m,-v.width/2,-v.height/2),p.restore();for(var b=p.getImageData(.5,.5,Math.ceil(h),Math.ceil(d)).data,w=[0,0,0],C=0,D=0,R=b.length;D<R;D+=4){var P=b[D+3];C+=P,w[0]+=b[D]*(P/=255),w[1]+=b[D+1]*P,w[2]+=b[D+2]*P}for(D=0;D<3;D++)w[D]/=C;return C?Kt.read(w):null},getPixel:function(){var i=ie.read(arguments),s=this.getContext().getImageData(i.x,i.y,1,1).data;return new Kt("rgb",[s[0]/255,s[1]/255,s[2]/255],s[3]/255)},setPixel:function(){var i=arguments,s=ie.read(i),a=Kt.read(i),l=a._convert("rgb"),h=a._alpha,d=this.getContext(!0),p=d.createImageData(1,1),g=p.data;g[0]=255*l[0],g[1]=255*l[1],g[2]=255*l[2],g[3]=null!=h?255*h:255,d.putImageData(p,s.x,s.y)},clear:function(){var i=this._size;this.getContext(!0).clearRect(0,0,i.width+1,i.height+1)},createImageData:function(){var i=Ee.read(arguments);return this.getContext().createImageData(i.width,i.height)},getImageData:function(){var i=Ke.read(arguments);return i.isEmpty()&&(i=new Ke(this._size)),this.getContext().getImageData(i.x,i.y,i.width,i.height)},putImageData:function(i){var s=ie.read(arguments,1);this.getContext(!0).putImageData(i,s.x,s.y)},setImageData:function(i){this.setSize(i),this.getContext(!0).putImageData(i,0,0)},_getBounds:function(i,s){var a=new Ke(this._size).setCenter(0,0);return i?i._transformBounds(a):a},_hitTestSelf:function(i){if(this._contains(i)){var s=this;return new Ne("pixel",s,{offset:i.add(s._size.divide(2)).round(),color:{get:function(){return s.getPixel(this.offset)}}})}},_draw:function(i,s,a){var l=this.getElement();if(l&&l.width>0&&l.height>0){i.globalAlpha=ot.clamp(this._opacity,0,1),this._setStyles(i,s,a);var h=this._smoothing,d="off"===h;bt.setPrefixed(i,d?"imageSmoothingEnabled":"imageSmoothingQuality",!d&&h),i.drawImage(l,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),si=Ze.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(s,a){this._initialize(s,a!==De&&ie.read(arguments,1))||this.setDefinition(s instanceof tn?s:new tn(s))},_equals:function(i){return this._definition===i._definition},copyContent:function(i){this.setDefinition(i._definition)},getDefinition:function(){return this._definition},setDefinition:function(i){this._definition=i,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(i,s){var a=this._definition._item;return a._getCachedBounds(a._matrix.prepended(i),s)},_hitTestSelf:function(i,s,a){var l=s.extend({all:!1}),h=this._definition._item._hitTest(i,l,a);return h&&(h.item=this),h},_draw:function(i,s){this._definition._item.draw(i,s)}}),tn=ne.extend({_class:"SymbolDefinition",initialize:function(s,a){this._id=ae.get(),this.project=o.project,s&&this.setItem(s,a)},_serialize:function(i,s){return s.add(this,function(){return ne.serialize([this._class,this._item],i,!1,s)})},_changed:function(i){8&i&&Ze._clearBoundsCache(this),1&i&&this.project._changed(i)},getItem:function(){return this._item},setItem:function(i,s){i._symbol&&(i=i.clone()),this._item&&(this._item._symbol=null),this._item=i,i.remove(),i.setSelected(!1),s||i.setPosition(new ie),i._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(i){return new si(this,i)},clone:function(){return new tn(this._item.clone(!1))},equals:function(i){return i===this||i&&this._item.equals(i._item)||!1}}),Ne=ne.extend({_class:"HitResult",initialize:function(s,a,l){this.type=s,this.item=a,l&&this.inject(l)},statics:{getOptions:function(i){var s=i&&ne.read(i);return new ne({type:null,tolerance:o.settings.hitTolerance,fill:!s,stroke:!s,segments:!s,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},s)}}}),Xe=ne.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(s,a,l,h,d,p){var m,v,b,w,g=arguments.length;g>0&&(null==s||"object"==typeof s?1===g&&s&&"point"in s?(m=s.point,v=s.handleIn,b=s.handleOut,w=s.selection):(m=s,v=a,b=l,w=h):(m=[s,a],v=l!==De?[l,h]:null,b=d!==De?[d,p]:null)),new Re(m,this,"_point"),new Re(v,this,"_handleIn"),new Re(b,this,"_handleOut"),w&&this.setSelection(w)},_serialize:function(i,s){var a=this._point,l=this._selection,h=l||this.hasHandles()?[a,this._handleIn,this._handleOut]:a;return l&&h.push(l),ne.serialize(h,i,!0,s)},_changed:function(i){var s=this._path;if(s){var h,a=s._curves,l=this._index;a&&((!i||i===this._point||i===this._handleIn)&&(h=l>0?a[l-1]:s._closed?a[a.length-1]:null)&&h._changed(),(!i||i===this._point||i===this._handleOut)&&(h=a[l])&&h._changed()),s._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(ie.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(ie.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(ie.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var i=this._handleIn,s=this._handleOut;return!i.isZero()&&!s.isZero()&&i.isCollinear(s)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(i){var s=this._selection,a=this._path;this._selection=i=i||0,a&&i!==s&&(a._updateSelection(this,s,i),a._changed(257))},_changeSelection:function(i,s){var a=this._selection;this.setSelection(s?a|i:a&~i)},isSelected:function(){return!!(7&this._selection)},setSelected:function(i){this._changeSelection(7,i)},getIndex:function(){return this._index!==De?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var i=this._path,s=this._index;return i?(s>0&&!i._closed&&s===i._segments.length-1&&s--,i.getCurves()[s]||null):null},getLocation:function(){var i=this.getCurve();return i?new In(i,this===i._segment1?0:1):null},getNext:function(){var i=this._path&&this._path._segments;return i&&(i[this._index+1]||this._path._closed&&i[0])||null},smooth:function(i,s,a){var l=i||{},h=l.type,d=l.factor,p=this.getPrevious(),g=this.getNext(),m=(p||this)._point,v=this._point,b=(g||this)._point,w=m.getDistance(v),C=v.getDistance(b);if(h&&"catmull-rom"!==h){if("geometric"!==h)throw new Error("Smoothing method '"+h+"' not supported.");if(p&&g){var E=m.subtract(b),k=d===De?.4:d,N=k*w/(w+C);s||this.setHandleIn(E.multiply(N)),a||this.setHandleOut(E.multiply(N-k))}}else{var S,D=d===De?.5:d,R=Math.pow(w,D),P=R*R,M=Math.pow(C,D),I=M*M;if(!s&&p){var x=2*I+3*M*R+P;this.setHandleIn(0!=(S=3*M*(M+R))?new ie((I*m._x+x*v._x-P*b._x)/S-v._x,(I*m._y+x*v._y-P*b._y)/S-v._y):new ie)}if(!a&&g)x=2*P+3*R*M+I,this.setHandleOut(0!=(S=3*R*(R+M))?new ie((P*b._x+x*v._x-I*m._x)/S-v._x,(P*b._y+x*v._y-I*m._y)/S-v._y):new ie)}},getPrevious:function(){var i=this._path&&this._path._segments;return i&&(i[this._index-1]||this._path._closed&&i[i.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var i=this._path;return i&&this._index===i._segments.length-1||!1},reverse:function(){var i=this._handleIn,s=this._handleOut,a=i.clone();i.set(s),s.set(a)},reversed:function(){return new Xe(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Xe(this._point,this._handleIn,this._handleOut)},equals:function(i){return i===this||i&&this._class===i._class&&this._point.equals(i._point)&&this._handleIn.equals(i._handleIn)&&this._handleOut.equals(i._handleOut)||!1},toString:function(){var i=["point: "+this._point];return this._handleIn.isZero()||i.push("handleIn: "+this._handleIn),this._handleOut.isZero()||i.push("handleOut: "+this._handleOut),"{ "+i.join(", ")+" }"},transform:function(i){this._transformCoordinates(i,new Array(6),!0),this._changed()},interpolate:function(i,s,a){var l=1-a,h=a,d=i._point,p=s._point,g=i._handleIn,m=s._handleIn,v=s._handleOut,b=i._handleOut;this._point._set(l*d._x+h*p._x,l*d._y+h*p._y,!0),this._handleIn._set(l*g._x+h*m._x,l*g._y+h*m._y,!0),this._handleOut._set(l*b._x+h*v._x,l*b._y+h*v._y,!0),this._changed()},_transformCoordinates:function(i,s,a){var l=this._point,h=a&&this._handleIn.isZero()?null:this._handleIn,d=a&&this._handleOut.isZero()?null:this._handleOut,p=l._x,g=l._y,m=2;return s[0]=p,s[1]=g,h&&(s[m++]=h._x+p,s[m++]=h._y+g),d&&(s[m++]=d._x+p,s[m++]=d._y+g),i&&(i._transformCoordinates(s,s,m/2),p=s[0],g=s[1],a?(l._x=p,l._y=g,m=2,h&&(h._x=s[m++]-p,h._y=s[m++]-g),d&&(d._x=s[m++]-p,d._y=s[m++]-g)):(h||(s[m++]=p,s[m++]=g),d||(s[m++]=p,s[m++]=g))),s}}),Re=ie.extend({initialize:function(s,a,l){var h,d,p;if(s)if((h=s[0])!==De)d=s[1];else{var g=s;(h=g.x)===De&&(h=(g=ie.read(arguments)).x),d=g.y,p=g.selected}else h=d=0;this._x=h,this._y=d,this._owner=a,a[l]=this,p&&this.setSelected(!0)},_set:function(i,s){return this._x=i,this._y=s,this._owner._changed(this),this},getX:function(){return this._x},setX:function(i){this._x=i,this._owner._changed(this)},getY:function(){return this._y},setY:function(i){this._y=i,this._owner._changed(this)},isZero:function(){var i=ot.isZero;return i(this._x)&&i(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(i){this._owner._changeSelection(this._getSelection(),i)},_getSelection:function(){var i=this._owner;return this===i._point?1:this===i._handleIn?2:this===i._handleOut?4:0}}),Te=ne.extend({_class:"Curve",beans:!0,initialize:function(s,a,l,h,d,p,g,m){var b,w,C,D,R,P,v=arguments.length;3===v?(this._path=s,b=a,w=l):v?1===v?"segment1"in s?(b=new Xe(s.segment1),w=new Xe(s.segment2)):"point1"in s?(C=s.point1,R=s.handle1,P=s.handle2,D=s.point2):Array.isArray(s)&&(C=[s[0],s[1]],D=[s[6],s[7]],R=[s[2]-s[0],s[3]-s[1]],P=[s[4]-s[6],s[5]-s[7]]):2===v?(b=new Xe(s),w=new Xe(a)):4===v?(C=s,R=a,P=l,D=h):8===v&&(C=[s,a],D=[g,m],R=[l-s,h-a],P=[d-g,p-m]):(b=new Xe,w=new Xe),this._segment1=b||new Xe(C,null,R),this._segment2=w||new Xe(D,P,null)},_serialize:function(i,s){return ne.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],i,!0,s)},_changed:function(){this._length=this._bounds=De},clone:function(){return new Te(this._segment1,this._segment2)},toString:function(){var i=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||i.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||i.push("handle2: "+this._segment2._handleIn),i.push("point2: "+this._segment2._point),"{ "+i.join(", ")+" }"},classify:function(){return Te.classify(this.getValues())},remove:function(){var i=!1;if(this._path){var s=this._segment2,a=s._handleOut;(i=s.remove())&&this._segment1._handleOut.set(a)}return i},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(ie.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(ie.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(ie.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(ie.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var i=this._path&&this._path._curves;return i&&(i[this._segment1._index+1]||this._path._closed&&i[0])||null},getPrevious:function(){var i=this._path&&this._path._curves;return i&&(i[this._segment1._index-1]||this._path._closed&&i[i.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var i=this._path;return i&&this._segment1._index===i._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(i){this.getPoint1().setSelected(i),this.getHandle1().setSelected(i),this.getHandle2().setSelected(i),this.getPoint2().setSelected(i)},getValues:function(i){return Te.getValues(this._segment1,this._segment2,i)},getPoints:function(){for(var i=this.getValues(),s=[],a=0;a<8;a+=2)s.push(new ie(i[a],i[a+1]));return s}},{getLength:function(){return null==this._length&&(this._length=Te.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Te.getArea(this.getValues())},getLine:function(){return new Xt(this._segment1._point,this._segment2._point)},getPart:function(i,s){return new Te(Te.getPart(this.getValues(),i,s))},getPartLength:function(i,s){return Te.getLength(this.getValues(),i,s)},divideAt:function(i){return this.divideAtTime(i&&i.curve===this?i.time:this.getTimeAt(i))},divideAtTime:function(i,s){var h=null;if(i>=1e-8&&i<=.99999999){var d=Te.subdivide(this.getValues(),i),p=d[0],g=d[1],m=s||this.hasHandles(),v=this._segment1,b=this._segment2,w=this._path;m&&(v._handleOut._set(p[2]-p[0],p[3]-p[1]),b._handleIn._set(g[4]-g[6],g[5]-g[7]));var C=p[6],D=p[7],R=new Xe(new ie(C,D),m&&new ie(p[4]-C,p[5]-D),m&&new ie(g[2]-C,g[3]-D));w?(w.insert(v._index+1,R),h=this.getNext()):(this._segment2=R,this._changed(),h=new Te(R,b))}return h},splitAt:function(i){var s=this._path;return s?s.splitAt(i):null},splitAtTime:function(i){return this.splitAt(this.getLocationAtTime(i))},divide:function(i,s){return this.divideAtTime(i===De?.5:s?i:this.getTimeAt(i))},split:function(i,s){return this.splitAtTime(i===De?.5:s?i:this.getTimeAt(i))},reversed:function(){return new Te(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(i,s,a,l){var h=i._point,d=i._handleOut,p=s._handleIn,g=s._point,m=h.x,v=h.y,b=g.x,w=g.y,C=l?[m,v,m,v,b,w,b,w]:[m,v,m+d._x,v+d._y,b+p._x,w+p._y,b,w];return a&&a._transformCoordinates(C,C,4),C},subdivide:function(i,s){var a=i[0],l=i[1],h=i[2],d=i[3],p=i[4],g=i[5],m=i[6],v=i[7];s===De&&(s=.5);var b=1-s,w=b*a+s*h,C=b*l+s*d,D=b*h+s*p,R=b*d+s*g,P=b*p+s*m,M=b*g+s*v,I=b*w+s*D,x=b*C+s*R,S=b*D+s*P,E=b*R+s*M,k=b*I+s*S,N=b*x+s*E;return[[a,l,w,C,I,x,k,N],[k,N,S,E,P,M,m,v]]},getMonoCurves:function(i,s){var a=[],l=s?0:1,h=i[l+0],d=i[l+2],p=i[l+4],g=i[l+6];if(h>=d==d>=p&&d>=p==p>=g||Te.isStraight(i))a.push(i);else{var D=[],R=ot.solveQuadratic(3*(d-p)-h+g,2*(h+p)-4*d,d-h,D,1e-8,.99999999);if(R){D.sort();var P=D[0],M=Te.subdivide(i,P);a.push(M[0]),R>1&&(M=Te.subdivide(M[1],P=(D[1]-P)/(1-P)),a.push(M[0])),a.push(M[1])}else a.push(i)}return a},solveCubic:function(i,s,a,l,h,d){var p=i[s],g=i[s+2],m=i[s+4],v=i[s+6],b=0;if(!(p<a&&v<a&&g<a&&m<a||p>a&&v>a&&g>a&&m>a)){var w=3*(g-p),C=3*(m-g)-w;b=ot.solveCubic(v-p-w-C,C,w,p-a,l,h,d)}return b},getTimeOf:function(i,s){var a=new ie(i[0],i[1]),l=new ie(i[6],i[7]),d=1e-7;if(null===(s.isClose(a,1e-12)?0:s.isClose(l,1e-12)?1:null))for(var g=[s.x,s.y],m=[],v=0;v<2;v++)for(var b=Te.solveCubic(i,v,g[v],m,0,1),w=0;w<b;w++){var C=m[w];if(s.isClose(Te.getPoint(i,C),d))return C}return s.isClose(a,d)?0:s.isClose(l,d)?1:null},getNearestTime:function(i,s){if(Te.isStraight(i)){var a=i[0],l=i[1],p=i[6]-a,g=i[7]-l,m=p*p+g*g;if(0===m)return 0;var v=((s.x-a)*p+(s.y-l)*g)/m;return v<1e-12?0:v>.999999999999?1:Te.getTimeOf(i,new ie(a+v*p,l+v*g))}var w=1/0,C=0;function D(M){if(M>=0&&M<=1){var I=s.getDistance(Te.getPoint(i,M),!0);if(I<w)return w=I,C=M,!0}}for(var R=0;R<=100;R++)D(R/100);for(var P=.005;P>1e-8;)!D(C-P)&&!D(C+P)&&(P/=2);return C},getPart:function(i,s,a){var l=s>a;if(l){var h=s;s=a,a=h}return s>0&&(i=Te.subdivide(i,s)[1]),a<1&&(i=Te.subdivide(i,(a-s)/(1-s))[0]),l?[i[6],i[7],i[4],i[5],i[2],i[3],i[0],i[1]]:i},isFlatEnough:function(i,s){var a=i[0],l=i[1],m=i[6],v=i[7],b=3*i[2]-2*a-m,w=3*i[3]-2*l-v,C=3*i[4]-2*m-a,D=3*i[5]-2*v-l;return Math.max(b*b,C*C)+Math.max(w*w,D*D)<=16*s*s},getArea:function(i){var s=i[0],a=i[1],l=i[2],h=i[3],d=i[4],p=i[5],g=i[6],m=i[7];return 3*((m-a)*(l+d)-(g-s)*(h+p)+h*(s-d)-l*(a-p)+m*(d+s/3)-g*(p+a/3))/20},getBounds:function(i){for(var s=i.slice(0,2),a=s.slice(),l=[0,0],h=0;h<2;h++)Te._addBounds(i[h],i[h+2],i[h+4],i[h+6],h,0,s,a,l);return new Ke(s[0],s[1],a[0]-s[0],a[1]-s[1])},_addBounds:function(i,s,a,l,h,d,p,g,m){function v(k,N){var O=k-N,F=k+N;O<p[h]&&(p[h]=O),F>g[h]&&(g[h]=F)}var b=p[h]+(d/=2),w=g[h]-d;if(i<b||s<b||a<b||l<b||i>w||s>w||a>w||l>w)if(s<i!=s<l&&a<i!=a<l)v(i,0),v(l,0);else{var P=ot.solveQuadratic(3*(s-a)-i+l,2*(i+a)-4*s,s-i,m);v(l,0);for(var x=0;x<P;x++){var S=m[x],E=1-S;1e-8<=S&&S<=.99999999&&v(E*E*E*i+3*E*E*S*s+3*E*S*S*a+S*S*S*l,d)}}}}},ne.each(["getBounds","getStrokeBounds","getHandleBounds"],function(i){this[i]=function(){this._bounds||(this._bounds={});var s=this._bounds[i];return s||(s=this._bounds[i]=gt[i]([this._segment1,this._segment2],!1,this._path)),s.clone()}},{}),ne.each({isStraight:function(i,s,a,l){if(s.isZero()&&a.isZero())return!0;var h=l.subtract(i);if(h.isZero())return!1;if(h.isCollinear(s)&&h.isCollinear(a)){var d=new Xt(i,l);if(d.getDistance(i.add(s))<1e-7&&d.getDistance(l.add(a))<1e-7){var g=h.dot(h),m=h.dot(s)/g,v=h.dot(a)/g;return m>=0&&m<=1&&v<=0&&v>=-1}}return!1},isLinear:function(i,s,a,l){var h=l.subtract(i).divide(3);return s.equals(h)&&a.negate().equals(h)}},function(i,s){this[s]=function(a){var l=this._segment1,h=this._segment2;return i(l._point,l._handleOut,h._handleIn,h._point,a)},this.statics[s]=function(a,l){var h=a[0],d=a[1],p=a[6],g=a[7];return i(new ie(h,d),new ie(a[2]-h,a[3]-d),new ie(a[4]-p,a[5]-g),new ie(p,g),l)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(i){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(i||0)},isCollinear:function(i){return i&&this.isStraight()&&i.isStraight()&&this.getLine().isCollinear(i.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(i,s){return this.getLocationAtTime(s?i:this.getTimeAt(i))},getLocationAtTime:function(i){return null!=i&&i>=0&&i<=1?new In(this,i):null},getTimeAt:function(i,s){return Te.getTimeAt(this.getValues(),i,s)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var i=ie.read(arguments);return i.isZero()?[]:Te.getTimesWithTangent(this.getValues(),i)},getOffsetAtTime:function(i){return this.getPartLength(0,i)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(ie.read(arguments)))},getOffsetOf:function(){var i=this.getLocationOf.apply(this,arguments);return i?i.getOffset():null},getTimeOf:function(){return Te.getTimeOf(this.getValues(),ie.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var i=ie.read(arguments),s=this.getValues(),a=Te.getNearestTime(s,i),l=Te.getPoint(s,a);return new In(this,a,l,null,i.getDistance(l))},getNearestPoint:function(){var i=this.getNearestLocation.apply(this,arguments);return i&&i.getPoint()}},new function(){var i=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return ne.each(i,function(s){this[s+"At"]=function(a,l){var h=this.getValues();return Te[s](h,l?a:Te.getTimeAt(h,a))},this[s+"AtTime"]=function(a){return Te[s](this.getValues(),a)}},{statics:{_evaluateMethods:i}})},new function(){function i(l){var h=l[0],d=l[1],p=l[2],g=l[3],m=l[4],v=l[5],C=9*(p-m)+3*(l[6]-h),D=6*(h+m)-12*p,R=3*(p-h),P=9*(g-v)+3*(l[7]-d),M=6*(d+v)-12*g,I=3*(g-d);return function(x){var S=(C*x+D)*x+R,E=(P*x+M)*x+I;return Math.sqrt(S*S+E*E)}}function s(l,h){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(h-l))))}function a(l,h,d,p){if(null==h||h<0||h>1)return null;var g=l[0],m=l[1],v=l[2],b=l[3],w=l[4],C=l[5],D=l[6],R=l[7],P=ot.isZero;P(v-g)&&P(b-m)&&(v=g,b=m),P(w-D)&&P(C-R)&&(w=D,C=R);var N,O,M=3*(v-g),I=3*(w-v)-M,x=D-g-M-I,S=3*(b-m),E=3*(C-b)-S,k=R-m-S-E;if(0===d)N=0===h?g:1===h?D:((x*h+I)*h+M)*h+g,O=0===h?m:1===h?R:((k*h+E)*h+S)*h+m;else{var F=1e-8,B=1-F;if(h<F?(N=M,O=S):h>B?(N=3*(D-w),O=3*(R-C)):(N=(3*x*h+2*I)*h+M,O=(3*k*h+2*E)*h+S),p){0===N&&0===O&&(h<F||h>B)&&(N=w-v,O=C-b);var z=Math.sqrt(N*N+O*O);z&&(N/=z,O/=z)}if(3===d){w=6*x*h+2*I,C=6*k*h+2*E;var G=Math.pow(N*N+O*O,1.5);N=0!==G?(N*C-O*w)/G:0,O=0}}return 2===d?new ie(O,-N):new ie(N,O)}return{statics:{classify:function(l){var h=l[0],d=l[1],p=l[2],g=l[3],m=l[4],v=l[5],b=l[6],w=l[7],D=p*(d-w)+g*(b-h)+h*w-d*b,P=3*(m*(g-d)+v*(h-p)+p*d-g*h),M=P-D,I=M-D+(h*(w-v)+d*(m-b)+b*v-w*m),x=Math.sqrt(I*I+M*M+P*P),S=0!==x?1/x:0,E=ot.isZero,k="serpentine";function N(z,G,j){var H=G!==De,$=H&&G>0&&G<1,K=H&&j>0&&j<1;return H&&(!($||K)||"loop"===z&&!($&&K))&&(z="arch",$=K=!1),{type:z,roots:$||K?$&&K?G<j?[G,j]:[j,G]:[$?G:j]:null}}if(M*=S,P*=S,E(I*=S))return E(M)?N(E(P)?"line":"quadratic"):N(k,P/(3*M));var O=3*M*M-4*I*P;if(E(O))return N("cusp",M/(2*I));var F=O>0?Math.sqrt(O/3):Math.sqrt(-O),B=2*I;return N(O>0?k:"loop",(M+F)/B,(M-F)/B)},getLength:function(l,h,d,p){if(h===De&&(h=0),d===De&&(d=1),Te.isStraight(l)){var g=l;d<1&&(g=Te.subdivide(g,d)[0],h/=d),h>0&&(g=Te.subdivide(g,h)[1]);var m=g[6]-g[0],v=g[7]-g[1];return Math.sqrt(m*m+v*v)}return ot.integrate(p||i(l),h,d,s(h,d))},getTimeAt:function(l,h,d){if(d===De&&(d=h<0?1:0),0===h)return d;var p=Math.abs,m=h>0,v=m?d:0,b=m?1:d,w=i(l),C=Te.getLength(l,v,b,w),D=p(h)-C;if(p(D)<1e-12)return m?b:v;if(D>1e-12)return null;var P=0;return ot.findRoot(function M(I){return P+=ot.integrate(w,d,I,s(d,I)),d=I,P-h},w,d+h/C,v,b,32,1e-12)},getPoint:function(l,h){return a(l,h,0,!1)},getTangent:function(l,h){return a(l,h,1,!0)},getWeightedTangent:function(l,h){return a(l,h,1,!1)},getNormal:function(l,h){return a(l,h,2,!0)},getWeightedNormal:function(l,h){return a(l,h,2,!1)},getCurvature:function(l,h){return a(l,h,3,!1).x},getPeaks:function(l){var h=l[0],d=l[1],p=l[2],g=l[3],m=l[4],v=l[5],C=3*p-h-3*m+l[6],D=3*h-6*p+3*m,R=-3*h+3*p,P=3*g-d-3*v+l[7],M=3*d-6*g+3*v,I=-3*d+3*g,E=[];return ot.solveCubic(9*(C*C+P*P),9*(C*D+M*P),2*(D*D+M*M)+3*(R*C+I*P),R*D+M*I,E,1e-8,.99999999),E.sort()}}}},new function(){function i(D,R,P,M,I,x,S){var E=!S&&P.getPrevious()===I,k=!S&&P!==I&&P.getNext()===I,N=1e-8,O=1-N;if(null!==M&&M>=(E?N:0)&&M<=(k?O:1)&&null!==x&&x>=(k?N:0)&&x<=(E?O:1)){var F=new In(P,M,null,S),B=new In(I,x,null,S);F._intersection=B,B._intersection=F,(!R||R(F))&&In.insert(D,F,!0)}}function s(D,R,P,M,I,x,S,E,k,N,O,F,B){if(++k>=4096||++E>=40)return k;var Pe,Fe,G=R[0],j=R[1],H=R[6],$=R[7],K=Xt.getSignedDistance,Y=K(G,j,H,$,R[2],R[3]),J=K(G,j,H,$,R[4],R[5]),oe=Y*J>0?3/4:4/9,he=oe*Math.min(0,Y,J),ge=oe*Math.max(0,Y,J),_e=K(G,j,H,$,D[0],D[1]),le=K(G,j,H,$,D[2],D[3]),ce=K(G,j,H,$,D[4],D[5]),ue=K(G,j,H,$,D[6],D[7]),ve=function a(D,R,P,M){var O,I=[0,D],x=[1/3,R],S=[2/3,P],E=[1,M],k=R-(2*D+M)/3,N=P-(D+2*M)/3;if(k*N<0)O=[[I,x,E],[I,S,E]];else{var F=k/N;O=[F>=2?[I,x,E]:F<=.5?[I,S,E]:[I,x,S,E],[I,E]]}return(k||N)<0?O.reverse():O}(_e,le,ce,ue),Ce=ve[0],Ae=ve[1];if(0===Y&&0===J&&0===_e&&0===le&&0===ce&&0===ue||null==(Pe=l(Ce,Ae,he,ge))||null==(Fe=l(Ce.reverse(),Ae.reverse(),he,ge)))return k;var Be=N+(O-N)*Pe,We=N+(O-N)*Fe;if(Math.max(B-F,We-Be)<1e-9){var Pt=(Be+We)/2,nt=(F+B)/2;i(I,x,S?M:P,S?nt:Pt,S?P:M,S?Pt:nt)}else{D=Te.getPart(D,Pe,Fe);var Dt=B-F;if(Fe-Pe>.8)if(We-Be>Dt)k=s(R,(ut=Te.subdivide(D,.5))[0],M,P,I,x,!S,E,k,F,B,Be,Pt=(Be+We)/2),k=s(R,ut[1],M,P,I,x,!S,E,k,F,B,Pt,We);else{var ut;k=s((ut=Te.subdivide(R,.5))[0],D,M,P,I,x,!S,E,k,F,nt=(F+B)/2,Be,We),k=s(ut[1],D,M,P,I,x,!S,E,k,nt,B,Be,We)}else k=0===Dt||Dt>=1e-9?s(R,D,M,P,I,x,!S,E,k,F,B,Be,We):s(D,R,P,M,I,x,S,E,k,Be,We,F,B)}return k}function l(D,R,P,M){return D[0][1]<P?h(D,!0,P):R[0][1]>M?h(R,!1,M):D[0][0]}function h(D,R,P){for(var M=D[0][0],I=D[0][1],x=1,S=D.length;x<S;x++){var E=D[x][0],k=D[x][1];if(R?k>=P:k<=P)return k===P?E:M+(P-I)*(E-M)/(k-I);M=E,I=k}return null}function d(D,R,P,M,I){var x=ot.isZero;if(x(M)&&x(I)){var S=Te.getTimeOf(D,new ie(R,P));return null===S?[]:[S]}for(var E=Math.atan2(-I,M),k=Math.sin(E),N=Math.cos(E),O=[],F=[],B=0;B<8;B+=2){var z=D[B]-R,G=D[B+1]-P;O.push(z*N-G*k,z*k+G*N)}return Te.solveCubic(O,1,0,F,0,1),F}function p(D,R,P,M,I,x,S){for(var E=R[0],k=R[1],F=d(D,E,k,R[6]-E,R[7]-k),B=0,z=F.length;B<z;B++){var G=F[B],j=Te.getPoint(D,G),H=Te.getTimeOf(R,j);null!==H&&i(I,x,S?M:P,S?H:G,S?P:M,S?G:H)}}function g(D,R,P,M,I,x){var S=Xt.intersect(D[0],D[1],D[6],D[7],R[0],R[1],R[6],R[7]);S&&i(I,x,P,Te.getTimeOf(D,S),M,Te.getTimeOf(R,S))}function m(D,R,P,M,I,x){var S=1e-12,E=Math.min,k=Math.max;if(k(D[0],D[2],D[4],D[6])+S>E(R[0],R[2],R[4],R[6])&&E(D[0],D[2],D[4],D[6])-S<k(R[0],R[2],R[4],R[6])&&k(D[1],D[3],D[5],D[7])+S>E(R[1],R[3],R[5],R[7])&&E(D[1],D[3],D[5],D[7])-S<k(R[1],R[3],R[5],R[7])){var N=w(D,R);if(N)for(var O=0;O<2;O++){var F=N[O];i(I,x,P,F[0],M,F[1],!0)}else{var B=Te.isStraight(D),z=Te.isStraight(R),G=B&&z,j=B&&!z,H=I.length;if((G?g:B||z?p:s)(j?R:D,j?D:R,j?M:P,j?P:M,I,x,j,0,0,0,1,0,1),!G||I.length===H)for(O=0;O<4;O++){var $=O>>1,K=1&O,Y=6*$,J=6*K,oe=new ie(D[Y],D[Y+1]),he=new ie(R[J],R[J+1]);oe.isClose(he,S)&&i(I,x,P,$,M,K)}}}return I}function v(D,R,P,M){var I=Te.classify(D);if("loop"===I.type){var x=I.roots;i(P,M,R,x[0],R,x[1])}return P}function w(D,R){function P(ue){var ve=ue[6]-ue[0],Ce=ue[7]-ue[1];return ve*ve+Ce*Ce}var M=Math.abs,I=Xt.getDistance,S=1e-7,E=Te.isStraight(D),k=Te.isStraight(R),N=E&&k,O=P(D)<P(R),F=O?R:D,B=O?D:R,z=F[0],G=F[1],j=F[6]-z,H=F[7]-G;if(I(z,G,j,H,B[0],B[1],!0)<S&&I(z,G,j,H,B[6],B[7],!0)<S)!N&&I(z,G,j,H,F[2],F[3],!0)<S&&I(z,G,j,H,F[4],F[5],!0)<S&&I(z,G,j,H,B[2],B[3],!0)<S&&I(z,G,j,H,B[4],B[5],!0)<S&&(E=k=N=!0);else if(N)return null;if(E^k)return null;for(var $=[D,R],K=[],Y=0;Y<4&&K.length<2;Y++){var J=1&Y,oe=1^J,he=Y>>1,ge=Te.getTimeOf($[J],new ie($[oe][he?6:0],$[oe][he?7:1]));if(null!=ge){var _e=J?[he,ge]:[ge,he];(!K.length||M(_e[0]-K[0][0])>1e-8&&M(_e[1]-K[0][1])>1e-8)&&K.push(_e)}if(Y>2&&!K.length)break}if(2!==K.length)K=null;else if(!N){var le=Te.getPart(D,K[0][0],K[1][0]),ce=Te.getPart(R,K[0][1],K[1][1]);(M(ce[2]-le[2])>S||M(ce[3]-le[3])>S||M(ce[4]-le[4])>S||M(ce[5]-le[5])>S)&&(K=null)}return K}return{getIntersections:function(D){var R=this.getValues(),P=D&&D!==this&&D.getValues();return P?m(R,P,this,D,[]):v(R,this,[])},statics:{getOverlaps:w,getIntersections:function b(D,R,P,M,I,x){var E=!R;E&&(R=D);for(var k=D.length,N=R.length,O=new Array(k),F=E?O:new Array(N),B=[],z=0;z<k;z++)O[z]=D[z].getValues(M);if(!E)for(z=0;z<N;z++)F[z]=R[z].getValues(I);for(var G=sn.findCurveBoundsCollisions(O,F,1e-7),j=0;j<k;j++){var H=D[j],$=O[j];E&&v($,H,B,P);var K=G[j];if(K)for(var Y=0;Y<K.length;Y++){if(x&&B.length)return B;var J=K[Y];(!E||J>j)&&m($,F[J],H,R[J],B,P)}}return B},getCurveLineIntersections:d,getTimesWithTangent:function C(D,R){var P=D[0],M=D[1],I=D[2],x=D[3],S=D[4],E=D[5],k=D[6],N=D[7],O=R.normalize(),F=O.x,B=O.y,z=3*k-9*S+9*I-3*P,G=3*N-9*E+9*x-3*M,j=6*S-12*I+6*P,H=6*E-12*x+6*M,$=3*I-3*P,K=3*x-3*M,Y=2*z*B-2*G*F,J=[];if(Math.abs(Y)<ot.CURVETIME_EPSILON){if(0!=(Y=z*H-G*j)){var he=-(z*K-G*$)/Y;he>=0&&he<=1&&J.push(he)}}else{var ge=(j*j-4*z*$)*B*B+(-2*j*H+4*G*$+4*z*K)*F*B+(H*H-4*G*K)*F*F,_e=j*B-H*F;if(ge>=0&&0!=Y){var le=Math.sqrt(ge),ce=-(_e+le)/Y,ue=(-_e+le)/Y;ce>=0&&ce<=1&&J.push(ce),ue>=0&&ue<=1&&J.push(ue)}}return J}}}}),In=ne.extend({_class:"CurveLocation",initialize:function(s,a,l,h,d){if(a>=.99999999){var p=s.getNext();p&&(a=0,s=p)}this._setCurve(s),this._time=a,this._point=l||s.getPointAtTime(a),this._overlap=h,this._distance=d,this._intersection=this._next=this._previous=null},_setPath:function(i){this._path=i,this._version=i?i._version:0},_setCurve:function(i){this._setPath(i._path),this._curve=i,this._segment=null,this._segment1=i._segment1,this._segment2=i._segment2},_setSegment:function(i){var s=i.getCurve();s?this._setCurve(s):(this._setPath(i._path),this._segment1=i,this._segment2=null),this._segment=i,this._time=i===this._segment1?0:1,this._point=i._point.clone()},getSegment:function(){var i=this._segment;if(!i){var s=this.getCurve(),a=this.getTime();0===a?i=s._segment1:1===a?i=s._segment2:null!=a&&(i=s.getPartLength(0,a)<s.getPartLength(a,1)?s._segment1:s._segment2),this._segment=i}return i},getCurve:function(){var i=this._path,s=this;function a(l){var h=l&&l.getCurve();if(h&&null!=(s._time=h.getTimeOf(s._point)))return s._setCurve(h),h}return i&&i._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||a(this._segment)||a(this._segment1)||a(this._segment2.getPrevious())},getPath:function(){var i=this.getCurve();return i&&i._path},getIndex:function(){var i=this.getCurve();return i&&i.getIndex()},getTime:function(){var i=this.getCurve(),s=this._time;return i&&null==s?this._time=i.getTimeOf(this._point):s},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var i=this._offset;if(null==i){i=0;var s=this.getPath(),a=this.getIndex();if(s&&null!=a)for(var l=s.getCurves(),h=0;h<a;h++)i+=l[h].getLength();this._offset=i+=this.getCurveOffset()}return i},getCurveOffset:function(){var i=this._curveOffset;if(null==i){var s=this.getCurve(),a=this.getTime();this._curveOffset=i=null!=a&&s&&s.getPartLength(0,a)}return i},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var i=this.getCurve(),s=i&&i.divideAtTime(this.getTime());return s&&this._setSegment(s._segment1),s},split:function(){var i=this.getCurve(),s=i._path,a=i&&i.splitAtTime(this.getTime());return a&&this._setSegment(s.getLastSegment()),a},equals:function(i,s){var a=this===i;if(!a&&i instanceof In){var l=this.getCurve(),h=i.getCurve(),d=l._path;if(d===h._path){var g=Math.abs,v=g(this.getOffset()-i.getOffset()),b=!s&&this._intersection,w=!s&&i._intersection;a=(v<1e-7||d&&g(d.getLength()-v)<1e-7)&&(!b&&!w||b&&w&&b.equals(w,!0))}}return a},toString:function(){var i=[],s=this.getPoint(),a=ze.instance;s&&i.push("point: "+s);var l=this.getIndex();null!=l&&i.push("index: "+l);var h=this.getTime();return null!=h&&i.push("time: "+a.number(h)),null!=this._distance&&i.push("distance: "+a.number(this._distance)),"{ "+i.join(", ")+" }"},isTouching:function(){var i=this._intersection;if(i&&this.getTangent().isCollinear(i.getTangent())){var s=this.getCurve(),a=i.getCurve();return!(s.isStraight()&&a.isStraight()&&s.getLine().intersect(a.getLine()))}return!1},isCrossing:function(){var i=this._intersection;if(!i)return!1;var s=this.getTime(),a=i.getTime(),l=1e-8,h=1-l,d=s>=l&&s<=h,p=a>=l&&a<=h;if(d&&p)return!this.isTouching();var g=this.getCurve(),m=g&&s<l?g.getPrevious():g,v=i.getCurve(),b=v&&a<l?v.getPrevious():v;if(s>h&&(g=g.getNext()),a>h&&(v=v.getNext()),!(m&&g&&b&&v))return!1;var w=[];function C(F,B){var z=F.getValues(),G=Te.classify(z).roots||Te.getPeaks(z),j=G.length,H=Te.getLength(z,B&&j?G[j-1]:0,!B&&j?G[0]:1);w.push(j?H:H/32)}function D(F,B,z){return B<z?F>B&&F<z:F>B||F<z}d||(C(m,!0),C(g,!1)),p||(C(b,!0),C(v,!1));var R=this.getPoint(),P=Math.min.apply(Math,w),M=d?g.getTangentAtTime(s):g.getPointAt(P).subtract(R),I=d?M.negate():m.getPointAt(-P).subtract(R),x=p?v.getTangentAtTime(a):v.getPointAt(P).subtract(R),S=p?x.negate():b.getPointAt(-P).subtract(R),E=I.getAngle(),k=M.getAngle(),N=S.getAngle(),O=x.getAngle();return!!(d?D(E,N,O)^D(k,N,O)&&D(E,O,N)^D(k,O,N):D(N,E,k)^D(O,E,k)&&D(N,k,E)^D(O,k,E))},hasOverlap:function(){return!!this._overlap}},ne.each(Te._evaluateMethods,function(i){var s=i+"At";this[i]=function(){var a=this.getCurve(),l=this.getTime();return null!=l&&a&&a[s](l,!0)}},{preserve:!0}),new function(){function i(s,a,l){var h=s.length,d=0,p=h-1;function g(R,P){for(var M=R+P;M>=-1&&M<=h;M+=P){var I=s[(M%h+h)%h];if(!a.getPoint().isClose(I.getPoint(),1e-7))break;if(a.equals(I))return I}return null}for(;d<=p;){var b,m=d+p>>>1,v=s[m];if(l&&(b=a.equals(v)?v:g(m,-1)||g(m,1)))return a._overlap&&(b._overlap=b._intersection._overlap=!0),b;var w=a.getPath(),C=v.getPath();(w!==C?w._id-C._id:a.getIndex()+a.getTime()-(v.getIndex()+v.getTime()))<0?p=m-1:d=m+1}return s.splice(d,0,a),a}return{statics:{insert:i,expand:function(s){for(var a=s.slice(),l=s.length-1;l>=0;l--)i(a,s[l]._intersection,!1);return a}}}}),at=Ze.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(i){var s,a,l;if(ne.isPlainObject(i)?(a=i.segments,s=i.pathData):Array.isArray(i)?a=i:"string"==typeof i&&(s=i),a){var h=a[0];l=h&&Array.isArray(h[0])}else s&&(l=(s.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(s));return new(l?Jn:gt)(i)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(i){this.isClockwise()!=(i=!!i)&&this.reverse()},setPathData:function(i){var a,h,d,s=i&&i.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),l=!1,p=new ie,g=new ie;function m(S,E){var k=+a[S];return l&&(k+=p[E]),k}function v(S){return new ie(m(S,"x"),m(S+1,"y"))}this.clear();for(var b=0,w=s&&s.length;b<w;b++){var C=s[b],D=C[0],R=D.toLowerCase(),P=(a=C.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&a.length;switch(l=D===R,"z"===h&&!/[mz]/.test(R)&&this.moveTo(p),R){case"m":case"l":for(var M="m"===R,I=0;I<P;I+=2)this[M?"moveTo":"lineTo"](p=v(I)),M&&(g=p,M=!1);d=p;break;case"h":case"v":var x="h"===R?"x":"y";for(p=p.clone(),I=0;I<P;I++)p[x]=m(I,x),this.lineTo(p);d=p;break;case"c":for(I=0;I<P;I+=6)this.cubicCurveTo(v(I),d=v(I+2),p=v(I+4));break;case"s":for(I=0;I<P;I+=4)this.cubicCurveTo(/[cs]/.test(h)?p.multiply(2).subtract(d):p,d=v(I),p=v(I+2)),h=R;break;case"q":for(I=0;I<P;I+=4)this.quadraticCurveTo(d=v(I),p=v(I+2));break;case"t":for(I=0;I<P;I+=2)this.quadraticCurveTo(d=/[qt]/.test(h)?p.multiply(2).subtract(d):p,p=v(I)),h=R;break;case"a":for(I=0;I<P;I+=7)this.arcTo(p=v(I+5),new Ee(+a[I],+a[I+1]),+a[I+2],+a[I+4],+a[I+3]);break;case"z":this.closePath(1e-12),p=g}h=R}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(i){var s=i.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(i):{};return s.onPath||!!("evenodd"===this.getFillRule()?1&s.windingL||1&s.windingR:s.winding)},getIntersections:function(i,s,a,l){var h=this===i||!i,d=this._matrix._orNullIfIdentity(),p=h?d:(a||i._matrix)._orNullIfIdentity();return h||this.getBounds(d).intersects(i.getBounds(p),1e-12)?Te.getIntersections(this.getCurves(),!h&&i.getCurves(),s,d,p,l):[]},getCrossings:function(i){return this.getIntersections(i,function(s){return s.isCrossing()})},getNearestLocation:function(){for(var i=ie.read(arguments),s=this.getCurves(),a=1/0,l=null,h=0,d=s.length;h<d;h++){var p=s[h].getNearestLocation(i);p._distance<a&&(a=p._distance,l=p)}return l},getNearestPoint:function(){var i=this.getNearestLocation.apply(this,arguments);return i&&i.getPoint()},interpolate:function(i,s,a){var l=!this._children,h=l?"_segments":"_children",d=i[h],p=s[h],g=this[h];if(!d||!p||d.length!==p.length)throw new Error("Invalid operands in interpolate() call: "+i+", "+s);var m=g.length,v=p.length;if(m<v)for(var b=l?Xe:gt,w=m;w<v;w++)this.add(new b);else m>v&&this[l?"removeSegments":"removeChildren"](v,m);for(w=0;w<v;w++)g[w].interpolate(d[w],p[w],a);l&&(this.setClosed(i._closed),this._changed(9))},compare:function(i){var s=!1;if(i){var a=this._children||[this],l=i._children?i._children.slice():[i],h=a.length,d=l.length,p=[],g=0;s=!0;for(var m=sn.findItemBoundsCollisions(a,l,ot.GEOMETRIC_EPSILON),v=h-1;v>=0&&s;v--){var b=a[v];s=!1;var w=m[v];if(w)for(var C=w.length-1;C>=0&&!s;C--)b.compare(l[w[C]])&&(p[w[C]]||(p[w[C]]=!0,g++),s=!0)}s=s&&g===d}return s}}),gt=at.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(s){this._closed=!1,this._segments=[],this._version=0;var a=arguments,l=Array.isArray(s)?"object"==typeof s[0]?s:a:!s||s.size!==De||s.x===De&&s.point===De?null:a;l&&l.length>0?this.setSegments(l):(this._curves=De,this._segmentSelection=0,!l&&"string"==typeof s&&(this.setPathData(s),s=null)),this._initialize(!l&&s)},_equals:function(i){return this._closed===i._closed&&ne.equals(this._segments,i._segments)},copyContent:function(i){this.setSegments(i._segments),this._closed=i._closed},_changed:function i(s){if(i.base.call(this,s),8&s){if(this._length=this._area=De,32&s)this._version++;else if(this._curves)for(var a=0,l=this._curves.length;a<l;a++)this._curves[a]._changed()}else 64&s&&(this._bounds=De)},getStyle:function(){var i=this._parent;return(i instanceof Jn?i:this)._style},getSegments:function(){return this._segments},setSegments:function(i){var s=this.isFullySelected(),a=i&&i.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=De,a){var l=i[a-1];"boolean"==typeof l&&(this.setClosed(l),a--),this._add(Xe.readList(i,0,{},a))}s&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var i=this._curves,s=this._segments;if(!i){var a=this._countCurves();i=this._curves=new Array(a);for(var l=0;l<a;l++)i[l]=new Te(this,s[l],s[l+1]||s[0])}return i},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var i=this.getCurves();return i[i.length-1]},isClosed:function(){return this._closed},setClosed:function(i){if(this._closed!=(i=!!i)){if(this._closed=i,this._curves){var s=this._curves.length=this._countCurves();i&&(this._curves[s-1]=new Te(this,this._segments[s-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(i,s){var g,m,v,b,w,C,D,R,a=this._segments,l=a.length,h=new ze(s),d=new Array(6),p=!0,P=[];function M(x,S){if(x._transformCoordinates(i,d),g=d[0],m=d[1],p)P.push("M"+h.pair(g,m)),p=!1;else if(C=d[3],(w=d[2])===g&&C===m&&D===v&&R===b){if(!S){var E=g-v,k=m-b;P.push(0===E?"v"+h.number(k):0===k?"h"+h.number(E):"l"+h.pair(E,k))}}else P.push("c"+h.pair(D-v,R-b)+" "+h.pair(w-v,C-b)+" "+h.pair(g-v,m-b));v=g,b=m,D=d[4],R=d[5]}if(!l)return"";for(var I=0;I<l;I++)M(a[I]);return this._closed&&l>0&&(M(a[0],!0),P.push("z")),P.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(i){for(var s=this._segments,a=new Array(6),l=0,h=s.length;l<h;l++)s[l]._transformCoordinates(i,a,!0);return!0},_add:function(i,p){for(var a=this._segments,l=this._curves,h=i.length,d=null==p,g=(p=d?a.length:p,0);g<h;g++){var m=i[g];m._path&&(m=i[g]=m.clone()),m._path=this,m._index=p+g,m._selection&&this._updateSelection(m,0,m._selection)}if(d)ne.push(a,i);else{a.splice.apply(a,[p,0].concat(i)),g=p+h;for(var v=a.length;g<v;g++)a[g]._index=g}if(l){var b=this._countCurves(),w=p>0&&p+h-1===b?p-1:p,C=w,D=Math.min(w+h,b);for(i._curves&&(l.splice.apply(l,[w,0].concat(i._curves)),C+=i._curves.length),g=C;g<D;g++)l.splice(g,0,new Te(this,null,null));this._adjustCurves(w,D)}return this._changed(41),i},_adjustCurves:function(i,s){for(var h,a=this._segments,l=this._curves,d=i;d<s;d++)(h=l[d])._path=this,h._segment1=a[d],h._segment2=a[d+1]||a[0],h._changed();(h=l[this._closed&&!i?a.length-1:i-1])&&(h._segment2=a[i]||a[0],h._changed()),(h=l[s])&&(h._segment1=a[s],h._changed())},_countCurves:function(){var i=this._segments.length;return!this._closed&&i>0?i-1:i},add:function(i){var s=arguments;return s.length>1&&"number"!=typeof i?this._add(Xe.readList(s)):this._add([Xe.read(s)])[0]},insert:function(i,s){var a=arguments;return a.length>2&&"number"!=typeof s?this._add(Xe.readList(a,1),i):this._add([Xe.read(a,1)],i)[0]},addSegment:function(){return this._add([Xe.read(arguments)])[0]},insertSegment:function(i){return this._add([Xe.read(arguments,1)],i)[0]},addSegments:function(i){return this._add(Xe.readList(i))},insertSegments:function(i,s){return this._add(Xe.readList(s),i)},removeSegment:function(i){return this.removeSegments(i,i+1)[0]||null},removeSegments:function(i,s,a){i=i||0,s=ne.pick(s,this._segments.length);var l=this._segments,h=this._curves,d=l.length,p=l.splice(i,s-i),g=p.length;if(!g)return p;for(var m=0;m<g;m++){var v=p[m];v._selection&&this._updateSelection(v,v._selection,0),v._index=v._path=null}m=i;for(var b=l.length;m<b;m++)l[m]._index=m;if(h){var w=i>0&&s===d+(this._closed?1:0)?i-1:i;for(m=(h=h.splice(w,g)).length-1;m>=0;m--)h[m]._path=null;a&&(p._curves=h.slice(1)),this._adjustCurves(w,w)}return this._changed(41),p},clear:"#removeSegments",hasHandles:function(){for(var i=this._segments,s=0,a=i.length;s<a;s++)if(i[s].hasHandles())return!0;return!1},clearHandles:function(){for(var i=this._segments,s=0,a=i.length;s<a;s++)i[s].clearHandles()},getLength:function(){if(null==this._length){for(var i=this.getCurves(),s=0,a=0,l=i.length;a<l;a++)s+=i[a].getLength();this._length=s}return this._length},getArea:function(){var i=this._area;if(null==i){var s=this._segments,a=this._closed;i=0;for(var l=0,h=s.length;l<h;l++){var d=l+1===h;i+=Te.getArea(Te.getValues(s[l],s[d?0:l+1],null,d&&!a))}this._area=i}return i},isFullySelected:function(){var i=this._segments.length;return this.isSelected()&&i>0&&this._segmentSelection===7*i},setFullySelected:function(i){i&&this._selectSegments(!0),this.setSelected(i)},setSelection:function i(s){1&s||this._selectSegments(!1),i.base.call(this,s)},_selectSegments:function(i){var s=this._segments,a=s.length,l=i?7:0;this._segmentSelection=l*a;for(var h=0;h<a;h++)s[h]._selection=l},_updateSelection:function(i,s,a){i._selection=a,(this._segmentSelection+=a-s)>0&&this.setSelected(!0)},divideAt:function(i){var a,s=this.getLocationAt(i);return s&&(a=s.getCurve().divideAt(s.getCurveOffset()))?a._segment1:null},splitAt:function(i){var s=this.getLocationAt(i),a=s&&s.index,l=s&&s.time;l>.99999999&&(a++,l=0);var p=this.getCurves();if(a>=0&&a<p.length){l>=1e-8&&p[a++].divideAtTime(l);var m,g=this.removeSegments(a,this._segments.length,!0);return this._closed?(this.setClosed(!1),m=this):((m=new gt(Ze.NO_INSERT)).insertAbove(this),m.copyAttributes(this)),m._add(g,0),this.addSegment(g[0]),m}return null},split:function(i,s){var a,l=s===De?i:(a=this.getCurves()[i])&&a.getLocationAtTime(s);return null!=l?this.splitAt(l):null},join:function(i,s){var a=s||0;if(i&&i!==this){var l=i._segments,h=this.getLastSegment(),d=i.getLastSegment();if(!d)return this;h&&h._point.isClose(d._point,a)&&i.reverse();var p=i.getFirstSegment();if(h&&h._point.isClose(p._point,a))h.setHandleOut(p._handleOut),this._add(l.slice(1));else{var g=this.getFirstSegment();g&&g._point.isClose(p._point,a)&&i.reverse(),d=i.getLastSegment(),g&&g._point.isClose(d._point,a)?(g.setHandleIn(d._handleIn),this._add(l.slice(0,l.length-1),0)):this._add(l.slice())}i._closed&&this._add([l[0]]),i.remove()}var m=this.getFirstSegment(),v=this.getLastSegment();return m!==v&&m._point.isClose(v._point,a)&&(m.setHandleIn(v._handleIn),v.remove(),this.setClosed(!0)),this},reduce:function(i){for(var s=this.getCurves(),a=i&&i.simplify,l=a?1e-7:0,h=s.length-1;h>=0;h--){var d=s[h];!d.hasHandles()&&(!d.hasLength(l)||a&&d.isCollinear(d.getNext()))&&d.remove()}return this},reverse:function(){this._segments.reverse();for(var i=0,s=this._segments.length;i<s;i++){var a=this._segments[i],l=a._handleIn;a._handleIn=a._handleOut,a._handleOut=l,a._index=i}this._curves=null,this._changed(9)},flatten:function(i){for(var a=new dn(this,i||.25,256,!0).parts,l=a.length,h=[],d=0;d<l;d++)h.push(new Xe(a[d].curve.slice(0,2)));!this._closed&&l>0&&h.push(new Xe(a[l-1].curve.slice(6))),this.setSegments(h)},simplify:function(i){var s=new Zt(this).fit(i||2.5);return s&&this.setSegments(s),!!s},smooth:function(i){var s=this,a=i||{},l=a.type||"asymmetric",h=this._segments,d=h.length,p=this._closed;function g(Ce,Ae){var Pe=Ce&&Ce.index;if(null!=Pe){var Fe=Ce.path;if(Fe&&Fe!==s)throw new Error(Ce._class+" "+Pe+" of "+Fe+" is not part of "+s);Ae&&Ce instanceof Te&&Pe++}else Pe="number"==typeof Ce?Ce:Ae;return Math.min(Pe<0&&p?Pe%d:Pe<0?Pe+d:Pe,d-1)}var m=p&&a.from===De&&a.to===De,v=g(a.from,0),b=g(a.to,d-1);if(v>b)if(p)v-=d;else{var w=v;v=b,b=w}if(/^(?:asymmetric|continuous)$/.test(l)){var C="asymmetric"===l,D=Math.min,R=b-v+1,P=R-1,M=m?D(R,4):1,I=M,x=M,S=[];if(p||(I=D(1,v),x=D(1,d-b-1)),(P+=I+x)<=1)return;for(var E=0,k=v-I;E<=P;E++,k++)S[E]=h[(k<0?k+d:k)%d]._point;var N=S[0]._x+2*S[1]._x,O=S[0]._y+2*S[1]._y,F=2,B=P-1,z=[N],G=[O],j=[F],H=[],$=[];for(E=1;E<P;E++){var K=E<B,oe=K?4:C?3:8,he=K?2:C?0:1,ge=(K||C?1:2)/F;F=j[E]=(K?4:C?2:7)-ge,N=z[E]=oe*S[E]._x+he*S[E+1]._x-ge*N,O=G[E]=oe*S[E]._y+he*S[E+1]._y-ge*O}for(H[B]=z[B]/j[B],$[B]=G[B]/j[B],E=P-2;E>=0;E--)H[E]=(z[E]-H[E+1])/j[E],$[E]=(G[E]-$[E+1])/j[E];H[P]=(3*S[P]._x-H[B])/2,$[P]=(3*S[P]._y-$[B])/2,E=I;var _e=P-x;for(k=v;E<=_e;E++,k++){var le=h[k<0?k+d:k],ce=le._point,ue=H[E]-ce._x,ve=$[E]-ce._y;(m||E<_e)&&le.setHandleOut(ue,ve),(m||E>I)&&le.setHandleIn(-ue,-ve)}}else for(E=v;E<=b;E++)h[E<0?E+d:E].smooth(a,!m&&E===v,!m&&E===b)},toShape:function(i){if(!this._closed)return null;var a,l,h,d,s=this._segments;function p(C,D){var R=s[C],P=R.getNext(),M=s[D],I=M.getNext();return R._handleOut.isZero()&&P._handleIn.isZero()&&M._handleOut.isZero()&&I._handleIn.isZero()&&P._point.subtract(R._point).isCollinear(I._point.subtract(M._point))}function m(C){var D=s[C],R=D.getNext(),P=D._handleOut,M=R._handleIn,I=.5522847498307936;if(P.isOrthogonal(M)){var x=D._point,S=R._point,E=new Xt(x,P,!0).intersect(new Xt(S,M,!0),!0);return E&&ot.isZero(P.getLength()/E.subtract(x).getLength()-I)&&ot.isZero(M.getLength()/E.subtract(S).getLength()-I)}return!1}function v(C,D){return s[C]._point.getDistance(s[D]._point)}if(!this.hasHandles()&&4===s.length&&p(0,2)&&p(1,3)&&function g(C){var D=s[C],R=D.getPrevious(),P=D.getNext();return R._handleOut.isZero()&&D._handleIn.isZero()&&D._handleOut.isZero()&&P._handleIn.isZero()&&D._point.subtract(R._point).isOrthogonal(P._point.subtract(D._point))}(1)?(a=fn.Rectangle,l=new Ee(v(0,3),v(0,1)),d=s[1]._point.add(s[2]._point).divide(2)):8===s.length&&m(0)&&m(2)&&m(4)&&m(6)&&p(1,5)&&p(3,7)?(a=fn.Rectangle,h=(l=new Ee(v(1,6),v(0,3))).subtract(new Ee(v(0,7),v(1,2))).divide(2),d=s[3]._point.add(s[4]._point).divide(2)):4===s.length&&m(0)&&m(1)&&m(2)&&m(3)&&(ot.isZero(v(0,2)-v(1,3))?(a=fn.Circle,h=v(0,2)/2):(a=fn.Ellipse,h=new Ee(v(2,0)/2,v(3,1)/2)),d=s[1]._point),a){var b=this.getPosition(!0),w=new a({center:b,size:l,radius:h,insert:!1});return w.copyAttributes(this,!0),w._matrix.prepend(this._matrix),w.rotate(d.subtract(b).getAngle()+90),(i===De||i)&&w.insertAbove(this),w}return null},toPath:"#clone",compare:function i(s){if(!s||s instanceof Jn)return i.base.call(this,s);var a=this.getCurves(),l=s.getCurves(),h=a.length,d=l.length;if(!h||!d)return h==d;for(var v,w,p=a[0].getValues(),g=[],m=0,b=0,C=0;C<d;C++){var M=l[C].getValues();if(g.push(M),D=Te.getOverlaps(p,M)){v=!C&&D[0][0]>0?d-1:C,w=D[0][1];break}}var I,R=Math.abs;for(M=g[v];p&&M;){var D;if((D=Te.getOverlaps(p,M))&&R(D[0][0]-b)<1e-8){1===(b=D[1][0])&&(p=++m<h?a[m].getValues():null,b=0);var S=D[0][1];if(R(S-w)<1e-8){if(I||(I=[v,S]),1===(w=D[1][1])&&(++v>=d&&(v=0),M=g[v]||l[v].getValues(),w=0),!p)return I[0]===v&&I[1]===w;continue}}break}return!1},_hitTestSelf:function(i,s,a,l){var w,C,D,R,P,M,h=this,d=this.getStyle(),p=this._segments,g=p.length,m=this._closed,v=s._tolerancePadding,b=v,I=s.stroke&&d.hasStroke(),x=s.fill&&d.hasFill(),S=s.curves,E=I?d.getStrokeWidth()/2:x&&s.tolerance>0||S?0:null;function k(H,$){return i.subtract(H).divide($).length<=1}function N(H,$,K){if(!s.selected||$.isSelected()){var Y=H._point;if($!==Y&&($=$.add(Y)),k($,b))return new Ne(K,h,{segment:H,point:$})}}function O(H,$){return($||s.segments)&&N(H,H._point,"segment")||!$&&s.handles&&(N(H,H._handleIn,"handle-in")||N(H,H._handleOut,"handle-out"))}function F(H){R.add(H)}function B(H){var K,$=m||H._index>0&&H._index<g-1;return"round"===($?w:C)?k(H._point,b):(R=new gt({internal:!0,closed:!0}),$?H.isSmooth()||gt._addBevelJoin(H,w,E,D,null,l,F,!0):"square"===C&&gt._addSquareCap(H,C,E,null,l,F,!0),R.isEmpty()?void 0:R.contains(i)||(K=R.getNearestLocation(i))&&k(K.getPoint(),v))}if(null!==E&&(E>0?(w=d.getStrokeJoin(),C=d.getStrokeCap(),D=d.getMiterLimit(),b=b.add(gt._getStrokePadding(E,l))):w=C="round"),!s.ends||s.segments||m){if(s.segments||s.handles)for(var z=0;z<g;z++)if(M=O(p[z]))return M}else if(M=O(p[0],!0)||O(p[g-1],!0))return M;if(null!==E){if(P=this.getNearestLocation(i)){var G=P.getTime();0===G||1===G&&g>1?B(P.getSegment())||(P=null):k(P.getPoint(),b)||(P=null)}if(!P&&"miter"===w&&g>1)for(z=0;z<g;z++){var j=p[z];if(i.getDistance(j._point)<=D*E&&B(j)){P=j.getLocation();break}}}return!P&&x&&this._contains(i)||P&&!I&&!S?new Ne("fill",this):P?new Ne(I?"stroke":"curve",this,{location:P,point:P.getPoint()}):null}},ne.each(Te._evaluateMethods,function(i){this[i+"At"]=function(s){var a=this.getLocationAt(s);return a&&a[i]()}},{beans:!1,getLocationOf:function(){for(var i=ie.read(arguments),s=this.getCurves(),a=0,l=s.length;a<l;a++){var h=s[a].getLocationOf(i);if(h)return h}return null},getOffsetOf:function(){var i=this.getLocationOf.apply(this,arguments);return i?i.getOffset():null},getLocationAt:function(i){if("number"==typeof i){for(var s=this.getCurves(),a=0,l=0,h=s.length;l<h;l++){var d=a,p=s[l];if((a+=p.getLength())>i)return p.getLocationAt(i-d)}if(s.length>0&&i<=this.getLength())return new In(s[s.length-1],1)}else if(i&&i.getPath&&i.getPath()===this)return i;return null},getOffsetsWithTangent:function(){var i=ie.read(arguments);if(i.isZero())return[];for(var s=[],a=0,l=this.getCurves(),h=0,d=l.length;h<d;h++){for(var p=l[h],g=p.getTimesWithTangent(i),m=0,v=g.length;m<v;m++){var b=a+p.getOffsetAtTime(g[m]);s.indexOf(b)<0&&s.push(b)}a+=p.length}return s}}),new function(){function s(a,l,h){var v,b,w,C,D,R,P,M,d=l._segments,p=d.length,g=new Array(6),m=!0;function I(S){if(h)S._transformCoordinates(h,g),v=g[0],b=g[1];else{var E=S._point;v=E._x,b=E._y}var k;m?(a.moveTo(v,b),m=!1):(h?(D=g[2],R=g[3]):(D=v+(k=S._handleIn)._x,R=b+k._y),D===v&&R===b&&P===w&&M===C?a.lineTo(v,b):a.bezierCurveTo(P,M,D,R,v,b)),w=v,C=b,h?(P=g[4],M=g[5]):(P=w+(k=S._handleOut)._x,M=C+k._y)}for(var x=0;x<p;x++)I(d[x]);l._closed&&p>0&&I(d[0])}return{_draw:function(a,l,h,d){var p=l.dontStart,g=l.dontFinish||l.clip,m=this.getStyle(),v=m.hasFill(),b=m.hasStroke(),w=m.getDashArray(),C=!o.support.nativeDash&&b&&w&&w.length;function D(S){return w[(S%C+C)%C]}if(p||a.beginPath(),(v||b&&!C||g)&&(s(a,this,d),this._closed&&a.closePath()),!g&&(v||b)&&(this._setStyles(a,l,h),v&&(a.fill(m.getFillRule()),a.shadowColor="rgba(0,0,0,0)"),b)){if(C){p||a.beginPath();for(var I,R=new dn(this,.25,32,!1,d),P=R.length,M=-m.getDashOffset(),x=0;M>0;)M-=D(x--)+D(x--);for(;M<P;)I=M+D(x++),(M>0||I>0)&&R.drawPart(a,Math.max(M,0),Math.max(I,0)),M=I+D(x++)}a.stroke()}},_drawSelected:function(a,l){a.beginPath(),s(a,this,l),a.stroke(),function i(a,l,h,d){if(!(d<=0))for(var b,w,p=d/2,g=d-2,m=p-1,v=new Array(6),D=0,R=l.length;D<R;D++){var P=l[D],M=P._selection;if(P._transformCoordinates(h,v),b=v[0],w=v[1],2&M&&C(2),4&M&&C(4),a.fillRect(b-p,w-p,d,d),g>0&&!(1&M)){var I=a.fillStyle;a.fillStyle="#ffffff",a.fillRect(b-m,w-m,g,g),a.fillStyle=I}}function C(x){var S=v[x],E=v[x+1];(b!=S||w!=E)&&(a.beginPath(),a.moveTo(b,w),a.lineTo(S,E),a.stroke(),a.beginPath(),a.arc(S,E,p,0,2*Math.PI,!0),a.fill())}}(a,this._segments,l,o.settings.handleSize)}}},new function(){function i(s){var a=s._segments;if(!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return{moveTo:function(){var s=this._segments;1===s.length&&this.removeSegment(0),s.length||this._add([new Xe(ie.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Xe(ie.read(arguments))])},cubicCurveTo:function(){var s=arguments,a=ie.read(s),l=ie.read(s),h=ie.read(s),d=i(this);d.setHandleOut(a.subtract(d._point)),this._add([new Xe(h,l.subtract(h))])},quadraticCurveTo:function(){var s=arguments,a=ie.read(s),l=ie.read(s),h=i(this)._point;this.cubicCurveTo(a.add(h.subtract(a).multiply(1/3)),a.add(l.subtract(a).multiply(1/3)),l)},curveTo:function(){var s=arguments,a=ie.read(s),l=ie.read(s),h=ne.pick(ne.read(s),.5),d=1-h,p=i(this)._point,g=a.subtract(p.multiply(d*d)).subtract(l.multiply(h*h)).divide(2*h*d);if(g.isNaN())throw new Error("Cannot put a curve through points with parameter = "+h);this.quadraticCurveTo(g,l)},arcTo:function(){var b,w,C,D,s=arguments,a=Math.abs,l=Math.sqrt,h=i(this),d=h._point,p=ie.read(s),m=ne.peek(s);if("boolean"==typeof(v=ne.pick(m,!0)))var g=(R=d.add(p).divide(2)).add(R.subtract(d).rotate(v?-90:90));else if(ne.remain(s)<=2)g=p,p=ie.read(s);else if(!d.equals(p)){var P=Ee.read(s),M=ot.isZero;if(M(P.width)||M(P.height))return this.lineTo(p);var I=ne.read(s),v=!!ne.read(s),x=!!ne.read(s),R=d.add(p).divide(2),E=(S=d.subtract(R).rotate(-I)).x,k=S.y,N=a(P.width),O=a(P.height),F=N*N,B=O*O,z=E*E,G=k*k,j=l(z/F+G/B);if(j>1&&(F=(N*=j)*N,B=(O*=j)*O),a(j=(F*B-F*G-B*z)/(F*G+B*z))<1e-12&&(j=0),j<0)throw new Error("Cannot create an arc with the given arguments");b=new ie(N*k/O,-O*E/N).multiply((x===v?-1:1)*l(j)).rotate(I).add(R),w=(C=(D=(new st).translate(b).rotate(I).scale(N,O))._inverseTransform(d)).getDirectedAngle(D._inverseTransform(p)),!v&&w>0?w-=360:v&&w<0&&(w+=360)}if(g){var H=new Xt(d.add(g).divide(2),g.subtract(d).rotate(90),!0),$=new Xt(g.add(p).divide(2),p.subtract(g).rotate(90),!0),K=new Xt(d,p),Y=K.getSide(g);if(!(b=H.intersect($,!0))){if(!Y)return this.lineTo(p);throw new Error("Cannot create an arc with the given arguments")}w=(C=d.subtract(b)).getDirectedAngle(p.subtract(b));var J=K.getSide(b,!0);0===J?w=Y*a(w):Y===J&&(w+=w<0?360:-360)}if(w){for(var he=a(w),ge=he>=360?4:Math.ceil((he-1e-5)/90),_e=w/ge,le=_e*Math.PI/360,ce=4/3*Math.sin(le)/(1+Math.cos(le)),ue=[],ve=0;ve<=ge;ve++){var S=p,Ce=null;if(ve<ge&&(Ce=C.rotate(90).multiply(ce),D?(S=D._transformPoint(C),Ce=D._transformPoint(C.add(Ce)).subtract(S)):S=b.add(C)),ve){var Ae=C.rotate(-90).multiply(ce);D&&(Ae=D._transformPoint(C.add(Ae)).subtract(S)),ue.push(new Xe(S,Ae,Ce))}else h.setHandleOut(Ce);C=C.rotate(_e)}this._add(ue)}},lineBy:function(){var s=ie.read(arguments),a=i(this)._point;this.lineTo(a.add(s))},curveBy:function(){var s=arguments,a=ie.read(s),l=ie.read(s),h=ne.read(s),d=i(this)._point;this.curveTo(d.add(a),d.add(l),h)},cubicCurveBy:function(){var s=arguments,a=ie.read(s),l=ie.read(s),h=ie.read(s),d=i(this)._point;this.cubicCurveTo(d.add(a),d.add(l),d.add(h))},quadraticCurveBy:function(){var s=arguments,a=ie.read(s),l=ie.read(s),h=i(this)._point;this.quadraticCurveTo(h.add(a),h.add(l))},arcBy:function(){var s=arguments,a=i(this)._point,l=a.add(ie.read(s)),h=ne.pick(ne.peek(s),!0);this.arcTo(l,"boolean"==typeof h?h:a.add(ie.read(s)))},closePath:function(s){this.setClosed(!0),this.join(this,s)}}},{_getBounds:function(i,s){return gt[s.handle?"getHandleBounds":s.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,i,s)},statics:{getBounds:function(i,s,a,l,h,d){var p=i[0];if(!p)return new Ke;var g=new Array(6),m=p._transformCoordinates(l,new Array(6)),v=m.slice(0,2),b=v.slice(),w=new Array(2);function C(P){P._transformCoordinates(l,g);for(var M=0;M<2;M++)Te._addBounds(m[M],m[M+4],g[M+2],g[M],M,d?d[M]:0,v,b,w);var I=m;m=g,g=I}for(var D=1,R=i.length;D<R;D++)C(i[D]);return s&&C(p),new Ke(v[0],v[1],b[0]-v[0],b[1]-v[1])},getStrokeBounds:function(i,s,a,l,h){var d=a.getStyle(),p=d.hasStroke(),g=d.getStrokeWidth(),m=p&&a._getStrokeMatrix(l,h),v=p&&gt._getStrokePadding(g,m),b=gt.getBounds(i,s,a,l,h,v);if(!p)return b;var w=g/2,C=d.getStrokeJoin(),D=d.getStrokeCap(),R=d.getMiterLimit(),P=new Ke(new Ee(v));function M(N){b=b.include(N)}function I(N){b=b.unite(P.setCenter(N._point.transform(l)))}function x(N,O){"round"===O||N.isSmooth()?I(N):gt._addBevelJoin(N,O,w,R,l,m,M)}function S(N,O){"round"===O?I(N):gt._addSquareCap(N,O,w,l,m,M)}var E=i.length-(s?0:1);if(E>0){for(var k=1;k<E;k++)x(i[k],C);s?x(i[0],C):(S(i[0],D),S(i[i.length-1],D))}return b},_getStrokePadding:function(i,s){if(!s)return[i,i];var a=new ie(i,0).transform(s),l=new ie(0,i).transform(s),h=a.getAngleInRadians(),d=a.getLength(),p=l.getLength(),g=Math.sin(h),m=Math.cos(h),v=Math.tan(h),b=Math.atan2(p*v,d),w=Math.atan2(p,v*d);return[Math.abs(d*Math.cos(b)*m+p*Math.sin(b)*g),Math.abs(p*Math.sin(w)*m+d*Math.cos(w)*g)]},_addBevelJoin:function(i,s,a,l,h,d,p,g){var m=i.getCurve(),v=m.getPrevious(),b=m.getPoint1().transform(h),w=v.getNormalAtTime(1).multiply(a).transform(d),C=m.getNormalAtTime(0).multiply(a).transform(d),D=w.getDirectedAngle(C);if((D<0||D>=180)&&(w=w.negate(),C=C.negate()),g&&p(b),p(b.add(w)),"miter"===s){var R=new Xt(b.add(w),new ie(-w.y,w.x),!0).intersect(new Xt(b.add(C),new ie(-C.y,C.x),!0),!0);R&&b.getDistance(R)<=l*a&&p(R)}p(b.add(C))},_addSquareCap:function(i,s,a,l,h,d,p){var g=i._point.transform(l),m=i.getLocation(),v=m.getNormal().multiply(0===m.getTime()?a:-a).transform(h);"square"===s&&(p&&(d(g.subtract(v)),d(g.add(v))),g=g.add(v.rotate(-90))),d(g.add(v)),d(g.subtract(v))},getHandleBounds:function(i,s,a,l,h){var g,m,d=a.getStyle();if(h.stroke&&d.hasStroke()){var v=a._getStrokeMatrix(l,h),b=d.getStrokeWidth()/2,w=b;"miter"===d.getStrokeJoin()&&(w=b*d.getMiterLimit()),"square"===d.getStrokeCap()&&(w=Math.max(w,b*Math.SQRT2)),g=gt._getStrokePadding(b,v),m=gt._getStrokePadding(w,v)}for(var C=new Array(6),D=1/0,R=-D,P=D,M=R,I=0,x=i.length;I<x;I++){i[I]._transformCoordinates(l,C);for(var E=0;E<6;E+=2){var k=E?g:m,N=k?k[0]:0,O=k?k[1]:0,F=C[E],B=C[E+1],z=F-N,G=F+N,j=B-O,H=B+O;z<D&&(D=z),G>R&&(R=G),j<P&&(P=j),H>M&&(M=H)}}return new Ke(D,P,R-D,M-P)}}});gt.inject({statics:new function(){var i=.5522847498307936,s=[new Xe([-1,0],[0,i],[0,-i]),new Xe([0,-1],[-i,0],[i,0]),new Xe([1,0],[0,-i],[0,i]),new Xe([0,1],[i,0],[-i,0])];function a(h,d,p){var g=ne.getNamed(p),m=new gt(g&&(1==g.insert?Ze.INSERT:0==g.insert?Ze.NO_INSERT:null));return m._add(h),m._closed=d,m.set(g,Ze.INSERT)}function l(h,d,p){for(var g=new Array(4),m=0;m<4;m++){var v=s[m];g[m]=new Xe(v._point.multiply(d).add(h),v._handleIn.multiply(d),v._handleOut.multiply(d))}return a(g,!0,p)}return{Line:function(){var h=arguments;return a([new Xe(ie.readNamed(h,"from")),new Xe(ie.readNamed(h,"to"))],!1,h)},Circle:function(){var h=arguments,d=ie.readNamed(h,"center"),p=ne.readNamed(h,"radius");return l(d,new Ee(p),h)},Rectangle:function(){var w,h=arguments,d=Ke.readNamed(h,"rectangle"),p=Ee.readNamed(h,"radius",0,{readNull:!0}),g=d.getBottomLeft(!0),m=d.getTopLeft(!0),v=d.getTopRight(!0),b=d.getBottomRight(!0);if(!p||p.isZero())w=[new Xe(g),new Xe(m),new Xe(v),new Xe(b)];else{var C=(p=Ee.min(p,d.getSize(!0).divide(2))).width,D=p.height,R=C*i,P=D*i;w=[new Xe(g.add(C,0),null,[-R,0]),new Xe(g.subtract(0,D),[0,P]),new Xe(m.add(0,D),null,[0,-P]),new Xe(m.add(C,0),[-R,0],null),new Xe(v.subtract(C,0),null,[R,0]),new Xe(v.add(0,D),[0,-P],null),new Xe(b.subtract(0,D),null,[0,P]),new Xe(b.subtract(C,0),[R,0])]}return a(w,!0,h)},RoundRectangle:"#Rectangle",Ellipse:function(){var h=arguments,d=fn._readEllipse(h);return l(d.center,d.radius,h)},Oval:"#Ellipse",Arc:function(){var h=arguments,d=ie.readNamed(h,"from"),p=ie.readNamed(h,"through"),g=ie.readNamed(h,"to"),m=ne.getNamed(h),v=new gt(m&&0==m.insert&&Ze.NO_INSERT);return v.moveTo(d),v.arcTo(p,g),v.set(m)},RegularPolygon:function(){for(var h=arguments,d=ie.readNamed(h,"center"),p=ne.readNamed(h,"sides"),g=ne.readNamed(h,"radius"),m=360/p,v=p%3==0,b=new ie(0,v?-g:g),w=v?-1:.5,C=new Array(p),D=0;D<p;D++)C[D]=new Xe(d.add(b.rotate((D+w)*m)));return a(C,!0,h)},Star:function(){for(var h=arguments,d=ie.readNamed(h,"center"),p=2*ne.readNamed(h,"points"),g=ne.readNamed(h,"radius1"),m=ne.readNamed(h,"radius2"),v=360/p,b=new ie(0,-1),w=new Array(p),C=0;C<p;C++)w[C]=new Xe(d.add(b.rotate(v*C).multiply(C%2?m:g)));return a(w,!0,h)}}}});var Jn=at.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(s){this._children=[],this._namedChildren={},this._initialize(s)||("string"==typeof s?this.setPathData(s):this.addChildren(Array.isArray(s)?s:arguments))},insertChildren:function i(s,a){var l=a,h=l[0];h&&"number"==typeof h[0]&&(l=[l]);for(var d=a.length-1;d>=0;d--){var p=l[d];l===a&&!(p instanceof gt)&&(l=ne.slice(l)),Array.isArray(p)?l[d]=new gt({segments:p,insert:!1}):p instanceof Jn&&(l.splice.apply(l,[d,1].concat(p.removeChildren())),p.remove())}return i.base.call(this,s,l)},reduce:function i(s){for(var a=this._children,l=a.length-1;l>=0;l--)(h=a[l].reduce(s)).isEmpty()&&h.remove();var h;return a.length?i.base.call(this):((h=new gt(Ze.NO_INSERT)).copyAttributes(this),h.insertAbove(this),this.remove(),h)},isClosed:function(){for(var i=this._children,s=0,a=i.length;s<a;s++)if(!i[s]._closed)return!1;return!0},setClosed:function(i){for(var s=this._children,a=0,l=s.length;a<l;a++)s[a].setClosed(i)},getFirstSegment:function(){var i=this.getFirstChild();return i&&i.getFirstSegment()},getLastSegment:function(){var i=this.getLastChild();return i&&i.getLastSegment()},getCurves:function(){for(var i=this._children,s=[],a=0,l=i.length;a<l;a++)ne.push(s,i[a].getCurves());return s},getFirstCurve:function(){var i=this.getFirstChild();return i&&i.getFirstCurve()},getLastCurve:function(){var i=this.getLastChild();return i&&i.getLastCurve()},getArea:function(){for(var i=this._children,s=0,a=0,l=i.length;a<l;a++)s+=i[a].getArea();return s},getLength:function(){for(var i=this._children,s=0,a=0,l=i.length;a<l;a++)s+=i[a].getLength();return s},getPathData:function(i,s){for(var a=this._children,l=[],h=0,d=a.length;h<d;h++){var p=a[h],g=p._matrix;l.push(p.getPathData(i&&!g.isIdentity()?i.appended(g):i,s))}return l.join("")},_hitTestChildren:function i(s,a,l){return i.base.call(this,s,a.class===gt||"path"===a.type?a:ne.set({},a,{fill:!1}),l)},_draw:function(i,s,a,l){var h=this._children;if(h.length){s=s.extend({dontStart:!0,dontFinish:!0}),i.beginPath();for(var d=0,p=h.length;d<p;d++)h[d].draw(i,s,l);if(!s.clip){this._setStyles(i,s,a);var g=this._style;g.hasFill()&&(i.fill(g.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),g.hasStroke()&&i.stroke()}}},_drawSelected:function(i,s,a){for(var l=this._children,h=0,d=l.length;h<d;h++){var p=l[h],g=p._matrix;a[p._id]||p._drawSelected(i,g.isIdentity()?s:s.appended(g))}}},new function(){function i(s,a){var l=s._children;if(a&&!l.length)throw new Error("Use a moveTo() command first");return l[l.length-1]}return ne.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(s){this[s]=function(){var a=i(this,!0);a[s].apply(a,arguments)}},{moveTo:function(){var s=i(this),a=s&&s.isEmpty()?s:new gt(Ze.NO_INSERT);a!==s&&this.addChild(a),a.moveTo.apply(a,arguments)},moveBy:function(){var s=i(this,!0),a=s&&s.getLastSegment(),l=ie.read(arguments);this.moveTo(a?l.add(a._point):l)},closePath:function(s){i(this,!0).closePath(s)}})},ne.each(["reverse","flatten","simplify","smooth"],function(i){this[i]=function(s){for(var l,a=this._children,h=0,d=a.length;h<d;h++)l=a[h][i](s)||l;return l}},{}));at.inject(new function(){var i=Math.min,s=Math.max,a=Math.abs,l={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function h(I){return I._children||[I]}function d(I,x){var S=I.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var E=h(S),k=0,N=E.length;k<N;k++)!(I=E[k])._closed&&!I.isEmpty()&&(I.closePath(1e-12),I.getFirstSegment().setHandleIn(0,0),I.getLastSegment().setHandleOut(0,0));S=S.resolveCrossings().reorient("nonzero"===S.getFillRule(),!0)}return S}function p(I,x,S,E,k){var N=new Jn(Ze.NO_INSERT);return N.addChildren(I,!0),N=N.reduce({simplify:x}),k&&0==k.insert||N.insertAbove(E&&S.isSibling(E)&&S.getIndex()<E.getIndex()?E:S),N.copyAttributes(S,!0),N}function g(I){return I.hasOverlap()||I.isCrossing()}function m(I,x,S,E){if(E&&(0==E.trace||E.stroke)&&/^(subtract|intersect)$/.test(S))return v(I,x,S);var k=d(I,!0),N=x&&I!==x&&d(x,!0),O=l[S];O[S]=!0,N&&(O.subtract||O.exclude)^N.isClockwise()^k.isClockwise()&&N.reverse();var H,F=D(In.expand(k.getIntersections(N,g))),B=h(k),z=N&&h(N),G=[],j=[];function $(Ce){for(var Ae=0,Pe=Ce.length;Ae<Pe;Ae++){var Fe=Ce[Ae];ne.push(G,Fe._segments),ne.push(j,Fe.getCurves()),Fe._overlapsOnly=!0}}function K(Ce){for(var Ae=[],Pe=0,Fe=Ce&&Ce.length;Pe<Fe;Pe++)Ae.push(j[Ce[Pe]]);return Ae}if(F.length){$(B),z&&$(z);for(var Y=new Array(j.length),J=0,oe=j.length;J<oe;J++)Y[J]=j[J].getValues();var he=sn.findCurveBoundsCollisions(Y,Y,0,!0),ge={};for(J=0;J<j.length;J++){var _e=j[J],le=_e._path._id;(ge[le]=ge[le]||{})[_e.getIndex()]={hor:K(he[J].hor),ver:K(he[J].ver)}}for(J=0,oe=F.length;J<oe;J++)P(F[J]._segment,k,N,ge,O);for(J=0,oe=G.length;J<oe;J++){var ue=G[J],ve=ue._intersection;ue._winding||P(ue,k,N,ge,O),ve&&ve._overlap||(ue._path._overlapsOnly=!1)}H=M(G,O)}else H=C(z?B.concat(z):B.slice(),function(Ce){return!!O[Ce]});return p(H,!0,I,x,E)}function v(I,x,S){var E=d(I),k=d(x),N=E.getIntersections(k,g),O="subtract"===S,F="divide"===S,B={},z=[];function G($){if(!B[$._id]&&(F||k.contains($.getPointAt($.getLength()/2))^O))return z.unshift($),B[$._id]=!0}for(var j=N.length-1;j>=0;j--){var H=N[j].split();H&&(G(H)&&H.getFirstSegment().setHandleIn(0,0),E.getLastSegment().setHandleOut(0,0))}return G(E),p(z,!1,I,x)}function b(I,x){for(var S=I;S;){if(S===x)return;S=S._previous}for(;I._next&&I._next!==x;)I=I._next;if(!I._next){for(;x._previous;)x=x._previous;I._next=x,x._previous=I}}function w(I){for(var x=I.length-1;x>=0;x--)I[x].clearHandles()}function C(I,x,S){var E=I&&I.length;if(E){var k=ne.each(I,function(he,ge){this[he._id]={container:null,winding:he.isClockwise()?1:-1,index:ge}},{}),N=I.slice().sort(function(he,ge){return a(ge.getArea())-a(he.getArea())}),O=N[0],F=sn.findItemBoundsCollisions(N,null,ot.GEOMETRIC_EPSILON);null==S&&(S=O.isClockwise());for(var B=0;B<E;B++){var z=N[B],G=k[z._id],j=0,H=F[B];if(H)for(var $=null,K=H.length-1;K>=0;K--)if(H[K]<B){$=$||z.getInteriorPoint();var Y=N[H[K]];if(Y.contains($)){var J=k[Y._id];G.winding+=j=J.winding,G.container=J.exclude?J.container:Y;break}}if(x(G.winding)===x(j))G.exclude=!0,I[G.index]=null;else{var oe=G.container;z.setClockwise(oe?!oe.isClockwise():S)}}}return I}function D(I,x,S){var z,G,j,E=x&&[],O=!1,F=S||[],B=S&&{};function H(Ae){return Ae._path._id+"."+Ae._segment1._index}for(var $=(S&&S.length)-1;$>=0;$--)(K=S[$])._path&&(B[H(K)]=!0);for($=I.length-1;$>=0;$--){var K,ge,Y=I[$],J=Y._time,oe=J,he=x&&!x(Y);if((K=Y._curve)&&(K!==G?(O=!K.hasHandles()||B&&B[H(K)],z=[],j=null,G=K):j>=1e-8&&(J/=j)),he)z&&z.push(Y);else{if(x&&E.unshift(Y),j=oe,J<1e-8)ge=K._segment1;else if(J>.99999999)ge=K._segment2;else{var _e=K.divideAtTime(J,!0);O&&F.push(K,_e),ge=_e._segment1;for(var le=z.length-1;le>=0;le--){var ce=z[le];ce._time=(ce._time-J)/(1-J)}}Y._setSegment(ge);var ue=ge._intersection,ve=Y._intersection;if(ue){b(ue,ve);for(var Ce=ue;Ce;)b(Ce._intersection,ue),Ce=Ce._next}else ge._intersection=ve}}return S||w(F),E||I}function R(I,x,S,E,k){var ue,ve,N=Array.isArray(x)?x:x[S?"hor":"ver"],O=S?1:0,F=1^O,B=[I.x,I.y],z=B[O],G=B[F],H=1e-6,$=z-1e-9,K=z+1e-9,Y=0,J=0,oe=0,he=0,ge=!1,_e=!1,le=1,ce=[];function Ce(it){var Ye=it[F+0],kt=it[F+6];if(!(G<i(Ye,kt)||G>s(Ye,kt))){var Oe=it[O+0],wn=it[O+2],Pn=it[O+4],ln=it[O+6];if(Ye===kt)return void((Oe<K&&ln>$||ln<K&&Oe>$)&&(ge=!0));var Ue=G===Ye?0:G===kt||$>s(Oe,wn,Pn,ln)||K<i(Oe,wn,Pn,ln)?1:Te.solveCubic(it,F,G,ce,0,1)>0?ce[0]:1,Yt=0===Ue?Oe:1===Ue?ln:Te.getPoint(it,Ue)[S?"y":"x"],Cn=Ye>kt?1:-1,_=ue[O+6];return G!==Ye?(Yt<$?oe+=Cn:Yt>K?he+=Cn:ge=!0,Yt>z-H&&Yt<z+H&&(le/=2)):(Cn!==(ue[F]>ue[F+6]?1:-1)?Oe<$?oe+=Cn:Oe>K&&(he+=Cn):Oe!=_&&(_<K&&Yt>K?(he+=Cn,ge=!0):_>$&&Yt<$&&(oe+=Cn,ge=!0)),le/=4),ue=it,!k&&Yt>$&&Yt<K&&0===Te.getTangent(it,Ue)[S?"x":"y"]&&R(I,x,!S,E,!0)}}function Ae(it){var Ye=it[F+0],kt=it[F+2],Oe=it[F+4],wn=it[F+6];if(G<=s(Ye,kt,Oe,wn)&&G>=i(Ye,kt,Oe,wn))for(var Wn,Pn=it[O+0],ln=it[O+2],Ue=it[O+4],Yt=it[O+6],Cn=$>s(Pn,ln,Ue,Yt)||K<i(Pn,ln,Ue,Yt)?[it]:Te.getMonoCurves(it,S),_=0,T=Cn.length;_<T;_++)if(Wn=Ce(Cn[_]))return Wn}for(var Pe=0,Fe=N.length;Pe<Fe;Pe++){var nt,Be=N[Pe],We=Be._path,Pt=Be.getValues();if(!(Pe&&N[Pe-1]._path===We||(ue=null,We._closed||(ve=Te.getValues(We.getLastCurve().getSegment2(),Be.getSegment1(),null,!E),ve[F]!==ve[F+6]&&(ue=ve)),ue))){ue=Pt;for(var Dt=We.getLastCurve();Dt&&Dt!==Be;){var ut=Dt.getValues();if(ut[F]!==ut[F+6]){ue=ut;break}Dt=Dt.getPrevious()}}if(nt=Ae(Pt))return nt;if(Pe+1===Fe||N[Pe+1]._path!==We){if(ve&&(nt=Ae(ve)))return nt;ge&&!oe&&!he&&(oe=he=We.isClockwise(E)^S?1:-1),Y+=oe,J+=he,oe=he=0,ge&&(_e=!0,ge=!1),ve=null}}return Y=a(Y),J=a(J),{winding:s(Y,J),windingL:Y,windingR:J,quality:le,onPath:_e}}function P(I,x,S,E,k){var N=[],O=I,F=0;do{if(B=I.getCurve()){var z=B.getLength();N.push({segment:I,curve:B,length:z}),F+=z}I=I.getNext()}while(I&&!I._intersection&&I!==O);for(var G=[.5,.25,.75],j={winding:0,quality:-1},K=0;K<G.length&&j.quality<.5;K++){z=F*G[K];for(var Y=0,J=N.length;Y<J;Y++){var oe=N[Y],he=oe.length;if(z<=he){var B,ge=(B=oe.curve)._path,_e=ge._parent,le=_e instanceof Jn?_e:ge,ce=ot.clamp(B.getTimeAt(z),.001,.999),ue=B.getPointAtTime(ce),ve=a(B.getTangentAtTime(ce).y)<Math.SQRT1_2,Ce=null;if(k.subtract&&S){var Pe=(le===x?S:x)._getWinding(ue,ve,!0);if(le===x&&Pe.winding||le===S&&!Pe.winding){if(Pe.quality<1)continue;Ce={winding:0,quality:1}}}(Ce=Ce||R(ue,E[ge._id][B.getIndex()],ve,!0)).quality>j.quality&&(j=Ce);break}z-=he}}for(Y=N.length-1;Y>=0;Y--)N[Y].segment._winding=j}function M(I,x){var E,S=[];function k(Fe){var Be;return!(!Fe||Fe._visited||x&&(!x[(Be=Fe._winding||{}).winding]||x.unite&&2===Be.winding&&Be.windingL&&Be.windingR))}function N(Fe){if(Fe)for(var Be=0,We=E.length;Be<We;Be++)if(Fe===E[Be])return!0;return!1}function O(Fe){for(var Be=Fe._segments,We=0,Pt=Be.length;We<Pt;We++)Be[We]._visited=!0}function F(Fe,Be){var We=Fe._intersection,Pt=We,nt=[];function Dt(ut,it){for(;ut&&ut!==it;){var Ye=ut._segment,kt=Ye&&Ye._path;if(kt){var Oe=Ye.getNext()||kt.getFirstSegment(),wn=Oe._intersection;Ye!==Fe&&(N(Ye)||N(Oe)||Oe&&k(Ye)&&(k(Oe)||wn&&k(wn._segment)))&&nt.push(Ye),Be&&E.push(Ye)}ut=ut._next}}if(Be&&(E=[Fe]),We){for(Dt(We);We&&We._previous;)We=We._previous;Dt(We,Pt)}return nt}I.sort(function(Fe,Be){var We=Fe._intersection,Pt=Be._intersection,nt=!(!We||!We._overlap),ut=Fe._path,it=Be._path;return nt^!(!Pt||!Pt._overlap)?nt?1:-1:!We^!Pt?We?1:-1:ut!==it?ut._id-it._id:Fe._index-Be._index});for(var B=0,z=I.length;B<z;B++){var J,oe,he,G=I[B],j=k(G),H=null,$=!1,K=!0,Y=[];if(j&&G._path._overlapsOnly){var ge=G._path,_e=G._intersection._segment._path;ge.compare(_e)&&(ge.getArea()&&S.push(ge.clone(!1)),O(ge),O(_e),j=!1)}for(;j;){var le=!H,ce=F(G,le),ue=ce.shift(),ve=!($=!le&&(N(G)||N(ue)))&&ue;if(le&&(H=new gt(Ze.NO_INSERT),J=null),$){(G.isFirst()||G.isLast())&&(K=G._path._closed),G._visited=!0;break}if(ve&&J&&(Y.push(J),J=null),J||(ve&&ce.push(G),J={start:H._segments.length,crossings:ce,visited:oe=[],handleIn:he}),ve&&(G=ue),!k(G)){H.removeSegments(J.start);for(var Ce=0,Ae=oe.length;Ce<Ae;Ce++)oe[Ce]._visited=!1;oe.length=0;do{(!(G=J&&J.crossings.shift())||!G._path)&&(G=null,(J=Y.pop())&&(oe=J.visited,he=J.handleIn))}while(J&&!k(G));if(!G)break}var Pe=G.getNext();H.add(new Xe(G._point,he,Pe&&G._handleOut)),G._visited=!0,oe.push(G),G=Pe||G._path.getFirstSegment(),he=Pe&&Pe._handleIn}$&&(K&&(H.getFirstSegment().setHandleIn(he),H.setClosed(K)),0!==H.getArea()&&S.push(H))}return S}return{_getWinding:function(I,x,S){return R(I,this.getCurves(),x,S)},unite:function(I,x){return m(this,I,"unite",x)},intersect:function(I,x){return m(this,I,"intersect",x)},subtract:function(I,x){return m(this,I,"subtract",x)},exclude:function(I,x){return m(this,I,"exclude",x)},divide:function(I,x){return x&&(0==x.trace||x.stroke)?v(this,I,"divide"):p([this.subtract(I,x),this.intersect(I,x)],!0,this,I,x)},resolveCrossings:function(){var I=this._children,x=I||[this];function S(J,oe){var he=J&&J._intersection;return he&&he._overlap&&he._path===oe}var E=!1,k=!1,N=this.getIntersections(null,function(J){return J.hasOverlap()&&(E=!0)||J.isCrossing()&&(k=!0)}),O=E&&k&&[];if(N=In.expand(N),E)for(var F=D(N,function(J){return J.hasOverlap()},O),B=F.length-1;B>=0;B--){var z=F[B],G=z._path,j=z._segment,H=j.getPrevious(),$=j.getNext();S(H,G)&&S($,G)&&(j.remove(),H._handleOut._set(0,0),$._handleIn._set(0,0),H!==j&&!H.getCurve().hasLength()&&($._handleIn.set(H._handleIn),H.remove()))}k&&(D(N,E&&function(J){var oe=J.getCurve(),he=J.getSegment(),ge=J._intersection,_e=ge._curve,le=ge._segment;if(oe&&_e&&oe._path&&_e._path)return!0;he&&(he._intersection=null),le&&(le._intersection=null)},O),O&&w(O),x=M(ne.each(x,function(J){ne.push(this,J._segments)},[])));var Y,K=x.length;return K>1&&I?(x!==I&&this.setChildren(x),Y=this):1===K&&!I&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),Y=this),Y||((Y=new Jn(Ze.NO_INSERT)).addChildren(x),(Y=Y.reduce()).copyAttributes(this),this.replaceWith(Y)),Y},reorient:function(I,x){var S=this._children;return S&&S.length?this.setChildren(C(this.removeChildren(),function(E){return!!(I?E:1&E)},x)):x!==De&&this.setClockwise(x),this},getInteriorPoint:function(){var x=this.getBounds().getCenter(!0);if(!this.contains(x)){for(var S=this.getCurves(),E=x.y,k=[],N=[],O=0,F=S.length;O<F;O++){var B=S[O].getValues(),z=B[1],G=B[3],j=B[5],H=B[7];if(E>=i(z,G,j,H)&&E<=s(z,G,j,H))for(var $=Te.getMonoCurves(B),K=0,Y=$.length;K<Y;K++){var J=$[K],oe=J[1],he=J[7];if(oe!==he&&(E>=oe&&E<=he||E>=he&&E<=oe)){var ge=E===oe?J[0]:E===he?J[6]:1===Te.solveCubic(J,1,E,N,0,1)?Te.getPoint(J,N[0]).x:(J[0]+J[6])/2;k.push(ge)}}}k.length>1&&(k.sort(function(_e,le){return _e-le}),x.x=(k[0]+k[1])/2)}return x}}});var dn=ne.extend({_class:"PathFlattener",initialize:function(i,s,a,l,h){var w,d=[],p=[],g=0,m=1/(a||32),v=i._segments,b=v[0];function C(M,I){var x=Te.getValues(M,I,h);d.push(x),D(x,M._index,0,1)}function D(M,I,x,S){if(!(S-x>m)||l&&Te.isStraight(M)||Te.isFlatEnough(M,s||.25)){var N=M[6]-M[0],O=M[7]-M[1],F=Math.sqrt(N*N+O*O);F>0&&p.push({offset:g+=F,curve:M,index:I,time:S})}else{var E=Te.subdivide(M,.5),k=(x+S)/2;D(E[0],I,x,k),D(E[1],I,k,S)}}for(var R=1,P=v.length;R<P;R++)C(b,w=v[R]),b=w;i._closed&&C(w||b,v[0]),this.curves=d,this.parts=p,this.length=g,this.index=0},_get:function(i){for(var h,s=this.parts,a=s.length,d=this.index;h=d,d&&!(s[--d].offset<i););for(;h<a;h++){var p=s[h];if(p.offset>=i){this.index=h;var g=s[h-1],m=g&&g.index===p.index?g.time:0,v=g?g.offset:0;return{index:p.index,time:m+(p.time-m)*(i-v)/(p.offset-v)}}}return{index:s[a-1].index,time:1}},drawPart:function(i,s,a){for(var l=this._get(s),h=this._get(a),d=l.index,p=h.index;d<=p;d++){var g=Te.getPart(this.curves[d],d===l.index?l.time:0,d===h.index?h.time:1);d===l.index&&i.moveTo(g[0],g[1]),i.bezierCurveTo.apply(i,g.slice(2))}}},ne.each(Te._evaluateMethods,function(i){this[i+"At"]=function(s){var a=this._get(s);return Te[i](this.curves[a.index],a.time)}},{})),Zt=ne.extend({initialize:function(i){for(var d,s=this.points=[],a=i._segments,l=i._closed,h=0,p=a.length;h<p;h++){var g=a[h].point;(!d||!d.equals(g))&&s.push(d=g.clone())}l&&(s.unshift(s[s.length-1]),s.push(s[1])),this.closed=l},fit:function(i){var s=this.points,a=s.length,l=null;return a>0&&(l=[new Xe(s[0])],a>1&&(this.fitCubic(l,i,0,a-1,s[1].subtract(s[0]),s[a-2].subtract(s[a-1])),this.closed&&(l.shift(),l.pop()))),l},fitCubic:function(i,s,a,l,h,d){var p=this.points;if(l-a!=1){for(var C,b=this.chordLengthParameterize(a,l),w=Math.max(s,s*s),D=!0,R=0;R<=4;R++){var P=this.generateBezier(a,l,b,h,d),M=this.findMaxError(a,l,P,b);if(M.error<s&&D)return void this.addCurve(i,P);if(C=M.index,M.error>=w)break;D=this.reparameterize(a,l,b,P),w=M.error}var I=p[C-1].subtract(p[C+1]);this.fitCubic(i,s,a,C,h,I),this.fitCubic(i,s,C,l,I.negate(),d)}else{var g=p[a],m=p[l],v=g.getDistance(m)/3;this.addCurve(i,[g,g.add(h.normalize(v)),m.add(d.normalize(v)),m])}},addCurve:function(i,s){i[i.length-1].setHandleOut(s[1].subtract(s[0])),i.push(new Xe(s[3],s[2].subtract(s[3])))},generateBezier:function(i,s,a,l,h){for(var d=1e-12,p=Math.abs,g=this.points,m=g[i],v=g[s],b=[[0,0],[0,0]],w=[0,0],C=0,D=s-i+1;C<D;C++){var R=a[C],P=1-R,M=3*R*P,I=P*P*P,x=M*P,S=M*R,E=R*R*R,k=l.normalize(x),N=h.normalize(S),O=g[i+C].subtract(m.multiply(I+x)).subtract(v.multiply(S+E));b[0][0]+=k.dot(k),b[0][1]+=k.dot(N),b[1][0]=b[0][1],b[1][1]+=N.dot(N),w[0]+=k.dot(O),w[1]+=N.dot(O)}var B,z,F=b[0][0]*b[1][1]-b[1][0]*b[0][1];if(p(F)>d)B=(w[0]*b[1][1]-w[1]*b[0][1])/F,z=(b[0][0]*w[1]-b[1][0]*w[0])/F;else{var H=b[0][0]+b[0][1],$=b[1][0]+b[1][1];B=z=p(H)>d?w[0]/H:p($)>d?w[1]/$:0}var J,oe,K=v.getDistance(m),Y=d*K;if(B<Y||z<Y)B=z=K/3;else{var he=v.subtract(m);J=l.normalize(B),oe=h.normalize(z),J.dot(he)-oe.dot(he)>K*K&&(B=z=K/3,J=oe=null)}return[m,m.add(J||l.normalize(B)),v.add(oe||h.normalize(z)),v]},reparameterize:function(i,s,a,l){for(var h=i;h<=s;h++)a[h-i]=this.findRoot(l,this.points[h],a[h-i]);h=1;for(var d=a.length;h<d;h++)if(a[h]<=a[h-1])return!1;return!0},findRoot:function(i,s,a){for(var l=[],h=[],d=0;d<=2;d++)l[d]=i[d+1].subtract(i[d]).multiply(3);for(d=0;d<=1;d++)h[d]=l[d+1].subtract(l[d]).multiply(2);var p=this.evaluate(3,i,a),g=this.evaluate(2,l,a),m=this.evaluate(1,h,a),v=p.subtract(s),b=g.dot(g)+v.dot(m);return ot.isMachineZero(b)?a:a-v.dot(g)/b},evaluate:function(i,s,a){for(var l=s.slice(),h=1;h<=i;h++)for(var d=0;d<=i-h;d++)l[d]=l[d].multiply(1-a).add(l[d+1].multiply(a));return l[0]},chordLengthParameterize:function(i,s){for(var a=[0],l=i+1;l<=s;l++)a[l-i]=a[l-i-1]+this.points[l].getDistance(this.points[l-1]);l=1;for(var h=s-i;l<=h;l++)a[l]/=a[h];return a},findMaxError:function(i,s,a,l){for(var h=Math.floor((s-i+1)/2),d=0,p=i+1;p<s;p++){var m=this.evaluate(3,a,l[p-i]).subtract(this.points[p]),v=m.x*m.x+m.y*m.y;v>=d&&(d=v,h=p)}return{error:d,index:h}}}),gi=Ze.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(s){this._content="",this._lines=[];var a=s&&ne.isPlainObject(s)&&s.x===De&&s.y===De;this._initialize(a&&s,!a&&ie.read(arguments))},_equals:function(i){return this._content===i._content},copyContent:function(i){this.setContent(i._content)},getContent:function(){return this._content},setContent:function(i){this._content=""+i,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Je=gi.extend({_class:"PointText",initialize:function(){gi.apply(this,arguments)},getPoint:function(){var i=this._matrix.getTranslation();return new je(i.x,i.y,this,"setPoint")},setPoint:function(){var i=ie.read(arguments);this.translate(i.subtract(this._matrix.getTranslation()))},_draw:function(i,s,a){if(this._content){this._setStyles(i,s,a);var l=this._lines,h=this._style,d=h.hasFill(),p=h.hasStroke(),g=h.getLeading(),m=i.shadowColor;i.font=h.getFontStyle(),i.textAlign=h.getJustification();for(var v=0,b=l.length;v<b;v++){i.shadowColor=m;var w=l[v];d&&(i.fillText(w,0,0),i.shadowColor="rgba(0,0,0,0)"),p&&i.strokeText(w,0,0),i.translate(0,g)}}},_getBounds:function(i,s){var a=this._style,l=this._lines,h=l.length,d=a.getJustification(),p=a.getLeading(),g=this.getView().getTextWidth(a.getFontStyle(),l),m=0;"left"!==d&&(m-=g/("center"===d?2:1));var v=new Ke(m,h?-.75*p:0,g,h*p);return i?i._transformBounds(v,v):v}}),Kt=ne.extend(new function(){var l,i={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},s={},a={transparent:[0,0,0,0]},d=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],p={"rgb-hsb":function(g,m,v){var b=Math.max(g,m,v),C=b-Math.min(g,m,v);return[0===C?0:60*(b==g?(m-v)/C+(m<v?6:0):b==m?(v-g)/C+2:(g-m)/C+4),0===b?0:C/b,b]},"hsb-rgb":function(g,m,v){var w,b=(g=(g/60%6+6)%6)-(w=Math.floor(g)),C=[v,v*(1-m),v*(1-m*b),v*(1-m*(1-b))];return[C[(w=d[w])[0]],C[w[1]],C[w[2]]]},"rgb-hsl":function(g,m,v){var b=Math.max(g,m,v),w=Math.min(g,m,v),C=b-w,D=0===C,P=(b+w)/2;return[D?0:60*(b==g?(m-v)/C+(m<v?6:0):b==m?(v-g)/C+2:(g-m)/C+4),D?0:P<.5?C/(b+w):C/(2-b-w),P]},"hsl-rgb":function(g,m,v){if(0===m)return[v,v,v];for(var b=[(g=(g/360%1+1)%1)+1/3,g,g-1/3],w=v<.5?v*(1+m):v+m-v*m,C=2*v-w,D=[],R=0;R<3;R++){var P=b[R];P<0&&(P+=1),P>1&&(P-=1),D[R]=6*P<1?C+6*(w-C)*P:2*P<1?w:3*P<2?C+(w-C)*(2/3-P)*6:C}return D},"rgb-gray":function(g,m,v){return[.2989*g+.587*m+.114*v]},"gray-rgb":function(g){return[g,g,g]},"gray-hsb":function(g){return[0,0,g]},"gray-hsl":function(g){return[0,0,g]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return ne.each(i,function(g,m){s[m]=[],ne.each(g,function(v,b){var w=ne.capitalize(v),C=/^(hue|saturation)$/.test(v),D=s[m][b]="gradient"===m?"gradient"===v?function(R){var P=this._components[0];return P!==(R=qi.read(Array.isArray(R)?R:arguments,0,{readNull:!0}))&&(P&&P._removeOwner(this),R&&R._addOwner(this)),R}:function(){return ie.read(arguments,0,{readNull:"highlight"===v,clone:!0})}:function(R){return null==R||isNaN(R)?0:+R};this["get"+w]=function(){return this._type===m||C&&/^hs[bl]$/.test(this._type)?this._components[b]:this._convert(m)[b]},this["set"+w]=function(R){this._type!==m&&!(C&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(m),this._properties=i[m],this._type=m),this._components[b]=D.call(this,R),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function g(m){var C,D,R,P,v=arguments,b=this.__read,w=0;Array.isArray(m)&&(m=(v=m)[0]);var M=null!=m&&typeof m;if("string"===M&&m in i&&(C=m,m=v[1],Array.isArray(m)?(D=m,R=v[2]):(b&&(w=1),v=ne.slice(v,1),M=typeof m)),!D){if(P="number"===M?v:"object"===M&&null!=m.length?m:null){C||(C=P.length>=3?"rgb":"gray");var I=i[C].length;R=P[I],b&&(w+=P===arguments?I+(null!=R?1:0):1),P.length>I&&(P=ne.slice(P,0,I))}else if("string"===M){var x=function h(g){var b,m=g.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||g.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),v="rgb";if(m){var w=m[4]?4:3;b=new Array(w);for(var C=0;C<w;C++){var D=m[C+1];b[C]=parseInt(1==D.length?D+D:D,16)/255}}else if(m=g.match(/^(rgb|hsl)a?\((.*)\)$/)){v=m[1],b=m[2].trim().split(/[,\s]+/g);for(var R="hsl"===v,P=(C=0,Math.min(b.length,4));C<P;C++){var M=b[C];if(D=parseFloat(M),R)if(0===C){var I=M.match(/([a-z]*)$/)[1];D*={turn:360,rad:180/Math.PI,grad:.9}[I]||1}else C<3&&(D/=100);else C<3&&(D/=/%$/.test(M)?100:255);b[C]=D}}else{var x=a[g];if(!x)if(Ct){l||((l=Mt.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),l.fillStyle="rgba(0,0,0,0)",l.fillStyle=g,l.fillRect(0,0,1,1);var S=l.getImageData(0,0,1,1).data;x=a[g]=[S[0]/255,S[1]/255,S[2]/255]}else x=[0,0,0];b=x.slice()}return[v,b]}(m);C=x[0],4===(D=x[1]).length&&(R=D[3],D.length--)}else if("object"===M)if(m.constructor===g){if(C=m._type,D=m._components.slice(),R=m._alpha,"gradient"===C)for(var S=1,E=D.length;S<E;S++){var k=D[S];k&&(D[S]=k.clone())}}else if(m.constructor===qi)C="gradient",P=v;else{var N=i[C="hue"in m?"lightness"in m?"hsl":"hsb":"gradient"in m||"stops"in m||"radial"in m?"gradient":"gray"in m?"gray":"rgb"],O=s[C];for(this._components=D=[],S=0,E=N.length;S<E;S++)null==(F=m[N[S]])&&!S&&"gradient"===C&&"stops"in m&&(F={stops:m.stops,radial:m.radial}),null!=(F=O[S].call(this,F))&&(D[S]=F);R=m.alpha}b&&C&&(w=1)}if(this._type=C||"rgb",!D)for(this._components=D=[],S=0,E=(O=s[this._type]).length;S<E;S++){var F;null!=(F=O[S].call(this,P&&P[S]))&&(D[S]=F)}return this._components=D,this._properties=i[this._type],this._alpha=R,b&&(this.__read=w),this},set:"#initialize",_serialize:function(g,m){var v=this.getComponents();return ne.serialize(/^(gray|rgb)$/.test(this._type)?v:[this._type].concat(v),g,!0,m)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(g){var m;return this._type===g?this._components.slice():(m=p[this._type+"-"+g])?m.apply(this,this._components):p["rgb-"+g].apply(this,p[this._type+"-rgb"].apply(this,this._components))},convert:function(g){return new Kt(g,this._convert(g),this._alpha)},getType:function(){return this._type},setType:function(g){this._components=this._convert(g),this._properties=i[g],this._type=g},getComponents:function(){var g=this._components.slice();return null!=this._alpha&&g.push(this._alpha),g},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(g){this._alpha=null==g?null:Math.min(Math.max(g,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(g){var m=ne.isPlainValue(g,!0)?Kt.read(arguments):g;return m===this||m&&this._class===m._class&&this._type===m._type&&this.getAlpha()===m.getAlpha()&&ne.equals(this._components,m._components)||!1},toString:function(){for(var g=this._properties,m=[],v="gradient"===this._type,b=ze.instance,w=0,C=g.length;w<C;w++){var D=this._components[w];null!=D&&m.push(g[w]+": "+(v?D:b.number(D)))}return null!=this._alpha&&m.push("alpha: "+b.number(this._alpha)),"{ "+m.join(", ")+" }"},toCSS:function(g){var m=this._convert("rgb"),v=g||null==this._alpha?1:this._alpha;function b(w){return Math.round(255*(w<0?0:w>1?1:w))}return m=[b(m[0]),b(m[1]),b(m[2])],v<1&&m.push(v<0?0:v),g?"#"+((1<<24)+(m[0]<<16)+(m[1]<<8)+m[2]).toString(16).slice(1):(4==m.length?"rgba(":"rgb(")+m.join(",")+")"},toCanvasStyle:function(g,m){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var M,v=this._components,b=v[0],w=b._stops,C=v[1],D=v[2],R=v[3],P=m&&m.inverted();if(P&&(C=P._transformPoint(C),D=P._transformPoint(D),R&&(R=P._transformPoint(R))),b._radial){var I=D.getDistance(C);if(R){var x=R.subtract(C);x.getLength()>I&&(R=C.add(x.normalize(I-.1)))}var S=R||C;M=g.createRadialGradient(S.x,S.y,0,C.x,C.y,I)}else M=g.createLinearGradient(C.x,C.y,D.x,D.y);for(var E=0,k=w.length;E<k;E++){var N=w[E];M.addColorStop(N._offset??E/(k-1),N._color.toCanvasStyle())}return this._canvasStyle=M},transform:function(g){if("gradient"===this._type){for(var m=this._components,v=1,b=m.length;v<b;v++){var w=m[v];g._transformPoint(w,w,!0)}this._changed()}},statics:{_types:i,random:function(){var g=Math.random;return new Kt(g(),g(),g())},_setOwner:function(g,m,v){return g&&(g._owner&&m&&g._owner!==m&&(g=g.clone()),!g._owner^!m&&(g._owner=m||null,g._setter=v||null)),g}}})},new function(){return ne.each({add:function(s,a){return s+a},subtract:function(s,a){return s-a},multiply:function(s,a){return s*a},divide:function(s,a){return s/a}},function(s,a){this[a]=function(l){l=Kt.read(arguments);for(var h=this._type,d=this._components,p=l._convert(h),g=0,m=d.length;g<m;g++)p[g]=s(d[g],p[g]);return new Kt(h,p,null!=this._alpha?s(this._alpha,l.getAlpha()):null)}},{})}),qi=ne.extend({_class:"Gradient",initialize:function(s,a){this._id=ae.get(),s&&ne.isPlainObject(s)&&(this.set(s),s=a=null),null==this._stops&&this.setStops(s||["white","black"]),null==this._radial&&this.setRadial("string"==typeof a&&"radial"===a||a||!1)},_serialize:function(i,s){return s.add(this,function(){return ne.serialize([this._stops,this._radial],i,!0,s)})},_changed:function(){for(var i=0,s=this._owners&&this._owners.length;i<s;i++)this._owners[i]._changed()},_addOwner:function(i){this._owners||(this._owners=[]),this._owners.push(i)},_removeOwner:function(i){var s=this._owners?this._owners.indexOf(i):-1;-1!=s&&(this._owners.splice(s,1),this._owners.length||(this._owners=De))},clone:function(){for(var i=[],s=0,a=this._stops.length;s<a;s++)i[s]=this._stops[s].clone();return new qi(i,this._radial)},getStops:function(){return this._stops},setStops:function(i){if(i.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var s=this._stops;if(s)for(var a=0,l=s.length;a<l;a++)s[a]._owner=De;for(a=0,l=(s=this._stops=ki.readList(i,0,{clone:!0})).length;a<l;a++)s[a]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(i){this._radial=i,this._changed()},equals:function(i){if(i===this)return!0;if(i&&this._class===i._class){var s=this._stops,a=i._stops,l=s.length;if(l===a.length){for(var h=0;h<l;h++)if(!s[h].equals(a[h]))return!1;return!0}}return!1}}),ki=ne.extend({_class:"GradientStop",initialize:function(s,a){var l=s,h=a;"object"==typeof s&&a===De&&(Array.isArray(s)&&"number"!=typeof s[0]?(l=s[0],h=s[1]):("color"in s||"offset"in s||"rampPoint"in s)&&(l=s.color,h=s.offset||s.rampPoint||0)),this.setColor(l),this.setOffset(h)},clone:function(){return new ki(this._color.clone(),this._offset)},_serialize:function(i,s){var a=this._color,l=this._offset;return ne.serialize(null==l?[a]:[a,l],i,!0,s)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(i){this._offset=i,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Kt._setOwner(this._color,null),this._color=Kt._setOwner(Kt.read(arguments,0),this,"setColor"),this._changed()},equals:function(i){return i===this||i&&this._class===i._class&&this._color.equals(i._color)&&this._offset==i._offset||!1}}),Jt=ne.extend(new function(){var i={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new ie,selectedColor:null},s=ne.set({},i,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),a=ne.set({},s,{fillColor:new Kt}),l={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},h={beans:!0},d={_class:"Style",beans:!0,initialize:function(g,m,v){this._values={},this._owner=m,this._project=m&&m._project||v||o.project,this._defaults=!m||m instanceof Mn?s:m instanceof gi?a:i,g&&this.set(g)}};return ne.each(s,function(p,g){var m=/Color$/.test(g),v="shadowOffset"===g,b=ne.capitalize(g),w=l[g],C="set"+b,D="get"+b;d[C]=function(R){var P=this._owner,M=P&&P._children,I=M&&M.length>0&&!(P instanceof Jn);if(I)for(var x=0,S=M.length;x<S;x++)M[x]._style[C](R);if(("selectedColor"===g||!I)&&g in this._defaults){var E=this._values[g];E!==R&&(m&&(E&&(Kt._setOwner(E,null),E._canvasStyle=null),R&&R.constructor===Kt&&(R=Kt._setOwner(R,P,I&&C))),this._values[g]=R,P&&P._changed(w||129))}},d[D]=function(R){var P=this._owner,M=P&&P._children,I=M&&M.length>0&&!(P instanceof Jn);if(I&&!R)for(var S=0,E=M.length;S<E;S++){var k=M[S]._style[D]();if(S){if(!ne.equals(x,k))return De}else x=k}else if(g in this._defaults){var x;if((x=this._values[g])===De)(x=this._defaults[g])&&x.clone&&(x=x.clone());else{var N=m?Kt:v?ie:null;N&&(!x||x.constructor!==N)&&(this._values[g]=x=N.read([x],0,{readNull:!0,clone:!0}))}}return x&&m&&(x=Kt._setOwner(x,P,I&&C)),x},h[D]=function(R){return this._style[D](R)},h[C]=function(R){this._style[C](R)}}),ne.each({Font:"FontFamily",WindingRule:"FillRule"},function(p,g){var m="get"+g,v="set"+g;d[m]=h[m]="#get"+p,d[v]=h[v]="#set"+p}),Ze.inject(h),d},{set:function(i){var s=i instanceof Jt,a=s?i._values:i;if(a)for(var l in a)if(l in this._defaults){var h=a[l];this[l]=h&&s&&h.clone?h.clone():h}},equals:function(i){function s(a,l,h){var d=a._values,p=l._values,g=l._defaults;for(var m in d){var b=p[m];if(!(h&&m in p||ne.equals(d[m],b===De?g[m]:b)))return!1}return!0}return i===this||i&&this._class===i._class&&s(this,i)&&s(i,this,!0)||!1},_dispose:function(){var i;(i=this.getFillColor())&&(i._canvasStyle=null),(i=this.getStrokeColor())&&(i._canvasStyle=null),(i=this.getShadowColor())&&(i._canvasStyle=null)},hasFill:function(){var i=this.getFillColor();return!!i&&i.alpha>0},hasStroke:function(){var i=this.getStrokeColor();return!!i&&i.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var i=this.getShadowColor();return!!i&&i.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var i=this.getFontSize();return this.getFontWeight()+" "+i+(/[a-z]/i.test(i+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function i(){var s=i.base.call(this),a=this.getFontSize();return/pt|em|%|px/.test(a)&&(a=this.getView().getPixelSize(a)),s??1.2*a}}),bt=new function(){function i(s,a,l,h){for(var d=["","webkit","moz","Moz","ms","o"],p=a[0].toUpperCase()+a.substring(1),g=0;g<6;g++){var m=d[g],v=m?m+p:a;if(v in s){if(!l)return s[v];s[v]=h;break}}}return{getStyles:function(s){var a=s&&9!==s.nodeType?s.ownerDocument:s,l=a&&a.defaultView;return l&&l.getComputedStyle(s,"")},getBounds:function(s,a){var p,l=s.ownerDocument,h=l.body,d=l.documentElement;try{p=s.getBoundingClientRect()}catch{p={left:0,top:0,width:0,height:0}}var g=p.left-(d.clientLeft||h.clientLeft||0),m=p.top-(d.clientTop||h.clientTop||0);if(!a){var v=l.defaultView;g+=v.pageXOffset||d.scrollLeft||h.scrollLeft,m+=v.pageYOffset||d.scrollTop||h.scrollTop}return new Ke(g,m,p.width,p.height)},getViewportBounds:function(s){var a=s.ownerDocument,l=a.defaultView,h=a.documentElement;return new Ke(0,0,l.innerWidth||h.clientWidth,l.innerHeight||h.clientHeight)},getOffset:function(s,a){return bt.getBounds(s,a).getPoint()},getSize:function(s){return bt.getBounds(s,!0).getSize()},isInvisible:function(s){return bt.getSize(s).equals(new Ee(0,0))},isInView:function(s){return!bt.isInvisible(s)&&bt.getViewportBounds(s).intersects(bt.getBounds(s,!0))},isInserted:function(s){return ee.body.contains(s)},getPrefixed:function(s,a){return s&&i(s,a)},setPrefixed:function(s,a,l){if("object"==typeof a)for(var h in a)i(s,h,!0,a[h]);else i(s,a,!0,l)}}},yt={add:function(i,s){if(i)for(var a in s)for(var l=s[a],h=a.split(/[\s,]+/g),d=0,p=h.length;d<p;d++){var g=h[d];i.addEventListener(g,l,i===ee&&("touchstart"===g||"touchmove"===g)&&{passive:!1})}},remove:function(i,s){if(i)for(var a in s)for(var l=s[a],h=a.split(/[\s,]+/g),d=0,p=h.length;d<p;d++)i.removeEventListener(h[d],l,!1)},getPoint:function(i){var s=i.targetTouches?i.targetTouches.length?i.targetTouches[0]:i.changedTouches[0]:i;return new ie(s.pageX||s.clientX+ee.documentElement.scrollLeft,s.pageY||s.clientY+ee.documentElement.scrollTop)},getTarget:function(i){return i.target||i.srcElement},getRelatedTarget:function(i){return i.relatedTarget||i.toElement},getOffset:function(i,s){return yt.getPoint(i).subtract(bt.getOffset(s||yt.getTarget(i)))}};yt.requestAnimationFrame=new function(){var l,i=bt.getPrefixed(Ct,"requestAnimationFrame"),s=!1,a=[];function h(){var d=a;a=[];for(var p=0,g=d.length;p<g;p++)d[p]();(s=i&&a.length)&&i(h)}return function(d){a.push(d),i?s||(i(h),s=!0):l||(l=setInterval(h,16.666666666666668))}};var nn=ne.extend(Gn,{_class:"View",initialize:function i(s,a){function l(w){return a[w]||parseInt(a.getAttribute(w),10)}function h(){var w=bt.getSize(a);return w.isNaN()||w.isZero()?new Ee(l("width"),l("height")):w}var d;if(Ct&&a){this._id=a.getAttribute("id"),null==this._id&&a.setAttribute("id",this._id="paper-view-"+i._id++),yt.add(a,this._viewEvents);var p="none";if(bt.setPrefixed(a.style,{userDrag:p,userSelect:p,touchCallout:p,contentZooming:p,tapHighlightColor:"rgba(0,0,0,0)"}),yn.hasAttribute(a,"resize")){var g=this;yt.add(Ct,this._windowEvents={resize:function(){g.setViewSize(h())}})}if(d=h(),yn.hasAttribute(a,"stats")&&typeof Stats<"u"){this._stats=new Stats;var m=this._stats.domElement,v=m.style,b=bt.getOffset(a);v.position="absolute",v.left=b.x+"px",v.top=b.y+"px",ee.body.appendChild(m)}}else d=new Ee(a),a=null;this._project=s,this._scope=s._scope,this._element=a,this._pixelRatio||(this._pixelRatio=Ct&&Ct.devicePixelRatio||1),this._setElementSize(d.width,d.height),this._viewSize=d,i._views.push(this),i._viewsById[this._id]=this,(this._matrix=new st)._owner=this,i._focused||(i._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!o.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;nn._focused===this&&(nn._focused=null),nn._views.splice(nn._views.indexOf(this),1),delete nn._viewsById[this._id];var i=this._project;return i._view===this&&(i._view=null),yt.remove(this._element,this._viewEvents),yt.remove(Ct,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:ne.each(Ze._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(i){this[i]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(i){this._autoUpdate=i,i&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var i=this;yt.requestAnimationFrame(function(){if(i._requested=!1,i._animate){i.requestUpdate();var s=i._element;(!bt.getPrefixed(ee,"hidden")||"true"===yn.getAttribute(s,"keepalive"))&&bt.isInView(s)&&i._handleFrame()}i._autoUpdate&&i.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){o=this._scope;var i=Date.now()/1e3,s=this._last?i-this._last:0;this._last=i,this.emit("frame",new ne({delta:s,time:this._time+=s,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(i,s){var a=this._frameItems;s?(a[i._id]={item:i,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete a[i._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(i){for(var s in this._frameItems){var a=this._frameItems[s];a.item.emit("frame",new ne(i,{time:a.time+=i.delta,count:a.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=De},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var i=this._viewSize;return new W(i.width,i.height,this,"setViewSize")},setViewSize:function(){var i=Ee.read(arguments),s=i.subtract(this._viewSize);s.isZero()||(this._setElementSize(i.width,i.height),this._viewSize.set(i),this._changed(),this.emit("resize",{size:i,delta:s}),this._autoUpdate&&this.update())},_setElementSize:function(i,s){var a=this._element;a&&(a.width!==i&&(a.width=i),a.height!==s&&(a.height=s))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new Ke(new ie,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return bt.isInView(this._element)},isInserted:function(){return bt.isInserted(this._element)},getPixelSize:function(i){var a,s=this._element;if(s){var l=s.parentNode,h=ee.createElement("div");h.style.fontSize=i,l.appendChild(h),a=parseFloat(bt.getStyles(h).fontSize),l.removeChild(h)}else a=parseFloat(a);return a},getTextWidth:function(i,s){return 0}},ne.each(["rotate","scale","shear","skew"],function(i){var s="rotate"===i;this[i]=function(){var a=arguments,l=(s?ne:ie).read(a),h=ie.read(a,0,{readNull:!0});return this.transform((new st)[i](l,h||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var i=new st;return this.transform(i.translate.apply(i,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var i=ie.read(arguments);this.translate(this.getCenter().subtract(i))},getZoom:function(){var i=this._decompose().scaling;return(i.x+i.y)/2},setZoom:function(i){this.transform((new st).scale(i/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(i){var s=this.getRotation();null!=s&&null!=i&&this.rotate(i-s)},getScaling:function(){var i=this._decompose().scaling;return new je(i.x,i.y,this,"setScaling")},setScaling:function(){var i=this.getScaling(),s=ie.read(arguments,0,{clone:!0,readNull:!0});i&&s&&this.scale(s.x/i.x,s.y/i.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var i=this._matrix;i.set.apply(i,arguments)},transform:function(i){this._matrix.append(i)},scrollBy:function(){this.translate(ie.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(ie.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(ie.read(arguments))},getEventPoint:function(i){return this.viewToProject(yt.getOffset(i,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(i,s){return ee&&"string"==typeof s&&(s=ee.getElementById(s)),new(Ct?ir:nn)(i,s)}}},new function(){if(Ct){var i,s,m,v,b,a=!1,l=!1,g=Ct.navigator;g.pointerEnabled||g.msPointerEnabled?(m="pointerdown MSPointerDown",v="pointermove MSPointerMove",b="pointerup pointercancel MSPointerUp MSPointerCancel"):(m="touchstart",v="touchmove",b="touchend touchcancel","ontouchstart"in Ct&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(m+=" mousedown",v+=" mousemove",b+=" mouseup"));var w={},C={mouseout:function(H){var $=nn._focused,K=yt.getRelatedTarget(H);if($&&(!K||"HTML"===K.nodeName)){var Y=yt.getOffset(H,$._element),J=Y.x,oe=Math.abs,he=oe(J),_e=he-(1<<25);Y.x=oe(_e)<he?_e*(J<0?-1:1):J,p($,H,$.viewToProject(Y))}},scroll:d};w[m]=function(H){var $=nn._focused=h(H);a||(a=!0,$._handleMouseEvent("mousedown",H))},C[v]=function(H){var $=nn._focused;if(!l){var K=h(H);K?$!==K&&($&&p($,H),i||(i=$),$=nn._focused=s=K):s&&s===$&&(i&&!i.isInserted()&&(i=null),$=nn._focused=i,i=null,d())}$&&p($,H)},C[m]=function(){l=!0},C[b]=function(H){var $=nn._focused;$&&a&&$._handleMouseEvent("mouseup",H),l=a=!1},yt.add(ee,C),yt.add(Ct,{load:d});var x,S,E,k,N,O,F,B,D=!1,R=!1,P={doubleclick:"click",mousedrag:"mousemove"},M=!1,j={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:w,_handleMouseEvent:function(H,$,K){var Y=this._itemEvents,J=Y.native[H],oe="mousemove"===H,he=this._scope.tool,ge=this;function _e(Pe){return Y.virtual[Pe]||ge.responds(Pe)||he&&he.responds(Pe)}oe&&a&&_e("mousedrag")&&(H="mousedrag"),K||(K=this.getEventPoint($));var le=this.getBounds().contains(K),ce=J&&le&&ge._project.hitTest(K,{tolerance:0,fill:!0,stroke:!0}),ue=ce&&ce.item||null,ve=!1,Ce={};if(Ce[H.substr(5)]=!0,J&&ue!==k&&(k&&z(k,null,"mouseleave",$,K),ue&&z(ue,null,"mouseenter",$,K),k=ue),M^le&&(z(this,null,le?"mouseenter":"mouseleave",$,K),ve=!0),(le||Ce.drag)&&!K.equals(S)&&(G(this,ue,oe?H:"mousemove",$,K,S),ve=!0),M=le,Ce.down&&le||Ce.up&&x){if(G(this,ue,H,$,K,x),Ce.down){if(B=ue===O&&Date.now()-F<300,E=O=ue,!R&&ue){for(var Ae=ue;Ae&&!Ae.responds("mousedrag");)Ae=Ae._parent;Ae&&(N=ue)}x=K}else Ce.up&&(!R&&ue===E&&(F=Date.now(),G(this,ue,B?"doubleclick":"click",$,K,x),B=!1),E=N=null);M=!1,ve=!0}S=K,ve&&he&&(D=he._handleMouseEvent(H,$,K,Ce)||D),!1!==$.cancelable&&(D&&!Ce.move||Ce.down&&_e("mouseup"))&&$.preventDefault()},_handleKeyEvent:function(H,$,K,Y){var he,J=this._scope,oe=J.tool;function ge(_e){_e.responds(H)&&(o=J,_e.emit(H,he=he||new Nr(H,$,K,Y)))}this.isVisible()&&(ge(this),oe&&oe.responds(H)&&ge(oe))},_countItemEvent:function(H,$){var K=this._itemEvents,Y=K.native,J=K.virtual;for(var oe in j)Y[oe]=(Y[oe]||0)+(j[oe][H]||0)*$;J[H]=(J[H]||0)+$},statics:{updateFocus:d,_resetState:function(){a=l=D=M=!1,i=s=x=S=E=k=N=O=F=B=null}}}}function h(H){var $=yt.getTarget(H);return $.getAttribute&&nn._viewsById[$.getAttribute("id")]}function d(){var H=nn._focused;if(!H||!H.isVisible())for(var $=0,K=nn._views.length;$<K;$++)if((H=nn._views[$]).isVisible()){nn._focused=s=H;break}}function p(H,$,K){H._handleMouseEvent("mousemove",$,K)}function z(H,$,K,Y,J,oe,he){var _e,ge=!1;function le(ce,ue){if(ce.responds(ue)){if(_e||(_e=new es(ue,Y,J,$||ce,oe?J.subtract(oe):null)),ce.emit(ue,_e)&&(D=!0,_e.prevented&&(R=!0),_e.stopped))return ge=!0}else{var ve=P[ue];if(ve)return le(ce,ve)}}for(;H&&H!==he&&!le(H,K);)H=H._parent;return ge}function G(H,$,K,Y,J,oe){return H._project.removeOn(K),R=D=!1,N&&z(N,null,K,Y,J,oe)||$&&$!==N&&!$.isDescendant(N)&&z($,null,"mousedrag"===K?"mousemove":K,Y,J,oe,N)||z(H,N||$||H,K,Y,J,oe)}}),ir=nn.extend({_class:"CanvasView",initialize:function(s,a){if(!(a instanceof Ct.HTMLCanvasElement)){var l=Ee.read(arguments,1);if(l.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+ne.slice(arguments,1));a=Mt.getCanvas(l)}var h=this._context=a.getContext("2d");if(h.save(),this._pixelRatio=1,!/^off|false$/.test(yn.getAttribute(a,"hidpi"))){var d=Ct.devicePixelRatio||1,p=bt.getPrefixed(h,"backingStorePixelRatio")||1;this._pixelRatio=d/p}nn.call(this,s,a),this._needsUpdate=!0},remove:function i(){return this._context.restore(),i.base.call(this)},_setElementSize:function i(s,a){var l=this._pixelRatio;if(i.base.call(this,s*l,a*l),1!==l){var h=this._element,d=this._context;if(!yn.hasAttribute(h,"resize")){var p=h.style;p.width=s+"px",p.height=a+"px"}d.restore(),d.save(),d.scale(l,l)}},getContext:function(){return this._context},getPixelSize:function i(s){var l,a=o.agent;if(a&&a.firefox)l=i.base.call(this,s);else{var h=this._context,d=h.font;h.font=s+" serif",l=parseFloat(h.font),h.font=d}return l},getTextWidth:function(i,s){var a=this._context,l=a.font,h=0;a.font=i;for(var d=0,p=s.length;d<p;d++)h=Math.max(h,a.measureText(s[d]).width);return a.font=l,h},update:function(){if(!this._needsUpdate)return!1;var i=this._project,s=this._context,a=this._viewSize;return s.clearRect(0,0,a.width+1,a.height+1),i&&i.draw(s,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Gi=ne.extend({_class:"Event",initialize:function(s){this.event=s,this.type=s&&s.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return _i.modifiers}}),Nr=Gi.extend({_class:"KeyEvent",initialize:function(s,a,l,h){this.type=s,this.event=a,this.key=l,this.character=h},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),_i=new function(){var h,d,i={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},s={tab:"\t",space:" ",enter:"\r"},a={},l={},p=new ne({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var v=o&&o.agent;return v&&v.mac?this.meta:this.control}}});function g(v){var b=v.key||v.keyIdentifier;return b=/^U\+/.test(b)?String.fromCharCode(parseInt(b.substr(2),16)):/^Arrow[A-Z]/.test(b)?b.substr(5):"Unidentified"===b||b===De?String.fromCharCode(v.keyCode):b,i[b]||(b.length>1?ne.hyphenate(b):b.toLowerCase())}function m(v,b,w,C){var P,R=nn._focused;if(a[b]=v,v?l[b]=w:delete l[b],b.length>1&&(P=ne.camelize(b))in p){p[P]=v;var M=o&&o.agent;if("meta"===P&&M&&M.mac)if(v)h={};else{for(var I in h)I in l&&m(!1,I,h[I],C);h=null}}else v&&h&&(h[b]=w);R&&R._handleKeyEvent(v?"keydown":"keyup",C,b,w)}return yt.add(ee,{keydown:function(v){var b=g(v),w=o&&o.agent;b.length>1||w&&w.chrome&&(v.altKey||w.mac&&v.metaKey||!w.mac&&v.ctrlKey)?m(!0,b,s[b]||(b.length>1?"":b),v):d=b},keypress:function(v){if(d){var b=g(v),w=v.charCode,C=w>=32?String.fromCharCode(w):b.length>1?"":b;b!==d&&(b=C.toLowerCase()),m(!0,b,C,v),d=null}},keyup:function(v){var b=g(v);b in l&&m(!1,b,l[b],v)}}),yt.add(Ct,{blur:function(v){for(var b in l)m(!1,b,l[b],v)}}),{modifiers:p,isDown:function(v){return!!a[v]}}},es=Gi.extend({_class:"MouseEvent",initialize:function(s,a,l,h,d){this.type=s,this.event=a,this.point=l,this.target=h,this.delta=d},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),qs=Gi.extend({_class:"ToolEvent",_item:null,initialize:function(s,a,l){this.tool=s,this.type=a,this.event=l},_choosePoint:function(i,s){return i||(s?s.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(i){this._point=i},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(i){this._lastPoint=i},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(i){this._downPoint=i},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(i){this._middlePoint=i},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(i){this._delta=i},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(i){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=i},getItem:function(){if(!this._item){var i=this.tool._scope.project.hitTest(this.getPoint());if(i){for(var s=i.item,a=s._parent;/^(Group|CompoundPath)$/.test(a._class);)s=a,a=a._parent;this._item=s}}return this._item},setItem:function(i){this._item=i},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Lr=Sn.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(s){Sn.call(this),this._moveCount=-1,this._downCount=-1,this.set(s)},getMinDistance:function(){return this._minDistance},setMinDistance:function(i){this._minDistance=i,null!=i&&null!=this._maxDistance&&i>this._maxDistance&&(this._maxDistance=i)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(i){this._maxDistance=i,null!=this._minDistance&&null!=i&&i<this._minDistance&&(this._minDistance=i)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(i){this._minDistance=this._maxDistance=i},_handleMouseEvent:function(i,s,a,l){o=this._scope,l.drag&&!this.responds(i)&&(i="mousemove");var h=l.move||l.drag,d=this.responds(i),p=this.minDistance,g=this.maxDistance,m=!1,v=this;function b(C,D){var R=a,P=h?v._point:v._downPoint||R;if(h){if(v._moveCount>=0&&R.equals(P))return!1;if(P&&(null!=C||null!=D)){var M=R.subtract(P),I=M.getLength();if(I<(C||0))return!1;D&&(R=P.add(M.normalize(Math.min(I,D))))}v._moveCount++}return v._point=R,v._lastPoint=P||R,l.down&&(v._moveCount=-1,v._downPoint=R,v._downCount++),!0}function w(){d&&(m=v.emit(i,new qs(v,i,s))||m)}if(l.down)b(),w();else if(l.up)b(null,g),w();else if(d)for(;b(p,g);)w();return m}}),an=ne.extend(Gn,{_class:"Tween",statics:{easings:new ne({linear:function(i){return i},easeInQuad:function(i){return i*i},easeOutQuad:function(i){return i*(2-i)},easeInOutQuad:function(i){return i<.5?2*i*i:2*(2-i)*i-1},easeInCubic:function(i){return i*i*i},easeOutCubic:function(i){return--i*i*i+1},easeInOutCubic:function(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart:function(i){return i*i*i*i},easeOutQuart:function(i){return 1- --i*i*i*i},easeInOutQuart:function(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint:function(i){return i*i*i*i*i},easeOutQuint:function(i){return 1+--i*i*i*i*i},easeInOutQuint:function(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}})},initialize:function i(s,a,l,h,d,p){this.object=s;var g=typeof d,m="function"===g;this.type=m?g:"string"===g?d:"linear",this.easing=m?d:i.easings[this.type],this.duration=h,this.running=!1,this._then=null,this._startTime=null;var v=a||l;this._keys=v?Object.keys(v):[],this._parsedKeys=this._parseKeys(this._keys),this._from=v&&this._getState(a),this._to=v&&this._getState(l),!1!==p&&this.start()},then:function(i){return this._then=i,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(i){if(this.running){i>=1&&(i=1,this.running=!1);for(var s=this.easing(i),a=this._keys,l=function(b){return"function"==typeof b?b(s,i):b},h=0,d=a&&a.length;h<d;h++){var p=a[h],g=l(this._from[p]),m=l(this._to[p]),v=g&&m&&g.__add&&m.__add?m.__subtract(g).__multiply(s).__add(g):(m-g)*s+g;this._setProperty(this._parsedKeys[p],v)}this.responds("update")&&this.emit("update",new ne({progress:i,factor:s})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(i){var s=this._startTime,a=s?(i-s)/this.duration:0;s||(this._startTime=i),this.update(a)},_getState:function(i){for(var s=this._keys,a={},l=0,h=s.length;l<h;l++){var m,d=s[l],p=this._parsedKeys[d],g=this._getProperty(p);if(i){var v=this._resolveValue(g,i[d]);this._setProperty(p,v),m=(m=this._getProperty(p))&&m.clone?m.clone():m,this._setProperty(p,g)}else m=g&&g.clone?g.clone():g;a[d]=m}return a},_resolveValue:function(i,s){if(s){if(Array.isArray(s)&&2===s.length){var a=s[0];return a&&a.match&&a.match(/^[+\-\*\/]=/)?this._calculate(i,a[0],s[1]):s}if("string"==typeof s){var l=s.match(/^[+\-*/]=(.*)/);if(l){var h=JSON.parse(l[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(i,s[0],h)}}}return s},_calculate:function(i,s,a){return o.PaperScript.calculateBinary(i,s,a)},_parseKeys:function(i){for(var s={},a=0,l=i.length;a<l;a++){var h=i[a],d=h.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");s[h]=d.split("/")}return s},_getProperty:function(i,s){for(var a=this.object,l=0,h=i.length-(s||0);l<h&&a;l++)a=a[i[l]];return a},_setProperty:function(i,s){var a=this._getProperty(i,1);a&&(a[i[i.length-1]]=s)}}),zt={request:function(i){var s=new xe.XMLHttpRequest;return s.open((i.method||"get").toUpperCase(),i.url,ne.pick(i.async,!0)),i.mimeType&&s.overrideMimeType(i.mimeType),s.onload=function(){var a=s.status;0===a||200===a?i.onLoad&&i.onLoad.call(s,s.responseText):s.onerror()},s.onerror=function(){var a=s.status,l='Could not load "'+i.url+'" (Status: '+a+")";if(!i.onError)throw new Error(l);i.onError(l,a)},s.send(null)}},Mt=ne.exports.CanvasProvider={canvases:[],getCanvas:function(i,s,a){if(!Ct)return null;var l,h=!0;"object"==typeof i&&(s=i.height,i=i.width),this.canvases.length?l=this.canvases.pop():(l=ee.createElement("canvas"),h=!1);var d=l.getContext("2d",a||{});if(!d)throw new Error("Canvas "+l+" is unable to provide a 2D context.");return l.width===i&&l.height===s?h&&d.clearRect(0,0,i+1,s+1):(l.width=i,l.height=s),d.save(),l},getContext:function(i,s,a){var l=this.getCanvas(i,s,a);return l?l.getContext("2d",a||{}):null},release:function(i){var s=i&&i.canvas?i.canvas:i;s&&s.getContext&&(s.getContext("2d").restore(),this.canvases.push(s))}},rn=new function(){var l,h,d,p,g,m,v,b,w,C,D,i=Math.min,s=Math.max,a=Math.abs;function R(k,N,O){return.2989*k+.587*N+.114*O}function P(k,N,O,z){var B=z-R(k,N,O),G=(z=R(w=k+B,C=N+B,D=O+B),i(w,C,D)),j=s(w,C,D);if(G<0){var H=z-G;w=z+(w-z)*z/H,C=z+(C-z)*z/H,D=z+(D-z)*z/H}if(j>255){var $=255-z,K=j-z;w=z+(w-z)*$/K,C=z+(C-z)*$/K,D=z+(D-z)*$/K}}function M(k,N,O){return s(k,N,O)-i(k,N,O)}function I(k,N,O,F){var j,B=[k,N,O],z=s(k,N,O),G=i(k,N,O);j=0===i(G=G===k?0:G===N?1:2,z=z===k?0:z===N?1:2)?1===s(G,z)?2:1:0,B[z]>B[G]?(B[j]=(B[j]-B[G])*F/(B[z]-B[G]),B[z]=F):B[j]=B[z]=0,B[G]=0,w=B[0],C=B[1],D=B[2]}var x={multiply:function(){w=g*l/255,C=m*h/255,D=v*d/255},screen:function(){w=g+l-g*l/255,C=m+h-m*h/255,D=v+d-v*d/255},overlay:function(){w=g<128?2*g*l/255:255-2*(255-g)*(255-l)/255,C=m<128?2*m*h/255:255-2*(255-m)*(255-h)/255,D=v<128?2*v*d/255:255-2*(255-v)*(255-d)/255},"soft-light":function(){var k=l*g/255;w=k+g*(255-(255-g)*(255-l)/255-k)/255,C=(k=h*m/255)+m*(255-(255-m)*(255-h)/255-k)/255,D=(k=d*v/255)+v*(255-(255-v)*(255-d)/255-k)/255},"hard-light":function(){w=l<128?2*l*g/255:255-2*(255-l)*(255-g)/255,C=h<128?2*h*m/255:255-2*(255-h)*(255-m)/255,D=d<128?2*d*v/255:255-2*(255-d)*(255-v)/255},"color-dodge":function(){w=0===g?0:255===l?255:i(255,255*g/(255-l)),C=0===m?0:255===h?255:i(255,255*m/(255-h)),D=0===v?0:255===d?255:i(255,255*v/(255-d))},"color-burn":function(){w=255===g?255:0===l?0:s(0,255-255*(255-g)/l),C=255===m?255:0===h?0:s(0,255-255*(255-m)/h),D=255===v?255:0===d?0:s(0,255-255*(255-v)/d)},darken:function(){w=g<l?g:l,C=m<h?m:h,D=v<d?v:d},lighten:function(){w=g>l?g:l,C=m>h?m:h,D=v>d?v:d},difference:function(){(w=g-l)<0&&(w=-w),(C=m-h)<0&&(C=-C),(D=v-d)<0&&(D=-D)},exclusion:function(){w=g+l*(255-g-g)/255,C=m+h*(255-m-m)/255,D=v+d*(255-v-v)/255},hue:function(){I(l,h,d,M(g,m,v)),P(w,C,D,R(g,m,v))},saturation:function(){I(g,m,v,M(l,h,d)),P(w,C,D,R(g,m,v))},luminosity:function(){P(g,m,v,R(l,h,d))},color:function(){P(l,h,d,R(g,m,v))},add:function(){w=i(g+l,255),C=i(m+h,255),D=i(v+d,255)},subtract:function(){w=s(g-l,0),C=s(m-h,0),D=s(v-d,0)},average:function(){w=(g+l)/2,C=(m+h)/2,D=(v+d)/2},negation:function(){w=255-a(255-l-g),C=255-a(255-h-m),D=255-a(255-d-v)}},S=this.nativeModes=ne.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(k){this[k]=!0},{}),E=Mt.getContext(1,1,{willReadFrequently:!0});E&&(ne.each(x,function(k,N){var O="darken"===N,F=!1;E.save();try{E.fillStyle=O?"#300":"#a00",E.fillRect(0,0,1,1),E.globalCompositeOperation=N,E.globalCompositeOperation===N&&(E.fillStyle=O?"#a00":"#300",E.fillRect(0,0,1,1),F=E.getImageData(0,0,1,1).data[0]!==O?170:51)}catch{}E.restore(),S[N]=F}),Mt.release(E)),this.process=function(k,N,O,F,B){var z=N.canvas,G="normal"===k;if(G||S[k])O.save(),O.setTransform(1,0,0,1,0,0),O.globalAlpha=F,G||(O.globalCompositeOperation=k),O.drawImage(z,B.x,B.y),O.restore();else{var j=x[k];if(!j)return;for(var H=O.getImageData(B.x,B.y,z.width,z.height),$=H.data,K=N.getImageData(0,0,z.width,z.height).data,Y=0,J=$.length;Y<J;Y+=4){l=K[Y],g=$[Y],h=K[Y+1],m=$[Y+1],d=K[Y+2],v=$[Y+2],p=K[Y+3],b=$[Y+3],j();var oe=p*F/255,he=1-oe;$[Y]=oe*w+he*g,$[Y+1]=oe*C+he*m,$[Y+2]=oe*D+he*v,$[Y+3]=p*F+he*b}O.putImageData(H,B.x,B.y)}}},en=new function(){var i="http://www.w3.org/2000/svg",s="http://www.w3.org/2000/xmlns",a="http://www.w3.org/1999/xlink",l={href:a,xlink:s,xmlns:s+"/","xmlns:xlink":s+"/"};function p(g,m,v){for(var b in m){var w=m[b],C=l[b];"number"==typeof w&&v&&(w=v.number(w)),C?g.setAttributeNS(C,b,w):g.setAttribute(b,w)}return g}return{svg:i,xmlns:s,xlink:a,create:function h(g,m,v){return p(ee.createElementNS(i,g),m,v)},get:function d(g,m){var v=l[m],b=v?g.getAttributeNS(v,m):g.getAttribute(m);return"null"===b?null:b},set:p}},Le=ne.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(i,s){return!s&&(i instanceof at||i instanceof fn||i instanceof gi)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(i,s){var a=ne.capitalize(s),l=i[2];this[s]={type:i[1],property:s,attribute:i[0],toSVG:l,fromSVG:l&&ne.each(l,function(h,d){this[h]=d},{}),exportFilter:i[3],get:"get"+a,set:"set"+a}},{});new function(){var i;function s(x,S,E){var O,k=new ne,N=x.getTranslation();if(S&&(x.isInvertible()?(O=(x=x._shiftless())._inverseTransform(N),N=null):O=new ie,k[E?"cx":"x"]=O.x,k[E?"cy":"y"]=O.y),!x.isIdentity()){var F=x.decompose();if(F){var B=[],z=F.rotation,G=F.scaling,j=F.skewing;N&&!N.isZero()&&B.push("translate("+i.point(N)+")"),z&&B.push("rotate("+i.number(z)+")"),(!ot.isZero(G.x-1)||!ot.isZero(G.y-1))&&B.push("scale("+i.point(G)+")"),j.x&&B.push("skewX("+i.number(j.x)+")"),j.y&&B.push("skewY("+i.number(j.y)+")"),k.transform=B.join(" ")}else k.transform="matrix("+x.getValues().join(",")+")"}return k}function a(x,S){for(var E=s(x._matrix),k=x._children,N=en.create("g",E,i),O=0,F=k.length;O<F;O++){var B=k[O],z=M(B,S);if(z)if(B.isClipMask()){var G=en.create("clipPath");G.appendChild(z),R(B,G,"clip"),en.set(N,{"clip-path":"url(#"+G.id+")"})}else N.appendChild(z)}return N}function d(x){var S=x._type,E=x._radius,k=s(x._matrix,!0,"rectangle"!==S);if("rectangle"===S){S="rect";var N=x._size,O=N.width,F=N.height;k.x-=O/2,k.y-=F/2,k.width=O,k.height=F,E.isZero()&&(E=null)}return E&&("circle"===S?k.r=E:(k.rx=E.width,k.ry=E.height)),en.create(S,k,i)}var C,b={Group:a,Layer:a,Raster:function l(x,S){var E=s(x._matrix,!0),k=x.getSize(),N=x.getImage();return E.x-=k.width/2,E.y-=k.height/2,E.width=k.width,E.height=k.height,E.href=0==S.embedImages&&N&&N.src||x.toDataURL(),en.create("image",E,i)},Path:function h(x,S){var E=S.matchShapes;if(E){var k=x.toShape(!1);if(k)return d(k)}var F,N=x._segments,O=N.length,B=s(x._matrix);if(E&&O>=2&&!x.hasHandles())if(O>2){F=x._closed?"polygon":"polyline";for(var z=[],G=0;G<O;G++)z.push(i.point(N[G]._point));B.points=z.join(" ")}else{F="line";var j=N[0]._point,H=N[1]._point;B.set({x1:j.x,y1:j.y,x2:H.x,y2:H.y})}else F="path",B.d=x.getPathData(null,S.precision);return en.create(F,B,i)},Shape:d,CompoundPath:function p(x,S){var E=s(x._matrix),k=x.getPathData(null,S.precision);return k&&(E.d=k),en.create("path",E,i)},SymbolItem:function g(x,S){var E=s(x._matrix,!0),k=x._definition,N=D(k,"symbol"),O=k._item,F=O.getStrokeBounds();return N||((N=en.create("symbol",{viewBox:i.rectangle(F)})).appendChild(M(O,S)),R(k,N,"symbol")),E.href="#"+N.id,E.x+=F.x,E.y+=F.y,E.width=F.width,E.height=F.height,E.overflow="visible",en.create("use",E,i)},PointText:function v(x){var S=en.create("text",s(x._matrix,!0),i);return S.textContent=x._content,S}};function D(x,S){return C||(C={ids:{},svgs:{}}),x&&C.svgs[S+"-"+(x._id||x.__id||(x.__id=ae.get("svg")))]}function R(x,S,E){C||D();var k=C.ids[E]=(C.ids[E]||0)+1;S.id=E+"-"+k,C.svgs[E+"-"+(x._id||x.__id)]=S}function P(x,S){var E=x,k=null;if(C){for(var N in E="svg"===x.nodeName.toLowerCase()&&x,C.svgs)k||(E||(E=en.create("svg")).appendChild(x),k=E.insertBefore(en.create("defs"),E.firstChild)),k.appendChild(C.svgs[N]);C=null}return S.asString?(new xe.XMLSerializer).serializeToString(E):E}function M(x,S,E){var k=b[x._class],N=k&&k(x,S);if(N){var O=S.onExport;O&&(N=O(x,N,S)||N);var F=JSON.stringify(x._data);F&&"{}"!==F&&"null"!==F&&N.setAttribute("data-paper-data",F)}return N&&function w(x,S,E){var k={},N=!E&&x.getParent(),O=[];return null!=x._name&&(k.id=x._name),ne.each(Le,function(F){var B=F.get,z=F.type,G=x[B]();if(F.exportFilter?F.exportFilter(x,G):!N||!ne.equals(N[B](),G)){if("color"===z&&null!=G){var j=G.getAlpha();j<1&&(k[F.attribute+"-opacity"]=j)}"style"===z?O.push(F.attribute+": "+G):k[F.attribute]=null==G?"none":"color"===z?G.gradient?function m(x){var S=D(x,"color");if(!S){var F,E=x.getGradient(),k=E._radial,N=x.getOrigin(),O=x.getDestination();if(k){F={cx:N.x,cy:N.y,r:N.getDistance(O)};var B=x.getHighlight();B&&(F.fx=B.x,F.fy=B.y)}else F={x1:N.x,y1:N.y,x2:O.x,y2:O.y};F.gradientUnits="userSpaceOnUse",S=en.create((k?"radial":"linear")+"Gradient",F,i);for(var z=E._stops,G=0,j=z.length;G<j;G++){var H=z[G],$=H._color,K=$.getAlpha();F={offset:H._offset??G/(j-1)},$&&(F["stop-color"]=$.toCSS(!0)),K<1&&(F["stop-opacity"]=K),S.appendChild(en.create("stop",F,i))}R(x,S,"color")}return"url(#"+S.id+")"}(G):G.toCSS(!0):"array"===z?G.join(","):"lookup"===z?F.toSVG[G]:G}}),O.length&&(k.style=O.join(";")),1===k.opacity&&delete k.opacity,x._visible||(k.visibility="hidden"),en.set(S,k,i)}(x,N,E)}function I(x){return x||(x={}),i=new ze(x.precision),x}Ze.inject({exportSVG:function(x){return P(M(this,x=I(x),!0),x)}}),tt.inject({exportSVG:function(x){x=I(x);var S=this._children,E=this.getView(),k=ne.pick(x.bounds,"view"),N=x.matrix||"view"===k&&E._matrix,O=N&&st.read([N]),F="view"===k?new Ke([0,0],E.getViewSize()):"content"===k?Ze._getBounds(S,O,{stroke:!0}).rect:Ke.read([k],0,{readNull:!0}),B={version:"1.1",xmlns:en.svg,"xmlns:xlink":en.xlink};F&&(B.width=F.width,B.height=F.height,(F.x||0===F.x||F.y||0===F.y)&&(B.viewBox=i.rectangle(F)));var z=en.create("svg",B,i),G=z;O&&!O.isIdentity()&&(G=z.appendChild(en.create("g",s(O),i)));for(var j=0,H=S.length;j<H;j++)G.appendChild(M(S[j],x,!0));return P(z,x)}})},new function(){var s,i={};function a(S,E,k,N,O,F){var B=en.get(S,E)||F,z=null==B?N?null:k?"":0:k?B:parseFloat(B);return/%\s*$/.test(B)?z/100*(O?1:s[/x|^width/.test(E)?"width":"height"]):z}function l(S,E,k,N,O,F,B){return E=a(S,E||"x",!1,N,O,F),k=a(S,k||"y",!1,N,O,B),!N||null!=E&&null!=k?new ie(E,k):null}function h(S,E,k,N,O){return E=a(S,E||"width",!1,N,O),k=a(S,k||"height",!1,N,O),!N||null!=E&&null!=k?new Ee(E,k):null}function d(S,E,k){return"none"===S?null:"number"===E?parseFloat(S):"array"===E?S?S.split(/[\s,]+/g).map(parseFloat):[]:"color"===E?M(S)||S:"lookup"===E?k[S]:S}function p(S,E,k,N){var O=S.childNodes,F="clippath"===E,B="defs"===E,z=new Mn,G=z._project,j=G._currentStyle,H=[];if(!F&&!B&&(z=P(z,S,N),G._currentStyle=z._style.clone()),N)for(var $=S.querySelectorAll("defs"),K=0,Y=$.length;K<Y;K++)I($[K],k,!1);for(K=0,Y=O.length;K<Y;K++){var oe,J=O[K];1===J.nodeType&&!/^defs$/i.test(J.nodeName)&&(oe=I(J,k,!1))&&!(oe instanceof tn)&&H.push(oe)}return z.addChildren(H),F&&(z=P(z.reduce(),S,N)),G._currentStyle=j,(F||B)&&(z.remove(),z=null),z}function g(S,E){for(var k=S.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),N=[],O=0,F=k.length;O<F;O+=2)N.push(new ie(parseFloat(k[O]),parseFloat(k[O+1])));var B=new gt(N);return"polygon"===E&&B.closePath(),B}function v(S,E){var O,k=(a(S,"href",!0)||"").substring(1),N="radialgradient"===E;if(k)(O=i[k].getGradient())._radial^N&&((O=O.clone())._radial=N);else{for(var F=S.childNodes,B=[],z=0,G=F.length;z<G;z++){var j=F[z];1===j.nodeType&&B.push(P(new ki,j))}O=new qi(B,N)}var H,$,K,Y="userSpaceOnUse"!==a(S,"gradientUnits",!0);return N?($=(H=l(S,"cx","cy",!1,Y,"50%","50%")).add(a(S,"r",!1,!1,Y,"50%"),0),K=l(S,"fx","fy",!0,Y)):(H=l(S,"x1","y1",!1,Y,"0%","0%"),$=l(S,"x2","y2",!1,Y,"100%","0%")),P(new Kt(O,H,$,K),S)._scaleToBounds=Y,null}var b={"#document":function(S,E,k,N){for(var O=S.childNodes,F=0,B=O.length;F<B;F++){var z=O[F];if(1===z.nodeType)return I(z,k,N)}},g:p,svg:p,clippath:p,polygon:g,polyline:g,path:function m(S){return at.create(S.getAttribute("d"))},lineargradient:v,radialgradient:v,image:function(S){var E=new Dn(a(S,"href",!0));return E.on("load",function(){var k=h(S);this.setSize(k);var N=l(S).add(k.divide(2));this._matrix.append((new st).translate(N))}),E},symbol:function(S,E,k,N){return new tn(p(S,E,k,N),!0)},defs:p,use:function(S){var E=(a(S,"href",!0)||"").substring(1),k=i[E],N=l(S);return k?k instanceof tn?k.place(N):k.clone().translate(N):null},circle:function(S){return new fn.Circle(l(S,"cx","cy"),a(S,"r"))},ellipse:function(S){return new fn.Ellipse({center:l(S,"cx","cy"),radius:h(S,"rx","ry")})},rect:function(S){return new fn.Rectangle(new Ke(l(S),h(S)),h(S,"rx","ry"))},line:function(S){return new gt.Line(l(S,"x1","y1"),l(S,"x2","y2"))},text:function(S){var E=new Je(l(S).add(l(S,"dx","dy")));return E.setContent(S.textContent.trim()||""),E},switch:p};function w(S,E,k,N){if(S.transform){for(var O=(N.getAttribute(k)||"").split(/\)\s*/g),F=new st,B=0,z=O.length;B<z;B++){var G=O[B];if(!G)break;for(var j=G.split(/\(\s*/),H=j[0],$=j[1].split(/[\s,]+/g),K=0,Y=$.length;K<Y;K++)$[K]=parseFloat($[K]);switch(H){case"matrix":F.append(new st($[0],$[1],$[2],$[3],$[4],$[5]));break;case"rotate":F.rotate($[0],$[1]||0,$[2]||0);break;case"translate":F.translate($[0],$[1]||0);break;case"scale":F.scale($);break;case"skewX":F.skew($[0],0);break;case"skewY":F.skew(0,$[0])}}S.transform(F)}}function C(S,E,k){var N="fill-opacity"===k?"getFillColor":"getStrokeColor",O=S[N]&&S[N]();O&&O.setAlpha(parseFloat(E))}var D=ne.set(ne.each(Le,function(S){this[S.attribute]=function(E,k){if(E[S.set]&&(E[S.set](d(k,S.type,S.fromSVG)),"color"===S.type)){var N=E[S.get]();if(N&&N._scaleToBounds){var O=E.getBounds();N.transform((new st).translate(O.getPoint()).scale(O.getSize()))}}}},{}),{id:function(S,E){i[E]=S,S.setName&&S.setName(E)},"clip-path":function(S,E){var k=M(E);if(k){if((k=k.clone()).setClipMask(!0),!(S instanceof Mn))return new Mn(k,S);S.insertChild(0,k)}},gradientTransform:w,transform:w,"fill-opacity":C,"stroke-opacity":C,visibility:function(S,E){S.setVisible&&S.setVisible("visible"===E)},display:function(S,E){S.setVisible&&S.setVisible(null!==E)},"stop-color":function(S,E){S.setColor&&S.setColor(E)},"stop-opacity":function(S,E){S._color&&S._color.setAlpha(parseFloat(E))},offset:function(S,E){if(S.setOffset){var k=E.match(/(.*)%$/);S.setOffset(k?k[1]/100:parseFloat(E))}},viewBox:function(S,E,k,N,O){var z,F=new Ke(d(E,"array")),B=h(N,null,null,!0);if(S instanceof Mn){var j=B?B.divide(F.getSize()):1,G=(new st).scale(j).translate(F.getPoint().negate());z=S}else S instanceof tn&&(B&&F.setSize(B),z=S._item);if(z){if("visible"!==R(N,"overflow",O)){var H=new fn.Rectangle(F);H.setClipMask(!0),z.addChild(H)}G&&z.transform(G)}}});function R(S,E,k){var N=S.attributes[E],O=N&&N.value;if(!O&&S.style){var F=ne.camelize(E);!(O=S.style[F])&&k.node[F]!==k.parent[F]&&(O=k.node[F])}return O?"none"===O?null:O:De}function P(S,E,k){var N=E.parentNode,O={node:bt.getStyles(E)||{},parent:!k&&!/^defs$/i.test(N.tagName)&&bt.getStyles(N)||{}};return ne.each(D,function(F,B){var z=R(E,B,O);S=z!==De&&F(S,z,B,E,O)||S}),S}function M(S){var E=S&&S.match(/\((?:["'#]*)([^"')]+)/),k=E&&E[1],N=k&&i[Ct?k.replace(Ct.location.href.split("#")[0]+"#",""):k];return N&&N._scaleToBounds&&((N=N.clone())._scaleToBounds=!0),N}function I(S,E,k){var B,z,G,N=S.nodeName.toLowerCase(),O="#document"!==N,F=ee.body;k&&O&&(s=o.getView().getSize(),s=h(S,null,null,!0)||s,B=en.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),z=S.parentNode,G=S.nextSibling,B.appendChild(S),F.appendChild(B));var j=o.settings,H=j.applyMatrix,$=j.insertItems;j.applyMatrix=!1,j.insertItems=!1;var K=b[N],Y=K&&K(S,N,E,k)||null;if(j.insertItems=$,j.applyMatrix=H,Y){O&&!(Y instanceof Mn)&&(Y=P(Y,S,k));var J=E.onImport,oe=O&&S.getAttribute("data-paper-data");J&&(Y=J(S,Y,E)||Y),E.expandShapes&&Y instanceof fn&&(Y.remove(),Y=Y.toPath()),oe&&(Y._data=JSON.parse(oe))}return B&&(F.removeChild(B),z&&(G?z.insertBefore(S,G):z.appendChild(S))),k&&(i={},Y&&ne.pick(E.applyMatrix,H)&&Y.matrix.apply(!0,!0)),Y}function x(S,E,k){if(!S)return null;E="function"==typeof E?{onLoad:E}:E||{};var N=o,O=null;function F(j){try{var H="object"==typeof j?j:(new xe.DOMParser).parseFromString(j.trim(),"image/svg+xml");if(!H.nodeName)throw H=null,new Error("Unsupported SVG source: "+S);o=N,O=I(H,E,!0),(!E||!1!==E.insert)&&k._insertItem(De,O);var $=E.onLoad;$&&$(O,j)}catch(K){B(K)}}function B(j,H){var $=E.onError;if(!$)throw new Error(j);$(j,H)}if("string"!=typeof S||/^[\s\S]*</.test(S)){if(typeof File<"u"&&S instanceof File){var G=new FileReader;return G.onload=function(){F(G.result)},G.onerror=function(){B(G.error)},G.readAsText(S)}F(S)}else{var z=ee.getElementById(S);z?F(z):zt.request({url:S,async:!0,onLoad:F,onError:B})}return O}Ze.inject({importSVG:function(S,E){return x(S,E,this)}}),tt.inject({importSVG:function(S,E){return this.activate(),x(S,E,this)}})},ne.exports.PaperScript=function(){var a,l,M,i=this,s=i.acorn;if(!s)try{s=Bt(77)}catch{}function h(P,M){return(i.acorn||s).parse(P,M)}s||(s=a=l={},M=function(P){"use strict";var M,I,x,S;P.version="0.5.0",P.parse=function(te,se){return I=String(te),x=I.length,k(se),xs(),function ti(te){J=oe=O,M.locations&&(he=new rr),ge=le=null,_e=[],Br();var se=te||_n(),pe=!0;for(te||(se.body=[]);j!==Fe;){var we=mn();se.body.push(we),pe&&Ja(we)&&Ni(!0),pe=!1}return Tt(se,"Program")}(M.program)};var E=P.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function k(te){for(var se in M=te||{},E)Object.prototype.hasOwnProperty.call(M,se)||(M[se]=E[se]);S=M.sourceFile||null}var O,F,B,z,G,j,H,$,K,Y,J,oe,he,ge,_e,le,N=P.getLineInfo=function(te,se){for(var pe=1,we=0;;){Ss.lastIndex=we;var ct=Ss.exec(te);if(!(ct&&ct.index<se))break;++pe,we=ct.index+ct[0].length}return{line:pe,column:se-we}};function ce(te,se){var pe=N(I,te),we=new SyntaxError(se+=" ("+pe.line+":"+pe.column+")");throw we.pos=te,we.loc=pe,we.raisedAt=O,we}P.tokenize=function(te,se){I=String(te),x=I.length,k(se),xs();var pe={};function we(ct){return oe=B,Br(ct),pe.start=F,pe.end=B,pe.startLoc=z,pe.endLoc=G,pe.type=j,pe.value=H,pe}return we.jumpTo=function(ct,He){if(O=ct,M.locations){K=1,Y=Ss.lastIndex=0;for(var wt;(wt=Ss.exec(I))&&wt.index<ct;)++K,Y=wt.index+wt[0].length}$=He,Fr()},we};var ue=[],ve={type:"num"},Ce={type:"regexp"},Ae={type:"string"},Pe={type:"name"},Fe={type:"eof"},Be={keyword:"break"},We={keyword:"case",beforeExpr:!0},Pt={keyword:"catch"},nt={keyword:"continue"},Dt={keyword:"debugger"},ut={keyword:"default"},it={keyword:"do",isLoop:!0},Ye={keyword:"else",beforeExpr:!0},kt={keyword:"finally"},Oe={keyword:"for",isLoop:!0},wn={keyword:"function"},Pn={keyword:"if"},ln={keyword:"return",beforeExpr:!0},Ue={keyword:"switch"},Yt={keyword:"throw",beforeExpr:!0},Cn={keyword:"try"},Wn={keyword:"var"},_={keyword:"while",isLoop:!0},T={keyword:"with"},U={keyword:"new",beforeExpr:!0},q={keyword:"this"},Q={keyword:"null",atomValue:null},de={keyword:"true",atomValue:!0},me={keyword:"false",atomValue:!1},Me={keyword:"in",binop:7,beforeExpr:!0},Ve={break:Be,case:We,catch:Pt,continue:nt,debugger:Dt,default:ut,do:it,else:Ye,finally:kt,for:Oe,function:wn,if:Pn,return:ln,switch:Ue,throw:Yt,try:Cn,var:Wn,while:_,with:T,null:Q,true:de,false:me,new:U,in:Me,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:q,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Qe={type:"[",beforeExpr:!0},It={type:"]"},pn={type:"{",beforeExpr:!0},hi={type:"}"},gn={type:"(",beforeExpr:!0},Zn={type:")"},mi={type:",",beforeExpr:!0},ei={type:";",beforeExpr:!0},Ii={type:":",beforeExpr:!0},$a={type:"."},uu={type:"?",beforeExpr:!0},qa={binop:10,beforeExpr:!0},lu={isAssign:!0,beforeExpr:!0},Vn={isAssign:!0,beforeExpr:!0},Wt={postfix:!0,prefix:!0,isUpdate:!0},ec={prefix:!0,beforeExpr:!0},tc={binop:1,beforeExpr:!0},nc={binop:2,beforeExpr:!0},ht={binop:3,beforeExpr:!0},Nd={binop:4,beforeExpr:!0},yr={binop:5,beforeExpr:!0},Gs={binop:6,beforeExpr:!0},ic={binop:7,beforeExpr:!0},cu={binop:8,beforeExpr:!0},rc={binop:9,prefix:!0,beforeExpr:!0},sc={binop:10,beforeExpr:!0};for(var Ga in P.tokTypes={bracketL:Qe,bracketR:It,braceL:pn,braceR:hi,parenL:gn,parenR:Zn,comma:mi,semi:ei,colon:Ii,dot:$a,question:uu,slash:qa,eq:lu,name:Pe,eof:Fe,num:ve,regexp:Ce,string:Ae},Ve)P.tokTypes["_"+Ga]=Ve[Ga];function wr(te){te=te.split(" ");var se="",pe=[];e:for(var we=0;we<te.length;++we){for(var ct=0;ct<pe.length;++ct)if(pe[ct][0].length==te[we].length){pe[ct].push(te[we]);continue e}pe.push([te[we]])}function He(qt){if(1==qt.length)return se+="return str === "+JSON.stringify(qt[0])+";";se+="switch(str){";for(var Ei=0;Ei<qt.length;++Ei)se+="case "+JSON.stringify(qt[Ei])+":";se+="return true}return false;"}if(pe.length>3){for(pe.sort(function(qt,Ei){return Ei.length-qt.length}),se+="switch(str.length){",we=0;we<pe.length;++we){var wt=pe[we];se+="case "+wt[0].length+":",He(wt)}se+="}"}else He(te);return new Function("str",se)}var ar,Wa=wr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),hu=wr("class enum extends super const export import"),fu=wr("implements interface let package private protected public static yield"),rt=wr("eval arguments"),Za=wr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),ac=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,vi="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",oc=new RegExp("["+vi+"]"),on=new RegExp("["+vi+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),Ka=/[\n\r\u2028\u2029]/,Ss=/\r\n|[\n\r\u2028\u2029]/g,Ya=P.isIdentifierStart=function(te){return te<65?36===te:te<91||(te<97?95===te:te<123||te>=170&&oc.test(String.fromCharCode(te)))},ts=P.isIdentifierChar=function(te){return te<48?36===te:te<58||!(te<65)&&(te<91||(te<97?95===te:te<123||te>=170&&on.test(String.fromCharCode(te))))};function rr(){this.line=K,this.column=O-Y}function xs(){K=1,O=Y=0,$=!0,Fr()}function zn(te,se){B=O,M.locations&&(G=new rr),j=te,Fr(),H=se,$=te.beforeExpr}function uc(){var te=M.onComment&&M.locations&&new rr,se=O,pe=I.indexOf("*/",O+=2);if(-1===pe&&ce(O-2,"Unterminated comment"),O=pe+2,M.locations){Ss.lastIndex=se;for(var we;(we=Ss.exec(I))&&we.index<O;)++K,Y=we.index+we[0].length}M.onComment&&M.onComment(!0,I.slice(se+2,pe),se,O,te,M.locations&&new rr)}function Qa(){for(var te=O,se=M.onComment&&M.locations&&new rr,pe=I.charCodeAt(O+=2);O<x&&10!==pe&&13!==pe&&8232!==pe&&8233!==pe;)++O,pe=I.charCodeAt(O);M.onComment&&M.onComment(!1,I.slice(te+2,O),te,O,se,M.locations&&new rr)}function Fr(){for(;O<x;){var te=I.charCodeAt(O);if(32===te)++O;else if(13===te)++O,10===(se=I.charCodeAt(O))&&++O,M.locations&&(++K,Y=O);else if(10===te||8232===te||8233===te)++O,M.locations&&(++K,Y=O);else if(te>8&&te<14)++O;else if(47===te){var se;if(42===(se=I.charCodeAt(O+1)))uc();else{if(47!==se)break;Qa()}}else if(160===te)++O;else{if(!(te>=5760&&ac.test(String.fromCharCode(te))))break;++O}}}function Br(te){if(te?O=F+1:F=O,M.locations&&(z=new rr),te)return gu();if(O>=x)return zn(Fe);var se=I.charCodeAt(O);if(Ya(se)||92===se)return Ks();var pe=function Is(te){switch(te){case 46:return function Ds(){var te=I.charCodeAt(O+1);return te>=48&&te<=57?Oi(!0):(++O,zn($a))}();case 40:return++O,zn(gn);case 41:return++O,zn(Zn);case 59:return++O,zn(ei);case 44:return++O,zn(mi);case 91:return++O,zn(Qe);case 93:return++O,zn(It);case 123:return++O,zn(pn);case 125:return++O,zn(hi);case 58:return++O,zn(Ii);case 63:return++O,zn(uu);case 48:var se=I.charCodeAt(O+1);if(120===se||88===se)return function Wi(){O+=2;var te=yi(16);return null==te&&ce(F+2,"Expected hexadecimal number"),Ya(I.charCodeAt(O))&&ce(O,"Identifier directly after number"),zn(ve,te)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Oi(!1);case 34:case 39:return function sr(te){O++;for(var se="";;){O>=x&&ce(F,"Unterminated string constant");var pe=I.charCodeAt(O);if(pe===te)return++O,zn(Ae,se);if(92===pe){pe=I.charCodeAt(++O);var we=/^[0-7]+/.exec(I.slice(O,O+3));for(we&&(we=we[0]);we&&parseInt(we,8)>255;)we=we.slice(0,-1);if("0"===we&&(we=null),++O,we)le&&ce(O-2,"Octal literal in strict mode"),se+=String.fromCharCode(parseInt(we,8)),O+=we.length-1;else switch(pe){case 110:se+="\n";break;case 114:se+="\r";break;case 120:se+=String.fromCharCode(Ut(2));break;case 117:se+=String.fromCharCode(Ut(4));break;case 85:se+=String.fromCharCode(Ut(8));break;case 116:se+="\t";break;case 98:se+="\b";break;case 118:se+="\v";break;case 102:se+="\f";break;case 48:se+="\0";break;case 13:10===I.charCodeAt(O)&&++O;case 10:M.locations&&(Y=O,++K);break;default:se+=String.fromCharCode(pe)}}else(13===pe||10===pe||8232===pe||8233===pe)&&ce(F,"Unterminated string constant"),se+=String.fromCharCode(pe),++O}}(te);case 47:return function ns(){var te=I.charCodeAt(O+1);return $?(++O,gu()):61===te?Un(Vn,2):Un(qa,1)}();case 37:case 42:return function lc(){return 61===I.charCodeAt(O+1)?Un(Vn,2):Un(sc,1)}();case 124:case 38:return function lt(te){var se=I.charCodeAt(O+1);return se===te?Un(124===te?tc:nc,2):61===se?Un(Vn,2):Un(124===te?ht:yr,1)}(te);case 94:return function pu(){return 61===I.charCodeAt(O+1)?Un(Vn,2):Un(Nd,1)}();case 43:case 45:return function Lt(te){var se=I.charCodeAt(O+1);return se===te?45==se&&62==I.charCodeAt(O+2)&&Ka.test(I.slice(oe,O))?(O+=3,Qa(),Fr(),Br()):Un(Wt,2):61===se?Un(Vn,2):Un(rc,1)}(te);case 60:case 62:return function Ws(te){var se=I.charCodeAt(O+1),pe=1;return se===te?(pe=62===te&&62===I.charCodeAt(O+2)?3:2,61===I.charCodeAt(O+pe)?Un(Vn,pe+1):Un(cu,pe)):33==se&&60==te&&45==I.charCodeAt(O+2)&&45==I.charCodeAt(O+3)?(O+=4,Qa(),Fr(),Br()):(61===se&&(pe=61===I.charCodeAt(O+2)?3:2),Un(ic,pe))}(te);case 61:case 33:return function Xa(te){return 61===I.charCodeAt(O+1)?Un(Gs,61===I.charCodeAt(O+2)?3:2):Un(61===te?lu:ec,1)}(te);case 126:return Un(ec,1)}return!1}(se);if(!1===pe){var we=String.fromCharCode(se);if("\\"===we||oc.test(we))return Ks();ce(O,"Unexpected character '"+we+"'")}return pe}function Un(te,se){var pe=I.slice(O,O+se);O+=se,zn(te,pe)}function gu(){for(var te,se,pe=O;;){O>=x&&ce(pe,"Unterminated regular expression");var we=I.charAt(O);if(Ka.test(we)&&ce(pe,"Unterminated regular expression"),te)te=!1;else{if("["===we)se=!0;else if("]"===we&&se)se=!1;else if("/"===we&&!se)break;te="\\"===we}++O}var ct=I.slice(pe,O);++O;var He=Zs();He&&!/^[gmsiy]*$/.test(He)&&ce(pe,"Invalid regexp flag");try{var wt=new RegExp(ct,He)}catch(qt){qt instanceof SyntaxError&&ce(pe,qt.message),ce(qt)}return zn(Ce,wt)}function yi(te,se){for(var pe=O,we=0,ct=0,He=se??1/0;ct<He;++ct){var qt,wt=I.charCodeAt(O);if((qt=wt>=97?wt-97+10:wt>=65?wt-65+10:wt>=48&&wt<=57?wt-48:1/0)>=te)break;++O,we=we*te+qt}return O===pe||null!=se&&O-pe!==se?null:we}function Oi(te){var se=O,pe=!1,we=48===I.charCodeAt(O);!te&&null===yi(10)&&ce(se,"Invalid number"),46===I.charCodeAt(O)&&(++O,yi(10),pe=!0);var ct=I.charCodeAt(O);(69===ct||101===ct)&&((43===(ct=I.charCodeAt(++O))||45===ct)&&++O,null===yi(10)&&ce(se,"Invalid number"),pe=!0),Ya(I.charCodeAt(O))&&ce(O,"Identifier directly after number");var wt,He=I.slice(se,O);return pe?wt=parseFloat(He):we&&1!==He.length?/[89]/.test(He)||le?ce(se,"Invalid number"):wt=parseInt(He,8):wt=parseInt(He,10),zn(ve,wt)}function Ut(te){var se=yi(16,te);return null===se&&ce(F,"Bad character escape sequence"),se}function Zs(){ar=!1;for(var te,se=!0,pe=O;;){var we=I.charCodeAt(O);if(ts(we))ar&&(te+=I.charAt(O)),++O;else{if(92!==we)break;ar||(te=I.slice(pe,O)),ar=!0,117!=I.charCodeAt(++O)&&ce(O,"Expecting Unicode escape sequence \\uXXXX"),++O;var ct=Ut(4),He=String.fromCharCode(ct);He||ce(O-1,"Invalid Unicode escape"),(se?Ya(ct):ts(ct))||ce(O-4,"Invalid Unicode escape"),te+=He}se=!1}return ar?te:I.slice(pe,O)}function Ks(){var te=Zs(),se=Pe;return!ar&&Za(te)&&(se=Ve[te]),zn(se,te)}function jt(){J=F,oe=B,he=G,Br()}function Ni(te){if(le=te,O=F,M.locations)for(;O<Y;)Y=I.lastIndexOf("\n",Y-2)+1,--K;Fr(),Br()}function is(){this.type=null,this.start=F,this.end=null}function _u(){this.start=z,this.end=null,null!==S&&(this.source=S)}function _n(){var te=new is;return M.locations&&(te.loc=new _u),M.directSourceFile&&(te.sourceFile=M.directSourceFile),M.ranges&&(te.range=[F,0]),te}function Cr(te){var se=new is;return se.start=te.start,M.locations&&(se.loc=new _u,se.loc.start=te.loc.start),M.ranges&&(se.range=[te.range[0],0]),se}function Tt(te,se){return te.type=se,te.end=oe,M.locations&&(te.loc.end=he),M.ranges&&(te.range[1]=oe),te}function Ja(te){return M.ecmaVersion>=5&&"ExpressionStatement"===te.type&&"Literal"===te.expression.type&&"use strict"===te.expression.value}function Qt(te){if(j===te)return jt(),!0}function Ys(){return!M.strictSemicolons&&(j===Fe||j===hi||Ka.test(I.slice(oe,F)))}function br(){!Qt(ei)&&!Ys()&&bn()}function Ht(te){j===te?jt():bn()}function bn(){ce(F,"Unexpected token")}function $t(te){"Identifier"!==te.type&&"MemberExpression"!==te.type&&ce(te.start,"Assigning to rvalue"),le&&"Identifier"===te.type&&rt(te.name)&&ce(te.start,"Assigning to "+te.name+" in strict mode")}var ni={kind:"loop"},rs={kind:"switch"};function mn(){(j===qa||j===Vn&&"/="==H)&&Br(!0);var te=j,se=_n();switch(te){case Be:case nt:jt();var pe=te===Be;Qt(ei)||Ys()?se.label=null:j!==Pe?bn():(se.label=vn(),br());for(var we=0;we<_e.length;++we){var ct=_e[we];if((null==se.label||ct.name===se.label.name)&&(null!=ct.kind&&(pe||"loop"===ct.kind)||se.label&&pe))break}return we===_e.length&&ce(se.start,"Unsyntactic "+te.keyword),Tt(se,pe?"BreakStatement":"ContinueStatement");case Dt:return jt(),br(),Tt(se,"DebuggerStatement");case it:return jt(),_e.push(ni),se.body=mn(),_e.pop(),Ht(_),se.test=ss(),br(),Tt(se,"DoWhileStatement");case Oe:if(jt(),_e.push(ni),Ht(gn),j===ei)return os(se,null);if(j===Wn){var He=_n();return jt(),qe(He,!0),Tt(He,"VariableDeclaration"),1===He.declarations.length&&Qt(Me)?Zi(se,He):os(se,He)}return He=et(!1,!0),Qt(Me)?($t(He),Zi(se,He)):os(se,He);case wn:return jt(),Qs(se,!0);case Pn:return jt(),se.test=ss(),se.consequent=mn(),se.alternate=Qt(Ye)?mn():null,Tt(se,"IfStatement");case ln:return!ge&&!M.allowReturnOutsideFunction&&ce(F,"'return' outside of function"),jt(),Qt(ei)||Ys()?se.argument=null:(se.argument=et(),br()),Tt(se,"ReturnStatement");case Ue:jt(),se.discriminant=ss(),se.cases=[],Ht(pn),_e.push(rs);for(var wt,qt;j!=hi;)if(j===We||j===ut){var Ei=j===We;wt&&Tt(wt,"SwitchCase"),se.cases.push(wt=_n()),wt.consequent=[],jt(),Ei?wt.test=et():(qt&&ce(J,"Multiple default clauses"),qt=!0,wt.test=null),Ht(Ii)}else wt||bn(),wt.consequent.push(mn());return wt&&Tt(wt,"SwitchCase"),jt(),_e.pop(),Tt(se,"SwitchStatement");case Yt:return jt(),Ka.test(I.slice(oe,F))&&ce(oe,"Illegal newline after throw"),se.argument=et(),br(),Tt(se,"ThrowStatement");case Cn:if(jt(),se.block=as(),se.handler=null,j===Pt){var Ki=_n();jt(),Ht(gn),Ki.param=vn(),le&&rt(Ki.param.name)&&ce(Ki.param.start,"Binding "+Ki.param.name+" in strict mode"),Ht(Zn),Ki.guard=null,Ki.body=as(),se.handler=Tt(Ki,"CatchClause")}return se.guardedHandlers=ue,se.finalizer=Qt(kt)?as():null,!se.handler&&!se.finalizer&&ce(se.start,"Missing catch or finally clause"),Tt(se,"TryStatement");case Wn:return jt(),qe(se),br(),Tt(se,"VariableDeclaration");case _:return jt(),se.test=ss(),_e.push(ni),se.body=mn(),_e.pop(),Tt(se,"WhileStatement");case T:return le&&ce(F,"'with' in strict mode"),jt(),se.object=ss(),se.body=mn(),Tt(se,"WithStatement");case pn:return as();case ei:return jt(),Tt(se,"EmptyStatement");default:var cs=H,or=et();if(te===Pe&&"Identifier"===or.type&&Qt(Ii)){for(we=0;we<_e.length;++we)_e[we].name===cs&&ce(or.start,"Label '"+cs+"' is already declared");return _e.push({name:cs,kind:j.isLoop?"loop":j===Ue?"switch":null}),se.body=mn(),_e.pop(),se.label=or,Tt(se,"LabeledStatement")}return se.expression=or,br(),Tt(se,"ExpressionStatement")}}function ss(){Ht(gn);var te=et();return Ht(Zn),te}function as(te){var ct,se=_n(),pe=!0,we=!1;for(se.body=[],Ht(pn);!Qt(hi);){var He=mn();se.body.push(He),pe&&te&&Ja(He)&&(ct=we,Ni(we=!0)),pe=!1}return we&&!ct&&Ni(!1),Tt(se,"BlockStatement")}function os(te,se){return te.init=se,Ht(ei),te.test=j===ei?null:et(),Ht(ei),te.update=j===Zn?null:et(),Ht(Zn),te.body=mn(),_e.pop(),Tt(te,"ForStatement")}function Zi(te,se){return te.left=se,te.right=et(),Ht(Zn),te.body=mn(),_e.pop(),Tt(te,"ForInStatement")}function qe(te,se){for(te.declarations=[],te.kind="var";;){var pe=_n();if(pe.id=vn(),le&&rt(pe.id.name)&&ce(pe.id.start,"Binding "+pe.id.name+" in strict mode"),pe.init=Qt(lu)?et(!0,se):null,te.declarations.push(Tt(pe,"VariableDeclarator")),!Qt(mi))break}return te}function et(te,se){var pe=cn(se);if(!te&&j===mi){var we=Cr(pe);for(we.expressions=[pe];Qt(mi);)we.expressions.push(cn(se));return Tt(we,"SequenceExpression")}return pe}function cn(te){var se=function Li(te){var se=function Vr(te){return jn(Sr(),-1,te)}(te);if(Qt(uu)){var pe=Cr(se);return pe.test=se,pe.consequent=et(!0),Ht(Ii),pe.alternate=et(!0,te),Tt(pe,"ConditionalExpression")}return se}(te);if(j.isAssign){var pe=Cr(se);return pe.operator=H,pe.left=se,jt(),pe.right=cn(te),$t(se),Tt(pe,"AssignmentExpression")}return se}function jn(te,se,pe){var we=j.binop;if(null!=we&&(!pe||j!==Me)&&we>se){var ct=Cr(te);ct.left=te,ct.operator=H;var He=j;return jt(),ct.right=jn(Sr(),we,pe),jn(Tt(ct,He===tc||He===nc?"LogicalExpression":"BinaryExpression"),se,pe)}return te}function Sr(){if(j.prefix){var te=_n(),se=j.isUpdate;return te.operator=H,te.prefix=!0,$=!0,jt(),te.argument=Sr(),se?$t(te.argument):le&&"delete"===te.operator&&"Identifier"===te.argument.type&&ce(te.start,"Deleting local variable in strict mode"),Tt(te,se?"UpdateExpression":"UnaryExpression")}for(var pe=function En(){return xr(us())}();j.postfix&&!Ys();)(te=Cr(pe)).operator=H,te.prefix=!1,te.argument=pe,$t(pe),jt(),pe=Tt(te,"UpdateExpression");return pe}function xr(te,se){var pe;return Qt($a)?((pe=Cr(te)).object=te,pe.property=vn(!0),pe.computed=!1,xr(Tt(pe,"MemberExpression"),se)):Qt(Qe)?((pe=Cr(te)).object=te,pe.property=et(),pe.computed=!0,Ht(It),xr(Tt(pe,"MemberExpression"),se)):!se&&Qt(gn)?((pe=Cr(te)).callee=te,pe.arguments=Dr(Zn,!1),xr(Tt(pe,"CallExpression"),se)):te}function us(){switch(j){case q:var we=_n();return jt(),Tt(we,"ThisExpression");case Pe:return vn();case ve:case Ae:case Ce:return(we=_n()).value=H,we.raw=I.slice(F,B),jt(),Tt(we,"Literal");case Q:case de:case me:return(we=_n()).value=j.atomValue,we.raw=j.keyword,jt(),Tt(we,"Literal");case gn:var te=z,se=F;jt();var pe=et();return pe.start=se,pe.end=B,M.locations&&(pe.loc.start=te,pe.loc.end=G),M.ranges&&(pe.range=[se,B]),Ht(Zn),pe;case Qe:return we=_n(),jt(),we.elements=Dr(It,!0,!0),Tt(we,"ArrayExpression");case pn:return function eo(){var te=_n(),se=!0,pe=!1;for(te.properties=[],jt();!Qt(hi);){if(se)se=!1;else if(Ht(mi),M.allowTrailingCommas&&Qt(hi))break;var He,we={key:ls()},ct=!1;if(Qt(Ii)?(we.value=et(!0),He=we.kind="init"):M.ecmaVersion>=5&&"Identifier"===we.key.type&&("get"===we.key.name||"set"===we.key.name)?(ct=pe=!0,He=we.kind=we.key.name,we.key=ls(),j!==gn&&bn(),we.value=Qs(_n(),!1)):bn(),"Identifier"===we.key.type&&(le||pe))for(var wt=0;wt<te.properties.length;++wt){var qt=te.properties[wt];if(qt.key.name===we.key.name){var Ei=He==qt.kind||ct&&"init"===qt.kind||"init"===He&&("get"===qt.kind||"set"===qt.kind);Ei&&!le&&"init"===He&&"init"===qt.kind&&(Ei=!1),Ei&&ce(we.key.start,"Redefinition of property")}}te.properties.push(we)}return Tt(te,"ObjectExpression")}();case wn:return we=_n(),jt(),Qs(we,!1);case U:return function At(){var te=_n();return jt(),te.callee=xr(us(),!0),te.arguments=Qt(gn)?Dr(Zn,!1):ue,Tt(te,"NewExpression")}();default:bn()}}function ls(){return j===ve||j===Ae?us():vn(!0)}function Qs(te,se){j===Pe?te.id=vn():se?bn():te.id=null,te.params=[];var pe=!0;for(Ht(gn);!Qt(Zn);)pe?pe=!1:Ht(mi),te.params.push(vn());var we=ge,ct=_e;if(ge=!0,_e=[],te.body=as(!0),ge=we,_e=ct,le||te.body.body.length&&Ja(te.body.body[0]))for(var He=te.id?-1:0;He<te.params.length;++He){var wt=He<0?te.id:te.params[He];if((fu(wt.name)||rt(wt.name))&&ce(wt.start,"Defining '"+wt.name+"' in strict mode"),He>=0)for(var qt=0;qt<He;++qt)wt.name===te.params[qt].name&&ce(wt.start,"Argument name clash in strict mode")}return Tt(te,se?"FunctionDeclaration":"FunctionExpression")}function Dr(te,se,pe){for(var we=[],ct=!0;!Qt(te);){if(ct)ct=!1;else if(Ht(mi),se&&M.allowTrailingCommas&&Qt(te))break;we.push(pe&&j===mi?null:et(!0))}return we}function vn(te){var se=_n();return te&&"everywhere"==M.forbidReserved&&(te=!1),j===Pe?(!te&&(M.forbidReserved&&(3===M.ecmaVersion?Wa:hu)(H)||le&&fu(H))&&-1==I.slice(F,B).indexOf("\\")&&ce(F,"The keyword '"+H+"' is reserved"),se.name=H):te&&j.keyword?se.name=j.keyword:bn(),$=!1,jt(),Tt(se,"Identifier")}},"object"==typeof a&&"object"==typeof l?M(a):(Nt=[a],(Di="function"==typeof(Bn=M)?Bn.apply(a,Nt):Bn)!==De&&(l.exports=Di)),s.version||(s=null));var d={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},p={"-":"__negate","+":"__self"},g=ne.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(P){this["__"+P]="#"+P},{__self:function(){return this}});function m(P,M,I){var x=d[M];if(P&&P[x]){var S=P[x](I);return"!="===M?!S:S}switch(M){case"+":return P+I;case"-":return P-I;case"*":return P*I;case"/":return P/I;case"%":return P%I;case"==":return P==I;case"!=":return P!=I}}function v(P,M){var I=p[P];if(M&&M[I])return M[I]();switch(P){case"+":return+M;case"-":return-M}}function b(P,M){if(!P)return"";var I=[];function x(le){for(var ce=0,ue=I.length;ce<ue;ce++){var ve=I[ce];if(ve[0]>=le)break;le+=ve[1]}return le}function S(le){return P.substring(x(le.range[0]),x(le.range[1]))}function k(le,ce){for(var ue=x(le.range[0]),ve=x(le.range[1]),Ce=0,Ae=I.length-1;Ae>=0;Ae--)if(ue>I[Ae][0]){Ce=Ae+1;break}I.splice(Ce,0,[ue,ce.length-ve+ue]),P=P.substring(0,ue)+ce+P.substring(ve)}var he,z=(M=M||{}).url||"",G=M.sourceMaps,j=M.paperFeatures||{},H=M.source||P,$=M.offset||0,K=o.agent,Y=K.versionNumber,J=!1,oe=/\r\n|\n|\r/gm;if(G&&(K.chrome&&Y>=30||K.webkit&&Y>=537.76||K.firefox&&Y>=23||K.node)){if(K.node)$-=2;else if(Ct&&z&&!Ct.location.href.indexOf(z)){var ge=ee.getElementsByTagName("html")[0].innerHTML;$=ge.substr(0,ge.indexOf(P)+1).match(oe).length+1}var _e=["AA"+function B(le){var ce="";for(le=(Math.abs(le)<<1)+(le<0?1:0);le||!ce;){var ve=31&le;(le>>=5)&&(ve|=32),ce+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ve]}return ce}((J=$>0&&!(K.chrome&&Y>=36||K.safari&&Y>=600||K.firefox&&Y>=40||K.node))?0:$)+"A"];_e.length=(P.match(oe)||[]).length+1+(J?$:0),he={version:3,file:z,names:[],mappings:_e.join(";AACA"),sourceRoot:"",sources:[z],sourcesContent:[H]}}return(!1!==j.operatorOverloading||!1!==j.moduleExports)&&function F(le,ce,ue){if(le){for(var ve in le)if("range"!==ve&&"loc"!==ve){var Ce=le[ve];if(Array.isArray(Ce))for(var Ae=0,Pe=Ce.length;Ae<Pe;Ae++)F(Ce[Ae],le,ue);else Ce&&"object"==typeof Ce&&F(Ce,le,ue)}!1!==ue.operatorOverloading&&function N(le,ce){switch(le.type){case"UnaryExpression":if(le.operator in p&&"Literal"!==le.argument.type){var ue=S(le.argument);k(le,'$__("'+le.operator+'", '+ue+")")}break;case"BinaryExpression":if(le.operator in d&&"Literal"!==le.left.type){var ve=S(le.left),Ce=S(le.right),Ae=function E(le,ce){return P.substring(x(le.range[1]),x(ce.range[0]))}(le.left,le.right),Pe=le.operator;k(le,"__$__("+ve+","+Ae.replace(new RegExp("\\"+Pe),'"'+Pe+'"')+", "+Ce+")")}break;case"UpdateExpression":case"AssignmentExpression":var Fe=ce&&ce.type;if(!("ForStatement"===Fe||"BinaryExpression"===Fe&&/^[=!<>]/.test(ce.operator)||"MemberExpression"===Fe&&ce.computed))if("UpdateExpression"===le.type){var We=(ue=S(le.argument))+" = "+(Be="__$__("+ue+', "'+le.operator[0]+'", 1)');le.prefix?We="("+We+")":("AssignmentExpression"===Fe||"VariableDeclarator"===Fe||"BinaryExpression"===Fe)&&(S(ce.left||ce.id)===ue&&(We=Be),We=ue+"; "+We),k(le,We)}else if(/^.=$/.test(le.operator)&&"Literal"!==le.left.type){ve=S(le.left),Ce=S(le.right);var Be=ve+" = __$__("+ve+', "'+le.operator[0]+'", '+Ce+")";k(le,/^\(.*\)$/.test(S(le))?"("+Be+")":Be)}}}(le,ce),!1!==ue.moduleExports&&function O(le){switch(le.type){case"ExportDefaultDeclaration":k({range:[le.start,le.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ce=le.declaration,ue=le.specifiers;if(ce){var ve=ce.declarations;ve&&(ve.forEach(function(Ae){k(Ae,"module.exports."+S(Ae))}),k({range:[le.start,ce.start+ce.kind.length]},""))}else if(ue){var Ce=ue.map(function(Ae){var Pe=S(Ae);return"module.exports."+Pe+" = "+Pe+"; "}).join("");Ce&&k(le,Ce)}}}(le)}}(h(P,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,j),he&&(J&&(P=new Array($+1).join("\n")+P),/^(inline|both)$/.test(G)&&(P+="\n//# sourceMappingURL=data:application/json;base64,"+xe.btoa(unescape(encodeURIComponent(JSON.stringify(he))))),P+="\n//# sourceURL="+(z||"paperscript")),{url:z,source:H,code:P,map:he}}function w(P,M,I){o=M;var F,x=M.getView(),S=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(P)&&!/\bnew\s+Tool\b/.test(P)?new Lr:null,E=S?S._events:[],k=["onFrame","onResize"].concat(E),N=[],O=[],B="object"==typeof P?P:b(P,I);function z(Y,J){for(var oe in Y)(J||!/^_/.test(oe))&&new RegExp("([\\b\\s\\W]|^)"+oe.replace(/\$/g,"\\$")+"\\b").test(P)&&(N.push(oe),O.push(Y[oe]))}P=B.code,z({__$__:m,$__:v,paper:M,tool:S},!0),z(M),P="var module = { exports: {} }; "+P,($=ne.each(k,function(Y){new RegExp("\\s+"+Y+"\\b").test(P)&&(N.push(Y),this.push("module.exports."+Y+" = "+Y+";"))},[]).join("\n"))&&(P+="\n"+$),P+="\nreturn module.exports;";var G=o.agent;if(ee&&(G.chrome||G.firefox&&G.versionNumber<40)){var j=ee.createElement("script"),H=ee.head||ee.getElementsByTagName("head")[0];G.firefox&&(P="\n"+P),j.appendChild(ee.createTextNode("document.__paperscript__ = function("+N+") {"+P+"\n}")),H.appendChild(j),F=ee.__paperscript__,delete ee.__paperscript__,H.removeChild(j)}else F=Function(N,P);var $,K=($=F&&F.apply(M,O))||{};return ne.each(E,function(Y){var J=K[Y];J&&(S[Y]=J)}),x&&(K.onResize&&x.setOnResize(K.onResize),x.emit("resize",{size:x.size,delta:new ie}),K.onFrame&&x.setOnFrame(K.onFrame),x.requestUpdate()),$}function C(P){if(/^text\/(?:x-|)paperscript$/.test(P.type)&&"true"!==yn.getAttribute(P,"ignore")){var M=yn.getAttribute(P,"canvas"),I=ee.getElementById(M),x=P.src||P.getAttribute("data-src"),S=yn.hasAttribute(P,"async"),E="data-paper-scope";if(!I)throw new Error('Unable to find canvas with id "'+M+'"');var k=yn.get(I.getAttribute(E))||(new yn).setup(I);return I.setAttribute(E,k._id),x?zt.request({url:x,async:S,mimeType:"text/plain",onLoad:function(N){w(N,k,x)}}):w(P.innerHTML,k,P.baseURI),P.setAttribute("data-paper-ignore","true"),k}}function D(){ne.each(ee&&ee.getElementsByTagName("script"),C)}return ie.inject(g),Ee.inject(g),Kt.inject(g),Ct&&("complete"===ee.readyState?setTimeout(D):yt.add(Ct,{load:D})),{compile:b,execute:w,load:function R(P){return P?C(P):D()},parse:h,calculateBinary:m,calculateUnary:v}}.call(this);var o=new(yn.inject(ne.exports,{Base:ne,Numerical:ot,Key:_i,DomEvent:yt,DomElement:bt,document:ee,window:Ct,Symbol:tn,PlacedSymbol:si}));return o.agent.node&&Bt(858)(o),(Di="function"==typeof(Bn=o)?Bn.call(vr,Bt,vr,$i):Bn)!==De&&($i.exports=Di),o}).call(this,"object"==typeof self?self:null)},858:()=>{},158:()=>{}},$i=>{$i($i.s=813)}]);